var KO=Object.defineProperty;var XO=(n,e,t)=>e in n?KO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var be=(n,e,t)=>XO(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function ZO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cv={exports:{}},ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hA;function JO(){if(hA)return ju;hA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var c in s)c!=="key"&&(r[c]=s[c])}else r=s;return s=r.ref,{$$typeof:n,type:i,key:o,ref:s!==void 0?s:null,props:r}}return ju.Fragment=e,ju.jsx=t,ju.jsxs=t,ju}var dA;function e2(){return dA||(dA=1,cv.exports=JO()),cv.exports}var E=e2(),uv={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA;function t2(){if(fA)return Pe;fA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function A(F,se,ue){this.props=F,this.context=se,this.refs=x,this.updater=ue||_}A.prototype.isReactComponent={},A.prototype.setState=function(F,se){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,se,"setState")},A.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function D(){}D.prototype=A.prototype;function O(F,se,ue){this.props=F,this.context=se,this.refs=x,this.updater=ue||_}var j=O.prototype=new D;j.constructor=O,w(j,A.prototype),j.isPureReactComponent=!0;var H=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function M(F,se,ue,he,pe,Ie){return ue=Ie.ref,{$$typeof:n,type:F,key:se,ref:ue!==void 0?ue:null,props:Ie}}function C(F,se){return M(F.type,se,void 0,void 0,void 0,F.props)}function k(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function P(F){var se={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ue){return se[ue]})}var V=/\/+/g;function U(F,se){return typeof F=="object"&&F!==null&&F.key!=null?P(""+F.key):se.toString(36)}function L(){}function we(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(L,L):(F.status="pending",F.then(function(se){F.status==="pending"&&(F.status="fulfilled",F.value=se)},function(se){F.status==="pending"&&(F.status="rejected",F.reason=se)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function ve(F,se,ue,he,pe){var Ie=typeof F;(Ie==="undefined"||Ie==="boolean")&&(F=null);var Ee=!1;if(F===null)Ee=!0;else switch(Ie){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(F.$$typeof){case n:case e:Ee=!0;break;case g:return Ee=F._init,ve(Ee(F._payload),se,ue,he,pe)}}if(Ee)return pe=pe(F),Ee=he===""?"."+U(F,0):he,H(pe)?(ue="",Ee!=null&&(ue=Ee.replace(V,"$&/")+"/"),ve(pe,se,ue,"",function($n){return $n})):pe!=null&&(k(pe)&&(pe=C(pe,ue+(pe.key==null||F&&F.key===pe.key?"":(""+pe.key).replace(V,"$&/")+"/")+Ee)),se.push(pe)),1;Ee=0;var Je=he===""?".":he+":";if(H(F))for(var lt=0;lt<F.length;lt++)he=F[lt],Ie=Je+U(he,lt),Ee+=ve(he,se,ue,Ie,pe);else if(lt=b(F),typeof lt=="function")for(F=lt.call(F),lt=0;!(he=F.next()).done;)he=he.value,Ie=Je+U(he,lt++),Ee+=ve(he,se,ue,Ie,pe);else if(Ie==="object"){if(typeof F.then=="function")return ve(we(F),se,ue,he,pe);throw se=String(F),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function K(F,se,ue){if(F==null)return F;var he=[],pe=0;return ve(F,he,"","",function(Ie){return se.call(ue,Ie,pe++)}),he}function ce(F){if(F._status===-1){var se=F._result;se=se(),se.then(function(ue){(F._status===0||F._status===-1)&&(F._status=1,F._result=ue)},function(ue){(F._status===0||F._status===-1)&&(F._status=2,F._result=ue)}),F._status===-1&&(F._status=0,F._result=se)}if(F._status===1)return F._result.default;throw F._result}var fe=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function _e(){}return Pe.Children={map:K,forEach:function(F,se,ue){K(F,function(){se.apply(this,arguments)},ue)},count:function(F){var se=0;return K(F,function(){se++}),se},toArray:function(F){return K(F,function(se){return se})||[]},only:function(F){if(!k(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Pe.Component=A,Pe.Fragment=t,Pe.Profiler=s,Pe.PureComponent=O,Pe.StrictMode=i,Pe.Suspense=h,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(F){return q.H.useMemoCache(F)}},Pe.cache=function(F){return function(){return F.apply(null,arguments)}},Pe.cloneElement=function(F,se,ue){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var he=w({},F.props),pe=F.key,Ie=void 0;if(se!=null)for(Ee in se.ref!==void 0&&(Ie=void 0),se.key!==void 0&&(pe=""+se.key),se)!X.call(se,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&se.ref===void 0||(he[Ee]=se[Ee]);var Ee=arguments.length-2;if(Ee===1)he.children=ue;else if(1<Ee){for(var Je=Array(Ee),lt=0;lt<Ee;lt++)Je[lt]=arguments[lt+2];he.children=Je}return M(F.type,pe,void 0,void 0,Ie,he)},Pe.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:r,_context:F},F},Pe.createElement=function(F,se,ue){var he,pe={},Ie=null;if(se!=null)for(he in se.key!==void 0&&(Ie=""+se.key),se)X.call(se,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(pe[he]=se[he]);var Ee=arguments.length-2;if(Ee===1)pe.children=ue;else if(1<Ee){for(var Je=Array(Ee),lt=0;lt<Ee;lt++)Je[lt]=arguments[lt+2];pe.children=Je}if(F&&F.defaultProps)for(he in Ee=F.defaultProps,Ee)pe[he]===void 0&&(pe[he]=Ee[he]);return M(F,Ie,void 0,void 0,null,pe)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(F){return{$$typeof:c,render:F}},Pe.isValidElement=k,Pe.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:ce}},Pe.memo=function(F,se){return{$$typeof:d,type:F,compare:se===void 0?null:se}},Pe.startTransition=function(F){var se=q.T,ue={};q.T=ue;try{var he=F(),pe=q.S;pe!==null&&pe(ue,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(_e,fe)}catch(Ie){fe(Ie)}finally{q.T=se}},Pe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Pe.use=function(F){return q.H.use(F)},Pe.useActionState=function(F,se,ue){return q.H.useActionState(F,se,ue)},Pe.useCallback=function(F,se){return q.H.useCallback(F,se)},Pe.useContext=function(F){return q.H.useContext(F)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(F,se){return q.H.useDeferredValue(F,se)},Pe.useEffect=function(F,se,ue){var he=q.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(F,se)},Pe.useId=function(){return q.H.useId()},Pe.useImperativeHandle=function(F,se,ue){return q.H.useImperativeHandle(F,se,ue)},Pe.useInsertionEffect=function(F,se){return q.H.useInsertionEffect(F,se)},Pe.useLayoutEffect=function(F,se){return q.H.useLayoutEffect(F,se)},Pe.useMemo=function(F,se){return q.H.useMemo(F,se)},Pe.useOptimistic=function(F,se){return q.H.useOptimistic(F,se)},Pe.useReducer=function(F,se,ue){return q.H.useReducer(F,se,ue)},Pe.useRef=function(F){return q.H.useRef(F)},Pe.useState=function(F){return q.H.useState(F)},Pe.useSyncExternalStore=function(F,se,ue){return q.H.useSyncExternalStore(F,se,ue)},Pe.useTransition=function(){return q.H.useTransition()},Pe.version="19.1.0",Pe}var gA;function a_(){return gA||(gA=1,uv.exports=t2()),uv.exports}var B=a_();const Si=ZO(B);var hv={exports:{}},Lu={},dv={exports:{}},fv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA;function n2(){return pA||(pA=1,function(n){function e(K,ce){var fe=K.length;K.push(ce);e:for(;0<fe;){var _e=fe-1>>>1,F=K[_e];if(0<s(F,ce))K[_e]=ce,K[fe]=F,fe=_e;else break e}}function t(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ce=K[0],fe=K.pop();if(fe!==ce){K[0]=fe;e:for(var _e=0,F=K.length,se=F>>>1;_e<se;){var ue=2*(_e+1)-1,he=K[ue],pe=ue+1,Ie=K[pe];if(0>s(he,fe))pe<F&&0>s(Ie,he)?(K[_e]=Ie,K[pe]=fe,_e=pe):(K[_e]=he,K[ue]=fe,_e=ue);else if(pe<F&&0>s(Ie,fe))K[_e]=Ie,K[pe]=fe,_e=pe;else break e}}return ce}function s(K,ce){var fe=K.sortIndex-ce.sortIndex;return fe!==0?fe:K.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var h=[],d=[],g=1,y=null,b=3,_=!1,w=!1,x=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function H(K){for(var ce=t(d);ce!==null;){if(ce.callback===null)i(d);else if(ce.startTime<=K)i(d),ce.sortIndex=ce.expirationTime,e(h,ce);else break;ce=t(d)}}function q(K){if(x=!1,H(K),!w)if(t(h)!==null)w=!0,X||(X=!0,U());else{var ce=t(d);ce!==null&&ve(q,ce.startTime-K)}}var X=!1,M=-1,C=5,k=-1;function P(){return A?!0:!(n.unstable_now()-k<C)}function V(){if(A=!1,X){var K=n.unstable_now();k=K;var ce=!0;try{e:{w=!1,x&&(x=!1,O(M),M=-1),_=!0;var fe=b;try{t:{for(H(K),y=t(h);y!==null&&!(y.expirationTime>K&&P());){var _e=y.callback;if(typeof _e=="function"){y.callback=null,b=y.priorityLevel;var F=_e(y.expirationTime<=K);if(K=n.unstable_now(),typeof F=="function"){y.callback=F,H(K),ce=!0;break t}y===t(h)&&i(h),H(K)}else i(h);y=t(h)}if(y!==null)ce=!0;else{var se=t(d);se!==null&&ve(q,se.startTime-K),ce=!1}}break e}finally{y=null,b=fe,_=!1}ce=void 0}}finally{ce?U():X=!1}}}var U;if(typeof j=="function")U=function(){j(V)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,we=L.port2;L.port1.onmessage=V,U=function(){we.postMessage(null)}}else U=function(){D(V,0)};function ve(K,ce){M=D(function(){K(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ce=3;break;default:ce=b}var fe=b;b=ce;try{return K()}finally{b=fe}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(K,ce){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var fe=b;b=K;try{return ce()}finally{b=fe}},n.unstable_scheduleCallback=function(K,ce,fe){var _e=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?_e+fe:_e):fe=_e,K){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=fe+F,K={id:g++,callback:ce,priorityLevel:K,startTime:fe,expirationTime:F,sortIndex:-1},fe>_e?(K.sortIndex=fe,e(d,K),t(h)===null&&K===t(d)&&(x?(O(M),M=-1):x=!0,ve(q,fe-_e))):(K.sortIndex=F,e(h,K),w||_||(w=!0,X||(X=!0,U()))),K},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(K){var ce=b;return function(){var fe=b;b=ce;try{return K.apply(this,arguments)}finally{b=fe}}}}(fv)),fv}var mA;function i2(){return mA||(mA=1,dv.exports=n2()),dv.exports}var gv={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yA;function s2(){if(yA)return Sn;yA=1;var n=a_();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(h,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:d,implementation:g}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Sn.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return r(h,d,null,g)},Sn.flushSync=function(h){var d=o.T,g=i.p;try{if(o.T=null,i.p=2,h)return h()}finally{o.T=d,i.p=g,i.d.f()}},Sn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},Sn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Sn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,y=c(g,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:_}):g==="script"&&i.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Sn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},Sn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=c(g,d.crossOrigin);i.d.L(h,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Sn.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=c(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},Sn.requestFormReset=function(h){i.d.r(h)},Sn.unstable_batchedUpdates=function(h,d){return h(d)},Sn.useFormState=function(h,d,g){return o.H.useFormState(h,d,g)},Sn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Sn.version="19.1.0",Sn}var vA;function NC(){if(vA)return gv.exports;vA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gv.exports=s2(),gv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bA;function r2(){if(bA)return Lu;bA=1;var n=i2(),e=a_(),t=NC();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function r(a){var l=a,u=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(u=l.return),a=l.return;while(a)}return l.tag===3?u:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(r(a)!==a)throw Error(i(188))}function h(a){var l=a.alternate;if(!l){if(l=r(a),l===null)throw Error(i(188));return l!==a?null:a}for(var u=a,f=l;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return c(m),a;if(v===f)return c(m),l;v=v.sibling}throw Error(i(188))}if(u.return!==f.return)u=m,f=v;else{for(var R=!1,I=m.child;I;){if(I===u){R=!0,u=m,f=v;break}if(I===f){R=!0,f=m,u=v;break}I=I.sibling}if(!R){for(I=v.child;I;){if(I===u){R=!0,u=v,f=m;break}if(I===f){R=!0,f=v,u=m;break}I=I.sibling}if(!R)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?a:l}function d(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=d(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),j=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var L=Symbol.for("react.client.reference");function we(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===L?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case A:return"Profiler";case x:return"StrictMode";case q:return"Suspense";case X:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case j:return(a.displayName||"Context")+".Provider";case O:return(a._context.displayName||"Context")+".Consumer";case H:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return l=a.displayName||null,l!==null?l:we(a.type)||"Memo";case C:l=a._payload,a=a._init;try{return we(a(l))}catch{}}return null}var ve=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},_e=[],F=-1;function se(a){return{current:a}}function ue(a){0>F||(a.current=_e[F],_e[F]=null,F--)}function he(a,l){F++,_e[F]=a.current,a.current=l}var pe=se(null),Ie=se(null),Ee=se(null),Je=se(null);function lt(a,l){switch(he(Ee,l),he(Ie,a),he(pe,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?Uw(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=Uw(l),a=zw(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ue(pe),he(pe,a)}function $n(){ue(pe),ue(Ie),ue(Ee)}function Yi(a){a.memoizedState!==null&&he(Je,a);var l=pe.current,u=zw(l,a.type);l!==u&&(he(Ie,a),he(pe,u))}function Di(a){Ie.current===a&&(ue(pe),ue(Ie)),Je.current===a&&(ue(Je),ku._currentValue=fe)}var xs=Object.prototype.hasOwnProperty,Ne=n.unstable_scheduleCallback,Nn=n.unstable_cancelCallback,wt=n.unstable_shouldYield,Bt=n.unstable_requestPaint,yt=n.unstable_now,Da=n.unstable_getCurrentPriorityLevel,Ts=n.unstable_ImmediatePriority,Er=n.unstable_UserBlockingPriority,Ia=n.unstable_NormalPriority,um=n.unstable_LowPriority,Ko=n.unstable_IdlePriority,Ic=n.log,od=n.unstable_setDisableYieldValue,It=null,st=null;function Qn(a){if(typeof Ic=="function"&&od(a),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(It,a)}catch{}}var _n=Math.clz32?Math.clz32:ka,ld=Math.log,hm=Math.LN2;function ka(a){return a>>>=0,a===0?32:31-(ld(a)/hm|0)|0}var Na=256,Ma=4194304;function Ii(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Xo(a,l,u){var f=a.pendingLanes;if(f===0)return 0;var m=0,v=a.suspendedLanes,R=a.pingedLanes;a=a.warmLanes;var I=f&134217727;return I!==0?(f=I&~v,f!==0?m=Ii(f):(R&=I,R!==0?m=Ii(R):u||(u=I&~a,u!==0&&(m=Ii(u))))):(I=f&~v,I!==0?m=Ii(I):R!==0?m=Ii(R):u||(u=f&~a,u!==0&&(m=Ii(u)))),m===0?0:l!==0&&l!==m&&(l&v)===0&&(v=m&-m,u=l&-l,v>=u||v===32&&(u&4194048)!==0)?l:m}function Oa(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function kc(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nc(){var a=Na;return Na<<=1,(Na&4194048)===0&&(Na=256),a}function Mc(){var a=Ma;return Ma<<=1,(Ma&62914560)===0&&(Ma=4194304),a}function Rs(a){for(var l=[],u=0;31>u;u++)l.push(a);return l}function Cs(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Oc(a,l,u,f,m,v){var R=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var I=a.entanglements,z=a.expirationTimes,Q=a.hiddenUpdates;for(u=R&~u;0<u;){var ie=31-_n(u),ae=1<<ie;I[ie]=0,z[ie]=-1;var Z=Q[ie];if(Z!==null)for(Q[ie]=null,ie=0;ie<Z.length;ie++){var J=Z[ie];J!==null&&(J.lane&=-536870913)}u&=~ae}f!==0&&$i(a,f,0),v!==0&&m===0&&a.tag!==0&&(a.suspendedLanes|=v&~(R&~l))}function $i(a,l,u){a.pendingLanes|=l,a.suspendedLanes&=~l;var f=31-_n(l);a.entangledLanes|=l,a.entanglements[f]=a.entanglements[f]|1073741824|u&4194090}function Pc(a,l){var u=a.entangledLanes|=l;for(a=a.entanglements;u;){var f=31-_n(u),m=1<<f;m&l|a[f]&l&&(a[f]|=l),u&=~m}}function Sr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Zo(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function wr(){var a=ce.p;return a!==0?a:(a=window.event,a===void 0?32:rA(a.type))}function cd(a,l){var u=ce.p;try{return ce.p=a,l()}finally{ce.p=u}}var vt=Math.random().toString(36).slice(2),$t="__reactFiber$"+vt,Ht="__reactProps$"+vt,oi="__reactContainer$"+vt,jc="__reactEvents$"+vt,dm="__reactListeners$"+vt,Ar="__reactHandles$"+vt,ud="__reactResources$"+vt,Pa="__reactMarker$"+vt;function xr(a){delete a[$t],delete a[Ht],delete a[jc],delete a[dm],delete a[Ar]}function Ds(a){var l=a[$t];if(l)return l;for(var u=a.parentNode;u;){if(l=u[oi]||u[$t]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(a=qw(a);a!==null;){if(u=a[$t])return u;a=qw(a)}return l}a=u,u=a.parentNode}return null}function Qi(a){if(a=a[$t]||a[oi]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Ki(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function Mn(a){var l=a[ud];return l||(l=a[ud]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function jt(a){a[Pa]=!0}var Lc=new Set,Jo={};function ki(a,l){Is(a,l),Is(a+"Capture",l)}function Is(a,l){for(Jo[a]=l,a=0;a<l.length;a++)Lc.add(l[a])}var hd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dd={},ja={};function fd(a){return xs.call(ja,a)?!0:xs.call(dd,a)?!1:hd.test(a)?ja[a]=!0:(dd[a]=!0,!1)}function Tr(a,l,u){if(fd(l))if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+u)}}function Xi(a,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+u)}}function hn(a,l,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(l,u,""+f)}}var La,gd;function ks(a){if(La===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);La=l&&l[1]||"",gd=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+La+a+gd}var el=!1;function tl(a,l){if(!a||el)return"";el=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var Z=J}Reflect.construct(a,[],ae)}else{try{ae.call()}catch(J){Z=J}a.call(ae.prototype)}}else{try{throw Error()}catch(J){Z=J}(ae=a())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),R=v[0],I=v[1];if(R&&I){var z=R.split(`
`),Q=I.split(`
`);for(m=f=0;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(f===z.length||m===Q.length)for(f=z.length-1,m=Q.length-1;1<=f&&0<=m&&z[f]!==Q[m];)m--;for(;1<=f&&0<=m;f--,m--)if(z[f]!==Q[m]){if(f!==1||m!==1)do if(f--,m--,0>m||z[f]!==Q[m]){var ie=`
`+z[f].replace(" at new "," at ");return a.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",a.displayName)),ie}while(1<=f&&0<=m);break}}}finally{el=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?ks(u):""}function Vc(a){switch(a.tag){case 26:case 27:case 5:return ks(a.type);case 16:return ks("Lazy");case 13:return ks("Suspense");case 19:return ks("SuspenseList");case 0:case 15:return tl(a.type,!1);case 11:return tl(a.type.render,!1);case 1:return tl(a.type,!0);case 31:return ks("Activity");default:return""}}function nl(a){try{var l="";do l+=Vc(a),a=a.return;while(a);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function On(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Uc(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function fm(a){var l=Uc(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),f=""+a[l];if(!a.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return m.call(this)},set:function(R){f=""+R,v.call(this,R)}}),Object.defineProperty(a,l,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function il(a){a._valueTracker||(a._valueTracker=fm(a))}function zc(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var u=l.getValue(),f="";return a&&(f=Uc(a)?a.checked?"true":"false":a.value),a=f,a!==u?(l.setValue(a),!0):!1}function Va(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var gm=/[\n"\\]/g;function Ft(a){return a.replace(gm,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Kn(a,l,u,f,m,v,R,I){a.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.type=R:a.removeAttribute("type"),l!=null?R==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+On(l)):a.value!==""+On(l)&&(a.value=""+On(l)):R!=="submit"&&R!=="reset"||a.removeAttribute("value"),l!=null?Rr(a,R,On(l)):u!=null?Rr(a,R,On(u)):f!=null&&a.removeAttribute("value"),m==null&&v!=null&&(a.defaultChecked=!!v),m!=null&&(a.checked=m&&typeof m!="function"&&typeof m!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.name=""+On(I):a.removeAttribute("name")}function Ua(a,l,u,f,m,v,R,I){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),l!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||l!=null))return;u=u!=null?""+On(u):"",l=l!=null?""+On(l):u,I||l===a.value||(a.value=l),a.defaultValue=l}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=I?a.checked:!!f,a.defaultChecked=!!f,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(a.name=R)}function Rr(a,l,u){l==="number"&&Va(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Ns(a,l,u,f){if(a=a.options,l){l={};for(var m=0;m<u.length;m++)l["$"+u[m]]=!0;for(u=0;u<a.length;u++)m=l.hasOwnProperty("$"+a[u].value),a[u].selected!==m&&(a[u].selected=m),m&&f&&(a[u].defaultSelected=!0)}else{for(u=""+On(u),l=null,m=0;m<a.length;m++){if(a[m].value===u){a[m].selected=!0,f&&(a[m].defaultSelected=!0);return}l!==null||a[m].disabled||(l=a[m])}l!==null&&(l.selected=!0)}}function ct(a,l,u){if(l!=null&&(l=""+On(l),l!==a.value&&(a.value=l),u==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=u!=null?""+On(u):""}function za(a,l,u,f){if(l==null){if(f!=null){if(u!=null)throw Error(i(92));if(ve(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),l=u}u=On(l),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f)}function li(a,l){if(l){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=l;return}}a.textContent=l}var Ba=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pd(a,l,u){var f=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":f?a.setProperty(l,u):typeof u!="number"||u===0||Ba.has(l)?l==="float"?a.cssFloat=u:a[l]=(""+u).trim():a[l]=u+"px"}function Bc(a,l,u){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var m in l)f=l[m],l.hasOwnProperty(m)&&u[m]!==f&&pd(a,m,f)}else for(var v in l)l.hasOwnProperty(v)&&pd(a,v,l[v])}function Hc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sl(a){return mm.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Ms=null;function ci(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Os=null,Ps=null;function Fc(a){var l=Qi(a);if(l&&(a=l.stateNode)){var u=a[Ht]||null;e:switch(a=l.stateNode,l.type){case"input":if(Kn(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ft(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var f=u[l];if(f!==a&&f.form===a.form){var m=f[Ht]||null;if(!m)throw Error(i(90));Kn(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(l=0;l<u.length;l++)f=u[l],f.form===a.form&&zc(f)}break e;case"textarea":ct(a,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Ns(a,!!u.multiple,l,!1)}}}var Zi=!1;function md(a,l,u){if(Zi)return a(l,u);Zi=!0;try{var f=a(l);return f}finally{if(Zi=!1,(Os!==null||Ps!==null)&&(uf(),Os&&(l=Os,a=Ps,Ps=Os=null,Fc(l),a)))for(l=0;l<a.length;l++)Fc(a[l])}}function Ha(a,l){var u=a.stateNode;if(u===null)return null;var f=u[Ht]||null;if(f===null)return null;u=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(i(231,l,typeof u));return u}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ui=!1;if(Ni)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){ui=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{ui=!1}var Ji=null,Cr=null,js=null;function qc(){if(js)return js;var a,l=Cr,u=l.length,f,m="value"in Ji?Ji.value:Ji.textContent,v=m.length;for(a=0;a<u&&l[a]===m[a];a++);var R=u-a;for(f=1;f<=R&&l[u-f]===m[v-f];f++);return js=m.slice(a,1<f?1-f:void 0)}function es(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function ts(){return!0}function Gc(){return!1}function sn(a){function l(u,f,m,v,R){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=R,this.currentTarget=null;for(var I in a)a.hasOwnProperty(I)&&(u=a[I],this[I]=u?u(v):v[I]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ts:Gc,this.isPropagationStopped=Gc,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),l}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=sn(et),qa=g({},et,{view:0,detail:0}),yd=sn(qa),al,ol,ns,Ga=g({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ns&&(ns&&a.type==="mousemove"?(al=a.screenX-ns.screenX,ol=a.screenY-ns.screenY):ol=al=0,ns=a),al)},movementY:function(a){return"movementY"in a?a.movementY:ol}}),hi=sn(Ga),vd=g({},Ga,{dataTransfer:0}),ym=sn(vd),Wa=g({},qa,{relatedTarget:0}),ll=sn(Wa),Wc=g({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),cl=sn(Wc),bd=g({},et,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ul=sn(bd),vm=g({},et,{data:0}),Yc=sn(vm),Ya={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_d={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ed={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $c(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Ed[a])?!!l[a]:!1}function $a(){return $c}var Sd=g({},qa,{key:function(a){if(a.key){var l=Ya[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=es(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_d[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(a){return a.type==="keypress"?es(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?es(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),hl=sn(Sd),wd=g({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=sn(wd),Ls=g({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),Ad=sn(Ls),xd=g({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),Td=sn(xd),Rd=g({},Ga,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),dl=sn(Rd),Pn=g({},et,{newState:0,oldState:0}),Cd=sn(Pn),Dd=[9,13,27,32],is=Ni&&"CompositionEvent"in window,p=null;Ni&&"documentMode"in document&&(p=document.documentMode);var S=Ni&&"TextEvent"in window&&!p,T=Ni&&(!is||p&&8<p&&11>=p),N=" ",Y=!1;function ne(a,l){switch(a){case"keyup":return Dd.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var qe=!1;function Qt(a,l){switch(a){case"compositionend":return de(l);case"keypress":return l.which!==32?null:(Y=!0,N);case"textInput":return a=l.data,a===N&&Y?null:a;default:return null}}function Ge(a,l){if(qe)return a==="compositionend"||!is&&ne(a,l)?(a=qc(),js=Cr=Ji=null,qe=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return T&&l.locale!=="ko"?null:l.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!rn[a.type]:l==="textarea"}function Vs(a,l,u,f){Os?Ps?Ps.push(f):Ps=[f]:Os=f,l=mf(l,"onChange"),0<l.length&&(u=new rl("onChange","change",null,u,f),a.push({event:u,listeners:l}))}var dn=null,ss=null;function Kc(a){Ow(a,0)}function Id(a){var l=Ki(a);if(zc(l))return a}function tE(a,l){if(a==="change")return l}var nE=!1;if(Ni){var bm;if(Ni){var _m="oninput"in document;if(!_m){var iE=document.createElement("div");iE.setAttribute("oninput","return;"),_m=typeof iE.oninput=="function"}bm=_m}else bm=!1;nE=bm&&(!document.documentMode||9<document.documentMode)}function sE(){dn&&(dn.detachEvent("onpropertychange",rE),ss=dn=null)}function rE(a){if(a.propertyName==="value"&&Id(ss)){var l=[];Vs(l,ss,a,ci(a)),md(Kc,l)}}function TM(a,l,u){a==="focusin"?(sE(),dn=l,ss=u,dn.attachEvent("onpropertychange",rE)):a==="focusout"&&sE()}function RM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Id(ss)}function CM(a,l){if(a==="click")return Id(l)}function DM(a,l){if(a==="input"||a==="change")return Id(l)}function IM(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Xn=typeof Object.is=="function"?Object.is:IM;function Xc(a,l){if(Xn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var u=Object.keys(a),f=Object.keys(l);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!xs.call(l,m)||!Xn(a[m],l[m]))return!1}return!0}function aE(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function oE(a,l){var u=aE(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=l&&f>=l)return{node:u,offset:l-a};a=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=aE(u)}}function lE(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?lE(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function cE(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Va(a.document);l instanceof a.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)a=l.contentWindow;else break;l=Va(a.document)}return l}function Em(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var kM=Ni&&"documentMode"in document&&11>=document.documentMode,fl=null,Sm=null,Zc=null,wm=!1;function uE(a,l,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;wm||fl==null||fl!==Va(f)||(f=fl,"selectionStart"in f&&Em(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Zc&&Xc(Zc,f)||(Zc=f,f=mf(Sm,"onSelect"),0<f.length&&(l=new rl("onSelect","select",null,l,u),a.push({event:l,listeners:f}),l.target=fl)))}function Qa(a,l){var u={};return u[a.toLowerCase()]=l.toLowerCase(),u["Webkit"+a]="webkit"+l,u["Moz"+a]="moz"+l,u}var gl={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},Am={},hE={};Ni&&(hE=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function Ka(a){if(Am[a])return Am[a];if(!gl[a])return a;var l=gl[a],u;for(u in l)if(l.hasOwnProperty(u)&&u in hE)return Am[a]=l[u];return a}var dE=Ka("animationend"),fE=Ka("animationiteration"),gE=Ka("animationstart"),NM=Ka("transitionrun"),MM=Ka("transitionstart"),OM=Ka("transitioncancel"),pE=Ka("transitionend"),mE=new Map,xm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xm.push("scrollEnd");function Mi(a,l){mE.set(a,l),ki(l,[a])}var yE=new WeakMap;function di(a,l){if(typeof a=="object"&&a!==null){var u=yE.get(a);return u!==void 0?u:(l={value:a,source:l,stack:nl(l)},yE.set(a,l),l)}return{value:a,source:l,stack:nl(l)}}var fi=[],pl=0,Tm=0;function kd(){for(var a=pl,l=Tm=pl=0;l<a;){var u=fi[l];fi[l++]=null;var f=fi[l];fi[l++]=null;var m=fi[l];fi[l++]=null;var v=fi[l];if(fi[l++]=null,f!==null&&m!==null){var R=f.pending;R===null?m.next=m:(m.next=R.next,R.next=m),f.pending=m}v!==0&&vE(u,m,v)}}function Nd(a,l,u,f){fi[pl++]=a,fi[pl++]=l,fi[pl++]=u,fi[pl++]=f,Tm|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Rm(a,l,u,f){return Nd(a,l,u,f),Md(a)}function ml(a,l){return Nd(a,null,null,l),Md(a)}function vE(a,l,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var m=!1,v=a.return;v!==null;)v.childLanes|=u,f=v.alternate,f!==null&&(f.childLanes|=u),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(m=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,m&&l!==null&&(m=31-_n(u),a=v.hiddenUpdates,f=a[m],f===null?a[m]=[l]:f.push(l),l.lane=u|536870912),v):null}function Md(a){if(50<wu)throw wu=0,My=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var yl={};function PM(a,l,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(a,l,u,f){return new PM(a,l,u,f)}function Cm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Us(a,l){var u=a.alternate;return u===null?(u=Zn(a.tag,l,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=l,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,l=a.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function bE(a,l){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,l=u.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Od(a,l,u,f,m,v){var R=0;if(f=a,typeof a=="function")Cm(a)&&(R=1);else if(typeof a=="string")R=LO(a,u,pe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=Zn(31,u,l,m),a.elementType=k,a.lanes=v,a;case w:return Xa(u.children,m,v,l);case x:R=8,m|=24;break;case A:return a=Zn(12,u,l,m|2),a.elementType=A,a.lanes=v,a;case q:return a=Zn(13,u,l,m),a.elementType=q,a.lanes=v,a;case X:return a=Zn(19,u,l,m),a.elementType=X,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:case j:R=10;break e;case O:R=9;break e;case H:R=11;break e;case M:R=14;break e;case C:R=16,f=null;break e}R=29,u=Error(i(130,a===null?"null":typeof a,"")),f=null}return l=Zn(R,u,l,m),l.elementType=a,l.type=f,l.lanes=v,l}function Xa(a,l,u,f){return a=Zn(7,a,f,l),a.lanes=u,a}function Dm(a,l,u){return a=Zn(6,a,null,l),a.lanes=u,a}function Im(a,l,u){return l=Zn(4,a.children!==null?a.children:[],a.key,l),l.lanes=u,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var vl=[],bl=0,Pd=null,jd=0,gi=[],pi=0,Za=null,zs=1,Bs="";function Ja(a,l){vl[bl++]=jd,vl[bl++]=Pd,Pd=a,jd=l}function _E(a,l,u){gi[pi++]=zs,gi[pi++]=Bs,gi[pi++]=Za,Za=a;var f=zs;a=Bs;var m=32-_n(f)-1;f&=~(1<<m),u+=1;var v=32-_n(l)+m;if(30<v){var R=m-m%5;v=(f&(1<<R)-1).toString(32),f>>=R,m-=R,zs=1<<32-_n(l)+m|u<<m|f,Bs=v+a}else zs=1<<v|u<<m|f,Bs=a}function km(a){a.return!==null&&(Ja(a,1),_E(a,1,0))}function Nm(a){for(;a===Pd;)Pd=vl[--bl],vl[bl]=null,jd=vl[--bl],vl[bl]=null;for(;a===Za;)Za=gi[--pi],gi[pi]=null,Bs=gi[--pi],gi[pi]=null,zs=gi[--pi],gi[pi]=null}var jn=null,kt=null,Ke=!1,eo=null,rs=!1,Mm=Error(i(519));function to(a){var l=Error(i(418,""));throw tu(di(l,a)),Mm}function EE(a){var l=a.stateNode,u=a.type,f=a.memoizedProps;switch(l[$t]=a,l[Ht]=f,u){case"dialog":ze("cancel",l),ze("close",l);break;case"iframe":case"object":case"embed":ze("load",l);break;case"video":case"audio":for(u=0;u<xu.length;u++)ze(xu[u],l);break;case"source":ze("error",l);break;case"img":case"image":case"link":ze("error",l),ze("load",l);break;case"details":ze("toggle",l);break;case"input":ze("invalid",l),Ua(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),il(l);break;case"select":ze("invalid",l);break;case"textarea":ze("invalid",l),za(l,f.value,f.defaultValue,f.children),il(l)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||f.suppressHydrationWarning===!0||Vw(l.textContent,u)?(f.popover!=null&&(ze("beforetoggle",l),ze("toggle",l)),f.onScroll!=null&&ze("scroll",l),f.onScrollEnd!=null&&ze("scrollend",l),f.onClick!=null&&(l.onclick=yf),l=!0):l=!1,l||to(a)}function SE(a){for(jn=a.return;jn;)switch(jn.tag){case 5:case 13:rs=!1;return;case 27:case 3:rs=!0;return;default:jn=jn.return}}function Jc(a){if(a!==jn)return!1;if(!Ke)return SE(a),Ke=!0,!1;var l=a.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Qy(a.type,a.memoizedProps)),u=!u),u&&kt&&to(a),SE(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(l===0){kt=Pi(a.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;a=a.nextSibling}kt=null}}else l===27?(l=kt,qr(a.type)?(a=Jy,Jy=null,kt=a):kt=l):kt=jn?Pi(a.stateNode.nextSibling):null;return!0}function eu(){kt=jn=null,Ke=!1}function wE(){var a=eo;return a!==null&&(zn===null?zn=a:zn.push.apply(zn,a),eo=null),a}function tu(a){eo===null?eo=[a]:eo.push(a)}var Om=se(null),no=null,Hs=null;function Dr(a,l,u){he(Om,l._currentValue),l._currentValue=u}function Fs(a){a._currentValue=Om.current,ue(Om)}function Pm(a,l,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),a===u)break;a=a.return}}function jm(a,l,u,f){var m=a.child;for(m!==null&&(m.return=a);m!==null;){var v=m.dependencies;if(v!==null){var R=m.child;v=v.firstContext;e:for(;v!==null;){var I=v;v=m;for(var z=0;z<l.length;z++)if(I.context===l[z]){v.lanes|=u,I=v.alternate,I!==null&&(I.lanes|=u),Pm(v.return,u,a),f||(R=null);break e}v=I.next}}else if(m.tag===18){if(R=m.return,R===null)throw Error(i(341));R.lanes|=u,v=R.alternate,v!==null&&(v.lanes|=u),Pm(R,u,a),R=null}else R=m.child;if(R!==null)R.return=m;else for(R=m;R!==null;){if(R===a){R=null;break}if(m=R.sibling,m!==null){m.return=R.return,R=m;break}R=R.return}m=R}}function nu(a,l,u,f){a=null;for(var m=l,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var R=m.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var I=m.type;Xn(m.pendingProps.value,R.value)||(a!==null?a.push(I):a=[I])}}else if(m===Je.current){if(R=m.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(a!==null?a.push(ku):a=[ku])}m=m.return}a!==null&&jm(l,a,u,f),l.flags|=262144}function Ld(a){for(a=a.firstContext;a!==null;){if(!Xn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function io(a){no=a,Hs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function En(a){return AE(no,a)}function Vd(a,l){return no===null&&io(a),AE(a,l)}function AE(a,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Hs===null){if(a===null)throw Error(i(308));Hs=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Hs=Hs.next=l;return u}var jM=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){l.aborted=!0,a.forEach(function(u){return u()})}},LM=n.unstable_scheduleCallback,VM=n.unstable_NormalPriority,Xt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lm(){return{controller:new jM,data:new Map,refCount:0}}function iu(a){a.refCount--,a.refCount===0&&LM(VM,function(){a.controller.abort()})}var su=null,Vm=0,_l=0,El=null;function UM(a,l){if(su===null){var u=su=[];Vm=0,_l=zy(),El={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Vm++,l.then(xE,xE),l}function xE(){if(--Vm===0&&su!==null){El!==null&&(El.status="fulfilled");var a=su;su=null,_l=0,El=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function zM(a,l){var u=[],f={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return a.then(function(){f.status="fulfilled",f.value=l;for(var m=0;m<u.length;m++)(0,u[m])(l)},function(m){for(f.status="rejected",f.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),f}var TE=K.S;K.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&UM(a,l),TE!==null&&TE(a,l)};var so=se(null);function Um(){var a=so.current;return a!==null?a:gt.pooledCache}function Ud(a,l){l===null?he(so,so.current):he(so,l.pool)}function RE(){var a=Um();return a===null?null:{parent:Xt._currentValue,pool:a}}var ru=Error(i(460)),CE=Error(i(474)),zd=Error(i(542)),zm={then:function(){}};function DE(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Bd(){}function IE(a,l,u){switch(u=a[u],u===void 0?a.push(l):u!==l&&(l.then(Bd,Bd),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,NE(a),a;default:if(typeof l.status=="string")l.then(Bd,Bd);else{if(a=gt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(f){if(l.status==="pending"){var m=l;m.status="fulfilled",m.value=f}},function(f){if(l.status==="pending"){var m=l;m.status="rejected",m.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,NE(a),a}throw au=l,ru}}var au=null;function kE(){if(au===null)throw Error(i(459));var a=au;return au=null,a}function NE(a){if(a===ru||a===zd)throw Error(i(483))}var Ir=!1;function Bm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hm(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function kr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Nr(a,l,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(rt&2)!==0){var m=f.pending;return m===null?l.next=l:(l.next=m.next,m.next=l),f.pending=l,l=Md(a),vE(a,null,u),l}return Nd(a,f,l,u),Md(a)}function ou(a,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var f=l.lanes;f&=a.pendingLanes,u|=f,l.lanes=u,Pc(a,u)}}function Fm(a,l){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?m=v=R:v=v.next=R,u=u.next}while(u!==null);v===null?m=v=l:v=v.next=l}else m=v=l;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=l}var qm=!1;function lu(){if(qm){var a=El;if(a!==null)throw a}}function cu(a,l,u,f){qm=!1;var m=a.updateQueue;Ir=!1;var v=m.firstBaseUpdate,R=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var z=I,Q=z.next;z.next=null,R===null?v=Q:R.next=Q,R=z;var ie=a.alternate;ie!==null&&(ie=ie.updateQueue,I=ie.lastBaseUpdate,I!==R&&(I===null?ie.firstBaseUpdate=Q:I.next=Q,ie.lastBaseUpdate=z))}if(v!==null){var ae=m.baseState;R=0,ie=Q=z=null,I=v;do{var Z=I.lane&-536870913,J=Z!==I.lane;if(J?(We&Z)===Z:(f&Z)===Z){Z!==0&&Z===_l&&(qm=!0),ie!==null&&(ie=ie.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ke=a,Te=I;Z=l;var dt=u;switch(Te.tag){case 1:if(ke=Te.payload,typeof ke=="function"){ae=ke.call(dt,ae,Z);break e}ae=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Te.payload,Z=typeof ke=="function"?ke.call(dt,ae,Z):ke,Z==null)break e;ae=g({},ae,Z);break e;case 2:Ir=!0}}Z=I.callback,Z!==null&&(a.flags|=64,J&&(a.flags|=8192),J=m.callbacks,J===null?m.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ie===null?(Q=ie=J,z=ae):ie=ie.next=J,R|=Z;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;J=I,I=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);ie===null&&(z=ae),m.baseState=z,m.firstBaseUpdate=Q,m.lastBaseUpdate=ie,v===null&&(m.shared.lanes=0),zr|=R,a.lanes=R,a.memoizedState=ae}}function ME(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function OE(a,l){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)ME(u[a],l)}var Sl=se(null),Hd=se(0);function PE(a,l){a=Ks,he(Hd,a),he(Sl,l),Ks=a|l.baseLanes}function Gm(){he(Hd,Ks),he(Sl,Sl.current)}function Wm(){Ks=Hd.current,ue(Sl),ue(Hd)}var Mr=0,je=null,ut=null,qt=null,Fd=!1,wl=!1,ro=!1,qd=0,uu=0,Al=null,BM=0;function Lt(){throw Error(i(321))}function Ym(a,l){if(l===null)return!1;for(var u=0;u<l.length&&u<a.length;u++)if(!Xn(a[u],l[u]))return!1;return!0}function $m(a,l,u,f,m,v){return Mr=v,je=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,K.H=a===null||a.memoizedState===null?vS:bS,ro=!1,v=u(f,m),ro=!1,wl&&(v=LE(l,u,f,m)),jE(a),v}function jE(a){K.H=Kd;var l=ut!==null&&ut.next!==null;if(Mr=0,qt=ut=je=null,Fd=!1,uu=0,Al=null,l)throw Error(i(300));a===null||an||(a=a.dependencies,a!==null&&Ld(a)&&(an=!0))}function LE(a,l,u,f){je=a;var m=0;do{if(wl&&(Al=null),uu=0,wl=!1,25<=m)throw Error(i(301));if(m+=1,qt=ut=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}K.H=$M,v=l(u,f)}while(wl);return v}function HM(){var a=K.H,l=a.useState()[0];return l=typeof l.then=="function"?hu(l):l,a=a.useState()[0],(ut!==null?ut.memoizedState:null)!==a&&(je.flags|=1024),l}function Qm(){var a=qd!==0;return qd=0,a}function Km(a,l,u){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~u}function Xm(a){if(Fd){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Fd=!1}Mr=0,qt=ut=je=null,wl=!1,uu=qd=0,Al=null}function Vn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?je.memoizedState=qt=a:qt=qt.next=a,qt}function Gt(){if(ut===null){var a=je.alternate;a=a!==null?a.memoizedState:null}else a=ut.next;var l=qt===null?je.memoizedState:qt.next;if(l!==null)qt=l,ut=a;else{if(a===null)throw je.alternate===null?Error(i(467)):Error(i(310));ut=a,a={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},qt===null?je.memoizedState=qt=a:qt=qt.next=a}return qt}function Zm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hu(a){var l=uu;return uu+=1,Al===null&&(Al=[]),a=IE(Al,a,l),l=je,(qt===null?l.memoizedState:qt.next)===null&&(l=l.alternate,K.H=l===null||l.memoizedState===null?vS:bS),a}function Gd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return hu(a);if(a.$$typeof===j)return En(a)}throw Error(i(438,String(a)))}function Jm(a){var l=null,u=je.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var f=je.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(m){return m.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Zm(),je.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(a),f=0;f<a;f++)u[f]=P;return l.index++,u}function qs(a,l){return typeof l=="function"?l(a):l}function Wd(a){var l=Gt();return ey(l,ut,a)}function ey(a,l,u){var f=a.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var m=a.baseQueue,v=f.pending;if(v!==null){if(m!==null){var R=m.next;m.next=v.next,v.next=R}l.baseQueue=m=v,f.pending=null}if(v=a.baseState,m===null)a.memoizedState=v;else{l=m.next;var I=R=null,z=null,Q=l,ie=!1;do{var ae=Q.lane&-536870913;if(ae!==Q.lane?(We&ae)===ae:(Mr&ae)===ae){var Z=Q.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ae===_l&&(ie=!0);else if((Mr&Z)===Z){Q=Q.next,Z===_l&&(ie=!0);continue}else ae={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(I=z=ae,R=v):z=z.next=ae,je.lanes|=Z,zr|=Z;ae=Q.action,ro&&u(v,ae),v=Q.hasEagerState?Q.eagerState:u(v,ae)}else Z={lane:ae,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(I=z=Z,R=v):z=z.next=Z,je.lanes|=ae,zr|=ae;Q=Q.next}while(Q!==null&&Q!==l);if(z===null?R=v:z.next=I,!Xn(v,a.memoizedState)&&(an=!0,ie&&(u=El,u!==null)))throw u;a.memoizedState=v,a.baseState=R,a.baseQueue=z,f.lastRenderedState=v}return m===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function ty(a){var l=Gt(),u=l.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var f=u.dispatch,m=u.pending,v=l.memoizedState;if(m!==null){u.pending=null;var R=m=m.next;do v=a(v,R.action),R=R.next;while(R!==m);Xn(v,l.memoizedState)||(an=!0),l.memoizedState=v,l.baseQueue===null&&(l.baseState=v),u.lastRenderedState=v}return[v,f]}function VE(a,l,u){var f=je,m=Gt(),v=Ke;if(v){if(u===void 0)throw Error(i(407));u=u()}else u=l();var R=!Xn((ut||m).memoizedState,u);R&&(m.memoizedState=u,an=!0),m=m.queue;var I=BE.bind(null,f,m,a);if(du(2048,8,I,[a]),m.getSnapshot!==l||R||qt!==null&&qt.memoizedState.tag&1){if(f.flags|=2048,xl(9,Yd(),zE.bind(null,f,m,u,l),null),gt===null)throw Error(i(349));v||(Mr&124)!==0||UE(f,l,u)}return u}function UE(a,l,u){a.flags|=16384,a={getSnapshot:l,value:u},l=je.updateQueue,l===null?(l=Zm(),je.updateQueue=l,l.stores=[a]):(u=l.stores,u===null?l.stores=[a]:u.push(a))}function zE(a,l,u,f){l.value=u,l.getSnapshot=f,HE(l)&&FE(a)}function BE(a,l,u){return u(function(){HE(l)&&FE(a)})}function HE(a){var l=a.getSnapshot;a=a.value;try{var u=l();return!Xn(a,u)}catch{return!0}}function FE(a){var l=ml(a,2);l!==null&&ii(l,a,2)}function ny(a){var l=Vn();if(typeof a=="function"){var u=a;if(a=u(),ro){Qn(!0);try{u()}finally{Qn(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:a},l}function qE(a,l,u,f){return a.baseState=u,ey(a,ut,typeof f=="function"?f:qs)}function FM(a,l,u,f,m){if(Qd(a))throw Error(i(485));if(a=l.action,a!==null){var v={payload:m,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){v.listeners.push(R)}};K.T!==null?u(!0):v.isTransition=!1,f(v),u=l.pending,u===null?(v.next=l.pending=v,GE(l,v)):(v.next=u.next,l.pending=u.next=v)}}function GE(a,l){var u=l.action,f=l.payload,m=a.state;if(l.isTransition){var v=K.T,R={};K.T=R;try{var I=u(m,f),z=K.S;z!==null&&z(R,I),WE(a,l,I)}catch(Q){iy(a,l,Q)}finally{K.T=v}}else try{v=u(m,f),WE(a,l,v)}catch(Q){iy(a,l,Q)}}function WE(a,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){YE(a,l,f)},function(f){return iy(a,l,f)}):YE(a,l,u)}function YE(a,l,u){l.status="fulfilled",l.value=u,$E(l),a.state=u,l=a.pending,l!==null&&(u=l.next,u===l?a.pending=null:(u=u.next,l.next=u,GE(a,u)))}function iy(a,l,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=u,$E(l),l=l.next;while(l!==f)}a.action=null}function $E(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function QE(a,l){return l}function KE(a,l){if(Ke){var u=gt.formState;if(u!==null){e:{var f=je;if(Ke){if(kt){t:{for(var m=kt,v=rs;m.nodeType!==8;){if(!v){m=null;break t}if(m=Pi(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){kt=Pi(m.nextSibling),f=m.data==="F!";break e}}to(f)}f=!1}f&&(l=u[0])}}return u=Vn(),u.memoizedState=u.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:QE,lastRenderedState:l},u.queue=f,u=pS.bind(null,je,f),f.dispatch=u,f=ny(!1),v=ly.bind(null,je,!1,f.queue),f=Vn(),m={state:l,dispatch:null,action:a,pending:null},f.queue=m,u=FM.bind(null,je,m,v,u),m.dispatch=u,f.memoizedState=a,[l,u,!1]}function XE(a){var l=Gt();return ZE(l,ut,a)}function ZE(a,l,u){if(l=ey(a,l,QE)[0],a=Wd(qs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=hu(l)}catch(R){throw R===ru?zd:R}else f=l;l=Gt();var m=l.queue,v=m.dispatch;return u!==l.memoizedState&&(je.flags|=2048,xl(9,Yd(),qM.bind(null,m,u),null)),[f,v,a]}function qM(a,l){a.action=l}function JE(a){var l=Gt(),u=ut;if(u!==null)return ZE(l,u,a);Gt(),l=l.memoizedState,u=Gt();var f=u.queue.dispatch;return u.memoizedState=a,[l,f,!1]}function xl(a,l,u,f){return a={tag:a,create:u,deps:f,inst:l,next:null},l=je.updateQueue,l===null&&(l=Zm(),je.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,l.lastEffect=a),a}function Yd(){return{destroy:void 0,resource:void 0}}function eS(){return Gt().memoizedState}function $d(a,l,u,f){var m=Vn();f=f===void 0?null:f,je.flags|=a,m.memoizedState=xl(1|l,Yd(),u,f)}function du(a,l,u,f){var m=Gt();f=f===void 0?null:f;var v=m.memoizedState.inst;ut!==null&&f!==null&&Ym(f,ut.memoizedState.deps)?m.memoizedState=xl(l,v,u,f):(je.flags|=a,m.memoizedState=xl(1|l,v,u,f))}function tS(a,l){$d(8390656,8,a,l)}function nS(a,l){du(2048,8,a,l)}function iS(a,l){return du(4,2,a,l)}function sS(a,l){return du(4,4,a,l)}function rS(a,l){if(typeof l=="function"){a=a();var u=l(a);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function aS(a,l,u){u=u!=null?u.concat([a]):null,du(4,4,rS.bind(null,l,a),u)}function sy(){}function oS(a,l){var u=Gt();l=l===void 0?null:l;var f=u.memoizedState;return l!==null&&Ym(l,f[1])?f[0]:(u.memoizedState=[a,l],a)}function lS(a,l){var u=Gt();l=l===void 0?null:l;var f=u.memoizedState;if(l!==null&&Ym(l,f[1]))return f[0];if(f=a(),ro){Qn(!0);try{a()}finally{Qn(!1)}}return u.memoizedState=[f,l],f}function ry(a,l,u){return u===void 0||(Mr&1073741824)!==0?a.memoizedState=l:(a.memoizedState=u,a=hw(),je.lanes|=a,zr|=a,u)}function cS(a,l,u,f){return Xn(u,l)?u:Sl.current!==null?(a=ry(a,u,f),Xn(a,l)||(an=!0),a):(Mr&42)===0?(an=!0,a.memoizedState=u):(a=hw(),je.lanes|=a,zr|=a,l)}function uS(a,l,u,f,m){var v=ce.p;ce.p=v!==0&&8>v?v:8;var R=K.T,I={};K.T=I,ly(a,!1,l,u);try{var z=m(),Q=K.S;if(Q!==null&&Q(I,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=zM(z,f);fu(a,l,ie,ni(a))}else fu(a,l,f,ni(a))}catch(ae){fu(a,l,{then:function(){},status:"rejected",reason:ae},ni())}finally{ce.p=v,K.T=R}}function GM(){}function ay(a,l,u,f){if(a.tag!==5)throw Error(i(476));var m=hS(a).queue;uS(a,m,l,fe,u===null?GM:function(){return dS(a),u(f)})}function hS(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:fe},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:u},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function dS(a){var l=hS(a).next.queue;fu(a,l,{},ni())}function oy(){return En(ku)}function fS(){return Gt().memoizedState}function gS(){return Gt().memoizedState}function WM(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var u=ni();a=kr(u);var f=Nr(l,a,u);f!==null&&(ii(f,l,u),ou(f,l,u)),l={cache:Lm()},a.payload=l;return}l=l.return}}function YM(a,l,u){var f=ni();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Qd(a)?mS(l,u):(u=Rm(a,l,u,f),u!==null&&(ii(u,a,f),yS(u,l,f)))}function pS(a,l,u){var f=ni();fu(a,l,u,f)}function fu(a,l,u,f){var m={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Qd(a))mS(l,m);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=l.lastRenderedReducer,v!==null))try{var R=l.lastRenderedState,I=v(R,u);if(m.hasEagerState=!0,m.eagerState=I,Xn(I,R))return Nd(a,l,m,0),gt===null&&kd(),!1}catch{}finally{}if(u=Rm(a,l,m,f),u!==null)return ii(u,a,f),yS(u,l,f),!0}return!1}function ly(a,l,u,f){if(f={lane:2,revertLane:zy(),action:f,hasEagerState:!1,eagerState:null,next:null},Qd(a)){if(l)throw Error(i(479))}else l=Rm(a,u,f,2),l!==null&&ii(l,a,2)}function Qd(a){var l=a.alternate;return a===je||l!==null&&l===je}function mS(a,l){wl=Fd=!0;var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}function yS(a,l,u){if((u&4194048)!==0){var f=l.lanes;f&=a.pendingLanes,u|=f,l.lanes=u,Pc(a,u)}}var Kd={readContext:En,use:Gd,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},vS={readContext:En,use:Gd,useCallback:function(a,l){return Vn().memoizedState=[a,l===void 0?null:l],a},useContext:En,useEffect:tS,useImperativeHandle:function(a,l,u){u=u!=null?u.concat([a]):null,$d(4194308,4,rS.bind(null,l,a),u)},useLayoutEffect:function(a,l){return $d(4194308,4,a,l)},useInsertionEffect:function(a,l){$d(4,2,a,l)},useMemo:function(a,l){var u=Vn();l=l===void 0?null:l;var f=a();if(ro){Qn(!0);try{a()}finally{Qn(!1)}}return u.memoizedState=[f,l],f},useReducer:function(a,l,u){var f=Vn();if(u!==void 0){var m=u(l);if(ro){Qn(!0);try{u(l)}finally{Qn(!1)}}}else m=l;return f.memoizedState=f.baseState=m,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:m},f.queue=a,a=a.dispatch=YM.bind(null,je,a),[f.memoizedState,a]},useRef:function(a){var l=Vn();return a={current:a},l.memoizedState=a},useState:function(a){a=ny(a);var l=a.queue,u=pS.bind(null,je,l);return l.dispatch=u,[a.memoizedState,u]},useDebugValue:sy,useDeferredValue:function(a,l){var u=Vn();return ry(u,a,l)},useTransition:function(){var a=ny(!1);return a=uS.bind(null,je,a.queue,!0,!1),Vn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,u){var f=je,m=Vn();if(Ke){if(u===void 0)throw Error(i(407));u=u()}else{if(u=l(),gt===null)throw Error(i(349));(We&124)!==0||UE(f,l,u)}m.memoizedState=u;var v={value:u,getSnapshot:l};return m.queue=v,tS(BE.bind(null,f,v,a),[a]),f.flags|=2048,xl(9,Yd(),zE.bind(null,f,v,u,l),null),u},useId:function(){var a=Vn(),l=gt.identifierPrefix;if(Ke){var u=Bs,f=zs;u=(f&~(1<<32-_n(f)-1)).toString(32)+u,l="«"+l+"R"+u,u=qd++,0<u&&(l+="H"+u.toString(32)),l+="»"}else u=BM++,l="«"+l+"r"+u.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:oy,useFormState:KE,useActionState:KE,useOptimistic:function(a){var l=Vn();l.memoizedState=l.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=ly.bind(null,je,!0,u),u.dispatch=l,[a,l]},useMemoCache:Jm,useCacheRefresh:function(){return Vn().memoizedState=WM.bind(null,je)}},bS={readContext:En,use:Gd,useCallback:oS,useContext:En,useEffect:nS,useImperativeHandle:aS,useInsertionEffect:iS,useLayoutEffect:sS,useMemo:lS,useReducer:Wd,useRef:eS,useState:function(){return Wd(qs)},useDebugValue:sy,useDeferredValue:function(a,l){var u=Gt();return cS(u,ut.memoizedState,a,l)},useTransition:function(){var a=Wd(qs)[0],l=Gt().memoizedState;return[typeof a=="boolean"?a:hu(a),l]},useSyncExternalStore:VE,useId:fS,useHostTransitionStatus:oy,useFormState:XE,useActionState:XE,useOptimistic:function(a,l){var u=Gt();return qE(u,ut,a,l)},useMemoCache:Jm,useCacheRefresh:gS},$M={readContext:En,use:Gd,useCallback:oS,useContext:En,useEffect:nS,useImperativeHandle:aS,useInsertionEffect:iS,useLayoutEffect:sS,useMemo:lS,useReducer:ty,useRef:eS,useState:function(){return ty(qs)},useDebugValue:sy,useDeferredValue:function(a,l){var u=Gt();return ut===null?ry(u,a,l):cS(u,ut.memoizedState,a,l)},useTransition:function(){var a=ty(qs)[0],l=Gt().memoizedState;return[typeof a=="boolean"?a:hu(a),l]},useSyncExternalStore:VE,useId:fS,useHostTransitionStatus:oy,useFormState:JE,useActionState:JE,useOptimistic:function(a,l){var u=Gt();return ut!==null?qE(u,ut,a,l):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Jm,useCacheRefresh:gS},Tl=null,gu=0;function Xd(a){var l=gu;return gu+=1,Tl===null&&(Tl=[]),IE(Tl,a,l)}function pu(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Zd(a,l){throw l.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function _S(a){var l=a._init;return l(a._payload)}function ES(a){function l(W,G){if(a){var $=W.deletions;$===null?(W.deletions=[G],W.flags|=16):$.push(G)}}function u(W,G){if(!a)return null;for(;G!==null;)l(W,G),G=G.sibling;return null}function f(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function m(W,G){return W=Us(W,G),W.index=0,W.sibling=null,W}function v(W,G,$){return W.index=$,a?($=W.alternate,$!==null?($=$.index,$<G?(W.flags|=67108866,G):$):(W.flags|=67108866,G)):(W.flags|=1048576,G)}function R(W){return a&&W.alternate===null&&(W.flags|=67108866),W}function I(W,G,$,re){return G===null||G.tag!==6?(G=Dm($,W.mode,re),G.return=W,G):(G=m(G,$),G.return=W,G)}function z(W,G,$,re){var ye=$.type;return ye===w?ie(W,G,$.props.children,re,$.key):G!==null&&(G.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&_S(ye)===G.type)?(G=m(G,$.props),pu(G,$),G.return=W,G):(G=Od($.type,$.key,$.props,null,W.mode,re),pu(G,$),G.return=W,G)}function Q(W,G,$,re){return G===null||G.tag!==4||G.stateNode.containerInfo!==$.containerInfo||G.stateNode.implementation!==$.implementation?(G=Im($,W.mode,re),G.return=W,G):(G=m(G,$.children||[]),G.return=W,G)}function ie(W,G,$,re,ye){return G===null||G.tag!==7?(G=Xa($,W.mode,re,ye),G.return=W,G):(G=m(G,$),G.return=W,G)}function ae(W,G,$){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Dm(""+G,W.mode,$),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return $=Od(G.type,G.key,G.props,null,W.mode,$),pu($,G),$.return=W,$;case _:return G=Im(G,W.mode,$),G.return=W,G;case C:var re=G._init;return G=re(G._payload),ae(W,G,$)}if(ve(G)||U(G))return G=Xa(G,W.mode,$,null),G.return=W,G;if(typeof G.then=="function")return ae(W,Xd(G),$);if(G.$$typeof===j)return ae(W,Vd(W,G),$);Zd(W,G)}return null}function Z(W,G,$,re){var ye=G!==null?G.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ye!==null?null:I(W,G,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===ye?z(W,G,$,re):null;case _:return $.key===ye?Q(W,G,$,re):null;case C:return ye=$._init,$=ye($._payload),Z(W,G,$,re)}if(ve($)||U($))return ye!==null?null:ie(W,G,$,re,null);if(typeof $.then=="function")return Z(W,G,Xd($),re);if($.$$typeof===j)return Z(W,G,Vd(W,$),re);Zd(W,$)}return null}function J(W,G,$,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return W=W.get($)||null,I(G,W,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return W=W.get(re.key===null?$:re.key)||null,z(G,W,re,ye);case _:return W=W.get(re.key===null?$:re.key)||null,Q(G,W,re,ye);case C:var Ve=re._init;return re=Ve(re._payload),J(W,G,$,re,ye)}if(ve(re)||U(re))return W=W.get($)||null,ie(G,W,re,ye,null);if(typeof re.then=="function")return J(W,G,$,Xd(re),ye);if(re.$$typeof===j)return J(W,G,$,Vd(G,re),ye);Zd(G,re)}return null}function ke(W,G,$,re){for(var ye=null,Ve=null,Se=G,Re=G=0,ln=null;Se!==null&&Re<$.length;Re++){Se.index>Re?(ln=Se,Se=null):ln=Se.sibling;var Qe=Z(W,Se,$[Re],re);if(Qe===null){Se===null&&(Se=ln);break}a&&Se&&Qe.alternate===null&&l(W,Se),G=v(Qe,G,Re),Ve===null?ye=Qe:Ve.sibling=Qe,Ve=Qe,Se=ln}if(Re===$.length)return u(W,Se),Ke&&Ja(W,Re),ye;if(Se===null){for(;Re<$.length;Re++)Se=ae(W,$[Re],re),Se!==null&&(G=v(Se,G,Re),Ve===null?ye=Se:Ve.sibling=Se,Ve=Se);return Ke&&Ja(W,Re),ye}for(Se=f(Se);Re<$.length;Re++)ln=J(Se,W,Re,$[Re],re),ln!==null&&(a&&ln.alternate!==null&&Se.delete(ln.key===null?Re:ln.key),G=v(ln,G,Re),Ve===null?ye=ln:Ve.sibling=ln,Ve=ln);return a&&Se.forEach(function(Qr){return l(W,Qr)}),Ke&&Ja(W,Re),ye}function Te(W,G,$,re){if($==null)throw Error(i(151));for(var ye=null,Ve=null,Se=G,Re=G=0,ln=null,Qe=$.next();Se!==null&&!Qe.done;Re++,Qe=$.next()){Se.index>Re?(ln=Se,Se=null):ln=Se.sibling;var Qr=Z(W,Se,Qe.value,re);if(Qr===null){Se===null&&(Se=ln);break}a&&Se&&Qr.alternate===null&&l(W,Se),G=v(Qr,G,Re),Ve===null?ye=Qr:Ve.sibling=Qr,Ve=Qr,Se=ln}if(Qe.done)return u(W,Se),Ke&&Ja(W,Re),ye;if(Se===null){for(;!Qe.done;Re++,Qe=$.next())Qe=ae(W,Qe.value,re),Qe!==null&&(G=v(Qe,G,Re),Ve===null?ye=Qe:Ve.sibling=Qe,Ve=Qe);return Ke&&Ja(W,Re),ye}for(Se=f(Se);!Qe.done;Re++,Qe=$.next())Qe=J(Se,W,Re,Qe.value,re),Qe!==null&&(a&&Qe.alternate!==null&&Se.delete(Qe.key===null?Re:Qe.key),G=v(Qe,G,Re),Ve===null?ye=Qe:Ve.sibling=Qe,Ve=Qe);return a&&Se.forEach(function(QO){return l(W,QO)}),Ke&&Ja(W,Re),ye}function dt(W,G,$,re){if(typeof $=="object"&&$!==null&&$.type===w&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var ye=$.key;G!==null;){if(G.key===ye){if(ye=$.type,ye===w){if(G.tag===7){u(W,G.sibling),re=m(G,$.props.children),re.return=W,W=re;break e}}else if(G.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&_S(ye)===G.type){u(W,G.sibling),re=m(G,$.props),pu(re,$),re.return=W,W=re;break e}u(W,G);break}else l(W,G);G=G.sibling}$.type===w?(re=Xa($.props.children,W.mode,re,$.key),re.return=W,W=re):(re=Od($.type,$.key,$.props,null,W.mode,re),pu(re,$),re.return=W,W=re)}return R(W);case _:e:{for(ye=$.key;G!==null;){if(G.key===ye)if(G.tag===4&&G.stateNode.containerInfo===$.containerInfo&&G.stateNode.implementation===$.implementation){u(W,G.sibling),re=m(G,$.children||[]),re.return=W,W=re;break e}else{u(W,G);break}else l(W,G);G=G.sibling}re=Im($,W.mode,re),re.return=W,W=re}return R(W);case C:return ye=$._init,$=ye($._payload),dt(W,G,$,re)}if(ve($))return ke(W,G,$,re);if(U($)){if(ye=U($),typeof ye!="function")throw Error(i(150));return $=ye.call($),Te(W,G,$,re)}if(typeof $.then=="function")return dt(W,G,Xd($),re);if($.$$typeof===j)return dt(W,G,Vd(W,$),re);Zd(W,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,G!==null&&G.tag===6?(u(W,G.sibling),re=m(G,$),re.return=W,W=re):(u(W,G),re=Dm($,W.mode,re),re.return=W,W=re),R(W)):u(W,G)}return function(W,G,$,re){try{gu=0;var ye=dt(W,G,$,re);return Tl=null,ye}catch(Se){if(Se===ru||Se===zd)throw Se;var Ve=Zn(29,Se,null,W.mode);return Ve.lanes=re,Ve.return=W,Ve}finally{}}}var Rl=ES(!0),SS=ES(!1),mi=se(null),as=null;function Or(a){var l=a.alternate;he(Zt,Zt.current&1),he(mi,a),as===null&&(l===null||Sl.current!==null||l.memoizedState!==null)&&(as=a)}function wS(a){if(a.tag===22){if(he(Zt,Zt.current),he(mi,a),as===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(as=a)}}else Pr()}function Pr(){he(Zt,Zt.current),he(mi,mi.current)}function Gs(a){ue(mi),as===a&&(as=null),ue(Zt)}var Zt=se(0);function Jd(a){for(var l=a;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Zy(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function cy(a,l,u,f){l=a.memoizedState,u=u(f,l),u=u==null?l:g({},l,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var uy={enqueueSetState:function(a,l,u){a=a._reactInternals;var f=ni(),m=kr(f);m.payload=l,u!=null&&(m.callback=u),l=Nr(a,m,f),l!==null&&(ii(l,a,f),ou(l,a,f))},enqueueReplaceState:function(a,l,u){a=a._reactInternals;var f=ni(),m=kr(f);m.tag=1,m.payload=l,u!=null&&(m.callback=u),l=Nr(a,m,f),l!==null&&(ii(l,a,f),ou(l,a,f))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var u=ni(),f=kr(u);f.tag=2,l!=null&&(f.callback=l),l=Nr(a,f,u),l!==null&&(ii(l,a,u),ou(l,a,u))}};function AS(a,l,u,f,m,v,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,v,R):l.prototype&&l.prototype.isPureReactComponent?!Xc(u,f)||!Xc(m,v):!0}function xS(a,l,u,f){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,f),l.state!==a&&uy.enqueueReplaceState(l,l.state,null)}function ao(a,l){var u=l;if("ref"in l){u={};for(var f in l)f!=="ref"&&(u[f]=l[f])}if(a=a.defaultProps){u===l&&(u=g({},u));for(var m in a)u[m]===void 0&&(u[m]=a[m])}return u}var ef=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function TS(a){ef(a)}function RS(a){console.error(a)}function CS(a){ef(a)}function tf(a,l){try{var u=a.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function DS(a,l,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function hy(a,l,u){return u=kr(u),u.tag=3,u.payload={element:null},u.callback=function(){tf(a,l)},u}function IS(a){return a=kr(a),a.tag=3,a}function kS(a,l,u,f){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var v=f.value;a.payload=function(){return m(v)},a.callback=function(){DS(l,u,f)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(a.callback=function(){DS(l,u,f),typeof m!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var I=f.stack;this.componentDidCatch(f.value,{componentStack:I!==null?I:""})})}function QM(a,l,u,f,m){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=u.alternate,l!==null&&nu(l,u,m,!0),u=mi.current,u!==null){switch(u.tag){case 13:return as===null?Py():u.alternate===null&&Nt===0&&(Nt=3),u.flags&=-257,u.flags|=65536,u.lanes=m,f===zm?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([f]):l.add(f),Ly(a,f,m)),!1;case 22:return u.flags|=65536,f===zm?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([f]):u.add(f)),Ly(a,f,m)),!1}throw Error(i(435,u.tag))}return Ly(a,f,m),Py(),!1}if(Ke)return l=mi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=m,f!==Mm&&(a=Error(i(422),{cause:f}),tu(di(a,u)))):(f!==Mm&&(l=Error(i(423),{cause:f}),tu(di(l,u))),a=a.current.alternate,a.flags|=65536,m&=-m,a.lanes|=m,f=di(f,u),m=hy(a.stateNode,f,m),Fm(a,m),Nt!==4&&(Nt=2)),!1;var v=Error(i(520),{cause:f});if(v=di(v,u),Su===null?Su=[v]:Su.push(v),Nt!==4&&(Nt=2),l===null)return!0;f=di(f,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,a=m&-m,u.lanes|=a,a=hy(u.stateNode,f,a),Fm(u,a),!1;case 1:if(l=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Br===null||!Br.has(v))))return u.flags|=65536,m&=-m,u.lanes|=m,m=IS(m),kS(m,a,u,f),Fm(u,m),!1}u=u.return}while(u!==null);return!1}var NS=Error(i(461)),an=!1;function fn(a,l,u,f){l.child=a===null?SS(l,null,u,f):Rl(l,a.child,u,f)}function MS(a,l,u,f,m){u=u.render;var v=l.ref;if("ref"in f){var R={};for(var I in f)I!=="ref"&&(R[I]=f[I])}else R=f;return io(l),f=$m(a,l,u,R,v,m),I=Qm(),a!==null&&!an?(Km(a,l,m),Ws(a,l,m)):(Ke&&I&&km(l),l.flags|=1,fn(a,l,f,m),l.child)}function OS(a,l,u,f,m){if(a===null){var v=u.type;return typeof v=="function"&&!Cm(v)&&v.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=v,PS(a,l,v,f,m)):(a=Od(u.type,null,f,l,l.mode,m),a.ref=l.ref,a.return=l,l.child=a)}if(v=a.child,!by(a,m)){var R=v.memoizedProps;if(u=u.compare,u=u!==null?u:Xc,u(R,f)&&a.ref===l.ref)return Ws(a,l,m)}return l.flags|=1,a=Us(v,f),a.ref=l.ref,a.return=l,l.child=a}function PS(a,l,u,f,m){if(a!==null){var v=a.memoizedProps;if(Xc(v,f)&&a.ref===l.ref)if(an=!1,l.pendingProps=f=v,by(a,m))(a.flags&131072)!==0&&(an=!0);else return l.lanes=a.lanes,Ws(a,l,m)}return dy(a,l,u,f,m)}function jS(a,l,u){var f=l.pendingProps,m=f.children,v=a!==null?a.memoizedState:null;if(f.mode==="hidden"){if((l.flags&128)!==0){if(f=v!==null?v.baseLanes|u:u,a!==null){for(m=l.child=a.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;l.childLanes=v&~f}else l.childLanes=0,l.child=null;return LS(a,l,f,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ud(l,v!==null?v.cachePool:null),v!==null?PE(l,v):Gm(),wS(l);else return l.lanes=l.childLanes=536870912,LS(a,l,v!==null?v.baseLanes|u:u,u)}else v!==null?(Ud(l,v.cachePool),PE(l,v),Pr(),l.memoizedState=null):(a!==null&&Ud(l,null),Gm(),Pr());return fn(a,l,m,u),l.child}function LS(a,l,u,f){var m=Um();return m=m===null?null:{parent:Xt._currentValue,pool:m},l.memoizedState={baseLanes:u,cachePool:m},a!==null&&Ud(l,null),Gm(),wS(l),a!==null&&nu(a,l,f,!0),null}function nf(a,l){var u=l.ref;if(u===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(a===null||a.ref!==u)&&(l.flags|=4194816)}}function dy(a,l,u,f,m){return io(l),u=$m(a,l,u,f,void 0,m),f=Qm(),a!==null&&!an?(Km(a,l,m),Ws(a,l,m)):(Ke&&f&&km(l),l.flags|=1,fn(a,l,u,m),l.child)}function VS(a,l,u,f,m,v){return io(l),l.updateQueue=null,u=LE(l,f,u,m),jE(a),f=Qm(),a!==null&&!an?(Km(a,l,v),Ws(a,l,v)):(Ke&&f&&km(l),l.flags|=1,fn(a,l,u,v),l.child)}function US(a,l,u,f,m){if(io(l),l.stateNode===null){var v=yl,R=u.contextType;typeof R=="object"&&R!==null&&(v=En(R)),v=new u(f,v),l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=uy,l.stateNode=v,v._reactInternals=l,v=l.stateNode,v.props=f,v.state=l.memoizedState,v.refs={},Bm(l),R=u.contextType,v.context=typeof R=="object"&&R!==null?En(R):yl,v.state=l.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(cy(l,u,R,f),v.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(R=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),R!==v.state&&uy.enqueueReplaceState(v,v.state,null),cu(l,f,v,m),lu(),v.state=l.memoizedState),typeof v.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(a===null){v=l.stateNode;var I=l.memoizedProps,z=ao(u,I);v.props=z;var Q=v.context,ie=u.contextType;R=yl,typeof ie=="object"&&ie!==null&&(R=En(ie));var ae=u.getDerivedStateFromProps;ie=typeof ae=="function"||typeof v.getSnapshotBeforeUpdate=="function",I=l.pendingProps!==I,ie||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I||Q!==R)&&xS(l,v,f,R),Ir=!1;var Z=l.memoizedState;v.state=Z,cu(l,f,v,m),lu(),Q=l.memoizedState,I||Z!==Q||Ir?(typeof ae=="function"&&(cy(l,u,ae,f),Q=l.memoizedState),(z=Ir||AS(l,u,z,f,Z,Q,R))?(ie||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(l.flags|=4194308)):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=Q),v.props=f,v.state=Q,v.context=R,f=z):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{v=l.stateNode,Hm(a,l),R=l.memoizedProps,ie=ao(u,R),v.props=ie,ae=l.pendingProps,Z=v.context,Q=u.contextType,z=yl,typeof Q=="object"&&Q!==null&&(z=En(Q)),I=u.getDerivedStateFromProps,(Q=typeof I=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==ae||Z!==z)&&xS(l,v,f,z),Ir=!1,Z=l.memoizedState,v.state=Z,cu(l,f,v,m),lu();var J=l.memoizedState;R!==ae||Z!==J||Ir||a!==null&&a.dependencies!==null&&Ld(a.dependencies)?(typeof I=="function"&&(cy(l,u,I,f),J=l.memoizedState),(ie=Ir||AS(l,u,ie,f,Z,J,z)||a!==null&&a.dependencies!==null&&Ld(a.dependencies))?(Q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,J,z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,J,z)),typeof v.componentDidUpdate=="function"&&(l.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof v.componentDidUpdate!="function"||R===a.memoizedProps&&Z===a.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&Z===a.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=J),v.props=f,v.state=J,v.context=z,f=ie):(typeof v.componentDidUpdate!="function"||R===a.memoizedProps&&Z===a.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&Z===a.memoizedState||(l.flags|=1024),f=!1)}return v=f,nf(a,l),f=(l.flags&128)!==0,v||f?(v=l.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:v.render(),l.flags|=1,a!==null&&f?(l.child=Rl(l,a.child,null,m),l.child=Rl(l,null,u,m)):fn(a,l,u,m),l.memoizedState=v.state,a=l.child):a=Ws(a,l,m),a}function zS(a,l,u,f){return eu(),l.flags|=256,fn(a,l,u,f),l.child}var fy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gy(a){return{baseLanes:a,cachePool:RE()}}function py(a,l,u){return a=a!==null?a.childLanes&~u:0,l&&(a|=yi),a}function BS(a,l,u){var f=l.pendingProps,m=!1,v=(l.flags&128)!==0,R;if((R=v)||(R=a!==null&&a.memoizedState===null?!1:(Zt.current&2)!==0),R&&(m=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,a===null){if(Ke){if(m?Or(l):Pr(),Ke){var I=kt,z;if(z=I){e:{for(z=I,I=rs;z.nodeType!==8;){if(!I){I=null;break e}if(z=Pi(z.nextSibling),z===null){I=null;break e}}I=z}I!==null?(l.memoizedState={dehydrated:I,treeContext:Za!==null?{id:zs,overflow:Bs}:null,retryLane:536870912,hydrationErrors:null},z=Zn(18,null,null,0),z.stateNode=I,z.return=l,l.child=z,jn=l,kt=null,z=!0):z=!1}z||to(l)}if(I=l.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return Zy(I)?l.lanes=32:l.lanes=536870912,null;Gs(l)}return I=f.children,f=f.fallback,m?(Pr(),m=l.mode,I=sf({mode:"hidden",children:I},m),f=Xa(f,m,u,null),I.return=l,f.return=l,I.sibling=f,l.child=I,m=l.child,m.memoizedState=gy(u),m.childLanes=py(a,R,u),l.memoizedState=fy,f):(Or(l),my(l,I))}if(z=a.memoizedState,z!==null&&(I=z.dehydrated,I!==null)){if(v)l.flags&256?(Or(l),l.flags&=-257,l=yy(a,l,u)):l.memoizedState!==null?(Pr(),l.child=a.child,l.flags|=128,l=null):(Pr(),m=f.fallback,I=l.mode,f=sf({mode:"visible",children:f.children},I),m=Xa(m,I,u,null),m.flags|=2,f.return=l,m.return=l,f.sibling=m,l.child=f,Rl(l,a.child,null,u),f=l.child,f.memoizedState=gy(u),f.childLanes=py(a,R,u),l.memoizedState=fy,l=m);else if(Or(l),Zy(I)){if(R=I.nextSibling&&I.nextSibling.dataset,R)var Q=R.dgst;R=Q,f=Error(i(419)),f.stack="",f.digest=R,tu({value:f,source:null,stack:null}),l=yy(a,l,u)}else if(an||nu(a,l,u,!1),R=(u&a.childLanes)!==0,an||R){if(R=gt,R!==null&&(f=u&-u,f=(f&42)!==0?1:Sr(f),f=(f&(R.suspendedLanes|u))!==0?0:f,f!==0&&f!==z.retryLane))throw z.retryLane=f,ml(a,f),ii(R,a,f),NS;I.data==="$?"||Py(),l=yy(a,l,u)}else I.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=z.treeContext,kt=Pi(I.nextSibling),jn=l,Ke=!0,eo=null,rs=!1,a!==null&&(gi[pi++]=zs,gi[pi++]=Bs,gi[pi++]=Za,zs=a.id,Bs=a.overflow,Za=l),l=my(l,f.children),l.flags|=4096);return l}return m?(Pr(),m=f.fallback,I=l.mode,z=a.child,Q=z.sibling,f=Us(z,{mode:"hidden",children:f.children}),f.subtreeFlags=z.subtreeFlags&65011712,Q!==null?m=Us(Q,m):(m=Xa(m,I,u,null),m.flags|=2),m.return=l,f.return=l,f.sibling=m,l.child=f,f=m,m=l.child,I=a.child.memoizedState,I===null?I=gy(u):(z=I.cachePool,z!==null?(Q=Xt._currentValue,z=z.parent!==Q?{parent:Q,pool:Q}:z):z=RE(),I={baseLanes:I.baseLanes|u,cachePool:z}),m.memoizedState=I,m.childLanes=py(a,R,u),l.memoizedState=fy,f):(Or(l),u=a.child,a=u.sibling,u=Us(u,{mode:"visible",children:f.children}),u.return=l,u.sibling=null,a!==null&&(R=l.deletions,R===null?(l.deletions=[a],l.flags|=16):R.push(a)),l.child=u,l.memoizedState=null,u)}function my(a,l){return l=sf({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function sf(a,l){return a=Zn(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function yy(a,l,u){return Rl(l,a.child,null,u),a=my(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function HS(a,l,u){a.lanes|=l;var f=a.alternate;f!==null&&(f.lanes|=l),Pm(a.return,l,u)}function vy(a,l,u,f,m){var v=a.memoizedState;v===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=l,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function FS(a,l,u){var f=l.pendingProps,m=f.revealOrder,v=f.tail;if(fn(a,l,f.children,u),f=Zt.current,(f&2)!==0)f=f&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&HS(a,u,l);else if(a.tag===19)HS(a,u,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(he(Zt,f),m){case"forwards":for(u=l.child,m=null;u!==null;)a=u.alternate,a!==null&&Jd(a)===null&&(m=u),u=u.sibling;u=m,u===null?(m=l.child,l.child=null):(m=u.sibling,u.sibling=null),vy(l,!1,m,u,v);break;case"backwards":for(u=null,m=l.child,l.child=null;m!==null;){if(a=m.alternate,a!==null&&Jd(a)===null){l.child=m;break}a=m.sibling,m.sibling=u,u=m,m=a}vy(l,!0,u,null,v);break;case"together":vy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ws(a,l,u){if(a!==null&&(l.dependencies=a.dependencies),zr|=l.lanes,(u&l.childLanes)===0)if(a!==null){if(nu(a,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,u=Us(a,a.pendingProps),l.child=u,u.return=l;a.sibling!==null;)a=a.sibling,u=u.sibling=Us(a,a.pendingProps),u.return=l;u.sibling=null}return l.child}function by(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Ld(a)))}function KM(a,l,u){switch(l.tag){case 3:lt(l,l.stateNode.containerInfo),Dr(l,Xt,a.memoizedState.cache),eu();break;case 27:case 5:Yi(l);break;case 4:lt(l,l.stateNode.containerInfo);break;case 10:Dr(l,l.type,l.memoizedProps.value);break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(Or(l),l.flags|=128,null):(u&l.child.childLanes)!==0?BS(a,l,u):(Or(l),a=Ws(a,l,u),a!==null?a.sibling:null);Or(l);break;case 19:var m=(a.flags&128)!==0;if(f=(u&l.childLanes)!==0,f||(nu(a,l,u,!1),f=(u&l.childLanes)!==0),m){if(f)return FS(a,l,u);l.flags|=128}if(m=l.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),he(Zt,Zt.current),f)break;return null;case 22:case 23:return l.lanes=0,jS(a,l,u);case 24:Dr(l,Xt,a.memoizedState.cache)}return Ws(a,l,u)}function qS(a,l,u){if(a!==null)if(a.memoizedProps!==l.pendingProps)an=!0;else{if(!by(a,u)&&(l.flags&128)===0)return an=!1,KM(a,l,u);an=(a.flags&131072)!==0}else an=!1,Ke&&(l.flags&1048576)!==0&&_E(l,jd,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var f=l.elementType,m=f._init;if(f=m(f._payload),l.type=f,typeof f=="function")Cm(f)?(a=ao(f,a),l.tag=1,l=US(null,l,f,a,u)):(l.tag=0,l=dy(null,l,f,a,u));else{if(f!=null){if(m=f.$$typeof,m===H){l.tag=11,l=MS(null,l,f,a,u);break e}else if(m===M){l.tag=14,l=OS(null,l,f,a,u);break e}}throw l=we(f)||f,Error(i(306,l,""))}}return l;case 0:return dy(a,l,l.type,l.pendingProps,u);case 1:return f=l.type,m=ao(f,l.pendingProps),US(a,l,f,m,u);case 3:e:{if(lt(l,l.stateNode.containerInfo),a===null)throw Error(i(387));f=l.pendingProps;var v=l.memoizedState;m=v.element,Hm(a,l),cu(l,f,null,u);var R=l.memoizedState;if(f=R.cache,Dr(l,Xt,f),f!==v.cache&&jm(l,[Xt],u,!0),lu(),f=R.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=v,l.memoizedState=v,l.flags&256){l=zS(a,l,f,u);break e}else if(f!==m){m=di(Error(i(424)),l),tu(m),l=zS(a,l,f,u);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(kt=Pi(a.firstChild),jn=l,Ke=!0,eo=null,rs=!0,u=SS(l,null,f,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(eu(),f===m){l=Ws(a,l,u);break e}fn(a,l,f,u)}l=l.child}return l;case 26:return nf(a,l),a===null?(u=$w(l.type,null,l.pendingProps,null))?l.memoizedState=u:Ke||(u=l.type,a=l.pendingProps,f=vf(Ee.current).createElement(u),f[$t]=l,f[Ht]=a,pn(f,u,a),jt(f),l.stateNode=f):l.memoizedState=$w(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Yi(l),a===null&&Ke&&(f=l.stateNode=Gw(l.type,l.pendingProps,Ee.current),jn=l,rs=!0,m=kt,qr(l.type)?(Jy=m,kt=Pi(f.firstChild)):kt=m),fn(a,l,l.pendingProps.children,u),nf(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Ke&&((m=f=kt)&&(f=AO(f,l.type,l.pendingProps,rs),f!==null?(l.stateNode=f,jn=l,kt=Pi(f.firstChild),rs=!1,m=!0):m=!1),m||to(l)),Yi(l),m=l.type,v=l.pendingProps,R=a!==null?a.memoizedProps:null,f=v.children,Qy(m,v)?f=null:R!==null&&Qy(m,R)&&(l.flags|=32),l.memoizedState!==null&&(m=$m(a,l,HM,null,null,u),ku._currentValue=m),nf(a,l),fn(a,l,f,u),l.child;case 6:return a===null&&Ke&&((a=u=kt)&&(u=xO(u,l.pendingProps,rs),u!==null?(l.stateNode=u,jn=l,kt=null,a=!0):a=!1),a||to(l)),null;case 13:return BS(a,l,u);case 4:return lt(l,l.stateNode.containerInfo),f=l.pendingProps,a===null?l.child=Rl(l,null,f,u):fn(a,l,f,u),l.child;case 11:return MS(a,l,l.type,l.pendingProps,u);case 7:return fn(a,l,l.pendingProps,u),l.child;case 8:return fn(a,l,l.pendingProps.children,u),l.child;case 12:return fn(a,l,l.pendingProps.children,u),l.child;case 10:return f=l.pendingProps,Dr(l,l.type,f.value),fn(a,l,f.children,u),l.child;case 9:return m=l.type._context,f=l.pendingProps.children,io(l),m=En(m),f=f(m),l.flags|=1,fn(a,l,f,u),l.child;case 14:return OS(a,l,l.type,l.pendingProps,u);case 15:return PS(a,l,l.type,l.pendingProps,u);case 19:return FS(a,l,u);case 31:return f=l.pendingProps,u=l.mode,f={mode:f.mode,children:f.children},a===null?(u=sf(f,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=Us(a.child,f),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return jS(a,l,u);case 24:return io(l),f=En(Xt),a===null?(m=Um(),m===null&&(m=gt,v=Lm(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=u),m=v),l.memoizedState={parent:f,cache:m},Bm(l),Dr(l,Xt,m)):((a.lanes&u)!==0&&(Hm(a,l),cu(l,null,null,u),lu()),m=a.memoizedState,v=l.memoizedState,m.parent!==f?(m={parent:f,cache:f},l.memoizedState=m,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=m),Dr(l,Xt,f)):(f=v.cache,Dr(l,Xt,f),f!==m.cache&&jm(l,[Xt],u,!0))),fn(a,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function Ys(a){a.flags|=4}function GS(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Jw(l)){if(l=mi.current,l!==null&&((We&4194048)===We?as!==null:(We&62914560)!==We&&(We&536870912)===0||l!==as))throw au=zm,CE;a.flags|=8192}}function rf(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Mc():536870912,a.lanes|=l,kl|=l)}function mu(a,l){if(!Ke)switch(a.tailMode){case"hidden":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function At(a){var l=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(l)for(var m=a.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=f,a.childLanes=u,l}function XM(a,l,u){var f=l.pendingProps;switch(Nm(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(l),null;case 1:return At(l),null;case 3:return u=l.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Fs(Xt),$n(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Jc(l)?Ys(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,wE())),At(l),null;case 26:return u=l.memoizedState,a===null?(Ys(l),u!==null?(At(l),GS(l,u)):(At(l),l.flags&=-16777217)):u?u!==a.memoizedState?(Ys(l),At(l),GS(l,u)):(At(l),l.flags&=-16777217):(a.memoizedProps!==f&&Ys(l),At(l),l.flags&=-16777217),null;case 27:Di(l),u=Ee.current;var m=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==f&&Ys(l);else{if(!f){if(l.stateNode===null)throw Error(i(166));return At(l),null}a=pe.current,Jc(l)?EE(l):(a=Gw(m,f,u),l.stateNode=a,Ys(l))}return At(l),null;case 5:if(Di(l),u=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==f&&Ys(l);else{if(!f){if(l.stateNode===null)throw Error(i(166));return At(l),null}if(a=pe.current,Jc(l))EE(l);else{switch(m=vf(Ee.current),a){case 1:a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=m.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?m.createElement(u,{is:f.is}):m.createElement(u)}}a[$t]=l,a[Ht]=f;e:for(m=l.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===l)break e;for(;m.sibling===null;){if(m.return===null||m.return===l)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}l.stateNode=a;e:switch(pn(a,u,f),u){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ys(l)}}return At(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==f&&Ys(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(i(166));if(a=Ee.current,Jc(l)){if(a=l.stateNode,u=l.memoizedProps,f=null,m=jn,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}a[$t]=l,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||Vw(a.nodeValue,u)),a||to(l)}else a=vf(a).createTextNode(f),a[$t]=l,l.stateNode=a}return At(l),null;case 13:if(f=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(m=Jc(l),f!==null&&f.dehydrated!==null){if(a===null){if(!m)throw Error(i(318));if(m=l.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[$t]=l}else eu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;At(l),m=!1}else m=wE(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=m),m=!0;if(!m)return l.flags&256?(Gs(l),l):(Gs(l),null)}if(Gs(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=f!==null,a=a!==null&&a.memoizedState!==null,u){f=l.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==m&&(f.flags|=2048)}return u!==a&&u&&(l.child.flags|=8192),rf(l,l.updateQueue),At(l),null;case 4:return $n(),a===null&&qy(l.stateNode.containerInfo),At(l),null;case 10:return Fs(l.type),At(l),null;case 19:if(ue(Zt),m=l.memoizedState,m===null)return At(l),null;if(f=(l.flags&128)!==0,v=m.rendering,v===null)if(f)mu(m,!1);else{if(Nt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(v=Jd(a),v!==null){for(l.flags|=128,mu(m,!1),a=v.updateQueue,l.updateQueue=a,rf(l,a),l.subtreeFlags=0,a=u,u=l.child;u!==null;)bE(u,a),u=u.sibling;return he(Zt,Zt.current&1|2),l.child}a=a.sibling}m.tail!==null&&yt()>lf&&(l.flags|=128,f=!0,mu(m,!1),l.lanes=4194304)}else{if(!f)if(a=Jd(v),a!==null){if(l.flags|=128,f=!0,a=a.updateQueue,l.updateQueue=a,rf(l,a),mu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Ke)return At(l),null}else 2*yt()-m.renderingStartTime>lf&&u!==536870912&&(l.flags|=128,f=!0,mu(m,!1),l.lanes=4194304);m.isBackwards?(v.sibling=l.child,l.child=v):(a=m.last,a!==null?a.sibling=v:l.child=v,m.last=v)}return m.tail!==null?(l=m.tail,m.rendering=l,m.tail=l.sibling,m.renderingStartTime=yt(),l.sibling=null,a=Zt.current,he(Zt,f?a&1|2:a&1),l):(At(l),null);case 22:case 23:return Gs(l),Wm(),f=l.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(u&536870912)!==0&&(l.flags&128)===0&&(At(l),l.subtreeFlags&6&&(l.flags|=8192)):At(l),u=l.updateQueue,u!==null&&rf(l,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048),a!==null&&ue(so),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Fs(Xt),At(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function ZM(a,l){switch(Nm(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Fs(Xt),$n(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Di(l),null;case 13:if(Gs(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));eu()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ue(Zt),null;case 4:return $n(),null;case 10:return Fs(l.type),null;case 22:case 23:return Gs(l),Wm(),a!==null&&ue(so),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Fs(Xt),null;case 25:return null;default:return null}}function WS(a,l){switch(Nm(l),l.tag){case 3:Fs(Xt),$n();break;case 26:case 27:case 5:Di(l);break;case 4:$n();break;case 13:Gs(l);break;case 19:ue(Zt);break;case 10:Fs(l.type);break;case 22:case 23:Gs(l),Wm(),a!==null&&ue(so);break;case 24:Fs(Xt)}}function yu(a,l){try{var u=l.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&a)===a){f=void 0;var v=u.create,R=u.inst;f=v(),R.destroy=f}u=u.next}while(u!==m)}}catch(I){ft(l,l.return,I)}}function jr(a,l,u){try{var f=l.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var v=m.next;f=v;do{if((f.tag&a)===a){var R=f.inst,I=R.destroy;if(I!==void 0){R.destroy=void 0,m=l;var z=u,Q=I;try{Q()}catch(ie){ft(m,z,ie)}}}f=f.next}while(f!==v)}}catch(ie){ft(l,l.return,ie)}}function YS(a){var l=a.updateQueue;if(l!==null){var u=a.stateNode;try{OE(l,u)}catch(f){ft(a,a.return,f)}}}function $S(a,l,u){u.props=ao(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){ft(a,l,f)}}function vu(a,l){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof u=="function"?a.refCleanup=u(f):u.current=f}}catch(m){ft(a,l,m)}}function os(a,l){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(m){ft(a,l,m)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){ft(a,l,m)}else u.current=null}function QS(a){var l=a.type,u=a.memoizedProps,f=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(m){ft(a,a.return,m)}}function _y(a,l,u){try{var f=a.stateNode;bO(f,a.type,u,l),f[Ht]=l}catch(m){ft(a,a.return,m)}}function KS(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&qr(a.type)||a.tag===4}function Ey(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||KS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&qr(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Sy(a,l,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(a),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=yf));else if(f!==4&&(f===27&&qr(a.type)&&(u=a.stateNode,l=null),a=a.child,a!==null))for(Sy(a,l,u),a=a.sibling;a!==null;)Sy(a,l,u),a=a.sibling}function af(a,l,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,l?u.insertBefore(a,l):u.appendChild(a);else if(f!==4&&(f===27&&qr(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(af(a,l,u),a=a.sibling;a!==null;)af(a,l,u),a=a.sibling}function XS(a){var l=a.stateNode,u=a.memoizedProps;try{for(var f=a.type,m=l.attributes;m.length;)l.removeAttributeNode(m[0]);pn(l,f,u),l[$t]=a,l[Ht]=u}catch(v){ft(a,a.return,v)}}var $s=!1,Vt=!1,wy=!1,ZS=typeof WeakSet=="function"?WeakSet:Set,on=null;function JM(a,l){if(a=a.containerInfo,Yy=Af,a=cE(a),Em(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var R=0,I=-1,z=-1,Q=0,ie=0,ae=a,Z=null;t:for(;;){for(var J;ae!==u||m!==0&&ae.nodeType!==3||(I=R+m),ae!==v||f!==0&&ae.nodeType!==3||(z=R+f),ae.nodeType===3&&(R+=ae.nodeValue.length),(J=ae.firstChild)!==null;)Z=ae,ae=J;for(;;){if(ae===a)break t;if(Z===u&&++Q===m&&(I=R),Z===v&&++ie===f&&(z=R),(J=ae.nextSibling)!==null)break;ae=Z,Z=ae.parentNode}ae=J}u=I===-1||z===-1?null:{start:I,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for($y={focusedElem:a,selectionRange:u},Af=!1,on=l;on!==null;)if(l=on,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,on=a;else for(;on!==null;){switch(l=on,v=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,u=l,m=v.memoizedProps,v=v.memoizedState,f=u.stateNode;try{var ke=ao(u.type,m,u.elementType===u.type);a=f.getSnapshotBeforeUpdate(ke,v),f.__reactInternalSnapshotBeforeUpdate=a}catch(Te){ft(u,u.return,Te)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,u=a.nodeType,u===9)Xy(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Xy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,on=a;break}on=l.return}}function JS(a,l,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Lr(a,u),f&4&&yu(5,u);break;case 1:if(Lr(a,u),f&4)if(a=u.stateNode,l===null)try{a.componentDidMount()}catch(R){ft(u,u.return,R)}else{var m=ao(u.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(m,l,a.__reactInternalSnapshotBeforeUpdate)}catch(R){ft(u,u.return,R)}}f&64&&YS(u),f&512&&vu(u,u.return);break;case 3:if(Lr(a,u),f&64&&(a=u.updateQueue,a!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{OE(a,l)}catch(R){ft(u,u.return,R)}}break;case 27:l===null&&f&4&&XS(u);case 26:case 5:Lr(a,u),l===null&&f&4&&QS(u),f&512&&vu(u,u.return);break;case 12:Lr(a,u);break;case 13:Lr(a,u),f&4&&nw(a,u),f&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=lO.bind(null,u),TO(a,u))));break;case 22:if(f=u.memoizedState!==null||$s,!f){l=l!==null&&l.memoizedState!==null||Vt,m=$s;var v=Vt;$s=f,(Vt=l)&&!v?Vr(a,u,(u.subtreeFlags&8772)!==0):Lr(a,u),$s=m,Vt=v}break;case 30:break;default:Lr(a,u)}}function ew(a){var l=a.alternate;l!==null&&(a.alternate=null,ew(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&xr(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var bt=null,Un=!1;function Qs(a,l,u){for(u=u.child;u!==null;)tw(a,l,u),u=u.sibling}function tw(a,l,u){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(It,u)}catch{}switch(u.tag){case 26:Vt||os(u,l),Qs(a,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Vt||os(u,l);var f=bt,m=Un;qr(u.type)&&(bt=u.stateNode,Un=!1),Qs(a,l,u),Ru(u.stateNode),bt=f,Un=m;break;case 5:Vt||os(u,l);case 6:if(f=bt,m=Un,bt=null,Qs(a,l,u),bt=f,Un=m,bt!==null)if(Un)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(u.stateNode)}catch(v){ft(u,l,v)}else try{bt.removeChild(u.stateNode)}catch(v){ft(u,l,v)}break;case 18:bt!==null&&(Un?(a=bt,Fw(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Pu(a)):Fw(bt,u.stateNode));break;case 4:f=bt,m=Un,bt=u.stateNode.containerInfo,Un=!0,Qs(a,l,u),bt=f,Un=m;break;case 0:case 11:case 14:case 15:Vt||jr(2,u,l),Vt||jr(4,u,l),Qs(a,l,u);break;case 1:Vt||(os(u,l),f=u.stateNode,typeof f.componentWillUnmount=="function"&&$S(u,l,f)),Qs(a,l,u);break;case 21:Qs(a,l,u);break;case 22:Vt=(f=Vt)||u.memoizedState!==null,Qs(a,l,u),Vt=f;break;default:Qs(a,l,u)}}function nw(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Pu(a)}catch(u){ft(l,l.return,u)}}function eO(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new ZS),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new ZS),l;default:throw Error(i(435,a.tag))}}function Ay(a,l){var u=eO(a);l.forEach(function(f){var m=cO.bind(null,a,f);u.has(f)||(u.add(f),f.then(m,m))})}function Jn(a,l){var u=l.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f],v=a,R=l,I=R;e:for(;I!==null;){switch(I.tag){case 27:if(qr(I.type)){bt=I.stateNode,Un=!1;break e}break;case 5:bt=I.stateNode,Un=!1;break e;case 3:case 4:bt=I.stateNode.containerInfo,Un=!0;break e}I=I.return}if(bt===null)throw Error(i(160));tw(v,R,m),bt=null,Un=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)iw(l,a),l=l.sibling}var Oi=null;function iw(a,l){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Jn(l,a),ei(a),f&4&&(jr(3,a,a.return),yu(3,a),jr(5,a,a.return));break;case 1:Jn(l,a),ei(a),f&512&&(Vt||u===null||os(u,u.return)),f&64&&$s&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var m=Oi;if(Jn(l,a),ei(a),f&512&&(Vt||u===null||os(u,u.return)),f&4){var v=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){e:{f=a.type,u=a.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Pa]||v[$t]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(f),m.head.insertBefore(v,m.querySelector("head > title"))),pn(v,f,u),v[$t]=a,jt(v),f=v;break e;case"link":var R=Xw("link","href",m).get(f+(u.href||""));if(R){for(var I=0;I<R.length;I++)if(v=R[I],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(I,1);break t}}v=m.createElement(f),pn(v,f,u),m.head.appendChild(v);break;case"meta":if(R=Xw("meta","content",m).get(f+(u.content||""))){for(I=0;I<R.length;I++)if(v=R[I],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(I,1);break t}}v=m.createElement(f),pn(v,f,u),m.head.appendChild(v);break;default:throw Error(i(468,f))}v[$t]=a,jt(v),f=v}a.stateNode=f}else Zw(m,a.type,a.stateNode);else a.stateNode=Kw(m,f,a.memoizedProps);else v!==f?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,f===null?Zw(m,a.type,a.stateNode):Kw(m,f,a.memoizedProps)):f===null&&a.stateNode!==null&&_y(a,a.memoizedProps,u.memoizedProps)}break;case 27:Jn(l,a),ei(a),f&512&&(Vt||u===null||os(u,u.return)),u!==null&&f&4&&_y(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Jn(l,a),ei(a),f&512&&(Vt||u===null||os(u,u.return)),a.flags&32){m=a.stateNode;try{li(m,"")}catch(J){ft(a,a.return,J)}}f&4&&a.stateNode!=null&&(m=a.memoizedProps,_y(a,m,u!==null?u.memoizedProps:m)),f&1024&&(wy=!0);break;case 6:if(Jn(l,a),ei(a),f&4){if(a.stateNode===null)throw Error(i(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(J){ft(a,a.return,J)}}break;case 3:if(Ef=null,m=Oi,Oi=bf(l.containerInfo),Jn(l,a),Oi=m,ei(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Pu(l.containerInfo)}catch(J){ft(a,a.return,J)}wy&&(wy=!1,sw(a));break;case 4:f=Oi,Oi=bf(a.stateNode.containerInfo),Jn(l,a),ei(a),Oi=f;break;case 12:Jn(l,a),ei(a);break;case 13:Jn(l,a),ei(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Iy=yt()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Ay(a,f)));break;case 22:m=a.memoizedState!==null;var z=u!==null&&u.memoizedState!==null,Q=$s,ie=Vt;if($s=Q||m,Vt=ie||z,Jn(l,a),Vt=ie,$s=Q,ei(a),f&8192)e:for(l=a.stateNode,l._visibility=m?l._visibility&-2:l._visibility|1,m&&(u===null||z||$s||Vt||oo(a)),u=null,l=a;;){if(l.tag===5||l.tag===26){if(u===null){z=u=l;try{if(v=z.stateNode,m)R=v.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{I=z.stateNode;var ae=z.memoizedProps.style,Z=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;I.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){ft(z,z.return,J)}}}else if(l.tag===6){if(u===null){z=l;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(J){ft(z,z.return,J)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Ay(a,u))));break;case 19:Jn(l,a),ei(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Ay(a,f)));break;case 30:break;case 21:break;default:Jn(l,a),ei(a)}}function ei(a){var l=a.flags;if(l&2){try{for(var u,f=a.return;f!==null;){if(KS(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var m=u.stateNode,v=Ey(a);af(a,v,m);break;case 5:var R=u.stateNode;u.flags&32&&(li(R,""),u.flags&=-33);var I=Ey(a);af(a,I,R);break;case 3:case 4:var z=u.stateNode.containerInfo,Q=Ey(a);Sy(a,Q,z);break;default:throw Error(i(161))}}catch(ie){ft(a,a.return,ie)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function sw(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;sw(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Lr(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)JS(a,l.alternate,l),l=l.sibling}function oo(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:jr(4,l,l.return),oo(l);break;case 1:os(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&$S(l,l.return,u),oo(l);break;case 27:Ru(l.stateNode);case 26:case 5:os(l,l.return),oo(l);break;case 22:l.memoizedState===null&&oo(l);break;case 30:oo(l);break;default:oo(l)}a=a.sibling}}function Vr(a,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,m=a,v=l,R=v.flags;switch(v.tag){case 0:case 11:case 15:Vr(m,v,u),yu(4,v);break;case 1:if(Vr(m,v,u),f=v,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){ft(f,f.return,Q)}if(f=v,m=f.updateQueue,m!==null){var I=f.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)ME(z[m],I)}catch(Q){ft(f,f.return,Q)}}u&&R&64&&YS(v),vu(v,v.return);break;case 27:XS(v);case 26:case 5:Vr(m,v,u),u&&f===null&&R&4&&QS(v),vu(v,v.return);break;case 12:Vr(m,v,u);break;case 13:Vr(m,v,u),u&&R&4&&nw(m,v);break;case 22:v.memoizedState===null&&Vr(m,v,u),vu(v,v.return);break;case 30:break;default:Vr(m,v,u)}l=l.sibling}}function xy(a,l){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&iu(u))}function Ty(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&iu(a))}function ls(a,l,u,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)rw(a,l,u,f),l=l.sibling}function rw(a,l,u,f){var m=l.flags;switch(l.tag){case 0:case 11:case 15:ls(a,l,u,f),m&2048&&yu(9,l);break;case 1:ls(a,l,u,f);break;case 3:ls(a,l,u,f),m&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&iu(a)));break;case 12:if(m&2048){ls(a,l,u,f),a=l.stateNode;try{var v=l.memoizedProps,R=v.id,I=v.onPostCommit;typeof I=="function"&&I(R,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(z){ft(l,l.return,z)}}else ls(a,l,u,f);break;case 13:ls(a,l,u,f);break;case 23:break;case 22:v=l.stateNode,R=l.alternate,l.memoizedState!==null?v._visibility&2?ls(a,l,u,f):bu(a,l):v._visibility&2?ls(a,l,u,f):(v._visibility|=2,Cl(a,l,u,f,(l.subtreeFlags&10256)!==0)),m&2048&&xy(R,l);break;case 24:ls(a,l,u,f),m&2048&&Ty(l.alternate,l);break;default:ls(a,l,u,f)}}function Cl(a,l,u,f,m){for(m=m&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var v=a,R=l,I=u,z=f,Q=R.flags;switch(R.tag){case 0:case 11:case 15:Cl(v,R,I,z,m),yu(8,R);break;case 23:break;case 22:var ie=R.stateNode;R.memoizedState!==null?ie._visibility&2?Cl(v,R,I,z,m):bu(v,R):(ie._visibility|=2,Cl(v,R,I,z,m)),m&&Q&2048&&xy(R.alternate,R);break;case 24:Cl(v,R,I,z,m),m&&Q&2048&&Ty(R.alternate,R);break;default:Cl(v,R,I,z,m)}l=l.sibling}}function bu(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=a,f=l,m=f.flags;switch(f.tag){case 22:bu(u,f),m&2048&&xy(f.alternate,f);break;case 24:bu(u,f),m&2048&&Ty(f.alternate,f);break;default:bu(u,f)}l=l.sibling}}var _u=8192;function Dl(a){if(a.subtreeFlags&_u)for(a=a.child;a!==null;)aw(a),a=a.sibling}function aw(a){switch(a.tag){case 26:Dl(a),a.flags&_u&&a.memoizedState!==null&&UO(Oi,a.memoizedState,a.memoizedProps);break;case 5:Dl(a);break;case 3:case 4:var l=Oi;Oi=bf(a.stateNode.containerInfo),Dl(a),Oi=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=_u,_u=16777216,Dl(a),_u=l):Dl(a));break;default:Dl(a)}}function ow(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Eu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var f=l[u];on=f,cw(f,a)}ow(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)lw(a),a=a.sibling}function lw(a){switch(a.tag){case 0:case 11:case 15:Eu(a),a.flags&2048&&jr(9,a,a.return);break;case 3:Eu(a);break;case 12:Eu(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,of(a)):Eu(a);break;default:Eu(a)}}function of(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var f=l[u];on=f,cw(f,a)}ow(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:jr(8,l,l.return),of(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,of(l));break;default:of(l)}a=a.sibling}}function cw(a,l){for(;on!==null;){var u=on;switch(u.tag){case 0:case 11:case 15:jr(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:iu(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,on=f;else e:for(u=a;on!==null;){f=on;var m=f.sibling,v=f.return;if(ew(f),f===u){on=null;break e}if(m!==null){m.return=v,on=m;break e}on=v}}}var tO={getCacheForType:function(a){var l=En(Xt),u=l.data.get(a);return u===void 0&&(u=a(),l.data.set(a,u)),u}},nO=typeof WeakMap=="function"?WeakMap:Map,rt=0,gt=null,Ue=null,We=0,at=0,ti=null,Ur=!1,Il=!1,Ry=!1,Ks=0,Nt=0,zr=0,lo=0,Cy=0,yi=0,kl=0,Su=null,zn=null,Dy=!1,Iy=0,lf=1/0,cf=null,Br=null,gn=0,Hr=null,Nl=null,Ml=0,ky=0,Ny=null,uw=null,wu=0,My=null;function ni(){if((rt&2)!==0&&We!==0)return We&-We;if(K.T!==null){var a=_l;return a!==0?a:zy()}return wr()}function hw(){yi===0&&(yi=(We&536870912)===0||Ke?Nc():536870912);var a=mi.current;return a!==null&&(a.flags|=32),yi}function ii(a,l,u){(a===gt&&(at===2||at===9)||a.cancelPendingCommit!==null)&&(Ol(a,0),Fr(a,We,yi,!1)),Cs(a,u),((rt&2)===0||a!==gt)&&(a===gt&&((rt&2)===0&&(lo|=u),Nt===4&&Fr(a,We,yi,!1)),cs(a))}function dw(a,l,u){if((rt&6)!==0)throw Error(i(327));var f=!u&&(l&124)===0&&(l&a.expiredLanes)===0||Oa(a,l),m=f?rO(a,l):jy(a,l,!0),v=f;do{if(m===0){Il&&!f&&Fr(a,l,0,!1);break}else{if(u=a.current.alternate,v&&!iO(u)){m=jy(a,l,!1),v=!1;continue}if(m===2){if(v=l,a.errorRecoveryDisabledLanes&v)var R=0;else R=a.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var I=a;m=Su;var z=I.current.memoizedState.isDehydrated;if(z&&(Ol(I,R).flags|=256),R=jy(I,R,!1),R!==2){if(Ry&&!z){I.errorRecoveryDisabledLanes|=v,lo|=v,m=4;break e}v=zn,zn=m,v!==null&&(zn===null?zn=v:zn.push.apply(zn,v))}m=R}if(v=!1,m!==2)continue}}if(m===1){Ol(a,0),Fr(a,l,0,!0);break}e:{switch(f=a,v=m,v){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:Fr(f,l,yi,!Ur);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(m=Iy+300-yt(),10<m)){if(Fr(f,l,yi,!Ur),Xo(f,0,!0)!==0)break e;f.timeoutHandle=Bw(fw.bind(null,f,u,zn,cf,Dy,l,yi,lo,kl,Ur,v,2,-0,0),m);break e}fw(f,u,zn,cf,Dy,l,yi,lo,kl,Ur,v,0,-0,0)}}break}while(!0);cs(a)}function fw(a,l,u,f,m,v,R,I,z,Q,ie,ae,Z,J){if(a.timeoutHandle=-1,ae=l.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Iu={stylesheets:null,count:0,unsuspend:VO},aw(l),ae=zO(),ae!==null)){a.cancelPendingCommit=ae(_w.bind(null,a,l,v,u,f,m,R,I,z,ie,1,Z,J)),Fr(a,v,R,!Q);return}_w(a,l,v,u,f,m,R,I,z)}function iO(a){for(var l=a;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!Xn(v(),m))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Fr(a,l,u,f){l&=~Cy,l&=~lo,a.suspendedLanes|=l,a.pingedLanes&=~l,f&&(a.warmLanes|=l),f=a.expirationTimes;for(var m=l;0<m;){var v=31-_n(m),R=1<<v;f[v]=-1,m&=~R}u!==0&&$i(a,u,l)}function uf(){return(rt&6)===0?(Au(0),!1):!0}function Oy(){if(Ue!==null){if(at===0)var a=Ue.return;else a=Ue,Hs=no=null,Xm(a),Tl=null,gu=0,a=Ue;for(;a!==null;)WS(a.alternate,a),a=a.return;Ue=null}}function Ol(a,l){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,EO(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Oy(),gt=a,Ue=u=Us(a.current,null),We=l,at=0,ti=null,Ur=!1,Il=Oa(a,l),Ry=!1,kl=yi=Cy=lo=zr=Nt=0,zn=Su=null,Dy=!1,(l&8)!==0&&(l|=l&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=l;0<f;){var m=31-_n(f),v=1<<m;l|=a[m],f&=~v}return Ks=l,kd(),u}function gw(a,l){je=null,K.H=Kd,l===ru||l===zd?(l=kE(),at=3):l===CE?(l=kE(),at=4):at=l===NS?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ti=l,Ue===null&&(Nt=1,tf(a,di(l,a.current)))}function pw(){var a=K.H;return K.H=Kd,a===null?Kd:a}function mw(){var a=K.A;return K.A=tO,a}function Py(){Nt=4,Ur||(We&4194048)!==We&&mi.current!==null||(Il=!0),(zr&134217727)===0&&(lo&134217727)===0||gt===null||Fr(gt,We,yi,!1)}function jy(a,l,u){var f=rt;rt|=2;var m=pw(),v=mw();(gt!==a||We!==l)&&(cf=null,Ol(a,l)),l=!1;var R=Nt;e:do try{if(at!==0&&Ue!==null){var I=Ue,z=ti;switch(at){case 8:Oy(),R=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(l=!0);var Q=at;if(at=0,ti=null,Pl(a,I,z,Q),u&&Il){R=0;break e}break;default:Q=at,at=0,ti=null,Pl(a,I,z,Q)}}sO(),R=Nt;break}catch(ie){gw(a,ie)}while(!0);return l&&a.shellSuspendCounter++,Hs=no=null,rt=f,K.H=m,K.A=v,Ue===null&&(gt=null,We=0,kd()),R}function sO(){for(;Ue!==null;)yw(Ue)}function rO(a,l){var u=rt;rt|=2;var f=pw(),m=mw();gt!==a||We!==l?(cf=null,lf=yt()+500,Ol(a,l)):Il=Oa(a,l);e:do try{if(at!==0&&Ue!==null){l=Ue;var v=ti;t:switch(at){case 1:at=0,ti=null,Pl(a,l,v,1);break;case 2:case 9:if(DE(v)){at=0,ti=null,vw(l);break}l=function(){at!==2&&at!==9||gt!==a||(at=7),cs(a)},v.then(l,l);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:DE(v)?(at=0,ti=null,vw(l)):(at=0,ti=null,Pl(a,l,v,7));break;case 5:var R=null;switch(Ue.tag){case 26:R=Ue.memoizedState;case 5:case 27:var I=Ue;if(!R||Jw(R)){at=0,ti=null;var z=I.sibling;if(z!==null)Ue=z;else{var Q=I.return;Q!==null?(Ue=Q,hf(Q)):Ue=null}break t}}at=0,ti=null,Pl(a,l,v,5);break;case 6:at=0,ti=null,Pl(a,l,v,6);break;case 8:Oy(),Nt=6;break e;default:throw Error(i(462))}}aO();break}catch(ie){gw(a,ie)}while(!0);return Hs=no=null,K.H=f,K.A=m,rt=u,Ue!==null?0:(gt=null,We=0,kd(),Nt)}function aO(){for(;Ue!==null&&!wt();)yw(Ue)}function yw(a){var l=qS(a.alternate,a,Ks);a.memoizedProps=a.pendingProps,l===null?hf(a):Ue=l}function vw(a){var l=a,u=l.alternate;switch(l.tag){case 15:case 0:l=VS(u,l,l.pendingProps,l.type,void 0,We);break;case 11:l=VS(u,l,l.pendingProps,l.type.render,l.ref,We);break;case 5:Xm(l);default:WS(u,l),l=Ue=bE(l,Ks),l=qS(u,l,Ks)}a.memoizedProps=a.pendingProps,l===null?hf(a):Ue=l}function Pl(a,l,u,f){Hs=no=null,Xm(l),Tl=null,gu=0;var m=l.return;try{if(QM(a,m,l,u,We)){Nt=1,tf(a,di(u,a.current)),Ue=null;return}}catch(v){if(m!==null)throw Ue=m,v;Nt=1,tf(a,di(u,a.current)),Ue=null;return}l.flags&32768?(Ke||f===1?a=!0:Il||(We&536870912)!==0?a=!1:(Ur=a=!0,(f===2||f===9||f===3||f===6)&&(f=mi.current,f!==null&&f.tag===13&&(f.flags|=16384))),bw(l,a)):hf(l)}function hf(a){var l=a;do{if((l.flags&32768)!==0){bw(l,Ur);return}a=l.return;var u=XM(l.alternate,l,Ks);if(u!==null){Ue=u;return}if(l=l.sibling,l!==null){Ue=l;return}Ue=l=a}while(l!==null);Nt===0&&(Nt=5)}function bw(a,l){do{var u=ZM(a.alternate,a);if(u!==null){u.flags&=32767,Ue=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(a=a.sibling,a!==null)){Ue=a;return}Ue=a=u}while(a!==null);Nt=6,Ue=null}function _w(a,l,u,f,m,v,R,I,z){a.cancelPendingCommit=null;do df();while(gn!==0);if((rt&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(v=l.lanes|l.childLanes,v|=Tm,Oc(a,u,v,R,I,z),a===gt&&(Ue=gt=null,We=0),Nl=l,Hr=a,Ml=u,ky=v,Ny=m,uw=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,uO(Ia,function(){return xw(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=K.T,K.T=null,m=ce.p,ce.p=2,R=rt,rt|=4;try{JM(a,l,u)}finally{rt=R,ce.p=m,K.T=f}}gn=1,Ew(),Sw(),ww()}}function Ew(){if(gn===1){gn=0;var a=Hr,l=Nl,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=K.T,K.T=null;var f=ce.p;ce.p=2;var m=rt;rt|=4;try{iw(l,a);var v=$y,R=cE(a.containerInfo),I=v.focusedElem,z=v.selectionRange;if(R!==I&&I&&I.ownerDocument&&lE(I.ownerDocument.documentElement,I)){if(z!==null&&Em(I)){var Q=z.start,ie=z.end;if(ie===void 0&&(ie=Q),"selectionStart"in I)I.selectionStart=Q,I.selectionEnd=Math.min(ie,I.value.length);else{var ae=I.ownerDocument||document,Z=ae&&ae.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),ke=I.textContent.length,Te=Math.min(z.start,ke),dt=z.end===void 0?Te:Math.min(z.end,ke);!J.extend&&Te>dt&&(R=dt,dt=Te,Te=R);var W=oE(I,Te),G=oE(I,dt);if(W&&G&&(J.rangeCount!==1||J.anchorNode!==W.node||J.anchorOffset!==W.offset||J.focusNode!==G.node||J.focusOffset!==G.offset)){var $=ae.createRange();$.setStart(W.node,W.offset),J.removeAllRanges(),Te>dt?(J.addRange($),J.extend(G.node,G.offset)):($.setEnd(G.node,G.offset),J.addRange($))}}}}for(ae=[],J=I;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ae.length;I++){var re=ae[I];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Af=!!Yy,$y=Yy=null}finally{rt=m,ce.p=f,K.T=u}}a.current=l,gn=2}}function Sw(){if(gn===2){gn=0;var a=Hr,l=Nl,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=K.T,K.T=null;var f=ce.p;ce.p=2;var m=rt;rt|=4;try{JS(a,l.alternate,l)}finally{rt=m,ce.p=f,K.T=u}}gn=3}}function ww(){if(gn===4||gn===3){gn=0,Bt();var a=Hr,l=Nl,u=Ml,f=uw;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?gn=5:(gn=0,Nl=Hr=null,Aw(a,a.pendingLanes));var m=a.pendingLanes;if(m===0&&(Br=null),Zo(u),l=l.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(It,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=K.T,m=ce.p,ce.p=2,K.T=null;try{for(var v=a.onRecoverableError,R=0;R<f.length;R++){var I=f[R];v(I.value,{componentStack:I.stack})}}finally{K.T=l,ce.p=m}}(Ml&3)!==0&&df(),cs(a),m=a.pendingLanes,(u&4194090)!==0&&(m&42)!==0?a===My?wu++:(wu=0,My=a):wu=0,Au(0)}}function Aw(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,iu(l)))}function df(a){return Ew(),Sw(),ww(),xw()}function xw(){if(gn!==5)return!1;var a=Hr,l=ky;ky=0;var u=Zo(Ml),f=K.T,m=ce.p;try{ce.p=32>u?32:u,K.T=null,u=Ny,Ny=null;var v=Hr,R=Ml;if(gn=0,Nl=Hr=null,Ml=0,(rt&6)!==0)throw Error(i(331));var I=rt;if(rt|=4,lw(v.current),rw(v,v.current,R,u),rt=I,Au(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(It,v)}catch{}return!0}finally{ce.p=m,K.T=f,Aw(a,l)}}function Tw(a,l,u){l=di(u,l),l=hy(a.stateNode,l,2),a=Nr(a,l,2),a!==null&&(Cs(a,2),cs(a))}function ft(a,l,u){if(a.tag===3)Tw(a,a,u);else for(;l!==null;){if(l.tag===3){Tw(l,a,u);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Br===null||!Br.has(f))){a=di(u,a),u=IS(2),f=Nr(l,u,2),f!==null&&(kS(u,f,l,a),Cs(f,2),cs(f));break}}l=l.return}}function Ly(a,l,u){var f=a.pingCache;if(f===null){f=a.pingCache=new nO;var m=new Set;f.set(l,m)}else m=f.get(l),m===void 0&&(m=new Set,f.set(l,m));m.has(u)||(Ry=!0,m.add(u),a=oO.bind(null,a,l,u),l.then(a,a))}function oO(a,l,u){var f=a.pingCache;f!==null&&f.delete(l),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,gt===a&&(We&u)===u&&(Nt===4||Nt===3&&(We&62914560)===We&&300>yt()-Iy?(rt&2)===0&&Ol(a,0):Cy|=u,kl===We&&(kl=0)),cs(a)}function Rw(a,l){l===0&&(l=Mc()),a=ml(a,l),a!==null&&(Cs(a,l),cs(a))}function lO(a){var l=a.memoizedState,u=0;l!==null&&(u=l.retryLane),Rw(a,u)}function cO(a,l){var u=0;switch(a.tag){case 13:var f=a.stateNode,m=a.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(l),Rw(a,u)}function uO(a,l){return Ne(a,l)}var ff=null,jl=null,Vy=!1,gf=!1,Uy=!1,co=0;function cs(a){a!==jl&&a.next===null&&(jl===null?ff=jl=a:jl=jl.next=a),gf=!0,Vy||(Vy=!0,dO())}function Au(a,l){if(!Uy&&gf){Uy=!0;do for(var u=!1,f=ff;f!==null;){if(a!==0){var m=f.pendingLanes;if(m===0)var v=0;else{var R=f.suspendedLanes,I=f.pingedLanes;v=(1<<31-_n(42|a)+1)-1,v&=m&~(R&~I),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,kw(f,v))}else v=We,v=Xo(f,f===gt?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||Oa(f,v)||(u=!0,kw(f,v));f=f.next}while(u);Uy=!1}}function hO(){Cw()}function Cw(){gf=Vy=!1;var a=0;co!==0&&(_O()&&(a=co),co=0);for(var l=yt(),u=null,f=ff;f!==null;){var m=f.next,v=Dw(f,l);v===0?(f.next=null,u===null?ff=m:u.next=m,m===null&&(jl=u)):(u=f,(a!==0||(v&3)!==0)&&(gf=!0)),f=m}Au(a)}function Dw(a,l){for(var u=a.suspendedLanes,f=a.pingedLanes,m=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var R=31-_n(v),I=1<<R,z=m[R];z===-1?((I&u)===0||(I&f)!==0)&&(m[R]=kc(I,l)):z<=l&&(a.expiredLanes|=I),v&=~I}if(l=gt,u=We,u=Xo(a,a===l?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,u===0||a===l&&(at===2||at===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Nn(f),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Oa(a,u)){if(l=u&-u,l===a.callbackPriority)return l;switch(f!==null&&Nn(f),Zo(u)){case 2:case 8:u=Er;break;case 32:u=Ia;break;case 268435456:u=Ko;break;default:u=Ia}return f=Iw.bind(null,a),u=Ne(u,f),a.callbackPriority=l,a.callbackNode=u,l}return f!==null&&f!==null&&Nn(f),a.callbackPriority=2,a.callbackNode=null,2}function Iw(a,l){if(gn!==0&&gn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(df()&&a.callbackNode!==u)return null;var f=We;return f=Xo(a,a===gt?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(dw(a,f,l),Dw(a,yt()),a.callbackNode!=null&&a.callbackNode===u?Iw.bind(null,a):null)}function kw(a,l){if(df())return null;dw(a,l,!0)}function dO(){SO(function(){(rt&6)!==0?Ne(Ts,hO):Cw()})}function zy(){return co===0&&(co=Nc()),co}function Nw(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:sl(""+a)}function Mw(a,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,a.id&&u.setAttribute("form",a.id),l.parentNode.insertBefore(u,l),a=new FormData(a),u.parentNode.removeChild(u),a}function fO(a,l,u,f,m){if(l==="submit"&&u&&u.stateNode===m){var v=Nw((m[Ht]||null).action),R=f.submitter;R&&(l=(l=R[Ht]||null)?Nw(l.formAction):R.getAttribute("formAction"),l!==null&&(v=l,R=null));var I=new rl("action","action",null,f,m);a.push({event:I,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(co!==0){var z=R?Mw(m,R):new FormData(m);ay(u,{pending:!0,data:z,method:m.method,action:v},null,z)}}else typeof v=="function"&&(I.preventDefault(),z=R?Mw(m,R):new FormData(m),ay(u,{pending:!0,data:z,method:m.method,action:v},v,z))},currentTarget:m}]})}}for(var By=0;By<xm.length;By++){var Hy=xm[By],gO=Hy.toLowerCase(),pO=Hy[0].toUpperCase()+Hy.slice(1);Mi(gO,"on"+pO)}Mi(dE,"onAnimationEnd"),Mi(fE,"onAnimationIteration"),Mi(gE,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(NM,"onTransitionRun"),Mi(MM,"onTransitionStart"),Mi(OM,"onTransitionCancel"),Mi(pE,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function Ow(a,l){l=(l&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],m=f.event;f=f.listeners;e:{var v=void 0;if(l)for(var R=f.length-1;0<=R;R--){var I=f[R],z=I.instance,Q=I.currentTarget;if(I=I.listener,z!==v&&m.isPropagationStopped())break e;v=I,m.currentTarget=Q;try{v(m)}catch(ie){ef(ie)}m.currentTarget=null,v=z}else for(R=0;R<f.length;R++){if(I=f[R],z=I.instance,Q=I.currentTarget,I=I.listener,z!==v&&m.isPropagationStopped())break e;v=I,m.currentTarget=Q;try{v(m)}catch(ie){ef(ie)}m.currentTarget=null,v=z}}}}function ze(a,l){var u=l[jc];u===void 0&&(u=l[jc]=new Set);var f=a+"__bubble";u.has(f)||(Pw(l,a,2,!1),u.add(f))}function Fy(a,l,u){var f=0;l&&(f|=4),Pw(u,a,f,l)}var pf="_reactListening"+Math.random().toString(36).slice(2);function qy(a){if(!a[pf]){a[pf]=!0,Lc.forEach(function(u){u!=="selectionchange"&&(mO.has(u)||Fy(u,!1,a),Fy(u,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[pf]||(l[pf]=!0,Fy("selectionchange",!1,l))}}function Pw(a,l,u,f){switch(rA(l)){case 2:var m=FO;break;case 8:m=qO;break;default:m=sv}u=m.bind(null,l,u,a),m=void 0,!ui||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(m=!0),f?m!==void 0?a.addEventListener(l,u,{capture:!0,passive:m}):a.addEventListener(l,u,!0):m!==void 0?a.addEventListener(l,u,{passive:m}):a.addEventListener(l,u,!1)}function Gy(a,l,u,f,m){var v=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var I=f.stateNode.containerInfo;if(I===m)break;if(R===4)for(R=f.return;R!==null;){var z=R.tag;if((z===3||z===4)&&R.stateNode.containerInfo===m)return;R=R.return}for(;I!==null;){if(R=Ds(I),R===null)return;if(z=R.tag,z===5||z===6||z===26||z===27){f=v=R;continue e}I=I.parentNode}}f=f.return}md(function(){var Q=v,ie=ci(u),ae=[];e:{var Z=mE.get(a);if(Z!==void 0){var J=rl,ke=a;switch(a){case"keypress":if(es(u)===0)break e;case"keydown":case"keyup":J=hl;break;case"focusin":ke="focus",J=ll;break;case"focusout":ke="blur",J=ll;break;case"beforeblur":case"afterblur":J=ll;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Ad;break;case dE:case fE:case gE:J=cl;break;case pE:J=Td;break;case"scroll":case"scrollend":J=yd;break;case"wheel":J=dl;break;case"copy":case"cut":case"paste":J=ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Qc;break;case"toggle":case"beforetoggle":J=Cd}var Te=(l&4)!==0,dt=!Te&&(a==="scroll"||a==="scrollend"),W=Te?Z!==null?Z+"Capture":null:Z;Te=[];for(var G=Q,$;G!==null;){var re=G;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||W===null||(re=Ha(G,W),re!=null&&Te.push(Tu(G,re,$))),dt)break;G=G.return}0<Te.length&&(Z=new J(Z,ke,null,u,ie),ae.push({event:Z,listeners:Te}))}}if((l&7)===0){e:{if(Z=a==="mouseover"||a==="pointerover",J=a==="mouseout"||a==="pointerout",Z&&u!==Ms&&(ke=u.relatedTarget||u.fromElement)&&(Ds(ke)||ke[oi]))break e;if((J||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(ke=u.relatedTarget||u.toElement,J=Q,ke=ke?Ds(ke):null,ke!==null&&(dt=r(ke),Te=ke.tag,ke!==dt||Te!==5&&Te!==27&&Te!==6)&&(ke=null)):(J=null,ke=Q),J!==ke)){if(Te=hi,re="onMouseLeave",W="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Te=Qc,re="onPointerLeave",W="onPointerEnter",G="pointer"),dt=J==null?Z:Ki(J),$=ke==null?Z:Ki(ke),Z=new Te(re,G+"leave",J,u,ie),Z.target=dt,Z.relatedTarget=$,re=null,Ds(ie)===Q&&(Te=new Te(W,G+"enter",ke,u,ie),Te.target=$,Te.relatedTarget=dt,re=Te),dt=re,J&&ke)t:{for(Te=J,W=ke,G=0,$=Te;$;$=Ll($))G++;for($=0,re=W;re;re=Ll(re))$++;for(;0<G-$;)Te=Ll(Te),G--;for(;0<$-G;)W=Ll(W),$--;for(;G--;){if(Te===W||W!==null&&Te===W.alternate)break t;Te=Ll(Te),W=Ll(W)}Te=null}else Te=null;J!==null&&jw(ae,Z,J,Te,!1),ke!==null&&dt!==null&&jw(ae,dt,ke,Te,!0)}}e:{if(Z=Q?Ki(Q):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var ye=tE;else if(Kt(Z))if(nE)ye=DM;else{ye=RM;var Ve=TM}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&Hc(Q.elementType)&&(ye=tE):ye=CM;if(ye&&(ye=ye(a,Q))){Vs(ae,ye,u,ie);break e}Ve&&Ve(a,Z,Q),a==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&Rr(Z,"number",Z.value)}switch(Ve=Q?Ki(Q):window,a){case"focusin":(Kt(Ve)||Ve.contentEditable==="true")&&(fl=Ve,Sm=Q,Zc=null);break;case"focusout":Zc=Sm=fl=null;break;case"mousedown":wm=!0;break;case"contextmenu":case"mouseup":case"dragend":wm=!1,uE(ae,u,ie);break;case"selectionchange":if(kM)break;case"keydown":case"keyup":uE(ae,u,ie)}var Se;if(is)e:{switch(a){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else qe?ne(a,u)&&(Re="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(T&&u.locale!=="ko"&&(qe||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&qe&&(Se=qc()):(Ji=ie,Cr="value"in Ji?Ji.value:Ji.textContent,qe=!0)),Ve=mf(Q,Re),0<Ve.length&&(Re=new Yc(Re,a,null,u,ie),ae.push({event:Re,listeners:Ve}),Se?Re.data=Se:(Se=de(u),Se!==null&&(Re.data=Se)))),(Se=S?Qt(a,u):Ge(a,u))&&(Re=mf(Q,"onBeforeInput"),0<Re.length&&(Ve=new Yc("onBeforeInput","beforeinput",null,u,ie),ae.push({event:Ve,listeners:Re}),Ve.data=Se)),fO(ae,a,Q,u,ie)}Ow(ae,l)})}function Tu(a,l,u){return{instance:a,listener:l,currentTarget:u}}function mf(a,l){for(var u=l+"Capture",f=[];a!==null;){var m=a,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=Ha(a,u),m!=null&&f.unshift(Tu(a,m,v)),m=Ha(a,l),m!=null&&f.push(Tu(a,m,v))),a.tag===3)return f;a=a.return}return[]}function Ll(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function jw(a,l,u,f,m){for(var v=l._reactName,R=[];u!==null&&u!==f;){var I=u,z=I.alternate,Q=I.stateNode;if(I=I.tag,z!==null&&z===f)break;I!==5&&I!==26&&I!==27||Q===null||(z=Q,m?(Q=Ha(u,v),Q!=null&&R.unshift(Tu(u,Q,z))):m||(Q=Ha(u,v),Q!=null&&R.push(Tu(u,Q,z)))),u=u.return}R.length!==0&&a.push({event:l,listeners:R})}var yO=/\r\n?/g,vO=/\u0000|\uFFFD/g;function Lw(a){return(typeof a=="string"?a:""+a).replace(yO,`
`).replace(vO,"")}function Vw(a,l){return l=Lw(l),Lw(a)===l}function yf(){}function ht(a,l,u,f,m,v){switch(u){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||li(a,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&li(a,""+f);break;case"className":Xi(a,"class",f);break;case"tabIndex":Xi(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Xi(a,u,f);break;case"style":Bc(a,f,v);break;case"data":if(l!=="object"){Xi(a,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=sl(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(l!=="input"&&ht(a,l,"name",m.name,m,null),ht(a,l,"formEncType",m.formEncType,m,null),ht(a,l,"formMethod",m.formMethod,m,null),ht(a,l,"formTarget",m.formTarget,m,null)):(ht(a,l,"encType",m.encType,m,null),ht(a,l,"method",m.method,m,null),ht(a,l,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=sl(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=yf);break;case"onScroll":f!=null&&ze("scroll",a);break;case"onScrollEnd":f!=null&&ze("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=sl(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":ze("beforetoggle",a),ze("toggle",a),Tr(a,"popover",f);break;case"xlinkActuate":hn(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":hn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":hn(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":hn(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":hn(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":hn(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":hn(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":hn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":hn(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Tr(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=pm.get(u)||u,Tr(a,u,f))}}function Wy(a,l,u,f,m,v){switch(u){case"style":Bc(a,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"children":typeof f=="string"?li(a,f):(typeof f=="number"||typeof f=="bigint")&&li(a,""+f);break;case"onScroll":f!=null&&ze("scroll",a);break;case"onScrollEnd":f!=null&&ze("scrollend",a);break;case"onClick":f!=null&&(a.onclick=yf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jo.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),l=u.slice(2,m?u.length-7:void 0),v=a[Ht]||null,v=v!=null?v[u]:null,typeof v=="function"&&a.removeEventListener(l,v,m),typeof f=="function")){typeof v!="function"&&v!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(l,f,m);break e}u in a?a[u]=f:f===!0?a.setAttribute(u,""):Tr(a,u,f)}}}function pn(a,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",a),ze("load",a);var f=!1,m=!1,v;for(v in u)if(u.hasOwnProperty(v)){var R=u[v];if(R!=null)switch(v){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:ht(a,l,v,R,u,null)}}m&&ht(a,l,"srcSet",u.srcSet,u,null),f&&ht(a,l,"src",u.src,u,null);return;case"input":ze("invalid",a);var I=v=R=m=null,z=null,Q=null;for(f in u)if(u.hasOwnProperty(f)){var ie=u[f];if(ie!=null)switch(f){case"name":m=ie;break;case"type":R=ie;break;case"checked":z=ie;break;case"defaultChecked":Q=ie;break;case"value":v=ie;break;case"defaultValue":I=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,l));break;default:ht(a,l,f,ie,u,null)}}Ua(a,v,I,z,Q,R,m,!1),il(a);return;case"select":ze("invalid",a),f=R=v=null;for(m in u)if(u.hasOwnProperty(m)&&(I=u[m],I!=null))switch(m){case"value":v=I;break;case"defaultValue":R=I;break;case"multiple":f=I;default:ht(a,l,m,I,u,null)}l=v,u=R,a.multiple=!!f,l!=null?Ns(a,!!f,l,!1):u!=null&&Ns(a,!!f,u,!0);return;case"textarea":ze("invalid",a),v=m=f=null;for(R in u)if(u.hasOwnProperty(R)&&(I=u[R],I!=null))switch(R){case"value":f=I;break;case"defaultValue":m=I;break;case"children":v=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:ht(a,l,R,I,u,null)}za(a,f,m,v),il(a);return;case"option":for(z in u)if(u.hasOwnProperty(z)&&(f=u[z],f!=null))switch(z){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ht(a,l,z,f,u,null)}return;case"dialog":ze("beforetoggle",a),ze("toggle",a),ze("cancel",a),ze("close",a);break;case"iframe":case"object":ze("load",a);break;case"video":case"audio":for(f=0;f<xu.length;f++)ze(xu[f],a);break;case"image":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"embed":case"source":case"link":ze("error",a),ze("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in u)if(u.hasOwnProperty(Q)&&(f=u[Q],f!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:ht(a,l,Q,f,u,null)}return;default:if(Hc(l)){for(ie in u)u.hasOwnProperty(ie)&&(f=u[ie],f!==void 0&&Wy(a,l,ie,f,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(f=u[I],f!=null&&ht(a,l,I,f,u,null))}function bO(a,l,u,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,R=null,I=null,z=null,Q=null,ie=null;for(J in u){var ae=u[J];if(u.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":z=ae;default:f.hasOwnProperty(J)||ht(a,l,J,null,f,ae)}}for(var Z in f){var J=f[Z];if(ae=u[Z],f.hasOwnProperty(Z)&&(J!=null||ae!=null))switch(Z){case"type":v=J;break;case"name":m=J;break;case"checked":Q=J;break;case"defaultChecked":ie=J;break;case"value":R=J;break;case"defaultValue":I=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,l));break;default:J!==ae&&ht(a,l,Z,J,f,ae)}}Kn(a,R,I,z,Q,ie,v,m);return;case"select":J=R=I=Z=null;for(v in u)if(z=u[v],u.hasOwnProperty(v)&&z!=null)switch(v){case"value":break;case"multiple":J=z;default:f.hasOwnProperty(v)||ht(a,l,v,null,f,z)}for(m in f)if(v=f[m],z=u[m],f.hasOwnProperty(m)&&(v!=null||z!=null))switch(m){case"value":Z=v;break;case"defaultValue":I=v;break;case"multiple":R=v;default:v!==z&&ht(a,l,m,v,f,z)}l=I,u=R,f=J,Z!=null?Ns(a,!!u,Z,!1):!!f!=!!u&&(l!=null?Ns(a,!!u,l,!0):Ns(a,!!u,u?[]:"",!1));return;case"textarea":J=Z=null;for(I in u)if(m=u[I],u.hasOwnProperty(I)&&m!=null&&!f.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:ht(a,l,I,null,f,m)}for(R in f)if(m=f[R],v=u[R],f.hasOwnProperty(R)&&(m!=null||v!=null))switch(R){case"value":Z=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==v&&ht(a,l,R,m,f,v)}ct(a,Z,J);return;case"option":for(var ke in u)if(Z=u[ke],u.hasOwnProperty(ke)&&Z!=null&&!f.hasOwnProperty(ke))switch(ke){case"selected":a.selected=!1;break;default:ht(a,l,ke,null,f,Z)}for(z in f)if(Z=f[z],J=u[z],f.hasOwnProperty(z)&&Z!==J&&(Z!=null||J!=null))switch(z){case"selected":a.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ht(a,l,z,Z,f,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in u)Z=u[Te],u.hasOwnProperty(Te)&&Z!=null&&!f.hasOwnProperty(Te)&&ht(a,l,Te,null,f,Z);for(Q in f)if(Z=f[Q],J=u[Q],f.hasOwnProperty(Q)&&Z!==J&&(Z!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,l));break;default:ht(a,l,Q,Z,f,J)}return;default:if(Hc(l)){for(var dt in u)Z=u[dt],u.hasOwnProperty(dt)&&Z!==void 0&&!f.hasOwnProperty(dt)&&Wy(a,l,dt,void 0,f,Z);for(ie in f)Z=f[ie],J=u[ie],!f.hasOwnProperty(ie)||Z===J||Z===void 0&&J===void 0||Wy(a,l,ie,Z,f,J);return}}for(var W in u)Z=u[W],u.hasOwnProperty(W)&&Z!=null&&!f.hasOwnProperty(W)&&ht(a,l,W,null,f,Z);for(ae in f)Z=f[ae],J=u[ae],!f.hasOwnProperty(ae)||Z===J||Z==null&&J==null||ht(a,l,ae,Z,f,J)}var Yy=null,$y=null;function vf(a){return a.nodeType===9?a:a.ownerDocument}function Uw(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zw(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Qy(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ky=null;function _O(){var a=window.event;return a&&a.type==="popstate"?a===Ky?!1:(Ky=a,!0):(Ky=null,!1)}var Bw=typeof setTimeout=="function"?setTimeout:void 0,EO=typeof clearTimeout=="function"?clearTimeout:void 0,Hw=typeof Promise=="function"?Promise:void 0,SO=typeof queueMicrotask=="function"?queueMicrotask:typeof Hw<"u"?function(a){return Hw.resolve(null).then(a).catch(wO)}:Bw;function wO(a){setTimeout(function(){throw a})}function qr(a){return a==="head"}function Fw(a,l){var u=l,f=0,m=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<f&&8>f){u=f;var R=a.ownerDocument;if(u&1&&Ru(R.documentElement),u&2&&Ru(R.body),u&4)for(u=R.head,Ru(u),R=u.firstChild;R;){var I=R.nextSibling,z=R.nodeName;R[Pa]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&R.rel.toLowerCase()==="stylesheet"||u.removeChild(R),R=I}}if(m===0){a.removeChild(v),Pu(l);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:f=u.charCodeAt(0)-48;else f=0;u=v}while(u);Pu(l)}function Xy(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Xy(u),xr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function AO(a,l,u,f){for(;a.nodeType===1;){var m=u;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Pa])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==m.rel||a.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||a.getAttribute("title")!==(m.title==null?null:m.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(m.src==null?null:m.src)||a.getAttribute("type")!==(m.type==null?null:m.type)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=Pi(a.nextSibling),a===null)break}return null}function xO(a,l,u){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Pi(a.nextSibling),a===null))return null;return a}function Zy(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function TO(a,l){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")l();else{var f=function(){l(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function Pi(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var Jy=null;function qw(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return a;l--}else u==="/$"&&l++}a=a.previousSibling}return null}function Gw(a,l,u){switch(l=vf(u),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Ru(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);xr(a)}var vi=new Map,Ww=new Set;function bf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Xs=ce.d;ce.d={f:RO,r:CO,D:DO,C:IO,L:kO,m:NO,X:OO,S:MO,M:PO};function RO(){var a=Xs.f(),l=uf();return a||l}function CO(a){var l=Qi(a);l!==null&&l.tag===5&&l.type==="form"?dS(l):Xs.r(a)}var Vl=typeof document>"u"?null:document;function Yw(a,l,u){var f=Vl;if(f&&typeof l=="string"&&l){var m=Ft(l);m='link[rel="'+a+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),Ww.has(m)||(Ww.add(m),a={rel:a,crossOrigin:u,href:l},f.querySelector(m)===null&&(l=f.createElement("link"),pn(l,"link",a),jt(l),f.head.appendChild(l)))}}function DO(a){Xs.D(a),Yw("dns-prefetch",a,null)}function IO(a,l){Xs.C(a,l),Yw("preconnect",a,l)}function kO(a,l,u){Xs.L(a,l,u);var f=Vl;if(f&&a&&l){var m='link[rel="preload"][as="'+Ft(l)+'"]';l==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+Ft(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+Ft(u.imageSizes)+'"]')):m+='[href="'+Ft(a)+'"]';var v=m;switch(l){case"style":v=Ul(a);break;case"script":v=zl(a)}vi.has(v)||(a=g({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:a,as:l},u),vi.set(v,a),f.querySelector(m)!==null||l==="style"&&f.querySelector(Cu(v))||l==="script"&&f.querySelector(Du(v))||(l=f.createElement("link"),pn(l,"link",a),jt(l),f.head.appendChild(l)))}}function NO(a,l){Xs.m(a,l);var u=Vl;if(u&&a){var f=l&&typeof l.as=="string"?l.as:"script",m='link[rel="modulepreload"][as="'+Ft(f)+'"][href="'+Ft(a)+'"]',v=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=zl(a)}if(!vi.has(v)&&(a=g({rel:"modulepreload",href:a},l),vi.set(v,a),u.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Du(v)))return}f=u.createElement("link"),pn(f,"link",a),jt(f),u.head.appendChild(f)}}}function MO(a,l,u){Xs.S(a,l,u);var f=Vl;if(f&&a){var m=Mn(f).hoistableStyles,v=Ul(a);l=l||"default";var R=m.get(v);if(!R){var I={loading:0,preload:null};if(R=f.querySelector(Cu(v)))I.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},u),(u=vi.get(v))&&ev(a,u);var z=R=f.createElement("link");jt(z),pn(z,"link",a),z._p=new Promise(function(Q,ie){z.onload=Q,z.onerror=ie}),z.addEventListener("load",function(){I.loading|=1}),z.addEventListener("error",function(){I.loading|=2}),I.loading|=4,_f(R,l,f)}R={type:"stylesheet",instance:R,count:1,state:I},m.set(v,R)}}}function OO(a,l){Xs.X(a,l);var u=Vl;if(u&&a){var f=Mn(u).hoistableScripts,m=zl(a),v=f.get(m);v||(v=u.querySelector(Du(m)),v||(a=g({src:a,async:!0},l),(l=vi.get(m))&&tv(a,l),v=u.createElement("script"),jt(v),pn(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(m,v))}}function PO(a,l){Xs.M(a,l);var u=Vl;if(u&&a){var f=Mn(u).hoistableScripts,m=zl(a),v=f.get(m);v||(v=u.querySelector(Du(m)),v||(a=g({src:a,async:!0,type:"module"},l),(l=vi.get(m))&&tv(a,l),v=u.createElement("script"),jt(v),pn(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(m,v))}}function $w(a,l,u,f){var m=(m=Ee.current)?bf(m):null;if(!m)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Ul(u.href),u=Mn(m).hoistableStyles,f=u.get(l),f||(f={type:"style",instance:null,count:0,state:null},u.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Ul(u.href);var v=Mn(m).hoistableStyles,R=v.get(a);if(R||(m=m.ownerDocument||m,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,R),(v=m.querySelector(Cu(a)))&&!v._p&&(R.instance=v,R.state.loading=5),vi.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},vi.set(a,u),v||jO(m,a,u,R.state))),l&&f===null)throw Error(i(528,""));return R}if(l&&f!==null)throw Error(i(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=zl(u),u=Mn(m).hoistableScripts,f=u.get(l),f||(f={type:"script",instance:null,count:0,state:null},u.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Ul(a){return'href="'+Ft(a)+'"'}function Cu(a){return'link[rel="stylesheet"]['+a+"]"}function Qw(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function jO(a,l,u,f){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=a.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),pn(l,"link",u),jt(l),a.head.appendChild(l))}function zl(a){return'[src="'+Ft(a)+'"]'}function Du(a){return"script[async]"+a}function Kw(a,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var f=a.querySelector('style[data-href~="'+Ft(u.href)+'"]');if(f)return l.instance=f,jt(f),f;var m=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),jt(f),pn(f,"style",m),_f(f,u.precedence,a),l.instance=f;case"stylesheet":m=Ul(u.href);var v=a.querySelector(Cu(m));if(v)return l.state.loading|=4,l.instance=v,jt(v),v;f=Qw(u),(m=vi.get(m))&&ev(f,m),v=(a.ownerDocument||a).createElement("link"),jt(v);var R=v;return R._p=new Promise(function(I,z){R.onload=I,R.onerror=z}),pn(v,"link",f),l.state.loading|=4,_f(v,u.precedence,a),l.instance=v;case"script":return v=zl(u.src),(m=a.querySelector(Du(v)))?(l.instance=m,jt(m),m):(f=u,(m=vi.get(v))&&(f=g({},u),tv(f,m)),a=a.ownerDocument||a,m=a.createElement("script"),jt(m),pn(m,"link",f),a.head.appendChild(m),l.instance=m);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,_f(f,u.precedence,a));return l.instance}function _f(a,l,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,v=m,R=0;R<f.length;R++){var I=f[R];if(I.dataset.precedence===l)v=I;else if(v!==m)break}v?v.parentNode.insertBefore(a,v.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(a,l.firstChild))}function ev(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function tv(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Ef=null;function Xw(a,l,u){if(Ef===null){var f=new Map,m=Ef=new Map;m.set(u,f)}else m=Ef,f=m.get(u),f||(f=new Map,m.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),m=0;m<u.length;m++){var v=u[m];if(!(v[Pa]||v[$t]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var R=v.getAttribute(l)||"";R=a+R;var I=f.get(R);I?I.push(v):f.set(R,[v])}}return f}function Zw(a,l,u){a=a.ownerDocument||a,a.head.insertBefore(u,l==="title"?a.querySelector("head > title"):null)}function LO(a,l,u){if(u===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Jw(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Iu=null;function VO(){}function UO(a,l,u){if(Iu===null)throw Error(i(475));var f=Iu;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Ul(u.href),v=a.querySelector(Cu(m));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=Sf.bind(f),a.then(f,f)),l.state.loading|=4,l.instance=v,jt(v);return}v=a.ownerDocument||a,u=Qw(u),(m=vi.get(m))&&ev(u,m),v=v.createElement("link"),jt(v);var R=v;R._p=new Promise(function(I,z){R.onload=I,R.onerror=z}),pn(v,"link",u),l.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(f.count++,l=Sf.bind(f),a.addEventListener("load",l),a.addEventListener("error",l))}}function zO(){if(Iu===null)throw Error(i(475));var a=Iu;return a.stylesheets&&a.count===0&&nv(a,a.stylesheets),0<a.count?function(l){var u=setTimeout(function(){if(a.stylesheets&&nv(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(u)}}:null}function Sf(){if(this.count--,this.count===0){if(this.stylesheets)nv(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var wf=null;function nv(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,wf=new Map,l.forEach(BO,a),wf=null,Sf.call(a))}function BO(a,l){if(!(l.state.loading&4)){var u=wf.get(a);if(u)var f=u.get(null);else{u=new Map,wf.set(a,u);for(var m=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var R=m[v];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),f=R)}f&&u.set(null,f)}m=l.instance,R=m.getAttribute("data-precedence"),v=u.get(R)||f,v===f&&u.set(null,m),u.set(R,m),this.count++,f=Sf.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),v?v.parentNode.insertBefore(m,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(m,a.firstChild)),l.state.loading|=4}}var ku={$$typeof:j,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function HO(a,l,u,f,m,v,R,I){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rs(0),this.hiddenUpdates=Rs(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function eA(a,l,u,f,m,v,R,I,z,Q,ie,ae){return a=new HO(a,l,u,R,I,z,Q,ae),l=1,v===!0&&(l|=24),v=Zn(3,null,null,l),a.current=v,v.stateNode=a,l=Lm(),l.refCount++,a.pooledCache=l,l.refCount++,v.memoizedState={element:f,isDehydrated:u,cache:l},Bm(v),a}function tA(a){return a?(a=yl,a):yl}function nA(a,l,u,f,m,v){m=tA(m),f.context===null?f.context=m:f.pendingContext=m,f=kr(l),f.payload={element:u},v=v===void 0?null:v,v!==null&&(f.callback=v),u=Nr(a,f,l),u!==null&&(ii(u,a,l),ou(u,a,l))}function iA(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<l?u:l}}function iv(a,l){iA(a,l),(a=a.alternate)&&iA(a,l)}function sA(a){if(a.tag===13){var l=ml(a,67108864);l!==null&&ii(l,a,67108864),iv(a,67108864)}}var Af=!0;function FO(a,l,u,f){var m=K.T;K.T=null;var v=ce.p;try{ce.p=2,sv(a,l,u,f)}finally{ce.p=v,K.T=m}}function qO(a,l,u,f){var m=K.T;K.T=null;var v=ce.p;try{ce.p=8,sv(a,l,u,f)}finally{ce.p=v,K.T=m}}function sv(a,l,u,f){if(Af){var m=rv(f);if(m===null)Gy(a,l,f,xf,u),aA(a,f);else if(WO(m,a,l,u,f))f.stopPropagation();else if(aA(a,f),l&4&&-1<GO.indexOf(a)){for(;m!==null;){var v=Qi(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var R=Ii(v.pendingLanes);if(R!==0){var I=v;for(I.pendingLanes|=2,I.entangledLanes|=2;R;){var z=1<<31-_n(R);I.entanglements[1]|=z,R&=~z}cs(v),(rt&6)===0&&(lf=yt()+500,Au(0))}}break;case 13:I=ml(v,2),I!==null&&ii(I,v,2),uf(),iv(v,2)}if(v=rv(f),v===null&&Gy(a,l,f,xf,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else Gy(a,l,f,null,u)}}function rv(a){return a=ci(a),av(a)}var xf=null;function av(a){if(xf=null,a=Ds(a),a!==null){var l=r(a);if(l===null)a=null;else{var u=l.tag;if(u===13){if(a=o(l),a!==null)return a;a=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return xf=a,null}function rA(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Da()){case Ts:return 2;case Er:return 8;case Ia:case um:return 32;case Ko:return 268435456;default:return 32}default:return 32}}var ov=!1,Gr=null,Wr=null,Yr=null,Nu=new Map,Mu=new Map,$r=[],GO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aA(a,l){switch(a){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Nu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(l.pointerId)}}function Ou(a,l,u,f,m,v){return a===null||a.nativeEvent!==v?(a={blockedOn:l,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},l!==null&&(l=Qi(l),l!==null&&sA(l)),a):(a.eventSystemFlags|=f,l=a.targetContainers,m!==null&&l.indexOf(m)===-1&&l.push(m),a)}function WO(a,l,u,f,m){switch(l){case"focusin":return Gr=Ou(Gr,a,l,u,f,m),!0;case"dragenter":return Wr=Ou(Wr,a,l,u,f,m),!0;case"mouseover":return Yr=Ou(Yr,a,l,u,f,m),!0;case"pointerover":var v=m.pointerId;return Nu.set(v,Ou(Nu.get(v)||null,a,l,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Mu.set(v,Ou(Mu.get(v)||null,a,l,u,f,m)),!0}return!1}function oA(a){var l=Ds(a.target);if(l!==null){var u=r(l);if(u!==null){if(l=u.tag,l===13){if(l=o(u),l!==null){a.blockedOn=l,cd(a.priority,function(){if(u.tag===13){var f=ni();f=Sr(f);var m=ml(u,f);m!==null&&ii(m,u,f),iv(u,f)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Tf(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var u=rv(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);Ms=f,u.target.dispatchEvent(f),Ms=null}else return l=Qi(u),l!==null&&sA(l),a.blockedOn=u,!1;l.shift()}return!0}function lA(a,l,u){Tf(a)&&u.delete(l)}function YO(){ov=!1,Gr!==null&&Tf(Gr)&&(Gr=null),Wr!==null&&Tf(Wr)&&(Wr=null),Yr!==null&&Tf(Yr)&&(Yr=null),Nu.forEach(lA),Mu.forEach(lA)}function Rf(a,l){a.blockedOn===l&&(a.blockedOn=null,ov||(ov=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YO)))}var Cf=null;function cA(a){Cf!==a&&(Cf=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Cf===a&&(Cf=null);for(var l=0;l<a.length;l+=3){var u=a[l],f=a[l+1],m=a[l+2];if(typeof f!="function"){if(av(f||u)===null)continue;break}var v=Qi(u);v!==null&&(a.splice(l,3),l-=3,ay(v,{pending:!0,data:m,method:u.method,action:f},f,m))}}))}function Pu(a){function l(z){return Rf(z,a)}Gr!==null&&Rf(Gr,a),Wr!==null&&Rf(Wr,a),Yr!==null&&Rf(Yr,a),Nu.forEach(l),Mu.forEach(l);for(var u=0;u<$r.length;u++){var f=$r[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<$r.length&&(u=$r[0],u.blockedOn===null);)oA(u),u.blockedOn===null&&$r.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var m=u[f],v=u[f+1],R=m[Ht]||null;if(typeof v=="function")R||cA(u);else if(R){var I=null;if(v&&v.hasAttribute("formAction")){if(m=v,R=v[Ht]||null)I=R.formAction;else if(av(m)!==null)continue}else I=R.action;typeof I=="function"?u[f+1]=I:(u.splice(f,3),f-=3),cA(u)}}}function lv(a){this._internalRoot=a}Df.prototype.render=lv.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var u=l.current,f=ni();nA(u,f,a,l,null,null)},Df.prototype.unmount=lv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;nA(a.current,2,null,a,null,null),uf(),l[oi]=null}};function Df(a){this._internalRoot=a}Df.prototype.unstable_scheduleHydration=function(a){if(a){var l=wr();a={blockedOn:null,target:a,priority:l};for(var u=0;u<$r.length&&l!==0&&l<$r[u].priority;u++);$r.splice(u,0,a),u===0&&oA(a)}};var uA=e.version;if(uA!=="19.1.0")throw Error(i(527,uA,"19.1.0"));ce.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=h(l),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var $O={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var If=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!If.isDisabled&&If.supportsFiber)try{It=If.inject($O),st=If}catch{}}return Lu.createRoot=function(a,l){if(!s(a))throw Error(i(299));var u=!1,f="",m=TS,v=RS,R=CS,I=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(I=l.unstable_transitionCallbacks)),l=eA(a,1,!1,null,null,u,f,m,v,R,I,null),a[oi]=l.current,qy(a),new lv(l)},Lu.hydrateRoot=function(a,l,u){if(!s(a))throw Error(i(299));var f=!1,m="",v=TS,R=RS,I=CS,z=null,Q=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(z=u.unstable_transitionCallbacks),u.formState!==void 0&&(Q=u.formState)),l=eA(a,1,!0,l,u??null,f,m,v,R,I,z,Q),l.context=tA(null),u=l.current,f=ni(),f=Sr(f),m=kr(f),m.callback=null,Nr(u,m,f),u=f,l.current.lanes=u,Cs(l,u),cs(l),a[oi]=l.current,qy(a),new Df(l)},Lu.version="19.1.0",Lu}var _A;function a2(){if(_A)return hv.exports;_A=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hv.exports=r2(),hv.exports}var o2=a2(),Vu={},EA;function l2(){if(EA)return Vu;EA=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.parse=o,Vu.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,r=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function o(b,_){const w=new r,x=b.length;if(x<2)return w;const A=(_==null?void 0:_.decode)||g;let D=0;do{const O=b.indexOf("=",D);if(O===-1)break;const j=b.indexOf(";",D),H=j===-1?x:j;if(O>H){D=b.lastIndexOf(";",O-1)+1;continue}const q=c(b,D,O),X=h(b,O,q),M=b.slice(q,X);if(w[M]===void 0){let C=c(b,O+1,H),k=h(b,H,C);const P=A(b.slice(C,k));w[M]=P}D=H+1}while(D<x);return w}function c(b,_,w){do{const x=b.charCodeAt(_);if(x!==32&&x!==9)return _}while(++_<w);return w}function h(b,_,w){for(;_>w;){const x=b.charCodeAt(--_);if(x!==32&&x!==9)return _+1}return w}function d(b,_,w){const x=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const A=x(_);if(!e.test(A))throw new TypeError(`argument val is invalid: ${_}`);let D=b+"="+A;if(!w)return D;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);D+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);D+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);D+="; Path="+w.path}if(w.expires){if(!y(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);D+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(D+="; HttpOnly"),w.secure&&(D+="; Secure"),w.partitioned&&(D+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return D}function g(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return s.call(b)==="[object Date]"}return Vu}l2();var SA="popstate";function c2(n={}){function e(s,r){let{pathname:o="/",search:c="",hash:h=""}=Lo(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ob("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(s,r){let o=s.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let h=s.location.href,d=h.indexOf("#");c=d===-1?h:h.slice(0,d)}return c+"#"+(typeof r=="string"?r:Eh(r))}function i(s,r){xi(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return h2(e,t,i,n)}function St(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u2(){return Math.random().toString(36).substring(2,10)}function wA(n,e){return{usr:n.state,key:n.key,idx:e}}function ob(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Lo(e):e,state:t,key:e&&e.key||i||u2()}}function Eh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Lo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function h2(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,c="POP",h=null,d=g();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function g(){return(o.state||{idx:null}).idx}function y(){c="POP";let A=g(),D=A==null?null:A-d;d=A,h&&h({action:c,location:x.location,delta:D})}function b(A,D){c="PUSH";let O=ob(x.location,A,D);t&&t(O,A),d=g()+1;let j=wA(O,d),H=x.createHref(O);try{o.pushState(j,"",H)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(H)}r&&h&&h({action:c,location:x.location,delta:1})}function _(A,D){c="REPLACE";let O=ob(x.location,A,D);t&&t(O,A),d=g();let j=wA(O,d),H=x.createHref(O);o.replaceState(j,"",H),r&&h&&h({action:c,location:x.location,delta:0})}function w(A){return d2(A)}let x={get action(){return c},get location(){return n(s,o)},listen(A){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(SA,y),h=A,()=>{s.removeEventListener(SA,y),h=null}},createHref(A){return e(s,A)},createURL:w,encodeLocation(A){let D=w(A);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:b,replace:_,go(A){return o.go(A)}};return x}function d2(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),St(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Eh(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function MC(n,e,t="/"){return f2(n,e,t,!1)}function f2(n,e,t,i){let s=typeof e=="string"?Lo(e):e,r=dr(s.pathname||"/",t);if(r==null)return null;let o=OC(n);g2(o);let c=null;for(let h=0;c==null&&h<o.length;++h){let d=x2(r);c=w2(o[h],d,i)}return c}function OC(n,e=[],t=[],i=""){let s=(r,o,c)=>{let h={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};h.relativePath.startsWith("/")&&(St(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=ar([i,h.relativePath]),g=t.concat(h);r.children&&r.children.length>0&&(St(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),OC(r.children,e,g,d)),!(r.path==null&&!r.index)&&e.push({path:d,score:E2(d,r.index),routesMeta:g})};return n.forEach((r,o)=>{var c;if(r.path===""||!((c=r.path)!=null&&c.includes("?")))s(r,o);else for(let h of PC(r.path))s(r,o,h)}),e}function PC(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=PC(i.join("/")),c=[];return c.push(...o.map(h=>h===""?r:[r,h].join("/"))),s&&c.push(...o),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function g2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:S2(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var p2=/^:[\w-]+$/,m2=3,y2=2,v2=1,b2=10,_2=-2,AA=n=>n==="*";function E2(n,e){let t=n.split("/"),i=t.length;return t.some(AA)&&(i+=_2),e&&(i+=y2),t.filter(s=>!AA(s)).reduce((s,r)=>s+(p2.test(r)?m2:r===""?v2:b2),i)}function S2(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function w2(n,e,t=!1){let{routesMeta:i}=n,s={},r="/",o=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,g=r==="/"?e:e.slice(r.length)||"/",y=Dg({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},g),b=h.route;if(!y&&d&&t&&!i[i.length-1].route.index&&(y=Dg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),o.push({params:s,pathname:ar([r,y.pathname]),pathnameBase:D2(ar([r,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(r=ar([r,y.pathnameBase]))}return o}function Dg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=A2(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:y},b)=>{if(g==="*"){let w=c[b]||"";o=r.slice(0,r.length-w.length).replace(/(.)\/+$/,"$1")}const _=c[b];return y&&!_?d[g]=void 0:d[g]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:o,pattern:n}}function A2(n,e=!1,t=!0){xi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function x2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function dr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function T2(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Lo(n):n;return{pathname:t?t.startsWith("/")?t:R2(t,e):e,search:I2(i),hash:k2(s)}}function R2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function pv(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function o_(n){let e=C2(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function l_(n,e,t,i=!1){let s;typeof n=="string"?s=Lo(n):(s={...n},St(!s.pathname||!s.pathname.includes("?"),pv("?","pathname","search",s)),St(!s.pathname||!s.pathname.includes("#"),pv("#","pathname","hash",s)),St(!s.search||!s.search.includes("#"),pv("#","search","hash",s)));let r=n===""||s.pathname==="",o=r?"/":s.pathname,c;if(o==null)c=t;else{let y=e.length-1;if(!i&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}c=y>=0?e[y]:"/"}let h=T2(s,c),d=o&&o!=="/"&&o.endsWith("/"),g=(r||o===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}var ar=n=>n.join("/").replace(/\/\/+/g,"/"),D2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),I2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,k2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function N2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var jC=["POST","PUT","PATCH","DELETE"];new Set(jC);var M2=["GET",...jC];new Set(M2);var vc=B.createContext(null);vc.displayName="DataRouter";var Ap=B.createContext(null);Ap.displayName="DataRouterState";var LC=B.createContext({isTransitioning:!1});LC.displayName="ViewTransition";var O2=B.createContext(new Map);O2.displayName="Fetchers";var P2=B.createContext(null);P2.displayName="Await";var Fi=B.createContext(null);Fi.displayName="Navigation";var Hh=B.createContext(null);Hh.displayName="Location";var Ci=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var c_=B.createContext(null);c_.displayName="RouteError";function j2(n,{relative:e}={}){St(bc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(Fi),{hash:s,pathname:r,search:o}=qh(n,{relative:e}),c=r;return t!=="/"&&(c=r==="/"?t:ar([t,r])),i.createHref({pathname:c,search:o,hash:s})}function bc(){return B.useContext(Hh)!=null}function qi(){return St(bc(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Hh).location}var VC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UC(n){B.useContext(Fi).static||B.useLayoutEffect(n)}function br(){let{isDataRoute:n}=B.useContext(Ci);return n?X2():L2()}function L2(){St(bc(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(vc),{basename:e,navigator:t}=B.useContext(Fi),{matches:i}=B.useContext(Ci),{pathname:s}=qi(),r=JSON.stringify(o_(i)),o=B.useRef(!1);return UC(()=>{o.current=!0}),B.useCallback((h,d={})=>{if(xi(o.current,VC),!o.current)return;if(typeof h=="number"){t.go(h);return}let g=l_(h,JSON.parse(r),s,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ar([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,r,s,n])}var zC=B.createContext(null);function Fh(){return B.useContext(zC)}function V2(n){let e=B.useContext(Ci).outlet;return e&&B.createElement(zC.Provider,{value:n},e)}function U2(){let{matches:n}=B.useContext(Ci),e=n[n.length-1];return e?e.params:{}}function qh(n,{relative:e}={}){let{matches:t}=B.useContext(Ci),{pathname:i}=qi(),s=JSON.stringify(o_(t));return B.useMemo(()=>l_(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function z2(n,e){return BC(n,e)}function BC(n,e,t,i){var O;St(bc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:r}=B.useContext(Fi),{matches:o}=B.useContext(Ci),c=o[o.length-1],h=c?c.params:{},d=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let j=y&&y.path||"";HC(d,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=qi(),_;if(e){let j=typeof e=="string"?Lo(e):e;St(g==="/"||((O=j.pathname)==null?void 0:O.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),_=j}else _=b;let w=_.pathname||"/",x=w;if(g!=="/"){let j=g.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let A=!r&&t&&t.matches&&t.matches.length>0?t.matches:MC(n,{pathname:x});xi(y||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),xi(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=G2(A&&A.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:ar([g,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:ar([g,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,t,i);return e&&D?B.createElement(Hh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},D):D}function B2(){let n=K2(),e=N2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:r},"ErrorBoundary")," or"," ",B.createElement("code",{style:r},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:s},t):null,o)}var H2=B.createElement(B2,null),F2=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(Ci.Provider,{value:this.props.routeContext},B.createElement(c_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function q2({routeContext:n,match:e,children:t}){let i=B.useContext(vc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ci.Provider,{value:n},t)}function G2(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,r=t==null?void 0:t.errors;if(r!=null){let h=s.findIndex(d=>d.route.id&&(r==null?void 0:r[d.route.id])!==void 0);St(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let o=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:g,errors:y}=t,b=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||b){o=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,d,g)=>{let y,b=!1,_=null,w=null;t&&(y=r&&d.route.id?r[d.route.id]:void 0,_=d.route.errorElement||H2,o&&(c<0&&g===0?(HC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):c===g&&(b=!0,w=d.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,g+1)),A=()=>{let D;return y?D=_:b?D=w:d.route.Component?D=B.createElement(d.route.Component,null):d.route.element?D=d.route.element:D=h,B.createElement(q2,{match:d,routeContext:{outlet:h,matches:x,isDataRoute:t!=null},children:D})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?B.createElement(F2,{location:t.location,revalidation:t.revalidation,component:_,error:y,children:A(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):A()},null)}function u_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W2(n){let e=B.useContext(vc);return St(e,u_(n)),e}function Y2(n){let e=B.useContext(Ap);return St(e,u_(n)),e}function $2(n){let e=B.useContext(Ci);return St(e,u_(n)),e}function h_(n){let e=$2(n),t=e.matches[e.matches.length-1];return St(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Q2(){return h_("useRouteId")}function K2(){var i;let n=B.useContext(c_),e=Y2("useRouteError"),t=h_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function X2(){let{router:n}=W2("useNavigate"),e=h_("useNavigate"),t=B.useRef(!1);return UC(()=>{t.current=!0}),B.useCallback(async(s,r={})=>{xi(t.current,VC),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...r}))},[n,e])}var xA={};function HC(n,e,t){!e&&!xA[n]&&(xA[n]=!0,xi(!1,t))}B.memo(Z2);function Z2({routes:n,future:e,state:t}){return BC(n,void 0,t,e)}function J2({to:n,replace:e,state:t,relative:i}){St(bc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=B.useContext(Fi);xi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=B.useContext(Ci),{pathname:o}=qi(),c=br(),h=l_(n,o_(r),o,i==="path"),d=JSON.stringify(h);return B.useEffect(()=>{c(JSON.parse(d),{replace:e,state:t,relative:i})},[c,d,i,e,t]),null}function eP(n){return V2(n.context)}function mn(n){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tP({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:r=!1}){St(!bc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:o,navigator:s,static:r,future:{}}),[o,s,r]);typeof t=="string"&&(t=Lo(t));let{pathname:h="/",search:d="",hash:g="",state:y=null,key:b="default"}=t,_=B.useMemo(()=>{let w=dr(h,o);return w==null?null:{location:{pathname:w,search:d,hash:g,state:y,key:b},navigationType:i}},[o,h,d,g,y,b,i]);return xi(_!=null,`<Router basename="${o}"> is not able to match the URL "${h}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:B.createElement(Fi.Provider,{value:c},B.createElement(Hh.Provider,{children:e,value:_}))}function nP({children:n,location:e}){return z2(lb(n),e)}function lb(n,e=[]){let t=[];return B.Children.forEach(n,(i,s)=>{if(!B.isValidElement(i))return;let r=[...e,s];if(i.type===B.Fragment){t.push.apply(t,lb(i.props.children,r));return}St(i.type===mn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=lb(i.props.children,r)),t.push(o)}),t}var og="get",lg="application/x-www-form-urlencoded";function xp(n){return n!=null&&typeof n.tagName=="string"}function iP(n){return xp(n)&&n.tagName.toLowerCase()==="button"}function sP(n){return xp(n)&&n.tagName.toLowerCase()==="form"}function rP(n){return xp(n)&&n.tagName.toLowerCase()==="input"}function aP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oP(n,e){return n.button===0&&(!e||e==="_self")&&!aP(n)}var kf=null;function lP(){if(kf===null)try{new FormData(document.createElement("form"),0),kf=!1}catch{kf=!0}return kf}var cP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mv(n){return n!=null&&!cP.has(n)?(xi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lg}"`),null):n}function uP(n,e){let t,i,s,r,o;if(sP(n)){let c=n.getAttribute("action");i=c?dr(c,e):null,t=n.getAttribute("method")||og,s=mv(n.getAttribute("enctype"))||lg,r=new FormData(n)}else if(iP(n)||rP(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(i=h?dr(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||og,s=mv(n.getAttribute("formenctype"))||mv(c.getAttribute("enctype"))||lg,r=new FormData(c,n),!lP()){let{name:d,type:g,value:y}=n;if(g==="image"){let b=d?`${d}.`:"";r.append(`${b}x`,"0"),r.append(`${b}y`,"0")}else d&&r.append(d,y)}}else{if(xp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=og,i=null,s=lg,o=n}return r&&s==="text/plain"&&(o=r,r=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:r,body:o}}function d_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function hP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function fP(n,e,t){let i=await Promise.all(n.map(async s=>{let r=e.routes[s.route.id];if(r){let o=await hP(r,t);return o.links?o.links():[]}return[]}));return yP(i.flat(1).filter(dP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function TA(n,e,t,i,s,r){let o=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,c=(h,d)=>{var g;return t[d].pathname!==h.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return r==="assets"?e.filter((h,d)=>o(h,d)||c(h,d)):r==="data"?e.filter((h,d)=>{var y;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(o(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function gP(n,e,{includeHydrateFallback:t}={}){return pP(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function pP(n){return[...new Set(n)]}function mP(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function yP(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let r=JSON.stringify(mP(s));return t.has(r)||(t.add(r),i.push({key:r,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vP=new Set([100,101,204,205]);function bP(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&dr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function FC(){let n=B.useContext(vc);return d_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _P(){let n=B.useContext(Ap);return d_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var f_=B.createContext(void 0);f_.displayName="FrameworkContext";function qC(){let n=B.useContext(f_);return d_(n,"You must render this element inside a <HydratedRouter> element"),n}function EP(n,e){let t=B.useContext(f_),[i,s]=B.useState(!1),[r,o]=B.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:g,onTouchStart:y}=e,b=B.useRef(null);B.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let x=D=>{D.forEach(O=>{o(O.isIntersecting)})},A=new IntersectionObserver(x,{threshold:.5});return b.current&&A.observe(b.current),()=>{A.disconnect()}}},[n]),B.useEffect(()=>{if(i){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[i]);let _=()=>{s(!0)},w=()=>{s(!1),o(!1)};return t?n!=="intent"?[r,b,{}]:[r,b,{onFocus:Uu(c,_),onBlur:Uu(h,w),onMouseEnter:Uu(d,_),onMouseLeave:Uu(g,w),onTouchStart:Uu(y,_)}]:[!1,b,{}]}function Uu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function SP({page:n,...e}){let{router:t}=FC(),i=B.useMemo(()=>MC(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?B.createElement(AP,{page:n,matches:i,...e}):null}function wP(n){let{manifest:e,routeModules:t}=qC(),[i,s]=B.useState([]);return B.useEffect(()=>{let r=!1;return fP(n,e,t).then(o=>{r||s(o)}),()=>{r=!0}},[n,e,t]),i}function AP({page:n,matches:e,...t}){let i=qi(),{manifest:s,routeModules:r}=qC(),{basename:o}=FC(),{loaderData:c,matches:h}=_P(),d=B.useMemo(()=>TA(n,e,h,s,i,"data"),[n,e,h,s,i]),g=B.useMemo(()=>TA(n,e,h,s,i,"assets"),[n,e,h,s,i]),y=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,x=!1;if(e.forEach(D=>{var j;let O=s.routes[D.route.id];!O||!O.hasLoader||(!d.some(H=>H.route.id===D.route.id)&&D.route.id in c&&((j=r[D.route.id])!=null&&j.shouldRevalidate)||O.hasClientLoader?x=!0:w.add(D.route.id))}),w.size===0)return[];let A=bP(n,o);return x&&w.size>0&&A.searchParams.set("_routes",e.filter(D=>w.has(D.route.id)).map(D=>D.route.id).join(",")),[A.pathname+A.search]},[o,c,i,s,d,e,n,r]),b=B.useMemo(()=>gP(g,s),[g,s]),_=wP(g);return B.createElement(B.Fragment,null,y.map(w=>B.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),b.map(w=>B.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),_.map(({key:w,link:x})=>B.createElement("link",{key:w,...x})))}function xP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var GC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GC&&(window.__reactRouterVersion="7.6.0")}catch{}function TP({basename:n,children:e,window:t}){let i=B.useRef();i.current==null&&(i.current=c2({window:t,v5Compat:!0}));let s=i.current,[r,o]=B.useState({action:s.action,location:s.location}),c=B.useCallback(h=>{B.startTransition(()=>o(h))},[o]);return B.useLayoutEffect(()=>s.listen(c),[s,c]),B.createElement(tP,{basename:n,children:e,location:r.location,navigationType:r.action,navigator:s})}var WC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:r,replace:o,state:c,target:h,to:d,preventScrollReset:g,viewTransition:y,...b},_){let{basename:w}=B.useContext(Fi),x=typeof d=="string"&&WC.test(d),A,D=!1;if(typeof d=="string"&&x&&(A=d,GC))try{let k=new URL(window.location.href),P=d.startsWith("//")?new URL(k.protocol+d):new URL(d),V=dr(P.pathname,w);P.origin===k.origin&&V!=null?d=V+P.search+P.hash:D=!0}catch{xi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=j2(d,{relative:s}),[j,H,q]=EP(i,b),X=IP(d,{replace:o,state:c,target:h,preventScrollReset:g,relative:s,viewTransition:y});function M(k){e&&e(k),k.defaultPrevented||X(k)}let C=B.createElement("a",{...b,...q,href:A||O,onClick:D||r?e:M,ref:xP(_,H),target:h,"data-discover":!x&&t==="render"?"true":void 0});return j&&!x?B.createElement(B.Fragment,null,C,B.createElement(SP,{page:O})):C});tt.displayName="Link";var RP=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:r,to:o,viewTransition:c,children:h,...d},g){let y=qh(o,{relative:d.relative}),b=qi(),_=B.useContext(Ap),{navigator:w,basename:x}=B.useContext(Fi),A=_!=null&&PP(y)&&c===!0,D=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,O=b.pathname,j=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(O=O.toLowerCase(),j=j?j.toLowerCase():null,D=D.toLowerCase()),j&&x&&(j=dr(j,x)||j);const H=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let q=O===D||!s&&O.startsWith(D)&&O.charAt(H)==="/",X=j!=null&&(j===D||!s&&j.startsWith(D)&&j.charAt(D.length)==="/"),M={isActive:q,isPending:X,isTransitioning:A},C=q?e:void 0,k;typeof i=="function"?k=i(M):k=[i,q?"active":null,X?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let P=typeof r=="function"?r(M):r;return B.createElement(tt,{...d,"aria-current":C,className:k,ref:g,style:P,to:o,viewTransition:c},typeof h=="function"?h(M):h)});RP.displayName="NavLink";var CP=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:r,method:o=og,action:c,onSubmit:h,relative:d,preventScrollReset:g,viewTransition:y,...b},_)=>{let w=MP(),x=OP(c,{relative:d}),A=o.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&WC.test(c),O=j=>{if(h&&h(j),j.defaultPrevented)return;j.preventDefault();let H=j.nativeEvent.submitter,q=(H==null?void 0:H.getAttribute("formmethod"))||o;w(H||j.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:s,state:r,relative:d,preventScrollReset:g,viewTransition:y})};return B.createElement("form",{ref:_,method:A,action:x,onSubmit:i?h:O,...b,"data-discover":!D&&n==="render"?"true":void 0})});CP.displayName="Form";function DP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YC(n){let e=B.useContext(vc);return St(e,DP(n)),e}function IP(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:r,viewTransition:o}={}){let c=br(),h=qi(),d=qh(n,{relative:r});return B.useCallback(g=>{if(oP(g,e)){g.preventDefault();let y=t!==void 0?t:Eh(h)===Eh(d);c(n,{replace:y,state:i,preventScrollReset:s,relative:r,viewTransition:o})}},[h,c,d,t,i,e,n,s,r,o])}var kP=0,NP=()=>`__${String(++kP)}__`;function MP(){let{router:n}=YC("useSubmit"),{basename:e}=B.useContext(Fi),t=Q2();return B.useCallback(async(i,s={})=>{let{action:r,method:o,encType:c,formData:h,body:d}=uP(i,e);if(s.navigate===!1){let g=s.fetcherKey||NP();await n.fetch(g,t,s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||o,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||o,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function OP(n,{relative:e}={}){let{basename:t}=B.useContext(Fi),i=B.useContext(Ci);St(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...qh(n||".",{relative:e})},o=qi();if(n==null){r.search=o.search;let c=new URLSearchParams(r.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();r.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:ar([t,r.pathname])),Eh(r)}function PP(n,e={}){let t=B.useContext(LC);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=YC("useViewTransitionState"),s=qh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let r=dr(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=dr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Dg(s.pathname,o)!=null||Dg(s.pathname,r)!=null}[...vP];var cb=NC(),$C={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},RA=Si.createContext&&Si.createContext($C),jP=["attr","size","title"];function LP(n,e){if(n==null)return{};var t=VP(n,e),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function VP(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Ig(){return Ig=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ig.apply(this,arguments)}function CA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function kg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CA(Object(t),!0).forEach(function(i){UP(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function UP(n,e,t){return e=zP(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zP(n){var e=BP(n,"string");return typeof e=="symbol"?e:e+""}function BP(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function QC(n){return n&&n.map((e,t)=>Si.createElement(e.tag,kg({key:t},e.attr),QC(e.child)))}function KC(n){return e=>Si.createElement(HP,Ig({attr:kg({},n.attr)},e),QC(n.child))}function HP(n){var e=t=>{var{attr:i,size:s,title:r}=n,o=LP(n,jP),c=s||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Si.createElement("svg",Ig({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:h,style:kg(kg({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),r&&Si.createElement("title",null,r),n.children)};return RA!==void 0?Si.createElement(RA.Consumer,null,t=>e(t)):e($C)}function FP(n){return KC({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function qP(n){return KC({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}const GP=()=>{};var DA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},WP=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=n[t++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=n[t++],o=n[t++],c=n[t++],h=((s&7)<<18|(r&63)<<12|(o&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const r=n[t++],o=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},ZC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const r=n[s],o=s+1<n.length,c=o?n[s+1]:0,h=s+2<n.length,d=h?n[s+2]:0,g=r>>2,y=(r&3)<<4|c>>4;let b=(c&15)<<2|d>>6,_=d&63;h||(_=64,o||(b=64)),i.push(t[g],t[y],t[b],t[_])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(XC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):WP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const r=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const y=s<n.length?t[n.charAt(s)]:64;if(++s,r==null||c==null||d==null||y==null)throw new YP;const b=r<<2|c>>4;if(i.push(b),d!==64){const _=c<<4&240|d>>2;if(i.push(_),y!==64){const w=d<<6&192|y;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class YP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $P=function(n){const e=XC(n);return ZC.encodeByteArray(e,!0)},Ng=function(n){return $P(n).replace(/\./g,"")},JC=function(n){try{return ZC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=()=>QP().__FIREBASE_DEFAULTS__,XP=()=>{if(typeof process>"u"||typeof DA>"u")return;const n=DA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&JC(n[1]);return e&&JSON.parse(e)},Tp=()=>{try{return GP()||KP()||XP()||ZP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eD=n=>{var e,t;return(t=(e=Tp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},JP=n=>{const e=eD(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},tD=()=>{var n;return(n=Tp())===null||n===void 0?void 0:n.config},nD=n=>{var e;return(e=Tp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ng(JSON.stringify(t)),Ng(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function ij(){var n;const e=(n=Tp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function rj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aj(){const n=kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function oj(){return!ij()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sD(){try{return typeof indexedDB=="object"}catch{return!1}}function rD(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}function lj(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="FirebaseError";class Gi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=cj,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vo.prototype.create)}}class Vo{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?uj(r,i):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new Gi(s,c,i)}}function uj(n,e){return n.replace(hj,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const hj=/\{\$([^}]+)}/g;function dj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function pa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const r=n[s],o=e[s];if(IA(r)&&IA(o)){if(!pa(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function IA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Yu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function $u(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function fj(n,e){const t=new gj(n,e);return t.subscribe.bind(t)}class gj{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");pj(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=yv),s.error===void 0&&(s.error=yv),s.complete===void 0&&(s.complete=yv);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function yv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=1e3,yj=2,vj=4*60*60*1e3,bj=.5;function kA(n,e=mj,t=yj){const i=e*Math.pow(t,n),s=Math.round(bj*i*(Math.random()-.5)*2);return Math.min(vj,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(n){return n.endsWith(".cloudworkstations.dev")}async function aD(n){return(await fetch(n,{credentials:"include"})).ok}class Vi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new ej;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sj(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[r,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(r);i===c&&o.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Ej(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ej(n){return n===go?void 0:n}function Sj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _j(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const Aj={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},xj=He.INFO,Tj={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},Rj=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=Tj[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cp{constructor(e){this.name=e,this._logLevel=xj,this._logHandler=Rj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Aj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const Cj=(n,e)=>e.some(t=>n instanceof t);let NA,MA;function Dj(){return NA||(NA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ij(){return MA||(MA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oD=new WeakMap,ub=new WeakMap,lD=new WeakMap,vv=new WeakMap,g_=new WeakMap;function kj(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",o)},r=()=>{t(ca(n.result)),s()},o=()=>{i(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&oD.set(t,n)}).catch(()=>{}),g_.set(e,n),e}function Nj(n){if(ub.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",o),n.removeEventListener("abort",o)},r=()=>{t(),s()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",o),n.addEventListener("abort",o)});ub.set(n,e)}let hb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ub.get(n);if(e==="objectStoreNames")return n.objectStoreNames||lD.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ca(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Mj(n){hb=n(hb)}function Oj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(bv(this),e,...t);return lD.set(i,e.sort?e.sort():[e]),ca(i)}:Ij().includes(n)?function(...e){return n.apply(bv(this),e),ca(oD.get(this))}:function(...e){return ca(n.apply(bv(this),e))}}function Pj(n){return typeof n=="function"?Oj(n):(n instanceof IDBTransaction&&Nj(n),Cj(n,Dj())?new Proxy(n,hb):n)}function ca(n){if(n instanceof IDBRequest)return kj(n);if(vv.has(n))return vv.get(n);const e=Pj(n);return e!==n&&(vv.set(n,e),g_.set(e,n)),e}const bv=n=>g_.get(n);function cD(n,e,{blocked:t,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(n,e),c=ca(o);return i&&o.addEventListener("upgradeneeded",h=>{i(ca(o.result),h.oldVersion,h.newVersion,ca(o.transaction),h)}),t&&o.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{r&&h.addEventListener("close",()=>r()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const jj=["get","getKey","getAll","getAllKeys","count"],Lj=["put","add","delete","clear"],_v=new Map;function OA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(_v.get(e))return _v.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=Lj.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||jj.includes(t)))return;const r=async function(o,...c){const h=this.transaction(o,s?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),s&&h.done]))[0]};return _v.set(e,r),r}Mj(n=>({...n,get:(e,t,i)=>OA(e,t)||n.get(e,t,i),has:(e,t)=>!!OA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Uj(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Uj(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const db="@firebase/app",PA="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Cp("@firebase/app"),zj="@firebase/app-compat",Bj="@firebase/analytics-compat",Hj="@firebase/analytics",Fj="@firebase/app-check-compat",qj="@firebase/app-check",Gj="@firebase/auth",Wj="@firebase/auth-compat",Yj="@firebase/database",$j="@firebase/data-connect",Qj="@firebase/database-compat",Kj="@firebase/functions",Xj="@firebase/functions-compat",Zj="@firebase/installations",Jj="@firebase/installations-compat",eL="@firebase/messaging",tL="@firebase/messaging-compat",nL="@firebase/performance",iL="@firebase/performance-compat",sL="@firebase/remote-config",rL="@firebase/remote-config-compat",aL="@firebase/storage",oL="@firebase/storage-compat",lL="@firebase/firestore",cL="@firebase/vertexai",uL="@firebase/firestore-compat",hL="firebase",dL="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="[DEFAULT]",fL={[db]:"fire-core",[zj]:"fire-core-compat",[Hj]:"fire-analytics",[Bj]:"fire-analytics-compat",[qj]:"fire-app-check",[Fj]:"fire-app-check-compat",[Gj]:"fire-auth",[Wj]:"fire-auth-compat",[Yj]:"fire-rtdb",[$j]:"fire-data-connect",[Qj]:"fire-rtdb-compat",[Kj]:"fire-fn",[Xj]:"fire-fn-compat",[Zj]:"fire-iid",[Jj]:"fire-iid-compat",[eL]:"fire-fcm",[tL]:"fire-fcm-compat",[nL]:"fire-perf",[iL]:"fire-perf-compat",[sL]:"fire-rc",[rL]:"fire-rc-compat",[aL]:"fire-gcs",[oL]:"fire-gcs-compat",[lL]:"fire-fst",[uL]:"fire-fst-compat",[cL]:"fire-vertex","fire-js":"fire-js",[hL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg=new Map,gL=new Map,gb=new Map;function jA(n,e){try{n.container.addComponent(e)}catch(t){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Es(n){const e=n.name;if(gb.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;gb.set(e,n);for(const t of Mg.values())jA(t,n);for(const t of gL.values())jA(t,n);return!0}function Uo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _i(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ua=new Vo("app","Firebase",pL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=dL;function uD(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:fb,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw ua.create("bad-app-name",{appName:String(s)});if(t||(t=tD()),!t)throw ua.create("no-options");const r=Mg.get(s);if(r){if(pa(t,r.options)&&pa(i,r.config))return r;throw ua.create("duplicate-app",{appName:s})}const o=new wj(s);for(const h of gb.values())o.addComponent(h);const c=new mL(t,i,o);return Mg.set(s,c),c}function p_(n=fb){const e=Mg.get(n);if(!e&&n===fb&&tD())return uD();if(!e)throw ua.create("no-app",{appName:n});return e}function wi(n,e,t){var i;let s=(i=fL[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const c=[`Unable to register library "${s}" with version "${e}":`];r&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(c.join(" "));return}Es(new Vi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="firebase-heartbeat-database",vL=1,Sh="firebase-heartbeat-store";let Ev=null;function hD(){return Ev||(Ev=cD(yL,vL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sh)}catch(t){console.warn(t)}}}}).catch(n=>{throw ua.create("idb-open",{originalErrorMessage:n.message})})),Ev}async function bL(n){try{const t=(await hD()).transaction(Sh),i=await t.objectStore(Sh).get(dD(n));return await t.done,i}catch(e){if(e instanceof Gi)fr.warn(e.message);else{const t=ua.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(t.message)}}}async function LA(n,e){try{const i=(await hD()).transaction(Sh,"readwrite");await i.objectStore(Sh).put(e,dD(n)),await i.done}catch(t){if(t instanceof Gi)fr.warn(t.message);else{const i=ua.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fr.warn(i.message)}}}function dD(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=1024,EL=30;class SL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AL(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=VA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>EL){const o=xL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){fr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=VA(),{heartbeatsToSend:i,unsentEntries:s}=wL(this._heartbeatsCache.heartbeats),r=Ng(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return fr.warn(t),""}}}function VA(){return new Date().toISOString().substring(0,10)}function wL(n,e=_L){const t=[];let i=n.slice();for(const s of n){const r=t.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),UA(t)>e){r.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),UA(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class AL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sD()?rD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return LA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return LA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function UA(n){return Ng(JSON.stringify({version:2,heartbeats:n})).length}function xL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(n){Es(new Vi("platform-logger",e=>new Vj(e),"PRIVATE")),Es(new Vi("heartbeat",e=>new SL(e),"PRIVATE")),wi(db,PA,n),wi(db,PA,"esm2017"),wi("fire-js","")}TL("");function m_(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function fD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RL=fD,gD=new Vo("auth","Firebase",fD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=new Cp("@firebase/auth");function CL(n,...e){Og.logLevel<=He.WARN&&Og.warn(`Auth (${_c}): ${n}`,...e)}function cg(n,...e){Og.logLevel<=He.ERROR&&Og.error(`Auth (${_c}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(n,...e){throw y_(n,...e)}function ms(n,...e){return y_(n,...e)}function pD(n,e,t){const i=Object.assign(Object.assign({},RL()),{[e]:t});return new Vo("auth","Firebase",i).create(e,{appName:n.name})}function or(n){return pD(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return gD.create(n,...e)}function Ce(n,e,...t){if(!n)throw y_(e,...t)}function ir(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cg(e),new Error(e)}function gr(n,e){n||ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function mD(){return zA()==="http:"||zA()==="https:"}function zA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mD()||iD()||"connection"in navigator)?navigator.onLine:!0}function IL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this.shortDelay=e,this.longDelay=t,gr(t>e,"Short delay should be less than long delay!"),this.isMobile=nj()||rj()}get(){return DL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(n,e){gr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ML=new Wh(3e4,6e4);function As(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Wi(n,e,t,i,s={}){return vD(n,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const c=Gh(Object.assign({key:n.config.apiKey},o)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:h},r);return sj()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Rp(n.emulatorConfig.host)&&(d.credentials="include"),yD.fetch()(await bD(n,n.config.apiHost,t,c),d)})}async function vD(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},kL),e);try{const s=new PL(n),r=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Nf(n,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const c=r.ok?o.errorMessage:o.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nf(n,"credential-already-in-use",o);if(h==="EMAIL_EXISTS")throw Nf(n,"email-already-in-use",o);if(h==="USER_DISABLED")throw Nf(n,"user-disabled",o);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw pD(n,g,d);Ui(n,g)}}catch(s){if(s instanceof Gi)throw s;Ui(n,"network-request-failed",{message:String(s)})}}async function Yh(n,e,t,i,s={}){const r=await Wi(n,e,t,i,s);return"mfaPendingCredential"in r&&Ui(n,"multi-factor-auth-required",{_serverResponse:r}),r}async function bD(n,e,t,i){const s=`${e}${t}?${i}`,r=n,o=r.config.emulator?v_(n.config,s):`${n.config.apiScheme}://${s}`;return NL.includes(t)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}function OL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ms(this.auth,"network-request-failed")),ML.get())})}}function Nf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=ms(n,e,i);return s.customData._tokenResponse=t,s}function BA(n){return n!==void 0&&n.enterprise!==void 0}class jL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return OL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LL(n,e){return Wi(n,"GET","/v2/recaptchaConfig",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(n,e){return Wi(n,"POST","/v1/accounts:delete",e)}async function jg(n,e){return Wi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UL(n,e=!1){const t=Rt(n),i=await t.getIdToken(e),s=b_(i);Ce(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:rh(Sv(s.auth_time)),issuedAtTime:rh(Sv(s.iat)),expirationTime:rh(Sv(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Sv(n){return Number(n)*1e3}function b_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return cg("JWT malformed, contained fewer than 3 sections"),null;try{const s=JC(t);return s?JSON.parse(s):(cg("Failed to decode base64 JWT payload"),null)}catch(s){return cg("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function HA(n){const e=b_(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Gi&&zL(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function zL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rh(this.lastLoginAt),this.creationTime=rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lg(n){var e;const t=n.auth,i=await n.getIdToken(),s=await rc(n,jg(t,{idToken:i}));Ce(s==null?void 0:s.users.length,t,"internal-error");const r=s.users[0];n._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?_D(r.providerUserInfo):[],c=FL(n.providerData,o),h=n.isAnonymous,d=!(n.email&&r.passwordHash)&&!(c!=null&&c.length),g=h?d:!1,y={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new pb(r.createdAt,r.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function HL(n){const e=Rt(n);await Lg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FL(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function _D(n){return n.map(e=>{var{providerId:t}=e,i=m_(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(n,e){const t=await vD(n,{},async()=>{const i=Gh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=n.config,o=await bD(n,s,"/v1/token",`key=${r}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",yD.fetch()(o,{method:"POST",headers:c,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function GL(n,e){return Wi(n,"POST","/v2/accounts:revokeToken",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=HA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:r}=await qL(e,t);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:r}=t,o=new Xl;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(Ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(Ce(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xl,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ji{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,r=m_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new pb(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await rc(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return UL(this,e)}reload(){return HL(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ji(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Lg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(or(this.auth));const e=await this.getIdToken();return await rc(this,VL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,r,o,c,h,d,g;const y=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(s=t.email)!==null&&s!==void 0?s:void 0,_=(r=t.phoneNumber)!==null&&r!==void 0?r:void 0,w=(o=t.photoURL)!==null&&o!==void 0?o:void 0,x=(c=t.tenantId)!==null&&c!==void 0?c:void 0,A=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,D=(d=t.createdAt)!==null&&d!==void 0?d:void 0,O=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:j,emailVerified:H,isAnonymous:q,providerData:X,stsTokenManager:M}=t;Ce(j&&M,e,"internal-error");const C=Xl.fromJSON(this.name,M);Ce(typeof j=="string",e,"internal-error"),Kr(y,e.name),Kr(b,e.name),Ce(typeof H=="boolean",e,"internal-error"),Ce(typeof q=="boolean",e,"internal-error"),Kr(_,e.name),Kr(w,e.name),Kr(x,e.name),Kr(A,e.name),Kr(D,e.name),Kr(O,e.name);const k=new ji({uid:j,auth:e,email:b,emailVerified:H,displayName:y,isAnonymous:q,photoURL:w,phoneNumber:_,tenantId:x,stsTokenManager:C,createdAt:D,lastLoginAt:O});return X&&Array.isArray(X)&&(k.providerData=X.map(P=>Object.assign({},P))),A&&(k._redirectEventId=A),k}static async _fromIdTokenResponse(e,t,i=!1){const s=new Xl;s.updateFromServerResponse(t);const r=new ji({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Lg(r),r}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ce(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?_D(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),c=new Xl;c.updateFromIdToken(i);const h=new ji({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new pb(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new Map;function sr(n){gr(n instanceof Function,"Expected a class definition");let e=FA.get(n);return e?(gr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,FA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ED.type="NONE";const qA=ED;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(n,e,t){return`firebase:${n}:${e}:${t}`}class Zl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=ug(this.userKey,s.apiKey,r),this.fullPersistenceKey=ug("persistence",s.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await jg(this.auth,{idToken:e}).catch(()=>{});return t?ji._fromGetAccountInfoResponse(this.auth,t,e):null}return ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Zl(sr(qA),e,i);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let r=s[0]||sr(qA);const o=ug(i,e.config.apiKey,e.name);let c=null;for(const d of t)try{const g=await d._get(o);if(g){let y;if(typeof g=="string"){const b=await jg(e,{idToken:g}).catch(()=>{});if(!b)break;y=await ji._fromGetAccountInfoResponse(e,b,g)}else y=ji._fromJSON(e,g);d!==r&&(c=y),r=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!r._shouldAllowMigration||!h.length?new Zl(r,e,i):(r=h[0],c&&await r._set(o,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==r)try{await d._remove(o)}catch{}})),new Zl(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RD(e))return"Blackberry";if(CD(e))return"Webos";if(wD(e))return"Safari";if((e.includes("chrome/")||AD(e))&&!e.includes("edge/"))return"Chrome";if(TD(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function SD(n=kn()){return/firefox\//i.test(n)}function wD(n=kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AD(n=kn()){return/crios\//i.test(n)}function xD(n=kn()){return/iemobile/i.test(n)}function TD(n=kn()){return/android/i.test(n)}function RD(n=kn()){return/blackberry/i.test(n)}function CD(n=kn()){return/webos/i.test(n)}function __(n=kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WL(n=kn()){var e;return __(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YL(){return aj()&&document.documentMode===10}function DD(n=kn()){return __(n)||TD(n)||CD(n)||RD(n)||/windows phone/i.test(n)||xD(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(n,e=[]){let t;switch(n){case"Browser":t=GA(kn());break;case"Worker":t=`${GA(kn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_c}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=r=>new Promise((o,c)=>{try{const h=e(r);o(h)}catch(h){c(h)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(n,e={}){return Wi(n,"GET","/v2/passwordPolicy",As(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=6;class XL{constructor(e){var t,i,s,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:KL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,r,o,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(r=h.containsUppercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsNumericCharacter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WA(this),this.idTokenSubscription=new WA(this),this.beforeStateQueue=new $L(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=sr(t)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await Zl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jg(this,{idToken:e}),i=await ji._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_i(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&(h!=null&&h.user)&&(s=h.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_i(this.app))return Promise.reject(or(this));const t=e?Rt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _i(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QL(this),t=new XL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vo("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await GL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&sr(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Zl.create(this,[sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const r=typeof t=="function"?t:t.next.bind(t);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{o||r(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,s);return()=>{o=!0,h()}}else{const h=e.addObserver(t);return()=>{o=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ID(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&CL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function zo(n){return Rt(n)}class WA{constructor(e){this.auth=e,this.observer=null,this.addObserver=fj(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JL(n){Dp=n}function kD(n){return Dp.loadJS(n)}function eV(){return Dp.recaptchaEnterpriseScript}function tV(){return Dp.gapiScript}function nV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class iV{constructor(){this.enterprise=new sV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class sV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const rV="recaptcha-enterprise",ND="NO_RECAPTCHA";class aV{constructor(e){this.type=rV,this.auth=zo(e)}async verify(e="verify",t=!1){async function i(r){if(!t){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,c)=>{LL(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new jL(h);return r.tenantId==null?r._agentRecaptchaConfig=d:r._tenantRecaptchaConfigs[r.tenantId]=d,o(d.siteKey)}}).catch(h=>{c(h)})})}function s(r,o,c){const h=window.grecaptcha;BA(h)?h.enterprise.ready(()=>{h.enterprise.execute(r,{action:e}).then(d=>{o(d)}).catch(()=>{o(ND)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iV().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{i(this.auth).then(c=>{if(!t&&BA(window.grecaptcha))s(c,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let h=eV();h.length!==0&&(h+=c),kD(h).then(()=>{s(c,r,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})}}async function YA(n,e,t,i=!1,s=!1){const r=new aV(n);let o;if(s)o=ND;else try{o=await r.verify(t)}catch{o=await r.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function mb(n,e,t,i,s){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await YA(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await YA(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(n,e){const t=Uo(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),r=t.getOptions();if(pa(r,e??{}))return s;Ui(s,"already-initialized")}return t.initialize({options:e})}function lV(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(sr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function cV(n,e,t){const i=zo(n);Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=MD(e),{host:o,port:c}=uV(e),h=c===null?"":`:${c}`,d={url:`${r}//${o}${h}/`},g=Object.freeze({host:o,port:c,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ce(pa(d,i.config.emulator)&&pa(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,hV(),Rp(o)&&aD(`${r}//${o}${h}`)}function MD(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function uV(n){const e=MD(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:$A(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:$A(o)}}}function $A(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,t){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function dV(n,e){return Wi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(n,e){return Yh(n,"POST","/v1/accounts:signInWithPassword",As(n,e))}async function gV(n,e){return Wi(n,"POST","/v1/accounts:sendOobCode",As(n,e))}async function pV(n,e){return gV(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(n,e){return Yh(n,"POST","/v1/accounts:signInWithEmailLink",As(n,e))}async function yV(n,e){return Yh(n,"POST","/v1/accounts:signInWithEmailLink",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends E_{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new wh(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new wh(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mb(e,t,"signInWithPassword",fV);case"emailLink":return mV(e,{email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mb(e,i,"signUpPassword",dV);case"emailLink":return yV(e,{idToken:t,email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(n,e){return Yh(n,"POST","/v1/accounts:signInWithIdp",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="http://localhost";class Ro extends E_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ui("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,r=m_(t,["providerId","signInMethod"]);if(!i||!s)return null;const o=new Ro(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Jl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Jl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jl(e,t)}buildRequest(){const e={requestUri:vV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _V(n){const e=Yu($u(n)).link,t=e?Yu($u(e)).deep_link_id:null,i=Yu($u(n)).deep_link_id;return(i?Yu($u(i)).link:null)||i||t||e||n}class S_{constructor(e){var t,i,s,r,o,c;const h=Yu($u(e)),d=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(i=h.oobCode)!==null&&i!==void 0?i:null,y=bV((s=h.mode)!==null&&s!==void 0?s:null);Ce(d&&g&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=g,this.continueUrl=(r=h.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=h.lang)!==null&&o!==void 0?o:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=_V(e);try{return new S_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this.providerId=Ec.PROVIDER_ID}static credential(e,t){return wh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=S_.parseLink(t);return Ce(i,"argument-error"),wh._fromEmailAndCode(e,i.code,i.tenantId)}}Ec.PROVIDER_ID="password";Ec.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ec.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends OD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends $h{constructor(){super("facebook.com")}static credential(e){return Ro._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends $h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ro._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return nr.credential(t,i)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends $h{constructor(){super("github.com")}static credential(e){return Ro._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends $h{constructor(){super("twitter.com")}static credential(e,t){return Ro._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ta.credential(t,i)}catch{return null}}}ta.TWITTER_SIGN_IN_METHOD="twitter.com";ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(n,e){return Yh(n,"POST","/v1/accounts:signUp",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const r=await ji._fromIdTokenResponse(e,i,s),o=QA(i);return new Co({user:r,providerId:o,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=QA(i);return new Co({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function QA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends Gi{constructor(e,t,i,s){var r;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Vg.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Vg(e,t,i,s)}}function PD(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Vg._fromErrorAndOperation(n,r,e,i):r})}async function SV(n,e,t=!1){const i=await rc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Co._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(n,e,t=!1){const{auth:i}=n;if(_i(i.app))return Promise.reject(or(i));const s="reauthenticate";try{const r=await rc(n,PD(i,s,e,n),t);Ce(r.idToken,i,"internal-error");const o=b_(r.idToken);Ce(o,i,"internal-error");const{sub:c}=o;return Ce(n.uid===c,i,"user-mismatch"),Co._forOperation(n,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Ui(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(n,e,t=!1){if(_i(n.app))return Promise.reject(or(n));const i="signIn",s=await PD(n,i,e),r=await Co._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(r.user),r}async function AV(n,e){return jD(zo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(n){const e=zo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xV(n,e,t){if(_i(n.app))return Promise.reject(or(n));const i=zo(n),o=await mb(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EV).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&LD(n),h}),c=await Co._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(c.user),c}function TV(n,e,t){return _i(n.app)?Promise.reject(or(n)):AV(Rt(n),Ec.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&LD(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(n,e){return Wi(n,"POST","/v1/accounts:createAuthUri",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(n,e){const t=mD()?Pg():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:s}=await RV(Rt(n),i);return s||[]}async function DV(n,e){const t=Rt(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:r}=await pV(t.auth,s);r!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(n,e){return Wi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Rt(n),r={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await rc(i,IV(i.auth,r));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function NV(n,e,t,i){return Rt(n).onIdTokenChanged(e,t,i)}function MV(n,e,t){return Rt(n).beforeAuthStateChanged(e,t)}function VD(n,e,t,i){return Rt(n).onAuthStateChanged(e,t,i)}function OV(n){return Rt(n).signOut()}const Ug="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ug,"1"),this.storage.removeItem(Ug),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=1e3,jV=10;class zD extends UD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,c,h)=>{this.notifyListeners(o,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(i);!t&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);YL()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,jV):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},PV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}zD.type="LOCAL";const LV=zD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD extends UD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BD.type="SESSION";const HD=BD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Ip(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:r}=t.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(o).map(async d=>d(t.origin,r)),h=await VV(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ip.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((c,h)=>{const d=w_("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(y){const b=y;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(g),r=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),c(b.data.response);break;default:clearTimeout(g),clearTimeout(r),h(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return window}function zV(n){ys().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function BV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function FV(){return FD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="firebaseLocalStorageDb",qV=1,zg="firebaseLocalStorage",GD="fbase_key";class Qh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kp(n,e){return n.transaction([zg],e?"readwrite":"readonly").objectStore(zg)}function GV(){const n=indexedDB.deleteDatabase(qD);return new Qh(n).toPromise()}function yb(){const n=indexedDB.open(qD,qV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(zg,{keyPath:GD})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(zg)?e(i):(i.close(),await GV(),e(await yb()))})})}async function KA(n,e,t){const i=kp(n,!0).put({[GD]:e,value:t});return new Qh(i).toPromise()}async function WV(n,e){const t=kp(n,!1).get(e),i=await new Qh(t).toPromise();return i===void 0?null:i.value}function XA(n,e){const t=kp(n,!0).delete(e);return new Qh(t).toPromise()}const YV=800,$V=3;class WD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yb(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>$V)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ip._getInstance(FV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await BV(),!this.activeServiceWorker)return;this.sender=new UV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yb();return await KA(e,Ug,"1"),await XA(e,Ug),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>KA(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>WV(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>XA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=kp(s,!1).getAll();return new Qh(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WD.type="LOCAL";const QV=WD;new Wh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(n,e){return e?sr(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_ extends E_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function XV(n){return jD(n.auth,new A_(n),n.bypassAuthState)}function ZV(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),wV(t,new A_(n),n.bypassAuthState)}async function JV(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),SV(t,new A_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,t,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:r,error:o,type:c}=e;if(o){this.reject(o);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XV;case"linkViaPopup":case"linkViaRedirect":return JV;case"reauthViaPopup":case"reauthViaRedirect":return ZV;default:Ui(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=new Wh(2e3,1e4);class Ql extends YD{constructor(e,t,i,s,r){super(e,t,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Ql.currentPopupAction&&Ql.currentPopupAction.cancel(),Ql.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=w_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ql.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,e4.get())};e()}}Ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="pendingRedirect",hg=new Map;class n4 extends YD{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=hg.get(this.auth._key());if(!e){try{const i=await i4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}hg.set(this.auth._key(),e)}return this.bypassAuthState||hg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i4(n,e){const t=a4(e),i=r4(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function s4(n,e){hg.set(n._key(),e)}function r4(n){return sr(n._redirectPersistence)}function a4(n){return ug(t4,n.config.apiKey,n.name)}async function o4(n,e,t=!1){if(_i(n.app))return Promise.reject(or(n));const i=zo(n),s=KV(i,e),o=await new n4(i,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=10*60*1e3;class c4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!$D(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ms(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l4&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZA(e))}saveEventToCache(e){this.cachedEventUids.add(ZA(e)),this.lastProcessedEventTime=Date.now()}}function ZA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function $D({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function u4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $D(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(n,e={}){return Wi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f4=/^https?/;async function g4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await h4(n);for(const t of e)try{if(p4(t))return}catch{}Ui(n,"unauthorized-domain")}function p4(n){const e=Pg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!f4.test(t))return!1;if(d4.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new Wh(3e4,6e4);function JA(){const n=ys().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function y4(n){return new Promise((e,t)=>{var i,s,r;function o(){JA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JA(),t(ms(n,"network-request-failed"))},timeout:m4.get()})}if(!((s=(i=ys().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=ys().gapi)===null||r===void 0)&&r.load)o();else{const c=nV("iframefcb");return ys()[c]=()=>{gapi.load?o():t(ms(n,"network-request-failed"))},kD(`${tV()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw dg=null,e})}let dg=null;function v4(n){return dg=dg||y4(n),dg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new Wh(5e3,15e3),_4="__/auth/iframe",E4="emulator/auth/iframe",S4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A4(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?v_(e,E4):`https://${n.config.authDomain}/${_4}`,i={apiKey:e.apiKey,appName:n.name,v:_c},s=w4.get(n.config.apiHost);s&&(i.eid=s);const r=n._getFrameworks();return r.length&&(i.fw=r.join(",")),`${t}?${Gh(i).slice(1)}`}async function x4(n){const e=await v4(n),t=ys().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:A4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S4,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=ms(n,"network-request-failed"),c=ys().setTimeout(()=>{r(o)},b4.get());function h(){ys().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R4=500,C4=600,D4="_blank",I4="http://localhost";class ex{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k4(n,e,t,i=R4,s=C4){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},T4),{width:i.toString(),height:s.toString(),top:r,left:o}),d=kn().toLowerCase();t&&(c=AD(d)?D4:t),SD(d)&&(e=e||I4,h.scrollbars="yes");const g=Object.entries(h).reduce((b,[_,w])=>`${b}${_}=${w},`,"");if(WL(d)&&c!=="_self")return N4(e||"",c),new ex(null);const y=window.open(e||"",c,g);Ce(y,n,"popup-blocked");try{y.focus()}catch{}return new ex(y)}function N4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="__/auth/handler",O4="emulator/auth/handler",P4=encodeURIComponent("fac");async function tx(n,e,t,i,s,r){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:_c,eventId:s};if(e instanceof OD){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",dj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))o[g]=y}if(e instanceof $h){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(o.scopes=g.join(","))}n.tenantId&&(o.tid=n.tenantId);const c=o;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),d=h?`#${P4}=${encodeURIComponent(h)}`:"";return`${j4(n)}?${Gh(c).slice(1)}${d}`}function j4({config:n}){return n.emulator?v_(n,O4):`https://${n.authDomain}/${M4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="webStorageSupport";class L4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HD,this._completeRedirectFn=o4,this._overrideRedirectResult=s4}async _openPopup(e,t,i,s){var r;gr((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await tx(e,t,i,Pg(),s);return k4(e,o,w_())}async _openRedirect(e,t,i,s){await this._originValidation(e);const r=await tx(e,t,i,Pg(),s);return zV(r),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:r}=this.eventManagers[t];return s?Promise.resolve(s):(gr(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await x4(e),i=new c4(e);return t.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wv,{type:wv},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[wv];o!==void 0&&t(!!o),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=g4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DD()||wD()||__()}}const V4=L4;var nx="@firebase/auth",ix="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B4(n){Es(new Vi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;Ce(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ID(n)},d=new ZL(i,s,r,h);return lV(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Es(new Vi("auth-internal",e=>{const t=zo(e.getProvider("auth").getImmediate());return(i=>new U4(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(nx,ix,z4(n)),wi(nx,ix,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=5*60,F4=nD("authIdTokenMaxAge")||H4;let sx=null;const q4=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>F4)return;const s=t==null?void 0:t.token;sx!==s&&(sx=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function G4(n=p_()){const e=Uo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=oV(n,{popupRedirectResolver:V4,persistence:[QV,LV,HD]}),i=nD("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const o=q4(r.toString());MV(t,o,()=>o(t.currentUser)),NV(t,c=>o(c))}}const s=eD("auth");return s&&cV(t,`http://${s}`),t}function W4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}JL({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const r=ms("internal-error");r.customData=s,t(r)},i.type="text/javascript",i.charset="UTF-8",W4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B4("Browser");var Y4="firebase",$4="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(Y4,$4,"app");const QD="@firebase/installations",x_="0.6.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=1e4,XD=`w:${x_}`,ZD="FIS_v2",Q4="https://firebaseinstallations.googleapis.com/v1",K4=60*60*1e3,X4="installations",Z4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Do=new Vo(X4,Z4,J4);function JD(n){return n instanceof Gi&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI({projectId:n}){return`${Q4}/projects/${n}/installations`}function tI(n){return{token:n.token,requestStatus:2,expiresIn:tU(n.expiresIn),creationTime:Date.now()}}async function nI(n,e){const i=(await e.json()).error;return Do.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function iI({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function eU(n,{refreshToken:e}){const t=iI(n);return t.append("Authorization",nU(e)),t}async function sI(n){const e=await n();return e.status>=500&&e.status<600?n():e}function tU(n){return Number(n.replace("s","000"))}function nU(n){return`${ZD} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iU({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=eI(n),s=iI(n),r=e.getImmediate({optional:!0});if(r){const d=await r.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:t,authVersion:ZD,appId:n.appId,sdkVersion:XD},c={method:"POST",headers:s,body:JSON.stringify(o)},h=await sI(()=>fetch(i,c));if(h.ok){const d=await h.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:tI(d.authToken)}}else throw await nI("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=/^[cdef][\w-]{21}$/,vb="";function aU(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=oU(n);return rU.test(t)?t:vb}catch{return vb}}function oU(n){return sU(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new Map;function oI(n,e){const t=Np(n);lI(t,e),lU(t,e)}function lI(n,e){const t=aI.get(n);if(t)for(const i of t)i(e)}function lU(n,e){const t=cU();t&&t.postMessage({key:n,fid:e}),uU()}let _o=null;function cU(){return!_o&&"BroadcastChannel"in self&&(_o=new BroadcastChannel("[Firebase] FID Change"),_o.onmessage=n=>{lI(n.data.key,n.data.fid)}),_o}function uU(){aI.size===0&&_o&&(_o.close(),_o=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="firebase-installations-database",dU=1,Io="firebase-installations-store";let Av=null;function T_(){return Av||(Av=cD(hU,dU,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Io)}}})),Av}async function Bg(n,e){const t=Np(n),s=(await T_()).transaction(Io,"readwrite"),r=s.objectStore(Io),o=await r.get(t);return await r.put(e,t),await s.done,(!o||o.fid!==e.fid)&&oI(n,e.fid),e}async function cI(n){const e=Np(n),i=(await T_()).transaction(Io,"readwrite");await i.objectStore(Io).delete(e),await i.done}async function Mp(n,e){const t=Np(n),s=(await T_()).transaction(Io,"readwrite"),r=s.objectStore(Io),o=await r.get(t),c=e(o);return c===void 0?await r.delete(t):await r.put(c,t),await s.done,c&&(!o||o.fid!==c.fid)&&oI(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R_(n){let e;const t=await Mp(n.appConfig,i=>{const s=fU(i),r=gU(n,s);return e=r.registrationPromise,r.installationEntry});return t.fid===vb?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function fU(n){const e=n||{fid:aU(),registrationStatus:0};return uI(e)}function gU(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Do.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=pU(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:mU(n)}:{installationEntry:e}}async function pU(n,e){try{const t=await iU(n,e);return Bg(n.appConfig,t)}catch(t){throw JD(t)&&t.customData.serverCode===409?await cI(n.appConfig):await Bg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function mU(n){let e=await rx(n.appConfig);for(;e.registrationStatus===1;)await rI(100),e=await rx(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await R_(n);return i||t}return e}function rx(n){return Mp(n,e=>{if(!e)throw Do.create("installation-not-found");return uI(e)})}function uI(n){return yU(n)?{fid:n.fid,registrationStatus:0}:n}function yU(n){return n.registrationStatus===1&&n.registrationTime+KD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU({appConfig:n,heartbeatServiceProvider:e},t){const i=bU(n,t),s=eU(n,t),r=e.getImmediate({optional:!0});if(r){const d=await r.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:XD,appId:n.appId}},c={method:"POST",headers:s,body:JSON.stringify(o)},h=await sI(()=>fetch(i,c));if(h.ok){const d=await h.json();return tI(d)}else throw await nI("Generate Auth Token",h)}function bU(n,{fid:e}){return`${eI(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C_(n,e=!1){let t;const i=await Mp(n.appConfig,r=>{if(!hI(r))throw Do.create("not-registered");const o=r.authToken;if(!e&&SU(o))return r;if(o.requestStatus===1)return t=_U(n,e),r;{if(!navigator.onLine)throw Do.create("app-offline");const c=AU(r);return t=EU(n,c),c}});return t?await t:i.authToken}async function _U(n,e){let t=await ax(n.appConfig);for(;t.authToken.requestStatus===1;)await rI(100),t=await ax(n.appConfig);const i=t.authToken;return i.requestStatus===0?C_(n,e):i}function ax(n){return Mp(n,e=>{if(!hI(e))throw Do.create("not-registered");const t=e.authToken;return xU(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function EU(n,e){try{const t=await vU(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await Bg(n.appConfig,i),t}catch(t){if(JD(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await cI(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Bg(n.appConfig,i)}throw t}}function hI(n){return n!==void 0&&n.registrationStatus===2}function SU(n){return n.requestStatus===2&&!wU(n)}function wU(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+K4}function AU(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function xU(n){return n.requestStatus===1&&n.requestTime+KD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(n){const e=n,{installationEntry:t,registrationPromise:i}=await R_(e);return i?i.catch(console.error):C_(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(n,e=!1){const t=n;return await CU(t),(await C_(t,e)).token}async function CU(n){const{registrationPromise:e}=await R_(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(n){if(!n||!n.options)throw xv("App Configuration");if(!n.name)throw xv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw xv(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function xv(n){return Do.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="installations",IU="installations-internal",kU=n=>{const e=n.getProvider("app").getImmediate(),t=DU(e),i=Uo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},NU=n=>{const e=n.getProvider("app").getImmediate(),t=Uo(e,dI).getImmediate();return{getId:()=>TU(t),getToken:s=>RU(t,s)}};function MU(){Es(new Vi(dI,kU,"PUBLIC")),Es(new Vi(IU,NU,"PRIVATE"))}MU();wi(QD,x_);wi(QD,x_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="analytics",OU="firebase_id",PU="origin",jU=60*1e3,LU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",D_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new Cp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ri=new Vo("analytics","Analytics",VU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(n){if(!n.startsWith(D_)){const e=ri.create("invalid-gtag-resource",{gtagURL:n});return Yn.warn(e.message),""}return n}function fI(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function zU(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function BU(n,e){const t=zU("firebase-js-sdk-policy",{createScriptURL:UU}),i=document.createElement("script"),s=`${D_}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function HU(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function FU(n,e,t,i,s,r){const o=i[s];try{if(o)await e[o];else{const h=(await fI(t)).find(d=>d.measurementId===s);h&&await e[h.appId]}}catch(c){Yn.error(c)}n("config",s,r)}async function qU(n,e,t,i,s){try{let r=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const c=await fI(t);for(const h of o){const d=c.find(y=>y.measurementId===h),g=d&&e[d.appId];if(g)r.push(g);else{r=[];break}}}r.length===0&&(r=Object.values(e)),await Promise.all(r),n("event",i,s||{})}catch(r){Yn.error(r)}}function GU(n,e,t,i){async function s(r,...o){try{if(r==="event"){const[c,h]=o;await qU(n,e,t,c,h)}else if(r==="config"){const[c,h]=o;await FU(n,e,t,i,c,h)}else if(r==="consent"){const[c,h]=o;n("consent",c,h)}else if(r==="get"){const[c,h,d]=o;n("get",c,h,d)}else if(r==="set"){const[c]=o;n("set",c)}else n(r,...o)}catch(c){Yn.error(c)}}return s}function WU(n,e,t,i,s){let r=function(...o){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=GU(r,n,e,t),{gtagCore:r,wrappedGtag:window[s]}}function YU(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(D_)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=30,QU=1e3;class KU{constructor(e={},t=QU){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const gI=new KU;function XU(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function ZU(n){var e;const{appId:t,apiKey:i}=n,s={method:"GET",headers:XU(i)},r=LU.replace("{app-id}",t),o=await fetch(r,s);if(o.status!==200&&o.status!==304){let c="";try{const h=await o.json();!((e=h.error)===null||e===void 0)&&e.message&&(c=h.error.message)}catch{}throw ri.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function JU(n,e=gI,t){const{appId:i,apiKey:s,measurementId:r}=n.options;if(!i)throw ri.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw ri.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new nz;return setTimeout(async()=>{c.abort()},jU),pI({appId:i,apiKey:s,measurementId:r},o,c,e)}async function pI(n,{throttleEndTimeMillis:e,backoffCount:t},i,s=gI){var r;const{appId:o,measurementId:c}=n;try{await ez(i,e)}catch(h){if(c)return Yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:o,measurementId:c};throw h}try{const h=await ZU(n);return s.deleteThrottleMetadata(o),h}catch(h){const d=h;if(!tz(d)){if(s.deleteThrottleMetadata(o),c)return Yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:c};throw h}const g=Number((r=d==null?void 0:d.customData)===null||r===void 0?void 0:r.httpStatus)===503?kA(t,s.intervalMillis,$U):kA(t,s.intervalMillis),y={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return s.setThrottleMetadata(o,y),Yn.debug(`Calling attemptFetch again in ${g} millis`),pI(n,y,i,s)}}function ez(n,e){return new Promise((t,i)=>{const s=Math.max(e-Date.now(),0),r=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(r),i(ri.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tz(n){if(!(n instanceof Gi)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class nz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function iz(n,e,t,i,s){if(s&&s.global){n("event",t,i);return}else{const r=await e,o=Object.assign(Object.assign({},i),{send_to:r});n("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz(){if(sD())try{await rD()}catch(n){return Yn.warn(ri.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Yn.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rz(n,e,t,i,s,r,o){var c;const h=JU(n);h.then(_=>{t[_.measurementId]=_.appId,n.options.measurementId&&_.measurementId!==n.options.measurementId&&Yn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>Yn.error(_)),e.push(h);const d=sz().then(_=>{if(_)return i.getId()}),[g,y]=await Promise.all([h,d]);YU(r)||BU(r,g.measurementId),s("js",new Date);const b=(c=o==null?void 0:o.config)!==null&&c!==void 0?c:{};return b[PU]="firebase",b.update=!0,y!=null&&(b[OU]=y),s("config",g.measurementId,b),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e){this.app=e}_delete(){return delete ah[this.app.options.appId],Promise.resolve()}}let ah={},ox=[];const lx={};let Tv="dataLayer",oz="gtag",cx,mI,ux=!1;function lz(){const n=[];if(iD()&&n.push("This is a browser extension environment."),lj()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,s)=>`(${s+1}) ${i}`).join(" "),t=ri.create("invalid-analytics-context",{errorInfo:e});Yn.warn(t.message)}}function cz(n,e,t){lz();const i=n.options.appId;if(!i)throw ri.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ri.create("no-api-key");if(ah[i]!=null)throw ri.create("already-exists",{id:i});if(!ux){HU(Tv);const{wrappedGtag:r,gtagCore:o}=WU(ah,ox,lx,Tv,oz);mI=r,cx=o,ux=!0}return ah[i]=rz(n,ox,lx,e,cx,Tv,t),new az(n)}function uz(n=p_()){n=Rt(n);const e=Uo(n,Hg);return e.isInitialized()?e.getImmediate():hz(n)}function hz(n,e={}){const t=Uo(n,Hg);if(t.isInitialized()){const s=t.getImmediate();if(pa(e,t.getOptions()))return s;throw ri.create("already-initialized")}return t.initialize({options:e})}function dz(n,e,t,i){n=Rt(n),iz(mI,ah[n.app.options.appId],e,t,i).catch(s=>Yn.error(s))}const hx="@firebase/analytics",dx="0.10.13";function fz(){Es(new Vi(Hg,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return cz(i,s,t)},"PUBLIC")),Es(new Vi("analytics-internal",n,"PRIVATE")),wi(hx,dx),wi(hx,dx,"esm2017");function n(e){try{const t=e.getProvider(Hg).getImmediate();return{logEvent:(i,s,r)=>dz(t,i,s,r)}}catch(t){throw ri.create("interop-component-reg-failed",{reason:t})}}}fz();var fx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ha,yI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function k(){}k.prototype=C.prototype,M.D=C.prototype,M.prototype=new k,M.prototype.constructor=M,M.C=function(P,V,U){for(var L=Array(arguments.length-2),we=2;we<arguments.length;we++)L[we-2]=arguments[we];return C.prototype[V].apply(P,L)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,C,k){k||(k=0);var P=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)P[V]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(V=0;16>V;++V)P[V]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=M.g[0],k=M.g[1],V=M.g[2];var U=M.g[3],L=C+(U^k&(V^U))+P[0]+3614090360&4294967295;C=k+(L<<7&4294967295|L>>>25),L=U+(V^C&(k^V))+P[1]+3905402710&4294967295,U=C+(L<<12&4294967295|L>>>20),L=V+(k^U&(C^k))+P[2]+606105819&4294967295,V=U+(L<<17&4294967295|L>>>15),L=k+(C^V&(U^C))+P[3]+3250441966&4294967295,k=V+(L<<22&4294967295|L>>>10),L=C+(U^k&(V^U))+P[4]+4118548399&4294967295,C=k+(L<<7&4294967295|L>>>25),L=U+(V^C&(k^V))+P[5]+1200080426&4294967295,U=C+(L<<12&4294967295|L>>>20),L=V+(k^U&(C^k))+P[6]+2821735955&4294967295,V=U+(L<<17&4294967295|L>>>15),L=k+(C^V&(U^C))+P[7]+4249261313&4294967295,k=V+(L<<22&4294967295|L>>>10),L=C+(U^k&(V^U))+P[8]+1770035416&4294967295,C=k+(L<<7&4294967295|L>>>25),L=U+(V^C&(k^V))+P[9]+2336552879&4294967295,U=C+(L<<12&4294967295|L>>>20),L=V+(k^U&(C^k))+P[10]+4294925233&4294967295,V=U+(L<<17&4294967295|L>>>15),L=k+(C^V&(U^C))+P[11]+2304563134&4294967295,k=V+(L<<22&4294967295|L>>>10),L=C+(U^k&(V^U))+P[12]+1804603682&4294967295,C=k+(L<<7&4294967295|L>>>25),L=U+(V^C&(k^V))+P[13]+4254626195&4294967295,U=C+(L<<12&4294967295|L>>>20),L=V+(k^U&(C^k))+P[14]+2792965006&4294967295,V=U+(L<<17&4294967295|L>>>15),L=k+(C^V&(U^C))+P[15]+1236535329&4294967295,k=V+(L<<22&4294967295|L>>>10),L=C+(V^U&(k^V))+P[1]+4129170786&4294967295,C=k+(L<<5&4294967295|L>>>27),L=U+(k^V&(C^k))+P[6]+3225465664&4294967295,U=C+(L<<9&4294967295|L>>>23),L=V+(C^k&(U^C))+P[11]+643717713&4294967295,V=U+(L<<14&4294967295|L>>>18),L=k+(U^C&(V^U))+P[0]+3921069994&4294967295,k=V+(L<<20&4294967295|L>>>12),L=C+(V^U&(k^V))+P[5]+3593408605&4294967295,C=k+(L<<5&4294967295|L>>>27),L=U+(k^V&(C^k))+P[10]+38016083&4294967295,U=C+(L<<9&4294967295|L>>>23),L=V+(C^k&(U^C))+P[15]+3634488961&4294967295,V=U+(L<<14&4294967295|L>>>18),L=k+(U^C&(V^U))+P[4]+3889429448&4294967295,k=V+(L<<20&4294967295|L>>>12),L=C+(V^U&(k^V))+P[9]+568446438&4294967295,C=k+(L<<5&4294967295|L>>>27),L=U+(k^V&(C^k))+P[14]+3275163606&4294967295,U=C+(L<<9&4294967295|L>>>23),L=V+(C^k&(U^C))+P[3]+4107603335&4294967295,V=U+(L<<14&4294967295|L>>>18),L=k+(U^C&(V^U))+P[8]+1163531501&4294967295,k=V+(L<<20&4294967295|L>>>12),L=C+(V^U&(k^V))+P[13]+2850285829&4294967295,C=k+(L<<5&4294967295|L>>>27),L=U+(k^V&(C^k))+P[2]+4243563512&4294967295,U=C+(L<<9&4294967295|L>>>23),L=V+(C^k&(U^C))+P[7]+1735328473&4294967295,V=U+(L<<14&4294967295|L>>>18),L=k+(U^C&(V^U))+P[12]+2368359562&4294967295,k=V+(L<<20&4294967295|L>>>12),L=C+(k^V^U)+P[5]+4294588738&4294967295,C=k+(L<<4&4294967295|L>>>28),L=U+(C^k^V)+P[8]+2272392833&4294967295,U=C+(L<<11&4294967295|L>>>21),L=V+(U^C^k)+P[11]+1839030562&4294967295,V=U+(L<<16&4294967295|L>>>16),L=k+(V^U^C)+P[14]+4259657740&4294967295,k=V+(L<<23&4294967295|L>>>9),L=C+(k^V^U)+P[1]+2763975236&4294967295,C=k+(L<<4&4294967295|L>>>28),L=U+(C^k^V)+P[4]+1272893353&4294967295,U=C+(L<<11&4294967295|L>>>21),L=V+(U^C^k)+P[7]+4139469664&4294967295,V=U+(L<<16&4294967295|L>>>16),L=k+(V^U^C)+P[10]+3200236656&4294967295,k=V+(L<<23&4294967295|L>>>9),L=C+(k^V^U)+P[13]+681279174&4294967295,C=k+(L<<4&4294967295|L>>>28),L=U+(C^k^V)+P[0]+3936430074&4294967295,U=C+(L<<11&4294967295|L>>>21),L=V+(U^C^k)+P[3]+3572445317&4294967295,V=U+(L<<16&4294967295|L>>>16),L=k+(V^U^C)+P[6]+76029189&4294967295,k=V+(L<<23&4294967295|L>>>9),L=C+(k^V^U)+P[9]+3654602809&4294967295,C=k+(L<<4&4294967295|L>>>28),L=U+(C^k^V)+P[12]+3873151461&4294967295,U=C+(L<<11&4294967295|L>>>21),L=V+(U^C^k)+P[15]+530742520&4294967295,V=U+(L<<16&4294967295|L>>>16),L=k+(V^U^C)+P[2]+3299628645&4294967295,k=V+(L<<23&4294967295|L>>>9),L=C+(V^(k|~U))+P[0]+4096336452&4294967295,C=k+(L<<6&4294967295|L>>>26),L=U+(k^(C|~V))+P[7]+1126891415&4294967295,U=C+(L<<10&4294967295|L>>>22),L=V+(C^(U|~k))+P[14]+2878612391&4294967295,V=U+(L<<15&4294967295|L>>>17),L=k+(U^(V|~C))+P[5]+4237533241&4294967295,k=V+(L<<21&4294967295|L>>>11),L=C+(V^(k|~U))+P[12]+1700485571&4294967295,C=k+(L<<6&4294967295|L>>>26),L=U+(k^(C|~V))+P[3]+2399980690&4294967295,U=C+(L<<10&4294967295|L>>>22),L=V+(C^(U|~k))+P[10]+4293915773&4294967295,V=U+(L<<15&4294967295|L>>>17),L=k+(U^(V|~C))+P[1]+2240044497&4294967295,k=V+(L<<21&4294967295|L>>>11),L=C+(V^(k|~U))+P[8]+1873313359&4294967295,C=k+(L<<6&4294967295|L>>>26),L=U+(k^(C|~V))+P[15]+4264355552&4294967295,U=C+(L<<10&4294967295|L>>>22),L=V+(C^(U|~k))+P[6]+2734768916&4294967295,V=U+(L<<15&4294967295|L>>>17),L=k+(U^(V|~C))+P[13]+1309151649&4294967295,k=V+(L<<21&4294967295|L>>>11),L=C+(V^(k|~U))+P[4]+4149444226&4294967295,C=k+(L<<6&4294967295|L>>>26),L=U+(k^(C|~V))+P[11]+3174756917&4294967295,U=C+(L<<10&4294967295|L>>>22),L=V+(C^(U|~k))+P[2]+718787259&4294967295,V=U+(L<<15&4294967295|L>>>17),L=k+(U^(V|~C))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(V+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+U&4294967295}i.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var k=C-this.blockSize,P=this.B,V=this.h,U=0;U<C;){if(V==0)for(;U<=k;)s(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<C;)if(P[V++]=M.charCodeAt(U++),V==this.blockSize){s(this,P),V=0;break}}else for(;U<C;)if(P[V++]=M[U++],V==this.blockSize){s(this,P),V=0;break}}this.h=V,this.o+=C},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var k=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=k&255,k/=256;for(this.u(M),M=Array(16),C=k=0;4>C;++C)for(var P=0;32>P;P+=8)M[k++]=this.g[C]>>>P&255;return M};function r(M,C){var k=c;return Object.prototype.hasOwnProperty.call(k,M)?k[M]:k[M]=C(M)}function o(M,C){this.h=C;for(var k=[],P=!0,V=M.length-1;0<=V;V--){var U=M[V]|0;P&&U==C||(k[V]=U,P=!1)}this.g=k}var c={};function h(M){return-128<=M&&128>M?r(M,function(C){return new o([C|0],0>C?-1:0)}):new o([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return y;if(0>M)return A(d(-M));for(var C=[],k=1,P=0;M>=k;P++)C[P]=M/k|0,k*=4294967296;return new o(C,0)}function g(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return A(g(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(C,8)),P=y,V=0;V<M.length;V+=8){var U=Math.min(8,M.length-V),L=parseInt(M.substring(V,V+U),C);8>U?(U=d(Math.pow(C,U)),P=P.j(U).add(d(L))):(P=P.j(k),P=P.add(d(L)))}return P}var y=h(0),b=h(1),_=h(16777216);n=o.prototype,n.m=function(){if(x(this))return-A(this).m();for(var M=0,C=1,k=0;k<this.g.length;k++){var P=this.i(k);M+=(0<=P?P:4294967296+P)*C,C*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(w(this))return"0";if(x(this))return"-"+A(this).toString(M);for(var C=d(Math.pow(M,6)),k=this,P="";;){var V=H(k,C).g;k=D(k,V.j(C));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(M);if(k=V,w(k))return U+P;for(;6>U.length;)U="0"+U;P=U+P}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function w(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function x(M){return M.h==-1}n.l=function(M){return M=D(this,M),x(M)?-1:w(M)?0:1};function A(M){for(var C=M.g.length,k=[],P=0;P<C;P++)k[P]=~M.g[P];return new o(k,~M.h).add(b)}n.abs=function(){return x(this)?A(this):this},n.add=function(M){for(var C=Math.max(this.g.length,M.g.length),k=[],P=0,V=0;V<=C;V++){var U=P+(this.i(V)&65535)+(M.i(V)&65535),L=(U>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);P=L>>>16,U&=65535,L&=65535,k[V]=L<<16|U}return new o(k,k[k.length-1]&-2147483648?-1:0)};function D(M,C){return M.add(A(C))}n.j=function(M){if(w(this)||w(M))return y;if(x(this))return x(M)?A(this).j(A(M)):A(A(this).j(M));if(x(M))return A(this.j(A(M)));if(0>this.l(_)&&0>M.l(_))return d(this.m()*M.m());for(var C=this.g.length+M.g.length,k=[],P=0;P<2*C;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<M.g.length;V++){var U=this.i(P)>>>16,L=this.i(P)&65535,we=M.i(V)>>>16,ve=M.i(V)&65535;k[2*P+2*V]+=L*ve,O(k,2*P+2*V),k[2*P+2*V+1]+=U*ve,O(k,2*P+2*V+1),k[2*P+2*V+1]+=L*we,O(k,2*P+2*V+1),k[2*P+2*V+2]+=U*we,O(k,2*P+2*V+2)}for(P=0;P<C;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=C;P<2*C;P++)k[P]=0;return new o(k,0)};function O(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function j(M,C){this.g=M,this.h=C}function H(M,C){if(w(C))throw Error("division by zero");if(w(M))return new j(y,y);if(x(M))return C=H(A(M),C),new j(A(C.g),A(C.h));if(x(C))return C=H(M,A(C)),new j(A(C.g),C.h);if(30<M.g.length){if(x(M)||x(C))throw Error("slowDivide_ only works with positive integers.");for(var k=b,P=C;0>=P.l(M);)k=q(k),P=q(P);var V=X(k,1),U=X(P,1);for(P=X(P,2),k=X(k,2);!w(P);){var L=U.add(P);0>=L.l(M)&&(V=V.add(k),U=L),P=X(P,1),k=X(k,1)}return C=D(M,V.j(C)),new j(V,C)}for(V=y;0<=M.l(C);){for(k=Math.max(1,Math.floor(M.m()/C.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),U=d(k),L=U.j(C);x(L)||0<L.l(M);)k-=P,U=d(k),L=U.j(C);w(U)&&(U=b),V=V.add(U),M=D(M,L)}return new j(V,M)}n.A=function(M){return H(this,M).h},n.and=function(M){for(var C=Math.max(this.g.length,M.g.length),k=[],P=0;P<C;P++)k[P]=this.i(P)&M.i(P);return new o(k,this.h&M.h)},n.or=function(M){for(var C=Math.max(this.g.length,M.g.length),k=[],P=0;P<C;P++)k[P]=this.i(P)|M.i(P);return new o(k,this.h|M.h)},n.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),k=[],P=0;P<C;P++)k[P]=this.i(P)^M.i(P);return new o(k,this.h^M.h)};function q(M){for(var C=M.g.length+1,k=[],P=0;P<C;P++)k[P]=M.i(P)<<1|M.i(P-1)>>>31;return new o(k,M.h)}function X(M,C){var k=C>>5;C%=32;for(var P=M.g.length-k,V=[],U=0;U<P;U++)V[U]=0<C?M.i(U+k)>>>C|M.i(U+k+1)<<32-C:M.i(U+k);return new o(V,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,yI=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=g,ha=o}).apply(typeof fx<"u"?fx:typeof self<"u"?self:typeof window<"u"?window:{});var Mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vI,Qu,bI,fg,bb,_I,EI,SI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,S,T){return p==Array.prototype||p==Object.prototype||(p[S]=T.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mf=="object"&&Mf];for(var S=0;S<p.length;++S){var T=p[S];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function s(p,S){if(S)e:{var T=i;p=p.split(".");for(var N=0;N<p.length-1;N++){var Y=p[N];if(!(Y in T))break e;T=T[Y]}p=p[p.length-1],N=T[p],S=S(N),S!=N&&S!=null&&e(T,p,{configurable:!0,writable:!0,value:S})}}function r(p,S){p instanceof String&&(p+="");var T=0,N=!1,Y={next:function(){if(!N&&T<p.length){var ne=T++;return{value:S(ne,p[ne]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(p){return p||function(){return r(this,function(S,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(p){var S=typeof p;return S=S!="object"?S:p?Array.isArray(p)?"array":S:"null",S=="array"||S=="object"&&typeof p.length=="number"}function d(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function g(p,S,T){return p.call.apply(p.bind,arguments)}function y(p,S,T){if(!p)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,N),p.apply(S,Y)}}return function(){return p.apply(S,arguments)}}function b(p,S,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,b.apply(null,arguments)}function _(p,S){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),p.apply(this,N)}}function w(p,S){function T(){}T.prototype=S.prototype,p.aa=S.prototype,p.prototype=new T,p.prototype.constructor=p,p.Qb=function(N,Y,ne){for(var de=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)de[qe-2]=arguments[qe];return S.prototype[Y].apply(N,de)}}function x(p){const S=p.length;if(0<S){const T=Array(S);for(let N=0;N<S;N++)T[N]=p[N];return T}return[]}function A(p,S){for(let T=1;T<arguments.length;T++){const N=arguments[T];if(h(N)){const Y=p.length||0,ne=N.length||0;p.length=Y+ne;for(let de=0;de<ne;de++)p[Y+de]=N[de]}else p.push(N)}}class D{constructor(S,T){this.i=S,this.j=T,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function O(p){return/^[\s\xa0]*$/.test(p)}function j(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function H(p){return H[" "](p),p}H[" "]=function(){};var q=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function X(p,S,T){for(const N in p)S.call(T,p[N],N,p)}function M(p,S){for(const T in p)S.call(void 0,p[T],T,p)}function C(p){const S={};for(const T in p)S[T]=p[T];return S}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(p,S){let T,N;for(let Y=1;Y<arguments.length;Y++){N=arguments[Y];for(T in N)p[T]=N[T];for(let ne=0;ne<k.length;ne++)T=k[ne],Object.prototype.hasOwnProperty.call(N,T)&&(p[T]=N[T])}}function V(p){var S=1;p=p.split(":");const T=[];for(;0<S&&p.length;)T.push(p.shift()),S--;return p.length&&T.push(p.join(":")),T}function U(p){c.setTimeout(()=>{throw p},0)}function L(){var p=_e;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class we{constructor(){this.h=this.g=null}add(S,T){const N=ve.get();N.set(S,T),this.h?this.h.next=N:this.g=N,this.h=N}}var ve=new D(()=>new K,p=>p.reset());class K{constructor(){this.next=this.g=this.h=null}set(S,T){this.h=S,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,fe=!1,_e=new we,F=()=>{const p=c.Promise.resolve(void 0);ce=()=>{p.then(se)}};var se=()=>{for(var p;p=L();){try{p.h.call(p.g)}catch(T){U(T)}var S=ve;S.j(p),100>S.h&&(S.h++,p.next=S.g,S.g=p)}fe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};c.addEventListener("test",T,S),c.removeEventListener("test",T,S)}catch{}return p}();function Ie(p,S){if(he.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var T=this.type=p.type,N=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget){if(q){e:{try{H(S.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(S=null)}}else T=="mouseover"?S=p.fromElement:T=="mouseout"&&(S=p.toElement);this.relatedTarget=S,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ee[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Ie.aa.h.call(this)}}w(Ie,he);var Ee={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),lt=0;function $n(p,S,T,N,Y){this.listener=p,this.proxy=null,this.src=S,this.type=T,this.capture=!!N,this.ha=Y,this.key=++lt,this.da=this.fa=!1}function Yi(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Di(p){this.src=p,this.g={},this.h=0}Di.prototype.add=function(p,S,T,N,Y){var ne=p.toString();p=this.g[ne],p||(p=this.g[ne]=[],this.h++);var de=Ne(p,S,N,Y);return-1<de?(S=p[de],T||(S.fa=!1)):(S=new $n(S,this.src,ne,!!N,Y),S.fa=T,p.push(S)),S};function xs(p,S){var T=S.type;if(T in p.g){var N=p.g[T],Y=Array.prototype.indexOf.call(N,S,void 0),ne;(ne=0<=Y)&&Array.prototype.splice.call(N,Y,1),ne&&(Yi(S),p.g[T].length==0&&(delete p.g[T],p.h--))}}function Ne(p,S,T,N){for(var Y=0;Y<p.length;++Y){var ne=p[Y];if(!ne.da&&ne.listener==S&&ne.capture==!!T&&ne.ha==N)return Y}return-1}var Nn="closure_lm_"+(1e6*Math.random()|0),wt={};function Bt(p,S,T,N,Y){if(Array.isArray(S)){for(var ne=0;ne<S.length;ne++)Bt(p,S[ne],T,N,Y);return null}return T=od(T),p&&p[Je]?p.K(S,T,d(N)?!!N.capture:!1,Y):yt(p,S,T,!1,N,Y)}function yt(p,S,T,N,Y,ne){if(!S)throw Error("Invalid event type");var de=d(Y)?!!Y.capture:!!Y,qe=Ko(p);if(qe||(p[Nn]=qe=new Di(p)),T=qe.add(S,T,N,de,ne),T.proxy)return T;if(N=Da(),T.proxy=N,N.src=p,N.listener=T,p.addEventListener)pe||(Y=de),Y===void 0&&(Y=!1),p.addEventListener(S.toString(),N,Y);else if(p.attachEvent)p.attachEvent(Ia(S.toString()),N);else if(p.addListener&&p.removeListener)p.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Da(){function p(T){return S.call(p.src,p.listener,T)}const S=um;return p}function Ts(p,S,T,N,Y){if(Array.isArray(S))for(var ne=0;ne<S.length;ne++)Ts(p,S[ne],T,N,Y);else N=d(N)?!!N.capture:!!N,T=od(T),p&&p[Je]?(p=p.i,S=String(S).toString(),S in p.g&&(ne=p.g[S],T=Ne(ne,T,N,Y),-1<T&&(Yi(ne[T]),Array.prototype.splice.call(ne,T,1),ne.length==0&&(delete p.g[S],p.h--)))):p&&(p=Ko(p))&&(S=p.g[S.toString()],p=-1,S&&(p=Ne(S,T,N,Y)),(T=-1<p?S[p]:null)&&Er(T))}function Er(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[Je])xs(S.i,p);else{var T=p.type,N=p.proxy;S.removeEventListener?S.removeEventListener(T,N,p.capture):S.detachEvent?S.detachEvent(Ia(T),N):S.addListener&&S.removeListener&&S.removeListener(N),(T=Ko(S))?(xs(T,p),T.h==0&&(T.src=null,S[Nn]=null)):Yi(p)}}}function Ia(p){return p in wt?wt[p]:wt[p]="on"+p}function um(p,S){if(p.da)p=!0;else{S=new Ie(S,this);var T=p.listener,N=p.ha||p.src;p.fa&&Er(p),p=T.call(N,S)}return p}function Ko(p){return p=p[Nn],p instanceof Di?p:null}var Ic="__closure_events_fn_"+(1e9*Math.random()>>>0);function od(p){return typeof p=="function"?p:(p[Ic]||(p[Ic]=function(S){return p.handleEvent(S)}),p[Ic])}function It(){ue.call(this),this.i=new Di(this),this.M=this,this.F=null}w(It,ue),It.prototype[Je]=!0,It.prototype.removeEventListener=function(p,S,T,N){Ts(this,p,S,T,N)};function st(p,S){var T,N=p.F;if(N)for(T=[];N;N=N.F)T.push(N);if(p=p.M,N=S.type||S,typeof S=="string")S=new he(S,p);else if(S instanceof he)S.target=S.target||p;else{var Y=S;S=new he(N,p),P(S,Y)}if(Y=!0,T)for(var ne=T.length-1;0<=ne;ne--){var de=S.g=T[ne];Y=Qn(de,N,!0,S)&&Y}if(de=S.g=p,Y=Qn(de,N,!0,S)&&Y,Y=Qn(de,N,!1,S)&&Y,T)for(ne=0;ne<T.length;ne++)de=S.g=T[ne],Y=Qn(de,N,!1,S)&&Y}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var p=this.i,S;for(S in p.g){for(var T=p.g[S],N=0;N<T.length;N++)Yi(T[N]);delete p.g[S],p.h--}}this.F=null},It.prototype.K=function(p,S,T,N){return this.i.add(String(p),S,!1,T,N)},It.prototype.L=function(p,S,T,N){return this.i.add(String(p),S,!0,T,N)};function Qn(p,S,T,N){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();for(var Y=!0,ne=0;ne<S.length;++ne){var de=S[ne];if(de&&!de.da&&de.capture==T){var qe=de.listener,Qt=de.ha||de.src;de.fa&&xs(p.i,de),Y=qe.call(Qt,N)!==!1&&Y}}return Y&&!N.defaultPrevented}function _n(p,S,T){if(typeof p=="function")T&&(p=b(p,T));else if(p&&typeof p.handleEvent=="function")p=b(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:c.setTimeout(p,S||0)}function ld(p){p.g=_n(()=>{p.g=null,p.i&&(p.i=!1,ld(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class hm extends ue{constructor(S,T){super(),this.m=S,this.l=T,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:ld(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(p){ue.call(this),this.h=p,this.g={}}w(ka,ue);var Na=[];function Ma(p){X(p.g,function(S,T){this.g.hasOwnProperty(T)&&Er(S)},p),p.g={}}ka.prototype.N=function(){ka.aa.N.call(this),Ma(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ii=c.JSON.stringify,Xo=c.JSON.parse,Oa=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function kc(){}kc.prototype.h=null;function Nc(p){return p.h||(p.h=p.i())}function Mc(){}var Rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cs(){he.call(this,"d")}w(Cs,he);function Oc(){he.call(this,"c")}w(Oc,he);var $i={},Pc=null;function Sr(){return Pc=Pc||new It}$i.La="serverreachability";function Zo(p){he.call(this,$i.La,p)}w(Zo,he);function wr(p){const S=Sr();st(S,new Zo(S))}$i.STAT_EVENT="statevent";function cd(p,S){he.call(this,$i.STAT_EVENT,p),this.stat=S}w(cd,he);function vt(p){const S=Sr();st(S,new cd(S,p))}$i.Ma="timingevent";function $t(p,S){he.call(this,$i.Ma,p),this.size=S}w($t,he);function Ht(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},S)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function jc(p,S,T,N,Y,ne){p.info(function(){if(p.g)if(ne)for(var de="",qe=ne.split("&"),Qt=0;Qt<qe.length;Qt++){var Ge=qe[Qt].split("=");if(1<Ge.length){var rn=Ge[0];Ge=Ge[1];var Kt=rn.split("_");de=2<=Kt.length&&Kt[1]=="type"?de+(rn+"="+Ge+"&"):de+(rn+"=redacted&")}}else de=null;else de=ne;return"XMLHTTP REQ ("+N+") [attempt "+Y+"]: "+S+`
`+T+`
`+de})}function dm(p,S,T,N,Y,ne,de){p.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Y+"]: "+S+`
`+T+`
`+ne+" "+de})}function Ar(p,S,T,N){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+Pa(p,T)+(N?" "+N:"")})}function ud(p,S){p.info(function(){return"TIMEOUT: "+S})}oi.prototype.info=function(){};function Pa(p,S){if(!p.g)return S;if(!S)return null;try{var T=JSON.parse(S);if(T){for(p=0;p<T.length;p++)if(Array.isArray(T[p])){var N=T[p];if(!(2>N.length)){var Y=N[1];if(Array.isArray(Y)&&!(1>Y.length)){var ne=Y[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var de=1;de<Y.length;de++)Y[de]=""}}}}return Ii(T)}catch{return S}}var xr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ds={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qi;function Ki(){}w(Ki,kc),Ki.prototype.g=function(){return new XMLHttpRequest},Ki.prototype.i=function(){return{}},Qi=new Ki;function Mn(p,S,T,N){this.j=p,this.i=S,this.l=T,this.R=N||1,this.U=new ka(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jt}function jt(){this.i=null,this.g="",this.h=!1}var Lc={},Jo={};function ki(p,S,T){p.L=1,p.v=za(Kn(S)),p.m=T,p.P=!0,Is(p,null)}function Is(p,S){p.F=Date.now(),ja(p),p.A=Kn(p.v);var T=p.A,N=p.R;Array.isArray(N)||(N=[String(N)]),Fc(T.i,"t",N),p.C=0,T=p.j.J,p.h=new jt,p.g=Td(p.j,T?S:null,!p.m),0<p.O&&(p.M=new hm(b(p.Y,p,p.g),p.O)),S=p.U,T=p.g,N=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Na[0]=Y.toString()),Y=Na);for(var ne=0;ne<Y.length;ne++){var de=Bt(T,Y[ne],N||S.handleEvent,!1,S.h||S);if(!de)break;S.g[de.key]=de}S=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,S)):(p.u="GET",p.g.ea(p.A,p.u,null,S)),wr(),jc(p.i,p.u,p.A,p.l,p.R,p.m)}Mn.prototype.ca=function(p){p=p.target;const S=this.M;S&&hi(p)==3?S.j():this.Y(p)},Mn.prototype.Y=function(p){try{if(p==this.g)e:{const Kt=hi(this.g);var S=this.g.Ba();const Vs=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||vd(this.g)))){this.J||Kt!=4||S==7||(S==8||0>=Vs?wr(3):wr(2)),Tr(this);var T=this.g.Z();this.X=T;t:if(hd(this)){var N=vd(this.g);p="";var Y=N.length,ne=hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),Xi(this);var de="";break t}this.h.i=new c.TextDecoder}for(S=0;S<Y;S++)this.h.h=!0,p+=this.h.i.decode(N[S],{stream:!(ne&&S==Y-1)});N.length=0,this.h.g+=p,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=T==200,dm(this.i,this.u,this.A,this.l,this.R,Kt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Qt=this.g;if((qe=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(qe)){var Ge=qe;break t}}Ge=null}if(T=Ge)Ar(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,La(this,T);else{this.o=!1,this.s=3,vt(12),hn(this),Xi(this);break e}}if(this.P){T=!0;let dn;for(;!this.J&&this.C<de.length;)if(dn=dd(this,de),dn==Jo){Kt==4&&(this.s=4,vt(14),T=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==Lc){this.s=4,vt(15),Ar(this.i,this.l,de,"[Invalid Chunk]"),T=!1;break}else Ar(this.i,this.l,dn,null),La(this,dn);if(hd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||de.length!=0||this.h.h||(this.s=1,vt(16),T=!1),this.o=this.o&&T,!T)Ar(this.i,this.l,de,"[Invalid Chunked Response]"),hn(this),Xi(this);else if(0<de.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),$a(rn),rn.M=!0,vt(11))}}else Ar(this.i,this.l,de,null),La(this,de);Kt==4&&hn(this),this.o&&!this.J&&(Kt==4?wd(this.j,this):(this.o=!1,ja(this)))}else ym(this.g),T==400&&0<de.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),hn(this),Xi(this)}}}catch{}finally{}};function hd(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function dd(p,S){var T=p.C,N=S.indexOf(`
`,T);return N==-1?Jo:(T=Number(S.substring(T,N)),isNaN(T)?Lc:(N+=1,N+T>S.length?Jo:(S=S.slice(N,N+T),p.C=N+T,S)))}Mn.prototype.cancel=function(){this.J=!0,hn(this)};function ja(p){p.S=Date.now()+p.I,fd(p,p.I)}function fd(p,S){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Ht(b(p.ba,p),S)}function Tr(p){p.B&&(c.clearTimeout(p.B),p.B=null)}Mn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(ud(this.i,this.A),this.L!=2&&(wr(),vt(17)),hn(this),this.s=2,Xi(this)):fd(this,this.S-p)};function Xi(p){p.j.G==0||p.J||wd(p.j,p)}function hn(p){Tr(p);var S=p.M;S&&typeof S.ma=="function"&&S.ma(),p.M=null,Ma(p.U),p.g&&(S=p.g,p.g=null,S.abort(),S.ma())}function La(p,S){try{var T=p.j;if(T.G!=0&&(T.g==p||Vc(T.h,p))){if(!p.K&&Vc(T.h,p)&&T.G==3){try{var N=T.Da.g.parse(S)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Y=N;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<p.F)hl(T),cl(T);else break e;$c(T),vt(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ht(b(T.Za,T),6e3));if(1>=tl(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ls(T,11)}else if((p.K||T.g==p)&&hl(T),!O(S))for(Y=T.Da.g.parse(S),S=0;S<Y.length;S++){let Ge=Y[S];if(T.T=Ge[0],Ge=Ge[1],T.G==2)if(Ge[0]=="c"){T.K=Ge[1],T.ia=Ge[2];const rn=Ge[3];rn!=null&&(T.la=rn,T.j.info("VER="+T.la));const Kt=Ge[4];Kt!=null&&(T.Aa=Kt,T.j.info("SVER="+T.Aa));const Vs=Ge[5];Vs!=null&&typeof Vs=="number"&&0<Vs&&(N=1.5*Vs,T.L=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const dn=p.g;if(dn){const ss=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ss){var ne=N.h;ne.g||ss.indexOf("spdy")==-1&&ss.indexOf("quic")==-1&&ss.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(nl(ne,ne.h),ne.h=null))}if(N.D){const Kc=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Kc&&(N.ya=Kc,ct(N.I,N.D,Kc))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-p.F,T.j.info("Handshake RTT: "+T.R+"ms")),N=T;var de=p;if(N.qa=xd(N,N.J?N.ia:null,N.W),de.K){On(N.h,de);var qe=de,Qt=N.L;Qt&&(qe.I=Qt),qe.B&&(Tr(qe),ja(qe)),N.g=de}else Ed(N);0<T.i.length&&ul(T)}else Ge[0]!="stop"&&Ge[0]!="close"||Ls(T,7);else T.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ls(T,7):Wc(T):Ge[0]!="noop"&&T.l&&T.l.ta(Ge),T.v=0)}}wr(4)}catch{}}var gd=class{constructor(p,S){this.g=p,this.map=S}};function ks(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function el(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function tl(p){return p.h?1:p.g?p.g.size:0}function Vc(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function nl(p,S){p.g?p.g.add(S):p.h=S}function On(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}ks.prototype.cancel=function(){if(this.i=Uc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Uc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const T of p.g.values())S=S.concat(T.D);return S}return x(p.i)}function fm(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var S=[],T=p.length,N=0;N<T;N++)S.push(p[N]);return S}S=[],T=0;for(N in p)S[T++]=p[N];return S}function il(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var S=[];p=p.length;for(var T=0;T<p;T++)S.push(T);return S}S=[],T=0;for(const N in p)S[T++]=N;return S}}}function zc(p,S){if(p.forEach&&typeof p.forEach=="function")p.forEach(S,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,S,void 0);else for(var T=il(p),N=fm(p),Y=N.length,ne=0;ne<Y;ne++)S.call(void 0,N[ne],T&&T[ne],p)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gm(p,S){if(p){p=p.split("&");for(var T=0;T<p.length;T++){var N=p[T].indexOf("="),Y=null;if(0<=N){var ne=p[T].substring(0,N);Y=p[T].substring(N+1)}else ne=p[T];S(ne,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ft(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ft){this.h=p.h,Ua(this,p.j),this.o=p.o,this.g=p.g,Rr(this,p.s),this.l=p.l;var S=p.i,T=new Ms;T.i=S.i,S.g&&(T.g=new Map(S.g),T.h=S.h),Ns(this,T),this.m=p.m}else p&&(S=String(p).match(Va))?(this.h=!1,Ua(this,S[1]||"",!0),this.o=li(S[2]||""),this.g=li(S[3]||"",!0),Rr(this,S[4]),this.l=li(S[5]||"",!0),Ns(this,S[6]||"",!0),this.m=li(S[7]||"")):(this.h=!1,this.i=new Ms(null,this.h))}Ft.prototype.toString=function(){var p=[],S=this.j;S&&p.push(Ba(S,Bc,!0),":");var T=this.g;return(T||S=="file")&&(p.push("//"),(S=this.o)&&p.push(Ba(S,Bc,!0),"@"),p.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&p.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(Ba(T,T.charAt(0)=="/"?pm:Hc,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",Ba(T,sl)),p.join("")};function Kn(p){return new Ft(p)}function Ua(p,S,T){p.j=T?li(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function Rr(p,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);p.s=S}else p.s=null}function Ns(p,S,T){S instanceof Ms?(p.i=S,md(p.i,p.h)):(T||(S=Ba(S,mm)),p.i=new Ms(S,p.h))}function ct(p,S,T){p.i.set(S,T)}function za(p){return ct(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function li(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ba(p,S,T){return typeof p=="string"?(p=encodeURI(p).replace(S,pd),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function pd(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Bc=/[#\/\?@]/g,Hc=/[#\?:]/g,pm=/[#\?]/g,mm=/[#\?@]/g,sl=/#/g;function Ms(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function ci(p){p.g||(p.g=new Map,p.h=0,p.i&&gm(p.i,function(S,T){p.add(decodeURIComponent(S.replace(/\+/g," ")),T)}))}n=Ms.prototype,n.add=function(p,S){ci(this),this.i=null,p=Zi(this,p);var T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(S),this.h+=1,this};function Os(p,S){ci(p),S=Zi(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function Ps(p,S){return ci(p),S=Zi(p,S),p.g.has(S)}n.forEach=function(p,S){ci(this),this.g.forEach(function(T,N){T.forEach(function(Y){p.call(S,Y,N,this)},this)},this)},n.na=function(){ci(this);const p=Array.from(this.g.values()),S=Array.from(this.g.keys()),T=[];for(let N=0;N<S.length;N++){const Y=p[N];for(let ne=0;ne<Y.length;ne++)T.push(S[N])}return T},n.V=function(p){ci(this);let S=[];if(typeof p=="string")Ps(this,p)&&(S=S.concat(this.g.get(Zi(this,p))));else{p=Array.from(this.g.values());for(let T=0;T<p.length;T++)S=S.concat(p[T])}return S},n.set=function(p,S){return ci(this),this.i=null,p=Zi(this,p),Ps(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},n.get=function(p,S){return p?(p=this.V(p),0<p.length?String(p[0]):S):S};function Fc(p,S,T){Os(p,S),0<T.length&&(p.i=null,p.g.set(Zi(p,S),x(T)),p.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(var T=0;T<S.length;T++){var N=S[T];const ne=encodeURIComponent(String(N)),de=this.V(N);for(N=0;N<de.length;N++){var Y=ne;de[N]!==""&&(Y+="="+encodeURIComponent(String(de[N]))),p.push(Y)}}return this.i=p.join("&")};function Zi(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function md(p,S){S&&!p.j&&(ci(p),p.i=null,p.g.forEach(function(T,N){var Y=N.toLowerCase();N!=Y&&(Os(this,N),Fc(this,Y,T))},p)),p.j=S}function Ha(p,S){const T=new oi;if(c.Image){const N=new Image;N.onload=_(ui,T,"TestLoadImage: loaded",!0,S,N),N.onerror=_(ui,T,"TestLoadImage: error",!1,S,N),N.onabort=_(ui,T,"TestLoadImage: abort",!1,S,N),N.ontimeout=_(ui,T,"TestLoadImage: timeout",!1,S,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=p}else S(!1)}function Ni(p,S){const T=new oi,N=new AbortController,Y=setTimeout(()=>{N.abort(),ui(T,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:N.signal}).then(ne=>{clearTimeout(Y),ne.ok?ui(T,"TestPingServer: ok",!0,S):ui(T,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Y),ui(T,"TestPingServer: error",!1,S)})}function ui(p,S,T,N,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),N(T)}catch{}}function Fa(){this.g=new Oa}function Ji(p,S,T){const N=T||"";try{zc(p,function(Y,ne){let de=Y;d(Y)&&(de=Ii(Y)),S.push(N+ne+"="+encodeURIComponent(de))})}catch(Y){throw S.push(N+"type="+encodeURIComponent("_badmap")),Y}}function Cr(p){this.l=p.Ub||null,this.j=p.eb||!1}w(Cr,kc),Cr.prototype.g=function(){return new js(this.l,this.j)},Cr.prototype.i=function(p){return function(){return p}}({});function js(p,S){It.call(this),this.D=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(js,It),n=js.prototype,n.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=S,this.readyState=1,ts(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(S.body=p),(this.D||c).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function qc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?es(this):ts(this),this.readyState==3&&qc(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,es(this))},n.Qa=function(p){this.g&&(this.response=p,es(this))},n.ga=function(){this.g&&es(this)};function es(p){p.readyState=4,p.l=null,p.j=null,p.v=null,ts(p)}n.setRequestHeader=function(p,S){this.u.append(p,S)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var T=S.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=S.next();return p.join(`\r
`)};function ts(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Gc(p){let S="";return X(p,function(T,N){S+=N,S+=":",S+=T,S+=`\r
`}),S}function sn(p,S,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=Gc(T),typeof p=="string"?T!=null&&encodeURIComponent(String(T)):ct(p,S,T))}function et(p){It.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(et,It);var rl=/^https?$/i,qa=["POST","PUT"];n=et.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,S,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qi.g(),this.v=this.o?Nc(this.o):Nc(Qi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(ne){yd(this,ne);return}if(p=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Y in N)T.set(Y,N[Y]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())T.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(qa,S,void 0))||N||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,de]of T)this.g.setRequestHeader(ne,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ga(this),this.u=!0,this.g.send(p),this.u=!1}catch(ne){yd(this,ne)}};function yd(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.m=5,al(p),ns(p)}function al(p){p.A||(p.A=!0,st(p,"complete"),st(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,st(this,"complete"),st(this,"abort"),ns(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ol(this):this.bb())},n.bb=function(){ol(this)};function ol(p){if(p.h&&typeof o<"u"&&(!p.v[1]||hi(p)!=4||p.Z()!=2)){if(p.u&&hi(p)==4)_n(p.Ea,0,p);else if(st(p,"readystatechange"),hi(p)==4){p.h=!1;try{const de=p.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var T;if(!(T=S)){var N;if(N=de===0){var Y=String(p.D).match(Va)[1]||null;!Y&&c.self&&c.self.location&&(Y=c.self.location.protocol.slice(0,-1)),N=!rl.test(Y?Y.toLowerCase():"")}T=N}if(T)st(p,"complete"),st(p,"success");else{p.m=6;try{var ne=2<hi(p)?p.g.statusText:""}catch{ne=""}p.l=ne+" ["+p.Z()+"]",al(p)}}finally{ns(p)}}}}function ns(p,S){if(p.g){Ga(p);const T=p.g,N=p.v[0]?()=>{}:null;p.g=null,p.v=null,S||st(p,"ready");try{T.onreadystatechange=N}catch{}}}function Ga(p){p.I&&(c.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function hi(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),Xo(S)}};function vd(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function ym(p){const S={};p=(p.g&&2<=hi(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<p.length;N++){if(O(p[N]))continue;var T=V(p[N]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=S[Y]||[];S[Y]=ne,ne.push(T)}M(S,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wa(p,S,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||S}function ll(p){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wa("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wa("baseRetryDelayMs",5e3,p),this.cb=Wa("retryDelaySeedMs",1e4,p),this.Wa=Wa("forwardChannelMaxRetries",2,p),this.wa=Wa("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new ks(p&&p.concurrentRequestLimit),this.Da=new Fa,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ll.prototype,n.la=8,n.G=1,n.connect=function(p,S,T,N){vt(0),this.W=p,this.H=S||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.I=xd(this,null,this.W),ul(this)};function Wc(p){if(bd(p),p.G==3){var S=p.U++,T=Kn(p.I);if(ct(T,"SID",p.K),ct(T,"RID",S),ct(T,"TYPE","terminate"),Ya(p,T),S=new Mn(p,p.j,S),S.L=2,S.v=za(Kn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(S.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=S.v,T=!0),T||(S.g=Td(S.j,null),S.g.ea(S.v)),S.F=Date.now(),ja(S)}Ad(p)}function cl(p){p.g&&($a(p),p.g.cancel(),p.g=null)}function bd(p){cl(p),p.u&&(c.clearTimeout(p.u),p.u=null),hl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function ul(p){if(!el(p.h)&&!p.s){p.s=!0;var S=p.Ga;ce||F(),fe||(ce(),fe=!0),_e.add(S,p),p.B=0}}function vm(p,S){return tl(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=S.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Ht(b(p.Ga,p,S),Qc(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new Mn(this,this.j,p);let ne=this.o;if(this.S&&(ne?(ne=C(ne),P(ne,this.S)):ne=this.S),this.m!==null||this.O||(Y.H=ne,ne=null),this.P)e:{for(var S=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(S+=N,4096<S){S=T;break e}if(S===4096||T===this.i.length-1){S=T+1;break e}}S=1e3}else S=1e3;S=_d(this,Y,S),T=Kn(this.I),ct(T,"RID",p),ct(T,"CVER",22),this.D&&ct(T,"X-HTTP-Session-Id",this.D),Ya(this,T),ne&&(this.O?S="headers="+encodeURIComponent(String(Gc(ne)))+"&"+S:this.m&&sn(T,this.m,ne)),nl(this.h,Y),this.Ua&&ct(T,"TYPE","init"),this.P?(ct(T,"$req",S),ct(T,"SID","null"),Y.T=!0,ki(Y,T,null)):ki(Y,T,S),this.G=2}}else this.G==3&&(p?Yc(this,p):this.i.length==0||el(this.h)||Yc(this))};function Yc(p,S){var T;S?T=S.l:T=p.U++;const N=Kn(p.I);ct(N,"SID",p.K),ct(N,"RID",T),ct(N,"AID",p.T),Ya(p,N),p.m&&p.o&&sn(N,p.m,p.o),T=new Mn(p,p.j,T,p.B+1),p.m===null&&(T.H=p.o),S&&(p.i=S.D.concat(p.i)),S=_d(p,T,1e3),T.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),nl(p.h,T),ki(T,N,S)}function Ya(p,S){p.H&&X(p.H,function(T,N){ct(S,N,T)}),p.l&&zc({},function(T,N){ct(S,N,T)})}function _d(p,S,T){T=Math.min(p.i.length,T);var N=p.l?b(p.l.Na,p.l,p):null;e:{var Y=p.i;let ne=-1;for(;;){const de=["count="+T];ne==-1?0<T?(ne=Y[0].g,de.push("ofs="+ne)):ne=0:de.push("ofs="+ne);let qe=!0;for(let Qt=0;Qt<T;Qt++){let Ge=Y[Qt].g;const rn=Y[Qt].map;if(Ge-=ne,0>Ge)ne=Math.max(0,Y[Qt].g-100),qe=!1;else try{Ji(rn,de,"req"+Ge+"_")}catch{N&&N(rn)}}if(qe){N=de.join("&");break e}}}return p=p.i.splice(0,T),S.D=p,N}function Ed(p){if(!p.g&&!p.u){p.Y=1;var S=p.Fa;ce||F(),fe||(ce(),fe=!0),_e.add(S,p),p.v=0}}function $c(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Ht(b(p.Fa,p),Qc(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Sd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Ht(b(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),cl(this),Sd(this))};function $a(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function Sd(p){p.g=new Mn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var S=Kn(p.qa);ct(S,"RID","rpc"),ct(S,"SID",p.K),ct(S,"AID",p.T),ct(S,"CI",p.F?"0":"1"),!p.F&&p.ja&&ct(S,"TO",p.ja),ct(S,"TYPE","xmlhttp"),Ya(p,S),p.m&&p.o&&sn(S,p.m,p.o),p.L&&(p.g.I=p.L);var T=p.g;p=p.ia,T.L=1,T.v=za(Kn(S)),T.m=null,T.P=!0,Is(T,p)}n.Za=function(){this.C!=null&&(this.C=null,cl(this),$c(this),vt(19))};function hl(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function wd(p,S){var T=null;if(p.g==S){hl(p),$a(p),p.g=null;var N=2}else if(Vc(p.h,S))T=S.D,On(p.h,S),N=1;else return;if(p.G!=0){if(S.o)if(N==1){T=S.m?S.m.length:0,S=Date.now()-S.F;var Y=p.B;N=Sr(),st(N,new $t(N,T)),ul(p)}else Ed(p);else if(Y=S.s,Y==3||Y==0&&0<S.X||!(N==1&&vm(p,S)||N==2&&$c(p)))switch(T&&0<T.length&&(S=p.h,S.i=S.i.concat(T)),Y){case 1:Ls(p,5);break;case 4:Ls(p,10);break;case 3:Ls(p,6);break;default:Ls(p,2)}}}function Qc(p,S){let T=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(T*=2),T*S}function Ls(p,S){if(p.j.info("Error code "+S),S==2){var T=b(p.fb,p),N=p.Xa;const Y=!N;N=new Ft(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ua(N,"https"),za(N),Y?Ha(N.toString(),T):Ni(N.toString(),T)}else vt(2);p.G=0,p.l&&p.l.sa(S),Ad(p),bd(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Ad(p){if(p.G=0,p.ka=[],p.l){const S=Uc(p.h);(S.length!=0||p.i.length!=0)&&(A(p.ka,S),A(p.ka,p.i),p.h.i.length=0,x(p.i),p.i.length=0),p.l.ra()}}function xd(p,S,T){var N=T instanceof Ft?Kn(T):new Ft(T);if(N.g!="")S&&(N.g=S+"."+N.g),Rr(N,N.s);else{var Y=c.location;N=Y.protocol,S=S?S+"."+Y.hostname:Y.hostname,Y=+Y.port;var ne=new Ft(null);N&&Ua(ne,N),S&&(ne.g=S),Y&&Rr(ne,Y),T&&(ne.l=T),N=ne}return T=p.D,S=p.ya,T&&S&&ct(N,T,S),ct(N,"VER",p.la),Ya(p,N),N}function Td(p,S,T){if(S&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Ca&&!p.pa?new et(new Cr({eb:T})):new et(p.pa),S.Ha(p.J),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rd(){}n=Rd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function dl(){}dl.prototype.g=function(p,S){return new Pn(p,S)};function Pn(p,S){It.call(this),this.g=new ll(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(p?p["X-WebChannel-Client-Profile"]=S.va:p={"X-WebChannel-Client-Profile":S.va}),this.g.S=p,(p=S&&S.Sb)&&!O(p)&&(this.g.m=p),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!O(S)&&(this.g.D=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new is(this)}w(Pn,It),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Wc(this.g)},Pn.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.u&&(T={},T.__data__=Ii(p),p=T);S.i.push(new gd(S.Ya++,p)),S.G==3&&ul(S)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Wc(this.g),delete this.g,Pn.aa.N.call(this)};function Cd(p){Cs.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){e:{for(const T in S){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}w(Cd,Cs);function Dd(){Oc.call(this),this.status=1}w(Dd,Oc);function is(p){this.g=p}w(is,Rd),is.prototype.ua=function(){st(this.g,"a")},is.prototype.ta=function(p){st(this.g,new Cd(p))},is.prototype.sa=function(p){st(this.g,new Dd)},is.prototype.ra=function(){st(this.g,"b")},dl.prototype.createWebChannel=dl.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,SI=function(){return new dl},EI=function(){return Sr()},_I=$i,bb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,fg=xr,Ds.COMPLETE="complete",bI=Ds,Mc.EventType=Rs,Rs.OPEN="a",Rs.CLOSE="b",Rs.ERROR="c",Rs.MESSAGE="d",It.prototype.listen=It.prototype.K,Qu=Mc,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,vI=et}).apply(typeof Mf<"u"?Mf:typeof self<"u"?self:typeof window<"u"?window:{});const gx="@firebase/firestore",px="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new Cp("@firebase/firestore");function ql(){return ko.logLevel}function ge(n,...e){if(ko.logLevel<=He.DEBUG){const t=e.map(I_);ko.debug(`Firestore (${Sc}): ${n}`,...t)}}function pr(n,...e){if(ko.logLevel<=He.ERROR){const t=e.map(I_);ko.error(`Firestore (${Sc}): ${n}`,...t)}}function ac(n,...e){if(ko.logLevel<=He.WARN){const t=e.map(I_);ko.warn(`Firestore (${Sc}): ${n}`,...t)}}function I_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,wI(n,i,t)}function wI(n,e,t){let i=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw pr(i),new Error(i)}function it(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||wI(e,s,i)}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Gi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xn.UNAUTHENTICATED))}shutdown(){}}class pz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mz{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let r=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new lr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const h=r;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new lr)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string",31837,{l:i}),new AI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class yz{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vz{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new yz(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bz{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const i=r=>{r.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=_z(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<t&&(i+=e.charAt(s[r]%62))}return i}}function Le(n,e){return n<e?-1:n>e?1:0}function _b(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return Le(i,s);{const r=xI(),o=Ez(r.encode(yx(n,t)),r.encode(yx(e,t)));return o!==0?o:Le(i,s)}}t+=i>65535?2:1}return Le(n.length,e.length)}function yx(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Ez(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Le(n[t],e[t]);return Le(n.length,e.length)}function oc(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=-62135596800,bx=1e6;class tn{static now(){return tn.fromMillis(Date.now())}static fromDate(e){return tn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*bx);return new tn(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vx)throw new me(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bx}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new tn(0,0))}static max(){return new Me(new tn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="__name__";class fs{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&De(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return fs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fs?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const r=fs.compareSegments(e.get(s),t.get(s));if(r!==0)return r}return Le(e.length,t.length)}static compareSegments(e,t){const i=fs.isNumericId(e),s=fs.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?fs.extractNumericId(e).compare(fs.extractNumericId(t)):_b(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ha.fromString(e.substring(4,e.length-2))}}class mt extends fs{construct(e,t,i){return new mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new mt(t)}static emptyPath(){return new mt([])}}const Sz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends fs{construct(e,t,i){return new vn(e,t,i)}static isValidIdentifier(e){return Sz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_x}static keyField(){return new vn([_x])}static fromServerFormat(e){const t=[];let i="",s=0;const r=()=>{if(i.length===0)throw new me(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new me(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(i+=c,s++):(r(),s++)}if(r(),o)throw new me(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(t)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(mt.fromString(e))}static fromName(e){return new Ae(mt.fromString(e).popFirst(5))}static empty(){return new Ae(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=-1;function wz(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(i===1e9?new tn(t+1,0):new tn(t,i));return new ma(s,Ae.empty(),e)}function Az(n){return new ma(n.readTime,n.key,Ah)}class ma{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ma(Me.min(),Ae.empty(),Ah)}static max(){return new ma(Me.max(),Ae.empty(),Ah)}}function xz(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==Tz)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(t,r).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,i)=>{t(e)})}static reject(e){return new oe((t,i)=>{i(e)})}static waitFor(e){return new oe((t,i)=>{let s=0,r=0,o=!1;e.forEach(c=>{++s,c.next(()=>{++r,o&&r===s&&t()},h=>i(h))}),o=!0,r===s&&t()})}static or(e){let t=oe.resolve(!1);for(const i of e)t=t.next(s=>s?oe.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,r)=>{i.push(t.call(this,s,r))}),this.waitFor(i)}static mapArray(e,t){return new oe((i,s)=>{const r=e.length,o=new Array(r);let c=0;for(let h=0;h<r;h++){const d=h;t(e[d]).next(g=>{o[d]=g,++c,c===r&&i(o)},g=>s(g))}})}static doWhile(e,t){return new oe((i,s)=>{const r=()=>{e()===!0?t().next(()=>{r()},s):i()};r()})}}function Cz(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ac(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Op.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=-1;function Pp(n){return n==null}function Fg(n){return n===0&&1/n==-1/0}function Dz(n){return typeof n=="number"&&Number.isInteger(n)&&!Fg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="";function Iz(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ex(e)),e=kz(n.get(t),e);return Ex(e)}function kz(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const r=n.charAt(s);switch(r){case"\0":t+="";break;case RI:t+="";break;default:t+=r}}return t}function Ex(n){return n+RI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,t){this.comparator=e,this.root=t||yn.EMPTY}insert(e,t){return new Ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Of(this.root,e,this.comparator,!1)}getReverseIterator(){return new Of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Of(this.root,e,this.comparator,!0)}}class Of{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?i(e.key,t):1,t&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,t,i,s,r){this.key=e,this.value=t,this.color=i??yn.RED,this.left=s??yn.EMPTY,this.right=r??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,r){return new yn(e??this.key,t??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,t,i),null):r===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return yn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,i,s,r){return this}insert(e,t,i){return new yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wx(this.data.getIterator())}getIteratorFrom(e){return new wx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class wx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new si([])}unionWith(e){let t=new nn(vn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new si(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new DI("Invalid base64 string: "+r):r}}(e);return new bn(t)}static fromUint8Array(e){const t=function(s){let r="";for(let o=0;o<s.length;++o)r+=String.fromCharCode(s[o]);return r}(e);return new bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const Nz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(n){if(it(!!n,39018),typeof n=="string"){let e=0;const t=Nz.exec(n);if(it(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ut(n.seconds),nanos:Ut(n.nanos)}}function Ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function va(n){return typeof n=="string"?bn.fromBase64String(n):bn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="server_timestamp",kI="__type__",NI="__previous_value__",MI="__local_write_time__";function N_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[kI])===null||t===void 0?void 0:t.stringValue)===II}function jp(n){const e=n.mapValue.fields[NI];return N_(e)?jp(e):e}function xh(n){const e=ya(n.mapValue.fields[MI].timestampValue);return new tn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e,t,i,s,r,o,c,h,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=g}}const qg="(default)";class Th{constructor(e,t){this.projectId=e,this.database=t||qg}static empty(){return new Th("","")}get isDefaultDatabase(){return this.database===qg}isEqual(e){return e instanceof Th&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="__type__",Oz="__max__",Pf={mapValue:{}},PI="__vector__",Gg="value";function ba(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?N_(n)?4:jz(n)?9007199254740991:Pz(n)?10:11:De(28295,{value:n})}function Ss(n,e){if(n===e)return!0;const t=ba(n);if(t!==ba(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xh(n).isEqual(xh(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const o=ya(s.timestampValue),c=ya(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,r){return va(s.bytesValue).isEqual(va(r.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,r){return Ut(s.geoPointValue.latitude)===Ut(r.geoPointValue.latitude)&&Ut(s.geoPointValue.longitude)===Ut(r.geoPointValue.longitude)}(n,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Ut(s.integerValue)===Ut(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const o=Ut(s.doubleValue),c=Ut(r.doubleValue);return o===c?Fg(o)===Fg(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return oc(n.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:case 11:return function(s,r){const o=s.mapValue.fields||{},c=r.mapValue.fields||{};if(Sx(o)!==Sx(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(c[h]===void 0||!Ss(o[h],c[h])))return!1;return!0}(n,e);default:return De(52216,{left:n})}}function Rh(n,e){return(n.values||[]).find(t=>Ss(t,e))!==void 0}function lc(n,e){if(n===e)return 0;const t=ba(n),i=ba(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(r,o){const c=Ut(r.integerValue||r.doubleValue),h=Ut(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return Ax(n.timestampValue,e.timestampValue);case 4:return Ax(xh(n),xh(e));case 5:return _b(n.stringValue,e.stringValue);case 6:return function(r,o){const c=va(r),h=va(o);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const c=r.split("/"),h=o.split("/");for(let d=0;d<c.length&&d<h.length;d++){const g=Le(c[d],h[d]);if(g!==0)return g}return Le(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const c=Le(Ut(r.latitude),Ut(o.latitude));return c!==0?c:Le(Ut(r.longitude),Ut(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return xx(n.arrayValue,e.arrayValue);case 10:return function(r,o){var c,h,d,g;const y=r.fields||{},b=o.fields||{},_=(c=y[Gg])===null||c===void 0?void 0:c.arrayValue,w=(h=b[Gg])===null||h===void 0?void 0:h.arrayValue,x=Le(((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0,((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0);return x!==0?x:xx(_,w)}(n.mapValue,e.mapValue);case 11:return function(r,o){if(r===Pf.mapValue&&o===Pf.mapValue)return 0;if(r===Pf.mapValue)return 1;if(o===Pf.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),d=o.fields||{},g=Object.keys(d);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const b=_b(h[y],g[y]);if(b!==0)return b;const _=lc(c[h[y]],d[g[y]]);if(_!==0)return _}return Le(h.length,g.length)}(n.mapValue,e.mapValue);default:throw De(23264,{Pe:t})}}function Ax(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=ya(n),i=ya(e),s=Le(t.seconds,i.seconds);return s!==0?s:Le(t.nanos,i.nanos)}function xx(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const r=lc(t[s],i[s]);if(r)return r}return Le(t.length,i.length)}function cc(n){return Eb(n)}function Eb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ya(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return va(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const r of t.values||[])s?s=!1:i+=",",i+=Eb(r);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",r=!0;for(const o of i)r?r=!1:s+=",",s+=`${o}:${Eb(t.fields[o])}`;return s+"}"}(n.mapValue):De(61005,{value:n})}function gg(n){switch(ba(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jp(n);return e?16+gg(e):16;case 5:return 2*n.stringValue.length;case 6:return va(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+gg(r),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return xa(i.fields,(r,o)=>{s+=r.length+gg(o)}),s}(n.mapValue);default:throw De(13486,{value:n})}}function Tx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sb(n){return!!n&&"integerValue"in n}function M_(n){return!!n&&"arrayValue"in n}function Rx(n){return!!n&&"nullValue"in n}function Cx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pg(n){return!!n&&"mapValue"in n}function Pz(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[OI])===null||t===void 0?void 0:t.stringValue)===PI}function oh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=oh(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=oh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jz(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Oz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!pg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oh(t)}setAll(e){let t=vn.emptyPath(),i={},s=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,i,s),i={},s=[],t=c.popLast()}o?i[c.lastSegment()]=oh(o):s.push(c.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,i,s)}delete(e){const t=this.field(e.popLast());pg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ss(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];pg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){xa(t,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new qn(oh(this.value))}}function jI(n){const e=[];return xa(n.fields,(t,i)=>{const s=new vn([t]);if(pg(i)){const r=jI(i.mapValue).fields;if(r.length===0)e.push(s);else for(const o of r)e.push(s.child(o))}else e.push(s)}),new si(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,t,i,s,r,o,c){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Tn(e,0,Me.min(),Me.min(),Me.min(),qn.empty(),0)}static newFoundDocument(e,t,i,s){return new Tn(e,1,t,Me.min(),i,s,0)}static newNoDocument(e,t){return new Tn(e,2,t,Me.min(),Me.min(),qn.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,Me.min(),Me.min(),qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t){this.position=e,this.inclusive=t}}function Dx(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const r=e[s],o=n.position[s];if(r.field.isKeyField()?i=Ae.comparator(Ae.fromName(o.referenceValue),t.key):i=lc(o,t.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ix(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ss(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t="asc"){this.field=e,this.dir=t}}function Lz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{}class Yt extends LI{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Uz(e,t,i):t==="array-contains"?new Hz(e,i):t==="in"?new Fz(e,i):t==="not-in"?new qz(e,i):t==="array-contains-any"?new Gz(e,i):new Yt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new zz(e,i):new Bz(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(lc(t,this.value)):t!==null&&ba(this.value)===ba(t)&&this.matchesComparison(lc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends LI{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new zi(e,t)}matches(e){return VI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function VI(n){return n.op==="and"}function UI(n){return Vz(n)&&VI(n)}function Vz(n){for(const e of n.filters)if(e instanceof zi)return!1;return!0}function wb(n){if(n instanceof Yt)return n.field.canonicalString()+n.op.toString()+cc(n.value);if(UI(n))return n.filters.map(e=>wb(e)).join(",");{const e=n.filters.map(t=>wb(t)).join(",");return`${n.op}(${e})`}}function zI(n,e){return n instanceof Yt?function(i,s){return s instanceof Yt&&i.op===s.op&&i.field.isEqual(s.field)&&Ss(i.value,s.value)}(n,e):n instanceof zi?function(i,s){return s instanceof zi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,o,c)=>r&&zI(o,s.filters[c]),!0):!1}(n,e):void De(19439)}function BI(n){return n instanceof Yt?function(t){return`${t.field.canonicalString()} ${t.op} ${cc(t.value)}`}(n):n instanceof zi?function(t){return t.op.toString()+" {"+t.getFilters().map(BI).join(" ,")+"}"}(n):"Filter"}class Uz extends Yt{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class zz extends Yt{constructor(e,t){super(e,"in",t),this.keys=HI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Bz extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=HI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class Hz extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return M_(t)&&Rh(t.arrayValue,this.value)}}class Fz extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Rh(this.value.arrayValue,t)}}class qz extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Rh(this.value.arrayValue,t)}}class Gz extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!M_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Rh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,t=null,i=[],s=[],r=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=c,this.Ie=null}}function kx(n,e=null,t=[],i=[],s=null,r=null,o=null){return new Wz(n,e,t,i,s,r,o)}function O_(n){const e=Oe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>wb(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Pp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>cc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>cc(i)).join(",")),e.Ie=t}return e.Ie}function P_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Lz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ix(n.startAt,e.startAt)&&Ix(n.endAt,e.endAt)}function Ab(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t=null,i=[],s=[],r=null,o="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Yz(n,e,t,i,s,r,o,c){return new Kh(n,e,t,i,s,r,o,c)}function j_(n){return new Kh(n)}function Nx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function FI(n){return n.collectionGroup!==null}function lh(n){const e=Oe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const r of e.explicitOrderBy)e.Ee.push(r),t.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new nn(vn.comparator);return o.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(r=>{t.has(r.canonicalString())||r.isKeyField()||e.Ee.push(new Yg(r,i))}),t.has(vn.keyField().canonicalString())||e.Ee.push(new Yg(vn.keyField(),i))}return e.Ee}function vs(n){const e=Oe(n);return e.de||(e.de=$z(e,lh(n))),e.de}function $z(n,e){if(n.limitType==="F")return kx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Yg(s.field,r)});const t=n.endAt?new Wg(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Wg(n.startAt.position,n.startAt.inclusive):null;return kx(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function xb(n,e){const t=n.filters.concat([e]);return new Kh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Tb(n,e,t){return new Kh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lp(n,e){return P_(vs(n),vs(e))&&n.limitType===e.limitType}function qI(n){return`${O_(vs(n))}|lt:${n.limitType}`}function Gl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>BI(s)).join(", ")}]`),Pp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>cc(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>cc(s)).join(",")),`Target(${i})`}(vs(n))}; limitType=${n.limitType})`}function Vp(n,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Ae.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(n,e)&&function(i,s){for(const r of lh(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(o,c,h){const d=Dx(o,c,h);return o.inclusive?d<=0:d<0}(i.startAt,lh(i),s)||i.endAt&&!function(o,c,h){const d=Dx(o,c,h);return o.inclusive?d>=0:d>0}(i.endAt,lh(i),s))}(n,e)}function Qz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GI(n){return(e,t)=>{let i=!1;for(const s of lh(n)){const r=Kz(s,e,t);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function Kz(n,e,t){const i=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(r,o,c){const h=o.data.field(r),d=c.data.field(r);return h!==null&&d!==null?lc(h,d):De(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(t,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return CI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=new Ct(Ae.comparator);function mr(){return Xz}const WI=new Ct(Ae.comparator);function Ku(...n){let e=WI;for(const t of n)e=e.insert(t.key,t);return e}function YI(n){let e=WI;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Eo(){return ch()}function $I(){return ch()}function ch(){return new Bo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Zz=new Ct(Ae.comparator),Jz=new nn(Ae.comparator);function Fe(...n){let e=Jz;for(const t of n)e=e.add(t);return e}const e6=new nn(Le);function t6(){return e6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fg(e)?"-0":e}}function QI(n){return{integerValue:""+n}}function n6(n,e){return Dz(e)?QI(e):L_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this._=void 0}}function i6(n,e,t){return n instanceof $g?function(s,r){const o={fields:{[kI]:{stringValue:II},[MI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&N_(r)&&(r=jp(r)),r&&(o.fields[NI]=r),{mapValue:o}}(t,e):n instanceof Ch?XI(n,e):n instanceof Dh?ZI(n,e):function(s,r){const o=KI(s,r),c=Mx(o)+Mx(s.Re);return Sb(o)&&Sb(s.Re)?QI(c):L_(s.serializer,c)}(n,e)}function s6(n,e,t){return n instanceof Ch?XI(n,e):n instanceof Dh?ZI(n,e):t}function KI(n,e){return n instanceof Qg?function(i){return Sb(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class $g extends Up{}class Ch extends Up{constructor(e){super(),this.elements=e}}function XI(n,e){const t=JI(e);for(const i of n.elements)t.some(s=>Ss(s,i))||t.push(i);return{arrayValue:{values:t}}}class Dh extends Up{constructor(e){super(),this.elements=e}}function ZI(n,e){let t=JI(e);for(const i of n.elements)t=t.filter(s=>!Ss(s,i));return{arrayValue:{values:t}}}class Qg extends Up{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Mx(n){return Ut(n.integerValue||n.doubleValue)}function JI(n){return M_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function r6(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Ch&&s instanceof Ch||i instanceof Dh&&s instanceof Dh?oc(i.elements,s.elements,Ss):i instanceof Qg&&s instanceof Qg?Ss(i.Re,s.Re):i instanceof $g&&s instanceof $g}(n.transform,e.transform)}class a6{constructor(e,t){this.version=e,this.transformResults=t}}class Ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class zp{}function e1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new V_(n.key,Ai.none()):new Xh(n.key,n.data,Ai.none());{const t=n.data,i=qn.empty();let s=new nn(vn.comparator);for(let r of e.fields)if(!s.has(r)){let o=t.field(r);o===null&&r.length>1&&(r=r.popLast(),o=t.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new Ta(n.key,i,new si(s.toArray()),Ai.none())}}function o6(n,e,t){n instanceof Xh?function(s,r,o){const c=s.value.clone(),h=Px(s.fieldTransforms,r,o.transformResults);c.setAll(h),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ta?function(s,r,o){if(!mg(s.precondition,r))return void r.convertToUnknownDocument(o.version);const c=Px(s.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(t1(s)),h.setAll(c),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):function(s,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function uh(n,e,t,i){return n instanceof Xh?function(r,o,c,h){if(!mg(r.precondition,o))return c;const d=r.value.clone(),g=jx(r.fieldTransforms,h,o);return d.setAll(g),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ta?function(r,o,c,h){if(!mg(r.precondition,o))return c;const d=jx(r.fieldTransforms,h,o),g=o.data;return g.setAll(t1(r)),g.setAll(d),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),c===null?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(y=>y.field))}(n,e,t,i):function(r,o,c){return mg(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,e,t)}function l6(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),r=KI(i.transform,s||null);r!=null&&(t===null&&(t=qn.empty()),t.set(i.field,r))}return t||null}function Ox(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&oc(i,s,(r,o)=>r6(r,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xh extends zp{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ta extends zp{constructor(e,t,i,s,r=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function t1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Px(n,e,t){const i=new Map;it(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const r=n[s],o=r.transform,c=e.data.field(r.field);i.set(r.field,s6(o,c,t[s]))}return i}function jx(n,e,t){const i=new Map;for(const s of n){const r=s.transform,o=t.data.field(s.field);i.set(s.field,i6(r,o,e))}return i}class V_ extends zp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c6 extends zp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&o6(r,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=uh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=uh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=$I();return this.mutations.forEach(s=>{const r=e.get(s.key),o=r.overlayedDocument;let c=this.applyToLocalView(o,r.mutatedFields);c=t.has(s.key)?null:c;const h=e1(o,c);h!==null&&i.set(s.key,h),o.isValidDocument()||o.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&oc(this.mutations,e.mutations,(t,i)=>Ox(t,i))&&oc(this.baseMutations,e.baseMutations,(t,i)=>Ox(t,i))}}class U_{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){it(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return Zz}();const r=e.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new U_(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,Ye;function f6(n){switch(n){case le.OK:return De(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return De(15467,{code:n})}}function n1(n){if(n===void 0)return pr("GRPC error has no .code"),le.UNKNOWN;switch(n){case Wt.OK:return le.OK;case Wt.CANCELLED:return le.CANCELLED;case Wt.UNKNOWN:return le.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return le.INTERNAL;case Wt.UNAVAILABLE:return le.UNAVAILABLE;case Wt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Wt.NOT_FOUND:return le.NOT_FOUND;case Wt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Wt.ABORTED:return le.ABORTED;case Wt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Wt.DATA_LOSS:return le.DATA_LOSS;default:return De(39323,{code:n})}}(Ye=Wt||(Wt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=new ha([4294967295,4294967295],0);function Lx(n){const e=xI().encode(n),t=new yI;return t.update(e),new Uint8Array(t.digest())}function Vx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new ha([t,i],0),new ha([s,r],0)]}class z_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Xu(`Invalid padding: ${t}`);if(i<0)throw new Xu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ha.fromNumber(this.pe)}we(e,t,i){let s=e.add(t.multiply(ha.fromNumber(i)));return s.compare(g6)===1&&(s=new ha([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Lx(e),[i,s]=Vx(t);for(let r=0;r<this.hashCount;r++){const o=this.we(i,s,r);if(!this.be(o))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new z_(r,s,t);return i.forEach(c=>o.insert(c)),o}insert(e){if(this.pe===0)return;const t=Lx(e),[i,s]=Vx(t);for(let r=0;r<this.hashCount;r++){const o=this.we(i,s,r);this.Se(o)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t,i,s,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Zh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Bp(Me.min(),s,new Ct(Le),mr(),Fe())}}class Zh{constructor(e,t,i,s,r){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Zh(i,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,i,s){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=s}}class i1{constructor(e,t){this.targetId=e,this.Ce=t}}class s1{constructor(e,t,i=bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class Ux{constructor(){this.Fe=0,this.Me=zx(),this.xe=bn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Fe(),t=Fe(),i=Fe();return this.Me.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:De(38017,{changeType:r})}}),new Zh(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=zx()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,it(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class p6{constructor(e){this.ze=e,this.je=new Map,this.He=mr(),this.Je=jf(),this.Ye=jf(),this.Ze=new Ct(Le)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:De(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,i=e.Ce.count,s=this._t(t);if(s){const r=s.target;if(Ab(r))if(i===0){const o=new Ae(r.path);this.tt(t,o,Tn.newNoDocument(o,Me.min()))}else it(i===1,20013,{expectedCount:i});else{const o=this.ut(t);if(o!==i){const c=this.ct(e),h=c?this.lt(c,e,o):1;if(h!==0){this.st(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=t;let o,c;try{o=va(i).toUint8Array()}catch(h){if(h instanceof DI)return ac("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new z_(o,s,r)}catch(h){return ac(h instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let s=0;return i.forEach(r=>{const o=this.ze.Pt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,r,null),s++)}),s}It(e){const t=new Map;this.je.forEach((r,o)=>{const c=this._t(o);if(c){if(r.current&&Ab(c.target)){const h=new Ae(c.target.path);this.Et(h).has(o)||this.dt(o,h)||this.tt(o,h,Tn.newNoDocument(h,e))}r.Le&&(t.set(o,r.qe()),r.Qe())}});let i=Fe();this.Ye.forEach((r,o)=>{let c=!0;o.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(r))}),this.He.forEach((r,o)=>o.setReadTime(e));const s=new Bp(e,t,this.Ze,this.He,i);return this.He=mr(),this.Je=jf(),this.Ye=jf(),this.Ze=new Ct(Le),s}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Ux,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new nn(Le),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new nn(Le),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ux),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function jf(){return new Ct(Ae.comparator)}function zx(){return new Ct(Ae.comparator)}const m6={asc:"ASCENDING",desc:"DESCENDING"},y6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v6={and:"AND",or:"OR"};class b6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rb(n,e){return n.useProto3Json||Pp(e)?e:{value:e}}function Kg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _6(n,e){return Kg(n,e.toTimestamp())}function bs(n){return it(!!n,49232),Me.fromTimestamp(function(t){const i=ya(t);return new tn(i.seconds,i.nanos)}(n))}function B_(n,e){return Cb(n,e).canonicalString()}function Cb(n,e){const t=function(s){return new mt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function a1(n){const e=mt.fromString(n);return it(h1(e),10190,{key:e.toString()}),e}function Db(n,e){return B_(n.databaseId,e.path)}function Rv(n,e){const t=a1(e);if(t.get(1)!==n.databaseId.projectId)throw new me(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(l1(t))}function o1(n,e){return B_(n.databaseId,e)}function E6(n){const e=a1(n);return e.length===4?mt.emptyPath():l1(e)}function Ib(n){return new mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function l1(n){return it(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Bx(n,e,t){return{name:Db(n,e),fields:t.value.mapValue.fields}}function S6(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:De(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(d,g){return d.useProto3Json?(it(g===void 0||typeof g=="string",58123),bn.fromBase64String(g||"")):(it(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),bn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(d){const g=d.code===void 0?le.UNKNOWN:n1(d.code);return new me(g,d.message||"")}(o);t=new s1(i,s,r,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Rv(n,i.document.name),r=bs(i.document.updateTime),o=i.document.createTime?bs(i.document.createTime):Me.min(),c=new qn({mapValue:{fields:i.document.fields}}),h=Tn.newFoundDocument(s,r,o,c),d=i.targetIds||[],g=i.removedTargetIds||[];t=new yg(d,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Rv(n,i.document),r=i.readTime?bs(i.readTime):Me.min(),o=Tn.newNoDocument(s,r),c=i.removedTargetIds||[];t=new yg([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Rv(n,i.document),r=i.removedTargetIds||[];t=new yg([],r,s,null)}else{if(!("filter"in e))return De(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,o=new d6(s,r),c=i.targetId;t=new i1(c,o)}}return t}function w6(n,e){let t;if(e instanceof Xh)t={update:Bx(n,e.key,e.value)};else if(e instanceof V_)t={delete:Db(n,e.key)};else if(e instanceof Ta)t={update:Bx(n,e.key,e.data),updateMask:N6(e.fieldMask)};else{if(!(e instanceof c6))return De(16599,{ft:e.type});t={verify:Db(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof $g)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ch)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Dh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qg)return{fieldPath:o.field.canonicalString(),increment:c.Re};throw De(20930,{transform:o.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:_6(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:De(27497)}(n,e.precondition)),t}function A6(n,e){return n&&n.length>0?(it(e!==void 0,14353),n.map(t=>function(s,r){let o=s.updateTime?bs(s.updateTime):bs(r);return o.isEqual(Me.min())&&(o=bs(r)),new a6(o,s.transformResults||[])}(t,e))):[]}function x6(n,e){return{documents:[o1(n,e.path)]}}function T6(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=o1(n,s);const r=function(d){if(d.length!==0)return u1(zi.create(d,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(d){if(d.length!==0)return d.map(g=>function(b){return{field:Wl(b.field),direction:D6(b.dir)}}(g))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=Rb(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:s}}function R6(n){let e=E6(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){it(i===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let r=[];t.where&&(r=function(y){const b=c1(y);return b instanceof zi&&UI(b)?b.getFilters():[b]}(t.where));let o=[];t.orderBy&&(o=function(y){return y.map(b=>function(w){return new Yg(Yl(w.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(b))}(t.orderBy));let c=null;t.limit&&(c=function(y){let b;return b=typeof y=="object"?y.value:y,Pp(b)?null:b}(t.limit));let h=null;t.startAt&&(h=function(y){const b=!!y.before,_=y.values||[];return new Wg(_,b)}(t.startAt));let d=null;return t.endAt&&(d=function(y){const b=!y.before,_=y.values||[];return new Wg(_,b)}(t.endAt)),Yz(e,s,o,r,c,"F",h,d)}function C6(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function c1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Yl(t.unaryFilter.field);return Yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Yl(t.unaryFilter.field);return Yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Yl(t.unaryFilter.field);return Yt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yl(t.unaryFilter.field);return Yt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}}(n):n.fieldFilter!==void 0?function(t){return Yt.create(Yl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return zi.create(t.compositeFilter.filters.map(i=>c1(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return De(1026)}}(t.compositeFilter.op))}(n):De(30097,{filter:n})}function D6(n){return m6[n]}function I6(n){return y6[n]}function k6(n){return v6[n]}function Wl(n){return{fieldPath:n.canonicalString()}}function Yl(n){return vn.fromServerFormat(n.fieldPath)}function u1(n){return n instanceof Yt?function(t){if(t.op==="=="){if(Cx(t.value))return{unaryFilter:{field:Wl(t.field),op:"IS_NAN"}};if(Rx(t.value))return{unaryFilter:{field:Wl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Cx(t.value))return{unaryFilter:{field:Wl(t.field),op:"IS_NOT_NAN"}};if(Rx(t.value))return{unaryFilter:{field:Wl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wl(t.field),op:I6(t.op),value:t.value}}}(n):n instanceof zi?function(t){const i=t.getFilters().map(s=>u1(s));return i.length===1?i[0]:{compositeFilter:{op:k6(t.op),filters:i}}}(n):De(54877,{filter:n})}function N6(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function h1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t,i,s,r=Me.min(),o=Me.min(),c=bn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.wt=e}}function O6(n){const e=R6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Tb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.yn=new j6}addToCollectionParentIndex(e,t){return this.yn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(ma.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(ma.min())}updateCollectionGroup(e,t,i){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class j6{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new nn(mt.comparator),r=!s.has(i);return this.index[t]=s.add(i),r}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new nn(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d1=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(d1,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new uc(0)}static ir(){return new uc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="LruGarbageCollector",L6=1048576;function qx([n,e],[t,i]){const s=Le(n,t);return s===0?Le(e,i):s}class V6{constructor(e){this.cr=e,this.buffer=new nn(qx),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();qx(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class U6{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ge(Fx,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ac(t)?ge(Fx,"Ignoring IndexedDB error during garbage collection: ",t):await wc(t)}await this.Ir(3e5)})}}class z6{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(Op.le);const i=new V6(t);return this.Er.forEachTarget(e,s=>i.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>i.Pr(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(Hx)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hx):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,s,r,o,c,h,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,o=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(e,i,t))).next(y=>(r=y,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(y=>(d=Date.now(),ql()<=He.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-g}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${r} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-g}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:y})))}}function B6(n,e){return new z6(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(){this.changes=new Bo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?oe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&uh(i.mutation,s,si.empty(),tn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Fe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Fe()){const s=Eo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(r=>{let o=Ku();return r.forEach((c,h)=>{o=o.insert(c,h.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=Eo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Fe()))}populateOverlays(e,t,i){const s=[];return i.forEach(r=>{t.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,i,s){let r=mr();const o=ch(),c=function(){return ch()}();return t.forEach((h,d)=>{const g=i.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof Ta)?r=r.insert(d.key,d):g!==void 0?(o.set(d.key,g.mutation.getFieldMask()),uh(g.mutation,d,g.mutation.getFieldMask(),tn.now())):o.set(d.key,si.empty())}),this.recalculateAndSaveOverlays(e,r).next(h=>(h.forEach((d,g)=>o.set(d,g)),t.forEach((d,g)=>{var y;return c.set(d,new F6(g,(y=o.get(d))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,t){const i=ch();let s=new Ct((o,c)=>o-c),r=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const c of o)c.keys().forEach(h=>{const d=t.get(h);if(d===null)return;let g=i.get(h)||si.empty();g=c.applyToLocalView(d,g),i.set(h,g);const y=(s.get(c.batchId)||Fe()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,g=h.value,y=$I();g.forEach(b=>{if(!r.has(b)){const _=e1(t.get(b),i.get(b));_!==null&&y.set(b,_),r=r.add(b)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,y))}return oe.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(o){return Ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):FI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-r.size):oe.resolve(Eo());let c=Ah,h=r;return o.next(d=>oe.forEach(d,(g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),r.get(g)?oe.resolve():this.remoteDocumentCache.getEntry(e,g).next(b=>{h=h.insert(g,b)}))).next(()=>this.populateOverlays(e,d,r)).next(()=>this.computeViews(e,h,d,Fe())).next(g=>({batchId:c,changes:YI(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(i=>{let s=Ku();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const r=t.collectionGroup;let o=Ku();return this.indexManager.getCollectionParents(e,r).next(c=>oe.forEach(c,h=>{const d=function(y,b){return new Kh(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,h.child(r));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next(g=>{g.forEach((y,b)=>{o=o.insert(y,b)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r,s))).next(o=>{r.forEach((h,d)=>{const g=d.getKey();o.get(g)===null&&(o=o.insert(g,Tn.newInvalidDocument(g)))});let c=Ku();return o.forEach((h,d)=>{const g=r.get(h);g!==void 0&&uh(g.mutation,d,si.empty(),tn.now()),Vp(t,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return oe.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:bs(s.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(s){return{name:s.name,query:O6(s.bundledQuery),readTime:bs(s.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.overlays=new Ct(Ae.comparator),this.Or=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Eo();return oe.forEach(t,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,r)=>{this.St(e,t,r)}),oe.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Or.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Or.delete(i)),oe.resolve()}getOverlaysForCollection(e,t,i){const s=Eo(),r=t.length+1,o=new Ae(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===r&&h.largestBatchId>i&&s.set(h.getKey(),h)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let r=new Ct((d,g)=>d-g);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let g=r.get(d.largestBatchId);g===null&&(g=Eo(),r=r.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=Eo(),h=r.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,g)=>c.set(d,g)),!(c.size()>=s)););return oe.resolve(c)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.Or.get(s.largestBatchId).delete(i.key);this.Or.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new h6(t,i));let r=this.Or.get(t);r===void 0&&(r=Fe(),this.Or.set(t,r)),this.Or.set(t,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.Nr=new nn(cn.Br),this.Lr=new nn(cn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new cn(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new cn(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new Ae(new mt([])),i=new cn(t,e),s=new cn(t,e+1),r=[];return this.Lr.forEachInRange([i,s],o=>{this.Qr(o),r.push(o.key)}),r}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ae(new mt([])),i=new cn(t,e),s=new cn(t,e+1);let r=Fe();return this.Lr.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(e){const t=new cn(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class cn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ae.comparator(e.key,t.key)||Le(e.Gr,t.Gr)}static kr(e,t){return Le(e.Gr,t.Gr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new nn(cn.Br)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const r=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new u6(r,t,i,s);this.mutationQueue.push(o);for(const c of s)this.zr=this.zr.add(new cn(c.key,r)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return oe.resolve(o)}lookupMutationBatch(e,t){return oe.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Hr(i),r=s<0?0:s;return oe.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?k_:this.Jn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new cn(t,0),s=new cn(t,Number.POSITIVE_INFINITY),r=[];return this.zr.forEachInRange([i,s],o=>{const c=this.jr(o.Gr);r.push(c)}),oe.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nn(Le);return t.forEach(s=>{const r=new cn(s,0),o=new cn(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([r,o],c=>{i=i.add(c.Gr)})}),oe.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let r=i;Ae.isDocumentKey(r)||(r=r.child(""));const o=new cn(new Ae(r),0);let c=new nn(Le);return this.zr.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.Gr)),!0)},o),oe.resolve(this.Jr(c))}Jr(e){const t=[];return e.forEach(i=>{const s=this.jr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){it(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return oe.forEach(t.mutations,s=>{const r=new cn(s.key,t.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new cn(t,0),s=this.zr.firstAfterOrEqual(i);return oe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.Zr=e,this.docs=function(){return new Ct(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),r=s?s.size:0,o=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return oe.resolve(i?i.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let i=mr();return t.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Tn.newInvalidDocument(s))}),oe.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let r=mr();const o=t.path,c=new Ae(o.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:g}}=h.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||xz(Az(g),i)<=0||(s.has(g.key)||Vp(t,g))&&(r=r.insert(g.key,g.mutableCopy()))}return oe.resolve(r)}getAllFromCollectionGroup(e,t,i,s){De(9500)}Xr(e,t){return oe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new K6(this)}getSize(e){return oe.resolve(this.size)}}class K6 extends H6{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.vr.addEntry(e,s)):this.vr.removeEntry(i)}),oe.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.persistence=e,this.ei=new Bo(t=>O_(t),P_),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.ti=0,this.ni=new H_,this.targetCount=0,this.ri=uc.rr()}forEachTarget(e,t){return this.ei.forEach((i,s)=>t(s)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),oe.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new uc(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.ar(t),oe.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,i){let s=0;const r=[];return this.ei.forEach((o,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.ei.delete(o),r.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),oe.waitFor(r).next(()=>s)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return oe.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),oe.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const s=this.persistence.referenceDelegate,r=[];return s&&t.forEach(o=>{r.push(s.markPotentiallyOrphaned(e,o))}),oe.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return oe.resolve(i)}containsKey(e,t){return oe.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,t){this.ii={},this.overlays={},this.si=new Op(0),this.oi=!1,this.oi=!0,this._i=new Y6,this.referenceDelegate=e(this),this.ai=new X6(this),this.indexManager=new P6,this.remoteDocumentCache=function(s){return new Q6(s)}(i=>this.referenceDelegate.ui(i)),this.serializer=new M6(t),this.ci=new G6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new W6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new $6(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const s=new Z6(this.si.next());return this.referenceDelegate.li(),i(s).next(r=>this.referenceDelegate.hi(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Pi(e,t){return oe.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class Z6 extends Rz{constructor(e){super(),this.currentSequenceNumber=e}}class F_{constructor(e){this.persistence=e,this.Ti=new H_,this.Ii=null}static Ei(e){return new F_(e)}get di(){if(this.Ii)return this.Ii;throw De(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),oe.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(r=>this.di.add(r.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,i=>{const s=Ae.fromPath(i);return this.Ai(e,s).next(r=>{r||t.removeEntry(s,Me.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return oe.or([()=>oe.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Xg{constructor(e,t){this.persistence=e,this.Ri=new Bo(i=>Iz(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=B6(this,t)}static Ei(e,t){return new Xg(e,t)}li(){}hi(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return oe.forEach(this.Ri,(i,s)=>this.gr(e,i,s).next(r=>r?oe.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.Xr(e,o=>this.gr(e,o,t).next(c=>{c||(i++,r.removeEntry(o,Me.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),oe.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gg(e.data.value)),t}gr(e,t,i){return oe.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.Ri.get(t);return oe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=s}static Ps(e,t){let i=Fe(),s=Fe();for(const r of t.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new q_(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return oj()?8:Cz(kn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,s){const r={result:null};return this.Rs(e,t).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.Vs(e,t,s,i).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new J6;return this.fs(e,t,o).next(c=>{if(r.result=c,this.Is)return this.gs(e,t,o,c.size)})}).next(()=>r.result)}gs(e,t,i,s){return i.documentReadCount<this.Es?(ql()<=He.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Gl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),oe.resolve()):(ql()<=He.DEBUG&&ge("QueryEngine","Query:",Gl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(ql()<=He.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Gl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vs(t))):oe.resolve())}Rs(e,t){if(Nx(t))return oe.resolve(null);let i=vs(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Tb(t,null,"F"),i=vs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const o=Fe(...r);return this.As.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const d=this.ps(t,c);return this.ys(t,d,o,h.readTime)?this.Rs(e,Tb(t,null,"F")):this.ws(e,d,t,h)}))})))}Vs(e,t,i,s){return Nx(t)||s.isEqual(Me.min())?oe.resolve(null):this.As.getDocuments(e,i).next(r=>{const o=this.ps(t,r);return this.ys(t,o,i,s)?oe.resolve(null):(ql()<=He.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Gl(t)),this.ws(e,o,t,wz(s,Ah)).next(c=>c))})}ps(e,t){let i=new nn(GI(e));return t.forEach((s,r)=>{Vp(e,r)&&(i=i.add(r))}),i}ys(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const r=e.limitType==="F"?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}fs(e,t,i){return ql()<=He.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Gl(t)),this.As.getDocumentsMatchingQuery(e,t,ma.min(),i)}ws(e,t,i,s){return this.As.getDocumentsMatchingQuery(e,i,s).next(r=>(t.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="LocalStore",tB=3e8;class nB{constructor(e,t,i,s){this.persistence=e,this.bs=t,this.serializer=s,this.Ss=new Ct(Le),this.Ds=new Bo(r=>O_(r),P_),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new q6(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function iB(n,e,t,i){return new nB(n,e,t,i)}async function g1(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],c=[];let h=Fe();for(const d of s){o.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of r){c.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(i,h).next(d=>({Ms:d,removedBatchIds:o,addedBatchIds:c}))})})}function sB(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=t.Cs.newChangeBuffer({trackRemovals:!0});return function(c,h,d,g){const y=d.batch,b=y.keys();let _=oe.resolve();return b.forEach(w=>{_=_.next(()=>g.getEntry(h,w)).next(x=>{const A=d.docVersions.get(w);it(A!==null,48541),x.version.compareTo(A)<0&&(y.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),g.addEntry(x)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(t,i,e,r).next(()=>r.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Fe();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function p1(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function rB(n,e){const t=Oe(n),i=e.snapshotVersion;let s=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=t.Cs.newChangeBuffer({trackRemovals:!0});s=t.Ss;const c=[];e.targetChanges.forEach((g,y)=>{const b=s.get(y);if(!b)return;c.push(t.ai.removeMatchingKeys(r,g.removedDocuments,y).next(()=>t.ai.addMatchingKeys(r,g.addedDocuments,y)));let _=b.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(y)!==null?_=_.withResumeToken(bn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,i)),s=s.insert(y,_),function(x,A,D){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=tB?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(b,_,g)&&c.push(t.ai.updateTargetData(r,_))});let h=mr(),d=Fe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(r,g))}),c.push(aB(r,o,e.documentUpdates).next(g=>{h=g.xs,d=g.Os})),!i.isEqual(Me.min())){const g=t.ai.getLastRemoteSnapshotVersion(r).next(y=>t.ai.setTargetsMetadata(r,r.currentSequenceNumber,i));c.push(g)}return oe.waitFor(c).next(()=>o.apply(r)).next(()=>t.localDocuments.getLocalViewOfDocuments(r,h,d)).next(()=>h)}).then(r=>(t.Ss=s,r))}function aB(n,e,t){let i=Fe(),s=Fe();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let o=mr();return t.forEach((c,h)=>{const d=r.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Me.min())?(e.removeEntry(c,h.readTime),o=o.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),o=o.insert(c,h)):ge(G_,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{xs:o,Os:s}})}function oB(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=k_),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function lB(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.ai.getTargetData(i,e).next(r=>r?(s=r,oe.resolve(s)):t.ai.allocateTargetId(i).next(o=>(s=new na(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ss.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function kb(n,e,t){const i=Oe(n),s=i.Ss.get(e),r=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ac(o))throw o;ge(G_,`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(s.target)}function Gx(n,e,t){const i=Oe(n);let s=Me.min(),r=Fe();return i.persistence.runTransaction("Execute query","readwrite",o=>function(h,d,g){const y=Oe(h),b=y.Ds.get(g);return b!==void 0?oe.resolve(y.Ss.get(b)):y.ai.getTargetData(d,g)}(i,o,vs(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(o,c.targetId).next(h=>{r=h})}).next(()=>i.bs.getDocumentsMatchingQuery(o,e,t?s:Me.min(),t?r:Fe())).next(c=>(cB(i,Qz(e),c),{documents:c,Ns:r})))}function cB(n,e,t){let i=n.vs.get(e)||Me.min();t.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),n.vs.set(e,i)}class Wx{constructor(){this.activeTargetIds=t6()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uB{constructor(){this.So=new Wx,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Wx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="ConnectivityMonitor";class $x{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ge(Yx,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ge(Yx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf=null;function Nb(){return Lf===null?Lf=function(){return 268435456+Math.round(2147483648*Math.random())}():Lf++,"0x"+Lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="RestConnection",dB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fB{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${s}`,this.qo=this.databaseId.database===qg?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Qo(e,t,i,s,r){const o=Nb(),c=this.$o(e,t.toUriEncodedString());ge(Cv,`Sending RPC '${e}' ${o}:`,c,i);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(h,s,r);const{host:d}=new URL(c),g=Rp(d);return this.Ko(e,c,h,i,g).then(y=>(ge(Cv,`Received RPC '${e}' ${o}: `,y),y),y=>{throw ac(Cv,`RPC '${e}' ${o} failed with error: `,y,"url: ",c,"request:",i),y})}Wo(e,t,i,s,r,o){return this.Qo(e,t,i,s,r)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}$o(e,t){const i=dB[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class pB extends fB{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,s,r){const o=Nb();return new Promise((c,h)=>{const d=new vI;d.setWithCredentials(!0),d.listenOnce(bI.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case fg.NO_ERROR:const y=d.getResponseJson();ge(wn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),c(y);break;case fg.TIMEOUT:ge(wn,`RPC '${e}' ${o} timed out`),h(new me(le.DEADLINE_EXCEEDED,"Request time out"));break;case fg.HTTP_ERROR:const b=d.getStatus();if(ge(wn,`RPC '${e}' ${o} failed with status:`,b,"response text:",d.getResponseText()),b>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_==null?void 0:_.error;if(w&&w.status&&w.message){const x=function(D){const O=D.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(O)>=0?O:le.UNKNOWN}(w.status);h(new me(x,w.message))}else h(new me(le.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new me(le.UNAVAILABLE,"Connection failed."));break;default:De(9055,{s_:e,streamId:o,o_:d.getLastErrorCode(),__:d.getLastError()})}}finally{ge(wn,`RPC '${e}' ${o} completed.`)}});const g=JSON.stringify(s);ge(wn,`RPC '${e}' ${o} sending request:`,s),d.send(t,"POST",g,i,15)})}a_(e,t,i){const s=Nb(),r=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=SI(),c=EI(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const g=r.join("");ge(wn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const y=o.createWebChannel(g,h);let b=!1,_=!1;const w=new gB({Go:A=>{_?ge(wn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(b||(ge(wn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),b=!0),ge(wn,`RPC '${e}' stream ${s} sending:`,A),y.send(A))},zo:()=>y.close()}),x=(A,D,O)=>{A.listen(D,j=>{try{O(j)}catch(H){setTimeout(()=>{throw H},0)}})};return x(y,Qu.EventType.OPEN,()=>{_||(ge(wn,`RPC '${e}' stream ${s} transport opened.`),w.t_())}),x(y,Qu.EventType.CLOSE,()=>{_||(_=!0,ge(wn,`RPC '${e}' stream ${s} transport closed`),w.r_())}),x(y,Qu.EventType.ERROR,A=>{_||(_=!0,ac(wn,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),w.r_(new me(le.UNAVAILABLE,"The operation could not be completed")))}),x(y,Qu.EventType.MESSAGE,A=>{var D;if(!_){const O=A.data[0];it(!!O,16349);const j=O,H=(j==null?void 0:j.error)||((D=j[0])===null||D===void 0?void 0:D.error);if(H){ge(wn,`RPC '${e}' stream ${s} received error:`,H);const q=H.status;let X=function(k){const P=Wt[k];if(P!==void 0)return n1(P)}(q),M=H.message;X===void 0&&(X=le.INTERNAL,M="Unknown error status: "+q+" with message "+H.message),_=!0,w.r_(new me(X,M)),y.close()}else ge(wn,`RPC '${e}' stream ${s} received:`,O),w.i_(O)}}),x(c,_I.STAT_EVENT,A=>{A.stat===bb.PROXY?ge(wn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===bb.NOPROXY&&ge(wn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.n_()},0),w}}function Dv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(n){return new b6(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t,i=1e3,s=1.5,r=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=s,this.l_=r,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),s=Math.max(0,t-i);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="PersistentStream";class y1{constructor(e,t,i,s,r,o,c,h){this.bi=e,this.R_=i,this.V_=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new m1(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.m_===t&&this.B_(i,s)},i=>{e(()=>{const s=new me(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(s)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{i(()=>this.L_(s))}),this.stream.onMessage(s=>{i(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ge(Qx,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ge(Qx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mB extends y1{constructor(e,t,i,s,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,o),this.serializer=r}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=S6(this.serializer,e),i=function(r){if(!("targetChange"in r))return Me.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Me.min():o.readTime?bs(o.readTime):Me.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=Ib(this.serializer),t.addTarget=function(r,o){let c;const h=o.target;if(c=Ab(h)?{documents:x6(r,h)}:{query:T6(r,h).gt},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=r1(r,o.resumeToken);const d=Rb(r,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(Me.min())>0){c.readTime=Kg(r,o.snapshotVersion.toTimestamp());const d=Rb(r,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const i=C6(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=Ib(this.serializer),t.removeTarget=e,this.F_(t)}}class yB extends y1{constructor(e,t,i,s,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,o),this.serializer=r}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=A6(e.writeResults,e.commitTime),i=bs(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=Ib(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>w6(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{}class bB extends vB{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new me(le.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Qo(e,Cb(t,i),s,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new me(le.UNKNOWN,r.toString())})}Wo(e,t,i,s,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Wo(e,Cb(t,i),s,o,c,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(le.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class _B{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(pr(t),this.ea=!1):ge("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="RemoteStore";class EB{constructor(e,t,i,s,r){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=r,this.ca.vo(o=>{i.enqueueAndForget(async()=>{Ho(this)&&(ge(No,"Restarting streams for network reachability change."),await async function(h){const d=Oe(h);d.aa.add(4),await Jh(d),d.la.set("Unknown"),d.aa.delete(4),await Fp(d)}(this))})}),this.la=new _B(i,s)}}async function Fp(n){if(Ho(n))for(const e of n.ua)await e(!0)}async function Jh(n){for(const e of n.ua)await e(!1)}function v1(n,e){const t=Oe(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Q_(t)?$_(t):xc(t).b_()&&Y_(t,e))}function W_(n,e){const t=Oe(n),i=xc(t);t._a.delete(e),i.b_()&&b1(t,e),t._a.size===0&&(i.b_()?i.v_():Ho(t)&&t.la.set("Unknown"))}function Y_(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xc(n).U_(e)}function b1(n,e){n.ha.Ke(e),xc(n).K_(e)}function $_(n){n.ha=new p6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),xc(n).start(),n.la.ta()}function Q_(n){return Ho(n)&&!xc(n).w_()&&n._a.size>0}function Ho(n){return Oe(n).aa.size===0}function _1(n){n.ha=void 0}async function SB(n){n.la.set("Online")}async function wB(n){n._a.forEach((e,t)=>{Y_(n,e)})}async function AB(n,e){_1(n),Q_(n)?(n.la.ia(e),$_(n)):n.la.set("Unknown")}async function xB(n,e,t){if(n.la.set("Online"),e instanceof s1&&e.state===2&&e.cause)try{await async function(s,r){const o=r.cause;for(const c of r.targetIds)s._a.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s._a.delete(c),s.ha.removeTarget(c))}(n,e)}catch(i){ge(No,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Zg(n,i)}else if(e instanceof yg?n.ha.Xe(e):e instanceof i1?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Me.min()))try{const i=await p1(n.localStore);t.compareTo(i)>=0&&await function(r,o){const c=r.ha.It(o);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const g=r._a.get(d);g&&r._a.set(d,g.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach((h,d)=>{const g=r._a.get(h);if(!g)return;r._a.set(h,g.withResumeToken(bn.EMPTY_BYTE_STRING,g.snapshotVersion)),b1(r,h);const y=new na(g.target,h,d,g.sequenceNumber);Y_(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(i){ge(No,"Failed to raise snapshot:",i),await Zg(n,i)}}async function Zg(n,e,t){if(!Ac(e))throw e;n.aa.add(1),await Jh(n),n.la.set("Offline"),t||(t=()=>p1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge(No,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Fp(n)})}function E1(n,e){return e().catch(t=>Zg(n,t,e))}async function qp(n){const e=Oe(n),t=_a(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:k_;for(;TB(e);)try{const s=await oB(e.localStore,i);if(s===null){e.oa.length===0&&t.v_();break}i=s.batchId,RB(e,s)}catch(s){await Zg(e,s)}S1(e)&&w1(e)}function TB(n){return Ho(n)&&n.oa.length<10}function RB(n,e){n.oa.push(e);const t=_a(n);t.b_()&&t.W_&&t.G_(e.mutations)}function S1(n){return Ho(n)&&!_a(n).w_()&&n.oa.length>0}function w1(n){_a(n).start()}async function CB(n){_a(n).H_()}async function DB(n){const e=_a(n);for(const t of n.oa)e.G_(t.mutations)}async function IB(n,e,t){const i=n.oa.shift(),s=U_.from(i,e,t);await E1(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await qp(n)}async function kB(n,e){e&&_a(n).W_&&await async function(i,s){if(function(o){return f6(o)&&o!==le.ABORTED}(s.code)){const r=i.oa.shift();_a(i).D_(),await E1(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await qp(i)}}(n,e),S1(n)&&w1(n)}async function Kx(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),ge(No,"RemoteStore received new credentials");const i=Ho(t);t.aa.add(3),await Jh(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Fp(t)}async function NB(n,e){const t=Oe(n);e?(t.aa.delete(2),await Fp(t)):e||(t.aa.add(2),await Jh(t),t.la.set("Unknown"))}function xc(n){return n.Pa||(n.Pa=function(t,i,s){const r=Oe(t);return r.Y_(),new mB(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{jo:SB.bind(null,n),Jo:wB.bind(null,n),Zo:AB.bind(null,n),Q_:xB.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Q_(n)?$_(n):n.la.set("Unknown")):(await n.Pa.stop(),_1(n))})),n.Pa}function _a(n){return n.Ta||(n.Ta=function(t,i,s){const r=Oe(t);return r.Y_(),new yB(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:CB.bind(null,n),Zo:kB.bind(null,n),z_:DB.bind(null,n),j_:IB.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await qp(n)):(await n.Ta.stop(),n.oa.length>0&&(ge(No,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t,i,s,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,r){const o=Date.now()+i,c=new K_(e,t,o,s,r);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function X_(n,e){if(pr("AsyncQueue",`${e}: ${n}`),Ac(n))return new me(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{static emptySet(e){return new ec(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=Ku(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ec)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ec;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.Ia=new Ct(Ae.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):De(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class hc{constructor(e,t,i,s,r,o,c,h,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,s,r){const o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new hc(e,t,ec.emptySet(t),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class OB{constructor(){this.queries=Zx(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const s=Oe(t),r=s.queries;s.queries=Zx(),r.forEach((o,c)=>{for(const h of c.Ra)h.onError(i)})})(this,new me(le.ABORTED,"Firestore shutting down"))}}function Zx(){return new Bo(n=>qI(n),Lp)}async function A1(n,e){const t=Oe(n);let i=3;const s=e.query;let r=t.queries.get(s);r?!r.Va()&&e.ma()&&(i=2):(r=new MB,i=e.ma()?0:1);try{switch(i){case 0:r.Aa=await t.onListen(s,!0);break;case 1:r.Aa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(o){const c=X_(o,`Initialization of query '${Gl(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,r),r.Ra.push(e),e.ga(t.onlineState),r.Aa&&e.pa(r.Aa)&&Z_(t)}async function x1(n,e){const t=Oe(n),i=e.query;let s=3;const r=t.queries.get(i);if(r){const o=r.Ra.indexOf(e);o>=0&&(r.Ra.splice(o,1),r.Ra.length===0?s=e.ma()?0:1:!r.Va()&&e.ma()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function PB(n,e){const t=Oe(n);let i=!1;for(const s of e){const r=s.query,o=t.queries.get(r);if(o){for(const c of o.Ra)c.pa(s)&&(i=!0);o.Aa=s}}i&&Z_(t)}function jB(n,e,t){const i=Oe(n),s=i.queries.get(e);if(s)for(const r of s.Ra)r.onError(t);i.queries.delete(e)}function Z_(n){n.fa.forEach(e=>{e.next()})}var Mb,Jx;(Jx=Mb||(Mb={})).ya="default",Jx.Cache="cache";class T1{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new hc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Mb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.key=e}}class C1{constructor(e){this.key=e}}class LB{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Fe(),this.mutatedKeys=Fe(),this.Ua=GI(e),this.Ka=new ec(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new Xx,s=t?t.Ka:this.Ka;let r=t?t.mutatedKeys:this.mutatedKeys,o=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,y)=>{const b=s.get(g),_=Vp(this.query,y)?y:null,w=!!b&&this.mutatedKeys.has(b.key),x=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;b&&_?b.data.isEqual(_.data)?w!==x&&(i.track({type:3,doc:_}),A=!0):this.ja(b,_)||(i.track({type:2,doc:_}),A=!0,(h&&this.Ua(_,h)>0||d&&this.Ua(_,d)<0)&&(c=!0)):!b&&_?(i.track({type:0,doc:_}),A=!0):b&&!_&&(i.track({type:1,doc:b}),A=!0,(h||d)&&(c=!0)),A&&(_?(o=o.add(_),r=x?r.add(g):r.delete(g)):(o=o.delete(g),r=r.delete(g)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const g=this.query.limitType==="F"?o.last():o.first();o=o.delete(g.key),r=r.delete(g.key),i.track({type:1,doc:g})}return{Ka:o,za:i,ys:c,mutatedKeys:r}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const r=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((g,y)=>function(_,w){const x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Vt:A})}};return x(_)-x(w)}(g.type,y.type)||this.Ua(g.doc,y.doc)),this.Ha(i),s=s!=null&&s;const c=t&&!s?this.Ja():[],h=this.$a.size===0&&this.current&&!s?1:0,d=h!==this.Qa;return this.Qa=h,o.length!==0||d?{snapshot:new hc(this.query,e.Ka,r,o,e.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Xx,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Fe(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new C1(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new R1(i))}),t}Xa(e){this.qa=e.Ns,this.$a=Fe();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return hc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const J_="SyncEngine";class VB{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class UB{constructor(e){this.key=e,this.tu=!1}}class zB{constructor(e,t,i,s,r,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Bo(c=>qI(c),Lp),this.iu=new Map,this.su=new Set,this.ou=new Ct(Ae.comparator),this._u=new Map,this.au=new H_,this.uu={},this.cu=new Map,this.lu=uc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function BB(n,e,t=!0){const i=O1(n);let s;const r=i.ru.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.eu()):s=await D1(i,e,t,!0),s}async function HB(n,e){const t=O1(n);await D1(t,e,!0,!1)}async function D1(n,e,t,i){const s=await lB(n.localStore,vs(e)),r=s.targetId,o=n.sharedClientState.addLocalQueryTarget(r,t);let c;return i&&(c=await FB(n,e,r,o==="current",s.resumeToken)),n.isPrimaryClient&&t&&v1(n.remoteStore,s),c}async function FB(n,e,t,i,s){n.Pu=(y,b,_)=>async function(x,A,D,O){let j=A.view.Ga(D);j.ys&&(j=await Gx(x.localStore,A.query,!1).then(({documents:M})=>A.view.Ga(M,j)));const H=O&&O.targetChanges.get(A.targetId),q=O&&O.targetMismatches.get(A.targetId)!=null,X=A.view.applyChanges(j,x.isPrimaryClient,H,q);return tT(x,A.targetId,X.Ya),X.snapshot}(n,y,b,_);const r=await Gx(n.localStore,e,!0),o=new LB(e,r.Ns),c=o.Ga(r.documents),h=Zh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),d=o.applyChanges(c,n.isPrimaryClient,h);tT(n,t,d.Ya);const g=new VB(e,t,o);return n.ru.set(e,g),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),d.snapshot}async function qB(n,e,t){const i=Oe(n),s=i.ru.get(e),r=i.iu.get(s.targetId);if(r.length>1)return i.iu.set(s.targetId,r.filter(o=>!Lp(o,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await kb(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&W_(i.remoteStore,s.targetId),Ob(i,s.targetId)}).catch(wc)):(Ob(i,s.targetId),await kb(i.localStore,s.targetId,!0))}async function GB(n,e){const t=Oe(n),i=t.ru.get(e),s=t.iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),W_(t.remoteStore,i.targetId))}async function WB(n,e,t){const i=JB(n);try{const s=await function(o,c){const h=Oe(o),d=tn.now(),g=c.reduce((_,w)=>_.add(w.key),Fe());let y,b;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let w=mr(),x=Fe();return h.Cs.getEntries(_,g).next(A=>{w=A,w.forEach((D,O)=>{O.isValidDocument()||(x=x.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,w)).next(A=>{y=A;const D=[];for(const O of c){const j=l6(O,y.get(O.key).overlayedDocument);j!=null&&D.push(new Ta(O.key,j,jI(j.value.mapValue),Ai.exists(!0)))}return h.mutationQueue.addMutationBatch(_,d,D,c)}).next(A=>{b=A;const D=A.applyToLocalDocumentSet(y,x);return h.documentOverlayCache.saveOverlays(_,A.batchId,D)})}).then(()=>({batchId:b.batchId,changes:YI(y)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(o,c,h){let d=o.uu[o.currentUser.toKey()];d||(d=new Ct(Le)),d=d.insert(c,h),o.uu[o.currentUser.toKey()]=d}(i,s.batchId,t),await ed(i,s.changes),await qp(i.remoteStore)}catch(s){const r=X_(s,"Failed to persist write");t.reject(r)}}async function I1(n,e){const t=Oe(n);try{const i=await rB(t.localStore,e);e.targetChanges.forEach((s,r)=>{const o=t._u.get(r);o&&(it(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.tu=!0:s.modifiedDocuments.size>0?it(o.tu,14607):s.removedDocuments.size>0&&(it(o.tu,42227),o.tu=!1))}),await ed(t,i,e)}catch(i){await wc(i)}}function eT(n,e,t){const i=Oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.ru.forEach((r,o)=>{const c=o.view.ga(e);c.snapshot&&s.push(c.snapshot)}),function(o,c){const h=Oe(o);h.onlineState=c;let d=!1;h.queries.forEach((g,y)=>{for(const b of y.Ra)b.ga(c)&&(d=!0)}),d&&Z_(h)}(i.eventManager,e),s.length&&i.nu.Q_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function YB(n,e,t){const i=Oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i._u.get(e),r=s&&s.key;if(r){let o=new Ct(Ae.comparator);o=o.insert(r,Tn.newNoDocument(r,Me.min()));const c=Fe().add(r),h=new Bp(Me.min(),new Map,new Ct(Le),o,c);await I1(i,h),i.ou=i.ou.remove(r),i._u.delete(e),e0(i)}else await kb(i.localStore,e,!1).then(()=>Ob(i,e,t)).catch(wc)}async function $B(n,e){const t=Oe(n),i=e.batch.batchId;try{const s=await sB(t.localStore,e);N1(t,i,null),k1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ed(t,s)}catch(s){await wc(s)}}async function QB(n,e,t){const i=Oe(n);try{const s=await function(o,c){const h=Oe(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return h.mutationQueue.lookupMutationBatch(d,c).next(y=>(it(y!==null,37113),g=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>h.localDocuments.getDocuments(d,g))})}(i.localStore,e);N1(i,e,t),k1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ed(i,s)}catch(s){await wc(s)}}function k1(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function N1(n,e,t){const i=Oe(n);let s=i.uu[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(t?r.reject(t):r.resolve(),s=s.remove(e)),i.uu[i.currentUser.toKey()]=s}}function Ob(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||M1(n,i)})}function M1(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(W_(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),e0(n))}function tT(n,e,t){for(const i of t)i instanceof R1?(n.au.addReference(i.key,e),KB(n,i)):i instanceof C1?(ge(J_,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||M1(n,i.key)):De(19791,{Iu:i})}function KB(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(ge(J_,"New document in limbo: "+t),n.su.add(i),e0(n))}function e0(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ae(mt.fromString(e)),i=n.lu.next();n._u.set(i,new UB(t)),n.ou=n.ou.insert(t,i),v1(n.remoteStore,new na(vs(j_(t.path)),i,"TargetPurposeLimboResolution",Op.le))}}async function ed(n,e,t){const i=Oe(n),s=[],r=[],o=[];i.ru.isEmpty()||(i.ru.forEach((c,h)=>{o.push(i.Pu(h,e,t).then(d=>{var g;if((d||t)&&i.isPrimaryClient){const y=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){s.push(d);const y=q_.Ps(h.targetId,d);r.push(y)}}))}),await Promise.all(o),i.nu.Q_(s),await async function(h,d){const g=Oe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>oe.forEach(d,b=>oe.forEach(b.ls,_=>g.persistence.referenceDelegate.addReference(y,b.targetId,_)).next(()=>oe.forEach(b.hs,_=>g.persistence.referenceDelegate.removeReference(y,b.targetId,_)))))}catch(y){if(!Ac(y))throw y;ge(G_,"Failed to update sequence numbers: "+y)}for(const y of d){const b=y.targetId;if(!y.fromCache){const _=g.Ss.get(b),w=_.snapshotVersion,x=_.withLastLimboFreeSnapshotVersion(w);g.Ss=g.Ss.insert(b,x)}}}(i.localStore,r))}async function XB(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){ge(J_,"User change. New user:",e.toKey());const i=await g1(t.localStore,e);t.currentUser=e,function(r,o){r.cu.forEach(c=>{c.forEach(h=>{h.reject(new me(le.CANCELLED,o))})}),r.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ed(t,i.Ms)}}function ZB(n,e){const t=Oe(n),i=t._u.get(e);if(i&&i.tu)return Fe().add(i.key);{let s=Fe();const r=t.iu.get(e);if(!r)return s;for(const o of r){const c=t.ru.get(o);s=s.unionWith(c.view.Wa)}return s}}function O1(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=I1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YB.bind(null,e),e.nu.Q_=PB.bind(null,e.eventManager),e.nu.Tu=jB.bind(null,e.eventManager),e}function JB(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$B.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QB.bind(null,e),e}class Jg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hp(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return iB(this.persistence,new eB,e.initialUser,this.serializer)}Ru(e){return new f1(F_.Ei,this.serializer)}Au(e){return new uB}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jg.provider={build:()=>new Jg};class e3 extends Jg{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){it(this.persistence.referenceDelegate instanceof Xg,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new U6(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new f1(i=>Xg.Ei(i,t),this.serializer)}}class Pb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>eT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=XB.bind(null,this.syncEngine),await NB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OB}()}createDatastore(e){const t=Hp(e.databaseInfo.databaseId),i=function(r){return new pB(r)}(e.databaseInfo);return function(r,o,c,h){return new bB(r,o,c,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,r,o,c){return new EB(i,s,r,o,c)}(this.localStore,this.datastore,e.asyncQueue,t=>eT(this.syncEngine,t,0),function(){return $x.C()?new $x:new hB}())}createSyncEngine(e,t){return function(s,r,o,c,h,d,g){const y=new zB(s,r,o,c,h,d);return g&&(y.hu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const r=Oe(s);ge(No,"RemoteStore shutting down."),r.aa.add(5),await Jh(r),r.ca.shutdown(),r.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Pb.provider={build:()=>new Pb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="FirestoreClient";class t3{constructor(e,t,i,s,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=xn.UNAUTHENTICATED,this.clientId=TI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async o=>{ge(Ea,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(ge(Ea,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=X_(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Iv(n,e){n.asyncQueue.verifyOperationInProgress(),ge(Ea,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await g1(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function nT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await n3(n);ge(Ea,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Kx(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Kx(e.remoteStore,s)),n._onlineComponents=e}async function n3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(Ea,"Using user provided OfflineComponentProvider");try{await Iv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===le.FAILED_PRECONDITION||s.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ac("Error using user provided cache. Falling back to memory cache: "+t),await Iv(n,new Jg)}}else ge(Ea,"Using default OfflineComponentProvider"),await Iv(n,new e3(void 0));return n._offlineComponents}async function j1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(Ea,"Using user provided OnlineComponentProvider"),await nT(n,n._uninitializedComponentsProvider._online)):(ge(Ea,"Using default OnlineComponentProvider"),await nT(n,new Pb))),n._onlineComponents}function i3(n){return j1(n).then(e=>e.syncEngine)}async function L1(n){const e=await j1(n),t=e.eventManager;return t.onListen=BB.bind(null,e.syncEngine),t.onUnlisten=qB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=HB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=GB.bind(null,e.syncEngine),t}function s3(n,e,t={}){const i=new lr;return n.asyncQueue.enqueueAndForget(async()=>function(r,o,c,h,d){const g=new P1({next:b=>{g.yu(),o.enqueueAndForget(()=>x1(r,y));const _=b.docs.has(c);!_&&b.fromCache?d.reject(new me(le.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&h&&h.source==="server"?d.reject(new me(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),y=new T1(j_(c.path),g,{includeMetadataChanges:!0,Fa:!0});return A1(r,y)}(await L1(n),n.asyncQueue,e,t,i)),i.promise}function r3(n,e,t={}){const i=new lr;return n.asyncQueue.enqueueAndForget(async()=>function(r,o,c,h,d){const g=new P1({next:b=>{g.yu(),o.enqueueAndForget(()=>x1(r,y)),b.fromCache&&h.source==="server"?d.reject(new me(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),y=new T1(c,g,{includeMetadataChanges:!0,Fa:!0});return A1(r,y)}(await L1(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(n,e,t){if(!t)throw new me(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function a3(n,e,t,i){if(e===!0&&i===!0)throw new me(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sT(n){if(!Ae.isDocumentKey(n))throw new me(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rT(n){if(Ae.isDocumentKey(n))throw new me(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Gp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De(12329,{type:typeof n})}function Bi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gp(n);throw new me(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firestore.googleapis.com",aT=!0;class oT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new me(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z1,this.ssl=aT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:aT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=d1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L6)throw new me(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wp{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new gz;switch(i.type){case"firstParty":return new vz(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=iT.get(t);i&&(ge("ComponentProvider","Removing Datastore"),iT.delete(t),i.terminate())}(this),Promise.resolve()}}function o3(n,e,t,i={}){var s;n=Bi(n,Wp);const r=Rp(e),o=n._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;r&&aD(`https://${h}`),o.host!==z1&&o.host!==h&&ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:h,ssl:r,emulatorOptions:i});if(!pa(d,c)&&(n._setSettings(d),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=xn.MOCK_USER;else{g=tj(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new me(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new xn(b)}n._authCredentials=new pz(new AI(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Tc(this.firestore,e,this._query)}}class Ln{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class da extends Tc{constructor(e,t,i){super(e,t,j_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new Ae(e))}withConverter(e){return new da(this.firestore,e,this._path)}}function Fn(n,e,...t){if(n=Rt(n),U1("collection","path",e),n instanceof Wp){const i=mt.fromString(e,...t);return rT(i),new da(n,null,i)}{if(!(n instanceof Ln||n instanceof da))throw new me(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(e,...t));return rT(i),new da(n.firestore,null,i)}}function ps(n,e,...t){if(n=Rt(n),arguments.length===1&&(e=TI.newId()),U1("doc","path",e),n instanceof Wp){const i=mt.fromString(e,...t);return sT(i),new Ln(n,null,new Ae(i))}{if(!(n instanceof Ln||n instanceof da))throw new me(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(e,...t));return sT(i),new Ln(n.firestore,n instanceof da?n.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="AsyncQueue";class cT{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new m1(this,"async_queue_retry"),this.ju=()=>{const i=Dv();i&&ge(lT,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=Dv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Dv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new lr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ac(e))throw e;ge(lT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,pr("INTERNAL UNHANDLED ERROR: ",uT(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const s=K_.createAndSchedule(this,e,t,i,r=>this.Xu(r));return this.Uu.push(s),s}Ju(){this.Ku&&De(47125,{ec:uT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function uT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Fo extends Wp{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new cT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cT(e),this._firestoreClient=void 0,await e}}}function l3(n,e){const t=typeof n=="object"?n:p_(),i=typeof n=="string"?n:qg,s=Uo(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=JP("firestore");r&&o3(s,...r)}return s}function t0(n){if(n._terminated)throw new me(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||c3(n),n._firestoreClient}function c3(n){var e,t,i;const s=n._freezeSettings(),r=function(c,h,d,g){return new Mz(c,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,V1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new t3(n._authCredentials,n._appCheckCredentials,n._queue,r,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dc(bn.fromBase64String(e))}catch(t){throw new me(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dc(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=/^__.*__$/;class h3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xh(e,this.data,t,this.fieldTransforms)}}class B1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function H1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{oc:n})}}class r0{constructor(e,t,i,s,r,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this._c(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new r0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:i,cc:!1});return s.lc(e),s}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:i,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return ep(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(H1(this.oc)&&u3.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class d3{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Hp(e)}dc(e,t,i,s=!1){return new r0({oc:e,methodName:t,Ec:i,path:vn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $p(n){const e=n._freezeSettings(),t=Hp(n._databaseId);return new d3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function F1(n,e,t,i,s,r={}){const o=n.dc(r.merge||r.mergeFields?2:0,e,t,s);a0("Data must be an object, but it was:",o,i);const c=q1(i,o);let h,d;if(r.merge)h=new si(o.fieldMask),d=o.fieldTransforms;else if(r.mergeFields){const g=[];for(const y of r.mergeFields){const b=jb(e,y,t);if(!o.contains(b))throw new me(le.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);W1(g,b)||g.push(b)}h=new si(g),d=o.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=o.fieldTransforms;return new h3(new qn(c),h,d)}class Qp extends n0{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qp}}function f3(n,e,t,i){const s=n.dc(1,e,t);a0("Data must be an object, but it was:",s,i);const r=[],o=qn.empty();xa(i,(h,d)=>{const g=o0(e,h,t);d=Rt(d);const y=s.hc(g);if(d instanceof Qp)r.push(g);else{const b=td(d,y);b!=null&&(r.push(g),o.set(g,b))}});const c=new si(r);return new B1(o,c,s.fieldTransforms)}function g3(n,e,t,i,s,r){const o=n.dc(1,e,t),c=[jb(e,i,t)],h=[s];if(r.length%2!=0)throw new me(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<r.length;b+=2)c.push(jb(e,r[b])),h.push(r[b+1]);const d=[],g=qn.empty();for(let b=c.length-1;b>=0;--b)if(!W1(d,c[b])){const _=c[b];let w=h[b];w=Rt(w);const x=o.hc(_);if(w instanceof Qp)d.push(_);else{const A=td(w,x);A!=null&&(d.push(_),g.set(_,A))}}const y=new si(d);return new B1(g,y,o.fieldTransforms)}function p3(n,e,t,i=!1){return td(t,n.dc(i?4:3,e))}function td(n,e){if(G1(n=Rt(n)))return a0("Unsupported field value:",e,n),q1(n,e);if(n instanceof n0)return function(i,s){if(!H1(s.oc))throw s.Tc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,s){const r=[];let o=0;for(const c of i){let h=td(c,s.Pc(o));h==null&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,e)}return function(i,s){if((i=Rt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return n6(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=tn.fromDate(i);return{timestampValue:Kg(s.serializer,r)}}if(i instanceof tn){const r=new tn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Kg(s.serializer,r)}}if(i instanceof i0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof dc)return{bytesValue:r1(s.serializer,i._byteString)};if(i instanceof Ln){const r=s.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw s.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:B_(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof s0)return function(o,c){return{mapValue:{fields:{[OI]:{stringValue:PI},[Gg]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.Tc("VectorValues must only contain numeric values.");return L_(c.serializer,d)})}}}}}}(i,s);throw s.Tc(`Unsupported field value: ${Gp(i)}`)}(n,e)}function q1(n,e){const t={};return CI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(n,(i,s)=>{const r=td(s,e.uc(i));r!=null&&(t[i]=r)}),{mapValue:{fields:t}}}function G1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tn||n instanceof i0||n instanceof dc||n instanceof Ln||n instanceof n0||n instanceof s0)}function a0(n,e,t){if(!G1(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=Gp(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function jb(n,e,t){if((e=Rt(e))instanceof Yp)return e._internalPath;if(typeof e=="string")return o0(n,e);throw ep("Field path arguments must be of type string or ",n,!1,void 0,t)}const m3=new RegExp("[~\\*/\\[\\]]");function o0(n,e,t){if(e.search(m3)>=0)throw ep(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yp(...e.split("."))._internalPath}catch{throw ep(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ep(n,e,t,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(r||o)&&(h+=" (found",r&&(h+=` in field ${i}`),o&&(h+=` in document ${s}`),h+=")"),new me(le.INVALID_ARGUMENT,c+n+h)}function W1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t,i,s,r){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(l0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class y3 extends Y1{data(){return super.data()}}function l0(n,e){return typeof e=="string"?o0(n,e):e instanceof Yp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c0{}class b3 extends c0{}function cr(n,e,...t){let i=[];e instanceof c0&&i.push(e),i=i.concat(t),function(r){const o=r.filter(h=>h instanceof u0).length,c=r.filter(h=>h instanceof Kp).length;if(o>1||o>0&&c>0)throw new me(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class Kp extends b3{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Kp(e,t,i)}_apply(e){const t=this._parse(e);return $1(e._query,t),new Tc(e.firestore,e.converter,xb(e._query,t))}_parse(e){const t=$p(e.firestore);return function(r,o,c,h,d,g,y){let b;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new me(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){dT(y,g);const w=[];for(const x of y)w.push(hT(h,r,x));b={arrayValue:{values:w}}}else b=hT(h,r,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||dT(y,g),b=p3(c,o,y,g==="in"||g==="not-in");return Yt.create(d,g,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ur(n,e,t){const i=e,s=l0("where",n);return Kp._create(s,i,t)}class u0 extends c0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new u0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:zi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,r){let o=s;const c=r.getFlattenedFilters();for(const h of c)$1(o,h),o=xb(o,h)}(e._query,t),new Tc(e.firestore,e.converter,xb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hT(n,e,t){if(typeof(t=Rt(t))=="string"){if(t==="")throw new me(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FI(e)&&t.indexOf("/")!==-1)throw new me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(mt.fromString(t));if(!Ae.isDocumentKey(i))throw new me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Tx(n,new Ae(i))}if(t instanceof Ln)return Tx(n,t._key);throw new me(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gp(t)}.`)}function dT(n,e){if(!Array.isArray(n)||n.length===0)throw new me(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $1(n,e){const t=function(s,r){for(const o of s)for(const c of o.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _3{convertValue(e,t="none"){switch(ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return xa(e,(s,r)=>{i[s]=this.convertValue(r,t)}),i}convertVectorValue(e){var t,i,s;const r=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Gg].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(o=>Ut(o.doubleValue));return new s0(r)}convertGeoPoint(e){return new i0(Ut(e.latitude),Ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(xh(e));default:return null}}convertTimestamp(e){const t=ya(e);return new tn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mt.fromString(e);it(h1(i),9688,{name:e});const s=new Th(i.get(1),i.get(3)),r=new Ae(i.popFirst(5));return s.isEqual(t)||pr(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class K1 extends Y1{constructor(e,t,i,s,r,o){super(e,t,i,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(l0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class vg extends K1{data(e={}){return super.data(e)}}class E3{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Zu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new vg(this._firestore,this._userDataWriter,i.key,i,new Zu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(c=>{const h=new vg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Zu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>r||c.type!==3).map(c=>{const h=new vg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Zu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),g=o.indexOf(c.doc.key)),{type:S3(c.type),doc:h,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function S3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(n){n=Bi(n,Ln);const e=Bi(n.firestore,Fo);return s3(t0(e),n._key).then(t=>A3(e,n,t))}class Z1 extends _3{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,t)}}function hr(n){n=Bi(n,Tc);const e=Bi(n.firestore,Fo),t=t0(e),i=new Z1(e);return v3(n._query),r3(t,n._query).then(s=>new E3(e,i,n,s))}function w3(n,e,t){n=Bi(n,Ln);const i=Bi(n.firestore,Fo),s=Q1(n.converter,e);return Xp(i,[F1($p(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Ai.none())])}function fT(n,e,t,...i){n=Bi(n,Ln);const s=Bi(n.firestore,Fo),r=$p(s);let o;return o=typeof(e=Rt(e))=="string"||e instanceof Yp?g3(r,"updateDoc",n._key,e,t,i):f3(r,"updateDoc",n._key,e),Xp(s,[o.toMutation(n._key,Ai.exists(!0))])}function tp(n){return Xp(Bi(n.firestore,Fo),[new V_(n._key,Ai.none())])}function hh(n,e){const t=Bi(n.firestore,Fo),i=ps(n),s=Q1(n.converter,e);return Xp(t,[F1($p(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Ai.exists(!1))]).then(()=>i)}function Xp(n,e){return function(i,s){const r=new lr;return i.asyncQueue.enqueueAndForget(async()=>WB(await i3(i),s,r)),r.promise}(t0(n),e)}function A3(n,e,t){const i=t.docs.get(e._key),s=new Z1(n);return new K1(n,s,e._key,i,new Zu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Sc=s})(_c),Es(new Vi("firestore",(i,{instanceIdentifier:s,options:r})=>{const o=i.getProvider("app").getImmediate(),c=new Fo(new mz(i.getProvider("auth-internal")),new bz(o,i.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new me(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Th(d.options.projectId,g)}(o,s),o);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),wi(gx,px,e),wi(gx,px,"esm2017")})();const x3={apiKey:"AIzaSyDPgMa2cQIJJHAD5loZZrQOrn8oGyCtuXQ",authDomain:"getfit-79396.firebaseapp.com",projectId:"getfit-79396",storageBucket:"getfit-79396.appspot.com",messagingSenderId:"241827461493",appId:"1:241827461493:web:704bb4a0c2d368043ebb3c",measurementId:"G-J44KNXJ2BP"},h0=uD(x3);uz(h0);const Tt=G4(h0),xt=l3(h0);new nr;const T3=()=>{br();const[n,e]=B.useState(!1),[t,i]=B.useState(null),s=()=>e(!n);B.useEffect(()=>VD(Tt,h=>{i(h)}),[]);const r=()=>{e(!1)},o=c=>t?t.emailVerified?E.jsxs(E.Fragment,{children:[E.jsx(tt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Domov"}),E.jsx(tt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Vyhľadávanie"}),E.jsx(tt,{to:"/dashboard",className:"pr-7 text-[#616161] cursor-pointer hover:underline",onClick:c,children:"Dashboard"}),E.jsx(tt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Odhlásiť sa"})]}):E.jsxs(E.Fragment,{children:[E.jsx(tt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Domov"}),E.jsx(tt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Vyhľadávanie"}),E.jsx(tt,{to:"/verify-email",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Over si email"}),E.jsx(tt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Odhlásiť sa"})]}):E.jsxs(E.Fragment,{children:[E.jsx(tt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Domov"}),E.jsx(tt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Vyhľadávanie"}),E.jsx(tt,{to:"/login",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Prihlásiť sa"}),E.jsx(tt,{to:"/register",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Registrácia"})]});return E.jsxs("nav",{className:"bg-white shadow-md fixed top-0 left-0 w-full py-4 px-10 flex justify-between items-center z-50",children:[E.jsx("span",{className:"text-2xl font-bold text-green-700",children:"GetFit"}),E.jsx("div",{className:"hidden md:flex space-x-6 text-gray-700 font-bold",children:o()}),E.jsx("div",{className:"md:hidden",children:E.jsx("button",{onClick:s,children:n?E.jsx(qP,{size:24}):E.jsx(FP,{size:24})})}),E.jsx("div",{className:`
          absolute top-full left-0 w-full bg-white shadow-md flex flex-col items-center py-4 space-y-4 
          md:hidden transition-all duration-300 overflow-hidden
          ${n?"max-h-96 opacity-100":"max-h-0 opacity-0"}
        `,children:o(r)})]})},R3=()=>{const n=br(),[e,t]=B.useState(!1);return B.useEffect(()=>{const i=Tt.onAuthStateChanged(s=>{t(!!s&&s.emailVerified)});return()=>i()}),E.jsxs("header",{className:"w-full text-center py-20 bg-gradient-to-r from-green-300 to-green-500 text-white pt-30",children:[E.jsx("h1",{className:"text-5xl font-bold",children:"Zdravý život je jednoduchý"}),E.jsx("p",{className:"text-lg mt-4",children:"Nájdite tie najlepšie jedlá, ktoré zodpovedajú vášmu životnému štýlu"}),!e&&E.jsx("button",{onClick:()=>n("/register"),className:"mt-6 px-6 py-3 bg-white text-green-600 rounded-lg shadow-lg hover:shadow-xl transition",children:"Zaregistrovať sa"})]})},C3=({query:n,setQuery:e,handleSearch:t,disabled:i})=>E.jsxs("section",{className:"max-w-5xl mx-auto py-16 px-6",children:[E.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"Prečo si vybrať našu platformu?"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[E.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Sledujte svoju výživu"}),E.jsx("p",{className:"text-gray-700 mt-3",children:"Ľahko zaznamenávajte svoje jedlá a sledujte makrá bez problémov."})]}),E.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[E.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Personalizované stravovacie plány"}),E.jsx("p",{className:"text-gray-700 mt-3",children:"Upravte svoj jedálniček na základe vašich fitness cieľov."})]})]}),E.jsxs("div",{className:"mt-12 text-center",children:[E.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Vyhľadajte informácie o výžive"}),E.jsxs("div",{className:"flex justify-center gap-4",children:[E.jsx("input",{type:"text",placeholder:"Zadajte názov jedla...",value:n,onChange:s=>e(s.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500"}),E.jsx("button",{onClick:t,disabled:i,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition disabled:bg-green-950",children:"Hľadať"})]})]})]}),J1=()=>E.jsxs("div",{role:"status",children:[E.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-indigo-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),E.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),E.jsx("span",{className:"sr-only",children:"Loading..."})]}),D3=({results:n=[],query:e,setQuery:t,handleSearch:i,searchTerm:s,error:r,isLoading:o})=>o?E.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:E.jsx(J1,{})}):E.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12",children:E.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[r&&E.jsxs("p",{className:"text-red-600 text-center mb-4",children:["Chyba pri načítaní dát: ",r.message]}),E.jsxs("h2",{className:"text-3xl font-semibold text-green-700 text-center mb-6 mt-6",children:["Výsledky pre: ",E.jsx("em",{className:"font-normal text-green-600",children:s})]}),E.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[E.jsx("input",{type:"text",placeholder:"Zadaj iné jedlo...",value:e,onChange:c=>t(c.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:ring-2 focus:ring-green-500"}),E.jsx("button",{onClick:i,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition",children:"Hľadať"})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map((c,h)=>{var A;const{food_name:d,nutrition:g}=c,y=((A=g==null?void 0:g.photo)==null?void 0:A.thumb)||"https://via.placeholder.com/300x150",b=(g==null?void 0:g.nf_calories)??0,_=(g==null?void 0:g.nf_total_fat)??0,w=(g==null?void 0:g.nf_protein)??0,x=(g==null?void 0:g.nf_total_carbohydrate)??0;return E.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition p-5",children:[E.jsx("img",{src:y,alt:d,className:"w-full h-40 object-cover rounded-md"}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-3",children:d}),(g==null?void 0:g.servingSize)&&E.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Nutričné hodnoty pre: ",E.jsx("strong",{children:g.servingSize})]}),E.jsxs("div",{className:"text-gray-600 text-sm leading-relaxed mt-2",children:[E.jsxs("p",{children:[E.jsx("strong",{className:"text-green-600",children:"Kalórie:"})," ",b," kcal"]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-green-600",children:"Tuky:"})," ",_," g"]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-green-600",children:"Bielkoviny:"})," ",w," g"]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-green-600",children:"Sacharidy:"})," ",x," g"]})]})]},h)}):E.jsx("p",{className:"col-span-full text-center text-gray-600",children:"Žiadne výsledky na zobrazenie."})})]})}),I3=[{id:1,title:"Top 5 zdravých potravín na spaľovanie tukov",excerpt:"Tieto potraviny ti pomôžu zrýchliť metabolizmus a efektívne spaľovať tuk.",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:"Celý článok o zdravých potravinách..."},{id:2,title:"Ako správne kombinovať sacharidy, tuky a bielkoviny?",excerpt:"Vyvážená strava je kľúčom k zdraviu. Pozri si, ako kombinovať makroživiny.",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:"Celý článok o kombinovaní makroživín..."},{id:3,title:"Prečo je hydratácia kľúčová pri chudnutí?",excerpt:"Pitný režim hrá obrovskú úlohu pri tvojom metabolizme a spaľovaní tukov.",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:"Celý článok o hydratácii a jej výhodách..."}],k3=()=>{const n=qi();return B.useEffect(()=>{if(n.state&&n.state.scrollTo){const e=document.getElementById(`blog-${n.state.scrollTo}`);e&&e.scrollIntoView({behavior:"smooth"})}},[n]),E.jsx("div",{children:E.jsxs("section",{className:"max-w-6xl mx-auto pb-16 px-6",children:[E.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-10",children:"Najnovšie tipy a rady"}),E.jsx("div",{className:"grid gird-cols-1 md:grid-cols-3 gap-8",children:I3.map(e=>E.jsxs("div",{id:`blog-${e.id}`,className:"bg-white shadow-lg rounded-lg overflow-hidden hover:shadow-xl transition",children:[E.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),E.jsxs("div",{className:"p-6",children:[E.jsx("h3",{className:"text-2xl font-bold text-green-600",children:e.title}),E.jsx("p",{className:"text-gray-700 mt-3",children:e.excerpt}),E.jsx(tt,{to:`/blog/${e.id}`,className:"inline-block mt-4 text-green-700 font-semibold hover:underline",children:"Čítať viac →"})]})]},e.id))})]})})},N3=[{id:1,title:"Top 5 zdravých potravín na spaľovanie tukov",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Spaľovanie tukov nie je len o cvičení, ale aj o správnej výžive. Medzi najlepšie potraviny, ktoré ti pomôžu spaľovať tuky patria:"}),E.jsxs("ul",{className:"list-disc list-inside mt-4",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Avokádo"})," – obsahuje zdravé tuky, ktoré podporujú metabolizmus."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Losos"})," – bohatý na omega-3 mastné kyseliny, ktoré pomáhajú regulovať hladinu cukru v krvi."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Zelený čaj"})," – zrýchľuje spaľovanie kalórií a podporuje trávenie."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Chilli papričky"})," – obsahujú kapsaicín, ktorý podporuje spaľovanie tukov."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Orechy"})," – skvelý zdroj bielkovín a zdravých tukov."]})]}),E.jsxs("p",{className:"mt-6",children:[E.jsx("span",{className:"font-semibold text-green-600",children:"Záver:"})," Pravidelné konzumovanie týchto potravín v kombinácii s fyzickou aktivitou môže výrazne pomôcť pri spaľovaní tukov a udržiavaní zdravej hmotnosti."]})]})},{id:2,title:"Ako správne kombinovať sacharidy, tuky a bielkoviny?",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Vyvážená strava je základ zdravého životného štýlu. Dôležité je pochopiť, ako správne kombinovať makroživiny:"}),E.jsxs("ul",{className:"list-disc list-inside mt-4",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Sacharidy"})," – hlavný zdroj energie. Ideálne sú celozrnné potraviny, ovocie a zelenina."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Tuky"})," – esenciálne pre správne fungovanie organizmu. Uprednostni zdravé tuky ako olivový olej, orechy a avokádo."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Bielkoviny"})," – dôležité pre svalovú regeneráciu. Kvalitné zdroje sú kuracie mäso, ryby, tofu a strukoviny."]})]}),E.jsxs("p",{className:"mt-6",children:[E.jsx("span",{className:"font-semibold text-green-600",children:"Tip:"})," Správne jedlo by malo obsahovať vyvážený pomer všetkých troch makroživín. Napríklad:"]}),E.jsxs("ul",{className:"list-disc list-inside mt-4",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Raňajky:"})," Ovsená kaša s mandľami a banánom."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Obed:"})," Grilované kuracie mäso s quinoou a avokádovým šalátom."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Večera:"})," Pečený losos s dusenou zeleninou."]})]})]})},{id:3,title:"Prečo je hydratácia kľúčová pri chudnutí?",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Voda hrá zásadnú úlohu pri metabolizme a chudnutí. Je dôležité dodržiavať správny pitný režim:"}),E.jsxs("ul",{className:"list-disc list-inside mt-4",children:[E.jsx("li",{children:"Pomáha tráveniu a detoxikácii organizmu."}),E.jsx("li",{children:"Podporuje spaľovanie tukov."}),E.jsx("li",{children:"Znižuje pocit hladu – často si zamieňame smäd za hlad."})]}),E.jsx("p",{className:"mt-6",children:E.jsx("span",{className:"font-semibold text-green-600",children:"Koľko vody by si mal/a piť?"})}),E.jsxs("ul",{className:"list-disc list-inside mt-4",children:[E.jsxs("li",{children:["Minimálne ",E.jsx("strong",{children:"2-3 litre denne"}),"."]}),E.jsxs("li",{children:["Počas cvičenia doplň aspoň ",E.jsx("strong",{children:"0,5 L vody"})," na hodinu."]}),E.jsx("li",{children:"Ráno začni pohárom vody s citrónom pre lepší metabolizmus."})]})]})}],M3=()=>{const{id:n}=U2(),e=N3.find(t=>t.id===parseInt(n));return e?E.jsx("div",{children:E.jsxs("section",{className:"max-w-4xl mx-auto py-16 mt-8 px-6",children:[E.jsx("img",{src:e.image,alt:e.title,className:"w-full h-80 object-cover rounded-lg mb-6"}),E.jsx("h1",{className:"text-4xl font-bold text-green-700",children:e.title}),E.jsx("div",{className:"text-gray-700 mt-6 leading-fixed",children:e.content}),E.jsx(tt,{to:"/",state:{scrollTo:e.id},className:"inline-block mt-6 text-green-700 font-semibold hover:underline",children:" ← Späť na blog"})]})}):E.jsx("p",{className:"text-center text-red-600 text-xl mt-10",children:"Článok neexistuje!"})},O3=()=>{const[n,e]=B.useState(""),[t,i]=B.useState(""),[s,r]=B.useState(""),[o,c]=B.useState("male"),[h,d]=B.useState(1.2),[g,y]=B.useState("maintain"),[b,_]=B.useState(null),w=x=>{if(x.preventDefault(),!n||!t||!s){alert("Prosím, vyplň všetky polia.");return}let A;o==="male"?A=88.36+13.4*parseFloat(n)+4.8*parseFloat(t)-5.7*parseFloat(s):A=447.6+9.2*parseFloat(n)+3.1*parseFloat(t)-4.3*parseFloat(s);let D=A*parseFloat(h);g==="lose"?D-=500:g==="gain"&&(D+=500),_(Math.round(D))};return E.jsxs("section",{className:"max-w-4xl mx-auto py-16 px-6 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"BMR kalkulačka"}),E.jsxs("form",{onSubmit:w,className:"grid grid-cols-1 sm:grid-cols-2 gap-6 bg-gray-50 p-6 rounded-lg shadow-md",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Váha (kg)"}),E.jsx("input",{type:"number",value:n,onChange:x=>e(x.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte váhu"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Výška (cm)"}),E.jsx("input",{type:"number",value:t,onChange:x=>i(x.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte výšku"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Vek"}),E.jsx("input",{type:"number",value:s,onChange:x=>r(x.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte vek"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Pohlavie"}),E.jsxs("select",{value:o,onChange:x=>c(x.target.value),className:" focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[E.jsx("option",{value:"male",children:"Muž"}),E.jsx("option",{value:"female",children:"Žena"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Úroveň aktivity"}),E.jsxs("select",{value:h,onChange:x=>d(x.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[E.jsx("option",{value:"1.2",children:"Sedavý životný štýl"}),E.jsx("option",{value:"1.375",children:"Ľahká aktivita (1-3x týždenne cvičenie)"}),E.jsx("option",{value:"1.55",children:"Stredná aktivita (3-5x týždenne cvičenie)"}),E.jsx("option",{value:"1.725",children:"Vysoká aktivita (6-7x týždenne cvičenie)"}),E.jsx("option",{value:"1.9",children:"Extrémna aktivita (ťažká fyzická práca + tréning)"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Cieľ"}),E.jsxs("select",{value:g,onChange:x=>y(x.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[E.jsx("option",{value:"lose",children:"Schudnúť"}),E.jsx("option",{value:"maintain",children:"Udržať váhu"}),E.jsx("option",{value:"gain",children:"Nabrať svaly"})]})]}),E.jsx("div",{className:"col-span-1 sm:col-span-2 flex justify-center",children:E.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition text-lg font-semibold shadow-md w-full sm:w-1/2",children:"Vypočítať kalórie"})})]}),b!==null&&E.jsxs("div",{className:"mt-8 p-6 bg-green-100 text-center rounded-lg shadow-md",children:[E.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Odporúčaný denný kalorický príjem:"}),E.jsxs("p",{className:"text-4xl font-bold text-green-700 mt-2",children:[b," kcal"]})]})]})},P3=()=>{const[n,e]=B.useState(1),[t,i]=B.useState(!1),[s,r]=B.useState(""),[o,c]=B.useState(""),[h,d]=B.useState(""),[g,y]=B.useState(""),[b,_]=B.useState(!1),[w,x]=B.useState(null),[A,D]=B.useState(""),[O,j]=B.useState(""),[H,q]=B.useState(""),[X,M]=B.useState("male"),[C,k]=B.useState("1.2"),[P,V]=B.useState("maintain"),[U,L]=B.useState(null),[we,ve]=B.useState(!1),[K,ce]=B.useState(!1),[fe,_e]=B.useState(null),[F,se]=B.useState(null),[ue,he]=B.useState(null),[pe,Ie]=B.useState(null),[Ee,Je]=B.useState(null),lt=br();if(t)return E.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:E.jsx(J1,{})});const $n=()=>{const Ne=Number(O),Nn=Number(H),wt=Number(A);let Bt;X==="male"?Bt=88.36+13.4*Ne+4.8*Nn-5.7*wt:Bt=447.6+9.2*Ne+3.1*Nn-4.3*wt;let yt=Bt*Number(C);P==="lose"?yt-=500:P==="gain"&&(yt+=500),yt=Math.round(yt),_e(yt);const Da=Math.round(.3*yt/4),Ts=Math.round(.25*yt/9),Er=Math.round(.45*yt/4);se(Da),he(Ts),Ie(Er),ce(!0)},Yi=async()=>{const Ne=s.trim().toLowerCase();if(!Ne||!Ne.includes("@"))return Je("Prosím, zadaj platný email."),!1;if(o.length<8)return Je("Heslo musí mať aspoň 8 znakov."),!1;if(!/[A-Z]/.test(o))return Je("Heslo musí obsahovať aspoň 1 veľké písmeno (A-Z)."),!1;if(!/\d/.test(o))return Je("Heslo musí obsahovať aspoň 1 číslicu."),!1;if(o!==h)return Je("Heslá sa nezhodujú."),!1;if(!b)return Je("Musíš súhlasiť s podmienkami používania a ochranou osobných údajov."),!1;const Nn=async wt=>{const Bt=cr(Fn(xt,"users"),ur("email","==",wt));return!(await hr(Bt)).empty};try{if((await CV(Tt,Ne)).length>0||await Nn(Ne))return Je("Tento email už existuje."),!1}catch(wt){return console.error("Chyba pri overovaní emailu:",wt),Je("Nastala chyba pri overovaní emailu."),!1}return Je(null),!0},Di=async()=>{await Yi()&&e(2)},xs=async Ne=>{Ne.preventDefault(),i(!0);const Nn=s.trim().toLowerCase();if($n(),!fe||!F||!ue||!pe){let wt;X==="male"?wt=88.36+13.4*Number(O)+4.8*Number(H)-5.7*Number(A):wt=447.6+9.2*Number(O)+3.1*Number(H)-4.3*Number(A);let Bt=wt*Number(C);P==="lose"?Bt-=500:P==="gain"&&(Bt+=500),Bt=Math.round(Bt);const yt=Math.round(.3*Bt/4),Da=Math.round(.25*Bt/9),Ts=Math.round(.45*Bt/4);_e(Bt),se(yt),he(Da),Ie(Ts),ce(!0)}try{const wt=await xV(Tt,Nn,o);await kV(wt.user,{displayName:g}),await DV(wt.user),await w3(ps(xt,"users",wt.user.uid),{name:g,email:Nn,agreedToTerms:!0,age:Number(A),weight:Number(O),height:Number(H),gender:X,activity:Number(C),goal:P,dailyCalories:fe,proteinGrams:F,fatGrams:ue,carbsGrams:pe}),i(!1),lt("/verify-email")}catch(wt){Je("Chyba pri registrácii: "+wt.message)}};return E.jsxs("section",{className:"max-w-md mt-30 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Registrácia"}),Ee&&E.jsx("p",{className:"text-red-600 text-center mt-2",children:Ee}),E.jsxs("form",{onSubmit:xs,className:"mt-4",children:[n===1&&E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"text",placeholder:"Meno",value:g,onChange:Ne=>y(Ne.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("input",{type:"email",placeholder:"Email",value:s,onChange:Ne=>r(Ne.target.value),required:!0,className:"border border-gray-300 rounded-lg mt-5 px-4 py-2 w-full"}),E.jsx("input",{type:"password",placeholder:"Heslo",value:o,onChange:Ne=>c(Ne.target.value),required:!0,className:"border border-gray-300 mt-5 rounded-lg px-4 py-2 w-full"}),E.jsx("input",{type:"password",placeholder:"Potvrdiť heslo",value:h,onChange:Ne=>d(Ne.target.value),required:!0,className:"border border-gray-300 mt-5 rounded-lg px-4 py-2 w-full"}),E.jsxs("div",{className:"mt-6 flex items-start",children:[E.jsx("input",{type:"checkbox",checked:b,onChange:()=>_(!b),className:"mr-2 ml-2 mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),E.jsxs("label",{className:"text-gray-600 mr-5",children:["Súhlasím s ",E.jsx(tt,{to:"/terms",className:"text-blue-600 underline",children:"podmienkami používania"})," a ",E.jsx(tt,{to:"/privacy",className:"text-blue-600 underline",children:"ochranou osobných údajov"}),"."]})]}),E.jsx("button",{type:"button",onClick:Di,className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Ďalej"})]}),n===2&&E.jsxs(E.Fragment,{children:[E.jsx("label",{className:"block mt-2",children:"Vek"}),E.jsx("input",{type:"number",placeholder:"Vek",value:A,onChange:Ne=>D(Ne.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Váha (kg)"}),E.jsx("input",{type:"number",placeholder:"Váha (kg)",value:O,onChange:Ne=>j(Ne.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Výška (cm)"}),E.jsx("input",{type:"number",placeholder:"Výška (cm)",value:H,onChange:Ne=>q(Ne.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Pohlavie"}),E.jsxs("select",{value:X,onChange:Ne=>M(Ne.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[E.jsx("option",{value:"male",children:"Muž"}),E.jsx("option",{value:"female",children:"Žena"})]}),E.jsx("button",{type:"button",onClick:()=>e(3),className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Ďalej"})]}),n===3&&E.jsxs(E.Fragment,{children:[E.jsx("label",{className:"block mt-2",children:"Cieľ"}),E.jsxs("select",{value:P,onChange:Ne=>V(Ne.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[E.jsx("option",{value:"lose",children:"Schudnúť"}),E.jsx("option",{value:"maintain",children:"Udržať váhu"}),E.jsx("option",{value:"gain",children:"Nabrať svaly"})]}),E.jsx("label",{className:"block mt-2",children:"Úroveň aktivity"}),E.jsxs("select",{value:C,onChange:Ne=>k(Ne.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[E.jsx("option",{value:"1.2",children:"Sedavý životný štýl"}),E.jsx("option",{value:"1.375",children:"Ľahká aktivita (1-3x/týž)"}),E.jsx("option",{value:"1.55",children:"Stredná aktivita (3-5x/týž)"}),E.jsx("option",{value:"1.725",children:"Vysoká aktivita (6-7x/týž)"}),E.jsx("option",{value:"1.9",children:"Extrémna aktivita"})]}),E.jsx("label",{className:"block mt-2 font-semibold",children:"BMR / Kalórie"}),we?E.jsx("input",{type:"number",value:fe||"",onChange:Ne=>_e(Number(Ne.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):E.jsxs("p",{className:"mt-2 font-semibold text-center",children:[fe," kcal"]}),E.jsx("label",{className:"block mt-2 font-semibold",children:"Proteíny (g)"}),we?E.jsx("input",{type:"number",value:F||"",onChange:Ne=>se(Number(Ne.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):E.jsxs("p",{className:"mt-2 font-semibold text-center",children:[F," g"]}),E.jsx("label",{className:"block mt-2 font-semibold",children:"Tuky (g)"}),we?E.jsx("input",{type:"number",value:ue||"",onChange:Ne=>he(Number(Ne.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):E.jsxs("p",{className:"mt-2 font-semibold text-center",children:[ue," g"]}),E.jsx("label",{className:"block mt-2 font-semibold",children:"Sacharidy (g)"}),we?E.jsx("input",{type:"number",value:pe||"",onChange:Ne=>Ie(Number(Ne.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):E.jsxs("p",{className:"mt-2 font-semibold text-center",children:[pe," g"]}),E.jsxs("div",{className:"flex justify-between mt-4",children:[E.jsx("button",{type:"button",onClick:$n,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Vypočítať BMR a makrá"}),K&&E.jsx("button",{type:"button",onClick:()=>ve(!we),className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600",children:we?"Uložiť":"Upraviť"})]}),E.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Registrovať sa"})]})]})]})},j3=()=>{const n=br(),e=async()=>{Tt.currentUser&&(await Tt.currentUser.reload(),Tt.currentUser.emailVerified?n("/dashboard"):alert("Email ešte nie je overený. Skontroluj schránku a skús znovu."))};return E.jsxs("section",{className:"pt-20 mt-30 max-w-md mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Overenie emailu"}),E.jsx("p",{className:"mt-4 text-center",children:"Na tvoj email bol odoslaný overovací odkaz. Prosím otvor si email, klikni na overovací link a potom sa vráť sem."}),E.jsx("button",{onClick:e,className:"bg-green-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-green-700",children:"Skontrolovať, či som email potvrdil"})]})},L3=()=>E.jsx("aside",{className:"w-full lg:w-1/5 bg-gray-100 p-4 rounded-lg shadow-md",children:E.jsxs("nav",{className:"flex flex-col space-y-4",children:[E.jsx(tt,{to:"/dashboard/calendar",className:"text-green-700 font-bold hover:underline",children:"Kalendár"}),E.jsx(tt,{to:"/dashboard/my-foods",className:"text-green-700 font-bold hover:underline",children:"Moje jedlá"}),E.jsx(tt,{to:"/dashboard/statistics",className:"text-green-700 font-bold hover:underline",children:"Štatistiky"}),E.jsx(tt,{to:"/dashboard/my-activites",className:"text-green-700 font-bold hover:underline",children:"Moje Aktivity"})]})}),V3=({onAddActivity:n})=>{const[e,t]=B.useState(""),[i,s]=B.useState(""),[r,o]=B.useState(""),[c,h]=B.useState(""),d=g=>{if(g.preventDefault(),!e.trim())return;const y={activityName:e,duration:Number(i),burnedCalories:Number(r),description:c,createdAt:new Date};n&&n(y),t(""),s(""),o(""),h("")};return E.jsxs("form",{onSubmit:d,className:"p-4 bg-white rounded-lg shadow-md mb-4",children:[E.jsx("h2",{className:"text-xl font-bold text-green-700 mb-4",children:"Pridať novú aktivitu"}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-gray-700",children:"Názov aktivity:"}),E.jsx("input",{type:"text",value:e,onChange:g=>t(g.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Zadaj názov aktivity (napr. beh, plávanie)"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700",children:"Dĺžka (min):"}),E.jsx("input",{type:"number",value:i,onChange:g=>s(g.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"napr. 30"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700",children:"Spálené kalórie:"}),E.jsx("input",{type:"number",value:r,onChange:g=>o(g.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"napr. 200"})]})]}),E.jsxs("div",{className:"mt-4",children:[E.jsx("label",{className:"block text-gray-700",children:"Popis (nepovinné):"}),E.jsx("textarea",{value:c,onChange:g=>h(g.target.value),className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Krátky opis, napr. intenzita behu, miesto atď."})]}),E.jsx("button",{type:"submit",className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať aktivitu"})]})},U3=()=>{const{handleEditActivity:n,handleAddActivity:e,savedActivities:t,handleDeleteActivity:i,handleAddEventToCalendar:s}=Fh(),[r,o]=B.useState(null),[c,h]=B.useState({activityName:"",duration:"",burnedCalories:"",description:""}),d=b=>{o(b.id),h({activityName:b.activityName,duration:b.duration,burnedCalories:b.burnedCalories,description:b.description||""})},g=()=>{o(null),h({activityName:"",duration:"",burnedCalories:"",description:""})},y=()=>{if(!r)return;const b={...c,duration:Number(c.duration),burnedCalories:Number(c.burnedCalories)};n(r,b),g()};return E.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[E.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Moje aktivity"}),E.jsx(V3,{onAddActivity:e}),E.jsx("div",{className:"mt-6",children:t&&t.length>0?E.jsx("ul",{className:"space-y-4",children:t.map(b=>E.jsx("li",{className:"p-4 bg-white rounded-lg shadow border-l-4 border-green-500 flex justify-between items-start",children:r===b.id?E.jsxs("div",{className:"flex-1",children:[E.jsx("input",{type:"text",value:c.activityName,onChange:_=>h({...c,activityName:_.target.value}),className:"border border-gray-300 rounded px-3 py-2 w-full mb-2",placeholder:"Názov aktivity"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[E.jsx("input",{type:"number",value:c.duration,onChange:_=>h({...c,duration:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Dĺžka (min)"}),E.jsx("input",{type:"number",value:c.burnedCalories,onChange:_=>h({...c,burnedCalories:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Spálené kalórie"})]}),E.jsx("textarea",{value:c.description,onChange:_=>h({...c,description:_.target.value}),className:"border border-gray-300 rounded px-3 py-2 w-full",placeholder:"Popis"}),E.jsxs("div",{className:"mt-2 flex space-x-2",children:[E.jsx("button",{onClick:y,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Uložiť"}),E.jsx("button",{onClick:g,className:"bg-gray-500 text-white px-3 py-1 rounded hover:bg-gray-600",children:"Zrušiť"})]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-800",children:b.activityName}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Dĺžka: ",b.duration," min"]}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Spálené kalórie: ",b.burnedCalories," kcal"]}),b.description&&E.jsxs("p",{className:"text-sm text-gray-700",children:["Popis: ",b.description]})]}),E.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[E.jsx("button",{onClick:()=>i(b.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Zmazať"}),E.jsx("button",{onClick:()=>d(b),className:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600",children:"Upraviť"})]})]})},b.id))}):E.jsx("p",{className:"text-gray-500 text-center",children:"Zatiaľ ste nepridali žiadne aktivity."})})]})},gT=()=>{const[n,e]=B.useState([]),[t,i]=B.useState(null);B.useEffect(()=>{(async()=>{const _=Tt.currentUser;if(_)try{const w=ps(xt,"users",_.uid),x=await X1(w);x.exists()&&i(x.data())}catch(w){console.error("Chyba pri načítaní nutričných údajov:",w)}})()},[]);const s=async b=>{try{const _=ps(xt,"foods",b);await tp(_),e(w=>w.filter(x=>x.id!==b))}catch(_){console.error("Chyba pri mazaní jedla z Firestore:",_)}},r=async(b,_)=>{try{const w=ps(xt,"foods",b);await fT(w,_),e(x=>x.map(A=>A.id===b?{...A,..._}:A))}catch(w){console.error("Chyba pri úprave jedla vo Firestore:",w)}},o=async b=>{try{const _=Tt.currentUser;if(!_){console.error("Používateľ nie je prihlásený");return}const w={...b,userId:_.uid,userName:_.displayName,createdAt:new Date},x=await hh(Fn(xt,"foods"),w);console.log("Jedlo pridané s ID:",x.id),e(A=>[...A,{id:x.id,...w}])}catch(_){console.error("Chyba pri pridávaní jedla:",_)}};B.useEffect(()=>{(async()=>{try{const _=Tt.currentUser;if(!_)return;const w=cr(Fn(xt,"foods"),ur("userId","==",_.uid)),A=(await hr(w)).docs.map(D=>({id:D.id,...D.data()}));e(A)}catch(_){console.error("Chyba pri načítaní jedál:",_)}})()},[]);const[c,h]=B.useState([]),d=async b=>{try{const _=Tt.currentUser;if(!_)return;const w={...b,userId:_.uid,userName:_.displayName},x=await hh(Fn(xt,"activities"),w);h(A=>[...A,{id:x.id,...b}])}catch(_){console.error("Chyba pri načítaní aktivít:",_)}};B.useEffect(()=>{(async()=>{try{const _=Tt.currentUser;if(!_)return;const w=cr(Fn(xt,"activities"),ur("userId","==",_.uid)),A=(await hr(w)).docs.map(D=>({id:D.id,...D.data()}));h(A)}catch{console.error("Vyskytla sa chyba")}})()},[]);const g=async b=>{try{const _=ps(xt,"activities",b);await tp(_),h(w=>w.filter(x=>x.id!==b))}catch{console.error("Vyskytla sa chyba")}},y=async(b,_)=>{try{const w=ps(xt,"activities",b);await fT(w,_),h(x=>x.map(A=>A.id===b?{...A,..._}:A))}catch{console.error("Vyskytla sa chyba")}};return E.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4 mt-20",children:[E.jsx(L3,{}),E.jsx("div",{className:"flex-1",children:E.jsx(eP,{context:{savedFoods:n,handleAddCustomFood:o,handleDeleteFood:s,handleEditFood:r,nutritionGoal:t,handleEditActivity:y,handleAddActivity:d,savedActivities:c,handleDeleteActivity:g}})})]})},Bl=({children:n})=>{const[e,t]=B.useState(void 0),[i,s]=B.useState(!0);return B.useEffect(()=>{const r=VD(Tt,o=>{t(o),s(!1)});return()=>r()},[]),i?E.jsx("p",{children:"Načítavam..."}):!e||!e.emailVerified?E.jsx(J2,{to:"/login"}):n},z3=()=>{const n=br(),e=async()=>{try{await OV(Tt),n("/")}catch(t){console.error("Chyba pri odhlasovaní:",t)}};return E.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg text-center",children:[E.jsx("h2",{className:"text-3xl font-semibold text-green-700",children:"Odhlásenie"}),E.jsx("p",{className:"mt-4 text-gray-600",children:"Si si istý, že sa chceš odhlásiť?"}),E.jsx("button",{onClick:e,className:"bg-red-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-red-700 transition",children:"Odhlásiť sa"})]})},B3=()=>{const[n,e]=B.useState(""),[t,i]=B.useState(""),[s,r]=B.useState(""),o=br(),c=async h=>{h.preventDefault();try{await TV(Tt,n,t),o("/dashboard")}catch(d){r("Chyba pri prihlasovaní: "+d.message)}};return E.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Prihlásenie"}),s&&E.jsx("p",{className:"text-red-600 text-center mt-2",children:s}),E.jsxs("div",{className:"bg-gray-100 p-4 rounded-md mt-6 text-sm text-gray-700",children:[E.jsx("p",{className:"font-semibold mb-1",children:"Demo účet:"}),E.jsxs("p",{children:["Email: ",E.jsx("span",{className:"text-blue-600",children:"exampleuseruser1@gmail.com"})]}),E.jsxs("p",{children:["Heslo: ",E.jsx("span",{className:"text-blue-600",children:"exampleUser1"})]})]}),E.jsxs("form",{onSubmit:c,className:"mt-4",children:[E.jsx("input",{value:n,onChange:h=>e(h.target.value),type:"email",placeholder:"Email",className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("input",{value:t,onChange:h=>i(h.target.value),type:"password",placeholder:"Heslo",className:"border mt-4 border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mb-3 mt-4 w-full rounded-lg hover:bg-green-700",children:"Prihlásiť sa"}),E.jsx(tt,{to:"/register",className:"text-blue-600 underline",children:"Nemáš ešte účet ? Vytvor si ho"})]})]})},H3=()=>E.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky používania"}),E.jsx("p",{className:"mt-4 text-gray-600",children:"Posledná aktualizácia: 21. február 2025"}),E.jsxs("p",{className:"mt-4",children:["Vitajte v našej aplikácii ",E.jsx("strong",{children:"[Your App Name]"}),". Používaním tejto aplikácie súhlasíte s nasledujúcimi podmienkami."]}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptácia podmienok"}),E.jsx("p",{className:"mt-2",children:"Používaním našich služieb vyjadrujete súhlas s týmito podmienkami. Ak s nimi nesúhlasíte, nesmiete aplikáciu používať."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie účtu"}),E.jsx("p",{className:"mt-2",children:"Pri registrácii musíte poskytnúť pravdivé a aktuálne informácie. Ste zodpovedný za bezpečnosť vášho účtu."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakázané aktivity"}),E.jsxs("p",{className:"mt-2",children:["Používateľ nesmie:",E.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[E.jsx("li",{children:"Porušovať platné zákony alebo práva tretích strán."}),E.jsx("li",{children:"Vytvárať falošné účty alebo sa vydávať za iných."}),E.jsx("li",{children:"Zasahovať do bezpečnosti aplikácie."})]})]}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zrušenie účtu"}),E.jsx("p",{className:"mt-2",children:"Môžeme zablokovať alebo odstrániť váš účet v prípade porušenia podmienok alebo neaktivity."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednosť a obmedzenie"}),E.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednosť za akékoľvek priame alebo nepriame škody spôsobené používaním tejto aplikácie."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),E.jsx("p",{className:"mt-2",children:"Vyhradzujeme si právo kedykoľvek upraviť tieto podmienky. Pokračovanie v používaní aplikácie znamená súhlas so zmenami."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),E.jsxs("p",{className:"mt-2",children:["Ak máte otázky týkajúce sa týchto podmienok, kontaktujte nás na ",E.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),F3=()=>E.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky používania"}),E.jsx("p",{className:"mt-4 text-gray-600",children:"Posledná aktualizácia: 21. február 2025"}),E.jsxs("p",{className:"mt-4",children:["Vitajte v našej aplikácii ",E.jsx("strong",{children:"[Your App Name]"}),". Používaním tejto aplikácie súhlasíte s nasledujúcimi podmienkami."]}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptácia podmienok"}),E.jsx("p",{className:"mt-2",children:"Používaním našich služieb vyjadrujete súhlas s týmito podmienkami. Ak s nimi nesúhlasíte, nesmiete aplikáciu používať."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie účtu"}),E.jsx("p",{className:"mt-2",children:"Pri registrácii musíte poskytnúť pravdivé a aktuálne informácie. Ste zodpovedný za bezpečnosť vášho účtu."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakázané aktivity"}),E.jsxs("p",{className:"mt-2",children:["Používateľ nesmie:",E.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[E.jsx("li",{children:"Porušovať platné zákony alebo práva tretích strán."}),E.jsx("li",{children:"Vytvárať falošné účty alebo sa vydávať za iných."}),E.jsx("li",{children:"Zasahovať do bezpečnosti aplikácie."})]})]}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zrušenie účtu"}),E.jsx("p",{className:"mt-2",children:"Môžeme zablokovať alebo odstrániť váš účet v prípade porušenia podmienok alebo neaktivity."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednosť a obmedzenie"}),E.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednosť za akékoľvek priame alebo nepriame škody spôsobené používaním tejto aplikácie."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),E.jsx("p",{className:"mt-2",children:"Vyhradzujeme si právo kedykoľvek upraviť tieto podmienky. Pokračovanie v používaní aplikácie znamená súhlas so zmenami."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),E.jsxs("p",{className:"mt-2",children:["Ak máte otázky týkajúce sa týchto podmienok, kontaktujte nás na ",E.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),q3=({onAddCustomFood:n})=>{const[e,t]=B.useState(""),[i,s]=B.useState(""),[r,o]=B.useState(""),[c,h]=B.useState(""),[d,g]=B.useState(""),[y,b]=B.useState(""),[_,w]=B.useState(""),x=A=>{if(A.preventDefault(),!e.trim())return;const D={foodName:e,kcal:Number(i),protein:Number(r),fat:Number(c),carbs:Number(d),fiber:Number(y)};n(D),t(""),s(""),o(""),h(""),g(""),b("")};return E.jsxs("form",{onSubmit:x,className:"p-4 bg-white rounded-lg shadow-md mb-4",children:[E.jsx("h2",{className:"text-xl font-bold text-green-700 mb-4",children:"Pridať vlastné jedlo"}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-gray-700",children:"Názov jedla:"}),E.jsx("input",{type:"text",value:e,onChange:A=>t(A.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Názov jedla"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700",children:"Kalórie:"}),E.jsx("input",{type:"number",value:i,onChange:A=>s(A.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"kcal"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700",children:"Bielkoviny (g):"}),E.jsx("input",{type:"number",value:r,onChange:A=>o(A.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"bielkoviny"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700",children:"Tuky (g):"}),E.jsx("input",{type:"number",value:c,onChange:A=>h(A.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"tuky"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700",children:"Sacharidy (g):"}),E.jsx("input",{type:"number",value:d,onChange:A=>g(A.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"sacharidy"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 mt-2",children:"Vláknina (g):"}),E.jsx("input",{type:"number",value:y,onChange:A=>b(A.target.value),required:!0,className:"w-1/2 mx-auto border border-gray-300 rounded px-3 py-2",placeholder:"vláknina"})]}),E.jsx("button",{type:"submit",className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať jedlo"})]})},G3=()=>{const{savedFoods:n,handleAddCustomFood:e,handleDeleteFood:t,handleEditFood:i}=Fh(),[s,r]=B.useState(null),[o,c]=B.useState({foodName:"",kcal:"",protein:"",fat:"",carbs:"",fiber:""}),h=y=>{r(y.id),c({foodName:y.foodName,kcal:y.kcal,protein:y.protein,fat:y.fat,carbs:y.carbs,fiber:y.fiber})},d=()=>{r(null),c({foodName:"",kcal:"",protein:"",fat:"",carbs:"",fiber:""})},g=()=>{i(s,{foodName:o.foodName,kcal:Number(o.kcal),protein:Number(o.protein),fat:Number(o.fat),carbs:Number(o.carbs),fiber:Number(o.fiber)}),d()};return E.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[E.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Moje jedlá"}),E.jsx(q3,{onAddCustomFood:e}),E.jsx("div",{className:"mt-6",children:n.length>0?E.jsx("ul",{className:"space-y-4",children:n.map((y,b)=>E.jsx("li",{className:"p-4 bg-white rounded-lg shadow border-l-4 border-green-500 flex justify-between items-center",children:s===y.id?E.jsxs("div",{className:"flex-1",children:[E.jsx("input",{type:"text",value:o.foodName,onChange:_=>c({...o,foodName:_.target.value}),className:"border border-gray-300 rounded px-3 py-2 w-full mb-2",placeholder:"Názov jedla"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"number",value:o.kcal,onChange:_=>c({...o,kcal:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Kalórie"}),E.jsx("input",{type:"number",value:o.protein,onChange:_=>c({...o,protein:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Bielkoviny"}),E.jsx("input",{type:"number",value:o.fat,onChange:_=>c({...o,fat:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Tuky"}),E.jsx("input",{type:"number",value:o.carbs,onChange:_=>c({...o,carbs:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Sacharidy"}),E.jsx("input",{type:"number",value:o.fiber,onChange:_=>c({...o,fiber:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Vláknina"}),E.jsx("input",{type:"number",value:o.fluid,onChange:_=>c({...o,fluid:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Tekutiny"})]}),E.jsxs("div",{className:"mt-2 flex space-x-2",children:[E.jsx("button",{onClick:g,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Uložiť"}),E.jsx("button",{onClick:d,className:"bg-gray-500 text-white px-3 py-1 rounded hover:bg-gray-600",children:"Zrušiť"})]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-800",children:y.foodName}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Kalórie: ",y.kcal," kcal"]}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Bielkoviny: ",y.protein," g"]}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Tuky: ",y.fat," g"]}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Sacharidy: ",y.carbs," g"]}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Vláknina: ",y.fiber," g"]}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Tekutiny: ",y.fluid," l"]})]}),E.jsxs("div",{className:"flex flex-col space-y-2",children:[E.jsx("button",{onClick:()=>t(y.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Zmazať"}),E.jsx("button",{onClick:()=>h(y),className:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600",children:"Upraviť"})]})]})},b))}):E.jsx("p",{className:"text-gray-500 text-center",children:"Zatiaľ ste nepridali žiadne jedlá."})})]})};var Zp,xe,ek,tk,fc,bo,pT,nk,ik,np={},sk=[],W3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ia(n,e){for(var t in e)n[t]=e[t];return n}function rk(n){var e=n.parentNode;e&&e.removeChild(n)}function te(n,e,t){var i,s,r,o={};for(r in e)r=="key"?i=e[r]:r=="ref"?s=e[r]:o[r]=e[r];if(arguments.length>2&&(o.children=arguments.length>3?Zp.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(r in n.defaultProps)o[r]===void 0&&(o[r]=n.defaultProps[r]);return bg(n,o,i,s,null)}function bg(n,e,t,i,s){var r={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++ek};return s==null&&xe.vnode!=null&&xe.vnode(r),r}function yr(){return{current:null}}function Mt(n){return n.children}function Y3(n,e,t,i,s){var r;for(r in t)r==="children"||r==="key"||r in e||ip(n,r,null,t[r],i);for(r in e)s&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||t[r]===e[r]||ip(n,r,e[r],t[r],i)}function mT(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||W3.test(e)?t:t+"px"}function ip(n,e,t,i,s){var r;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||mT(n.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||mT(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+r]=t,t?i||n.addEventListener(e,r?vT:yT,r):n.removeEventListener(e,r?vT:yT,r);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function yT(n){fc=!0;try{return this.l[n.type+!1](xe.event?xe.event(n):n)}finally{fc=!1}}function vT(n){fc=!0;try{return this.l[n.type+!0](xe.event?xe.event(n):n)}finally{fc=!1}}function ai(n,e){this.props=n,this.context=e}function Ih(n,e){if(e==null)return n.__?Ih(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Ih(n):null}function ak(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return ak(n)}}function $3(n){fc?setTimeout(n):nk(n)}function Lb(n){(!n.__d&&(n.__d=!0)&&bo.push(n)&&!sp.__r++||pT!==xe.debounceRendering)&&((pT=xe.debounceRendering)||$3)(sp)}function sp(){var n,e,t,i,s,r,o,c;for(bo.sort(function(h,d){return h.__v.__b-d.__v.__b});n=bo.shift();)n.__d&&(e=bo.length,i=void 0,s=void 0,o=(r=(t=n).__v).__e,(c=t.__P)&&(i=[],(s=ia({},r)).__v=r.__v+1,d0(c,r,s,t.__n,c.ownerSVGElement!==void 0,r.__h!=null?[o]:null,i,o??Ih(r),r.__h),hk(i,r),r.__e!=o&&ak(r)),bo.length>e&&bo.sort(function(h,d){return h.__v.__b-d.__v.__b}));sp.__r=0}function ok(n,e,t,i,s,r,o,c,h,d){var g,y,b,_,w,x,A,D=i&&i.__k||sk,O=D.length;for(t.__k=[],g=0;g<e.length;g++)if((_=t.__k[g]=(_=e[g])==null||typeof _=="boolean"?null:typeof _=="string"||typeof _=="number"||typeof _=="bigint"?bg(null,_,null,null,_):Array.isArray(_)?bg(Mt,{children:_},null,null,null):_.__b>0?bg(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_)!=null){if(_.__=t,_.__b=t.__b+1,(b=D[g])===null||b&&_.key==b.key&&_.type===b.type)D[g]=void 0;else for(y=0;y<O;y++){if((b=D[y])&&_.key==b.key&&_.type===b.type){D[y]=void 0;break}b=null}d0(n,_,b=b||np,s,r,o,c,h,d),w=_.__e,(y=_.ref)&&b.ref!=y&&(A||(A=[]),b.ref&&A.push(b.ref,null,_),A.push(y,_.__c||w,_)),w!=null?(x==null&&(x=w),typeof _.type=="function"&&_.__k===b.__k?_.__d=h=lk(_,h,n):h=ck(n,_,b,D,w,h),typeof t.type=="function"&&(t.__d=h)):h&&b.__e==h&&h.parentNode!=n&&(h=Ih(b))}for(t.__e=x,g=O;g--;)D[g]!=null&&(typeof t.type=="function"&&D[g].__e!=null&&D[g].__e==t.__d&&(t.__d=uk(i).nextSibling),fk(D[g],D[g]));if(A)for(g=0;g<A.length;g++)dk(A[g],A[++g],A[++g])}function lk(n,e,t){for(var i,s=n.__k,r=0;s&&r<s.length;r++)(i=s[r])&&(i.__=n,e=typeof i.type=="function"?lk(i,e,t):ck(t,i,i,s,i.__e,e));return e}function rp(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){rp(t,e)}):e.push(n)),e}function ck(n,e,t,i,s,r){var o,c,h;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(t==null||s!=r||s.parentNode==null)e:if(r==null||r.parentNode!==n)n.appendChild(s),o=null;else{for(c=r,h=0;(c=c.nextSibling)&&h<i.length;h+=1)if(c==s)break e;n.insertBefore(s,r),o=r}return o!==void 0?o:s.nextSibling}function uk(n){var e,t,i;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(i=uk(t)))return i}return null}function d0(n,e,t,i,s,r,o,c,h){var d,g,y,b,_,w,x,A,D,O,j,H,q,X,M,C=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(h=t.__h,c=e.__e=t.__e,e.__h=null,r=[c]),(d=xe.__b)&&d(e);try{e:if(typeof C=="function"){if(A=e.props,D=(d=C.contextType)&&i[d.__c],O=d?D?D.props.value:d.__:i,t.__c?x=(g=e.__c=t.__c).__=g.__E:("prototype"in C&&C.prototype.render?e.__c=g=new C(A,O):(e.__c=g=new ai(A,O),g.constructor=C,g.render=K3),D&&D.sub(g),g.props=A,g.state||(g.state={}),g.context=O,g.__n=i,y=g.__d=!0,g.__h=[],g._sb=[]),g.__s==null&&(g.__s=g.state),C.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=ia({},g.__s)),ia(g.__s,C.getDerivedStateFromProps(A,g.__s))),b=g.props,_=g.state,g.__v=e,y)C.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(C.getDerivedStateFromProps==null&&A!==b&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(A,O),!g.__e&&g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(A,g.__s,O)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(g.props=A,g.state=g.__s,g.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(k){k&&(k.__=e)}),j=0;j<g._sb.length;j++)g.__h.push(g._sb[j]);g._sb=[],g.__h.length&&o.push(g);break e}g.componentWillUpdate!=null&&g.componentWillUpdate(A,g.__s,O),g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(b,_,w)})}if(g.context=O,g.props=A,g.__P=n,H=xe.__r,q=0,"prototype"in C&&C.prototype.render){for(g.state=g.__s,g.__d=!1,H&&H(e),d=g.render(g.props,g.state,g.context),X=0;X<g._sb.length;X++)g.__h.push(g._sb[X]);g._sb=[]}else do g.__d=!1,H&&H(e),d=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++q<25);g.state=g.__s,g.getChildContext!=null&&(i=ia(ia({},i),g.getChildContext())),y||g.getSnapshotBeforeUpdate==null||(w=g.getSnapshotBeforeUpdate(b,_)),M=d!=null&&d.type===Mt&&d.key==null?d.props.children:d,ok(n,Array.isArray(M)?M:[M],e,t,i,s,r,o,c,h),g.base=e.__e,e.__h=null,g.__h.length&&o.push(g),x&&(g.__E=g.__=null),g.__e=!1}else r==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=Q3(t.__e,e,t,i,s,r,o,h);(d=xe.diffed)&&d(e)}catch(k){e.__v=null,(h||r!=null)&&(e.__e=c,e.__h=!!h,r[r.indexOf(c)]=null),xe.__e(k,e,t)}}function hk(n,e){xe.__c&&xe.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){xe.__e(i,t.__v)}})}function Q3(n,e,t,i,s,r,o,c){var h,d,g,y=t.props,b=e.props,_=e.type,w=0;if(_==="svg"&&(s=!0),r!=null){for(;w<r.length;w++)if((h=r[w])&&"setAttribute"in h==!!_&&(_?h.localName===_:h.nodeType===3)){n=h,r[w]=null;break}}if(n==null){if(_===null)return document.createTextNode(b);n=s?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,b.is&&b),r=null,c=!1}if(_===null)y===b||c&&n.data===b||(n.data=b);else{if(r=r&&Zp.call(n.childNodes),d=(y=t.props||np).dangerouslySetInnerHTML,g=b.dangerouslySetInnerHTML,!c){if(r!=null)for(y={},w=0;w<n.attributes.length;w++)y[n.attributes[w].name]=n.attributes[w].value;(g||d)&&(g&&(d&&g.__html==d.__html||g.__html===n.innerHTML)||(n.innerHTML=g&&g.__html||""))}if(Y3(n,b,y,s,c),g)e.__k=[];else if(w=e.props.children,ok(n,Array.isArray(w)?w:[w],e,t,i,s&&_!=="foreignObject",r,o,r?r[0]:t.__k&&Ih(t,0),c),r!=null)for(w=r.length;w--;)r[w]!=null&&rk(r[w]);c||("value"in b&&(w=b.value)!==void 0&&(w!==n.value||_==="progress"&&!w||_==="option"&&w!==y.value)&&ip(n,"value",w,y.value,!1),"checked"in b&&(w=b.checked)!==void 0&&w!==n.checked&&ip(n,"checked",w,y.checked,!1))}return n}function dk(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(i){xe.__e(i,t)}}function fk(n,e,t){var i,s;if(xe.unmount&&xe.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||dk(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){xe.__e(r,e)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(s=0;s<i.length;s++)i[s]&&fk(i[s],e,t||typeof n.type!="function");t||n.__e==null||rk(n.__e),n.__=n.__e=n.__d=void 0}function K3(n,e,t){return this.constructor(n,t)}function kh(n,e,t){var i,s,r;xe.__&&xe.__(n,e),s=(i=!1)?null:e.__k,r=[],d0(e,n=e.__k=te(Mt,null,[n]),s||np,np,e.ownerSVGElement!==void 0,s?null:e.firstChild?Zp.call(e.childNodes):null,r,s?s.__e:e.firstChild,i),hk(r,n)}function X3(n,e){var t={__c:e="__cC"+ik++,__:n,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,r;return this.getChildContext||(s=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(c){c.__e=!0,Lb(c)})},this.sub=function(o){s.push(o);var c=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),c&&c.call(o)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}Zp=sk.slice,xe={__e:function(n,e,t,i){for(var s,r,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((r=s.constructor)&&r.getDerivedStateFromError!=null&&(s.setState(r.getDerivedStateFromError(n)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(n,i||{}),o=s.__d),o)return s.__E=s}catch(c){n=c}throw n}},ek=0,tk=function(n){return n!=null&&n.constructor===void 0},fc=!1,ai.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ia({},this.state),typeof n=="function"&&(n=n(ia({},t),this.props)),n&&ia(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),Lb(this))},ai.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Lb(this))},ai.prototype.render=Mt,bo=[],nk=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,sp.__r=0,ik=0;var gs,kv,bT,gk=[],Nv=[],_T=xe.__b,ET=xe.__r,ST=xe.diffed,wT=xe.__c,AT=xe.unmount;function Z3(){for(var n;n=gk.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(_g),n.__H.__h.forEach(Vb),n.__H.__h=[]}catch(e){n.__H.__h=[],xe.__e(e,n.__v)}}xe.__b=function(n){gs=null,_T&&_T(n)},xe.__r=function(n){ET&&ET(n);var e=(gs=n.__c).__H;e&&(kv===gs?(e.__h=[],gs.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=Nv,t.__N=t.i=void 0})):(e.__h.forEach(_g),e.__h.forEach(Vb),e.__h=[])),kv=gs},xe.diffed=function(n){ST&&ST(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(gk.push(e)!==1&&bT===xe.requestAnimationFrame||((bT=xe.requestAnimationFrame)||J3)(Z3)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==Nv&&(t.__=t.__V),t.i=void 0,t.__V=Nv})),kv=gs=null},xe.__c=function(n,e){e.some(function(t){try{t.__h.forEach(_g),t.__h=t.__h.filter(function(i){return!i.__||Vb(i)})}catch(i){e.some(function(s){s.__h&&(s.__h=[])}),e=[],xe.__e(i,t.__v)}}),wT&&wT(n,e)},xe.unmount=function(n){AT&&AT(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{_g(i)}catch(s){e=s}}),t.__H=void 0,e&&xe.__e(e,t.__v))};var xT=typeof requestAnimationFrame=="function";function J3(n){var e,t=function(){clearTimeout(i),xT&&cancelAnimationFrame(e),setTimeout(n)},i=setTimeout(t,100);xT&&(e=requestAnimationFrame(t))}function _g(n){var e=gs,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),gs=e}function Vb(n){var e=gs;n.__c=n.__(),gs=e}function eH(n,e){for(var t in e)n[t]=e[t];return n}function TT(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&n[i]!==e[i])return!0;return!1}function RT(n){this.props=n}(RT.prototype=new ai).isPureReactComponent=!0,RT.prototype.shouldComponentUpdate=function(n,e){return TT(this.props,n)||TT(this.state,e)};var CT=xe.__b;xe.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),CT&&CT(n)};var tH=xe.__e;xe.__e=function(n,e,t,i){if(n.then){for(var s,r=e;r=r.__;)if((s=r.__c)&&s.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),s.__c(n,e)}tH(n,e,t,i)};var DT=xe.unmount;function pk(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=eH({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return pk(i,e,t)})),n}function mk(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return mk(i,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function Mv(){this.__u=0,this.t=null,this.__b=null}function yk(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function Vf(){this.u=null,this.o=null}xe.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),DT&&DT(n)},(Mv.prototype=new ai).__c=function(n,e){var t=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(t);var s=yk(i.__v),r=!1,o=function(){r||(r=!0,t.__R=null,s?s(c):c())};t.__R=o;var c=function(){if(!--i.__u){if(i.state.__a){var d=i.state.__a;i.__v.__k[0]=mk(d,d.__c.__P,d.__c.__O)}var g;for(i.setState({__a:i.__b=null});g=i.t.pop();)g.forceUpdate()}},h=e.__h===!0;i.__u++||h||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(o,o)},Mv.prototype.componentWillUnmount=function(){this.t=[]},Mv.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=pk(this.__b,t,i.__O=i.__P)}this.__b=null}var s=e.__a&&te(Mt,null,n.fallback);return s&&(s.__h=null),[te(Mt,null,e.__a?null:n.children),s]};var IT=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function nH(n){return this.getChildContext=function(){return n.context},n.children}function iH(n){var e=this,t=n.i;e.componentWillUnmount=function(){kh(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,s){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),kh(te(nH,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function sH(n,e){var t=te(iH,{__v:n,i:e});return t.containerInfo=e,t}(Vf.prototype=new ai).__a=function(n){var e=this,t=yk(e.__v),i=e.o.get(n);return i[0]++,function(s){var r=function(){e.props.revealOrder?(i.push(s),IT(e,n,i)):s()};t?t(r):r()}},Vf.prototype.render=function(n){this.u=null,this.o=new Map;var e=rp(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},Vf.prototype.componentDidUpdate=Vf.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){IT(n,t,e)})};var rH=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,aH=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,oH=typeof document<"u",lH=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};ai.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(ai.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var kT=xe.event;function cH(){}function uH(){return this.cancelBubble}function hH(){return this.defaultPrevented}xe.event=function(n){return kT&&(n=kT(n)),n.persist=cH,n.isPropagationStopped=uH,n.isDefaultPrevented=hH,n.nativeEvent=n};var NT={configurable:!0,get:function(){return this.class}},MT=xe.vnode;xe.vnode=function(n){var e=n.type,t=n.props,i=t;if(typeof e=="string"){var s=e.indexOf("-")===-1;for(var r in i={},t){var o=t[r];oH&&r==="children"&&e==="noscript"||r==="value"&&"defaultValue"in t&&o==null||(r==="defaultValue"&&"value"in t&&t.value==null?r="value":r==="download"&&o===!0?o="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+e)&&!lH(t.type)?r="oninput":/^onfocus$/i.test(r)?r="onfocusin":/^onblur$/i.test(r)?r="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(r)?r=r.toLowerCase():s&&aH.test(r)?r=r.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(r)&&(r=r.toLowerCase(),i[r]&&(r="oninputCapture")),i[r]=o)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=rp(t.children).forEach(function(c){c.props.selected=i.value.indexOf(c.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=rp(t.children).forEach(function(c){c.props.selected=i.multiple?i.defaultValue.indexOf(c.props.value)!=-1:i.defaultValue==c.props.value})),n.props=i,t.class!=t.className&&(NT.enumerable="className"in t,t.className!=null&&(i.class=t.className),Object.defineProperty(i,"className",NT))}n.$$typeof=rH,MT&&MT(n)};var OT=xe.__r;xe.__r=function(n){OT&&OT(n),n.__c};const vk=[],Ub=new Map;function bk(n){vk.push(n),Ub.forEach(e=>{Ek(e,n)})}function dH(n){n.isConnected&&n.getRootNode&&_k(n.getRootNode())}function _k(n){let e=Ub.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=gH();t&&(e.nonce=t);const i=n===document?document.head:n,s=n===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,s)}Ub.set(n,e),fH(e)}}function fH(n){for(const e of vk)Ek(n,e)}function Ek(n,e){const{sheet:t}=n,i=t.cssRules.length;e.split("}").forEach((s,r)=>{s=s.trim(),s&&t.insertRule(s+"}",i+r)})}let Ov;function gH(){return Ov===void 0&&(Ov=pH()),Ov}function pH(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&_k(document);var mH=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';bk(mH);class f0{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:i}=this;e in i&&(t?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function g0(n){n.parentNode&&n.parentNode.removeChild(n)}function Rn(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(yH(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function yH(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function vH(n,e){let t=n instanceof HTMLElement?[n]:n,i=[];for(let s=0;s<t.length;s+=1){let r=t[s].querySelectorAll(e);for(let o=0;o<r.length;o+=1)i.push(r[o])}return i}const bH=/(top|left|right|bottom|width|height)$/i;function dh(n,e){for(let t in e)Sk(n,t,e[t])}function Sk(n,e,t){t==null?n.style[e]="":typeof t=="number"&&bH.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function wk(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let PT=0;function Jp(){return PT+=1,"fc-dom-"+PT}function em(n){n.preventDefault()}function _H(n,e){return t=>{let i=Rn(t.target,n);i&&e.call(i,t,i)}}function Ak(n,e,t,i){let s=_H(t,i);return n.addEventListener(e,s),()=>{n.removeEventListener(e,s)}}function EH(n,e,t,i){let s;return Ak(n,"mouseover",e,(r,o)=>{if(o!==s){s=o,t(r,o);let c=h=>{s=null,i(h,o),o.removeEventListener("mouseleave",c)};o.addEventListener("mouseleave",c)}})}const jT=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function SH(n,e){let t=i=>{e(i),jT.forEach(s=>{n.removeEventListener(s,t)})};jT.forEach(i=>{n.addEventListener(i,t)})}function xk(n){return Object.assign({onClick:n},Tk(n))}function Tk(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let LT=0;function qo(){return LT+=1,String(LT)}function p0(){document.body.classList.add("fc-not-allowed")}function m0(){document.body.classList.remove("fc-not-allowed")}function wH(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",em)}function AH(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",em)}function xH(n){n.addEventListener("contextmenu",em)}function TH(n){n.removeEventListener("contextmenu",em)}function RH(n){let e=[],t=[],i,s;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)s=t[i],typeof s=="string"?e.push(s.charAt(0)==="-"?{field:s.substring(1),order:-1}:{field:s,order:1}):typeof s=="function"&&e.push({func:s});return e}function CH(n,e,t){let i,s;for(i=0;i<t.length;i+=1)if(s=DH(n,e,t[i]),s)return s;return 0}function DH(n,e,t){return t.func?t.func(n,e):IH(n[t.field],e[t.field])*(t.order||1)}function IH(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function Pv(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function fh(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((i,s,r)=>i.replace("$"+r,s||""),n):t}function kH(n,e){return n-e}function jv(n){return n%1===0}function NH(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const MH=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Xe(n,e){return typeof n=="string"?OH(n):typeof n=="object"&&n?VT(n):typeof n=="number"?VT({[e||"milliseconds"]:n}):null}function OH(n){let e=MH.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function VT(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function PH(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function jH(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function LH(n){return tc(n)/365}function VH(n){return tc(n)/30}function tc(n){return Nh(n)/864e5}function Nh(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function zb(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function Sa(n,e,t){if(n===e)return!0;let i=n.length,s;if(i!==e.length)return!1;for(s=0;s<i;s+=1)if(!(t?t(n[s],e[s]):n[s]===e[s]))return!1;return!0}const UH=["sun","mon","tue","wed","thu","fri","sat"];function UT(n,e){let t=sa(n);return t[2]+=e*7,Wn(t)}function In(n,e){let t=sa(n);return t[2]+=e,Wn(t)}function wa(n,e){let t=sa(n);return t[6]+=e,Wn(t)}function zH(n,e){return Rc(n,e)/7}function Rc(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function BH(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function HH(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function FH(n,e){return(e.valueOf()-n.valueOf())/1e3}function qH(n,e){let t=_t(n),i=_t(e);return{years:0,months:0,days:Math.round(Rc(t,i)),milliseconds:e.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}function GH(n,e){let t=ap(n,e);return t!==null&&t%7===0?t/7:null}function ap(n,e){return ra(n)===ra(e)?Math.round(Rc(n,e)):null}function _t(n){return Wn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function WH(n){return Wn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function YH(n){return Wn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function $H(n){return Wn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function QH(n,e,t){let i=n.getUTCFullYear(),s=Lv(n,i,e,t);if(s<1)return Lv(n,i-1,e,t);let r=Lv(n,i+1,e,t);return r>=1?Math.min(s,r):s}function Lv(n,e,t,i){let s=Wn([e,0,1+KH(e,t,i)]),r=_t(n),o=Math.round(Rc(s,r));return Math.floor(o/7)+1}function KH(n,e,t){let i=7+e-t;return-((7+Wn([n,0,i]).getUTCDay()-e)%7)+i-1}function zT(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function BT(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function sa(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Wn(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function Rk(n){return!isNaN(n.valueOf())}function ra(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function XH(n,e,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",v0(e,!0)))),i}function y0(n){return n.toISOString().replace(/T.*$/,"")}function ZH(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function v0(n,e=!1){let t=n<0?"-":"+",i=Math.abs(n),s=Math.floor(i/60),r=Math.round(i%60);return e?`${t+Pv(s,2)}:${Pv(r,2)}`:`GMT${t}${s}${r?`:${Pv(r,2)}`:""}`}function Ze(n,e,t){let i,s;return function(...r){if(!i)s=n.apply(this,r);else if(!Sa(i,r)){let o=n.apply(this,r);(!e||!e(o,s))&&(s=o)}return i=r,s}}function Eg(n,e,t){let i,s;return r=>(i?ws(i,r)||(s=n.call(this,r)):s=n.call(this,r),i=r,s)}const Vv={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},op={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Uf=/\s*([ap])\.?m\.?/i,JH=/,/g,eF=/\s+/g,tF=/\u200e/g,nF=/UTC|GMT/;class iF{constructor(e){let t={},i={},s=9;for(let r in e)r in Vv?(i[r]=e[r],Vv[r]<9&&(s=Math.min(Vv[r],s))):(t[r]=e[r],r in op&&(s=Math.min(op[r],s)));this.standardDateProps=t,this.extendedSettings=i,this.smallestUnitNum=s,this.buildFormattingFunc=Ze(HT)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,i,s){let{standardDateProps:r,extendedSettings:o}=this,c=cF(e.marker,t.marker,i.calendarSystem);if(!c)return this.format(e,i);let h=c;h>1&&(r.year==="numeric"||r.year==="2-digit")&&(r.month==="numeric"||r.month==="2-digit")&&(r.day==="numeric"||r.day==="2-digit")&&(h=1);let d=this.format(e,i),g=this.format(t,i);if(d===g)return d;let y=uF(r,h),b=HT(y,o,i),_=b(e),w=b(t),x=hF(d,_,g,w),A=o.separator||s||i.defaultSeparator||"";return x?x.before+_+A+w+x.after:d+A+g}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function HT(n,e,t){let i=Object.keys(n).length;return i===1&&n.timeZoneName==="short"?s=>v0(s.timeZoneOffset):i===0&&e.week?s=>lF(t.computeWeekNumber(s.marker),t.weekText,t.weekTextLong,t.locale,e.week):sF(n,e,t)}function sF(n,e,t){n=Object.assign({},n),e=Object.assign({},e),rF(n,e),n.timeZone="UTC";let i=new Intl.DateTimeFormat(t.locale.codes,n),s;if(e.omitZeroMinute){let r=Object.assign({},n);delete r.minute,s=new Intl.DateTimeFormat(t.locale.codes,r)}return r=>{let{marker:o}=r,c;s&&!o.getUTCMinutes()?c=s:c=i;let h=c.format(o);return aF(h,r,n,e,t)}}function rF(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function aF(n,e,t,i,s){return n=n.replace(tF,""),t.timeZoneName==="short"&&(n=oF(n,s.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":v0(e.timeZoneOffset))),i.omitCommas&&(n=n.replace(JH,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),i.meridiem===!1?n=n.replace(Uf,"").trim():i.meridiem==="narrow"?n=n.replace(Uf,(r,o)=>o.toLocaleLowerCase()):i.meridiem==="short"?n=n.replace(Uf,(r,o)=>`${o.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(n=n.replace(Uf,r=>r.toLocaleLowerCase())),n=n.replace(eF," "),n=n.trim(),n}function oF(n,e){let t=!1;return n=n.replace(nF,()=>(t=!0,e)),t||(n+=` ${e}`),n}function lF(n,e,t,i,s){let r=[];return s==="long"?r.push(t):(s==="short"||s==="narrow")&&r.push(e),(s==="long"||s==="short")&&r.push(" "),r.push(i.simpleNumberFormat.format(n)),i.options.direction==="rtl"&&r.reverse(),r.join("")}function cF(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:ra(n)!==ra(e)?1:0}function uF(n,e){let t={};for(let i in n)(!(i in op)||op[i]<=e)&&(t[i]=n[i]);return t}function hF(n,e,t,i){let s=0;for(;s<n.length;){let r=n.indexOf(e,s);if(r===-1)break;let o=n.substr(0,r);s=r+e.length;let c=n.substr(s),h=0;for(;h<t.length;){let d=t.indexOf(i,h);if(d===-1)break;let g=t.substr(0,d);h=d+i.length;let y=t.substr(h);if(o===g&&c===y)return{before:o,after:c}}}return null}function FT(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function lp(n,e,t,i){let s=FT(n,t.calendarSystem),r=e?FT(e,t.calendarSystem):null;return{date:s,start:s,end:r,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}class dF{constructor(e){this.cmdStr=e}format(e,t,i){return t.cmdFormatter(this.cmdStr,lp(e,null,t,i))}formatRange(e,t,i,s){return i.cmdFormatter(this.cmdStr,lp(e,t,i,s))}}class fF{constructor(e){this.func=e}format(e,t,i){return this.func(lp(e,null,t,i))}formatRange(e,t,i,s){return this.func(lp(e,t,i,s))}}function un(n){return typeof n=="object"&&n?new iF(n):typeof n=="string"?new dF(n):typeof n=="function"?new fF(n):null}const qT={navLinkDayClick:ee,navLinkWeekClick:ee,duration:Xe,bootstrapFontAwesome:ee,buttonIcons:ee,customButtons:ee,defaultAllDayEventDuration:Xe,defaultTimedEventDuration:Xe,nextDayThreshold:Xe,scrollTime:Xe,scrollTimeReset:Boolean,slotMinTime:Xe,slotMaxTime:Xe,dayPopoverFormat:un,slotDuration:Xe,snapDuration:Xe,headerToolbar:ee,footerToolbar:ee,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:un,dayHeaderClassNames:ee,dayHeaderContent:ee,dayHeaderDidMount:ee,dayHeaderWillUnmount:ee,dayCellClassNames:ee,dayCellContent:ee,dayCellDidMount:ee,dayCellWillUnmount:ee,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:ee,weekNumbers:Boolean,weekNumberClassNames:ee,weekNumberContent:ee,weekNumberDidMount:ee,weekNumberWillUnmount:ee,editable:Boolean,viewClassNames:ee,viewDidMount:ee,viewWillUnmount:ee,nowIndicator:Boolean,nowIndicatorClassNames:ee,nowIndicatorContent:ee,nowIndicatorDidMount:ee,nowIndicatorWillUnmount:ee,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:ee,locale:ee,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:ee,eventOrder:RH,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:ee,contentHeight:ee,direction:String,weekNumberFormat:un,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:ee,initialDate:ee,now:ee,eventDataTransform:ee,stickyHeaderDates:ee,stickyFooterScrollbar:ee,viewHeight:ee,defaultAllDay:Boolean,eventSourceFailure:ee,eventSourceSuccess:ee,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:ee,eventConstraint:ee,eventAllow:ee,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:ee,eventContent:ee,eventDidMount:ee,eventWillUnmount:ee,selectConstraint:ee,selectOverlap:ee,selectAllow:ee,droppable:Boolean,unselectCancel:String,slotLabelFormat:ee,slotLaneClassNames:ee,slotLaneContent:ee,slotLaneDidMount:ee,slotLaneWillUnmount:ee,slotLabelClassNames:ee,slotLabelContent:ee,slotLabelDidMount:ee,slotLabelWillUnmount:ee,dayMaxEvents:ee,dayMaxEventRows:ee,dayMinWidth:Number,slotLabelInterval:Xe,allDayText:String,allDayClassNames:ee,allDayContent:ee,allDayDidMount:ee,allDayWillUnmount:ee,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:un,rerenderDelay:Number,moreLinkText:ee,moreLinkHint:ee,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:ee,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Xe,hiddenDays:ee,fixedWeekCount:Boolean,validRange:ee,visibleRange:ee,titleFormat:ee,eventInteractive:Boolean,noEventsText:String,viewHint:ee,navLinkHint:ee,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:ee,moreLinkClassNames:ee,moreLinkContent:ee,moreLinkDidMount:ee,moreLinkWillUnmount:ee,monthStartFormat:un,handleCustomRendering:ee,customRenderingMetaMap:ee,customRenderingReplaces:Boolean},gh={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},GT={datesSet:ee,eventsSet:ee,eventAdd:ee,eventChange:ee,eventRemove:ee,windowResize:ee,eventClick:ee,eventMouseEnter:ee,eventMouseLeave:ee,select:ee,unselect:ee,loading:ee,_unmount:ee,_beforeprint:ee,_afterprint:ee,_noEventDrop:ee,_noEventResize:ee,_resize:ee,_scrollRequest:ee},WT={buttonText:ee,buttonHints:ee,views:ee,plugins:ee,initialEvents:ee,events:ee,eventSources:ee},po={headerToolbar:mo,footerToolbar:mo,buttonText:mo,buttonHints:mo,buttonIcons:mo,dateIncrement:mo,plugins:zf,events:zf,eventSources:zf,resources:zf};function mo(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?ws(n,e):n===e}function zf(n,e){return Array.isArray(n)&&Array.isArray(e)?Sa(n,e):n===e}const gF={type:String,component:ee,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:ee,usesMinMaxTime:Boolean,classNames:ee,content:ee,didMount:ee,willUnmount:ee};function Uv(n){return _0(n,po)}function b0(n,e){let t={},i={};for(let s in e)s in n&&(t[s]=e[s](n[s]));for(let s in n)s in e||(i[s]=n[s]);return{refined:t,extra:i}}function ee(n){return n}const{hasOwnProperty:cp}=Object.prototype;function _0(n,e){let t={};if(e){for(let i in e)if(e[i]===mo){let s=[];for(let r=n.length-1;r>=0;r-=1){let o=n[r][i];if(typeof o=="object"&&o)s.unshift(o);else if(o!==void 0){t[i]=o;break}}s.length&&(t[i]=_0(s))}}for(let i=n.length-1;i>=0;i-=1){let s=n[i];for(let r in s)r in t||(t[r]=s[r])}return t}function Mo(n,e){let t={};for(let i in n)e(n[i],i)&&(t[i]=n[i]);return t}function Go(n,e){let t={};for(let i in n)t[i]=e(n[i],i);return t}function Ck(n){let e={};for(let t of n)e[t]=!0;return e}function E0(n){let e=[];for(let t in n)e.push(n[t]);return e}function ws(n,e){if(n===e)return!0;for(let t in n)if(cp.call(n,t)&&!(t in e))return!1;for(let t in e)if(cp.call(e,t)&&n[t]!==e[t])return!1;return!0}const pF=/^on[A-Z]/;function mF(n,e){const t=Bb(n,e);for(let i of t)if(!pF.test(i))return!1;return!0}function Bb(n,e){let t=[];for(let i in n)cp.call(n,i)&&(i in e||t.push(i));for(let i in e)cp.call(e,i)&&n[i]!==e[i]&&t.push(i);return t}function zv(n,e,t={}){if(n===e)return!0;for(let i in e)if(!(i in n&&yF(n[i],e[i],t[i])))return!1;for(let i in n)if(!(i in e))return!1;return!0}function yF(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function vF(n,e=0,t,i=1){let s=[];t==null&&(t=Object.keys(n).length);for(let r=e;r<t;r+=i){let o=n[r];o!==void 0&&s.push(o)}return s}let Dk={};function bF(n,e){Dk[n]=e}function _F(n){return new Dk[n]}class EF{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Wn(e)}markerToArray(e){return sa(e)}}bF("gregory",EF);const SF=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function wF(n){let e=SF.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(Rk(t)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}class AF{constructor(e){let t=this.timeZone=e.timeZone,i=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=_F(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Wn(zT(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Wn(e)),t===null||!Rk(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=wF(e);if(t===null)return null;let{marker:i}=t,s=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-t.timeZoneOffset*60*1e3):s=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:s}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(e,t){let i=this.calendarSystem.markerToArray(e);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,t){let{calendarSystem:i}=this;return ra(e)===ra(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)&&i.getMarkerMonth(e)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:i}=this;return ra(e)===ra(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(e)+(i.getMarkerYear(t)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let i=this.diffWholeYears(e,t);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,t),i!==null?{unit:"month",value:i}:(i=GH(e,t),i!==null?{unit:"week",value:i}:(i=ap(e,t),i!==null?{unit:"day",value:i}:(i=BH(e,t),jv(i)?{unit:"hour",value:i}:(i=HH(e,t),jv(i)?{unit:"minute",value:i}:(i=FH(e,t),jv(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,i){let s;return i.years&&(s=this.diffWholeYears(e,t),s!==null)?s/LH(i):i.months&&(s=this.diffWholeMonths(e,t),s!==null)?s/VH(i):i.days&&(s=ap(e,t),s!==null)?s/tc(i):(t.valueOf()-e.valueOf())/Nh(i)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?_t(e):t==="hour"?WH(e):t==="minute"?YH(e):t==="second"?$H(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):QH(e,this.weekDow,this.weekDoy)}format(e,t,i={}){return t.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,i,s={}){return s.isEndExclusive&&(t=wa(t,-1)),i.formatRange({marker:e,timeZoneOffset:s.forcedStartTzo!=null?s.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:s.forcedEndTzo!=null?s.forcedEndTzo:this.offsetForMarker(t)},this,s.defaultSeparator)}formatIso(e,t={}){let i=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?i=t.forcedTzo:i=this.offsetForMarker(e)),XH(e,i,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Wn(zT(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Wn(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-BT(sa(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(sa(e)):null}toDate(e,t){return this.timeZone==="local"?BT(sa(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(sa(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class nd{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,i;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(i in e)t[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let i;return t&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}nd.prototype.classes={};nd.prototype.iconClasses={};nd.prototype.baseIconClass="";nd.prototype.iconOverridePrefix="";function up(n){n();let e=xe.debounceRendering,t=[];function i(s){t.push(s)}for(xe.debounceRendering=i,kh(te(xF,{}),document.createElement("div"));t.length;)t.shift()();xe.debounceRendering=e}class xF extends ai{render(){return te("div",{})}componentDidMount(){this.setState({})}}function Ik(n){let e=X3(n),t=e.Provider;return e.Provider=function(){let i=!this.getChildContext,s=t.apply(this,arguments);if(i){let r=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&r.forEach(c=>{c.context=o.value,c.forceUpdate()})},this.sub=o=>{r.push(o);let c=o.componentWillUnmount;o.componentWillUnmount=()=>{r.splice(r.indexOf(o),1),c&&c.call(o)}}}return s},e}class TF{constructor(e,t,i,s){this.execFunc=e,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=s,this.handleScrollRequest=r=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},r),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Wo=Ik({});function RF(n,e,t,i,s,r,o,c,h,d,g,y,b,_){return{dateEnv:s,nowManager:r,options:t,pluginHooks:c,emitter:g,dispatch:h,getCurrentData:d,calendarApi:y,viewSpec:n,viewApi:e,dateProfileGenerator:i,theme:o,isRtl:t.direction==="rtl",addResizeHandler(w){g.on("_resize",w)},removeResizeHandler(w){g.off("_resize",w)},createScrollResponder(w){return new TF(w,g,Xe(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:b,unregisterInteractiveComponent:_}}class Yo extends ai{shouldComponentUpdate(e,t){return this.debug&&console.log(Bb(e,this.props),Bb(t,this.state)),!zv(this.props,e,this.propEquality)||!zv(this.state,t,this.stateEquality)}safeSetState(e){zv(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Yo.addPropsEquality=CF;Yo.addStateEquality=DF;Yo.contextType=Wo;Yo.prototype.propEquality={};Yo.prototype.stateEquality={};class Dt extends Yo{}Dt.contextType=Wo;function CF(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function DF(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function vr(n,e){typeof n=="function"?n(e):n&&(n.current=e)}class S0 extends Dt{constructor(){super(...arguments),this.id=qo(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:i}=this.props;(!t.customRenderingReplaces||!Hb(i,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&vr(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:i}=t,{customGenerator:s,defaultGenerator:r,renderProps:o}=e,c=kk(e,[],this.handleEl);let h=!1,d,g=[],y;if(s!=null){const b=typeof s=="function"?s(o,te):s;if(b===!0)h=!0;else{const _=b&&typeof b=="object";_&&"html"in b?c.dangerouslySetInnerHTML={__html:b.html}:_&&"domNodes"in b?g=Array.prototype.slice.call(b.domNodes):(_?tk(b):typeof b!="function")?d=b:y=b}}else h=!Hb(e.generatorName,i);return h&&r&&(d=r(o)),this.queuedDomNodes=g,this.currentGeneratorMeta=y,te(e.elTag,c,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:i,context:s}=this,{handleCustomRendering:r,customRenderingMetaMap:o}=s.options;if(r){const c=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:o==null?void 0:o[i.generatorName];c&&r(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:c},i),{elClasses:(i.elClasses||[]).filter(IF)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,i=this.base;if(!Sa(e,t)){t.forEach(g0);for(let s of e)i.appendChild(s);this.currentDomNodes=e}}}S0.addPropsEquality({elClasses:Sa,elStyle:ws,elAttrs:mF,renderProps:ws});function Hb(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function kk(n,e,t){const i=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(i.className=(n.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),n.elStyle&&(i.style=n.elStyle),i}function IF(n){return!!n}const Nk=Ik(0);class _r extends ai{constructor(){super(...arguments),this.InnerContent=kF.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(vr(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=NF(e.classNameGenerator,e.renderProps);if(e.children){const i=kk(e,t,this.handleEl),s=e.children(this.InnerContent,e.renderProps,i);return e.elTag?te(e.elTag,i,s):s}else return te(S0,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}_r.contextType=Nk;function kF(n,e){const t=n.props;return te(S0,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function NF(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}class YT extends Dt{render(){let{props:e,context:t}=this,{options:i}=t,s={view:t.viewApi};return te(_r,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...Mk(e.viewSpec),...e.elClasses||[]],renderProps:s,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>e.children)}}function Mk(n){return[`fc-${n.type}-view`,"fc-view"]}function MF(n,e){let t=null,i=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(i=e.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}function $T(n,e){let t=[],{start:i}=e,s,r;for(n.sort(OF),s=0;s<n.length;s+=1)r=n[s],r.start>i&&t.push({start:i,end:r.start}),r.end>i&&(i=r.end);return i<e.end&&t.push({start:i,end:e.end}),t}function OF(n,e){return n.start.valueOf()-e.start.valueOf()}function gc(n,e){let{start:t,end:i}=n,s=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(t===null||i===null||t<i)&&(s={start:t,end:i}),s}function PF(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function w0(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function tm(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function fa(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function jF(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function Ok(n){let e=Math.floor(Rc(n.start,n.end))||1,t=_t(n.start),i=In(t,e);return{start:t,end:i}}function Pk(n,e=Xe(0)){let t=null,i=null;if(n.end){i=_t(n.end);let s=n.end.valueOf()-i.valueOf();s&&s>=Nh(e)&&(i=In(i,1))}return n.start&&(t=_t(n.start),i&&i<=t&&(i=In(t,1))),{start:t,end:i}}function Kl(n,e,t,i){return i==="year"?Xe(t.diffWholeYears(n,e),"year"):i==="month"?Xe(t.diffWholeMonths(n,e),"month"):qH(n,e)}class jk{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,i){let{dateEnv:s}=this.props,r=s.subtract(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(r,-1,i)}buildNext(e,t,i){let{dateEnv:s}=this.props,r=s.add(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(r,1,i)}build(e,t,i=!0){let{props:s}=this,r,o,c,h,d,g;return r=this.buildValidRange(),r=this.trimHiddenDays(r),i&&(e=jF(e,r)),o=this.buildCurrentRangeInfo(e,t),c=/^(year|month|week|day)$/.test(o.unit),h=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,c),h=this.trimHiddenDays(h),d=h,s.showNonCurrentDates||(d=gc(d,o.range)),d=this.adjustActiveRange(d),d=gc(d,r),g=w0(o.range,r),fa(h,e)||(e=h.start),{currentDate:e,validRange:r,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:c,activeRange:d,renderRange:h,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:g,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:i}=this,s=null,r=null,o=null,c;return i.duration?(s=i.duration,r=i.durationUnit,o=this.buildRangeFromDuration(e,t,s,r)):(c=this.props.dayCount)?(r="day",o=this.buildRangeFromDayCount(e,t,c)):(o=this.buildCustomVisibleRange(e))?r=i.dateEnv.greatestWholeUnit(o.start,o.end).unit:(s=this.getFallbackDuration(),r=zb(s).unit,o=this.buildRangeFromDuration(e,t,s,r)),{duration:s,unit:r,range:o}}getFallbackDuration(){return Xe({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:s,slotMaxTime:r}=this.props,{start:o,end:c}=e;return i&&(tc(s)<0&&(o=_t(o),o=t.add(o,s)),tc(r)>1&&(c=_t(c),c=In(c,-1),c=t.add(c,r))),{start:o,end:c}}buildRangeFromDuration(e,t,i,s){let{dateEnv:r,dateAlignment:o}=this.props,c,h,d;if(!o){let{dateIncrement:y}=this.props;y&&Nh(y)<Nh(i)?o=zb(y).unit:o=s}tc(i)<=1&&this.isHiddenDay(c)&&(c=this.skipHiddenDays(c,t),c=_t(c));function g(){c=r.startOf(e,o),h=r.add(c,i),d={start:c,end:h}}return g(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,t),g()),d}buildRangeFromDayCount(e,t,i){let{dateEnv:s,dateAlignment:r}=this.props,o=0,c=e,h;r&&(c=s.startOf(c,r)),c=_t(c),c=this.skipHiddenDays(c,t),h=c;do h=In(h,1),this.isHiddenDay(h)||(o+=1);while(o<i);return{start:c,end:h}}buildCustomVisibleRange(e){let{props:t}=this,i=t.visibleRangeInput,s=typeof i=="function"?i.call(t.calendarApi,t.dateEnv.toDate(e)):i,r=this.refineRange(s);return r&&(r.start==null||r.end==null)?null:r}buildRenderRange(e,t,i){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,i;return t||((i=this.props.dateAlignment)?Xe(1,i):e||Xe({days:1}))}refineRange(e){if(e){let t=MF(e,this.props.dateEnv);return t&&(t=Pk(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],i=0,s;for(this.props.weekends===!1&&e.push(0,6),s=0;s<7;s+=1)(t[s]=e.indexOf(s)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:i}=e;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),t==null||i==null||t<i?{start:t,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?t:0)+7)%7];)e=In(e,t);return e}}function A0(n,e,t,i){return{instanceId:qo(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:i??null}}function LF(n,e,t,i){for(let s=0;s<i.length;s+=1){let r=i[s].parse(n,t);if(r){let{allDay:o}=n;return o==null&&(o=e,o==null&&(o=r.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:r.duration,typeData:r.typeData,typeId:s}}}return null}function Oo(n,e,t){let{dateEnv:i,pluginHooks:s,options:r}=t,{defs:o,instances:c}=n;c=Mo(c,h=>!o[h.defId].recurringDef);for(let h in o){let d=o[h];if(d.recurringDef){let{duration:g}=d.recurringDef;g||(g=d.allDay?r.defaultAllDayEventDuration:r.defaultTimedEventDuration);let y=VF(d,g,e,i,s.recurringTypes);for(let b of y){let _=A0(h,{start:b,end:i.add(b,g)});c[_.instanceId]=_}}}return{defs:o,instances:c}}function VF(n,e,t,i,s){let o=s[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,e),end:t.end},i);return n.allDay&&(o=o.map(_t)),o}const Sg={id:String,groupId:String,title:String,url:String,interactive:Boolean},Lk={start:ee,end:ee,date:ee,allDay:Boolean},UF=Object.assign(Object.assign(Object.assign({},Sg),Lk),{extendedProps:ee});function Vk(n,e,t,i,s=x0(t),r,o){let{refined:c,extra:h}=Uk(n,t,s),d=BF(e,t),g=LF(c,d,t.dateEnv,t.pluginHooks.recurringTypes);if(g){let b=Fb(c,h,e?e.sourceId:"",g.allDay,!!g.duration,t,r);return b.recurringDef={typeId:g.typeId,typeData:g.typeData,duration:g.duration},{def:b,instance:null}}let y=zF(c,d,t,i);if(y){let b=Fb(c,h,e?e.sourceId:"",y.allDay,y.hasEnd,t,r),_=A0(b.defId,y.range,y.forcedStartTzo,y.forcedEndTzo);return o&&b.publicId&&o[b.publicId]&&(_.instanceId=o[b.publicId]),{def:b,instance:_}}return null}function Uk(n,e,t=x0(e)){return b0(n,t)}function x0(n){return Object.assign(Object.assign(Object.assign({},hp),UF),n.pluginHooks.eventRefiners)}function Fb(n,e,t,i,s,r,o){let c={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(o&&n.id?o[n.id]:"")||qo(),sourceId:t,allDay:i,hasEnd:s,interactive:n.interactive,ui:dp(n,r),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let h of r.pluginHooks.eventDefMemberAdders)Object.assign(c,h(n));return Object.freeze(c.ui.classNames),Object.freeze(c.extendedProps),c}function zF(n,e,t,i){let{allDay:s}=n,r,o=null,c=!1,h,d=null,g=n.start!=null?n.start:n.date;if(r=t.dateEnv.createMarkerMeta(g),r)o=r.marker;else if(!i)return null;return n.end!=null&&(h=t.dateEnv.createMarkerMeta(n.end)),s==null&&(e!=null?s=e:s=(!r||r.isTimeUnspecified)&&(!h||h.isTimeUnspecified)),s&&o&&(o=_t(o)),h&&(d=h.marker,s&&(d=_t(d)),o&&d<=o&&(d=null)),d?c=!0:i||(c=t.options.forceEventDuration||!1,d=t.dateEnv.add(o,s?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:s,hasEnd:c,range:{start:o,end:d},forcedStartTzo:r?r.forcedTzo:null,forcedEndTzo:h?h.forcedTzo:null}}function BF(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function Mh(n,e,t,i,s,r){let o=Li(),c=x0(t);for(let h of n){let d=Vk(h,e,t,i,c,s,r);d&&qb(d,o)}return o}function qb(n,e=Li()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function T0(n,e){let t=n.instances[e];if(t){let i=n.defs[t.defId],s=nm(n,r=>HF(i,r));return s.defs[i.defId]=i,s.instances[t.instanceId]=t,s}return Li()}function HF(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function Li(){return{defs:{},instances:{}}}function R0(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function nm(n,e){let t=Mo(n.defs,e),i=Mo(n.instances,s=>t[s.defId]);return{defs:t,instances:i}}function FF(n,e){let{defs:t,instances:i}=n,s={},r={};for(let o in t)e.defs[o]||(s[o]=t[o]);for(let o in i)!e.instances[o]&&s[i[o].defId]&&(r[o]=i[o]);return{defs:s,instances:r}}function qF(n,e){return Array.isArray(n)?Mh(n,null,e,!0):typeof n=="object"&&n?Mh([n],null,e,!0):n!=null?String(n):null}function QT(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}const hp={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:ee,overlap:ee,allow:ee,className:QT,classNames:QT,color:String,backgroundColor:String,borderColor:String,textColor:String},GF={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function dp(n,e){let t=qF(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function WF(n){return n.reduce(YF,GF)}function YF(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const $F={id:String,defaultAllDay:Boolean,url:String,format:String,events:ee,eventDataTransform:ee,success:ee,failure:ee};function zk(n,e,t=Bk(e)){let i;if(typeof n=="string"?i={url:n}:typeof n=="function"||Array.isArray(n)?i={events:n}:typeof n=="object"&&n&&(i=n),i){let{refined:s,extra:r}=b0(i,t),o=QF(s,e);if(o)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:qo(),sourceDefId:o.sourceDefId,meta:o.meta,ui:dp(s,e),extendedProps:r}}return null}function Bk(n){return Object.assign(Object.assign(Object.assign({},hp),$F),n.pluginHooks.eventSourceRefiners)}function QF(n,e){let t=e.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let r=t[i].parseMeta(n);if(r)return{sourceDefId:i,meta:r}}return null}function KF(n,e,t,i,s){switch(e.type){case"RECEIVE_EVENTS":return XF(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,s);case"RESET_RAW_EVENTS":return ZF(n,t[e.sourceId],e.rawEvents,i.activeRange,s);case"ADD_EVENTS":return JF(n,e.eventStore,i?i.activeRange:null,s);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return R0(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?Oo(n,i.activeRange,s):n;case"REMOVE_EVENTS":return FF(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return Fk(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return nm(n,r=>!r.sourceId);case"REMOVE_ALL_EVENTS":return Li();default:return n}}function XF(n,e,t,i,s,r){if(e&&t===e.latestFetchId){let o=Mh(Hk(s,e,r),e,r);return i&&(o=Oo(o,i,r)),R0(Fk(n,e.sourceId),o)}return n}function ZF(n,e,t,i,s){const{defIdMap:r,instanceIdMap:o}=t5(n);let c=Mh(Hk(t,e,s),e,s,!1,r,o);return Oo(c,i,s)}function Hk(n,e,t){let i=t.options.eventDataTransform,s=e?e.eventDataTransform:null;return s&&(n=KT(n,s)),i&&(n=KT(n,i)),n}function KT(n,e){let t;if(!e)t=n;else{t=[];for(let i of n){let s=e(i);s?t.push(s):s==null&&t.push(i)}}return t}function JF(n,e,t,i){return t&&(e=Oo(e,t,i)),R0(n,e)}function XT(n,e,t){let{defs:i}=n,s=Go(n.instances,r=>i[r.defId].allDay?r:Object.assign(Object.assign({},r),{range:{start:t.createMarker(e.toDate(r.range.start,r.forcedStartTzo)),end:t.createMarker(e.toDate(r.range.end,r.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:r.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:r.forcedEndTzo}));return{defs:i,instances:s}}function Fk(n,e){return nm(n,t=>t.sourceId!==e)}function e5(n,e){return{defs:n.defs,instances:Mo(n.instances,t=>!e[t.instanceId])}}function t5(n){const{defs:e,instances:t}=n,i={},s={};for(let r in e){const o=e[r],{publicId:c}=o;c&&(i[c]=r)}for(let r in t){const o=t[r],c=e[o.defId],{publicId:h}=c;h&&(s[h]=r)}return{defIdMap:i,instanceIdMap:s}}class im{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){n5(this.handlers,e,t)}off(e,t){i5(this.handlers,e,t)}trigger(e,...t){let i=this.handlers[e]||[],s=this.options&&this.options[e],r=[].concat(s||[],i);for(let o of r)o.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function n5(n,e,t){(n[e]||(n[e]=[])).push(t)}function i5(n,e,t){t?n[e]&&(n[e]=n[e].filter(i=>i!==t)):delete n[e]}const s5={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function r5(n,e){return Mh(a5(n),null,e)}function a5(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},s5),t)),e}function qk(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},C0(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function o5(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function C0(n,e){let t={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,e));return Object.assign(t,S5(n,e.dateEnv)),t}function ZT(n,e,t){let{dateEnv:i,options:s}=t,r=e;return n?(r=_t(r),r=i.add(r,s.defaultAllDayEventDuration)):r=i.add(r,s.defaultTimedEventDuration),r}function D0(n,e,t,i){let s=fp(n.defs,e),r=Li();for(let o in n.defs){let c=n.defs[o];r.defs[o]=l5(c,s[o],t,i)}for(let o in n.instances){let c=n.instances[o],h=r.defs[c.defId];r.instances[o]=c5(c,h,s[c.defId],t,i)}return r}function l5(n,e,t,i){let s=t.standardProps||{};s.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(s.hasEnd=!0);let r=Object.assign(Object.assign(Object.assign({},n),s),{ui:Object.assign(Object.assign({},n.ui),s.ui)});t.extendedProps&&(r.extendedProps=Object.assign(Object.assign({},r.extendedProps),t.extendedProps));for(let o of i.pluginHooks.eventDefMutationAppliers)o(r,t,i);return!r.hasEnd&&i.options.forceEventDuration&&(r.hasEnd=!0),r}function c5(n,e,t,i,s){let{dateEnv:r}=s,o=i.standardProps&&i.standardProps.allDay===!0,c=i.standardProps&&i.standardProps.hasEnd===!1,h=Object.assign({},n);return o&&(h.range=Ok(h.range)),i.datesDelta&&t.startEditable&&(h.range={start:r.add(h.range.start,i.datesDelta),end:r.add(h.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(h.range={start:r.add(h.range.start,i.startDelta),end:h.range.end}),i.endDelta&&t.durationEditable&&(h.range={start:h.range.start,end:r.add(h.range.end,i.endDelta)}),c&&(h.range={start:h.range.start,end:ZT(e.allDay,h.range.start,s)}),e.allDay&&(h.range={start:_t(h.range.start),end:_t(h.range.end)}),h.range.end<h.range.start&&(h.range.end=ZT(e.allDay,h.range.start,s)),h}class $l{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Et{constructor(e,t,i){this._context=e,this._def=t,this._instance=i||null}setProp(e,t){if(e in Lk)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=Sg[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Sg)t=Sg[e](t),this.mutate({standardProps:{[e]:t}});else if(e in hp){let i=hp[e](t);e==="color"?i={backgroundColor:t,borderColor:t}:e==="editable"?i={startEditable:t,durationEditable:t}:i={[e]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:i}=this._context,s=i.createMarker(e);if(s&&this._instance){let r=this._instance.range,o=Kl(r.start,s,i,t.granularity);t.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,t={}){let{dateEnv:i}=this._context,s;if(!(e!=null&&(s=i.createMarker(e),!s))&&this._instance)if(s){let r=Kl(this._instance.range.end,s,i,t.granularity);this.mutate({endDelta:r})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,i={}){let{dateEnv:s}=this._context,r={allDay:i.allDay},o=s.createMarker(e),c;if(o&&!(t!=null&&(c=s.createMarker(t),!c))&&this._instance){let h=this._instance.range;i.allDay===!0&&(h=Ok(h));let d=Kl(h.start,o,s,i.granularity);if(c){let g=Kl(h.end,c,s,i.granularity);PH(d,g)?this.mutate({datesDelta:d,standardProps:r}):this.mutate({startDelta:d,endDelta:g,standardProps:r})}else r.hasEnd=!1,this.mutate({datesDelta:d,standardProps:r})}}moveStart(e){let t=Xe(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=Xe(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=Xe(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let i={allDay:e},{maintainDuration:s}=t;s==null&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=s),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:t}=this._context,i=this._instance,s=un(e);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,s,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,s,{forcedTzo:i.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let i=this._def,s=this._context,{eventStore:r}=s.getCurrentData(),o=T0(r,t.instanceId);o=D0(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,s);let h=new Et(s,i,t);this._def=o.defs[i.defId],this._instance=o.instances[t.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:o}),s.emitter.trigger("eventChange",{oldEvent:h,event:this,relatedEvents:Ao(o,s,t),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:r})}})}}remove(){let e=this._context,t=Gk(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new $l(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:i}=t,{startStr:s,endStr:r}=this,o={allDay:t.allDay};return t.title&&(o.title=t.title),s&&(o.start=s),r&&(o.end=r),t.publicId&&(o.id=t.publicId),t.groupId&&(o.groupId=t.groupId),t.url&&(o.url=t.url),i.display&&i.display!=="auto"&&(o.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?o.color=i.backgroundColor:(i.backgroundColor&&(o.backgroundColor=i.backgroundColor),i.borderColor&&(o.borderColor=i.borderColor)),i.textColor&&(o.textColor=i.textColor),i.classNames.length&&(o.classNames=i.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,t.extendedProps):o.extendedProps=t.extendedProps),o}toJSON(){return this.toPlainObject()}}function Gk(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function Ao(n,e,t){let{defs:i,instances:s}=n,r=[],o=t?t.instanceId:"";for(let c in s){let h=s[c],d=i[h.defId];h.instanceId!==o&&r.push(new Et(e,d,h))}return r}function JT(n,e,t,i){let s={},r={},o={},c=[],h=[],d=fp(n.defs,e);for(let g in n.defs){let y=n.defs[g];d[y.defId].display==="inverse-background"&&(y.groupId?(s[y.groupId]=[],o[y.groupId]||(o[y.groupId]=y)):r[g]=[])}for(let g in n.instances){let y=n.instances[g],b=n.defs[y.defId],_=d[b.defId],w=y.range,x=!b.allDay&&i?Pk(w,i):w,A=gc(x,t);A&&(_.display==="inverse-background"?b.groupId?s[b.groupId].push(A):r[y.defId].push(A):_.display!=="none"&&(_.display==="background"?c:h).push({def:b,ui:_,instance:y,range:A,isStart:x.start&&x.start.valueOf()===A.start.valueOf(),isEnd:x.end&&x.end.valueOf()===A.end.valueOf()}))}for(let g in s){let y=s[g],b=$T(y,t);for(let _ of b){let w=o[g],x=d[w.defId];c.push({def:w,ui:x,instance:null,range:_,isStart:!1,isEnd:!1})}}for(let g in r){let y=r[g],b=$T(y,t);for(let _ of b)c.push({def:n.defs[g],ui:d[g],instance:null,range:_,isStart:!1,isEnd:!1})}return{bg:c,fg:h}}function eR(n,e){n.fcSeg=e}function pc(n){return n.fcSeg||n.parentNode.fcSeg||null}function fp(n,e){return Go(n,t=>Wk(t,e))}function Wk(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),WF(t)}function u5(n,e){let t=n.map(h5);return t.sort((i,s)=>CH(i,s,e)),t.map(i=>i._seg)}function h5(n){let{eventRange:e}=n,t=e.def,i=e.instance?e.instance.range:e.range,s=i.start?i.start.valueOf():0,r=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:s,end:r,duration:r-s,allDay:Number(t.allDay),_seg:n})}function d5(n,e){let{pluginHooks:t}=e,i=t.isDraggableTransformers,{def:s,ui:r}=n.eventRange,o=r.startEditable;for(let c of i)o=c(o,s,r,e);return o}function f5(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function g5(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function Yk(n,e,t,i,s,r,o){let{dateEnv:c,options:h}=t,{displayEventTime:d,displayEventEnd:g}=h,y=n.eventRange.def,b=n.eventRange.instance;d==null&&(d=i!==!1),g==null&&(g=s!==!1);let _=b.range.start,w=b.range.end,x=n.start||n.eventRange.range.start,A=n.end||n.eventRange.range.end,D=_t(_).valueOf()===_t(x).valueOf(),O=_t(wa(w,-1)).valueOf()===_t(wa(A,-1)).valueOf();return d&&!y.allDay&&(D||O)?(x=D?_:x,A=O?w:A,g&&y.hasEnd?c.formatRange(x,A,e,{forcedStartTzo:b.forcedStartTzo,forcedEndTzo:b.forcedEndTzo}):c.format(x,e,{forcedTzo:b.forcedStartTzo})):""}function ph(n,e,t){let i=n.eventRange.range;return{isPast:i.end<=e.start,isFuture:i.start>=e.end,isToday:e&&fa(e,i.start)}}function p5(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function m5(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function $k(n,e){let{def:t,instance:i}=n.eventRange,{url:s}=t;if(s)return{href:s};let{emitter:r,options:o}=e,{eventInteractive:c}=o;return c==null&&(c=t.interactive,c==null&&(c=!!r.hasHandlers("eventClick"))),c?Tk(h=>{r.trigger("eventClick",{el:h.target,event:new Et(e,t,i),jsEvent:h,view:e.viewApi})}):{}}const y5={start:ee,end:ee,allDay:Boolean};function v5(n,e,t){let i=b5(n,e),{range:s}=i;if(!s.start)return null;if(!s.end){if(t==null)return null;s.end=e.add(s.start,t)}return i}function b5(n,e){let{refined:t,extra:i}=b0(n,y5),s=t.start?e.createMarkerMeta(t.start):null,r=t.end?e.createMarkerMeta(t.end):null,{allDay:o}=t;return o==null&&(o=s&&s.isTimeUnspecified&&(!r||r.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:r?r.marker:null},allDay:o},i)}function _5(n,e){return PF(n.range,e.range)&&n.allDay===e.allDay&&E5(n,e)}function E5(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function S5(n,e){return Object.assign(Object.assign({},Kk(n.range,e,n.allDay)),{allDay:n.allDay})}function Qk(n,e,t){return Object.assign(Object.assign({},Kk(n,e,t)),{timeZone:e.timeZone})}function Kk(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function w5(n,e,t){let i=Uk({editable:!1},t),s=Fb(i.refined,i.extra,"",n.allDay,!0,t);return{def:s,ui:Wk(s,e),instance:A0(s.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function A5(n,e,t){let i=!1,s=function(c){i||(i=!0,e(c))},r=function(c){i||(i=!0,t(c))},o=n(s,r);o&&typeof o.then=="function"&&o.then(s,r)}class tR extends Error{constructor(e,t){super(e),this.response=t}}function x5(n,e,t){n=n.toUpperCase();const i={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(s=>{if(s.ok)return s.json().then(r=>[r,s],()=>{throw new tR("Failure parsing JSON",s)});throw new tR("Request failed",s)})}let Bv;function Xk(){return Bv==null&&(Bv=T5()),Bv}function T5(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}class R5 extends Dt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{up(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{up(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:i}=this.state,s=i||t.height==="auto"||t.contentHeight==="auto",r=!s&&t.height!=null?t.height:"",o=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return Xk()||o.push("fc-liquid-hack"),e.children(o,r,s,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let Cc=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function C5(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function I0(n){return{[n.component.uid]:n}}const Gb={};class sm extends ai{constructor(e,t){super(e,t),this.handleRefresh=()=>{let i=this.computeTiming();i.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(i.state),this.clearTimeout(),this.setTimeout(i.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:t}=this,i=t.nowManager.getDateMarker(),s=t.dateEnv.startOf(i,e.unit),o=t.dateEnv.add(s,Xe(1,e.unit)).valueOf()-i.valueOf();return o=Math.min(1e3*60*60*24,o),{state:{nowDate:s,todayRange:D5(s)},waitMs:o}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const t=this.computeTiming();this.setState(t.state,()=>{this.setTimeout(t.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}sm.contextType=Wo;function D5(n){let e=_t(n),t=In(e,1);return{start:e,end:t}}class I5{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let i=this.getCurrentData(),s;t=t||"day",s=i.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),s?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),s=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),r,o;for(let c in t)s.push(c);for(r=0;r<s.length;r+=1)if(o=t[s[r]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),i=Xe(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),un(t))}formatRange(e,t,i){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(e),s.createMarker(t),un(i),i)}formatIso(e,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:t})}select(e,t){let i;t==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:t};let s=this.getCurrentData(),r=v5(i,s.dateEnv,Xe({days:1}));r&&(this.dispatch({type:"SELECT_DATES",selection:r}),qk(r,null,s))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),o5(e,t))}addEvent(e,t){if(e instanceof Et){let o=e._def,c=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:qb({def:o,instance:c})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),s;if(t instanceof $l)s=t.internalEventSource;else if(typeof t=="boolean")t&&([s]=E0(i.eventSources));else if(t!=null){let o=this.getEventSourceById(t);if(!o)return console.warn(`Could not find an event source with ID "${t}"`),null;s=o.internalEventSource}let r=Vk(e,s,i,!1);if(r){let o=new Et(i,r.def,r.def.recurringDef?null:r.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:qb(r)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Gk(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:i,instances:s}=t.eventStore;e=String(e);for(let r in i){let o=i[r];if(o.publicId===e){if(o.recurringDef)return new Et(t,o,null);for(let c in s){let h=s[c];if(h.defId===o.defId)return new Et(t,o,h)}}}return null}getEvents(){let e=this.getCurrentData();return Ao(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,i=[];for(let s in t)i.push(new $l(e,t[s]));return i}getEventSourceById(e){let t=this.getCurrentData(),i=t.eventSources;e=String(e);for(let s in i)if(i[s].publicId===e)return new $l(t,i[s]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof $l)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=zk(e,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new $l(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=Xe(e);t&&this.trigger("_scrollRequest",{time:t})}}function k5(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function Zk(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function N5(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function M5(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function O5(n,e){return{left:n.left-e.left,top:n.top-e.top}}function Jk(n,e,t,i){return{dow:n.getUTCDay(),isDisabled:!!(i&&(!i.activeRange||!fa(i.activeRange,n))),isOther:!!(i&&!fa(i.currentRange,n)),isToday:!!(e&&fa(e,n)),isPast:!!(e&&n<e.start),isFuture:!!(e&&n>=e.end)}}function k0(n,e){let t=["fc-day",`fc-day-${UH[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const P5=un({year:"numeric",month:"long",day:"numeric"}),j5=un({week:"long"});function Wb(n,e,t="day",i=!0){const{dateEnv:s,options:r,calendarApi:o}=n;let c=s.format(e,t==="week"?j5:P5);if(r.navLinks){let h=s.toDate(e);const d=g=>{let y=t==="day"?r.navLinkDayClick:t==="week"?r.navLinkWeekClick:null;typeof y=="function"?y.call(o,s.toDate(e),g):(typeof y=="string"&&(t=y),o.zoomTo(e,t))};return Object.assign({title:fh(r.navLinkHint,[c,h],c),"data-navlink":""},i?xk(d):{onClick:d})}return{"aria-label":c}}let Hv=null;function L5(){return Hv===null&&(Hv=V5()),Hv}function V5(){let n=document.createElement("div");dh(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return g0(n),t}let Fv;function U5(){return Fv||(Fv=z5()),Fv}function z5(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=eN(n);return document.body.removeChild(n),e}function eN(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function B5(n,e=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,s=parseInt(t.borderRightWidth,10)||0,r=parseInt(t.borderTopWidth,10)||0,o=parseInt(t.borderBottomWidth,10)||0,c=eN(n),h=c.y-i-s,d=c.x-r-o,g={borderLeft:i,borderRight:s,borderTop:r,borderBottom:o,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return L5()&&t.direction==="rtl"?g.scrollbarLeft=h:g.scrollbarRight=h,e&&(g.paddingLeft=parseInt(t.paddingLeft,10)||0,g.paddingRight=parseInt(t.paddingRight,10)||0,g.paddingTop=parseInt(t.paddingTop,10)||0,g.paddingBottom=parseInt(t.paddingBottom,10)||0),g}function H5(n,e=!1,t){let i=N0(n),s=B5(n,e),r={left:i.left+s.borderLeft+s.scrollbarLeft,right:i.right-s.borderRight-s.scrollbarRight,top:i.top+s.borderTop,bottom:i.bottom-s.borderBottom-s.scrollbarBottom};return e&&(r.left+=s.paddingLeft,r.right-=s.paddingRight,r.top+=s.paddingTop,r.bottom-=s.paddingBottom),r}function N0(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function F5(n){let e=tN(n),t=n.getBoundingClientRect();for(let i of e){let s=Zk(t,i.getBoundingClientRect());if(s)t=s;else return null}return t}function tN(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}class gp{constructor(e,t,i,s){this.els=t;let r=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(r.left),s&&this.buildElVerticals(r.top)}buildElHorizontals(e){let t=[],i=[];for(let s of this.els){let r=s.getBoundingClientRect();t.push(r.left-e),i.push(r.right-e)}this.lefts=t,this.rights=i}buildElVerticals(e){let t=[],i=[];for(let s of this.els){let r=s.getBoundingClientRect();t.push(r.top-e),i.push(r.bottom-e)}this.tops=t,this.bottoms=i}leftToIndex(e){let{lefts:t,rights:i}=this,s=t.length,r;for(r=0;r<s;r+=1)if(e>=t[r]&&e<i[r])return r}topToIndex(e){let{tops:t,bottoms:i}=this,s=t.length,r;for(r=0;r<s;r+=1)if(e>=t[r]&&e<i[r])return r}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Bf(this.tops||[],e.tops||[])&&Bf(this.bottoms||[],e.bottoms||[])&&Bf(this.lefts||[],e.lefts||[])&&Bf(this.rights||[],e.rights||[])}}function Bf(n,e){const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(e[i]))return!1;return!0}class M0{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class q5 extends M0{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class G5 extends M0{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class $o extends Dt{constructor(){super(...arguments),this.uid=qo()}prepareHits(){}queryHit(e,t,i,s){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Rn(e,".fc-event-mirror")}isValidDateDownEl(e){return!Rn(e,".fc-event:not(.fc-bg-event)")&&!Rn(e,".fc-more-link")&&!Rn(e,"a[data-navlink]")&&!Rn(e,".fc-popover")}}class W5{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let i of e)this.insertEntry(i,t);return t}insertEntry(e,t){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,i){if(this.allowReslicing&&e.touchingEntry){const s=Object.assign(Object.assign({},t),{span:nN(t.span,e.touchingEntry.span)});i.push(s),this.splitEntry(t,e.touchingEntry,i)}else i.push(t)}splitEntry(e,t,i){let s=e.span,r=t.span;s.start<r.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:r.start}},i),s.end>r.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.end,end:s.end}},i)}insertEntryAt(e,t){let{entriesByLevel:i,levelCoords:s}=this;t.lateral===-1?(qv(s,t.level,t.levelCoord),qv(i,t.level,[e])):qv(i[t.level],t.lateral,e),this.stackCnts[mh(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:i,strictOrder:s,stackCnts:r}=this,o=t.length,c=0,h=-1,d=-1,g=null,y=0;for(let w=0;w<o;w+=1){const x=t[w];if(!s&&x>=c+this.getEntryThickness(e))break;let A=i[w],D,O=iR(A,e.span.start,nR),j=O[0]+O[1];for(;(D=A[j])&&D.span.start<e.span.end;){let H=x+this.getEntryThickness(D);H>c&&(c=H,g=D,h=w,d=j),H===c&&(y=Math.max(y,r[mh(D)]+1)),j+=1}}let b=0;if(g)for(b=h+1;b<o&&t[b]<c;)b+=1;let _=-1;return b<o&&t[b]===c&&(_=iR(i[b],e.span.end,nR)[0]),{touchingLevel:h,touchingLateral:d,touchingEntry:g,stackCnt:y,levelCoord:c,level:b,lateral:_}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,i=e.length,s=[];for(let r=0;r<i;r+=1){let o=e[r],c=t[r];for(let h of o)s.push(Object.assign(Object.assign({},h),{thickness:this.getEntryThickness(h),levelCoord:c}))}return s}}function nR(n){return n.span.end}function mh(n){return n.index+":"+n.span.start}function nN(n,e){let t=Math.max(n.start,e.start),i=Math.min(n.end,e.end);return t<i?{start:t,end:i}:null}function qv(n,e,t){n.splice(e,0,t)}function iR(n,e,t){let i=0,s=n.length;if(!s||e<t(n[i]))return[0,0];if(e>t(n[s-1]))return[s,0];for(;i<s;){let r=Math.floor(i+(s-i)/2),o=t(n[r]);if(e<o)s=r;else if(e>o)i=r+1;else return[r,1]}return[i,0]}class Y5{constructor(e,t){this.emitter=new im}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const O0={};function $5(n,e){return!n||e>10?un({weekday:"short"}):e>1?un({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):un({weekday:"long"})}const iN="fc-col-header-cell";function sN(n){return n.text}class Q5 extends Dt{render(){let{dateEnv:e,options:t,theme:i,viewApi:s}=this.context,{props:r}=this,{date:o,dateProfile:c}=r,h=Jk(o,r.todayRange,null,c),d=[iN].concat(k0(h,i)),g=e.format(o,r.dayHeaderFormat),y=!h.isDisabled&&r.colCnt>1?Wb(this.context,o):{},b=e.toDate(o);e.namedTimeZoneImpl&&(b=wa(b,36e5));let _=Object.assign(Object.assign(Object.assign({date:b,view:s},r.extraRenderProps),{text:g}),h);return te(_r,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:r.colSpan,"data-date":h.isDisabled?void 0:y0(o)},r.extraDataAttrs),renderProps:_,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:sN,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},w=>te("div",{className:"fc-scrollgrid-sync-inner"},!h.isDisabled&&te(w,{elTag:"a",elAttrs:y,elClasses:["fc-col-header-cell-cushion",r.isSticky&&"fc-sticky"]})))}}const K5=un({weekday:"long"});class X5 extends Dt{render(){let{props:e}=this,{dateEnv:t,theme:i,viewApi:s,options:r}=this.context,o=In(new Date(2592e5),e.dow),c={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},h=t.format(o,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:o},c),{view:s}),e.extraRenderProps),{text:h});return te(_r,{elTag:"th",elClasses:[iN,...k0(c,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:sN,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},g=>te("div",{className:"fc-scrollgrid-sync-inner"},te(g,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(o,K5)}})))}}class Z5 extends Dt{constructor(){super(...arguments),this.createDayHeaderFormatter=Ze(J5)}render(){let{context:e}=this,{dates:t,dateProfile:i,datesRepDistinctDays:s,renderIntro:r}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,s,t.length);return te(sm,{unit:"day"},(c,h)=>te("tr",{role:"row"},r&&r("day"),t.map(d=>s?te(Q5,{key:d.toISOString(),date:d,dateProfile:i,todayRange:h,colCnt:t.length,dayHeaderFormat:o}):te(X5,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:o}))))}}function J5(n,e,t){return n||$5(e,t)}class e9{constructor(e,t){let i=e.start,{end:s}=e,r=[],o=[],c=-1;for(;i<s;)t.isHiddenDay(i)?r.push(c+.5):(c+=1,r.push(c),o.push(i)),i=In(i,1);this.dates=o,this.indices=r,this.cnt=o.length}sliceRange(e){let t=this.getDateDayIndex(e.start),i=this.getDateDayIndex(In(e.end,-1)),s=Math.max(0,t),r=Math.min(this.cnt-1,i);return s=Math.ceil(s),r=Math.floor(r),s<=r?{firstIndex:s,lastIndex:r,isStart:t===s,isEnd:i===r}:null}getDateDayIndex(e){let{indices:t}=this,i=Math.floor(Rc(this.dates[0],e));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}}class t9{constructor(e,t){let{dates:i}=e,s,r,o;if(t){for(r=i[0].getUTCDay(),s=1;s<i.length&&i[s].getUTCDay()!==r;s+=1);o=Math.ceil(i.length/s)}else o=1,s=i.length;this.rowCnt=o,this.colCnt=s,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let s=0;s<this.colCnt;s+=1)i.push(this.buildCell(t,s));e.push(i)}return e}buildCell(e,t){let i=this.daySeries.dates[e*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,i=this.daySeries.sliceRange(e),s=[];if(i){let{firstIndex:r,lastIndex:o}=i,c=r;for(;c<=o;){let h=Math.floor(c/t),d=Math.min((h+1)*t,o+1);s.push({row:h,firstCol:c%t,lastCol:(d-1)%t,isStart:i.isStart&&c===r,isEnd:i.isEnd&&d-1===o}),c=d}}return s}}class n9{constructor(){this.sliceBusinessHours=Ze(this._sliceBusinessHours),this.sliceDateSelection=Ze(this._sliceDateSpan),this.sliceEventStore=Ze(this._sliceEventStore),this.sliceEventDrag=Ze(this._sliceInteraction),this.sliceEventResize=Ze(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,i,s,...r){let{eventUiBases:o}=e,c=this.sliceEventStore(e.eventStore,o,t,i,...r);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,i,o,s,...r),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,i,s,...r),fgEventSegs:c.fg,bgEventSegs:c.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,t,i,...r),eventResize:this.sliceEventResize(e.eventResize,o,t,i,...r),eventSelection:e.eventSelection}}sliceNowDate(e,t,i,s,...r){return this._sliceDateSpan({range:{start:e,end:wa(e,1)},allDay:!1},t,i,{},s,...r)}_sliceBusinessHours(e,t,i,s,...r){return e?this._sliceEventStore(Oo(e,Hf(t,!!i),s),{},t,i,...r).bg:[]}_sliceEventStore(e,t,i,s,...r){if(e){let o=JT(e,t,Hf(i,!!s),s);return{bg:this.sliceEventRanges(o.bg,r),fg:this.sliceEventRanges(o.fg,r)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,i,s,...r){if(!e)return null;let o=JT(e.mutatedEvents,t,Hf(i,!!s),s);return{segs:this.sliceEventRanges(o.fg,r),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,i,s,r,...o){if(!e)return[];let c=Hf(t,!!i),h=gc(e.range,c);if(h){e=Object.assign(Object.assign({},e),{range:h});let d=w5(e,s,r),g=this.sliceRange(e.range,...o);for(let y of g)y.eventRange=d;return g}return[]}sliceEventRanges(e,t){let i=[];for(let s of e)i.push(...this.sliceEventRange(s,t));return i}sliceEventRange(e,t){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:In(i.start,1)});let s=this.sliceRange(i,...t);for(let r of s)r.eventRange=e,r.isStart=e.isStart&&r.isStart,r.isEnd=e.isEnd&&r.isEnd;return s}}function Hf(n,e){let t=n.activeRange;return e?t:{start:wa(t.start,n.slotMinTime.milliseconds),end:wa(t.end,n.slotMaxTime.milliseconds-864e5)}}function rN(n,e,t){let{instances:i}=n.mutatedEvents;for(let s in i)if(!tm(e.validRange,i[s].range))return!1;return aN({eventDrag:n},t)}function i9(n,e,t){return tm(e.validRange,n.range)?aN({dateSelection:n},t):!1}function aN(n,e){let t=e.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||s9)(i,e)}function s9(n,e,t={},i){return!(n.eventDrag&&!r9(n,e,t,i)||n.dateSelection&&!a9(n,e,t,i))}function r9(n,e,t,i){let s=e.getCurrentData(),r=n.eventDrag,o=r.mutatedEvents,c=o.defs,h=o.instances,d=fp(c,r.isEvent?n.eventUiBases:{"":s.selectionConfig});i&&(d=Go(d,i));let g=e5(n.eventStore,r.affectedEvents.instances),y=g.defs,b=g.instances,_=fp(y,n.eventUiBases);for(let w in h){let x=h[w],A=x.range,D=d[x.defId],O=c[x.defId];if(!oN(D.constraints,A,g,n.businessHours,e))return!1;let{eventOverlap:j}=e.options,H=typeof j=="function"?j:null;for(let X in b){let M=b[X];if(w0(A,M.range)&&(_[M.defId].overlap===!1&&r.isEvent||D.overlap===!1||H&&!H(new Et(e,y[M.defId],M),new Et(e,O,x))))return!1}let q=s.eventStore;for(let X of D.allows){let M=Object.assign(Object.assign({},t),{range:x.range,allDay:O.allDay}),C=q.defs[O.defId],k=q.instances[w],P;if(C?P=new Et(e,C,k):P=new Et(e,O),!X(C0(M,e),P))return!1}}return!0}function a9(n,e,t,i){let s=n.eventStore,r=s.defs,o=s.instances,c=n.dateSelection,h=c.range,{selectionConfig:d}=e.getCurrentData();if(i&&(d=i(d)),!oN(d.constraints,h,s,n.businessHours,e))return!1;let{selectOverlap:g}=e.options,y=typeof g=="function"?g:null;for(let b in o){let _=o[b];if(w0(h,_.range)&&(d.overlap===!1||y&&!y(new Et(e,r[_.defId],_),null)))return!1}for(let b of d.allows){let _=Object.assign(Object.assign({},t),c);if(!b(C0(_,e),null))return!1}return!0}function oN(n,e,t,i,s){for(let r of n)if(!l9(o9(r,e,t,i,s),e))return!1;return!0}function o9(n,e,t,i,s){return n==="businessHours"?Gv(Oo(i,e,s)):typeof n=="string"?Gv(nm(t,r=>r.groupId===n)):typeof n=="object"&&n?Gv(Oo(n,e,s)):[]}function Gv(n){let{instances:e}=n,t=[];for(let i in e)t.push(e[i].range);return t}function l9(n,e){for(let t of n)if(tm(t,e))return!0;return!1}const Ff=/^(visible|hidden)$/;class c9 extends Dt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,vr(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:i}=e,s=t&&i,r=["fc-scroller"];return t&&(i?r.push("fc-scroller-liquid-absolute"):r.push("fc-scroller-liquid")),te("div",{ref:this.handleEl,className:r.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:s&&-(e.overcomeLeft||0)||"",right:s&&-(e.overcomeRight||0)||"",bottom:s&&-(e.overcomeBottom||0)||"",marginLeft:!s&&-(e.overcomeLeft||0)||"",marginRight:!s&&-(e.overcomeRight||0)||"",marginBottom:!s&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Ff.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let s=0;s<i.length;s+=1)if(i[s].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Ff.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let s=0;s<i.length;s+=1)if(i[s].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Ff.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Ff.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class So{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:s,currentMap:r}=this,o=!1,c=!1;t!==null?(o=i in r,r[i]=t,s[i]=(s[i]||0)+1,c=!0):(s[i]-=1,s[i]||(delete r[i],delete this.callbackMap[i],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(i)),c&&this.masterCallback(t,String(i)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),t}collect(e,t,i){return vF(this.currentMap,e,t,i)}getAll(){return E0(this.currentMap)}}function u9(n){let e=vH(n,".fc-scrollgrid-shrink"),t=0;for(let i of e)t=Math.max(t,NH(i));return Math.ceil(t)}function lN(n,e){return n.liquid&&e.liquid}function h9(n,e){return e.maxHeight!=null||lN(n,e)}function d9(n,e,t,i){let{expandRows:s}=t;return typeof e.content=="function"?e.content(t):te("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:s?t.clientHeight:""}},t.tableColGroupNode,te(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function f9(n,e){return Sa(n,e,ws)}function g9(n,e){let t=[];for(let i of n){let s=i.span||1;for(let r=0;r<s;r+=1)t.push(te("col",{style:{width:i.width==="shrink"?p9(e):i.width||"",minWidth:i.minWidth||""}}))}return te("colgroup",{},...t)}function p9(n){return n??4}function m9(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function y9(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function v9(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function b9(n){return te("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function sR(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function _9(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}class cN extends Dt{constructor(){super(...arguments),this.processCols=Ze(e=>e,f9),this.renderMicroColGroup=Ze(g9),this.scrollerRefs=new So,this.scrollerElRefs=new So(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:i}=this,s=e.sections||[],r=this.processCols(e.cols),o=this.renderMicroColGroup(r,t.shrinkWidth),c=y9(e.liquid,i);e.collapsibleWidth&&c.push("fc-scrollgrid-collapsible");let h=s.length,d=0,g,y=[],b=[],_=[];for(;d<h&&(g=s[d]).type==="header";)y.push(this.renderSection(g,o,!0)),d+=1;for(;d<h&&(g=s[d]).type==="body";)b.push(this.renderSection(g,o,!1)),d+=1;for(;d<h&&(g=s[d]).type==="footer";)_.push(this.renderSection(g,o,!0)),d+=1;let w=!Xk();const x={role:"rowgroup"};return te("table",{role:"grid",className:c.join(" "),style:{height:e.height}},!!(!w&&y.length)&&te("thead",x,...y),!!(!w&&b.length)&&te("tbody",x,...b),!!(!w&&_.length)&&te("tfoot",x,..._),w&&te("tbody",x,...y,...b,..._))}renderSection(e,t,i){return"outerContent"in e?te(Mt,{key:e.key},e.outerContent):te("tr",{key:e.key,role:"presentation",className:v9(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,i))}renderChunkTd(e,t,i,s){if("outerContent"in i)return i.outerContent;let{props:r}=this,{forceYScrollbars:o,scrollerClientWidths:c,scrollerClientHeights:h}=this.state,d=h9(r,e),g=lN(r,e),y=r.liquid?o?"scroll":d?"auto":"hidden":"visible",b=e.key,_=d9(e,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!r.collapsibleWidth&&c[b]!==void 0?c[b]:null,clientHeight:h[b]!==void 0?h[b]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return te(s?"th":"td",{ref:i.elRef,role:"presentation"},te("div",{className:`fc-scroller-harness${g?" fc-scroller-harness-liquid":""}`},te(c9,{ref:this.scrollerRefs.createRef(b),elRef:this.scrollerElRefs.createRef(b),overflowY:y,overflowX:r.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:g,liquidIsAbsolute:!0},_)))}_handleScrollerEl(e,t){let i=E9(this.props.sections,t);i&&vr(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return m9(this.props.cols)?u9(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=U5(),{scrollerRefs:t,scrollerElRefs:i}=this,s=!1,r={},o={};for(let c in t.currentMap){let h=t.currentMap[c];if(h&&h.needsYScrolling()){s=!0;break}}for(let c of this.props.sections){let h=c.key,d=i.currentMap[h];if(d){let g=d.parentNode;r[h]=Math.floor(g.getBoundingClientRect().width-(s?e.y:0)),o[h]=Math.floor(g.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:r,scrollerClientHeights:o}}}cN.addStateEquality({scrollerClientWidths:ws,scrollerClientHeights:ws});function E9(n,e){for(let t of n)if(t.key===e)return t;return null}class P0 extends Dt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&eR(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:i}=t,{seg:s}=e,{eventRange:r}=s,{ui:o}=r,c={event:new Et(t,r.def,r.instance),view:t.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&d5(s,t),isStartResizable:!e.disableResizing&&f5(s,t),isEndResizable:!e.disableResizing&&g5(s),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!s.isStart,isEnd:!!s.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return te(_r,Object.assign({},e,{elRef:this.handleEl,elClasses:[...p5(c),...s.eventRange.ui.classNames,...e.elClasses||[]],renderProps:c,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&eR(this.el,this.props.seg)}}class S9 extends Dt{render(){let{props:e,context:t}=this,{options:i}=t,{seg:s}=e,{ui:r}=s.eventRange,o=i.eventTimeFormat||e.defaultTimeFormat,c=Yk(s,o,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return te(P0,Object.assign({},e,{elTag:"a",elStyle:{borderColor:r.borderColor,backgroundColor:r.backgroundColor},elAttrs:$k(s,t),defaultGenerator:w9,timeText:c}),(h,d)=>te(Mt,null,te(h,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&te("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&te("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function w9(n){return te("div",{className:"fc-event-main-frame"},n.timeText&&te("div",{className:"fc-event-time"},n.timeText),te("div",{className:"fc-event-title-container"},te("div",{className:"fc-event-title fc-sticky"},n.event.title||te(Mt,null," "))))}const A9=un({day:"numeric"});class uN extends Dt{constructor(){super(...arguments),this.refineRenderProps=Eg(x9)}render(){let{props:e,context:t}=this,{options:i}=t,s=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return te(_r,Object.assign({},e,{elClasses:[...k0(s,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),s.isDisabled?{}:{"data-date":y0(e.date)}),renderProps:s,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:s.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}}function hN(n){return!!(n.dayCellContent||Hb("dayCellContent",n))}function x9(n){let{date:e,dateEnv:t,dateProfile:i,isMonthStart:s}=n,r=Jk(e,n.todayRange,null,i),o=n.showDayNumber?t.format(e,s?n.monthStartFormat:A9):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},r),{isMonthStart:s,dayNumberText:o}),n.extraRenderProps)}class T9 extends Dt{render(){let{props:e}=this,{seg:t}=e;return te(P0,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:R9,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function R9(n){let{title:e}=n.event;return e&&te("div",{className:"fc-event-title"},n.event.title)}function C9(n){return te("div",{className:`fc-${n}`})}const D9=n=>te(Wo.Consumer,null,e=>{let{dateEnv:t,options:i}=e,{date:s}=n,r=i.weekNumberFormat||n.defaultFormat,o=t.computeWeekNumber(s),c=t.format(s,r);return te(_r,Object.assign({},n,{renderProps:{num:o,text:c,date:s},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:I9,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function I9(n){return n.text}const Wv=10;class k9 extends Dt{constructor(){super(...arguments),this.state={titleId:Jp()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&vr(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=wk(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:i,state:s}=this,r=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return sH(te("div",Object.assign({},i.extraAttrs,{id:i.id,className:r.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),te("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},te("span",{className:"fc-popover-title",id:s.titleId},i.title),te("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),te("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:s}=this,r=F5(t);if(r){let o=s.getBoundingClientRect(),c=i?Rn(t,".fc-scrollgrid").getBoundingClientRect().top:r.top,h=e?r.right-o.width:r.left;c=Math.max(c,Wv),h=Math.min(h,document.documentElement.clientWidth-Wv-o.width),h=Math.max(h,Wv);let d=s.offsetParent.getBoundingClientRect();dh(s,{top:c-d.top,left:h-d.left})}}}class N9 extends $o{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:i}=this,{startDate:s,todayRange:r,dateProfile:o}=i,c=t.format(s,e.dayPopoverFormat);return te(uN,{elRef:this.handleRootEl,date:s,dateProfile:o,todayRange:r},(h,d,g)=>te(k9,{elRef:g.ref,id:i.id,title:c,extraClassNames:["fc-more-popover"].concat(g.className||[]),extraAttrs:g,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},hN(e)&&te(h,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,t,i,s){let{rootEl:r,props:o}=this;return e>=0&&e<i&&t>=0&&t<s?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:r,rect:{left:0,top:0,right:i,bottom:s},layer:1}:null}}class M9 extends Dt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Jp()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&vr(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:i}=this,{moreLinkClick:s}=i.options,r=rR(t).start;function o(c){let{def:h,instance:d,range:g}=c.eventRange;return{event:new Et(i,h,d),start:i.dateEnv.toDate(g.start),end:i.dateEnv.toDate(g.end),isStart:c.isStart,isEnd:c.isEnd}}typeof s=="function"&&(s=s({date:r,allDay:!!t.allDayDate,allSegs:t.allSegs.map(o),hiddenSegs:t.hiddenSegs.map(o),jsEvent:e,view:i.viewApi})),!s||s==="popover"?this.setState({isPopoverOpen:!0}):typeof s=="string"&&i.calendarApi.zoomTo(r,s)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return te(Wo.Consumer,null,i=>{let{viewApi:s,options:r,calendarApi:o}=i,{moreLinkText:c}=r,{moreCnt:h}=e,d=rR(e),g=typeof c=="function"?c.call(o,h):`+${h} ${c}`,y=fh(r.moreLinkHint,[h],g),b={num:h,shortText:`+${h}`,text:g,view:s};return te(Mt,null,!!e.moreCnt&&te(_r,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),xk(this.handleClick)),{title:y,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:b,generatorName:"moreLinkContent",customGenerator:r.moreLinkContent,defaultGenerator:e.defaultGenerator||O9,classNameGenerator:r.moreLinkClassNames,didMount:r.moreLinkDidMount,willUnmount:r.moreLinkWillUnmount},e.children),t.isPopoverOpen&&te(N9,{id:t.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Rn(this.linkEl,".fc-view-harness"))}}function O9(n){return n.text}function rR(n){if(n.allDayDate)return{start:n.allDayDate,end:In(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:P9(e),end:L9(e)}}function P9(n){return n.reduce(j9).eventRange.range.start}function j9(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function L9(n){return n.reduce(V9).eventRange.range.end}function V9(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class U9{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class z9 extends U9{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let i=!1;e.isActive?(t.set(e.id,e),i=!0):t.has(e.id)&&(t.delete(e.id),i=!0),i&&this.set(t)}}const B9=[],dN={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},fN=Object.assign(Object.assign({},dN),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function H9(n){let e=n.length>0?n[0].code:"en",t=B9.concat(n),i={en:fN};for(let s of t)i[s.code]=s;return{map:i,defaultCode:e}}function gN(n,e){return typeof n=="object"&&!Array.isArray(n)?pN(n.code,[n.code],n):F9(n,e)}function F9(n,e){let t=[].concat(n||[]),i=q9(t,e)||fN;return pN(n,t,i)}function q9(n,e){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let s=i.length;s>0;s-=1){let r=i.slice(0,s).join("-");if(e[r])return e[r]}}return null}function pN(n,e,t){let i=_0([dN,t],["buttonText"]);delete i.code;let{week:s}=i;return delete i.week,{codeArg:n,codes:e,week:s,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function Ra(n){return{id:qo(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function G9(n,e){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(r){for(let o of r){const c=o.name,h=t[c];h===void 0?(t[c]=o.id,s(o.deps),i=Y9(i,o)):h!==o.id&&console.warn(`Duplicate plugin '${c}'`)}}return n&&s(n),s(e),i}function W9(){let n=[],e=[],t;return(i,s)=>((!t||!Sa(i,n)||!Sa(s,e))&&(t=G9(i,s)),n=i,e=s,t)}function Y9(n,e){return{premiumReleaseDate:$9(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function $9(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class Ca extends nd{}Ca.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Ca.prototype.baseIconClass="fc-icon";Ca.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Ca.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Ca.prototype.iconOverrideOption="buttonIcons";Ca.prototype.iconOverrideCustomButtonOption="icon";Ca.prototype.iconOverridePrefix="fc-icon-";function Q9(n,e){let t={},i;for(i in n)Yb(i,t,n,e);for(i in e)Yb(i,t,n,e);return t}function Yb(n,e,t,i){if(e[n])return e[n];let s=K9(n,e,t,i);return s&&(e[n]=s),s}function K9(n,e,t,i){let s=t[n],r=i[n],o=g=>s&&s[g]!==null?s[g]:r&&r[g]!==null?r[g]:null,c=o("component"),h=o("superType"),d=null;if(h){if(h===n)throw new Error("Can't have a custom view type that references itself");d=Yb(h,e,t,i)}return!c&&d&&(c=d.component),c?{type:n,component:c,defaults:Object.assign(Object.assign({},d?d.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),r?r.rawOptions:{})}:null}function aR(n){return Go(n,X9)}function X9(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=oR(e):t&&!(t.prototype instanceof Dt)&&(t=oR(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function oR(n){return e=>te(Wo.Consumer,null,t=>te(_r,{elTag:"div",elClasses:Mk(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function Z9(n,e,t,i){let s=aR(n),r=aR(e.views),o=Q9(s,r);return Go(o,c=>J9(c,r,e,t,i))}function J9(n,e,t,i,s){let r=n.overrides.duration||n.defaults.duration||i.duration||t.duration,o=null,c="",h="",d={};if(r&&(o=e7(r),o)){let b=zb(o);c=b.unit,b.value===1&&(h=c,d=e[c]?e[c].rawOptions:{})}let g=b=>{let _=b.buttonText||{},w=n.defaults.buttonTextKey;return w!=null&&_[w]!=null?_[w]:_[n.type]!=null?_[n.type]:_[h]!=null?_[h]:null},y=b=>{let _=b.buttonHints||{},w=n.defaults.buttonTextKey;return w!=null&&_[w]!=null?_[w]:_[n.type]!=null?_[n.type]:_[h]!=null?_[h]:null};return{type:n.type,component:n.component,duration:o,durationUnit:c,singleUnit:h,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},d),n.overrides),buttonTextOverride:g(i)||g(t)||n.overrides.buttonText,buttonTextDefault:g(s)||n.defaults.buttonText||g(gh)||n.type,buttonTitleOverride:y(i)||y(t)||n.overrides.buttonHint,buttonTitleDefault:y(s)||n.defaults.buttonHint||y(gh)}}let lR={};function e7(n){let e=JSON.stringify(n),t=lR[e];return t===void 0&&(t=Xe(n),lR[e]=t),t}function t7(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function n7(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function i7(n,e,t){let i=n.initialDate;return i!=null?e.createMarker(i):t.getDateMarker()}function s7(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function r7(n,e,t,i){let s;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||t);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(s=i.buildPrev(n,t),s.isValid)return s;break;case"NEXT":if(s=i.buildNext(n,t),s.isValid)return s;break}return n}function a7(n,e,t){let i=e?e.activeRange:null;return yN({},f7(n,t),i,t)}function o7(n,e,t,i){let s=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return yN(n,e.sources,s,i);case"REMOVE_EVENT_SOURCE":return c7(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?vN(n,s,i):n;case"FETCH_EVENT_SOURCES":return j0(n,e.sourceIds?Ck(e.sourceIds):bN(n,i),s,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return d7(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function l7(n,e,t){let i=e?e.activeRange:null;return j0(n,bN(n,t),i,!0,t)}function mN(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function yN(n,e,t,i){let s={};for(let r of e)s[r.sourceId]=r;return t&&(s=vN(s,t,i)),Object.assign(Object.assign({},n),s)}function c7(n,e){return Mo(n,t=>t.sourceId!==e)}function vN(n,e,t){return j0(n,Mo(n,i=>u7(i,e,t)),e,!1,t)}function u7(n,e,t){return _N(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function j0(n,e,t,i,s){let r={};for(let o in n){let c=n[o];e[o]?r[o]=h7(c,t,i,s):r[o]=c}return r}function h7(n,e,t,i){let{options:s,calendarApi:r}=i,o=i.pluginHooks.eventSourceDefs[n.sourceDefId],c=qo();return o.fetch({eventSource:n,range:e,isRefetch:t,context:i},h=>{let{rawEvents:d}=h;s.eventSourceSuccess&&(d=s.eventSourceSuccess.call(r,d,h.response)||d),n.success&&(d=n.success.call(r,d,h.response)||d),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:c,fetchRange:e,rawEvents:d})},h=>{let d=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(r,h),d=!0),n.failure&&(n.failure(h),d=!0),d||console.warn(h.message,h),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:c,fetchRange:e,error:h})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:c})}function d7(n,e,t,i){let s=n[e];return s&&t===s.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:i})}):n}function bN(n,e){return Mo(n,t=>_N(t,e))}function f7(n,e){let t=Bk(e),i=[].concat(n.eventSources||[]),s=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let r of i){let o=zk(r,e,t);o&&s.push(o)}return s}function _N(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function g7(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function p7(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function m7(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function y7(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function v7(n,e,t,i,s){let r=n.headerToolbar?cR(n.headerToolbar,n,e,t,i,s):null,o=n.footerToolbar?cR(n.footerToolbar,n,e,t,i,s):null;return{header:r,footer:o}}function cR(n,e,t,i,s,r){let o={},c=[],h=!1;for(let d in n){let g=n[d],y=b7(g,e,t,i,s,r);o[d]=y.widgets,c.push(...y.viewsWithButtons),h=h||y.hasTitle}return{sectionWidgets:o,viewsWithButtons:c,hasTitle:h}}function b7(n,e,t,i,s,r){let o=e.direction==="rtl",c=e.customButtons||{},h=t.buttonText||{},d=e.buttonText||{},g=t.buttonHints||{},y=e.buttonHints||{},b=n?n.split(" "):[],_=[],w=!1;return{widgets:b.map(A=>A.split(",").map(D=>{if(D==="title")return w=!0,{buttonName:D};let O,j,H,q,X,M;if(O=c[D])H=C=>{O.click&&O.click.call(C.target,C,C.target)},(q=i.getCustomButtonIconClass(O))||(q=i.getIconClass(D,o))||(X=O.text),M=O.hint||O.text;else if(j=s[D]){_.push(D),H=()=>{r.changeView(D)},(X=j.buttonTextOverride)||(q=i.getIconClass(D,o))||(X=j.buttonTextDefault);let C=j.buttonTextOverride||j.buttonTextDefault;M=fh(j.buttonTitleOverride||j.buttonTitleDefault||e.viewHint,[C,D],C)}else if(r[D])if(H=()=>{r[D]()},(X=h[D])||(q=i.getIconClass(D,o))||(X=d[D]),D==="prevYear"||D==="nextYear"){let C=D==="prevYear"?"prev":"next";M=fh(g[C]||y[C],[d.year||"year","year"],d[D])}else M=C=>fh(g[D]||y[D],[d[C]||C,C],d[D]);return{buttonName:D,buttonClick:H,buttonIcon:q,buttonText:X,buttonHint:M}})),viewsWithButtons:_,hasTitle:w}}class _7{constructor(e,t,i){this.type=e,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let E7={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const S7=Ra({name:"array-event-source",eventSourceDefs:[E7]});let w7={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:i}=n.context,s=n.eventSource.meta;A5(s.bind(null,Qk(n.range,i)),r=>e({rawEvents:r}),t)}};const A7=Ra({name:"func-event-source",eventSourceDefs:[w7]}),x7={method:String,extraParams:ee,startParam:String,endParam:String,timeZoneParam:String};let T7={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:i}=n.eventSource,s=C7(i,n.range,n.context);x5(i.method,i.url,s).then(([r,o])=>{e({rawEvents:r,response:o})},t)}};const R7=Ra({name:"json-event-source",eventSourceRefiners:x7,eventSourceDefs:[T7]});function C7(n,e,t){let{dateEnv:i,options:s}=t,r,o,c,h,d={};return r=n.startParam,r==null&&(r=s.startParam),o=n.endParam,o==null&&(o=s.endParam),c=n.timeZoneParam,c==null&&(c=s.timeZoneParam),typeof n.extraParams=="function"?h=n.extraParams():h=n.extraParams||{},Object.assign(d,h),d[r]=i.formatIso(e.start),d[o]=i.formatIso(e.end),i.timeZone!=="local"&&(d[c]=i.timeZone),d}const D7={daysOfWeek:ee,startTime:Xe,endTime:Xe,duration:Xe,startRecur:ee,endRecur:ee};let I7={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null,dateEnv:e},i;return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=jH(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:i,typeData:t}}return null},expand(n,e,t){let i=gc(e,{start:n.startRecur,end:n.endRecur});return i?N7(n.daysOfWeek,n.startTime,n.dateEnv,t,i):[]}};const k7=Ra({name:"simple-recurring-event",recurringTypes:[I7],eventRefiners:D7});function N7(n,e,t,i,s){let r=n?Ck(n):null,o=_t(s.start),c=s.end,h=[];for(;o<c;){let d;(!r||r[o.getUTCDay()])&&(e?d=i.add(o,e):d=o,h.push(i.createMarker(t.toDate(d)))),o=In(o,1)}return h}const M7=Ra({name:"change-handler",optionChangeHandlers:{events(n,e){uR([n],e)},eventSources:uR}});function uR(n,e){let t=E0(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let i=[];for(let s of n){let r=!1;for(let o=0;o<t.length;o+=1)if(t[o]._raw===s){t.splice(o,1),r=!0;break}r||i.push(s)}for(let s of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of i)e.calendarApi.addEventSource(s)}function O7(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},Qk(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function P7(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Ao(n,e))}const j7=[S7,A7,R7,k7,M7,Ra({name:"misc",isLoadingFuncs:[n=>mN(n.eventSources)],propSetHandlers:{dateProfile:O7,eventStore:P7}})];class L7{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new f0(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],i;for(;i=e.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function V7(n,e,t){let i;return/^(year|month)$/.test(n.currentRangeUnit)?i=n.currentRange:i=n.activeRange,t.formatRange(i.start,i.end,un(e.titleFormat||U7(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function U7(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=ap(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class hR{constructor(){this.resetListeners=new Set}handleInput(e,t){const i=this.dateEnv;if(e!==i&&(typeof t=="function"?this.nowFn=t:i||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,i))for(const s of this.resetListeners.values())s()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class z7{constructor(e){this.computeCurrentViewData=Ze(this._computeCurrentViewData),this.organizeRawLocales=Ze(H9),this.buildLocale=Ze(gN),this.buildPluginHooks=W9(),this.buildDateEnv=Ze(B7),this.buildTheme=Ze(H7),this.parseToolbars=Ze(v7),this.buildViewSpecs=Ze(Z9),this.buildDateProfileGenerator=Eg(F7),this.buildViewApi=Ze(q7),this.buildViewUiProps=Eg(Y7),this.buildEventUiBySource=Ze(G7,ws),this.buildEventUiBases=Ze(W7),this.parseContextBusinessHours=Eg($7),this.buildTitle=Ze(V7),this.nowManager=new hR,this.emitter=new im,this.actionRunner=new L7(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=b=>{this.actionRunner.request(b)},this.props=e,this.actionRunner.pause(),this.nowManager=new hR;let t={},i=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),s=i.calendarOptions.initialView||i.pluginHooks.initialView,r=this.computeCurrentViewData(s,i,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(r.options);let o={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},c=i7(i.calendarOptions,i.dateEnv,this.nowManager),h=r.dateProfileGenerator.build(c);fa(h.activeRange,c)||(c=h.currentRange.start);for(let b of i.pluginHooks.contextInit)b(o);let d=a7(i.calendarOptions,h,o),g={dynamicOptionOverrides:t,currentViewType:s,currentDate:c,dateProfile:h,businessHours:this.parseContextBusinessHours(o),eventSources:d,eventUiBases:{},eventStore:Li(),renderableEventStore:Li(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},y=Object.assign(Object.assign({},o),g);for(let b of i.pluginHooks.reducers)Object.assign(g,b(null,null,y));Yv(g,o)&&this.emitter.trigger("loading",!0),this.state=g,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:i}=this;t===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:i,emitter:s}=this,r=s7(i.dynamicOptionOverrides,e),o=this.computeOptionsData(t.optionOverrides,r,t.calendarApi),c=t7(i.currentViewType,e),h=this.computeCurrentViewData(c,o,t.optionOverrides,r);t.calendarApi.currentDataManager=this,s.setThisContext(t.calendarApi),s.setOptions(h.options);let d={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:g,dateProfile:y}=i;this.data&&this.data.dateProfileGenerator!==h.dateProfileGenerator&&(y=h.dateProfileGenerator.build(g)),g=n7(g,e),y=r7(y,e,g,h.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!fa(y.currentRange,g))&&(g=y.currentRange.start);let b=o7(i.eventSources,e,y,d),_=KF(i.eventStore,e,b,y,d),x=mN(b)&&!h.options.progressiveEventRendering&&i.renderableEventStore||_,{eventUiSingleBase:A,selectionConfig:D}=this.buildViewUiProps(d),O=this.buildEventUiBySource(b),j=this.buildEventUiBases(x.defs,A,O),H={dynamicOptionOverrides:r,currentViewType:c,currentDate:g,dateProfile:y,eventSources:b,eventStore:_,renderableEventStore:x,selectionConfig:D,eventUiBases:j,businessHours:this.parseContextBusinessHours(d),dateSelection:g7(i.dateSelection,e),eventSelection:p7(i.eventSelection,e),eventDrag:m7(i.eventDrag,e),eventResize:y7(i.eventResize,e)},q=Object.assign(Object.assign({},d),H);for(let C of o.pluginHooks.reducers)Object.assign(H,C(i,e,q));let X=Yv(i,d),M=Yv(H,d);!X&&M?s.trigger("loading",!0):X&&!M&&s.trigger("loading",!1),this.state=H,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,i=this.data,s=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),r=this.computeCurrentViewData(t.currentViewType,s,e.optionOverrides,t.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,r.options,s.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),r),t),c=s.pluginHooks.optionChangeHandlers,h=i&&i.calendarOptions,d=s.calendarOptions;if(h&&h!==d){h.timeZone!==d.timeZone&&(t.eventSources=o.eventSources=l7(o.eventSources,t.dateProfile,o),t.eventStore=o.eventStore=XT(o.eventStore,i.dateEnv,o.dateEnv),t.renderableEventStore=o.renderableEventStore=XT(o.renderableEventStore,i.dateEnv,o.dateEnv));for(let g in c)(this.optionsForHandling.indexOf(g)!==-1||h[g]!==d[g])&&c[g](d[g],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,t,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:r,localeDefaults:o,availableLocaleData:c,extra:h}=this.processRawCalendarOptions(e,t);dR(h);let d=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,r,c,s.defaultRangeSeparator),g=this.buildViewSpecs(r.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),y=this.buildTheme(s,r),b=this.parseToolbars(s,this.stableOptionOverrides,y,g,i);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:r,dateEnv:d,viewSpecs:g,theme:y,toolbarConfig:b,localeDefaults:o,availableRawLocales:c.map}}processRawCalendarOptions(e,t){let{locales:i,locale:s}=Uv([gh,e,t]),r=this.organizeRawLocales(i),o=r.map,c=this.buildLocale(s||r.defaultCode,o).options,h=this.buildPluginHooks(e.plugins||[],j7),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},qT),GT),WT),h.listenerRefiners),h.optionRefiners),g={},y=Uv([gh,c,e,t]),b={},_=this.currentCalendarOptionsInput,w=this.currentCalendarOptionsRefined,x=!1;for(let A in y)this.optionsForRefining.indexOf(A)===-1&&(y[A]===_[A]||po[A]&&A in _&&po[A](_[A],y[A]))?b[A]=w[A]:d[A]?(b[A]=d[A](y[A]),x=!0):g[A]=_[A];return x&&(this.currentCalendarOptionsInput=y,this.currentCalendarOptionsRefined=b,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:h,availableLocaleData:r,localeDefaults:c,extra:g}}_computeCurrentViewData(e,t,i,s){let r=t.viewSpecs[e];if(!r)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:c}=this.processRawViewOptions(r,t.pluginHooks,t.localeDefaults,i,s);dR(c),this.nowManager.handleInput(t.dateEnv,o.now);let h=this.buildDateProfileGenerator({dateProfileGeneratorClass:r.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:r.duration,durationUnit:r.durationUnit,usesMinMaxTime:r.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:r,options:o,dateProfileGenerator:h,viewApi:d}}processRawViewOptions(e,t,i,s,r){let o=Uv([gh,e.optionDefaults,i,s,e.optionOverrides,r]),c=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},qT),GT),WT),gF),t.listenerRefiners),t.optionRefiners),h={},d=this.currentViewOptionsInput,g=this.currentViewOptionsRefined,y=!1,b={};for(let _ in o)o[_]===d[_]||po[_]&&po[_](o[_],d[_])?h[_]=g[_]:(o[_]===this.currentCalendarOptionsInput[_]||po[_]&&po[_](o[_],this.currentCalendarOptionsInput[_])?_ in this.currentCalendarOptionsRefined&&(h[_]=this.currentCalendarOptionsRefined[_]):c[_]?h[_]=c[_](o[_]):b[_]=o[_],y=!0);return y&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=h),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:b}}}function B7(n,e,t,i,s,r,o,c){let h=gN(e||o.defaultCode,o.map);return new AF({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:r.namedTimeZonedImpl,locale:h,weekNumberCalculation:t,firstDay:i,weekText:s,cmdFormatter:r.cmdFormatter,defaultSeparator:c})}function H7(n,e){let t=e.themeClasses[n.themeSystem]||Ca;return new t(n)}function F7(n){let e=n.dateProfileGeneratorClass||jk;return new e(n)}function q7(n,e,t){return new _7(n,e,t)}function G7(n){return Go(n,e=>e.ui)}function W7(n,e,t){let i={"":e};for(let s in n){let r=n[s];r.sourceId&&t[r.sourceId]&&(i[s]=t[r.sourceId])}return i}function Y7(n){let{options:e}=n;return{eventUiSingleBase:dp({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:dp({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function Yv(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function $7(n){return r5(n.options.businessHours,n)}function dR(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class Q7 extends Dt{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return te("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:i}=this.context,s=[],r=!0;for(let o of e){let{buttonName:c,buttonClick:h,buttonText:d,buttonIcon:g,buttonHint:y}=o;if(c==="title")r=!1,s.push(te("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let b=c===t.activeButton,_=!t.isTodayEnabled&&c==="today"||!t.isPrevEnabled&&c==="prev"||!t.isNextEnabled&&c==="next",w=[`fc-${c}-button`,i.getClass("button")];b&&w.push(i.getClass("buttonActive")),s.push(te("button",{type:"button",title:typeof y=="function"?y(t.navUnit):y,disabled:_,"aria-pressed":b,className:w.join(" "),onClick:h},d||(g?te("span",{className:g,role:"img"}):"")))}}if(s.length>1){let o=r&&i.getClass("buttonGroup")||"";return te("div",{className:o},...s)}return s[0]}}class fR extends Dt{render(){let{model:e,extraClassName:t}=this.props,i=!1,s,r,o=e.sectionWidgets,c=o.center;return o.left?(i=!0,s=o.left):s=o.start,o.right?(i=!0,r=o.right):r=o.end,te("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",c||[]),this.renderSection("end",r||[]))}renderSection(e,t){let{props:i}=this;return te(Q7,{key:e,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class K7 extends Dt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,vr(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:i}=e,s=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],r="",o="";return i?t.availableWidth!==null?r=t.availableWidth/i:o=`${1/i*100}%`:r=e.height||"",te("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:s.join(" "),style:{height:r,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class X7 extends Cc{constructor(e){super(e),this.handleSegClick=(t,i)=>{let{component:s}=this,{context:r}=s,o=pc(i);if(o&&s.isValidSegDownEl(t.target)){let c=Rn(t.target,".fc-event-forced-url"),h=c?c.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:i,event:new Et(s.context,o.eventRange.def,o.eventRange.instance),jsEvent:t,view:r.viewApi}),h&&!t.defaultPrevented&&(window.location.href=h)}},this.destroy=Ak(e.el,"click",".fc-event",this.handleSegClick)}}class Z7 extends Cc{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{pc(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=EH(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,i){let{component:s}=this,{context:r}=s,o=pc(i);(!t||s.isValidSegDownEl(t.target))&&r.emitter.trigger(e,{el:i,event:new Et(r,o.eventRange.def,o.eventRange.instance),jsEvent:t,view:r.viewApi})}}class J7 extends Yo{constructor(){super(...arguments),this.buildViewContext=Ze(RF),this.buildViewPropTransformers=Ze(tq),this.buildToolbarProps=Ze(eq),this.headerRef=yr(),this.footerRef=yr(),this.interactionsStore={},this.state={viewLabelId:Jp()},this.registerInteractiveComponent=(e,t)=>{let i=C5(e,t),o=[X7,Z7].concat(this.props.pluginHooks.componentInteractions).map(c=>new c(i));this.interactionsStore[e.uid]=o,Gb[e.uid]=i},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[e.uid]}delete Gb[e.uid]},this.resizeRunner=new f0(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:i}=e,s=!1,r="",o;e.isHeightAuto||e.forPrint?r="":i.height!=null?s=!0:i.contentHeight!=null?r=i.contentHeight:o=Math.max(i.aspectRatio,.5);let c=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),h=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return te(Wo.Provider,{value:c},te(sm,{unit:"day"},d=>{let g=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,d,e.viewTitle);return te(Mt,null,t.header&&te(fR,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:h},g)),te(K7,{liquid:s,height:r,aspectRatio:o,labeledById:h},this.renderView(e),this.buildAppendContent()),t.footer&&te(fR,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},g)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let i in t)t[i](e[i],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let s in i)t[s]!==e[s]&&i[s](t[s],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(i=>i(e));return te(Mt,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:i}=e,s={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},r=this.buildViewPropTransformers(t.viewPropsTransformers);for(let c of r)Object.assign(s,c.transform(s,e));let o=i.component;return te(o,Object.assign({},s))}}function eq(n,e,t,i,s,r){let o=t.build(s,void 0,!1),c=t.buildPrev(e,i,!1),h=t.buildNext(e,i,!1);return{title:r,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:o.isValid&&!fa(e.currentRange,s),isPrevEnabled:c.isValid,isNextEnabled:h.isValid}}function tq(n){return n.map(e=>new e)}class nq extends I5{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;up(()=>{kh(te(R5,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(s,r,o,c)=>(this.setClassNames(s),this.setHeight(r),te(Nk.Provider,{value:this.customContentRenderId},te(J7,Object.assign({isHeightAuto:o,forPrint:c},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,kh(null,this.el),this.setClassNames([]),this.setHeight(""))},dH(e),this.el=e,this.renderRunner=new f0(this.handleRenderRequest),new z7({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){up(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!Sa(e,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of e)t.add(i);this.currentClassNames=e}}setHeight(e){Sk(this.el,"height",e)}}const iq=parseInt(String(Si.version).split(".")[0]),sq=iq<18;class EN extends B.Component{constructor(){super(...arguments),this.elRef=B.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(Si.createElement(rq,{key:t.id,customRendering:t}));return Si.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new z9;this.handleCustomRendering=e.handle.bind(e),this.calendar=new nq(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{cb.flushSync(()=>{})});let t;e.subscribe(i=>{const s=Date.now(),r=!t;(sq||r||this.isUpdating||this.isUnmounting||s-t<100?SN:cb.flushSync)(()=>{this.setState({customRenderingMap:i},()=>{t=s,r?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}EN.act=SN;class rq extends B.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,i=typeof t=="function"?t(e.renderProps):t;return cb.createPortal(i,e.containerEl)}}function SN(n){n()}class aq extends $o{constructor(){super(...arguments),this.headerElRef=yr()}renderSimpleLayout(e,t){let{props:i,context:s}=this,r=[],o=sR(s.options);return e&&r.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),te(YT,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},te(cN,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:r}))}renderHScrollLayout(e,t,i,s){let r=this.context.pluginHooks.scrollGridImpl;if(!r)throw new Error("No ScrollGrid implementation");let{props:o,context:c}=this,h=!o.forPrint&&sR(c.options),d=!o.forPrint&&_9(c.options),g=[];return e&&g.push({type:"header",key:"header",isSticky:h,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),g.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),d&&g.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:b9}]}),te(YT,{elClasses:["fc-daygrid"],viewSpec:c.viewSpec},te(r,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:i,minWidth:s}]}],sections:g}))}}function qf(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function Gf(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function gR(n,e){let t=[];if(n){for(let i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}const wN=un({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function AN(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class xN extends Dt{render(){let{props:e}=this;return te(S9,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:wN,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class TN extends Dt{render(){let{props:e,context:t}=this,{options:i}=t,{seg:s}=e,r=i.eventTimeFormat||wN,o=Yk(s,r,t,!0,e.defaultDisplayEventEnd);return te(P0,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:$k(e.seg,t),defaultGenerator:oq,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function oq(n){return te(Mt,null,te("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&te("div",{className:"fc-event-time"},n.timeText),te("div",{className:"fc-event-title"},n.event.title||te(Mt,null," ")))}class lq extends Dt{constructor(){super(...arguments),this.compileSegs=Ze(cq)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return te(M9,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let s=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return te(Mt,null,t.map(r=>{let o=r.eventRange.instance.instanceId;return te("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:s[o]?"hidden":""}},AN(r)?te(TN,Object.assign({seg:r,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},ph(r,e.todayRange))):te(xN,Object.assign({seg:r,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},ph(r,e.todayRange))))}))}})}}function cq(n){let e=[],t=[];for(let i of n)e.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:e,invisibleSegs:t}}const uq=un({week:"narrow"});class hq extends $o{constructor(){super(...arguments),this.rootElRef=yr(),this.state={dayNumberId:Jp()},this.handleRootEl=e=>{vr(this.rootElRef,e),vr(this.props.elRef,e)}}render(){let{context:e,props:t,state:i,rootElRef:s}=this,{options:r,dateEnv:o}=e,{date:c,dateProfile:h}=t;const d=t.showDayNumber&&fq(c,h.currentRange,o);return te(uN,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:dq,date:c,dateProfile:h,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:d,extraRenderProps:t.extraRenderProps},(g,y)=>te("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&te(D9,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Wb(e,c,"week"),date:c,defaultFormat:uq}),!y.isDisabled&&(t.showDayNumber||hN(r)||t.forceDayTop)?te("div",{className:"fc-daygrid-day-top"},te(g,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Wb(e,c)),{id:i.dayNumberId})})):t.showDayNumber?te("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},te("a",{className:"fc-daygrid-day-number"}," ")):void 0,te("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,te("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},te(lq,{allDayDate:c,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:s,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),te("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function dq(n){return n.dayNumberText||te(Mt,null," ")}function fq(n,e,t){const{start:i,end:s}=e,r=wa(s,-1),o=t.getYear(i),c=t.getMonth(i),h=t.getYear(r),d=t.getMonth(r);return!(o===h&&c===d)&&(n.valueOf()===i.valueOf()||t.getDay(n)===1&&n.valueOf()<s.valueOf())}function RN(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function CN(n){return RN(n)+":"+n.lastCol}function gq(n,e,t,i,s,r,o){let c=new yq(D=>{let O=n[D.index].eventRange.instance.instanceId+":"+D.span.start+":"+(D.span.end-1);return s[O]||1});c.allowReslicing=!0,c.strictOrder=i,e===!0||t===!0?(c.maxCoord=r,c.hiddenConsumes=!0):typeof e=="number"?c.maxStackCnt=e:typeof t=="number"&&(c.maxStackCnt=t,c.hiddenConsumes=!0);let h=[],d=[];for(let D=0;D<n.length;D+=1){let O=n[D],j=CN(O);s[j]!=null?h.push({index:D,span:{start:O.firstCol,end:O.lastCol+1}}):d.push(O)}let g=c.addSegs(h),y=c.toRects(),{singleColPlacements:b,multiColPlacements:_,leftoverMargins:w}=pq(y,n,o),x=[],A=[];for(let D of d){_[D.firstCol].push({seg:D,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let O=D.firstCol;O<=D.lastCol;O+=1)b[O].push({seg:nc(D,O,O+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let D=0;D<o.length;D+=1)x.push(0);for(let D of g){let O=n[D.index],j=D.span;_[j.start].push({seg:nc(O,j.start,j.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let H=j.start;H<j.end;H+=1)x[H]+=1,b[H].push({seg:nc(O,H,H+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let D=0;D<o.length;D+=1)A.push(w[D]);return{singleColPlacements:b,multiColPlacements:_,moreCnts:x,moreMarginTops:A}}function pq(n,e,t){let i=mq(n,t.length),s=[],r=[],o=[];for(let c=0;c<t.length;c+=1){let h=i[c],d=[],g=0,y=0;for(let _ of h){let w=e[_.index];d.push({seg:nc(w,c,c+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:_.levelCoord,marginTop:_.levelCoord-g}),g=_.levelCoord+_.thickness}let b=[];g=0,y=0;for(let _ of h){let w=e[_.index],x=_.span.end-_.span.start>1,A=_.span.start===c;y+=_.levelCoord-g,g=_.levelCoord+_.thickness,x?(y+=_.thickness,A&&b.push({seg:nc(w,_.span.start,_.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:_.levelCoord,marginTop:0})):A&&(b.push({seg:nc(w,_.span.start,_.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:_.levelCoord,marginTop:y}),y=0)}s.push(d),r.push(b),o.push(y)}return{singleColPlacements:s,multiColPlacements:r,leftoverMargins:o}}function mq(n,e){let t=[];for(let i=0;i<e;i+=1)t.push([]);for(let i of n)for(let s=i.span.start;s<i.span.end;s+=1)t[s].push(i);return t}function nc(n,e,t,i){if(n.firstCol===e&&n.lastCol===t-1)return n;let s=n.eventRange,r=s.range,o=gc(r,{start:i[e].date,end:In(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:o},isStart:n.isStart&&o.start.valueOf()===r.start.valueOf(),isEnd:n.isEnd&&o.end.valueOf()===r.end.valueOf()})}class yq extends W5{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:i}=this,s=r=>!this.forceHidden[mh(r)];for(let r=0;r<i.length;r+=1)i[r]=i[r].filter(s);return t}handleInvalidInsertion(e,t,i){const{entriesByLevel:s,forceHidden:r}=this,{touchingEntry:o,touchingLevel:c,touchingLateral:h}=e;if(this.hiddenConsumes&&o){const d=mh(o);if(!r[d])if(this.allowReslicing){const g=Object.assign(Object.assign({},o),{span:nN(o.span,t.span)}),y=mh(g);r[y]=!0,s[c][h]=g,i.push(g),this.splitEntry(o,t,i)}else r[d]=!0,i.push(o)}super.handleInvalidInsertion(e,t,i)}}class DN extends $o{constructor(){super(...arguments),this.cellElRefs=new So,this.frameElRefs=new So,this.fgElRefs=new So,this.segHarnessRefs=new So,this.rootElRef=yr(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:i}=this,{options:s}=i,r=e.cells.length,o=Gf(e.businessHourSegs,r),c=Gf(e.bgEventSegs,r),h=Gf(this.getHighlightSegs(),r),d=Gf(this.getMirrorSegs(),r),{singleColPlacements:g,multiColPlacements:y,moreCnts:b,moreMarginTops:_}=gq(u5(e.fgEventSegs,s.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,s.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),w=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return te("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((x,A)=>{let D=this.renderFgSegs(A,e.forPrint?g[A]:y[A],e.todayRange,w),O=this.renderFgSegs(A,vq(d[A],y),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return te(hq,{key:x.key,elRef:this.cellElRefs.createRef(x.key),innerElRef:this.frameElRefs.createRef(x.key),dateProfile:e.dateProfile,date:x.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&A===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:x.extraRenderProps,extraDataAttrs:x.extraDataAttrs,extraClassNames:x.extraClassNames,extraDateSpan:x.extraDateSpan,moreCnt:b[A],moreMarginTop:_[A],singlePlacements:g[A],fgContentElRef:this.fgElRefs.createRef(x.key),fgContent:te(Mt,null,te(Mt,null,D),te(Mt,null,O)),bgContent:te(Mt,null,this.renderFillSegs(h[A],"highlight"),this.renderFillSegs(o[A],"non-business"),this.renderFillSegs(c[A],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let i=this.props;this.updateSizing(!ws(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,i,s,r,o,c){let{context:h}=this,{eventSelection:d}=this.props,{framePositions:g}=this.state,y=this.props.cells.length===1,b=r||o||c,_=[];if(g)for(let w of t){let{seg:x}=w,{instanceId:A}=x.eventRange.instance,D=w.isVisible&&!s[A],O=w.isAbsolute,j="",H="";O&&(h.isRtl?(H=0,j=g.lefts[x.lastCol]-g.lefts[x.firstCol]):(j=0,H=g.rights[x.firstCol]-g.rights[x.lastCol])),_.push(te("div",{className:"fc-daygrid-event-harness"+(O?" fc-daygrid-event-harness-abs":""),key:RN(x),ref:b?null:this.segHarnessRefs.createRef(CN(x)),style:{visibility:D?"":"hidden",marginTop:O?"":w.marginTop,top:O?w.absoluteTop:"",left:j,right:H}},AN(x)?te(TN,Object.assign({seg:x,isDragging:r,isSelected:A===d,defaultDisplayEventEnd:y},ph(x,i))):te(xN,Object.assign({seg:x,isDragging:r,isResizing:o,isDateSelecting:c,isSelected:A===d,defaultDisplayEventEnd:y},ph(x,i)))))}return _}renderFillSegs(e,t){let{isRtl:i}=this.context,{todayRange:s}=this.props,{framePositions:r}=this.state,o=[];if(r)for(let c of e){let h=i?{right:0,left:r.lefts[c.lastCol]-r.lefts[c.firstCol]}:{left:0,right:r.rights[c.firstCol]-r.rights[c.lastCol]};o.push(te("div",{key:m5(c.eventRange),className:"fc-daygrid-bg-harness",style:h},t==="bg-event"?te(T9,Object.assign({seg:c},ph(c,s))):C9(t)))}return te(Mt,{},...o)}updateSizing(e){let{props:t,state:i,frameElRefs:s}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let h=t.cells.map(d=>s.currentMap[d.key]);if(h.length){let d=this.rootElRef.current,g=new gp(d,h,!0,!1);(!i.framePositions||!i.framePositions.similarTo(g))&&this.setState({framePositions:new gp(d,h,!0,!1)})}}const r=this.state.segHeights,o=this.querySegHeights(),c=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},r),o),maxContentHeight:c?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let i in e){let s=Math.round(e[i].getBoundingClientRect().height);t[i]=Math.max(t[i]||0,s)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}DN.addStateEquality({segHeights:ws});function vq(n,e){if(!n.length)return[];let t=bq(e);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}function bq(n){let e={};for(let t of n)for(let i of t)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}class _q extends $o{constructor(){super(...arguments),this.splitBusinessHourSegs=Ze(qf),this.splitBgEventSegs=Ze(qf),this.splitFgEventSegs=Ze(qf),this.splitDateSelectionSegs=Ze(qf),this.splitEventDrag=Ze(gR),this.splitEventResize=Ze(gR),this.rowRefs=new So}render(){let{props:e,context:t}=this,i=e.cells.length,s=this.splitBusinessHourSegs(e.businessHourSegs,i),r=this.splitBgEventSegs(e.bgEventSegs,i),o=this.splitFgEventSegs(e.fgEventSegs,i),c=this.splitDateSelectionSegs(e.dateSelectionSegs,i),h=this.splitEventDrag(e.eventDrag,i),d=this.splitEventResize(e.eventResize,i),g=i>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return te(sm,{unit:"day"},(y,b)=>te(Mt,null,e.cells.map((_,w)=>te(DN,{ref:this.rowRefs.createRef(w),key:_.length?_[0].date.toISOString():w,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:b,dateProfile:e.dateProfile,cells:_,renderIntro:e.renderRowIntro,businessHourSegs:s[w],eventSelection:e.eventSelection,bgEventSegs:r[w].filter(Eq),fgEventSegs:o[w],dateSelectionSegs:c[w],eventDrag:h[w],eventResize:d[w],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:g,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new gp(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new gp(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:i,rowPositions:s}=this,r=i.leftToIndex(e),o=s.topToIndex(t);if(o!=null&&r!=null){let c=this.props.cells[o][r];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,r),allDay:!0},c.extraDateSpan),dayEl:this.getCellEl(o,r),rect:{left:i.lefts[r],right:i.rights[r],top:s.tops[o],bottom:s.bottoms[o]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let i=this.props.cells[e][t].date,s=In(i,1);return{start:i,end:s}}}function Eq(n){return n.eventRange.def.allDay}class Sq extends $o{constructor(){super(...arguments),this.elRef=yr(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:s}=e,r=i===!0||t===!0;r&&!s&&(r=!1,t=null,i=null);let o=["fc-daygrid-body",r?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return te("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},te("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:s?e.clientHeight:""}},e.colGroupNode,te("tbody",{role:"presentation"},te(_q,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=wq(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),s=e.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}function wq(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${ZH(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${y0(e.currentDate)}"]`)),t}class Aq extends n9{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class xq extends $o{constructor(){super(...arguments),this.slicer=new Aq,this.tableRef=yr()}render(){let{props:e,context:t}=this;return te(Sq,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class Tq extends aq{constructor(){super(...arguments),this.buildDayTableModel=Ze(Rq),this.headerRef=yr(),this.tableRef=yr()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:i}=this,s=this.buildDayTableModel(i.dateProfile,t),r=e.dayHeaders&&te(Z5,{ref:this.headerRef,dateProfile:i.dateProfile,dates:s.headerDates,datesRepDistinctDays:s.rowCnt===1}),o=c=>te(xq,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:s,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:c.tableColGroupNode,tableMinWidth:c.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:c.clientWidth,clientHeight:c.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(r,o,s.colCnt,e.dayMinWidth):this.renderSimpleLayout(r,o)}}function Rq(n,e){let t=new e9(n.renderRange,e);return new t9(t,/year|month|week/.test(n.currentRangeUnit))}class Cq extends jk{buildRenderRange(e,t,i){let s=super.buildRenderRange(e,t,i),{props:r}=this;return Dq({currentRange:s,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:r.fixedWeekCount,dateEnv:r.dateEnv})}}function Dq(n){let{dateEnv:e,currentRange:t}=n,{start:i,end:s}=t,r;if(n.snapToWeek&&(i=e.startOfWeek(i),r=e.startOfWeek(s),r.valueOf()!==s.valueOf()&&(s=UT(r,1))),n.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(In(t.end,-1))),c=Math.ceil(zH(o,s));s=UT(s,6-c)}return{start:i,end:s}}var Iq=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';bk(Iq);var kq=Ra({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Tq,dateProfileGeneratorClass:Cq},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});O0.touchMouseIgnoreWait=500;let $b=0,pp=0,Qb=!1;class IN{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&Nq(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let s=t.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,Mq()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,s=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:i-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new im,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Oq()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Pq()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||Rn(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Qb=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Rn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return $b||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Qb=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,s=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:s}}createEventFromTouch(e,t){let i=e.touches,s,r,o=0,c=0;return i&&i.length?(s=i[0].pageX,r=i[0].pageY):(s=e.pageX,r=e.pageY),t?(this.origPageX=s,this.origPageY=r):(o=s-this.origPageX,c=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:r,deltaX:o,deltaY:c}}}function Nq(n){return n.button===0&&!n.ctrlKey}function Mq(){$b+=1,setTimeout(()=>{$b-=1},O0.touchMouseIgnoreWait)}function Oq(){pp+=1,pp===1&&window.addEventListener("touchmove",kN,{passive:!1})}function Pq(){pp-=1,pp||window.removeEventListener("touchmove",kN,{passive:!1})}function kN(n){Qb&&n.preventDefault()}class jq{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",dh(i,{left:s.left,top:s.top}),SH(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(g0(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&dh(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),dh(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class NN extends M0{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class MN extends NN{constructor(e,t){super(new q5(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return H5(this.scrollController.el)}}class Lq extends NN{constructor(e){super(new G5,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const pR=typeof performance=="function"?performance.now:Date.now;class Vq{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=pR();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,s=t-window.scrollY,r=this.pointerScreenY===null?0:s-this.pointerScreenY,o=this.pointerScreenX===null?0:i-this.pointerScreenX;r<0?this.everMovedUp=!0:r>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(pR()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:s}=this,r=s-e.distance,o=r*r/(s*s)*this.maxVelocity*t,c=1;switch(e.name){case"left":c=-1;case"right":i.setScrollLeft(i.getScrollLeft()+o*c);break;case"top":c=-1;case"bottom":i.setScrollTop(i.getScrollTop()+o*c);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,s=null,r=this.scrollCaches||[];for(let o of r){let c=o.clientRect,h=e-c.left,d=c.right-e,g=t-c.top,y=c.bottom-t;h>=0&&d>=0&&g>=0&&y>=0&&(g<=i&&this.everMovedUp&&o.canScrollUp()&&(!s||s.distance>g)&&(s={scrollCache:o,name:"top",distance:g}),y<=i&&this.everMovedDown&&o.canScrollDown()&&(!s||s.distance>y)&&(s={scrollCache:o,name:"bottom",distance:y}),h<=i&&this.everMovedLeft&&o.canScrollLeft()&&(!s||s.distance>h)&&(s={scrollCache:o,name:"left",distance:h}),d<=i&&this.everMovedRight&&o.canScrollRight()&&(!s||s.distance>d)&&(s={scrollCache:o,name:"right",distance:d}))}return s}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new Lq(!1):new MN(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}}class id extends Y5{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,wH(document.body),xH(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let r=this.minDistance,o,{deltaX:c,deltaY:h}=s;o=c*c+h*h,o>=r*r&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,AH(document.body),TH(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new IN(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new jq,this.autoScroller=new Vq}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Uq{constructor(e){this.el=e,this.origRect=N0(e),this.scrollCaches=tN(e).map(t=>new MN(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let s of this.scrollCaches)if(!zq(s.getEventTarget())&&!k5(i,s.clientRect))return!1;return!0}}function zq(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class rm{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):s.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new im}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,s=e.subjectEl,r;s instanceof HTMLElement&&(r=N0(s),i=N5(i,r));let o=this.initialHit=this.queryHitForOffset(i.left,i.top);if(o){if(this.useSubjectCenter&&r){let c=Zk(r,o.rect);c&&(i=M5(c))}this.coordAdjust=O5(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!am(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=Go(this.droppableStore,e=>(e.component.prepareHits(),new Uq(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:s}=this,r=null;for(let o in i){let c=i[o].component,h=s[o];if(h&&h.isWithinClipping(e,t)){let d=h.computeLeft(),g=h.computeTop(),y=e-d,b=t-g,{origRect:_}=h,w=_.right-_.left,x=_.bottom-_.top;if(y>=0&&y<w&&b>=0&&b<x){let A=c.queryHit(y,b,w,x);A&&tm(A.dateProfile.activeRange,A.dateSpan.range)&&(this.disablePointCheck||h.el.contains(h.el.getRootNode().elementFromPoint(y+d-window.scrollX,b+g-window.scrollY)))&&(!r||A.layer>r.layer)&&(A.componentId=o,A.context=c.context,A.rect.left+=d,A.rect.right+=d,A.rect.top+=g,A.rect.bottom+=g,r=A)}}}return r}}function am(n,e){return!n&&!e?!0:!!n!=!!e?!1:_5(n.dateSpan,e.dateSpan)}function ON(n,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(n,e));return Object.assign(t,Bq(n,e.dateEnv)),t}function Bq(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class Hq extends Cc{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:s}=this,r=i.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(r))},this.handleDragEnd=i=>{let{component:s}=this,{pointer:r}=this.dragging;if(!r.wasTouchScroll){let{initialHit:o,finalHit:c}=this.hitDragging;if(o&&c&&am(o,c)){let{context:h}=s,d=Object.assign(Object.assign({},ON(o.dateSpan,h)),{dayEl:o.dayEl,jsEvent:i.origEvent,view:h.viewApi||h.calendarApi.view});h.emitter.trigger("dateClick",d)}}},this.dragging=new id(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new rm(this.dragging,I0(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Fq extends Cc{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:c,dragging:h}=this,{options:d}=c.context,g=d.selectable&&c.isValidDateDownEl(o.origEvent.target);h.setIgnoreMove(!g),h.delay=o.isTouch?qq(c):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,c)=>{let{context:h}=this.component,d=null,g=!1;if(o){let y=this.hitDragging.initialHit;o.componentId===y.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(y,o)||(d=Gq(y,o,h.pluginHooks.dateSelectionTransformers)),(!d||!i9(d,o.dateProfile,h))&&(g=!0,d=null)}d?h.dispatch({type:"SELECT_DATES",selection:d}):c||h.dispatch({type:"UNSELECT_DATES"}),g?p0():m0(),c||(this.dragSelection=d)},this.handlePointerUp=o=>{this.dragSelection&&(qk(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,s=this.dragging=new id(e.el);s.touchScrollAllowed=!1,s.minDistance=i.selectMinDistance||0,s.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new rm(this.dragging,I0(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function qq(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function Gq(n,e,t){let i=n.dateSpan,s=e.dateSpan,r=[i.range.start,i.range.end,s.range.start,s.range.end];r.sort(kH);let o={};for(let c of t){let h=c(n,e);if(h===!1)return null;h&&Object.assign(o,h)}return o.range={start:r[0],end:r[3]},o.allDay=i.allDay,o}class sd extends Cc{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let c=o.origEvent.target,{component:h,dragging:d}=this,{mirror:g}=d,{options:y}=h.context,b=h.context;this.subjectEl=o.subjectEl;let _=this.subjectSeg=pc(o.subjectEl),x=(this.eventRange=_.eventRange).instance.instanceId;this.relevantEvents=T0(b.getCurrentData().eventStore,x),d.minDistance=o.isTouch?0:y.eventDragMinDistance,d.delay=o.isTouch&&x!==h.props.eventSelection?Yq(h):null,y.fixedMirrorParent?g.parentNode=y.fixedMirrorParent:g.parentNode=Rn(c,".fc"),g.revertDuration=y.dragRevertDuration;let A=h.isValidSegDownEl(c)&&!Rn(c,".fc-event-resizer");d.setIgnoreMove(!A),this.isDragging=A&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let c=this.component.context,h=this.eventRange,d=h.instance.instanceId;o.isTouch?d!==this.component.props.eventSelection&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):c.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(c.calendarApi.unselect(o),c.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Et(c,h.def,h.instance),jsEvent:o.origEvent,view:c.viewApi}))},this.handleHitUpdate=(o,c)=>{if(!this.isDragging)return;let h=this.relevantEvents,d=this.hitDragging.initialHit,g=this.component.context,y=null,b=null,_=null,w=!1,x={affectedEvents:h,mutatedEvents:Li(),isEvent:!0};if(o){y=o.context;let A=y.options;g===y||A.editable&&A.droppable?(b=Wq(d,o,this.eventRange.instance.range.start,y.getCurrentData().pluginHooks.eventDragMutationMassagers),b&&(_=D0(h,y.getCurrentData().eventUiBases,b,y),x.mutatedEvents=_,rN(x,o.dateProfile,y)||(w=!0,b=null,_=null,x.mutatedEvents=Li()))):y=null}this.displayDrag(y,x),w?p0():m0(),c||(g===y&&am(d,o)&&(b=null),this.dragging.setMirrorNeedsRevert(!b),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=y,this.validMutation=b,this.mutatedRelevantEvents=_)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let c=this.component.context,h=c.viewApi,{receivingContext:d,validMutation:g}=this,y=this.eventRange.def,b=this.eventRange.instance,_=new Et(c,y,b),w=this.relevantEvents,x=this.mutatedRelevantEvents,{finalHit:A}=this.hitDragging;if(this.clearDrag(),c.emitter.trigger("eventDragStop",{el:this.subjectEl,event:_,jsEvent:o.origEvent,view:h}),g){if(d===c){let D=new Et(c,x.defs[y.defId],b?x.instances[b.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:x});let O={oldEvent:_,event:D,relatedEvents:Ao(x,c,b),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:w})}},j={};for(let H of c.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(j,H(g,c));c.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},O),j),{el:o.subjectEl,delta:g.datesDelta,jsEvent:o.origEvent,view:h})),c.emitter.trigger("eventChange",O)}else if(d){let D={event:_,relatedEvents:Ao(w,c,b),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:w})}};c.emitter.trigger("eventLeave",Object.assign(Object.assign({},D),{draggedEl:o.subjectEl,view:h})),c.dispatch({type:"REMOVE_EVENTS",eventStore:w}),c.emitter.trigger("eventRemove",D);let O=x.defs[y.defId],j=x.instances[b.instanceId],H=new Et(d,O,j);d.dispatch({type:"MERGE_EVENTS",eventStore:x});let q={event:H,relatedEvents:Ao(x,d,j),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:x})}};d.emitter.trigger("eventAdd",q),o.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:b.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},ON(A.dateSpan,d)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:A.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},q),{draggedEl:o.subjectEl,view:A.context.viewApi}))}}else c.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:i}=t.context,s=this.dragging=new id(e.el);s.pointer.selector=sd.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new rm(this.dragging,Gb);r.useSubjectCenter=e.useEventCenter,r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let i=this.component.context,s=this.receivingContext;s&&s!==e&&(s===i?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Li(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}sd.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Wq(n,e,t,i){let s=n.dateSpan,r=e.dateSpan,o=s.range.start,c=r.range.start,h={};s.allDay!==r.allDay&&(h.allDay=r.allDay,h.hasEnd=e.context.options.allDayMaintainDuration,r.allDay?o=_t(t):o=t);let d=Kl(o,c,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);d.milliseconds&&(h.allDay=!1);let g={datesDelta:d,standardProps:h};for(let y of i)y(g,n,e);return g}function Yq(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class $q extends Cc{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=r=>{let{component:o}=this,c=this.querySegEl(r),h=pc(c),d=this.eventRange=h.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(r.origEvent.target)||r.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=r=>{let{context:o}=this.component,c=this.eventRange;this.relevantEvents=T0(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let h=this.querySegEl(r);this.draggingSegEl=h,this.draggingSeg=pc(h),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:h,event:new Et(o,c.def,c.instance),jsEvent:r.origEvent,view:o.viewApi})},this.handleHitUpdate=(r,o,c)=>{let{context:h}=this.component,d=this.relevantEvents,g=this.hitDragging.initialHit,y=this.eventRange.instance,b=null,_=null,w=!1,x={affectedEvents:d,mutatedEvents:Li(),isEvent:!0};r&&(r.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,r)||(b=Qq(g,r,c.subjectEl.classList.contains("fc-event-resizer-start"),y.range))),b&&(_=D0(d,h.getCurrentData().eventUiBases,b,h),x.mutatedEvents=_,rN(x,r.dateProfile,h)||(w=!0,b=null,_=null,x.mutatedEvents=null)),_?h.dispatch({type:"SET_EVENT_RESIZE",state:x}):h.dispatch({type:"UNSET_EVENT_RESIZE"}),w?p0():m0(),o||(b&&am(g,r)&&(b=null),this.validMutation=b,this.mutatedRelevantEvents=_)},this.handleDragEnd=r=>{let{context:o}=this.component,c=this.eventRange.def,h=this.eventRange.instance,d=new Et(o,c,h),g=this.relevantEvents,y=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:r.origEvent,view:o.viewApi}),this.validMutation){let b=new Et(o,y.defs[c.defId],h?y.instances[h.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:y});let _={oldEvent:d,event:b,relatedEvents:Ao(y,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:g})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},_),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Xe(0),endDelta:this.validMutation.endDelta||Xe(0),jsEvent:r.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",_)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new id(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let s=this.hitDragging=new rm(this.dragging,I0(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Rn(e.subjectEl,".fc-event")}}function Qq(n,e,t,i){let s=n.context.dateEnv,r=n.dateSpan.range.start,o=e.dateSpan.range.start,c=Kl(r,o,s,n.largeUnit);if(t){if(s.add(i.start,c)<i.end)return{startDelta:c}}else if(s.add(i.end,c)>i.start)return{endDelta:c};return null}class Kq{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let s=this.context.options.unselectCancel,r=wk(i.origEvent);this.matchesCancel=!!Rn(r,s),this.matchesEvent=!!Rn(r,sd.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:s}=this,{documentPointer:r}=this,o=s.getCurrentData();if(!r.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let c=s.options.unselectAuto;c&&(!c||!this.matchesCancel)&&s.calendarApi.unselect(i)}o.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new IN(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Xq={fixedMirrorParent:ee},Zq={dateClick:ee,eventDragStart:ee,eventDragStop:ee,eventDrop:ee,eventResizeStart:ee,eventResizeStop:ee,eventResize:ee,drop:ee,eventReceive:ee,eventLeave:ee};O0.dataAttrPrefix="";var Jq=Ra({name:"@fullcalendar/interaction",componentInteractions:[Hq,Fq,sd,$q],calendarInteractions:[Kq],elementDraggingImpl:id,optionRefiners:Xq,listenerRefiners:Zq});const e8=({events:n,onDateClick:e})=>{const[t,i]=B.useState(window.innerWidth<768);B.useEffect(()=>{const r=()=>i(window.innerWidth<768);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);const s=t?{left:"prev,next",center:"title",right:""}:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek"};return E.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-lg p-4",children:E.jsx(EN,{plugins:[kq,Jq],initialView:"dayGridMonth",headerToolbar:s,events:n,dateClick:e,height:"auto"})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function rd(n){return n+.5|0}const aa=(n,e,t)=>Math.max(Math.min(n,t),e);function Ju(n){return aa(rd(n*2.55),0,255)}function ga(n){return aa(rd(n*255),0,255)}function tr(n){return aa(rd(n/2.55)/100,0,1)}function mR(n){return aa(rd(n*100),0,100)}const bi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Kb=[..."0123456789ABCDEF"],t8=n=>Kb[n&15],n8=n=>Kb[(n&240)>>4]+Kb[n&15],Wf=n=>(n&240)>>4===(n&15),i8=n=>Wf(n.r)&&Wf(n.g)&&Wf(n.b)&&Wf(n.a);function s8(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&bi[n[1]]*17,g:255&bi[n[2]]*17,b:255&bi[n[3]]*17,a:e===5?bi[n[4]]*17:255}:(e===7||e===9)&&(t={r:bi[n[1]]<<4|bi[n[2]],g:bi[n[3]]<<4|bi[n[4]],b:bi[n[5]]<<4|bi[n[6]],a:e===9?bi[n[7]]<<4|bi[n[8]]:255})),t}const r8=(n,e)=>n<255?e(n):"";function a8(n){var e=i8(n)?t8:n8;return n?"#"+e(n.r)+e(n.g)+e(n.b)+r8(n.a,e):void 0}const o8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function PN(n,e,t){const i=e*Math.min(t,1-t),s=(r,o=(r+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function l8(n,e,t){const i=(s,r=(s+n/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function c8(n,e,t){const i=PN(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)i[s]*=1-e-t,i[s]+=e;return i}function u8(n,e,t,i,s){return n===s?(e-t)/i+(e<t?6:0):e===s?(t-n)/i+2:(n-e)/i+4}function L0(n){const t=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(t,i,s),o=Math.min(t,i,s),c=(r+o)/2;let h,d,g;return r!==o&&(g=r-o,d=c>.5?g/(2-r-o):g/(r+o),h=u8(t,i,s,g,r),h=h*60+.5),[h|0,d||0,c]}function V0(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(ga)}function U0(n,e,t){return V0(PN,n,e,t)}function h8(n,e,t){return V0(c8,n,e,t)}function d8(n,e,t){return V0(l8,n,e,t)}function jN(n){return(n%360+360)%360}function f8(n){const e=o8.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Ju(+e[5]):ga(+e[5]));const s=jN(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=h8(s,r,o):e[1]==="hsv"?i=d8(s,r,o):i=U0(s,r,o),{r:i[0],g:i[1],b:i[2],a:t}}function g8(n,e){var t=L0(n);t[0]=jN(t[0]+e),t=U0(t),n.r=t[0],n.g=t[1],n.b=t[2]}function p8(n){if(!n)return;const e=L0(n),t=e[0],i=mR(e[1]),s=mR(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${s}%, ${tr(n.a)})`:`hsl(${t}, ${i}%, ${s}%)`}const yR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},vR={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function m8(){const n={},e=Object.keys(vR),t=Object.keys(yR);let i,s,r,o,c;for(i=0;i<e.length;i++){for(o=c=e[i],s=0;s<t.length;s++)r=t[s],c=c.replace(r,yR[r]);r=parseInt(vR[o],16),n[c]=[r>>16&255,r>>8&255,r&255]}return n}let Yf;function y8(n){Yf||(Yf=m8(),Yf.transparent=[0,0,0,0]);const e=Yf[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const v8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function b8(n){const e=v8.exec(n);let t=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?Ju(o):aa(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?Ju(i):aa(i,0,255)),s=255&(e[4]?Ju(s):aa(s,0,255)),r=255&(e[6]?Ju(r):aa(r,0,255)),{r:i,g:s,b:r,a:t}}}function _8(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${tr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const $v=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Hl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function E8(n,e,t){const i=Hl(tr(n.r)),s=Hl(tr(n.g)),r=Hl(tr(n.b));return{r:ga($v(i+t*(Hl(tr(e.r))-i))),g:ga($v(s+t*(Hl(tr(e.g))-s))),b:ga($v(r+t*(Hl(tr(e.b))-r))),a:n.a+t*(e.a-n.a)}}function $f(n,e,t){if(n){let i=L0(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=U0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function LN(n,e){return n&&Object.assign(e||{},n)}function bR(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ga(n[3]))):(e=LN(n,{r:0,g:0,b:0,a:1}),e.a=ga(e.a)),e}function S8(n){return n.charAt(0)==="r"?b8(n):f8(n)}class Oh{constructor(e){if(e instanceof Oh)return e;const t=typeof e;let i;t==="object"?i=bR(e):t==="string"&&(i=s8(e)||y8(e)||S8(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=LN(this._rgb);return e&&(e.a=tr(e.a)),e}set rgb(e){this._rgb=bR(e)}rgbString(){return this._valid?_8(this._rgb):void 0}hexString(){return this._valid?a8(this._rgb):void 0}hslString(){return this._valid?p8(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let r;const o=t===r?.5:t,c=2*o-1,h=i.a-s.a,d=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;r=1-d,i.r=255&d*i.r+r*s.r+.5,i.g=255&d*i.g+r*s.g+.5,i.b=255&d*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=E8(this._rgb,e._rgb,t)),this}clone(){return new Oh(this.rgb)}alpha(e){return this._rgb.a=ga(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=rd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return $f(this._rgb,2,e),this}darken(e){return $f(this._rgb,2,-e),this}saturate(e){return $f(this._rgb,1,e),this}desaturate(e){return $f(this._rgb,1,-e),this}rotate(e){return g8(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Zs(){}const w8=(()=>{let n=0;return()=>n++})();function nt(n){return n==null}function Jt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $e(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ti(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function us(n,e){return Ti(n)?n:e}function Be(n,e){return typeof n>"u"?e:n}const A8=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,VN=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function pt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function ot(n,e,t,i){let s,r,o;if(Jt(n))for(r=n.length,s=0;s<r;s++)e.call(t,n[s],s);else if($e(n))for(o=Object.keys(n),r=o.length,s=0;s<r;s++)e.call(t,n[o[s]],o[s])}function mp(n,e){let t,i,s,r;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(s=n[t],r=e[t],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function yp(n){if(Jt(n))return n.map(yp);if($e(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let s=0;for(;s<i;++s)e[t[s]]=yp(n[t[s]]);return e}return n}function UN(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function x8(n,e,t,i){if(!UN(n))return;const s=e[n],r=t[n];$e(s)&&$e(r)?Ph(s,r,i):e[n]=yp(r)}function Ph(n,e,t){const i=Jt(e)?e:[e],s=i.length;if(!$e(n))return n;t=t||{};const r=t.merger||x8;let o;for(let c=0;c<s;++c){if(o=i[c],!$e(o))continue;const h=Object.keys(o);for(let d=0,g=h.length;d<g;++d)r(h[d],n,o,t)}return n}function yh(n,e){return Ph(n,e,{merger:T8})}function T8(n,e,t){if(!UN(n))return;const i=e[n],s=t[n];$e(i)&&$e(s)?yh(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=yp(s))}const _R={"":n=>n,x:n=>n.x,y:n=>n.y};function R8(n){const e=n.split("."),t=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function C8(n){const e=R8(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Po(n,e){return(_R[e]||(_R[e]=C8(e)))(n)}function z0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const jh=n=>typeof n<"u",Aa=n=>typeof n=="function",ER=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function D8(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Pt=Math.PI,Ot=2*Pt,I8=Ot+Pt,vp=Number.POSITIVE_INFINITY,k8=Pt/180,en=Pt/2,uo=Pt/4,SR=Pt*2/3,zN=Math.log10,_s=Math.sign;function vh(n,e,t){return Math.abs(n-e)<t}function wR(n){const e=Math.round(n);n=vh(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(zN(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function N8(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((s,r)=>s-r).pop(),e}function M8(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Lh(n){return!M8(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function O8(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function P8(n,e,t){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function rr(n){return n*(Pt/180)}function j8(n){return n*(180/Pt)}function AR(n){if(!Ti(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function BN(n,e){const t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);let r=Math.atan2(i,t);return r<-.5*Pt&&(r+=Ot),{angle:r,distance:s}}function Xb(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function L8(n,e){return(n-e+I8)%Ot-Pt}function Zr(n){return(n%Ot+Ot)%Ot}function Vh(n,e,t,i){const s=Zr(n),r=Zr(e),o=Zr(t),c=Zr(r-s),h=Zr(o-s),d=Zr(s-r),g=Zr(s-o);return s===r||s===o||i&&r===o||c>h&&d<g}function Cn(n,e,t){return Math.max(e,Math.min(t,n))}function V8(n){return Cn(n,-32768,32767)}function oa(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function B0(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,t(r)?s=r:i=r;return{lo:s,hi:i}}const wo=(n,e,t,i)=>B0(n,t,i?s=>{const r=n[s][e];return r<t||r===t&&n[s+1][e]===t}:s=>n[s][e]<t),U8=(n,e,t)=>B0(n,t,i=>n[i][e]>=t);function z8(n,e,t){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>t;)s--;return i>0||s<n.length?n.slice(i,s):n}const HN=["push","pop","shift","splice","unshift"];function B8(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),HN.forEach(t=>{const i="_onData"+z0(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...r)}),o}})})}function xR(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(HN.forEach(r=>{delete n[r]}),delete n._chartjs)}function FN(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const qN=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function GN(n,e){let t=[],i=!1;return function(...s){t=s,i||(i=!0,qN.call(window,()=>{i=!1,n.apply(e,t)}))}}function H8(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const H0=n=>n==="start"?"left":n==="end"?"right":"center",An=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,F8=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function q8(n,e,t){const i=e.length;let s=0,r=i;if(n._sorted){const{iScale:o,vScale:c,_parsed:h}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=o.axis,{min:y,max:b,minDefined:_,maxDefined:w}=o.getUserBounds();if(_){if(s=Math.min(wo(h,g,y).lo,t?i:wo(e,g,o.getPixelForValue(y)).lo),d){const x=h.slice(0,s+1).reverse().findIndex(A=>!nt(A[c.axis]));s-=Math.max(0,x)}s=Cn(s,0,i-1)}if(w){let x=Math.max(wo(h,o.axis,b,!0).hi+1,t?0:wo(e,g,o.getPixelForValue(b),!0).hi+1);if(d){const A=h.slice(x-1).findIndex(D=>!nt(D[c.axis]));x+=Math.max(0,A)}r=Cn(x,s,i)-s}else r=i-s}return{start:s,count:r}}function G8(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),r}const Qf=n=>n===0||n===1,TR=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ot/t)),RR=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ot/t)+1,bh={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*en)+1,easeOutSine:n=>Math.sin(n*en),easeInOutSine:n=>-.5*(Math.cos(Pt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Qf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Qf(n)?n:TR(n,.075,.3),easeOutElastic:n=>Qf(n)?n:RR(n,.075,.3),easeInOutElastic(n){return Qf(n)?n:n<.5?.5*TR(n*2,.1125,.45):.5+.5*RR(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-bh.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?bh.easeInBounce(n*2)*.5:bh.easeOutBounce(n*2-1)*.5+.5};function F0(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function CR(n){return F0(n)?n:new Oh(n)}function Qv(n){return F0(n)?n:new Oh(n).saturate(.5).darken(.1).hexString()}const W8=["x","y","borderWidth","radius","tension"],Y8=["color","borderColor","backgroundColor"];function $8(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Y8},numbers:{type:"number",properties:W8}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Q8(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const DR=new Map;function K8(n,e){e=e||{};const t=n+JSON.stringify(e);let i=DR.get(t);return i||(i=new Intl.NumberFormat(n,e),DR.set(t,i)),i}function q0(n,e,t){return K8(e,t).format(n)}const X8={values(n){return Jt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let s,r=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),r=Z8(n,t)}const o=zN(Math.abs(r)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),q0(n,i,h)}};function Z8(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var WN={formatters:X8};function J8(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:WN.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const jo=Object.create(null),Zb=Object.create(null);function _h(n,e){if(!e)return n;const t=e.split(".");for(let i=0,s=t.length;i<s;++i){const r=t[i];n=n[r]||(n[r]=Object.create(null))}return n}function Kv(n,e,t){return typeof e=="string"?Ph(_h(n,e),t):Ph(_h(n,""),e)}class eG{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Qv(s.backgroundColor),this.hoverBorderColor=(i,s)=>Qv(s.borderColor),this.hoverColor=(i,s)=>Qv(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Kv(this,e,t)}get(e){return _h(this,e)}describe(e,t){return Kv(Zb,e,t)}override(e,t){return Kv(jo,e,t)}route(e,t,i,s){const r=_h(this,e),o=_h(this,i),c="_"+t;Object.defineProperties(r,{[c]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],d=o[s];return $e(h)?Object.assign({},d,h):Be(h,d)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var zt=new eG({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[$8,Q8,J8]);function tG(n){return!n||nt(n.size)||nt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function IR(n,e,t,i,s){let r=e[s];return r||(r=e[s]=n.measureText(s).width,t.push(s)),r>i&&(i=r),i}function ho(n,e,t){const i=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*i)/i+s}function kR(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Jb(n,e,t,i){YN(n,e,t,i,null)}function YN(n,e,t,i,s){let r,o,c,h,d,g,y,b;const _=e.pointStyle,w=e.rotation,x=e.radius;let A=(w||0)*k8;if(_&&typeof _=="object"&&(r=_.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(A),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(x)||x<=0)){switch(n.beginPath(),_){default:s?n.ellipse(t,i,s/2,x,0,0,Ot):n.arc(t,i,x,0,Ot),n.closePath();break;case"triangle":g=s?s/2:x,n.moveTo(t+Math.sin(A)*g,i-Math.cos(A)*x),A+=SR,n.lineTo(t+Math.sin(A)*g,i-Math.cos(A)*x),A+=SR,n.lineTo(t+Math.sin(A)*g,i-Math.cos(A)*x),n.closePath();break;case"rectRounded":d=x*.516,h=x-d,o=Math.cos(A+uo)*h,y=Math.cos(A+uo)*(s?s/2-d:h),c=Math.sin(A+uo)*h,b=Math.sin(A+uo)*(s?s/2-d:h),n.arc(t-y,i-c,d,A-Pt,A-en),n.arc(t+b,i-o,d,A-en,A),n.arc(t+y,i+c,d,A,A+en),n.arc(t-b,i+o,d,A+en,A+Pt),n.closePath();break;case"rect":if(!w){h=Math.SQRT1_2*x,g=s?s/2:h,n.rect(t-g,i-h,2*g,2*h);break}A+=uo;case"rectRot":y=Math.cos(A)*(s?s/2:x),o=Math.cos(A)*x,c=Math.sin(A)*x,b=Math.sin(A)*(s?s/2:x),n.moveTo(t-y,i-c),n.lineTo(t+b,i-o),n.lineTo(t+y,i+c),n.lineTo(t-b,i+o),n.closePath();break;case"crossRot":A+=uo;case"cross":y=Math.cos(A)*(s?s/2:x),o=Math.cos(A)*x,c=Math.sin(A)*x,b=Math.sin(A)*(s?s/2:x),n.moveTo(t-y,i-c),n.lineTo(t+y,i+c),n.moveTo(t+b,i-o),n.lineTo(t-b,i+o);break;case"star":y=Math.cos(A)*(s?s/2:x),o=Math.cos(A)*x,c=Math.sin(A)*x,b=Math.sin(A)*(s?s/2:x),n.moveTo(t-y,i-c),n.lineTo(t+y,i+c),n.moveTo(t+b,i-o),n.lineTo(t-b,i+o),A+=uo,y=Math.cos(A)*(s?s/2:x),o=Math.cos(A)*x,c=Math.sin(A)*x,b=Math.sin(A)*(s?s/2:x),n.moveTo(t-y,i-c),n.lineTo(t+y,i+c),n.moveTo(t+b,i-o),n.lineTo(t-b,i+o);break;case"line":o=s?s/2:Math.cos(A)*x,c=Math.sin(A)*x,n.moveTo(t-o,i-c),n.lineTo(t+o,i+c);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(A)*(s?s/2:x),i+Math.sin(A)*x);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Uh(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function G0(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function W0(n){n.restore()}function nG(n,e,t,i,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const r=(e.x+t.x)/2;n.lineTo(r,e.y),n.lineTo(r,t.y)}else s==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function iG(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function sG(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),nt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function rG(n,e,t,i,s){if(s.strikethrough||s.underline){const r=n.measureText(i),o=e-r.actualBoundingBoxLeft,c=e+r.actualBoundingBoxRight,h=t-r.actualBoundingBoxAscent,d=t+r.actualBoundingBoxDescent,g=s.strikethrough?(h+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(o,g),n.lineTo(c,g),n.stroke()}}function aG(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function zh(n,e,t,i,s,r={}){const o=Jt(e)?e:[e],c=r.strokeWidth>0&&r.strokeColor!=="";let h,d;for(n.save(),n.font=s.string,sG(n,r),h=0;h<o.length;++h)d=o[h],r.backdrop&&aG(n,r.backdrop),c&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),nt(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(d,t,i,r.maxWidth)),n.fillText(d,t,i,r.maxWidth),rG(n,t,i,d,r),i+=Number(s.lineHeight);n.restore()}function bp(n,e){const{x:t,y:i,w:s,h:r,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*Pt,Pt,!0),n.lineTo(t,i+r-o.bottomLeft),n.arc(t+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Pt,en,!0),n.lineTo(t+s-o.bottomRight,i+r),n.arc(t+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,en,0,!0),n.lineTo(t+s,i+o.topRight),n.arc(t+s-o.topRight,i+o.topRight,o.topRight,0,-en,!0),n.lineTo(t+o.topLeft,i)}const oG=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lG=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function cG(n,e){const t=(""+n).match(oG);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const uG=n=>+n||0;function Y0(n,e){const t={},i=$e(e),s=i?Object.keys(e):e,r=$e(n)?i?o=>Be(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of s)t[o]=uG(r(o));return t}function $N(n){return Y0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ic(n){return Y0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ri(n){const e=$N(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Dn(n,e){n=n||{},e=e||zt.font;let t=Be(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Be(n.style,e.style);i&&!(""+i).match(lG)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Be(n.family,e.family),lineHeight:cG(Be(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Be(n.weight,e.weight),string:""};return s.string=tG(s),s}function Kf(n,e,t,i){let s,r,o;for(s=0,r=n.length;s<r;++s)if(o=n[s],o!==void 0&&o!==void 0)return o}function hG(n,e,t){const{min:i,max:s}=n,r=VN(e,(s-i)/2),o=(c,h)=>t&&c===0?0:c+h;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function Qo(n,e){return Object.assign(Object.create(n),e)}function $0(n,e=[""],t,i,s=()=>n[0]){const r=t||n;typeof i>"u"&&(i=ZN("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:s,override:c=>$0([c,...n],e,r,i)};return new Proxy(o,{deleteProperty(c,h){return delete c[h],delete c._keys,delete n[0][h],!0},get(c,h){return KN(c,h,()=>bG(h,e,n,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,h){return MR(c).includes(h)},ownKeys(c){return MR(c)},set(c,h,d){const g=c._storage||(c._storage=s());return c[h]=g[h]=d,delete c._keys,!0}})}function mc(n,e,t,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:QN(n,i),setContext:r=>mc(n,r,t,i),override:r=>mc(n.override(r),e,t,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,c){return KN(r,o,()=>fG(r,o,c))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,c){return n[o]=c,delete r[o],!0}})}function QN(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:i,isScriptable:Aa(t)?t:()=>t,isIndexable:Aa(i)?i:()=>i}}const dG=(n,e)=>n?n+z0(e):e,Q0=(n,e)=>$e(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function KN(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function fG(n,e,t){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=n;let c=i[e];return Aa(c)&&o.isScriptable(e)&&(c=gG(e,c,n,t)),Jt(c)&&c.length&&(c=pG(e,c,n,o.isIndexable)),Q0(e,c)&&(c=mc(c,s,r&&r[e],o)),c}function gG(n,e,t,i){const{_proxy:s,_context:r,_subProxy:o,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=e(r,o||i);return c.delete(n),Q0(n,h)&&(h=K0(s._scopes,s,n,h)),h}function pG(n,e,t,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:c}=t;if(typeof r.index<"u"&&i(n))return e[r.index%e.length];if($e(e[0])){const h=e,d=s._scopes.filter(g=>g!==h);e=[];for(const g of h){const y=K0(d,s,n,g);e.push(mc(y,r,o&&o[n],c))}}return e}function XN(n,e,t){return Aa(n)?n(e,t):n}const mG=(n,e)=>n===!0?e:typeof n=="string"?Po(e,n):void 0;function yG(n,e,t,i,s){for(const r of e){const o=mG(t,r);if(o){n.add(o);const c=XN(o._fallback,t,s);if(typeof c<"u"&&c!==t&&c!==i)return c}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function K0(n,e,t,i){const s=e._rootScopes,r=XN(e._fallback,t,i),o=[...n,...s],c=new Set;c.add(i);let h=NR(c,o,t,r||t,i);return h===null||typeof r<"u"&&r!==t&&(h=NR(c,o,r,h,i),h===null)?!1:$0(Array.from(c),[""],s,r,()=>vG(e,t,i))}function NR(n,e,t,i,s){for(;t;)t=yG(n,e,t,i,s);return t}function vG(n,e,t){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return Jt(s)&&$e(t)?t:s||{}}function bG(n,e,t,i){let s;for(const r of e)if(s=ZN(dG(r,n),t),typeof s<"u")return Q0(n,s)?K0(t,i,n,s):s}function ZN(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function MR(n){let e=n._keys;return e||(e=n._keys=_G(n._scopes)),e}function _G(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const EG=Number.EPSILON||1e-14,yc=(n,e)=>e<n.length&&!n[e].skip&&n[e],JN=n=>n==="x"?"y":"x";function SG(n,e,t,i){const s=n.skip?e:n,r=e,o=t.skip?e:t,c=Xb(r,s),h=Xb(o,r);let d=c/(c+h),g=h/(c+h);d=isNaN(d)?0:d,g=isNaN(g)?0:g;const y=i*d,b=i*g;return{previous:{x:r.x-y*(o.x-s.x),y:r.y-y*(o.y-s.y)},next:{x:r.x+b*(o.x-s.x),y:r.y+b*(o.y-s.y)}}}function wG(n,e,t){const i=n.length;let s,r,o,c,h,d=yc(n,0);for(let g=0;g<i-1;++g)if(h=d,d=yc(n,g+1),!(!h||!d)){if(vh(e[g],0,EG)){t[g]=t[g+1]=0;continue}s=t[g]/e[g],r=t[g+1]/e[g],c=Math.pow(s,2)+Math.pow(r,2),!(c<=9)&&(o=3/Math.sqrt(c),t[g]=s*o*e[g],t[g+1]=r*o*e[g])}}function AG(n,e,t="x"){const i=JN(t),s=n.length;let r,o,c,h=yc(n,0);for(let d=0;d<s;++d){if(o=c,c=h,h=yc(n,d+1),!c)continue;const g=c[t],y=c[i];o&&(r=(g-o[t])/3,c[`cp1${t}`]=g-r,c[`cp1${i}`]=y-r*e[d]),h&&(r=(h[t]-g)/3,c[`cp2${t}`]=g+r,c[`cp2${i}`]=y+r*e[d])}}function xG(n,e="x"){const t=JN(e),i=n.length,s=Array(i).fill(0),r=Array(i);let o,c,h,d=yc(n,0);for(o=0;o<i;++o)if(c=h,h=d,d=yc(n,o+1),!!h){if(d){const g=d[e]-h[e];s[o]=g!==0?(d[t]-h[t])/g:0}r[o]=c?d?_s(s[o-1])!==_s(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}wG(n,s,r),AG(n,r,e)}function Xf(n,e,t){return Math.max(Math.min(n,t),e)}function TG(n,e){let t,i,s,r,o,c=Uh(n[0],e);for(t=0,i=n.length;t<i;++t)o=r,r=c,c=t<i-1&&Uh(n[t+1],e),r&&(s=n[t],o&&(s.cp1x=Xf(s.cp1x,e.left,e.right),s.cp1y=Xf(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=Xf(s.cp2x,e.left,e.right),s.cp2y=Xf(s.cp2y,e.top,e.bottom)))}function RG(n,e,t,i,s){let r,o,c,h;if(e.spanGaps&&(n=n.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")xG(n,s);else{let d=i?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)c=n[r],h=SG(d,c,n[Math.min(r+1,o-(i?0:1))%o],e.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,d=c}e.capBezierPoints&&TG(n,t)}function X0(){return typeof window<"u"&&typeof document<"u"}function Z0(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function _p(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const om=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function CG(n,e){return om(n).getPropertyValue(e)}const DG=["top","right","bottom","left"];function xo(n,e,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const r=DG[s];i[r]=parseFloat(n[e+"-"+r+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const IG=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function kG(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:s,offsetY:r}=i;let o=!1,c,h;if(IG(s,r,n.target))c=s,h=r;else{const d=e.getBoundingClientRect();c=i.clientX-d.left,h=i.clientY-d.top,o=!0}return{x:c,y:h,box:o}}function yo(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,s=om(t),r=s.boxSizing==="border-box",o=xo(s,"padding"),c=xo(s,"border","width"),{x:h,y:d,box:g}=kG(n,t),y=o.left+(g&&c.left),b=o.top+(g&&c.top);let{width:_,height:w}=e;return r&&(_-=o.width+c.width,w-=o.height+c.height),{x:Math.round((h-y)/_*t.width/i),y:Math.round((d-b)/w*t.height/i)}}function NG(n,e,t){let i,s;if(e===void 0||t===void 0){const r=n&&Z0(n);if(!r)e=n.clientWidth,t=n.clientHeight;else{const o=r.getBoundingClientRect(),c=om(r),h=xo(c,"border","width"),d=xo(c,"padding");e=o.width-d.width-h.width,t=o.height-d.height-h.height,i=_p(c.maxWidth,r,"clientWidth"),s=_p(c.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:i||vp,maxHeight:s||vp}}const Zf=n=>Math.round(n*10)/10;function MG(n,e,t,i){const s=om(n),r=xo(s,"margin"),o=_p(s.maxWidth,n,"clientWidth")||vp,c=_p(s.maxHeight,n,"clientHeight")||vp,h=NG(n,e,t);let{width:d,height:g}=h;if(s.boxSizing==="content-box"){const b=xo(s,"border","width"),_=xo(s,"padding");d-=_.width+b.width,g-=_.height+b.height}return d=Math.max(0,d-r.width),g=Math.max(0,i?d/i:g-r.height),d=Zf(Math.min(d,o,h.maxWidth)),g=Zf(Math.min(g,c,h.maxHeight)),d&&!g&&(g=Zf(d/2)),(e!==void 0||t!==void 0)&&i&&h.height&&g>h.height&&(g=h.height,d=Zf(Math.floor(g*i))),{width:d,height:g}}function OR(n,e,t){const i=e||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(n.currentDevicePixelRatio=i,o.height=s,o.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const OG=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};X0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function PR(n,e){const t=CG(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function vo(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function PG(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function jG(n,e,t,i){const s={x:n.cp2x,y:n.cp2y},r={x:e.cp1x,y:e.cp1y},o=vo(n,s,t),c=vo(s,r,t),h=vo(r,e,t),d=vo(o,c,t),g=vo(c,h,t);return vo(d,g,t)}const LG=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},VG=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function sc(n,e,t){return n?LG(e,t):VG()}function eM(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function tM(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function nM(n){return n==="angle"?{between:Vh,compare:L8,normalize:Zr}:{between:oa,compare:(e,t)=>e-t,normalize:e=>e}}function jR({start:n,end:e,count:t,loop:i,style:s}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:s}}function UG(n,e,t){const{property:i,start:s,end:r}=t,{between:o,normalize:c}=nM(i),h=e.length;let{start:d,end:g,loop:y}=n,b,_;if(y){for(d+=h,g+=h,b=0,_=h;b<_&&o(c(e[d%h][i]),s,r);++b)d--,g--;d%=h,g%=h}return g<d&&(g+=h),{start:d,end:g,loop:y,style:n.style}}function zG(n,e,t){if(!t)return[n];const{property:i,start:s,end:r}=t,o=e.length,{compare:c,between:h,normalize:d}=nM(i),{start:g,end:y,loop:b,style:_}=UG(n,e,t),w=[];let x=!1,A=null,D,O,j;const H=()=>h(s,j,D)&&c(s,j)!==0,q=()=>c(r,D)===0||h(r,j,D),X=()=>x||H(),M=()=>!x||q();for(let C=g,k=g;C<=y;++C)O=e[C%o],!O.skip&&(D=d(O[i]),D!==j&&(x=h(D,s,r),A===null&&X()&&(A=c(D,s)===0?C:k),A!==null&&M()&&(w.push(jR({start:A,end:C,loop:b,count:o,style:_})),A=null),k=C,j=D));return A!==null&&w.push(jR({start:A,end:y,loop:b,count:o,style:_})),w}function BG(n,e){const t=[],i=n.segments;for(let s=0;s<i.length;s++){const r=zG(i[s],n.points,e);r.length&&t.push(...r)}return t}function HG(n,e,t,i){let s=0,r=e-1;if(t&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(r+=s);r>s&&n[r%e].skip;)r--;return r%=e,{start:s,end:r}}function FG(n,e,t,i){const s=n.length,r=[];let o=e,c=n[e],h;for(h=e+1;h<=t;++h){const d=n[h%s];d.skip||d.stop?c.skip||(i=!1,r.push({start:e%s,end:(h-1)%s,loop:i}),e=o=d.stop?h:null):(o=h,c.skip&&(e=h)),c=d}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function qG(n,e){const t=n.points,i=n.options.spanGaps,s=t.length;if(!s)return[];const r=!!n._loop,{start:o,end:c}=HG(t,s,r,i);if(i===!0)return LR(n,[{start:o,end:c,loop:r}],t,e);const h=c<o?c+s:c,d=!!n._fullLoop&&o===0&&c===s-1;return LR(n,FG(t,o,h,d),t,e)}function LR(n,e,t,i){return!i||!i.setContext||!t?e:GG(n,e,t,i)}function GG(n,e,t,i){const s=n._chart.getContext(),r=VR(n.options),{_datasetIndex:o,options:{spanGaps:c}}=n,h=t.length,d=[];let g=r,y=e[0].start,b=y;function _(w,x,A,D){const O=c?-1:1;if(w!==x){for(w+=h;t[w%h].skip;)w-=O;for(;t[x%h].skip;)x+=O;w%h!==x%h&&(d.push({start:w%h,end:x%h,loop:A,style:D}),g=D,y=x%h)}}for(const w of e){y=c?y:w.start;let x=t[y%h],A;for(b=y+1;b<=w.end;b++){const D=t[b%h];A=VR(i.setContext(Qo(s,{type:"segment",p0:x,p1:D,p0DataIndex:(b-1)%h,p1DataIndex:b%h,datasetIndex:o}))),WG(A,g)&&_(y,b-1,w.loop,g),x=D,g=A}y<b-1&&_(y,b-1,w.loop,g)}return d}function VR(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function WG(n,e){if(!e)return!1;const t=[],i=function(s,r){return F0(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function Jf(n,e,t){return n.options.clip?n[t]:e[t]}function YG(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Jf(t,e,"left"),right:Jf(t,e,"right"),top:Jf(i,e,"top"),bottom:Jf(i,e,"bottom")}:e}function $G(n,e){const t=e._clip;if(t.disabled)return!1;const i=YG(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class QG{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const r=t.listeners[s],o=t.duration;r.forEach(c=>c({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=qN.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,c=!1,h;for(;o>=0;--o)h=r[o],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),c=!0):(r[o]=r[r.length-1],r.pop());c&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Js=new QG;const UR="transparent",KG={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=CR(n||UR),s=i.valid&&CR(e||UR);return s&&s.valid?s.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class XG{constructor(e,t,i,s){const r=t[i];s=Kf([e.to,s,r,e.from]);const o=Kf([e.from,r,s]);this._active=!0,this._fn=e.fn||KG[e.type||typeof o],this._easing=bh[e.easing]||bh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Kf([e.to,t,s,e.from]),this._from=Kf([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,c=this._to;let h;if(this._active=r!==c&&(o||t<i),!this._active){this._target[s]=c,this._notify(!0);return}if(t<0){this._target[s]=r;return}h=t/i%2,h=o&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(r,c,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}class iM{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!$e(e))return;const t=Object.keys(zt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!$e(r))return;const o={};for(const c of t)o[c]=r[c];(Jt(r.properties)&&r.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,o)})})}_animateOptions(e,t){const i=t.options,s=JG(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&ZG(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,t){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(t),c=Date.now();let h;for(h=o.length-1;h>=0;--h){const d=o[h];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,t));continue}const g=t[d];let y=r[d];const b=i.get(d);if(y)if(b&&y.active()){y.update(b,g,c);continue}else y.cancel();if(!b||!b.duration){e[d]=g;continue}r[d]=y=new XG(b,e,d,g),s.push(y)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Js.add(this._chart,i),!0}}function ZG(n,e){const t=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=n[i[s]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function JG(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function zR(n,e){const t=n&&n.options||{},i=t.reverse,s=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function eW(n,e,t){if(t===!1)return!1;const i=zR(n,t),s=zR(e,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function tW(n){let e,t,i,s;return $e(n)?(e=n.top,t=n.right,i=n.bottom,s=n.left):e=t=i=s=n,{top:e,right:t,bottom:i,left:s,disabled:n===!1}}function sM(n,e){const t=[],i=n._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)t.push(i[s].index);return t}function BR(n,e,t,i={}){const s=n.keys,r=i.mode==="single";let o,c,h,d;if(e===null)return;let g=!1;for(o=0,c=s.length;o<c;++o){if(h=+s[o],h===t){if(g=!0,i.all)continue;break}d=n.values[h],Ti(d)&&(r||e===0||_s(e)===_s(d))&&(e+=d)}return!g&&!i.all?0:e}function nW(n,e){const{iScale:t,vScale:i}=e,s=t.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(n),c=new Array(o.length);let h,d,g;for(h=0,d=o.length;h<d;++h)g=o[h],c[h]={[s]:g,[r]:n[g]};return c}function Xv(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function iW(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function sW(n){const{min:e,max:t,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function rW(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function HR(n,e,t,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=n[s.index];if(t&&r>0||!t&&r<0)return s.index}return null}function FR(n,e){const{chart:t,_cachedMeta:i}=n,s=t._stacks||(t._stacks={}),{iScale:r,vScale:o,index:c}=i,h=r.axis,d=o.axis,g=iW(r,o,i),y=e.length;let b;for(let _=0;_<y;++_){const w=e[_],{[h]:x,[d]:A}=w,D=w._stacks||(w._stacks={});b=D[d]=rW(s,g,x),b[c]=A,b._top=HR(b,o,!0,i.type),b._bottom=HR(b,o,!1,i.type);const O=b._visualValues||(b._visualValues={});O[c]=A}}function Zv(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function aW(n,e){return Qo(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function oW(n,e,t){return Qo(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function zu(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][t]===void 0)return;delete r[i][t],r[i]._visualValues!==void 0&&r[i]._visualValues[t]!==void 0&&delete r[i]._visualValues[t]}}}const Jv=n=>n==="reset"||n==="none",qR=(n,e)=>e?n:Object.assign({},n),lW=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:sM(t,!0),values:null};class To{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Xv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&zu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(y,b,_,w)=>y==="x"?b:y==="r"?w:_,r=t.xAxisID=Be(i.xAxisID,Zv(e,"x")),o=t.yAxisID=Be(i.yAxisID,Zv(e,"y")),c=t.rAxisID=Be(i.rAxisID,Zv(e,"r")),h=t.indexAxis,d=t.iAxisID=s(h,r,o,c),g=t.vAxisID=s(h,o,r,c);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&xR(this._data,this),e._stacked&&zu(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if($e(t)){const s=this._cachedMeta;this._data=nW(t,s)}else if(i!==t){if(i){xR(i,this);const s=this._cachedMeta;zu(s),s._parsed=[]}t&&Object.isExtensible(t)&&B8(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=t._stacked;t._stacked=Xv(t.vScale,t),t.stack!==i.stack&&(s=!0,zu(t),t.stack=i.stack),this._resyncElements(e),(s||r!==t._stacked)&&(FR(this,t._parsed),t._stacked=Xv(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,c=r.axis;let h=e===0&&t===s.length?!0:i._sorted,d=e>0&&i._parsed[e-1],g,y,b;if(this._parsing===!1)i._parsed=s,i._sorted=!0,b=s;else{Jt(s[e])?b=this.parseArrayData(i,s,e,t):$e(s[e])?b=this.parseObjectData(i,s,e,t):b=this.parsePrimitiveData(i,s,e,t);const _=()=>y[c]===null||d&&y[c]<d[c];for(g=0;g<t;++g)i._parsed[g+e]=y=b[g],h&&(_()&&(h=!1),d=y);i._sorted=h}o&&FR(this,b)}parsePrimitiveData(e,t,i,s){const{iScale:r,vScale:o}=e,c=r.axis,h=o.axis,d=r.getLabels(),g=r===o,y=new Array(s);let b,_,w;for(b=0,_=s;b<_;++b)w=b+i,y[b]={[c]:g||r.parse(d[w],w),[h]:o.parse(t[w],w)};return y}parseArrayData(e,t,i,s){const{xScale:r,yScale:o}=e,c=new Array(s);let h,d,g,y;for(h=0,d=s;h<d;++h)g=h+i,y=t[g],c[h]={x:r.parse(y[0],g),y:o.parse(y[1],g)};return c}parseObjectData(e,t,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=new Array(s);let g,y,b,_;for(g=0,y=s;g<y;++g)b=g+i,_=t[b],d[g]={x:r.parse(Po(_,c),b),y:o.parse(Po(_,h),b)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,r=this._cachedMeta,o=t[e.axis],c={keys:sM(s,!0),values:t._stacks[e.axis]._visualValues};return BR(c,o,r.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const r=i[t.axis];let o=r===null?NaN:r;const c=s&&i._stacks[t.axis];s&&c&&(s.values=c,o=BR(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,c=this._getOtherScale(e),h=lW(t,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=sW(c);let b,_;function w(){_=s[b];const x=_[c.axis];return!Ti(_[e.axis])||g>x||y<x}for(b=0;b<o&&!(!w()&&(this.updateRangeFromParsed(d,e,_,h),r));++b);if(r){for(b=o-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(d,e,_,h);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=t.length;s<r;++s)o=t[s][e.axis],Ti(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=tW(Be(this.options.clip,eW(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],r=t.chartArea,o=[],c=this._drawStart||0,h=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,r,c,h),g=c;g<c+h;++g){const y=s[g];y.hidden||(y.active&&d?o.push(y):y.draw(e,r))}for(g=0;g<o.length;++g)o[g].draw(e,r)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=oW(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=aW(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s=t==="active",r=this._cachedDataOpts,o=e+"-"+t,c=r[o],h=this.enableOptionSharing&&jh(i);if(c)return qR(c,h);const d=this.chart.config,g=d.datasetElementScopeKeys(this._type,e),y=s?[`${e}Hover`,"hover",e,""]:[e,""],b=d.getOptionScopes(this.getDataset(),g),_=Object.keys(zt.elements[e]),w=()=>this.getContext(i,s,t),x=d.resolveNamedOptions(b,_,w,y);return x.$shared&&(x.$shared=h,r[o]=Object.freeze(qR(x,h))),x}_resolveAnimations(e,t,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${t}`,c=r[o];if(c)return c;let h;if(s.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,t),b=g.getOptionScopes(this.getDataset(),y);h=g.createResolver(b,this.getContext(e,i,t))}const d=new iM(s,h&&h.animations);return h&&h._cacheable&&(r[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Jv(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(t,r)||r!==s;return this.updateSharedOptions(r,t,i),{sharedOptions:r,includeOptions:o}}updateElement(e,t,i,s){Jv(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!Jv(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const r=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[c,h,d]of this._syncList)this[c](h,d);this._syncList=[];const s=i.length,r=t.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,t,i=!0){const s=this._cachedMeta,r=s.data,o=e+t;let c;const h=d=>{for(d.length+=t,c=d.length-1;c>=o;c--)d[c]=d[c-t]};for(h(r),c=e;c<o;++c)r[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(e,t),i&&this.updateElements(r,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&zu(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}be(To,"defaults",{}),be(To,"datasetElementType",null),be(To,"dataElementType",null);function cW(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=t.length;s<r;s++)i=i.concat(t[s].controller.getAllParsedValues(n));n._cache.$bar=FN(i.sort((s,r)=>s-r))}return n._cache.$bar}function uW(n){const e=n.iScale,t=cW(e,n.type);let i=e._length,s,r,o,c;const h=()=>{o===32767||o===-32768||(jh(c)&&(i=Math.min(i,Math.abs(o-c)||i)),c=o)};for(s=0,r=t.length;s<r;++s)o=e.getPixelForValue(t[s]),h();for(c=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),h();return i}function hW(n,e,t,i){const s=t.barThickness;let r,o;return nt(s)?(r=e.min*t.categoryPercentage,o=t.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[n]-r/2}}function dW(n,e,t,i){const s=e.pixels,r=s[n];let o=n>0?s[n-1]:null,c=n<s.length-1?s[n+1]:null;const h=t.categoryPercentage;o===null&&(o=r-(c===null?e.end-e.start:c-r)),c===null&&(c=r+r-o);const d=r-(r-Math.min(o,c))/2*h;return{chunk:Math.abs(c-o)/2*h/i,ratio:t.barPercentage,start:d}}function fW(n,e,t,i){const s=t.parse(n[0],i),r=t.parse(n[1],i),o=Math.min(s,r),c=Math.max(s,r);let h=o,d=c;Math.abs(o)>Math.abs(c)&&(h=c,d=o),e[t.axis]=d,e._custom={barStart:h,barEnd:d,start:s,end:r,min:o,max:c}}function rM(n,e,t,i){return Jt(n)?fW(n,e,t,i):e[t.axis]=t.parse(n,i),e}function GR(n,e,t,i){const s=n.iScale,r=n.vScale,o=s.getLabels(),c=s===r,h=[];let d,g,y,b;for(d=t,g=t+i;d<g;++d)b=e[d],y={},y[s.axis]=c||s.parse(o[d],d),h.push(rM(b,y,r,d));return h}function eb(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function gW(n,e,t){return n!==0?_s(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function pW(n){let e,t,i,s,r;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:t,end:i,reverse:e,top:s,bottom:r}}function mW(n,e,t,i){let s=e.borderSkipped;const r={};if(!s){n.borderSkipped=r;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:h,top:d,bottom:g}=pW(n);s==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?s=d:(t._bottom||0)===i?s=g:(r[WR(g,o,c,h)]=!0,s=d)),r[WR(s,o,c,h)]=!0,n.borderSkipped=r}function WR(n,e,t,i){return i?(n=yW(n,e,t),n=YR(n,t,e)):n=YR(n,e,t),n}function yW(n,e,t){return n===e?t:n===t?e:n}function YR(n,e,t){return n==="start"?e:n==="end"?t:n}function vW(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class wg extends To{parsePrimitiveData(e,t,i,s){return GR(e,t,i,s)}parseArrayData(e,t,i,s){return GR(e,t,i,s)}parseObjectData(e,t,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=r.axis==="x"?c:h,g=o.axis==="x"?c:h,y=[];let b,_,w,x;for(b=i,_=i+s;b<_;++b)x=t[b],w={},w[r.axis]=r.parse(Po(x,d),b),y.push(rM(Po(x,g),w,o,b));return y}updateRangeFromParsed(e,t,i,s){super.updateRangeFromParsed(e,t,i,s);const r=i._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:s}=t,r=this.getParsed(e),o=r._custom,c=eb(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),d=c.isHorizontal(),g=this._getRuler(),{sharedOptions:y,includeOptions:b}=this._getSharedOptions(t,s);for(let _=t;_<t+i;_++){const w=this.getParsed(_),x=r||nt(w[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(_),A=this._calculateBarIndexPixels(_,g),D=(w._stacks||{})[c.axis],O={horizontal:d,base:x.base,enableBorderRadius:!D||eb(w._custom)||o===D._top||o===D._bottom,x:d?x.head:A.center,y:d?A.center:x.head,height:d?A.size:Math.abs(x.size),width:d?Math.abs(x.size):A.size};b&&(O.options=y||this.resolveDataElementOptions(_,e[_].active?"active":s));const j=O.options||e[_].options;mW(O,j,D,o),vW(O,j,g.ratio),this.updateElement(e[_],_,O,s)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),r=i.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(t),h=c&&c[i.axis],d=g=>{const y=g._parsed.find(_=>_[i.axis]===h),b=y&&y[g.vScale.axis];if(nt(b)||isNaN(b))return!0};for(const g of s)if(!(t!==void 0&&d(g))&&((r===!1||o.indexOf(g.stack)===-1||r===void 0&&g.stack===void 0)&&o.push(g.stack),g.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const s=this._getStacks(e,i),r=t!==void 0?s.indexOf(t):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,s=[];let r,o;for(r=0,o=t.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const c=e.barThickness;return{min:c||uW(t),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,c=r||0,h=this.getParsed(e),d=h._custom,g=eb(d);let y=h[t.axis],b=0,_=i?this.applyStack(t,h,i):y,w,x;_!==y&&(b=_-y,_=y),g&&(y=d.barStart,_=d.barEnd-d.barStart,y!==0&&_s(y)!==_s(d.barEnd)&&(b=0),b+=y);const A=!nt(r)&&!g?r:b;let D=t.getPixelForValue(A);if(this.chart.getDataVisibility(e)?w=t.getPixelForValue(b+_):w=D,x=w-D,Math.abs(x)<o){x=gW(x,t,c)*o,y===c&&(D-=x/2);const O=t.getPixelForDecimal(0),j=t.getPixelForDecimal(1),H=Math.min(O,j),q=Math.max(O,j);D=Math.max(Math.min(D,q),H),w=D+x,i&&!g&&(h._stacks[t.axis]._visualValues[s]=t.getValueForPixel(w)-t.getValueForPixel(D))}if(D===t.getPixelForValue(c)){const O=_s(x)*t.getLineWidthForValue(c)/2;D+=O,x-=O}return{size:x,base:D,head:w,center:w+x/2}}_calculateBarIndexPixels(e,t){const i=t.scale,s=this.options,r=s.skipNull,o=Be(s.maxBarThickness,1/0);let c,h;if(t.grouped){const d=r?this._getStackCount(e):t.stackCount,g=s.barThickness==="flex"?dW(e,t,s,d):hW(e,t,s,d),y=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);c=g.start+g.chunk*y+g.chunk/2,h=Math.min(o,g.chunk*g.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(o,t.min*t.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[t.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}be(wg,"id","bar"),be(wg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),be(wg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function bW(n,e,t){let i=1,s=1,r=0,o=0;if(e<Ot){const c=n,h=c+e,d=Math.cos(c),g=Math.sin(c),y=Math.cos(h),b=Math.sin(h),_=(j,H,q)=>Vh(j,c,h,!0)?1:Math.max(H,H*t,q,q*t),w=(j,H,q)=>Vh(j,c,h,!0)?-1:Math.min(H,H*t,q,q*t),x=_(0,d,y),A=_(en,g,b),D=w(Pt,d,y),O=w(Pt+en,g,b);i=(x-D)/2,s=(A-O)/2,r=-(x+D)/2,o=-(A+O)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class eh extends To{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=h=>+i[h];if($e(i[e])){const{key:h="value"}=this._parsing;r=d=>+Po(i[d],h)}let o,c;for(o=e,c=e+t;o<c;++o)s._parsed[o]=r(o)}}_getRotation(){return rr(this.options.rotation-90)}_getCircumference(){return rr(this.options.circumference)}_getRotationExtents(){let e=Ot,t=-Ot;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),t=Math.max(t,r+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-o)/2,0),h=Math.min(A8(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:g,rotation:y}=this._getRotationExtents(),{ratioX:b,ratioY:_,offsetX:w,offsetY:x}=bW(y,g,h),A=(i.width-o)/b,D=(i.height-o)/_,O=Math.max(Math.min(A,D)/2,0),j=VN(this.options.radius,O),H=Math.max(j*h,0),q=(j-H)/this._getVisibleDatasetWeightTotal();this.offsetX=w*j,this.offsetY=x*j,s.total=this.calculateTotal(),this.outerRadius=j-q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-q*d,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/Ot)}updateElements(e,t,i,s){const r=s==="reset",o=this.chart,c=o.chartArea,d=o.options.animation,g=(c.left+c.right)/2,y=(c.top+c.bottom)/2,b=r&&d.animateScale,_=b?0:this.innerRadius,w=b?0:this.outerRadius,{sharedOptions:x,includeOptions:A}=this._getSharedOptions(t,s);let D=this._getRotation(),O;for(O=0;O<t;++O)D+=this._circumference(O,r);for(O=t;O<t+i;++O){const j=this._circumference(O,r),H=e[O],q={x:g+this.offsetX,y:y+this.offsetY,startAngle:D,endAngle:D+j,circumference:j,outerRadius:w,innerRadius:_};A&&(q.options=x||this.resolveDataElementOptions(O,H.active?"active":s)),D+=j,this.updateElement(H,O,q,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,s;for(s=0;s<t.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ot*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=q0(t._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const i=this.chart;let s,r,o,c,h;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,c=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)h=c.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(Be(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}be(eh,"id","doughnut"),be(eh,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),be(eh,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),be(eh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return t.labels.map((r,o)=>{const h=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class Ag extends To{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=t,o=this.chart._animationsDisabled;let{start:c,count:h}=q8(t,s,o);this._drawStart=c,this._drawCount=h,G8(t)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:d},e),this.updateElements(s,c,h,e)}updateElements(e,t,i,s){const r=s==="reset",{iScale:o,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(t,s),b=o.axis,_=c.axis,{spanGaps:w,segment:x}=this.options,A=Lh(w)?w:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||r||s==="none",O=t+i,j=e.length;let H=t>0&&this.getParsed(t-1);for(let q=0;q<j;++q){const X=e[q],M=D?X:{};if(q<t||q>=O){M.skip=!0;continue}const C=this.getParsed(q),k=nt(C[_]),P=M[b]=o.getPixelForValue(C[b],q),V=M[_]=r||k?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,C,h):C[_],q);M.skip=isNaN(P)||isNaN(V)||k,M.stop=q>0&&Math.abs(C[b]-H[b])>A,x&&(M.parsed=C,M.raw=d.data[q]),y&&(M.options=g||this.resolveDataElementOptions(q,X.active?"active":s)),D||this.updateElement(X,q,M,s),H=C}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}be(Ag,"id","line"),be(Ag,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),be(Ag,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function fo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class J0{constructor(e){be(this,"options");this.options=e||{}}static override(e){Object.assign(J0.prototype,e)}init(){}formats(){return fo()}parse(){return fo()}format(){return fo()}add(){return fo()}diff(){return fo()}startOf(){return fo()}endOf(){return fo()}}var _W={_date:J0};function EW(n,e,t,i){const{controller:s,data:r,_sorted:o}=n,c=s._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&r.length){const d=c._reversePixels?U8:wo;if(i){if(s._sharedOptions){const g=r[0],y=typeof g.getRange=="function"&&g.getRange(e);if(y){const b=d(r,e,t-y),_=d(r,e,t+y);return{lo:b.lo,hi:_.hi}}}}else{const g=d(r,e,t);if(h){const{vScale:y}=s._cachedMeta,{_parsed:b}=n,_=b.slice(0,g.lo+1).reverse().findIndex(x=>!nt(x[y.axis]));g.lo-=Math.max(0,_);const w=b.slice(g.hi).findIndex(x=>!nt(x[y.axis]));g.hi+=Math.max(0,w)}return g}}return{lo:0,hi:r.length-1}}function lm(n,e,t,i,s){const r=n.getSortedVisibleDatasetMetas(),o=t[e];for(let c=0,h=r.length;c<h;++c){const{index:d,data:g}=r[c],{lo:y,hi:b}=EW(r[c],e,o,s);for(let _=y;_<=b;++_){const w=g[_];w.skip||i(w,d,_)}}}function SW(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function tb(n,e,t,i,s){const r=[];return!s&&!n.isPointInArea(e)||lm(n,t,e,function(c,h,d){!s&&!Uh(c,n.chartArea,0)||c.inRange(e.x,e.y,i)&&r.push({element:c,datasetIndex:h,index:d})},!0),r}function wW(n,e,t,i){let s=[];function r(o,c,h){const{startAngle:d,endAngle:g}=o.getProps(["startAngle","endAngle"],i),{angle:y}=BN(o,{x:e.x,y:e.y});Vh(y,d,g)&&s.push({element:o,datasetIndex:c,index:h})}return lm(n,t,e,r),s}function AW(n,e,t,i,s,r){let o=[];const c=SW(t);let h=Number.POSITIVE_INFINITY;function d(g,y,b){const _=g.inRange(e.x,e.y,s);if(i&&!_)return;const w=g.getCenterPoint(s);if(!(!!r||n.isPointInArea(w))&&!_)return;const A=c(e,w);A<h?(o=[{element:g,datasetIndex:y,index:b}],h=A):A===h&&o.push({element:g,datasetIndex:y,index:b})}return lm(n,t,e,d),o}function nb(n,e,t,i,s,r){return!r&&!n.isPointInArea(e)?[]:t==="r"&&!i?wW(n,e,t,s):AW(n,e,t,i,s,r)}function $R(n,e,t,i,s){const r=[],o=t==="x"?"inXRange":"inYRange";let c=!1;return lm(n,t,e,(h,d,g)=>{h[o]&&h[o](e[t],s)&&(r.push({element:h,datasetIndex:d,index:g}),c=c||h.inRange(e.x,e.y,s))}),i&&!c?[]:r}var xW={modes:{index(n,e,t,i){const s=yo(e,n),r=t.axis||"x",o=t.includeInvisible||!1,c=t.intersect?tb(n,s,r,i,o):nb(n,s,r,!1,i,o),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const g=c[0].index,y=d.data[g];y&&!y.skip&&h.push({element:y,datasetIndex:d.index,index:g})}),h):[]},dataset(n,e,t,i){const s=yo(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;let c=t.intersect?tb(n,s,r,i,o):nb(n,s,r,!1,i,o);if(c.length>0){const h=c[0].datasetIndex,d=n.getDatasetMeta(h).data;c=[];for(let g=0;g<d.length;++g)c.push({element:d[g],datasetIndex:h,index:g})}return c},point(n,e,t,i){const s=yo(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return tb(n,s,r,i,o)},nearest(n,e,t,i){const s=yo(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return nb(n,s,r,t.intersect,i,o)},x(n,e,t,i){const s=yo(e,n);return $R(n,s,"x",t.intersect,i)},y(n,e,t,i){const s=yo(e,n);return $R(n,s,"y",t.intersect,i)}}};const aM=["left","top","right","bottom"];function Bu(n,e){return n.filter(t=>t.pos===e)}function QR(n,e){return n.filter(t=>aM.indexOf(t.pos)===-1&&t.box.axis===e)}function Hu(n,e){return n.sort((t,i)=>{const s=e?i:t,r=e?t:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function TW(n){const e=[];let t,i,s,r,o,c;for(t=0,i=(n||[]).length;t<i;++t)s=n[t],{position:r,options:{stack:o,stackWeight:c=1}}=s,e.push({index:t,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:c});return e}function RW(n){const e={};for(const t of n){const{stack:i,pos:s,stackWeight:r}=t;if(!i||!aM.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function CW(n,e){const t=RW(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,c;for(r=0,o=n.length;r<o;++r){c=n[r];const{fullSize:h}=c.box,d=t[c.stack],g=d&&c.stackWeight/d.weight;c.horizontal?(c.width=g?g*i:h&&e.availableWidth,c.height=s):(c.width=i,c.height=g?g*s:h&&e.availableHeight)}return t}function DW(n){const e=TW(n),t=Hu(e.filter(d=>d.box.fullSize),!0),i=Hu(Bu(e,"left"),!0),s=Hu(Bu(e,"right")),r=Hu(Bu(e,"top"),!0),o=Hu(Bu(e,"bottom")),c=QR(e,"x"),h=QR(e,"y");return{fullSize:t,leftAndTop:i.concat(r),rightAndBottom:s.concat(h).concat(o).concat(c),chartArea:Bu(e,"chartArea"),vertical:i.concat(s).concat(h),horizontal:r.concat(o).concat(c)}}function KR(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function oM(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function IW(n,e,t,i){const{pos:s,box:r}=t,o=n.maxPadding;if(!$e(s)){t.size&&(n[s]-=t.size);const y=i[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?r.height:r.width),t.size=y.size/y.count,n[s]+=t.size}r.getPadding&&oM(o,r.getPadding());const c=Math.max(0,e.outerWidth-KR(o,n,"left","right")),h=Math.max(0,e.outerHeight-KR(o,n,"top","bottom")),d=c!==n.w,g=h!==n.h;return n.w=c,n.h=h,t.horizontal?{same:d,other:g}:{same:g,other:d}}function kW(n){const e=n.maxPadding;function t(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function NW(n,e){const t=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],t[o])}),r}return i(n?["left","right"]:["top","bottom"])}function th(n,e,t,i){const s=[];let r,o,c,h,d,g;for(r=0,o=n.length,d=0;r<o;++r){c=n[r],h=c.box,h.update(c.width||e.w,c.height||e.h,NW(c.horizontal,e));const{same:y,other:b}=IW(e,t,c,i);d|=y&&s.length,g=g||b,h.fullSize||s.push(c)}return d&&th(s,e,t,i)||g}function eg(n,e,t,i,s){n.top=t,n.left=e,n.right=e+i,n.bottom=t+s,n.width=i,n.height=s}function XR(n,e,t,i){const s=t.padding;let{x:r,y:o}=e;for(const c of n){const h=c.box,d=i[c.stack]||{placed:0,weight:1},g=c.stackWeight/d.weight||1;if(c.horizontal){const y=e.w*g,b=d.size||h.height;jh(d.start)&&(o=d.start),h.fullSize?eg(h,s.left,o,t.outerWidth-s.right-s.left,b):eg(h,e.left+d.placed,o,y,b),d.start=o,d.placed+=y,o=h.bottom}else{const y=e.h*g,b=d.size||h.width;jh(d.start)&&(r=d.start),h.fullSize?eg(h,r,s.top,b,t.outerHeight-s.bottom-s.top):eg(h,r,e.top+d.placed,b,y),d.start=r,d.placed+=y,r=h.right}}e.x=r,e.y=o}var Ei={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const s=Ri(n.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(t-s.height,0),c=DW(n.boxes),h=c.vertical,d=c.horizontal;ot(n.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const g=h.reduce((x,A)=>A.box.options&&A.box.options.display===!1?x:x+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/g,hBoxMaxHeight:o/2}),b=Object.assign({},s);oM(b,Ri(i));const _=Object.assign({maxPadding:b,w:r,h:o,x:s.left,y:s.top},s),w=CW(h.concat(d),y);th(c.fullSize,_,y,w),th(h,_,y,w),th(d,_,y,w)&&th(h,_,y,w),kW(_),XR(c.leftAndTop,_,y,w),_.x+=_.w,_.y+=_.h,XR(c.rightAndBottom,_,y,w),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},ot(c.chartArea,x=>{const A=x.box;Object.assign(A,n.chartArea),A.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class lM{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class MW extends lM{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const xg="$chartjs",OW={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ZR=n=>n===null||n==="";function PW(n,e){const t=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[xg]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",ZR(s)){const r=PR(n,"width");r!==void 0&&(n.width=r)}if(ZR(i))if(n.style.height==="")n.height=n.width/(e||2);else{const r=PR(n,"height");r!==void 0&&(n.height=r)}return n}const cM=OG?{passive:!0}:!1;function jW(n,e,t){n&&n.addEventListener(e,t,cM)}function LW(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,cM)}function VW(n,e){const t=OW[n.type]||n.type,{x:i,y:s}=yo(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Ep(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function UW(n,e,t){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const c of r)o=o||Ep(c.addedNodes,i),o=o&&!Ep(c.removedNodes,i);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function zW(n,e,t){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const c of r)o=o||Ep(c.removedNodes,i),o=o&&!Ep(c.addedNodes,i);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const Bh=new Map;let JR=0;function uM(){const n=window.devicePixelRatio;n!==JR&&(JR=n,Bh.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function BW(n,e){Bh.size||window.addEventListener("resize",uM),Bh.set(n,e)}function HW(n){Bh.delete(n),Bh.size||window.removeEventListener("resize",uM)}function FW(n,e,t){const i=n.canvas,s=i&&Z0(i);if(!s)return;const r=GN((c,h)=>{const d=s.clientWidth;t(c,h),d<s.clientWidth&&t()},window),o=new ResizeObserver(c=>{const h=c[0],d=h.contentRect.width,g=h.contentRect.height;d===0&&g===0||r(d,g)});return o.observe(s),BW(n,r),o}function ib(n,e,t){t&&t.disconnect(),e==="resize"&&HW(n)}function qW(n,e,t){const i=n.canvas,s=GN(r=>{n.ctx!==null&&t(VW(r,n))},n);return jW(i,e,s),s}class GW extends lM{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(PW(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[xg])return!1;const i=t[xg].initial;["height","width"].forEach(r=>{const o=i[r];nt(o)?t.removeAttribute(r):t.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{t.style[r]=s[r]}),t.width=t.width,delete t[xg],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),o={attach:UW,detach:zW,resize:FW}[t]||qW;s[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];if(!s)return;({attach:ib,detach:ib,resize:ib}[t]||LW)(e,t,s),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return MG(e,t,i,s)}isAttached(e){const t=e&&Z0(e);return!!(t&&t.isConnected)}}function WW(n){return!X0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?MW:GW}class Hi{constructor(){be(this,"x");be(this,"y");be(this,"active",!1);be(this,"options");be(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Lh(this.x)&&Lh(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}be(Hi,"defaults",{}),be(Hi,"defaultRoutes");function YW(n,e){const t=n.options.ticks,i=$W(n),s=Math.min(t.maxTicksLimit||i,i),r=t.major.enabled?KW(e):[],o=r.length,c=r[0],h=r[o-1],d=[];if(o>s)return XW(e,d,r,o/s),d;const g=QW(r,e,s);if(o>0){let y,b;const _=o>1?Math.round((h-c)/(o-1)):null;for(tg(e,d,g,nt(_)?0:c-_,c),y=0,b=o-1;y<b;y++)tg(e,d,g,r[y],r[y+1]);return tg(e,d,g,h,nt(_)?e.length:h+_),d}return tg(e,d,g),d}function $W(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(i,s))}function QW(n,e,t){const i=ZW(n),s=e.length/t;if(!i)return Math.max(s,1);const r=N8(i);for(let o=0,c=r.length-1;o<c;o++){const h=r[o];if(h>s)return h}return Math.max(s,1)}function KW(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function XW(n,e,t,i){let s=0,r=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===r&&(e.push(n[o]),s++,r=t[s*i])}function tg(n,e,t,i,s){const r=Be(i,0),o=Math.min(Be(s,n.length),n.length);let c=0,h,d,g;for(t=Math.ceil(t),s&&(h=s-i,t=h/Math.floor(h/t)),g=r;g<0;)c++,g=Math.round(r+c*t);for(d=Math.max(r,0);d<o;d++)d===g&&(e.push(n[d]),c++,g=Math.round(r+c*t))}function ZW(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const JW=n=>n==="left"?"right":n==="right"?"left":n,eC=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,tC=(n,e)=>Math.min(e||n,n);function nC(n,e){const t=[],i=n.length/e,s=n.length;let r=0;for(;r<s;r+=i)t.push(n[Math.floor(r)]);return t}function eY(n,e,t){const i=n.ticks.length,s=Math.min(e,i-1),r=n._startPixel,o=n._endPixel,c=1e-6;let h=n.getPixelForTick(s),d;if(!(t&&(i===1?d=Math.max(h-r,o-h):e===0?d=(n.getPixelForTick(1)-h)/2:d=(h-n.getPixelForTick(s-1))/2,h+=s<e?d:-d,h<r-c||h>o+c)))return h}function tY(n,e){ot(n,t=>{const i=t.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete t.data[i[r]];i.splice(0,s)}})}function Fu(n){return n.drawTicks?n.tickLength:0}function iC(n,e){if(!n.display)return 0;const t=Dn(n.font,e),i=Ri(n.padding);return(Jt(n.text)?n.text.length:1)*t.lineHeight+i.height}function nY(n,e){return Qo(n,{scale:e,type:"scale"})}function iY(n,e,t){return Qo(n,{tick:t,index:e,type:"tick"})}function sY(n,e,t){let i=H0(n);return(t&&e!=="right"||!t&&e==="right")&&(i=JW(i)),i}function rY(n,e,t,i){const{top:s,left:r,bottom:o,right:c,chart:h}=n,{chartArea:d,scales:g}=h;let y=0,b,_,w;const x=o-s,A=c-r;if(n.isHorizontal()){if(_=An(i,r,c),$e(t)){const D=Object.keys(t)[0],O=t[D];w=g[D].getPixelForValue(O)+x-e}else t==="center"?w=(d.bottom+d.top)/2+x-e:w=eC(n,t,e);b=c-r}else{if($e(t)){const D=Object.keys(t)[0],O=t[D];_=g[D].getPixelForValue(O)-A+e}else t==="center"?_=(d.left+d.right)/2-A+e:_=eC(n,t,e);w=An(i,o,s),y=t==="left"?-en:en}return{titleX:_,titleY:w,maxWidth:b,rotation:y}}class Dc extends Hi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=us(e,Number.POSITIVE_INFINITY),t=us(t,Number.NEGATIVE_INFINITY),i=us(i,Number.POSITIVE_INFINITY),s=us(s,Number.NEGATIVE_INFINITY),{min:us(e,i),max:us(t,s),minDefined:Ti(e),maxDefined:Ti(t)}}getMinMax(e){let{min:t,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:t,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,d=c.length;h<d;++h)o=c[h].controller.getMinMax(this,e),s||(t=Math.min(t,o.min)),r||(i=Math.max(i,o.max));return t=r&&t>i?i:t,i=s&&t>i?t:i,{min:us(t,us(i,t)),max:us(i,us(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pt(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hG(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?nC(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=YW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pt(this.options.afterUpdate,[this])}beforeSetDimensions(){pt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),pt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=pt(t.callback,[r.value,i,e],this)}afterTickToLabelConversion(){pt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=tC(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,r=t.maxRotation;let o=s,c,h,d;if(!this._isVisible()||!t.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const g=this._getLabelSizes(),y=g.widest.width,b=g.highest.height,_=Cn(this.chart.width-y,0,this.maxWidth);c=e.offset?this.maxWidth/i:_/(i-1),y+6>c&&(c=_/(i-(e.offset?.5:1)),h=this.maxHeight-Fu(e.grid)-t.padding-iC(e.title,this.chart.options.font),d=Math.sqrt(y*y+b*b),o=j8(Math.min(Math.asin(Cn((g.highest.height+6)/c,-1,1)),Math.asin(Cn(h/d,-1,1))-Math.asin(Cn(b/d,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){pt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const h=iC(s,t.options.font);if(c?(e.width=this.maxWidth,e.height=Fu(r)+h):(e.height=this.maxHeight,e.width=Fu(r)+h),i.display&&this.ticks.length){const{first:d,last:g,widest:y,highest:b}=this._getLabelSizes(),_=i.padding*2,w=rr(this.labelRotation),x=Math.cos(w),A=Math.sin(w);if(c){const D=i.mirror?0:A*y.width+x*b.height;e.height=Math.min(this.maxHeight,e.height+D+_)}else{const D=i.mirror?0:x*y.width+A*b.height;e.width=Math.min(this.maxWidth,e.width+D+_)}this._calculatePadding(d,g,A,x)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:r,padding:o},position:c}=this.options,h=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,_=0;h?d?(b=s*e.width,_=i*t.height):(b=i*e.height,_=s*t.width):r==="start"?_=t.width:r==="end"?b=e.width:r!=="inner"&&(b=e.width/2,_=t.width/2),this.paddingLeft=Math.max((b-g+o)*this.width/(this.width-g),0),this.paddingRight=Math.max((_-y+o)*this.width/(this.width-y),0)}else{let g=t.height/2,y=e.height/2;r==="start"?(g=0,y=e.height):r==="end"&&(g=t.height,y=0),this.paddingTop=g+o,this.paddingBottom=y+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)nt(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=nC(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:s,_longestTextCache:r}=this,o=[],c=[],h=Math.floor(t/tC(t,i));let d=0,g=0,y,b,_,w,x,A,D,O,j,H,q;for(y=0;y<t;y+=h){if(w=e[y].label,x=this._resolveTickFontOptions(y),s.font=A=x.string,D=r[A]=r[A]||{data:{},gc:[]},O=x.lineHeight,j=H=0,!nt(w)&&!Jt(w))j=IR(s,D.data,D.gc,j,w),H=O;else if(Jt(w))for(b=0,_=w.length;b<_;++b)q=w[b],!nt(q)&&!Jt(q)&&(j=IR(s,D.data,D.gc,j,q),H+=O);o.push(j),c.push(H),d=Math.max(j,d),g=Math.max(H,g)}tY(r,t);const X=o.indexOf(d),M=c.indexOf(g),C=k=>({width:o[k]||0,height:c[k]||0});return{first:C(0),last:C(t-1),widest:C(X),highest:C(M),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return V8(this._alignToPixels?ho(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=iY(this.getContext(),e,i))}return this.$context||(this.$context=nY(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=rr(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,c=r?r.widest.width+o:0,h=r?r.highest.height+o:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:c}=s,h=r.offset,d=this.isHorizontal(),y=this.ticks.length+(h?1:0),b=Fu(r),_=[],w=c.setContext(this.getContext()),x=w.display?w.width:0,A=x/2,D=function(K){return ho(i,K,x)};let O,j,H,q,X,M,C,k,P,V,U,L;if(o==="top")O=D(this.bottom),M=this.bottom-b,k=O-A,V=D(e.top)+A,L=e.bottom;else if(o==="bottom")O=D(this.top),V=e.top,L=D(e.bottom)-A,M=O+A,k=this.top+b;else if(o==="left")O=D(this.right),X=this.right-b,C=O-A,P=D(e.left)+A,U=e.right;else if(o==="right")O=D(this.left),P=e.left,U=D(e.right)-A,X=O+A,C=this.left+b;else if(t==="x"){if(o==="center")O=D((e.top+e.bottom)/2+.5);else if($e(o)){const K=Object.keys(o)[0],ce=o[K];O=D(this.chart.scales[K].getPixelForValue(ce))}V=e.top,L=e.bottom,M=O+A,k=M+b}else if(t==="y"){if(o==="center")O=D((e.left+e.right)/2);else if($e(o)){const K=Object.keys(o)[0],ce=o[K];O=D(this.chart.scales[K].getPixelForValue(ce))}X=O-A,C=X-b,P=e.left,U=e.right}const we=Be(s.ticks.maxTicksLimit,y),ve=Math.max(1,Math.ceil(y/we));for(j=0;j<y;j+=ve){const K=this.getContext(j),ce=r.setContext(K),fe=c.setContext(K),_e=ce.lineWidth,F=ce.color,se=fe.dash||[],ue=fe.dashOffset,he=ce.tickWidth,pe=ce.tickColor,Ie=ce.tickBorderDash||[],Ee=ce.tickBorderDashOffset;H=eY(this,j,h),H!==void 0&&(q=ho(i,H,_e),d?X=C=P=U=q:M=k=V=L=q,_.push({tx1:X,ty1:M,tx2:C,ty2:k,x1:P,y1:V,x2:U,y2:L,width:_e,color:F,borderDash:se,borderDashOffset:ue,tickWidth:he,tickColor:pe,tickBorderDash:Ie,tickBorderDashOffset:Ee}))}return this._ticksLength=y,this._borderValue=O,_}_computeLabelItems(e){const t=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:d,padding:g,mirror:y}=r,b=Fu(i.grid),_=b+g,w=y?-g:_,x=-rr(this.labelRotation),A=[];let D,O,j,H,q,X,M,C,k,P,V,U,L="middle";if(s==="top")X=this.bottom-w,M=this._getXAxisLabelAlignment();else if(s==="bottom")X=this.top+w,M=this._getXAxisLabelAlignment();else if(s==="left"){const ve=this._getYAxisLabelAlignment(b);M=ve.textAlign,q=ve.x}else if(s==="right"){const ve=this._getYAxisLabelAlignment(b);M=ve.textAlign,q=ve.x}else if(t==="x"){if(s==="center")X=(e.top+e.bottom)/2+_;else if($e(s)){const ve=Object.keys(s)[0],K=s[ve];X=this.chart.scales[ve].getPixelForValue(K)+_}M=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")q=(e.left+e.right)/2-_;else if($e(s)){const ve=Object.keys(s)[0],K=s[ve];q=this.chart.scales[ve].getPixelForValue(K)}M=this._getYAxisLabelAlignment(b).textAlign}t==="y"&&(h==="start"?L="top":h==="end"&&(L="bottom"));const we=this._getLabelSizes();for(D=0,O=c.length;D<O;++D){j=c[D],H=j.label;const ve=r.setContext(this.getContext(D));C=this.getPixelForTick(D)+r.labelOffset,k=this._resolveTickFontOptions(D),P=k.lineHeight,V=Jt(H)?H.length:1;const K=V/2,ce=ve.color,fe=ve.textStrokeColor,_e=ve.textStrokeWidth;let F=M;o?(q=C,M==="inner"&&(D===O-1?F=this.options.reverse?"left":"right":D===0?F=this.options.reverse?"right":"left":F="center"),s==="top"?d==="near"||x!==0?U=-V*P+P/2:d==="center"?U=-we.highest.height/2-K*P+P:U=-we.highest.height+P/2:d==="near"||x!==0?U=P/2:d==="center"?U=we.highest.height/2-K*P:U=we.highest.height-V*P,y&&(U*=-1),x!==0&&!ve.showLabelBackdrop&&(q+=P/2*Math.sin(x))):(X=C,U=(1-V)*P/2);let se;if(ve.showLabelBackdrop){const ue=Ri(ve.backdropPadding),he=we.heights[D],pe=we.widths[D];let Ie=U-ue.top,Ee=0-ue.left;switch(L){case"middle":Ie-=he/2;break;case"bottom":Ie-=he;break}switch(M){case"center":Ee-=pe/2;break;case"right":Ee-=pe;break;case"inner":D===O-1?Ee-=pe:D>0&&(Ee-=pe/2);break}se={left:Ee,top:Ie,width:pe+ue.width,height:he+ue.height,color:ve.backdropColor}}A.push({label:H,font:k,textOffset:U,options:{rotation:x,color:ce,strokeColor:fe,strokeWidth:_e,textAlign:F,textBaseline:L,translation:[q,X],backdrop:se}})}return A}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-rr(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),c=e+r,h=o.widest.width;let d,g;return t==="left"?s?(g=this.right+r,i==="near"?d="left":i==="center"?(d="center",g+=h/2):(d="right",g+=h)):(g=this.right-c,i==="near"?d="right":i==="center"?(d="center",g-=h/2):(d="left",g=this.left)):t==="right"?s?(g=this.left+r,i==="near"?d="right":i==="center"?(d="center",g-=h/2):(d="left",g-=h)):(g=this.left+c,i==="near"?d="left":i==="center"?(d="center",g+=h/2):(d="right",g=this.right)):d="right",{textAlign:d,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:r,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const c=(h,d,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(r=0,o=s.length;r<o;++r){const h=s[r];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,g,y,b;this.isHorizontal()?(d=ho(e,this.left,o)-o/2,g=ho(e,this.right,c)+c/2,y=b=h):(y=ho(e,this.top,o)-o/2,b=ho(e,this.bottom,c)+c/2,d=g=h),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(d,y),t.lineTo(g,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&G0(i,s);const r=this.getLabelItems(e);for(const o of r){const c=o.options,h=o.font,d=o.label,g=o.textOffset;zh(i,d,0,g,h,c)}s&&W0(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const r=Dn(i.font),o=Ri(i.padding),c=i.align;let h=r.lineHeight/2;t==="bottom"||t==="center"||$e(t)?(h+=o.bottom,Jt(i.text)&&(h+=r.lineHeight*(i.text.length-1))):h+=o.top;const{titleX:d,titleY:g,maxWidth:y,rotation:b}=rY(this,h,t,c);zh(e,i.text,0,0,r,{color:i.color,maxWidth:y,rotation:b,textAlign:sY(c,t,s),textBaseline:"middle",translation:[d,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Be(e.grid&&e.grid.z,-1),s=Be(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Dc.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=t.length;r<o;++r){const c=t[r];c[i]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Dn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ng{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;lY(t)&&(i=this.register(t));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,aY(e,o,i),this.override&&zt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in zt[s]&&(delete zt[s][i],this.override&&delete jo[i])}}function aY(n,e,t){const i=Ph(Object.create(null),[t?zt.get(t):{},zt.get(e),n.defaults]);zt.set(e,i),n.defaultRoutes&&oY(e,n.defaultRoutes),n.descriptors&&zt.describe(e,n.descriptors)}function oY(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),s=i.pop(),r=[n].concat(i).join("."),o=e[t].split("."),c=o.pop(),h=o.join(".");zt.route(r,s,h,c)})}function lY(n){return"id"in n&&"defaults"in n}class cY{constructor(){this.controllers=new ng(To,"datasets",!0),this.elements=new ng(Hi,"elements"),this.plugins=new ng(Object,"plugins"),this.scales=new ng(Dc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):ot(s,o=>{const c=i||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,t,i){const s=z0(e);pt(i["before"+s],[],i),t[e](i),pt(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var ds=new cY;class uY{constructor(){this._init=[]}notify(e,t,i,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,t,i);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,s){s=s||{};for(const r of e){const o=r.plugin,c=o[i],h=[t,s,r.options];if(pt(c,h,o)===!1&&s.cancelable)return!1}return!0}invalidate(){nt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=Be(i.options&&i.options.plugins,{}),r=hY(i);return s===!1&&!t?[]:fY(e,r,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(c=>!o.some(h=>c.plugin.id===h.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function hY(n){const e={},t=[],i=Object.keys(ds.plugins.items);for(let r=0;r<i.length;r++)t.push(ds.getPlugin(i[r]));const s=n.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function dY(n,e){return!e&&n===!1?null:n===!0?{}:n}function fY(n,{plugins:e,localIds:t},i,s){const r=[],o=n.getContext();for(const c of e){const h=c.id,d=dY(i[h],s);d!==null&&r.push({plugin:c,options:gY(n.config,{plugin:c,local:t[h]},d,o)})}return r}function gY(n,{plugin:e,local:t},i,s){const r=n.pluginScopeKeys(e),o=n.getOptionScopes(i,r);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function e_(n,e){const t=zt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function pY(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function mY(n,e){return n===e?"_index_":"_value_"}function sC(n){if(n==="x"||n==="y"||n==="r")return n}function yY(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function t_(n,...e){if(sC(n))return n;for(const t of e){const i=t.axis||yY(t.position)||n.length>1&&sC(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function rC(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function vY(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return rC(n,"x",t[0])||rC(n,"y",t[0])}return{}}function bY(n,e){const t=jo[n.type]||{scales:{}},i=e.scales||{},s=e_(n.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const c=i[o];if(!$e(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const h=t_(o,c,vY(o,n),zt.scales[c.type]),d=mY(h,s),g=t.scales||{};r[o]=yh(Object.create(null),[{axis:h},c,g[h],g[d]])}),n.data.datasets.forEach(o=>{const c=o.type||n.type,h=o.indexAxis||e_(c,e),g=(jo[c]||{}).scales||{};Object.keys(g).forEach(y=>{const b=pY(y,h),_=o[b+"AxisID"]||b;r[_]=r[_]||Object.create(null),yh(r[_],[{axis:b},i[_],g[y]])})}),Object.keys(r).forEach(o=>{const c=r[o];yh(c,[zt.scales[c.type],zt.scale])}),r}function hM(n){const e=n.options||(n.options={});e.plugins=Be(e.plugins,{}),e.scales=bY(n,e)}function dM(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function _Y(n){return n=n||{},n.data=dM(n.data),hM(n),n}const aC=new Map,fM=new Set;function ig(n,e){let t=aC.get(n);return t||(t=e(),aC.set(n,t),fM.add(t)),t}const qu=(n,e,t)=>{const i=Po(e,t);i!==void 0&&n.add(i)};class EY{constructor(e){this._config=_Y(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=dM(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),hM(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ig(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return ig(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return ig(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return ig(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return(!s||t)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),c=o.get(t);if(c)return c;const h=new Set;t.forEach(g=>{e&&(h.add(e),g.forEach(y=>qu(h,e,y))),g.forEach(y=>qu(h,s,y)),g.forEach(y=>qu(h,jo[r]||{},y)),g.forEach(y=>qu(h,zt,y)),g.forEach(y=>qu(h,Zb,y))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),fM.has(t)&&o.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,jo[t]||{},zt.datasets[t]||{},{type:t},zt,Zb]}resolveNamedOptions(e,t,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:c}=oC(this._resolverCache,e,s);let h=o;if(wY(o,t)){r.$shared=!1,i=Aa(i)?i():i;const d=this.createResolver(e,i,c);h=mc(o,i,d)}for(const d of t)r[d]=h[d];return r}createResolver(e,t,i=[""],s){const{resolver:r}=oC(this._resolverCache,e,i);return $e(t)?mc(r,t,void 0,s):r}}function oC(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=t.join();let r=i.get(s);return r||(r={resolver:$0(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,r)),r}const SY=n=>$e(n)&&Object.getOwnPropertyNames(n).some(e=>Aa(n[e]));function wY(n,e){const{isScriptable:t,isIndexable:i}=QN(n);for(const s of e){const r=t(s),o=i(s),c=(o||r)&&n[s];if(r&&(Aa(c)||SY(c))||o&&Jt(c))return!0}return!1}var AY="4.4.9";const xY=["top","bottom","left","right","chartArea"];function lC(n,e){return n==="top"||n==="bottom"||xY.indexOf(n)===-1&&e==="x"}function cC(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function uC(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),pt(t&&t.onComplete,[n],e)}function TY(n){const e=n.chart,t=e.options.animation;pt(t&&t.onProgress,[n],e)}function gM(n){return X0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Tg={},hC=n=>{const e=gM(n);return Object.values(Tg).filter(t=>t.canvas===e).pop()};function RY(n,e,t){const i=Object.keys(n);for(const s of i){const r=+s;if(r>=e){const o=n[s];delete n[s],(t>0||r>e)&&(n[r+t]=o)}}}function CY(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}var Xr;let ad=(Xr=class{static register(...e){ds.add(...e),dC()}static unregister(...e){ds.remove(...e),dC()}constructor(e,t){const i=this.config=new EY(t),s=gM(e),r=hC(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||WW(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,o.aspectRatio),h=c&&c.canvas,d=h&&h.height,g=h&&h.width;if(this.id=w8(),this.ctx=c,this.canvas=h,this.width=g,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new uY,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=H8(y=>this.update(y),o.resizeDelay||0),this._dataChanges=[],Tg[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Js.listen(this,"complete",uC),Js.listen(this,"progress",TY),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:s,_aspectRatio:r}=this;return nt(e)?t&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ds}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():OR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kR(this.canvas,this.ctx),this}stop(){return Js.stop(this),this}resize(e,t){Js.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,t,r),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,OR(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),pt(i.onResize,[this,o],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};ot(t,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((o,c)=>(o[c]=!1,o),{});let r=[];t&&(r=r.concat(Object.keys(t).map(o=>{const c=t[o],h=t_(o,c),d=h==="r",g=h==="x";return{options:c,dposition:d?"chartArea":g?"bottom":"left",dtype:d?"radialLinear":g?"category":"linear"}}))),ot(r,o=>{const c=o.options,h=c.id,d=t_(h,c),g=Be(c.type,o.dtype);(c.position===void 0||lC(c.position,d)!==lC(o.dposition))&&(c.position=o.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===g)y=i[h];else{const b=ds.getScale(g);y=new b({id:h,type:g,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,e)}),ot(s,(o,c)=>{o||delete i[c]}),ot(i,o=>{Ei.configure(this,o,o.options),Ei.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(cC("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,s)=>{t.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const r=t[i];let o=this.getDatasetMeta(i);const c=r.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=c,o.indexAxis=r.indexAxis||e_(c,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const h=ds.getController(c),{datasetElementType:d,dataElementType:g}=zt.datasets[c];Object.assign(h,{dataElementType:ds.getElement(g),datasetElementType:d&&ds.getElement(d)}),o.controller=new h(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ot(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,g=this.data.datasets.length;d<g;d++){const{controller:y}=this.getDatasetMeta(d),b=!s&&r.indexOf(y)===-1;y.buildOrUpdateElements(b),o=Math.max(+y.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||ot(r,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(cC("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){ot(this.scales,e=>{Ei.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!ER(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of t){const o=i==="_removeElements"?-r:r;RY(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,c)=>c+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<t;r++)if(!ER(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ei.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],ot(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Aa(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Js.has(this)?this.attached&&!Js.running(this)&&Js.start(this):(this.draw(),uC({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,r;for(s=0,r=t.length;s<r;++s){const o=t[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=$G(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&G0(t,s),e.controller.draw(),s&&W0(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Uh(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const r=xW.modes[t];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Qo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);jh(t)?(r.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Js.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),kR(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Tg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(r,o)=>{t.addEventListener(this,r,o),e[r]=o},s=(r,o,c)=>{r.offsetX=o,r.offsetY=c,this._eventHandler(r)};ot(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,d)=>{t.addEventListener(this,h,d),e[h]=d},s=(h,d)=>{e[h]&&(t.removeEventListener(this,h,d),delete e[h])},r=(h,d)=>{this.canvas&&this.resize(h,d)};let o;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",c)},t.isAttached(this.canvas)?c():o()}unbindEvents(){ot(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ot(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let r,o,c,h;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){o=e[c];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const c=this.getDatasetMeta(r);if(!c)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:c.data[o],index:o}});!mp(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const s=this.options.hover,r=(h,d)=>h.filter(g=>!d.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),o=r(t,e),c=i?e:r(e,t);o.length&&this.updateHoverStyle(o,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:r}=this,o=t,c=this._getActiveElements(e,s,i,o),h=D8(e),d=CY(e,this._lastEvent,i,h);i&&(this._lastEvent=null,pt(r.onHover,[e,c,this],this),h&&pt(r.onClick,[e,c,this],this));const g=!mp(c,s);return(g||t)&&(this._active=c,this._updateHoverStyles(c,s,t)),this._lastEvent=d,g}_getActiveElements(e,t,i,s){if(e.type==="mouseout")return[];if(!i)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},be(Xr,"defaults",zt),be(Xr,"instances",Tg),be(Xr,"overrides",jo),be(Xr,"registry",ds),be(Xr,"version",AY),be(Xr,"getChart",hC),Xr);function dC(){return ot(ad.instances,n=>n._plugins.invalidate())}function DY(n,e,t){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:c,innerRadius:h}=e;let d=s/c;n.beginPath(),n.arc(r,o,c,i-d,t+d),h>s?(d=s/h,n.arc(r,o,h,t+d,i-d,!0)):n.arc(r,o,s,t+en,i-en),n.closePath(),n.clip()}function IY(n){return Y0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function kY(n,e,t,i){const s=IY(n.options.borderRadius),r=(t-e)/2,o=Math.min(r,i*e/2),c=h=>{const d=(t-Math.min(r,h))*i/2;return Cn(h,0,Math.min(r,d))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Cn(s.innerStart,0,o),innerEnd:Cn(s.innerEnd,0,o)}}function Fl(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Sp(n,e,t,i,s,r){const{x:o,y:c,startAngle:h,pixelMargin:d,innerRadius:g}=e,y=Math.max(e.outerRadius+i+t-d,0),b=g>0?g+i+t+d:0;let _=0;const w=s-h;if(i){const ve=g>0?g-i:0,K=y>0?y-i:0,ce=(ve+K)/2,fe=ce!==0?w*ce/(ce+i):w;_=(w-fe)/2}const x=Math.max(.001,w*y-t/Pt)/y,A=(w-x)/2,D=h+A+_,O=s-A-_,{outerStart:j,outerEnd:H,innerStart:q,innerEnd:X}=kY(e,b,y,O-D),M=y-j,C=y-H,k=D+j/M,P=O-H/C,V=b+q,U=b+X,L=D+q/V,we=O-X/U;if(n.beginPath(),r){const ve=(k+P)/2;if(n.arc(o,c,y,k,ve),n.arc(o,c,y,ve,P),H>0){const _e=Fl(C,P,o,c);n.arc(_e.x,_e.y,H,P,O+en)}const K=Fl(U,O,o,c);if(n.lineTo(K.x,K.y),X>0){const _e=Fl(U,we,o,c);n.arc(_e.x,_e.y,X,O+en,we+Math.PI)}const ce=(O-X/b+(D+q/b))/2;if(n.arc(o,c,b,O-X/b,ce,!0),n.arc(o,c,b,ce,D+q/b,!0),q>0){const _e=Fl(V,L,o,c);n.arc(_e.x,_e.y,q,L+Math.PI,D-en)}const fe=Fl(M,D,o,c);if(n.lineTo(fe.x,fe.y),j>0){const _e=Fl(M,k,o,c);n.arc(_e.x,_e.y,j,D-en,k)}}else{n.moveTo(o,c);const ve=Math.cos(k)*y+o,K=Math.sin(k)*y+c;n.lineTo(ve,K);const ce=Math.cos(P)*y+o,fe=Math.sin(P)*y+c;n.lineTo(ce,fe)}n.closePath()}function NY(n,e,t,i,s){const{fullCircles:r,startAngle:o,circumference:c}=e;let h=e.endAngle;if(r){Sp(n,e,t,i,h,s);for(let d=0;d<r;++d)n.fill();isNaN(c)||(h=o+(c%Ot||Ot))}return Sp(n,e,t,i,h,s),n.fill(),h}function MY(n,e,t,i,s){const{fullCircles:r,startAngle:o,circumference:c,options:h}=e,{borderWidth:d,borderJoinStyle:g,borderDash:y,borderDashOffset:b}=h,_=h.borderAlign==="inner";if(!d)return;n.setLineDash(y||[]),n.lineDashOffset=b,_?(n.lineWidth=d*2,n.lineJoin=g||"round"):(n.lineWidth=d,n.lineJoin=g||"bevel");let w=e.endAngle;if(r){Sp(n,e,t,i,w,s);for(let x=0;x<r;++x)n.stroke();isNaN(c)||(w=o+(c%Ot||Ot))}_&&DY(n,e,w),r||(Sp(n,e,t,i,w,s),n.stroke())}class nh extends Hi{constructor(t){super();be(this,"circumference");be(this,"endAngle");be(this,"fullCircles");be(this,"innerRadius");be(this,"outerRadius");be(this,"pixelMargin");be(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:c}=BN(r,{x:t,y:i}),{startAngle:h,endAngle:d,innerRadius:g,outerRadius:y,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),_=(this.options.spacing+this.options.borderWidth)/2,w=Be(b,d-h),x=Vh(o,h,d)&&h!==d,A=w>=Ot||x,D=oa(c,g+_,y+_);return A&&D}getCenterPoint(t){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:g}=this.options,y=(r+o)/2,b=(c+h+g+d)/2;return{x:i+Math.cos(y)*b,y:s+Math.sin(y)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Ot?Math.floor(s/Ot):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const d=1-Math.sin(Math.min(Pt,s||0)),g=r*d;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,NY(t,this,g,o,c),MY(t,this,g,o,c),t.restore()}}be(nh,"id","arc"),be(nh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),be(nh,"defaultRoutes",{backgroundColor:"backgroundColor"}),be(nh,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function pM(n,e,t=e){n.lineCap=Be(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Be(t.borderDash,e.borderDash)),n.lineDashOffset=Be(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Be(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Be(t.borderWidth,e.borderWidth),n.strokeStyle=Be(t.borderColor,e.borderColor)}function OY(n,e,t){n.lineTo(t.x,t.y)}function PY(n){return n.stepped?nG:n.tension||n.cubicInterpolationMode==="monotone"?iG:OY}function mM(n,e,t={}){const i=n.length,{start:s=0,end:r=i-1}=t,{start:o,end:c}=e,h=Math.max(s,o),d=Math.min(r,c),g=s<o&&r<o||s>c&&r>c;return{count:i,start:h,loop:e.loop,ilen:d<h&&!g?i+d-h:d-h}}function jY(n,e,t,i){const{points:s,options:r}=e,{count:o,start:c,loop:h,ilen:d}=mM(s,t,i),g=PY(r);let{move:y=!0,reverse:b}=i||{},_,w,x;for(_=0;_<=d;++_)w=s[(c+(b?d-_:_))%o],!w.skip&&(y?(n.moveTo(w.x,w.y),y=!1):g(n,x,w,b,r.stepped),x=w);return h&&(w=s[(c+(b?d:0))%o],g(n,x,w,b,r.stepped)),!!h}function LY(n,e,t,i){const s=e.points,{count:r,start:o,ilen:c}=mM(s,t,i),{move:h=!0,reverse:d}=i||{};let g=0,y=0,b,_,w,x,A,D;const O=H=>(o+(d?c-H:H))%r,j=()=>{x!==A&&(n.lineTo(g,A),n.lineTo(g,x),n.lineTo(g,D))};for(h&&(_=s[O(0)],n.moveTo(_.x,_.y)),b=0;b<=c;++b){if(_=s[O(b)],_.skip)continue;const H=_.x,q=_.y,X=H|0;X===w?(q<x?x=q:q>A&&(A=q),g=(y*g+H)/++y):(j(),n.lineTo(H,q),w=X,y=0,x=A=q),D=q}j()}function n_(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?LY:jY}function VY(n){return n.stepped?PG:n.tension||n.cubicInterpolationMode==="monotone"?jG:vo}function UY(n,e,t,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,i)&&s.closePath()),pM(n,e.options),n.stroke(s)}function zY(n,e,t,i){const{segments:s,options:r}=e,o=n_(e);for(const c of s)pM(n,r,c.style),n.beginPath(),o(n,e,c,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const BY=typeof Path2D=="function";function HY(n,e,t,i){BY&&!e.options.segment?UY(n,e,t,i):zY(n,e,t,i)}class ih extends Hi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;RG(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=qG(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],r=this.points,o=BG(this,{property:t,start:s,end:s});if(!o.length)return;const c=[],h=VY(i);let d,g;for(d=0,g=o.length;d<g;++d){const{start:y,end:b}=o[d],_=r[y],w=r[b];if(_===w){c.push(_);continue}const x=Math.abs((s-_[t])/(w[t]-_[t])),A=h(_,w,x,i.stepped);A[t]=e[t],c.push(A)}return c.length===1?c[0]:c}pathSegment(e,t,i){return n_(this)(e,this,t,i)}path(e,t,i){const s=this.segments,r=n_(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const c of s)o&=r(e,this,c,{start:t,end:t+i-1});return!!o}draw(e,t,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),HY(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}be(ih,"id","line"),be(ih,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),be(ih,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),be(ih,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function fC(n,e,t,i){const s=n.options,{[t]:r}=n.getProps([t],i);return Math.abs(e-r)<s.radius+s.hitRadius}class Rg extends Hi{constructor(t){super();be(this,"parsed");be(this,"skip");be(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,s){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],s);return Math.pow(t-o,2)+Math.pow(i-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,i){return fC(this,t,"x",i)}inYRange(t,i){return fC(this,t,"y",i)}getCenterPoint(t){const{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const s=i&&t.borderWidth||0;return(i+s)*2}draw(t,i){const s=this.options;this.skip||s.radius<.1||!Uh(this,i,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,Jb(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}be(Rg,"id","point"),be(Rg,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),be(Rg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function yM(n,e){const{x:t,y:i,base:s,width:r,height:o}=n.getProps(["x","y","base","width","height"],e);let c,h,d,g,y;return n.horizontal?(y=o/2,c=Math.min(t,s),h=Math.max(t,s),d=i-y,g=i+y):(y=r/2,c=t-y,h=t+y,d=Math.min(i,s),g=Math.max(i,s)),{left:c,top:d,right:h,bottom:g}}function la(n,e,t,i){return n?0:Cn(e,t,i)}function FY(n,e,t){const i=n.options.borderWidth,s=n.borderSkipped,r=$N(i);return{t:la(s.top,r.top,0,t),r:la(s.right,r.right,0,e),b:la(s.bottom,r.bottom,0,t),l:la(s.left,r.left,0,e)}}function qY(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,r=ic(s),o=Math.min(e,t),c=n.borderSkipped,h=i||$e(s);return{topLeft:la(!h||c.top||c.left,r.topLeft,0,o),topRight:la(!h||c.top||c.right,r.topRight,0,o),bottomLeft:la(!h||c.bottom||c.left,r.bottomLeft,0,o),bottomRight:la(!h||c.bottom||c.right,r.bottomRight,0,o)}}function GY(n){const e=yM(n),t=e.right-e.left,i=e.bottom-e.top,s=FY(n,t/2,i/2),r=qY(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function sb(n,e,t,i){const s=e===null,r=t===null,c=n&&!(s&&r)&&yM(n,i);return c&&(s||oa(e,c.left,c.right))&&(r||oa(t,c.top,c.bottom))}function WY(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function YY(n,e){n.rect(e.x,e.y,e.w,e.h)}function rb(n,e,t={}){const i=n.x!==t.x?-e:0,s=n.y!==t.y?-e:0,r=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+r,h:n.h+o,radius:n.radius}}class Cg extends Hi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=GY(this),c=WY(o.radius)?bp:YY;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),c(e,rb(o,t,r)),e.clip(),c(e,rb(r,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,rb(r,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,i){return sb(this,e,t,i)}inXRange(e,t){return sb(this,e,null,t)}inYRange(e,t){return sb(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+s)/2:t,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}be(Cg,"id","bar"),be(Cg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),be(Cg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const gC=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},$Y=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class pC extends Hi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=pt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Dn(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=gC(i,r);let d,g;t.font=s.string,this.isHorizontal()?(d=this.maxWidth,g=this._fitRows(o,r,c,h)+10):(g=this.maxHeight,d=this._fitCols(o,s,c,h)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],g=s+c;let y=e;r.textAlign="left",r.textBaseline="middle";let b=-1,_=-g;return this.legendItems.forEach((w,x)=>{const A=i+t/2+r.measureText(w.text).width;(x===0||d[d.length-1]+A+2*c>o)&&(y+=g,d[d.length-(x>0?0:1)]=0,_+=g,b++),h[x]={left:0,top:_,row:b,width:A,height:s},d[d.length-1]+=A+c}),y}_fitCols(e,t,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],g=o-e;let y=c,b=0,_=0,w=0,x=0;return this.legendItems.forEach((A,D)=>{const{itemWidth:O,itemHeight:j}=QY(i,t,r,A,s);D>0&&_+j+2*c>g&&(y+=b+c,d.push({width:b,height:_}),w+=b+c,x++,b=_=0),h[D]={left:w,top:_,col:x,width:O,height:j},b=Math.max(b,O),_+=j+c}),y+=b,d.push({width:b,height:_}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:s},rtl:r}}=this,o=sc(r,this.left,this.width);if(this.isHorizontal()){let c=0,h=An(i,this.left+s,this.right-this.lineWidths[c]);for(const d of t)c!==d.row&&(c=d.row,h=An(i,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+e+s,d.left=o.leftForLtr(o.x(h),d.width),h+=d.width+s}else{let c=0,h=An(i,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const d of t)d.col!==c&&(c=d.col,h=An(i,this.top+e+s,this.bottom-this.columnSizes[c].height)),d.top=h,d.left+=this.left+s,d.left=o.leftForLtr(o.x(d.left),d.width),h+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;G0(e,this),this._draw(),W0(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,c=zt.color,h=sc(e.rtl,this.left,this.width),d=Dn(o.font),{padding:g}=o,y=d.size,b=y/2;let _;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:w,boxHeight:x,itemHeight:A}=gC(o,y),D=function(X,M,C){if(isNaN(w)||w<=0||isNaN(x)||x<0)return;s.save();const k=Be(C.lineWidth,1);if(s.fillStyle=Be(C.fillStyle,c),s.lineCap=Be(C.lineCap,"butt"),s.lineDashOffset=Be(C.lineDashOffset,0),s.lineJoin=Be(C.lineJoin,"miter"),s.lineWidth=k,s.strokeStyle=Be(C.strokeStyle,c),s.setLineDash(Be(C.lineDash,[])),o.usePointStyle){const P={radius:x*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:k},V=h.xPlus(X,w/2),U=M+b;YN(s,P,V,U,o.pointStyleWidth&&w)}else{const P=M+Math.max((y-x)/2,0),V=h.leftForLtr(X,w),U=ic(C.borderRadius);s.beginPath(),Object.values(U).some(L=>L!==0)?bp(s,{x:V,y:P,w,h:x,radius:U}):s.rect(V,P,w,x),s.fill(),k!==0&&s.stroke()}s.restore()},O=function(X,M,C){zh(s,C.text,X,M+A/2,d,{strikethrough:C.hidden,textAlign:h.textAlign(C.textAlign)})},j=this.isHorizontal(),H=this._computeTitleHeight();j?_={x:An(r,this.left+g,this.right-i[0]),y:this.top+g+H,line:0}:_={x:this.left+g,y:An(r,this.top+H+g,this.bottom-t[0].height),line:0},eM(this.ctx,e.textDirection);const q=A+g;this.legendItems.forEach((X,M)=>{s.strokeStyle=X.fontColor,s.fillStyle=X.fontColor;const C=s.measureText(X.text).width,k=h.textAlign(X.textAlign||(X.textAlign=o.textAlign)),P=w+b+C;let V=_.x,U=_.y;h.setWidth(this.width),j?M>0&&V+P+g>this.right&&(U=_.y+=q,_.line++,V=_.x=An(r,this.left+g,this.right-i[_.line])):M>0&&U+q>this.bottom&&(V=_.x=V+t[_.line].width+g,_.line++,U=_.y=An(r,this.top+H+g,this.bottom-t[_.line].height));const L=h.x(V);if(D(L,U,X),V=F8(k,V+w+b,j?V+P:this.right,e.rtl),O(h.x(V),U,X),j)_.x+=P+g;else if(typeof X.text!="string"){const we=d.lineHeight;_.y+=vM(X,we)+g}else _.y+=q}),tM(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Dn(t.font),s=Ri(t.padding);if(!t.display)return;const r=sc(e.rtl,this.left,this.width),o=this.ctx,c=t.position,h=i.size/2,d=s.top+h;let g,y=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),g=this.top+d,y=An(e.align,y,this.right-b);else{const w=this.columnSizes.reduce((x,A)=>Math.max(x,A.height),0);g=d+An(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const _=An(c,y,y+b);o.textAlign=r.textAlign(H0(c)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,zh(o,t.text,_,g,i)}_computeTitleHeight(){const e=this.options.title,t=Dn(e.font),i=Ri(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,s,r;if(oa(e,this.left,this.right)&&oa(t,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],oa(e,s.left,s.left+s.width)&&oa(t,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!ZY(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=$Y(s,i);s&&!r&&pt(t.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&pt(t.onHover,[e,i,this],this)}else i&&pt(t.onClick,[e,i,this],this)}}function QY(n,e,t,i,s){const r=KY(i,n,e,t),o=XY(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function KY(n,e,t,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+t.size/2+i.measureText(s).width}function XY(n,e,t){let i=n;return typeof e.text!="string"&&(i=vM(e,t)),i}function vM(n,e){const t=n.text?n.text.length:0;return e*t}function ZY(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var bM={id:"legend",_element:pC,start(n,e,t){const i=n.legend=new pC({ctx:n.ctx,options:t,chart:n});Ei.configure(n,i,t),Ei.addBox(n,i)},stop(n){Ei.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Ei.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,s=t.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(t?0:void 0),g=Ri(d.borderWidth);return{text:e[h.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:o&&(c||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class _M extends Hi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=Jt(i.text)?i.text.length:1;this._padding=Ri(i.padding);const r=s*Dn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:s,right:r,options:o}=this,c=o.align;let h=0,d,g,y;return this.isHorizontal()?(g=An(c,i,r),y=t+e,d=r-i):(o.position==="left"?(g=i+e,y=An(c,s,t),h=Pt*-.5):(g=r-e,y=An(c,t,s),h=Pt*.5),d=s-t),{titleX:g,titleY:y,maxWidth:d,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Dn(t.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:h,rotation:d}=this._drawArgs(r);zh(e,t.text,0,0,i,{color:t.color,maxWidth:h,rotation:d,textAlign:H0(t.align),textBaseline:"middle",translation:[o,c]})}}function JY(n,e){const t=new _M({ctx:n.ctx,options:e,chart:n});Ei.configure(n,t,e),Ei.addBox(n,t),n.titleBlock=t}var e$={id:"title",_element:_M,start(n,e,t){JY(n,t)},stop(n){const e=n.titleBlock;Ei.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Ei.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sh={average(n){if(!n.length)return!1;let e,t,i=new Set,s=0,r=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/r}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,c;for(r=0,o=n.length;r<o;++r){const h=n[r].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),g=Xb(e,d);g<s&&(s=g,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function hs(n,e){return e&&(Jt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function er(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function t$(n,e){const{element:t,datasetIndex:i,index:s}=e,r=n.getDatasetMeta(i).controller,{label:o,value:c}=r.getLabelAndValue(s);return{chart:n,label:o,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:c,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function mC(n,e){const t=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:o,boxHeight:c}=e,h=Dn(e.bodyFont),d=Dn(e.titleFont),g=Dn(e.footerFont),y=r.length,b=s.length,_=i.length,w=Ri(e.padding);let x=w.height,A=0,D=i.reduce((H,q)=>H+q.before.length+q.lines.length+q.after.length,0);if(D+=n.beforeBody.length+n.afterBody.length,y&&(x+=y*d.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),D){const H=e.displayColors?Math.max(c,h.lineHeight):h.lineHeight;x+=_*H+(D-_)*h.lineHeight+(D-1)*e.bodySpacing}b&&(x+=e.footerMarginTop+b*g.lineHeight+(b-1)*e.footerSpacing);let O=0;const j=function(H){A=Math.max(A,t.measureText(H).width+O)};return t.save(),t.font=d.string,ot(n.title,j),t.font=h.string,ot(n.beforeBody.concat(n.afterBody),j),O=e.displayColors?o+2+e.boxPadding:0,ot(i,H=>{ot(H.before,j),ot(H.lines,j),ot(H.after,j)}),O=0,t.font=g.string,ot(n.footer,j),t.restore(),A+=w.width,{width:A,height:x}}function n$(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function i$(n,e,t,i){const{x:s,width:r}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&s+r+o>e.width||n==="right"&&s-r-o<0)return!0}function s$(n,e,t,i){const{x:s,width:r}=t,{width:o,chartArea:{left:c,right:h}}=n;let d="center";return i==="center"?d=s<=(c+h)/2?"left":"right":s<=r/2?d="left":s>=o-r/2&&(d="right"),i$(d,n,e,t)&&(d="center"),d}function yC(n,e,t){const i=t.yAlign||e.yAlign||n$(n,t);return{xAlign:t.xAlign||e.xAlign||s$(n,e,t,i),yAlign:i}}function r$(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function a$(n,e,t){let{y:i,height:s}=n;return e==="top"?i+=t:e==="bottom"?i-=s+t:i-=s/2,i}function vC(n,e,t,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=n,{xAlign:c,yAlign:h}=t,d=s+r,{topLeft:g,topRight:y,bottomLeft:b,bottomRight:_}=ic(o);let w=r$(e,c);const x=a$(e,h,d);return h==="center"?c==="left"?w+=d:c==="right"&&(w-=d):c==="left"?w-=Math.max(g,b)+s:c==="right"&&(w+=Math.max(y,_)+s),{x:Cn(w,0,i.width-e.width),y:Cn(x,0,i.height-e.height)}}function sg(n,e,t){const i=Ri(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function bC(n){return hs([],er(n))}function o$(n,e,t){return Qo(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function _C(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const EM={beforeTitle:Zs,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Zs,beforeBody:Zs,beforeLabel:Zs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return nt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Zs,afterBody:Zs,beforeFooter:Zs,footer:Zs,afterFooter:Zs};function Bn(n,e,t,i){const s=n[e].call(t,i);return typeof s>"u"?EM[e].call(t,i):s}class i_ extends Hi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,r=new iM(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=o$(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,s=Bn(i,"beforeTitle",this,e),r=Bn(i,"title",this,e),o=Bn(i,"afterTitle",this,e);let c=[];return c=hs(c,er(s)),c=hs(c,er(r)),c=hs(c,er(o)),c}getBeforeBody(e,t){return bC(Bn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,s=[];return ot(e,r=>{const o={before:[],lines:[],after:[]},c=_C(i,r);hs(o.before,er(Bn(c,"beforeLabel",this,r))),hs(o.lines,Bn(c,"label",this,r)),hs(o.after,er(Bn(c,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,t){return bC(Bn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,s=Bn(i,"beforeFooter",this,e),r=Bn(i,"footer",this,e),o=Bn(i,"afterFooter",this,e);let c=[];return c=hs(c,er(s)),c=hs(c,er(r)),c=hs(c,er(o)),c}_createItems(e){const t=this._active,i=this.chart.data,s=[],r=[],o=[];let c=[],h,d;for(h=0,d=t.length;h<d;++h)c.push(t$(this.chart,t[h]));return e.filter&&(c=c.filter((g,y,b)=>e.filter(g,y,b,i))),e.itemSort&&(c=c.sort((g,y)=>e.itemSort(g,y,i))),ot(c,g=>{const y=_C(e.callbacks,g);s.push(Bn(y,"labelColor",this,g)),r.push(Bn(y,"labelPointStyle",this,g)),o.push(Bn(y,"labelTextColor",this,g))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=c,c}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const c=sh[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const h=this._size=mC(this,i),d=Object.assign({},c,h),g=yC(this.chart,i,d),y=vC(i,d,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,r={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const r=this.getCaretPosition(e,i,s);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:c}=i,{topLeft:h,topRight:d,bottomLeft:g,bottomRight:y}=ic(c),{x:b,y:_}=e,{width:w,height:x}=t;let A,D,O,j,H,q;return r==="center"?(H=_+x/2,s==="left"?(A=b,D=A-o,j=H+o,q=H-o):(A=b+w,D=A+o,j=H-o,q=H+o),O=A):(s==="left"?D=b+Math.max(h,g)+o:s==="right"?D=b+w-Math.max(d,y)-o:D=this.caretX,r==="top"?(j=_,H=j-o,A=D-o,O=D+o):(j=_+x,H=j+o,A=D+o,O=D-o),q=j),{x1:A,x2:D,x3:O,y1:j,y2:H,y3:q}}drawTitle(e,t,i){const s=this.title,r=s.length;let o,c,h;if(r){const d=sc(i.rtl,this.x,this.width);for(e.x=sg(this,i.titleAlign,i),t.textAlign=d.textAlign(i.titleAlign),t.textBaseline="middle",o=Dn(i.titleFont),c=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,h=0;h<r;++h)t.fillText(s[h],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,h+1===r&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,t,i,s,r){const o=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:d}=r,g=Dn(r.bodyFont),y=sg(this,"left",r),b=s.x(y),_=h<g.lineHeight?(g.lineHeight-h)/2:0,w=t.y+_;if(r.usePointStyle){const x={radius:Math.min(d,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},A=s.leftForLtr(b,d)+d/2,D=w+h/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Jb(e,x,A,D),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Jb(e,x,A,D)}else{e.lineWidth=$e(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=s.leftForLtr(b,d),A=s.leftForLtr(s.xPlus(b,1),d-2),D=ic(o.borderRadius);Object.values(D).some(O=>O!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,bp(e,{x,y:w,w:d,h,radius:D}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),bp(e,{x:A,y:w+1,w:d-2,h:h-2,radius:D}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(x,w,d,h),e.strokeRect(x,w,d,h),e.fillStyle=o.backgroundColor,e.fillRect(A,w+1,d-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:c,boxHeight:h,boxWidth:d,boxPadding:g}=i,y=Dn(i.bodyFont);let b=y.lineHeight,_=0;const w=sc(i.rtl,this.x,this.width),x=function(C){t.fillText(C,w.x(e.x+_),e.y+b/2),e.y+=b+r},A=w.textAlign(o);let D,O,j,H,q,X,M;for(t.textAlign=o,t.textBaseline="middle",t.font=y.string,e.x=sg(this,A,i),t.fillStyle=i.bodyColor,ot(this.beforeBody,x),_=c&&A!=="right"?o==="center"?d/2+g:d+2+g:0,H=0,X=s.length;H<X;++H){for(D=s[H],O=this.labelTextColors[H],t.fillStyle=O,ot(D.before,x),j=D.lines,c&&j.length&&(this._drawColorBox(t,e,H,w,i),b=Math.max(y.lineHeight,h)),q=0,M=j.length;q<M;++q)x(j[q]),b=y.lineHeight;ot(D.after,x)}_=0,b=y.lineHeight,ot(this.afterBody,x),e.y-=r}drawFooter(e,t,i){const s=this.footer,r=s.length;let o,c;if(r){const h=sc(i.rtl,this.x,this.width);for(e.x=sg(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",o=Dn(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,c=0;c<r;++c)t.fillText(s[c],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:r,yAlign:o}=this,{x:c,y:h}=e,{width:d,height:g}=i,{topLeft:y,topRight:b,bottomLeft:_,bottomRight:w}=ic(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(c+y,h),o==="top"&&this.drawCaret(e,t,i,s),t.lineTo(c+d-b,h),t.quadraticCurveTo(c+d,h,c+d,h+b),o==="center"&&r==="right"&&this.drawCaret(e,t,i,s),t.lineTo(c+d,h+g-w),t.quadraticCurveTo(c+d,h+g,c+d-w,h+g),o==="bottom"&&this.drawCaret(e,t,i,s),t.lineTo(c+_,h+g),t.quadraticCurveTo(c,h+g,c,h+g-_),o==="center"&&r==="left"&&this.drawCaret(e,t,i,s),t.lineTo(c,h+y),t.quadraticCurveTo(c,h,c+y,h),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=sh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=mC(this,e),h=Object.assign({},o,this._size),d=yC(t,e,h),g=vC(e,h,d,t);(s._to!==g.x||r._to!==g.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ri(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,t),eM(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),tM(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:c,index:h})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[h],index:h}}),r=!mp(i,s),o=this._positionChanged(s,t);(r||o)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,t,i),c=this._positionChanged(o,e),h=t||!mp(o,r)||c;return h&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:s,options:r}=this,o=sh[r.position].call(this,e,t);return o!==!1&&(i!==o.x||s!==o.y)}}be(i_,"positioners",sh);var SM={id:"tooltip",_element:i_,positioners:sh,afterInit(n,e,t){t&&(n.tooltip=new i_({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:EM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const l$=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function c$(n,e,t,i){const s=n.indexOf(e);if(s===-1)return l$(n,e,t,i);const r=n.lastIndexOf(e);return s!==r?t:s}const u$=(n,e)=>n===null?null:Cn(Math.round(n),0,e);function EC(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class s_ extends Dc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:r}of t)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(nt(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:c$(i,e,Be(t,e),this._addedLabels),u$(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)s.push({value:o});return s}getLabelForValue(e){return EC.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}be(s_,"id","category"),be(s_,"defaults",{ticks:{callback:EC}});function h$(n,e){const t=[],{bounds:s,step:r,min:o,max:c,precision:h,count:d,maxTicks:g,maxDigits:y,includeBounds:b}=n,_=r||1,w=g-1,{min:x,max:A}=e,D=!nt(o),O=!nt(c),j=!nt(d),H=(A-x)/(y+1);let q=wR((A-x)/w/_)*_,X,M,C,k;if(q<1e-14&&!D&&!O)return[{value:x},{value:A}];k=Math.ceil(A/q)-Math.floor(x/q),k>w&&(q=wR(k*q/w/_)*_),nt(h)||(X=Math.pow(10,h),q=Math.ceil(q*X)/X),s==="ticks"?(M=Math.floor(x/q)*q,C=Math.ceil(A/q)*q):(M=x,C=A),D&&O&&r&&O8((c-o)/r,q/1e3)?(k=Math.round(Math.min((c-o)/q,g)),q=(c-o)/k,M=o,C=c):j?(M=D?o:M,C=O?c:C,k=d-1,q=(C-M)/k):(k=(C-M)/q,vh(k,Math.round(k),q/1e3)?k=Math.round(k):k=Math.ceil(k));const P=Math.max(AR(q),AR(M));X=Math.pow(10,nt(h)?P:h),M=Math.round(M*X)/X,C=Math.round(C*X)/X;let V=0;for(D&&(b&&M!==o?(t.push({value:o}),M<o&&V++,vh(Math.round((M+V*q)*X)/X,o,SC(o,H,n))&&V++):M<o&&V++);V<k;++V){const U=Math.round((M+V*q)*X)/X;if(O&&U>c)break;t.push({value:U})}return O&&b&&C!==c?t.length&&vh(t[t.length-1].value,c,SC(c,H,n))?t[t.length-1].value=c:t.push({value:c}):(!O||C===c)&&t.push({value:C}),t}function SC(n,e,{horizontal:t,minRotation:i}){const s=rr(i),r=(t?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+n).length;return Math.min(e/r,o)}class d$ extends Dc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return nt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=h=>s=t?s:h,c=h=>r=i?r:h;if(e){const h=_s(s),d=_s(r);h<0&&d<0?c(0):h>0&&d>0&&o(0)}if(s===r){let h=r===0?1:Math.abs(r*.05);c(r+h),e||o(s-h)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,o=h$(s,r);return e.bounds==="ticks"&&P8(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return q0(e,this.chart.options.locale,this.options.ticks.format)}}class r_ extends d${determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ti(e)?e:0,this.max=Ti(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=rr(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}be(r_,"id","linear"),be(r_,"defaults",{ticks:{callback:WN.formatters.numeric}});const cm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Gn=Object.keys(cm);function wC(n,e){return n-e}function AC(n,e){if(nt(e))return null;const t=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Ti(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(s&&(o=s==="week"&&(Lh(r)||r===!0)?t.startOf(o,"isoWeek",r):t.startOf(o,s)),+o)}function xC(n,e,t,i){const s=Gn.length;for(let r=Gn.indexOf(n);r<s-1;++r){const o=cm[Gn[r]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(c*o.size))<=i)return Gn[r]}return Gn[s-1]}function f$(n,e,t,i,s){for(let r=Gn.length-1;r>=Gn.indexOf(t);r--){const o=Gn[r];if(cm[o].common&&n._adapter.diff(s,i,o)>=e-1)return o}return Gn[t?Gn.indexOf(t):0]}function g$(n){for(let e=Gn.indexOf(n)+1,t=Gn.length;e<t;++e)if(cm[Gn[e]].common)return Gn[e]}function TC(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:s}=B0(t,e),r=t[i]>=e?t[i]:t[s];n[r]=!0}}function p$(n,e,t,i){const s=n._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let c,h;for(c=r;c<=o;c=+s.add(c,1,i))h=t[c],h>=0&&(e[h].major=!0);return e}function RC(n,e,t){const i=[],s={},r=e.length;let o,c;for(o=0;o<r;++o)c=e[o],s[c]=o,i.push({value:c,major:!1});return r===0||!t?i:p$(n,i,s,t)}class wp extends Dc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),s=this._adapter=new _W._date(e.adapters.date);s.init(t),yh(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:AC(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:c}=this.getUserBounds();function h(d){!o&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!o||!c)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Ti(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),r=Ti(r)&&!isNaN(r)?r:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,c=z8(s,r,o);return this._unit=t.unit||(i.autoSkip?xC(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):f$(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:g$(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),RC(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Cn(t,0,o),i=Cn(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||xC(r.minUnit,t,i,this._getLabelCapacity(t)),c=Be(s.ticks.stepSize,1),h=o==="week"?r.isoWeekday:!1,d=Lh(h)||h===!0,g={};let y=t,b,_;if(d&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,d?"day":o),e.diff(i,t,o)>1e5*c)throw new Error(t+" and "+i+" are too far apart with stepSize of "+c+" "+o);const w=s.ticks.source==="data"&&this.getDataTimestamps();for(b=y,_=0;b<i;b=+e.add(b,c,o),_++)TC(g,b,w);return(b===i||s.bounds==="ticks"||_===1)&&TC(g,b,w),Object.keys(g).sort(wC).map(x=>+x)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,r=this._unit,o=t||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,s){const r=this.options,o=r.ticks.callback;if(o)return pt(o,[e,t,i],this);const c=r.time.displayFormats,h=this._unit,d=this._majorUnit,g=h&&c[h],y=d&&c[d],b=i[t],_=d&&y&&b&&b.major;return this._adapter.format(e,s||(_?y:g))}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=rr(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(s),o=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*r+c*o,h:i*o+c*r}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,r=this._tickFormatFunction(e,0,RC(this,[e],this._majorUnit),s),o=this._getLabelSize(r),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,i=s.length;t<i;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(AC(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return FN(e.sort(wC))}}be(wp,"id","time"),be(wp,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function rg(n,e,t){let i=0,s=n.length-1,r,o,c,h;t?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=wo(n,"pos",e)),{pos:r,time:c}=n[i],{pos:o,time:h}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=wo(n,"time",e)),{time:r,pos:c}=n[i],{time:o,pos:h}=n[s]);const d=o-r;return d?c+(h-c)*(e-r)/d:c}class CC extends wp{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=rg(t,this.min),this._tableRange=rg(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],r=[];let o,c,h,d,g;for(o=0,c=e.length;o<c;++o)d=e[o],d>=t&&d<=i&&s.push(d);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,c=s.length;o<c;++o)g=s[o+1],h=s[o-1],d=s[o],Math.round((g+h)/2)!==d&&r.push({time:d,pos:o/(c-1)});return r}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(rg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return rg(this._table,i*this._tableRange+this._minPos,!0)}}be(CC,"id","timeseries"),be(CC,"defaults",wp.defaults);const wM="label";function DC(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function m$(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function AM(n,e){n.labels=e}function xM(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wM;const i=[];n.datasets=e.map(s=>{const r=n.datasets.find(o=>o[t]===s[t]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function y$(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wM;const t={labels:[],datasets:[]};return AM(t,n.labels),xM(t,n.datasets,e),t}function v$(n,e){const{height:t=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:c,options:h,plugins:d=[],fallbackContent:g,updateMode:y,...b}=n,_=B.useRef(null),w=B.useRef(null),x=()=>{_.current&&(w.current=new ad(_.current,{type:o,data:y$(c,r),options:h&&{...h},plugins:d}),DC(e,w.current))},A=()=>{DC(e,null),w.current&&(w.current.destroy(),w.current=null)};return B.useEffect(()=>{!s&&w.current&&h&&m$(w.current,h)},[s,h]),B.useEffect(()=>{!s&&w.current&&AM(w.current.config.data,c.labels)},[s,c.labels]),B.useEffect(()=>{!s&&w.current&&c.datasets&&xM(w.current.config.data,c.datasets,r)},[s,c.datasets]),B.useEffect(()=>{w.current&&(s?(A(),setTimeout(x)):w.current.update(y))},[s,h,c.labels,c.datasets,y]),B.useEffect(()=>{w.current&&(A(),setTimeout(x))},[o]),B.useEffect(()=>(x(),()=>A()),[]),Si.createElement("canvas",{ref:_,role:"img",height:t,width:i,...b},g)}const b$=B.forwardRef(v$);function eE(n,e){return ad.register(e),B.forwardRef((t,i)=>Si.createElement(b$,{...t,ref:i,type:n}))}const IC=eE("line",Ag),_$=eE("bar",wg),Gu=eE("doughnut",eh);ad.register(nh,SM,bM);const Wu={responzive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},ag=(n,e,t)=>({datasets:[{data:[n,Math.max(e-n,0)],backgroundColor:[t,"#E5E5E5"],borderWidth:0,cutout:"80%"}]}),E$=({data:n})=>{const{currentKcal:e,goalKcal:t,protein:i,carbs:s,fat:r,fiber:o,fluid:c,burned:h}=n,d=(x,A)=>A>0?Math.min((x/A*100).toFixed(0),100):0,g=d(i.current,i.goal),y=d(s.current,s.goal),b=d(r.current,r.goal),_=d(o.current,o.goal),w={datasets:[{data:[e,Math.max(t-e,0)],backgroundColor:["#F7941D","#E5E5E5"],borderWidth:0,cutout:"80%"}]};return E.jsxs("div",{className:"p-4",children:[E.jsxs("div",{className:"relative w-40 h-40 mx-auto",children:[E.jsx(Gu,{data:w,options:Wu}),E.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[E.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[e," kcal"]}),E.jsxs("div",{className:"text-sm text-gray-500",children:["z ",t," kcal"]})]})]}),E.jsxs("div",{className:"flex justify-around mt-6",children:[E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsxs("div",{className:"relative w-12 h-12",children:[E.jsx(Gu,{data:ag(i.current,i.goal,"#69C267"),options:Wu}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[g,"%"]})})]}),E.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Bielkoviny"}),E.jsxs("div",{className:"text-xs text-gray-700",children:[i.current," g z ",i.goal," g"]})]}),E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsxs("div",{className:"relative w-12 h-12",children:[E.jsx(Gu,{data:ag(s.current,s.goal,"#F7941D"),options:Wu}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[y,"%"]})})]}),E.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Sacharidy"}),E.jsxs("div",{className:"text-xs text-gray-700",children:[s.current," g z ",s.goal," g"]})]}),E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsxs("div",{className:"relative w-12 h-12",children:[E.jsx(Gu,{data:ag(r.current,r.goal,"#F16664"),options:Wu}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[b,"%"]})})]}),E.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Tuky"}),E.jsxs("div",{className:"text-xs text-gray-700",children:[r.current," g z ",r.goal," g"]})]}),E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsxs("div",{className:"relative w-12 h-12",children:[E.jsx(Gu,{data:ag(o.current,o.goal,"#8E8E93"),options:Wu}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[_,"%"]})})]}),E.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Vláknina"}),E.jsxs("div",{className:"text-xs text-gray-700",children:[o.current," g z ",o.goal," g"]})]})]}),E.jsxs("div",{className:"mt-4 text-center text-sm text-gray-700",children:[E.jsxs("p",{children:["Tekutiny: ",c.current," l z ",c.goal," l"]}),E.jsxs("p",{children:["Spálené: ",h," kcal"]})]})]})},S$=({selectedDate:n,overviewData:e,eventsForDay:t,onDeleteEvent:i})=>E.jsx("div",{className:"w-full lg:w-3/3 bg-white rounded-lg shadow p-4",children:n&&e?E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3",children:n}),E.jsx(E$,{data:e}),E.jsxs("div",{className:"mt-4",children:[E.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-2",children:"Jedlá a aktivity dňa"}),E.jsx("ul",{className:"space-y-2 text-sm",children:t.map((s,r)=>E.jsxs("li",{className:"p-2 bg-green-100 rounded shadow border-l-4 border-green-500",children:[s.title,E.jsx("button",{onClick:()=>i(s.id,s.type),className:"bg-red-500 text-white px-2 py-1 ml-5 rounded hover:bg-red-600",children:"Zmazať"})]},r))})]})]}):E.jsx("div",{className:"text-gray-500 text-center",children:"Kliknite na deň v kalendári pre zobrazenie detailov."})}),w$=({selectedDate:n,onAddFood:e})=>{const[t,i]=B.useState("custom"),[s,r]=B.useState(""),{savedFoods:o}=Fh(),[c,h]=B.useState([]),d=B.useRef(null);B.useEffect(()=>{const C=k=>{d.current&&!d.current.contains(k.target)&&h([])};return document.addEventListener("click",C,!0),()=>{document.removeEventListener("click",C,!0)}},[]);const g=C=>{const k=C.target.value;if(r(k),k.trim().length>0){const P=o.filter(V=>V.foodName.toLowerCase().includes(k.toLowerCase()));h(P)}else h([])},y=C=>{const k={title:C.foodName,start:n,extendedProps:{kcal:C.kcal,protein:C.protein,fat:C.fat,carbs:C.carbs,fiber:C.fiber}};e(k),r(""),h([])},b=C=>{if(C.preventDefault(),!s||!n)return;const k=o.find(V=>V.foodName.toLowerCase()===s.toLowerCase()),P=k?{title:k.foodName,start:n,extendedProps:{kcal:k.kcal,protein:k.protein,fat:k.fat,carbs:k.carbs,fiber:k.fiber}}:{title:s,start:n,extendedProps:{kcal:0,protein:0,fat:0,carbs:0,fiber:0}};e(P),r(""),h([])},[_,w]=B.useState(""),[x,A]=B.useState([]),[D,O]=B.useState(null),[j,H]=B.useState(!1),q=C=>{const k=C.target.value;w(k),k.trim()||(A([]),O(null))},X=async()=>{if(_.trim()){H(!0),O(null);try{const C=`https://api.spoonacular.com/food/ingredients/search?query=${encodeURIComponent(_)}&number=10&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,k=await fetch(C);if(!k.ok)throw new Error(`Chyba pri volaní spoonacular: ${k.status}`);const V=(await k.json()).results||[],U=await Promise.all(V.map(async L=>{var ve;const we=`https://api.spoonacular.com/food/ingredients/${L.id}/information?amount=100&unit=grams&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`;try{const K=await fetch(we);if(!K.ok)return{...L,nutrition:null};const ce=await K.json(),fe=((ve=ce.nutrition)==null?void 0:ve.nutrients)||[],_e=se=>{const ue=fe.find(he=>he.name.toLowerCase()===se.toLowerCase());return ue?ue.amount:0},F={kcal:_e("Calories"),protein:_e("Protein"),fat:_e("Fat"),carbs:_e("Carbohydrates"),fiber:_e("Fiber"),image:ce.image};return{id:L.id,name:L.name,nutrition:F}}catch(K){return console.error("Detail fetch error",K),{...L,nutrition:null}}}));A(U)}catch(C){O(C.message),A([])}finally{H(!1)}}},M=C=>{const{name:k,nutrition:P}=C,{kcal:V,protein:U,fat:L,carbs:we,fiber:ve}=P||{};e({title:k,start:n,extendedProps:{kcal:V||0,protein:U||0,fat:L||0,carbs:we||0,fiber:ve||0}}),w(""),A([])};return E.jsxs("div",{className:"p-4 bg-white rounded-lg shadow mb-4",children:[E.jsx("h3",{className:"text-lg font-bold text-green-700 mb-4",children:"Pridať jedlo"}),E.jsxs("div",{className:"flex space-x-4 mb-4",children:[E.jsx("button",{className:`px-4 py-2 rounded ${t==="custom"?"bg-green-600 text-white":"bg-gray-200"}`,onClick:()=>i("custom"),children:"Moje jedlá"}),E.jsx("button",{className:`px-4 py-2 rounded ${t==="api"?"bg-green-600 text-white":"bg-gray-200"}`,onClick:()=>i("api"),children:"API"})]}),t==="custom"&&E.jsxs("form",{onSubmit:b,ref:d,children:[E.jsx("label",{className:"block text-gray-700",children:"Názov jedla:"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",value:s,onChange:g,className:"w-full border border-gray-300 rounded-lg px-4 py-2 mt-1",placeholder:"Zadaj názov jedla"}),c.length>0&&E.jsx("ul",{className:"absolute top-full left-0 z-10 w-full bg-white border border-gray-300 rounded-lg mt-1 max-h-40 overflow-y-auto shadow-lg",children:c.map(C=>E.jsx("li",{onClick:()=>y(C),className:"px-4 py-2 border-b border-gray-200 last:border-0 hover:bg-green-200 hover:text-green-900 transition-colors duration-200 cursor-pointer",children:C.foodName},C.id))})]}),E.jsx("button",{type:"submit",className:"mt-3 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať"})]}),t==="api"&&E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 mb-1",children:"Vyhľadaj v Spoonacular:"}),E.jsxs("div",{className:"flex space-x-2 mb-4",children:[E.jsx("input",{type:"text",value:_,onChange:q,className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Napíš názov (napr. 'apple', 'chicken'...)"}),E.jsx("button",{onClick:X,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Hľadať"})]}),j&&E.jsx("p",{children:"Načítavam..."}),D&&E.jsxs("p",{className:"text-red-500",children:["Chyba: ",D]}),x.map(C=>{const{id:k,name:P,nutrition:V}=C,U=(V==null?void 0:V.kcal)||0;return E.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-100 rounded my-2",children:[E.jsxs("div",{children:[E.jsx("strong",{children:P})," | ",Math.round(U)," kcal / 100g"]}),E.jsx("button",{onClick:()=>M(C),className:"bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700",children:"Pridať"})]},k)})]})]})},A$=({selectedDate:n,onAddFluid:e})=>{const[t,i]=B.useState(""),s=r=>{r.preventDefault(),t&&(e(Number(t)),i(""))};return E.jsxs("form",{onSubmit:s,className:"p-4 bg-white rounded-lg shadow mb-4",children:[E.jsx("h3",{className:"text-lg font-bold text-blue-700 mb-2",children:"Pridať tekutiny"}),E.jsxs("div",{className:"mb-2",children:[E.jsx("label",{className:"block text-gray-700",children:"Množstvo (l):"}),E.jsx("input",{type:"number",value:t,onChange:r=>i(r.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Zadaj množstvo v litroch"})]}),E.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Pridať tekutiny"})]})},x$=({selectedDate:n,onAddActivityEvent:e})=>{const{savedActivities:t}=Fh(),[i,s]=B.useState(""),[r,o]=B.useState(n||""),c=h=>{h.preventDefault();const d=t.find(y=>y.id===i);if(!d)return;const g={title:d.activityName,start:n,type:"activity",extendedProps:{burned:d.burnedCalories}};e(g),s("")};return E.jsxs("form",{onSubmit:c,className:"p-4 bg-white rounded-lg shadow mb-4",children:[E.jsx("h3",{className:"text-lg font-bold text-green-700 mb-2",children:"Pridať aktivitu do kalendára"}),E.jsxs("div",{className:"mb-2",children:[E.jsx("label",{className:"block text-gray-700",children:"Vyber aktivitu:"}),E.jsxs("select",{value:i,onChange:h=>s(h.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[E.jsx("option",{value:"",children:"--Vybrať--"}),t.map(h=>E.jsxs("option",{value:h.id,children:[h.activityName," (spálené ",h.burnedCalories," kcal)"]},h.id))]})]}),E.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Pridať"})]})};function ab(n){return n.toISOString().split("T")[0]}async function T$(n,e){const t=Tt.currentUser;if(!t)return{};const i=ab(n),s=ab(e),r=cr(Fn(xt,"calendarEvents"),ur("userId","==",t.uid)),o=await hr(r),c=cr(Fn(xt,"calendarActivities"),ur("userId","==",t.uid)),h=await hr(c),d=cr(Fn(xt,"calendarFluids"),ur("userId","==",t.uid)),g=await hr(d),y={},b=new Date(n);for(;b<=e;){const _=ab(b);y[_]={kcal:0,protein:0,fat:0,carbs:0,fiber:0,fluid:0,burned:0},b.setDate(b.getDate()+1)}return o.forEach(_=>{const w=_.data(),x=w.start;if(x>=i&&x<=s){const{kcal:A=0,protein:D=0,fat:O=0,carbs:j=0,fiber:H=0,burned:q=0}=w.extendedProps||{};y[x]&&(y[x].kcal+=Number(A),y[x].protein+=Number(D),y[x].fat+=Number(O),y[x].carbs+=Number(j),y[x].fiber+=Number(H),y[x].burned+=Number(q))}}),h.forEach(_=>{const w=_.data(),x=w.start;if(x>=i&&x<=s){const{burned:A=0}=w.extendedProps||{};y[x]&&(y[x].burned+=Number(A))}}),g.forEach(_=>{const w=_.data(),x=w.start;x>=i&&x<=s&&y[x]&&(y[x].fluid+=Number(w.amount||0))}),y}const kC=()=>{const{nutritionGoal:n}=Fh(),[e,t]=B.useState([]),[i,s]=B.useState(null),[r,o]=B.useState(null),[c,h]=B.useState({});B.useEffect(()=>{(async()=>{const j=Tt.currentUser;if(j)try{const H=cr(Fn(xt,"calendarEvents"),ur("userId","==",j.uid)),X=(await hr(H)).docs.map(M=>({id:M.id,...M.data()}));t(M=>[...M,...X])}catch(H){console.error("Chyba pri načítaní udalostí:",H)}})()},[]),B.useEffect(()=>{(async()=>{const j=Tt.currentUser;if(j)try{const H=cr(Fn(xt,"calendarFluids"),ur("userId","==",j.uid)),q=await hr(H),X={};q.docs.forEach(M=>{const C=M.data(),{date:k,amount:P}=C;X[k]=(X[k]||0)+P}),h(X)}catch(H){console.error("Chyba pri načítaní údajov o tekutinách:",H)}})()},[]),B.useEffect(()=>{(async()=>{const j=Tt.currentUser;if(j)try{const H=cr(Fn(xt,"calendarActivities"),ur("userId","==",j.uid)),X=(await hr(H)).docs.map(M=>({id:M.id,...M.data()}));t(M=>[...M,...X])}catch(H){console.error("Chyba pri načítaní udalostí:",H)}})()},[]),B.useEffect(()=>{if(i){const O=e.filter(j=>j.start===i);d(O)}},[e,i,c]);const d=O=>{let j=0,H=0,q=0,X=0,M=0,C=0;O.forEach(V=>{const{kcal:U,protein:L,fat:we,carbs:ve,fiber:K,burned:ce}=V.extendedProps;j+=Number(U)||0,H+=Number(L)||0,q+=Number(we)||0,X+=Number(ve)||0,M+=Number(K)||0,C+=Number(ce)||0}),j=Math.round(j);const k=c[i]||0,P={currentKcal:Math.max(j,0),goalKcal:(n==null?void 0:n.dailyCalories)||1500,protein:{current:H,goal:(n==null?void 0:n.proteinGrams)||79},carbs:{current:X,goal:(n==null?void 0:n.carbsGrams)||192},fat:{current:q,goal:(n==null?void 0:n.fatGrams)||43},fiber:{current:M,goal:(n==null?void 0:n.fiber)||28},fluid:{current:k,goal:(n==null?void 0:n.fluid)||3},burned:C};o(P)},g=O=>{s(O.dateStr)},y=async O=>{const j=Tt.currentUser;if(!j){console.error("Používateľ nie je prihlásený");return}const H={...O,type:"food",userId:j.uid,createdAt:new Date,userName:j.displayName};try{const q=await hh(Fn(xt,"calendarEvents"),H);H.id=q.id,t(X=>[...X,H])}catch(q){console.error("Chyba pri pridávaní udalosti:",q)}},b=async O=>{const j=Tt.currentUser;if(!j)return;const H={...O,type:"activity",userId:j.uid,createdAt:new Date,userName:j.displayName};try{const q=await hh(Fn(xt,"calendarActivities"),H);H.id=q.id,t(X=>[...X,H])}catch(q){console.error("Chyba pri pridávaní udalosti:",q)}},_=async O=>{try{await tp(ps(xt,"calendarEvents",O)),t(j=>j.filter(H=>H.id!==O))}catch(j){console.error("Chyba pri mazaní udalosti:",j)}},w=async O=>{try{await tp(ps(xt,"calendarActivities",O)),t(j=>j.filter(H=>H.id!==O))}catch(j){console.error("Chyba pri mazaní udalosti:",j)}},x=async(O,j)=>{j==="activity"?await w(O):await _(O)},A=async(O,j)=>{const H=Tt.currentUser;if(!H)return;const q={userId:H.uid,userName:H.displayName,date:O,amount:j,createdAt:new Date};try{const X=await hh(Fn(xt,"calendarFluids"),q);q.id=X.id,h(M=>({...M,[O]:(M[O]||0)+j}))}catch(X){console.error("Chyba pri pridávaní udalosti:",X)}},D=i?e.filter(O=>O.start===i):[];return E.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4",children:[E.jsx(e8,{events:e,onDateClick:g}),E.jsxs("div",{className:"w-full lg:w-1/3",children:[i&&E.jsx(w$,{selectedDate:i,onAddFood:y}),i&&E.jsxs(E.Fragment,{children:[E.jsx(A$,{selectedDate:i,onAddFluid:O=>A(i,O)}),E.jsx(x$,{selectedDate:i,onAddActivityEvent:b})]}),E.jsx(S$,{selectedDate:i,overviewData:r,eventsForDay:D,onDeleteEvent:x})]})]})};ad.register(s_,r_,Rg,ih,Cg,e$,SM,bM);const R$=()=>{var M,C,k;const[n,e]=B.useState({}),[t,i]=B.useState({}),[s,r]=B.useState({}),[o,c]=B.useState(null),[h,d]=B.useState("7days"),[g,y]=B.useState({});function b(P){const V=new Date,U=new Date(V);return P==="7days"?U.setDate(U.getDate()-6):P==="30days"?U.setDate(U.getDate()-29):P==="90days"&&U.setDate(U.getDate()-89),U}B.useEffect(()=>{async function P(){const V=Tt.currentUser;if(V)try{const U=ps(xt,"users",V.uid),L=await X1(U),we=L.data();L.exists()?c({dailyCalories:we.dailyCalories||2e3,proteinGrams:we.proteinGrams||100,carbsGrams:we.carbsGrams||200,fatGrams:we.fatGrams||50}):(console.warn("Dokument s cieľmi neexistuje, použijem default hodnoty."),c({dailyCalories:2e3,proteinGrams:100,carbsGrams:200,fatGrams:50}))}catch(U){console.error("Chyba pri načítaní goal z Firestore:",U),c({dailyCalories:2e3,proteinGrams:100,carbsGrams:200,fatGrams:50})}}P()},[]),B.useEffect(()=>{async function P(){const V=new Date,U=b(h),L=await T$(U,V);e(L)}P()},[h]);const _=Object.keys(n).sort();B.useEffect(()=>{if(!o||!n||Object.keys(n).length===0)return;const P=_.map(ue=>n[ue].kcal),V=_.map(()=>o.dailyCalories);i({labels:_,datasets:[{label:"Daily Kcal",data:P,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.2},{label:"Goal Kcal",data:V,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",borderDash:[5,5],tension:.2}]});const L=_.map(ue=>n[ue].protein),we=_.map(ue=>n[ue].carbs),ve=_.map(ue=>n[ue].fat),K=_.map(()=>o.proteinGrams),ce=_.map(()=>o.carbsGrams),fe=_.map(()=>o.fatGrams),_e={labels:_,datasets:[{label:"Protein (g)",data:L,borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",tension:.2},{label:"Protein Goal (g)",data:K,borderColor:"rgba(54, 162, 235, 0.7)",backgroundColor:"rgba(54, 162, 235, 0.1)",borderDash:[5,5],tension:.2},{label:"Carbs (g)",data:we,borderColor:"rgba(255, 206, 86, 1)",backgroundColor:"rgba(255, 206, 86, 0.2)",tension:.2},{label:"Carbs Goal (g)",data:ce,borderColor:"rgba(255, 206, 86, 0.7)",backgroundColor:"rgba(255, 206, 86, 0.1)",borderDash:[5,5],tension:.2},{label:"Fat (g)",data:ve,borderColor:"rgba(153, 102, 255, 1)",backgroundColor:"rgba(153, 102, 255, 0.2)",tension:.2},{label:"Fat Goal (g)",data:fe,borderColor:"rgba(153, 102, 255, 0.7)",backgroundColor:"rgba(153, 102, 255, 0.1)",borderDash:[5,5],tension:.2}]},F=_.map(ue=>n[ue].burned||0),se={labels:_,datasets:[{label:"Prijaté kalórie",data:P,backgroundColor:"rgba(75,192,192,0.5)"},{label:"Spálené kalórie",data:F,backgroundColor:"rgba(255,99,132,0.5)"}]};r(_e),y(se)},[n,o]);const w=_.length;let x=0,A=0,D=0,O=0;_.forEach(P=>{const{kcal:V=0,protein:U=0,carbs:L=0,fat:we=0}=n[P];V<=o.dailyCalories&&x++,U>=o.proteinGrams&&A++,L<=o.carbsGrams&&D++,we<=o.fatGrams&&O++});const j=Math.round(x/w*100),H=Math.round(A/w*100),q=Math.round(D/w*100),X=Math.round(O/w*100);return E.jsxs("div",{className:"mt-4",children:[E.jsx("h2",{className:"text-xl font-bold mb-4",children:"Štatistiky – Kalórie a Makrá vs. Ciele"}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"font-semibold mr-2",children:"Zobraziť za:"}),E.jsxs("select",{value:h,onChange:P=>d(P.target.value),className:"border rounded px-2 py-1",children:[E.jsx("option",{value:"7days",children:"Posledných 7 dní"}),E.jsx("option",{value:"30days",children:"Posledných 30 dní"}),E.jsx("option",{value:"90days",children:"Posledné 3 mesiace"})]})]}),E.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow p-4",children:[E.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Denný príjem kalórií (posledných 7 dní)"}),((M=t==null?void 0:t.labels)==null?void 0:M.length)>0?E.jsx(IC,{data:t}):E.jsx("p",{children:"Načítavam graf kalórií..."})]}),E.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow p-4",children:[E.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Denný príjem bielkovín, sacharidov, tukov (posledných 7 dní)"}),((C=s==null?void 0:s.labels)==null?void 0:C.length)>0?E.jsx(IC,{data:s}):E.jsx("p",{children:"Načítavam graf makier..."})]}),E.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow p-4",children:[E.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Bilancia príjem vs. výdaj"}),((k=g==null?void 0:g.labels)==null?void 0:k.length)>0?E.jsx(_$,{data:g}):E.jsx("p",{children:"Načítavam graf bilancie..."})]}),E.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mt-4",children:[E.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Pokrok voči denným cieľom"}),E.jsxs("div",{className:"mb-3",children:[E.jsxs("div",{className:"flex items-center justify-between mb-1",children:[E.jsx("span",{className:"font-medium text-gray-700",children:"Kalórie"}),E.jsxs("span",{className:"text-sm text-gray-600",children:[x," / ",w," dní (",j,"%)"]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded h-3 overflow-hidden",children:E.jsx("div",{className:"bg-green-500 h-3 transition-all duration-300",style:{width:`${j}%`}})})]}),E.jsxs("div",{className:"mb-3",children:[E.jsxs("div",{className:"flex items-center justify-between mb-1",children:[E.jsx("span",{className:"font-medium text-gray-700",children:"Bielkoviny"}),E.jsxs("span",{className:"text-sm text-gray-600",children:[A," / ",w," dní (",H,"%)"]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded h-3 overflow-hidden",children:E.jsx("div",{className:"bg-blue-500 h-3 transition-all duration-300",style:{width:`${H}%`}})})]}),E.jsxs("div",{className:"mb-3",children:[E.jsxs("div",{className:"flex items-center justify-between mb-1",children:[E.jsx("span",{className:"font-medium text-gray-700",children:"Sacharidy"}),E.jsxs("span",{className:"text-sm text-gray-600",children:[D," / ",w," dní (",q,"%)"]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded h-3 overflow-hidden",children:E.jsx("div",{className:"bg-yellow-400 h-3 transition-all duration-300",style:{width:`${q}%`}})})]}),E.jsxs("div",{className:"mb-1",children:[E.jsxs("div",{className:"flex items-center justify-between mb-1",children:[E.jsx("span",{className:"font-medium text-gray-700",children:"Tuky"}),E.jsxs("span",{className:"text-sm text-gray-600",children:[O," / ",w," dní (",X,"%)"]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded h-3 overflow-hidden",children:E.jsx("div",{className:"bg-purple-500 h-3 transition-all duration-300",style:{width:`${X}%`}})})]})]})]})},C$=[{name:"Jana M.",text:"Vďaka GetFit som konečne začala sledovať, čo jem. Za mesiac som schudla 3 kg a cítim sa skvele!"},{name:"Martin K.",text:"Kalendár a prehľad výživy sú fantastické. Skvelá appka pre každého, kto chce žiť zdravšie."},{name:"Petra L.",text:"Jednoduché používanie, pekný dizajn a spoľahlivý výpočet makier. Určite odporúčam!"}],D$=()=>E.jsxs("section",{className:"bg-gray-100 py-16 px-6",children:[E.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-12",children:"Čo hovoria naši používatelia"}),E.jsx("div",{className:"max-w-6xl mx-auto grid gap-8 grid-cols-1 md:grid-cols-3",children:C$.map((n,e)=>E.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 border-l-4 border-green-500",children:[E.jsxs("p",{className:"text-gray-800 text-lg italic mb-4",children:['"',n.text,'"']}),E.jsxs("p",{className:"text-green-700 font-semibold",children:["– ",n.name]})]},e))})]}),I$=[{question:"Je aplikácia zadarmo?",answer:"Áno, všetky základné funkcie ako sledovanie jedál, kalórií, tekutín a aktivít sú úplne zadarmo."},{question:"Môžem si pridať vlastné jedlá a aktivity?",answer:"Áno! Môžeš si uložiť svoje vlastné jedlá a aktivity a následne ich rýchlo pridávať do kalendára."},{question:"Funguje aplikácia aj bez pripojenia na internet?",answer:"Niektoré funkcie (napr. prezeranie uložených údajov) môžu fungovať offline, ale synchronizácia a ukladanie dát vyžaduje pripojenie."},{question:"Je moje zdravie a výživa súkromná?",answer:"Áno, tvoje dáta sú bezpečne uložené v cloude a dostupné len pre teba po prihlásení."}],k$=()=>{const[n,e]=B.useState(null),t=i=>{e(n===i?null:i)};return E.jsxs("section",{className:"bg-white py-16 px-6",children:[E.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-10",children:"Často kladené otázky"}),E.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:I$.map((i,s)=>{const r=n===s;return E.jsxs("div",{className:"border-b pb-4 cursor-pointer transition-all duration-300",onClick:()=>t(s),children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:i.question}),E.jsx("span",{className:"text-green-600 font-bold text-2xl",children:r?"−":"+"})]}),E.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${r?"max-h-40 opacity-100 mt-2":"max-h-0 opacity-0"}`,children:E.jsx("p",{className:"text-gray-600",children:i.answer})})]},s)})})]})},N$=()=>{const n=new Date().getFullYear();return E.jsxs("footer",{className:"bg-gray-900 text-white py-10 mt-10",children:[E.jsxs("div",{className:"max-w-6xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-2xl font-bold text-green-400 mb-3",children:"GetFit"}),E.jsx("p",{className:"text-gray-400",children:"Sleduj svoju výživu, hydratuj sa a dosiahni svoje ciele – jednoducho a prehľadne."})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Navigácia"}),E.jsxs("ul",{className:"space-y-2 text-gray-300",children:[E.jsx("li",{children:E.jsx(tt,{to:"/",className:"hover:text-green-400 transition",children:"Domov"})}),E.jsx("li",{children:E.jsx(tt,{to:"/results",className:"hover:text-green-400 transition",children:"Vyhľadávanie"})}),E.jsx("li",{className:"m-0",children:E.jsx(tt,{to:"/dashboard",className:"hover:text-green-400 transition",children:"Dashboard"})})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Informácie"}),E.jsxs("ul",{className:"space-y-2 text-gray-300",children:[E.jsx("li",{children:E.jsx(tt,{to:"/terms",className:"hover:text-green-400 transition",children:"Podmienky"})}),E.jsx("li",{children:E.jsx(tt,{to:"/privacy",className:"hover:text-green-400 transition",children:"Ochrana súkromia"})}),E.jsx("li",{children:E.jsx(tt,{to:"/register",className:"hover:text-green-400 transition",children:"Registrácia"})}),E.jsx("li",{className:"m-0",children:E.jsx(tt,{to:"/login",className:"hover:text-green-400 transition",children:"Prihlásenie"})})]})]})]}),E.jsxs("div",{className:"mt-10 border-t border-gray-700 pt-6 text-center text-sm text-gray-500",children:["© ",n," GetFit. Všetky práva vyhradené."]})]})},M$=()=>{const{pathname:n}=qi();return B.useEffect(()=>{window.scrollTo(0,0)},[n]),null};function O$(){B.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")},[]);const[n,e]=B.useState(""),[t,i]=B.useState([]),[s,r]=B.useState(null),[o,c]=B.useState(!1),[h,d]=B.useState(!1),[g,y]=B.useState(""),b=br(),_=qi();B.useEffect(()=>{_.pathname==="/"&&d(!1)},[_.pathname]);const w=async()=>{b("/results"),e(""),c(!0),d(!0),y(n),setTimeout(async()=>{console.log(`Sending request to Nutritionix API: ${new Date().toISOString()}`);try{const x=`https://api.spoonacular.com/food/ingredients/search?query=${encodeURIComponent(n)}&number=10&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,A=await fetch(x);if(!A.ok)throw new Error(`Instant API HTTP error: ${A.status}`);const O=(await A.json()).results||[],j=await Promise.all(O.map(async H=>{var V;const q=`https://api.spoonacular.com/food/ingredients/${H.id}/information?amount=100&unit=grams&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,X=await fetch(q);if(!X.ok){const U=await X.text();return console.error("Nutrients fetch error:",X.status,U),{...H,nutrition:null}}const C=((V=(await X.json()).nutrition)==null?void 0:V.nutrients)||[],k=U=>{const L=C.find(we=>we.name.toLowerCase()===U.toLowerCase());return L?L.amount:0},P={servingSize:"100g",photo:{thumb:`https://spoonacular.com/cdn/ingredients_500x500/${H.image}`},nf_calories:k("Calories"),nf_total_fat:k("Fat"),nf_protein:k("Protein"),nf_total_carbohydrate:k("Carbohydrates")};return{...H,food_name:H.name,nutrition:P}}));i(j),r(null)}catch(x){console.error("Fetch error:",x),r(x),i([])}finally{c(!1)}},500)};return E.jsxs("div",{children:[E.jsx(T3,{}),E.jsx(M$,{}),E.jsxs(nP,{children:[E.jsx(mn,{path:"/register",element:E.jsx(P3,{})}),E.jsx(mn,{path:"/terms",element:E.jsx(H3,{})}),E.jsx(mn,{path:"/privacy",element:E.jsx(F3,{})}),E.jsx(mn,{path:"/verify-email",element:E.jsx(j3,{})}),E.jsx(mn,{path:"/login",element:E.jsx(B3,{})}),E.jsx(mn,{path:"/logout",element:E.jsx(z3,{})}),E.jsx(mn,{path:"/dashboard",element:E.jsxs(Bl,{children:[" ",E.jsx(gT,{})," "]})}),E.jsx(mn,{path:"/",element:E.jsxs(E.Fragment,{children:[E.jsx(R3,{}),E.jsx(C3,{query:n,setQuery:e,handleSearch:w,disabled:h}),E.jsx(k3,{}),E.jsx(k$,{}),E.jsx(D$,{}),E.jsx(O3,{}),E.jsx(N$,{})]})}),E.jsx(mn,{path:"/results",element:E.jsx(D3,{results:t,searchTerm:g,error:s,query:n,setQuery:e,handleSearch:w,isLoading:o})}),E.jsx(mn,{path:"/blog/:id",element:E.jsx(M3,{})}),E.jsxs(mn,{path:"/dashboard",element:E.jsxs(Bl,{children:[" ",E.jsx(gT,{})," "]}),children:[E.jsx(mn,{index:!0,element:E.jsx(kC,{})}),E.jsx(mn,{path:"calendar",element:E.jsxs(Bl,{children:[" ",E.jsx(kC,{})," "]})}),E.jsx(mn,{path:"my-foods",element:E.jsxs(Bl,{children:[" ",E.jsx(G3,{})," "]})}),E.jsx(mn,{path:"my-activites",element:E.jsxs(Bl,{children:[" ",E.jsx(U3,{})," "]})}),E.jsx(mn,{path:"statistics",element:E.jsxs(Bl,{children:[" ",E.jsx(R$,{})," "]})})]})]})]})}o2.createRoot(document.getElementById("root")).render(E.jsx(TP,{children:E.jsx(O$,{})}));
