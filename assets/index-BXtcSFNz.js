var CO=Object.defineProperty;var DO=(n,e,t)=>e in n?CO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ve=(n,e,t)=>DO(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function IO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vy={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yA;function kO(){if(yA)return _u;yA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var l=null;if(a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),"key"in r){a={};for(var u in r)u!=="key"&&(a[u]=r[u])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:a}}return _u.Fragment=e,_u.jsx=t,_u.jsxs=t,_u}var vA;function MO(){return vA||(vA=1,Vy.exports=kO()),Vy.exports}var w=MO(),jy={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _A;function OO(){if(_A)return Oe;_A=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function _(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function x(U,le,pe){this.props=U,this.context=le,this.refs=R,this.updater=pe||b}x.prototype.isReactComponent={},x.prototype.setState=function(U,le){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,le,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function M(){}M.prototype=x.prototype;function V(U,le,pe){this.props=U,this.context=le,this.refs=R,this.updater=pe||b}var z=V.prototype=new M;z.constructor=V,T(z,x.prototype),z.isPureReactComponent=!0;var $=Array.isArray,J={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function N(U,le,pe,he,ue,Ce){return pe=Ce.ref,{$$typeof:n,type:U,key:le,ref:pe!==void 0?pe:null,props:Ce}}function D(U,le){return N(U.type,le,void 0,void 0,void 0,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function O(U){var le={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(pe){return le[pe]})}var j=/\/+/g;function H(U,le){return typeof U=="object"&&U!==null&&U.key!=null?O(""+U.key):le.toString(36)}function P(){}function Ne(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(P,P):(U.status="pending",U.then(function(le){U.status==="pending"&&(U.status="fulfilled",U.value=le)},function(le){U.status==="pending"&&(U.status="rejected",U.reason=le)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Ae(U,le,pe,he,ue){var Ce=typeof U;(Ce==="undefined"||Ce==="boolean")&&(U=null);var Ee=!1;if(U===null)Ee=!0;else switch(Ce){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(U.$$typeof){case n:case e:Ee=!0;break;case p:return Ee=U._init,Ae(Ee(U._payload),le,pe,he,ue)}}if(Ee)return ue=ue(U),Ee=he===""?"."+H(U,0):he,$(ue)?(pe="",Ee!=null&&(pe=Ee.replace(j,"$&/")+"/"),Ae(ue,le,pe,"",function(ft){return ft})):ue!=null&&(I(ue)&&(ue=D(ue,pe+(ue.key==null||U&&U.key===ue.key?"":(""+ue.key).replace(j,"$&/")+"/")+Ee)),le.push(ue)),1;Ee=0;var Ye=he===""?".":he+":";if($(U))for(var Fe=0;Fe<U.length;Fe++)he=U[Fe],Ce=Ye+H(he,Fe),Ee+=Ae(he,le,pe,Ce,ue);else if(Fe=_(U),typeof Fe=="function")for(U=Fe.call(U),Fe=0;!(he=U.next()).done;)he=he.value,Ce=Ye+H(he,Fe++),Ee+=Ae(he,le,pe,Ce,ue);else if(Ce==="object"){if(typeof U.then=="function")return Ae(Ne(U),le,pe,he,ue);throw le=String(U),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function oe(U,le,pe){if(U==null)return U;var he=[],ue=0;return Ae(U,he,"","",function(Ce){return le.call(pe,Ce,ue++)}),he}function de(U){if(U._status===-1){var le=U._result;le=le(),le.then(function(pe){(U._status===0||U._status===-1)&&(U._status=1,U._result=pe)},function(pe){(U._status===0||U._status===-1)&&(U._status=2,U._result=pe)}),U._status===-1&&(U._status=0,U._result=le)}if(U._status===1)return U._result.default;throw U._result}var ge=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Te(){}return Oe.Children={map:oe,forEach:function(U,le,pe){oe(U,function(){le.apply(this,arguments)},pe)},count:function(U){var le=0;return oe(U,function(){le++}),le},toArray:function(U){return oe(U,function(le){return le})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Oe.Component=x,Oe.Fragment=t,Oe.Profiler=r,Oe.PureComponent=V,Oe.StrictMode=i,Oe.Suspense=h,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Oe.cache=function(U){return function(){return U.apply(null,arguments)}},Oe.cloneElement=function(U,le,pe){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var he=T({},U.props),ue=U.key,Ce=void 0;if(le!=null)for(Ee in le.ref!==void 0&&(Ce=void 0),le.key!==void 0&&(ue=""+le.key),le)!ne.call(le,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&le.ref===void 0||(he[Ee]=le[Ee]);var Ee=arguments.length-2;if(Ee===1)he.children=pe;else if(1<Ee){for(var Ye=Array(Ee),Fe=0;Fe<Ee;Fe++)Ye[Fe]=arguments[Fe+2];he.children=Ye}return N(U.type,ue,void 0,void 0,Ce,he)},Oe.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},Oe.createElement=function(U,le,pe){var he,ue={},Ce=null;if(le!=null)for(he in le.key!==void 0&&(Ce=""+le.key),le)ne.call(le,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ue[he]=le[he]);var Ee=arguments.length-2;if(Ee===1)ue.children=pe;else if(1<Ee){for(var Ye=Array(Ee),Fe=0;Fe<Ee;Fe++)Ye[Fe]=arguments[Fe+2];ue.children=Ye}if(U&&U.defaultProps)for(he in Ee=U.defaultProps,Ee)ue[he]===void 0&&(ue[he]=Ee[he]);return N(U,Ce,void 0,void 0,null,ue)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(U){return{$$typeof:u,render:U}},Oe.isValidElement=I,Oe.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:de}},Oe.memo=function(U,le){return{$$typeof:f,type:U,compare:le===void 0?null:le}},Oe.startTransition=function(U){var le=J.T,pe={};J.T=pe;try{var he=U(),ue=J.S;ue!==null&&ue(pe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Te,ge)}catch(Ce){ge(Ce)}finally{J.T=le}},Oe.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Oe.use=function(U){return J.H.use(U)},Oe.useActionState=function(U,le,pe){return J.H.useActionState(U,le,pe)},Oe.useCallback=function(U,le){return J.H.useCallback(U,le)},Oe.useContext=function(U){return J.H.useContext(U)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(U,le){return J.H.useDeferredValue(U,le)},Oe.useEffect=function(U,le){return J.H.useEffect(U,le)},Oe.useId=function(){return J.H.useId()},Oe.useImperativeHandle=function(U,le,pe){return J.H.useImperativeHandle(U,le,pe)},Oe.useInsertionEffect=function(U,le){return J.H.useInsertionEffect(U,le)},Oe.useLayoutEffect=function(U,le){return J.H.useLayoutEffect(U,le)},Oe.useMemo=function(U,le){return J.H.useMemo(U,le)},Oe.useOptimistic=function(U,le){return J.H.useOptimistic(U,le)},Oe.useReducer=function(U,le,pe){return J.H.useReducer(U,le,pe)},Oe.useRef=function(U){return J.H.useRef(U)},Oe.useState=function(U){return J.H.useState(U)},Oe.useSyncExternalStore=function(U,le,pe){return J.H.useSyncExternalStore(U,le,pe)},Oe.useTransition=function(){return J.H.useTransition()},Oe.version="19.0.0",Oe}var bA;function x_(){return bA||(bA=1,jy.exports=OO()),jy.exports}var B=x_();const bi=IO(B);var Uy={exports:{}},bu={},zy={exports:{}},Hy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA;function NO(){return EA||(EA=1,function(n){function e(oe,de){var ge=oe.length;oe.push(de);e:for(;0<ge;){var Te=ge-1>>>1,U=oe[Te];if(0<r(U,de))oe[Te]=de,oe[ge]=U,ge=Te;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var de=oe[0],ge=oe.pop();if(ge!==de){oe[0]=ge;e:for(var Te=0,U=oe.length,le=U>>>1;Te<le;){var pe=2*(Te+1)-1,he=oe[pe],ue=pe+1,Ce=oe[ue];if(0>r(he,ge))ue<U&&0>r(Ce,he)?(oe[Te]=Ce,oe[ue]=ge,Te=ue):(oe[Te]=he,oe[pe]=ge,Te=pe);else if(ue<U&&0>r(Ce,ge))oe[Te]=Ce,oe[ue]=ge,Te=ue;else break e}}return de}function r(oe,de){var ge=oe.sortIndex-de.sortIndex;return ge!==0?ge:oe.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,v=null,_=3,b=!1,T=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function z(oe){for(var de=t(f);de!==null;){if(de.callback===null)i(f);else if(de.startTime<=oe)i(f),de.sortIndex=de.expirationTime,e(h,de);else break;de=t(f)}}function $(oe){if(R=!1,z(oe),!T)if(t(h)!==null)T=!0,Ne();else{var de=t(f);de!==null&&Ae($,de.startTime-oe)}}var J=!1,ne=-1,N=5,D=-1;function I(){return!(n.unstable_now()-D<N)}function O(){if(J){var oe=n.unstable_now();D=oe;var de=!0;try{e:{T=!1,R&&(R=!1,M(ne),ne=-1),b=!0;var ge=_;try{t:{for(z(oe),v=t(h);v!==null&&!(v.expirationTime>oe&&I());){var Te=v.callback;if(typeof Te=="function"){v.callback=null,_=v.priorityLevel;var U=Te(v.expirationTime<=oe);if(oe=n.unstable_now(),typeof U=="function"){v.callback=U,z(oe),de=!0;break t}v===t(h)&&i(h),z(oe)}else i(h);v=t(h)}if(v!==null)de=!0;else{var le=t(f);le!==null&&Ae($,le.startTime-oe),de=!1}}break e}finally{v=null,_=ge,b=!1}de=void 0}}finally{de?j():J=!1}}}var j;if(typeof V=="function")j=function(){V(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,P=H.port2;H.port1.onmessage=O,j=function(){P.postMessage(null)}}else j=function(){x(O,0)};function Ne(){J||(J=!0,j())}function Ae(oe,de){ne=x(function(){oe(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){T||b||(T=!0,Ne())},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(oe){switch(_){case 1:case 2:case 3:var de=3;break;default:de=_}var ge=_;_=de;try{return oe()}finally{_=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,de){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ge=_;_=oe;try{return de()}finally{_=ge}},n.unstable_scheduleCallback=function(oe,de,ge){var Te=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Te+ge:Te):ge=Te,oe){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ge+U,oe={id:p++,callback:de,priorityLevel:oe,startTime:ge,expirationTime:U,sortIndex:-1},ge>Te?(oe.sortIndex=ge,e(f,oe),t(h)===null&&oe===t(f)&&(R?(M(ne),ne=-1):R=!0,Ae($,ge-Te))):(oe.sortIndex=U,e(h,oe),T||b||(T=!0,Ne())),oe},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(oe){var de=_;return function(){var ge=_;_=de;try{return oe.apply(this,arguments)}finally{_=ge}}}}(Hy)),Hy}var wA;function PO(){return wA||(wA=1,zy.exports=NO()),zy.exports}var By={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA;function LO(){if(AA)return _n;AA=1;var n=x_();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:h,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(h,f,null,p)},_n.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},_n.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},_n.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},_n.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:b}):p==="script"&&i.d.X(h,{crossOrigin:v,integrity:_,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},_n.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},_n.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},_n.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},_n.requestFormReset=function(h){i.d.r(h)},_n.unstable_batchedUpdates=function(h,f){return h(f)},_n.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},_n.useFormStatus=function(){return l.H.useHostTransitionStatus()},_n.version="19.0.0",_n}var SA;function xR(){if(SA)return By.exports;SA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),By.exports=LO(),By.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TA;function VO(){if(TA)return bu;TA=1;var n=PO(),e=x_(),t=xR();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var a=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),b=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),$=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function ne(s){return s===null||typeof s!="object"?null:(s=J&&s[J]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function D(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case h:return"Fragment";case u:return"Portal";case p:return"Profiler";case f:return"StrictMode";case R:return"Suspense";case x:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case b:return(s.displayName||"Context")+".Provider";case _:return(s._context.displayName||"Context")+".Consumer";case T:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return o=s.displayName||null,o!==null?o:D(s.type)||"Memo";case V:o=s._payload,s=s._init;try{return D(s(o))}catch{}}return null}var I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,j,H;function P(s){if(j===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||"",H=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+s+H}var Ne=!1;function Ae(s,o){if(!s||Ne)return"";Ne=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(ee){var Q=ee}Reflect.construct(s,[],ae)}else{try{ae.call()}catch(ee){Q=ee}s.call(ae.prototype)}}else{try{throw Error()}catch(ee){Q=ee}(ae=s())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(ee){if(ee&&Q&&typeof ee.stack=="string")return[ee.stack,Q.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),S=y[0],C=y[1];if(S&&C){var L=S.split(`
`),q=C.split(`
`);for(m=d=0;d<L.length&&!L[d].includes("DetermineComponentFrameRoot");)d++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(d===L.length||m===q.length)for(d=L.length-1,m=q.length-1;1<=d&&0<=m&&L[d]!==q[m];)m--;for(;1<=d&&0<=m;d--,m--)if(L[d]!==q[m]){if(d!==1||m!==1)do if(d--,m--,0>m||L[d]!==q[m]){var te=`
`+L[d].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=d&&0<=m);break}}}finally{Ne=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?P(c):""}function oe(s){switch(s.tag){case 26:case 27:case 5:return P(s.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return s=Ae(s.type,!1),s;case 11:return s=Ae(s.type.render,!1),s;case 1:return s=Ae(s.type,!0),s;default:return""}}function de(s){try{var o="";do o+=oe(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function ge(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Te(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function U(s){if(ge(s)!==s)throw Error(i(188))}function le(s){var o=s.alternate;if(!o){if(o=ge(s),o===null)throw Error(i(188));return o!==s?null:s}for(var c=s,d=o;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){c=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return U(m),s;if(y===d)return U(m),o;y=y.sibling}throw Error(i(188))}if(c.return!==d.return)c=m,d=y;else{for(var S=!1,C=m.child;C;){if(C===c){S=!0,c=m,d=y;break}if(C===d){S=!0,d=m,c=y;break}C=C.sibling}if(!S){for(C=y.child;C;){if(C===c){S=!0,c=y,d=m;break}if(C===d){S=!0,d=y,c=m;break}C=C.sibling}if(!S)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:o}function pe(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=pe(s),o!==null)return o;s=s.sibling}return null}var he=Array.isArray,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},Ee=[],Ye=-1;function Fe(s){return{current:s}}function ft(s){0>Ye||(s.current=Ee[Ye],Ee[Ye]=null,Ye--)}function Je(s,o){Ye++,Ee[Ye]=s.current,s.current=o}var an=Fe(null),Ti=Fe(null),De=Fe(null),pn=Fe(null);function St(s,o){switch(Je(De,o),Je(Ti,s),Je(an,null),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?Gw(o):0;break;default:if(s=s===8?o.parentNode:o,o=s.tagName,s=s.namespaceURI)s=Gw(s),o=$w(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ft(an),Je(an,o)}function mn(){ft(an),ft(Ti),ft(De)}function Bi(s){s.memoizedState!==null&&Je(pn,s);var o=an.current,c=$w(o,s.type);o!==c&&(Je(Ti,s),Je(an,c))}function Vo(s){Ti.current===s&&(ft(an),ft(Ti)),pn.current===s&&(ft(pn),gu._currentValue=Ce)}var jo=Object.prototype.hasOwnProperty,wa=n.unstable_scheduleCallback,Uo=n.unstable_cancelCallback,Up=n.unstable_shouldYield,pc=n.unstable_requestPaint,On=n.unstable_now,Uh=n.unstable_getCurrentPriorityLevel,zt=n.unstable_ImmediatePriority,Qt=n.unstable_UserBlockingPriority,vr=n.unstable_NormalPriority,zh=n.unstable_LowPriority,mc=n.unstable_IdlePriority,zp=n.log,Aa=n.unstable_setDisableYieldValue,ls=null,yn=null;function yc(s){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(ls,s,void 0,(s.current.flags&128)===128)}catch{}}function Fi(s){if(typeof zp=="function"&&Aa(s),yn&&typeof yn.setStrictMode=="function")try{yn.setStrictMode(ls,s)}catch{}}var Rn=Math.clz32?Math.clz32:Bh,vc=Math.log,Hh=Math.LN2;function Bh(s){return s>>>=0,s===0?32:31-(vc(s)/Hh|0)|0}var qi=128,cs=4194304;function xi(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ti(s,o){var c=s.pendingLanes;if(c===0)return 0;var d=0,m=s.suspendedLanes,y=s.pingedLanes,S=s.warmLanes;s=s.finishedLanes!==0;var C=c&134217727;return C!==0?(c=C&~m,c!==0?d=xi(c):(y&=C,y!==0?d=xi(y):s||(S=C&~S,S!==0&&(d=xi(S))))):(C=c&~m,C!==0?d=xi(C):y!==0?d=xi(y):s||(S=c&~S,S!==0&&(d=xi(S)))),d===0?0:o!==0&&o!==d&&!(o&m)&&(m=d&-d,S=o&-o,m>=S||m===32&&(S&4194176)!==0)?o:d}function us(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function zo(s,o){switch(s){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _c(){var s=qi;return qi<<=1,!(qi&4194176)&&(qi=128),s}function hs(){var s=cs;return cs<<=1,!(cs&62914560)&&(cs=4194304),s}function Ho(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Dt(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Fh(s,o,c,d,m,y){var S=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var C=s.entanglements,L=s.expirationTimes,q=s.hiddenUpdates;for(c=S&~c;0<c;){var te=31-Rn(c),ae=1<<te;C[te]=0,L[te]=-1;var Q=q[te];if(Q!==null)for(q[te]=null,te=0;te<Q.length;te++){var ee=Q[te];ee!==null&&(ee.lane&=-536870913)}c&=~ae}d!==0&&ds(s,d,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(S&~o))}function ds(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-Rn(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|c&4194218}function fs(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var d=31-Rn(c),m=1<<d;m&o|s[d]&o&&(s[d]|=o),c&=~m}}function qh(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function Wh(){var s=ue.p;return s!==0?s:(s=window.event,s===void 0?32:hA(s.type))}function gs(s,o){var c=ue.p;try{return ue.p=s,o()}finally{ue.p=c}}var Wi=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Wi,Ht="__reactProps$"+Wi,_r="__reactContainer$"+Wi,Sa="__reactEvents$"+Wi,Bo="__reactListeners$"+Wi,Gi="__reactHandles$"+Wi,bc="__reactResources$"+Wi,ps="__reactMarker$"+Wi;function Ta(s){delete s[Kt],delete s[Ht],delete s[Sa],delete s[Bo],delete s[Gi]}function Ri(s){var o=s[Kt];if(o)return o;for(var c=s.parentNode;c;){if(o=c[_r]||c[Kt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=Kw(s);s!==null;){if(c=s[Kt])return c;s=Kw(s)}return o}s=c,c=s.parentNode}return null}function br(s){if(s=s[Kt]||s[_r]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function ms(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function ys(s){var o=s[bc];return o||(o=s[bc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function yt(s){s[ps]=!0}var Ec=new Set,Fo={};function qn(s,o){Nn(s,o),Nn(s+"Capture",o)}function Nn(s,o){for(Fo[s]=o,s=0;s<o.length;s++)Ec.add(o[s])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wc={},Ac={};function Gh(s){return jo.call(Ac,s)?!0:jo.call(wc,s)?!1:Hp.test(s)?Ac[s]=!0:(wc[s]=!0,!1)}function vs(s,o,c){if(Gh(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function _s(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function ni(s,o,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+d)}}function Cn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function $h(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Bp(s){var o=$h(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,y.call(this,S)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function xa(s){s._valueTracker||(s._valueTracker=Bp(s))}function Sc(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return s&&(d=$h(s)?s.checked?"true":"false":s.value),s=d,s!==c?(o.setValue(s),!0):!1}function qo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Er=/[\n"\\]/g;function Tt(s){return s.replace(Er,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function bs(s,o,c,d,m,y,S,C){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),o!=null?S==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Cn(o)):s.value!==""+Cn(o)&&(s.value=""+Cn(o)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),o!=null?Wo(s,S,Cn(o)):c!=null?Wo(s,S,Cn(c)):d!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+Cn(C):s.removeAttribute("name")}function Ra(s,o,c,d,m,y,S,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),o!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;c=c!=null?""+Cn(c):"",o=o!=null?""+Cn(o):c,C||o===s.value||(s.value=o),s.defaultValue=o}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=C?s.checked:!!d,s.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S)}function Wo(s,o,c){o==="number"&&qo(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Qe(s,o,c,d){if(s=s.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=o.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&d&&(s[c].defaultSelected=!0)}else{for(c=""+Cn(c),o=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Ca(s,o,c){if(o!=null&&(o=""+Cn(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+Cn(c):""}function Es(s,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(i(92));if(he(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=Cn(o),s.defaultValue=c,d=s.textContent,d===c&&d!==""&&d!==null&&(s.value=d)}function ii(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Fp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(s,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,c):typeof c!="number"||c===0||Fp.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function Yh(s,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var m in o)d=o[m],o.hasOwnProperty(m)&&c[m]!==d&&Tc(s,m,d)}else for(var y in o)o.hasOwnProperty(y)&&Tc(s,y,o[y])}function xc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $i(s){return Wp.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ri=null;function Go(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var wr=null,Ar=null;function Sr(s){var o=br(s);if(o&&(s=o.stateNode)){var c=s[Ht]||null;e:switch(s=o.stateNode,o.type){case"input":if(bs(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Tt(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==s&&d.form===s.form){var m=d[Ht]||null;if(!m)throw Error(i(90));bs(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===s.form&&Sc(d)}break e;case"textarea":Ca(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Qe(s,!!c.multiple,o,!1)}}}var Rc=!1;function Qh(s,o,c){if(Rc)return s(o,c);Rc=!0;try{var d=s(o);return d}finally{if(Rc=!1,(wr!==null||Ar!==null)&&(zd(),wr&&(o=wr,s=Ar,Ar=wr=null,Sr(o),s)))for(o=0;o<s.length;o++)Sr(s[o])}}function Da(s,o){var c=s.stateNode;if(c===null)return null;var d=c[Ht]||null;if(d===null)return null;c=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var si=!1;if(Wn)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){si=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{si=!1}var Yi=null,ws=null,Tr=null;function Cc(){if(Tr)return Tr;var s,o=ws,c=o.length,d,m="value"in Yi?Yi.value:Yi.textContent,y=m.length;for(s=0;s<c&&o[s]===m[s];s++);var S=c-s;for(d=1;d<=S&&o[c-d]===m[y-d];d++);return Tr=m.slice(s,1<d?1-d:void 0)}function Qi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ki(){return!0}function Dc(){return!1}function Xt(s){function o(c,d,m,y,S){this._reactName=c,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(c=s[C],this[C]=c?c(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ki:Dc,this.isPropagationStopped=Dc,this}return O(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),o}var nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$o=Xt(nt),ka=O({},nt,{view:0,detail:0}),Kh=Xt(ka),Yo,Qo,Xi,Ma=O({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xi&&(Xi&&s.type==="mousemove"?(Yo=s.screenX-Xi.screenX,Qo=s.screenY-Xi.screenY):Qo=Yo=0,Xi=s),Yo)},movementY:function(s){return"movementY"in s?s.movementY:Qo}}),ai=Xt(Ma),Xh=O({},Ma,{dataTransfer:0}),Gp=Xt(Xh),Oa=O({},ka,{relatedTarget:0}),Ko=Xt(Oa),Ic=O({},nt,{animationName:0,elapsedTime:0,pseudoElement:0}),Xo=Xt(Ic),Zh=O({},nt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Zo=Xt(Zh),$p=O({},nt,{data:0}),kc=Xt($p),Na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ed={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=ed[s])?!!o[s]:!1}function Pa(){return Mc}var td=O({},ka,{key:function(s){if(s.key){var o=Na[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Qi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Jh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(s){return s.type==="keypress"?Qi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Jo=Xt(td),nd=O({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oc=Xt(nd),xr=O({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),id=Xt(xr),rd=O({},nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),sd=Xt(rd),ad=O({},Ma,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),el=Xt(ad),Dn=O({},nt,{newState:0,oldState:0}),od=Xt(Dn),ld=[9,13,27,32],Zi=Wn&&"CompositionEvent"in window,g=null;Wn&&"documentMode"in document&&(g=document.documentMode);var E=Wn&&"TextEvent"in window&&!g,A=Wn&&(!Zi||g&&8<g&&11>=g),k=" ",G=!1;function X(s,o){switch(s){case"keyup":return ld.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qe=!1;function Bt(s,o){switch(s){case"compositionend":return ce(o);case"keypress":return o.which!==32?null:(G=!0,k);case"textInput":return s=o.data,s===k&&G?null:s;default:return null}}function We(s,o){if(qe)return s==="compositionend"||!Zi&&X(s,o)?(s=Cc(),Tr=ws=Yi=null,qe=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return A&&o.locale!=="ko"?null:o.data;default:return null}}var Zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ft(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Zt[s.type]:o==="textarea"}function Rr(s,o,c,d){wr?Ar?Ar.push(d):Ar=[d]:wr=d,o=Wd(o,"onChange"),0<o.length&&(c=new $o("onChange","change",null,c,d),s.push({event:c,listeners:o}))}var on=null,Ji=null;function Nc(s){Hw(s,0)}function cd(s){var o=ms(s);if(Sc(o))return s}function m0(s,o){if(s==="change")return o}var y0=!1;if(Wn){var Yp;if(Wn){var Qp="oninput"in document;if(!Qp){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),Qp=typeof v0.oninput=="function"}Yp=Qp}else Yp=!1;y0=Yp&&(!document.documentMode||9<document.documentMode)}function _0(){on&&(on.detachEvent("onpropertychange",b0),Ji=on=null)}function b0(s){if(s.propertyName==="value"&&cd(Ji)){var o=[];Rr(o,Ji,s,Go(s)),Qh(Nc,o)}}function rM(s,o,c){s==="focusin"?(_0(),on=o,Ji=c,on.attachEvent("onpropertychange",b0)):s==="focusout"&&_0()}function sM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return cd(Ji)}function aM(s,o){if(s==="click")return cd(o)}function oM(s,o){if(s==="input"||s==="change")return cd(o)}function lM(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Gn=typeof Object.is=="function"?Object.is:lM;function Pc(s,o){if(Gn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var m=c[d];if(!jo.call(o,m)||!Gn(s[m],o[m]))return!1}return!0}function E0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function w0(s,o){var c=E0(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=o&&d>=o)return{node:c,offset:o-s};s=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=E0(c)}}function A0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?A0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function S0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=qo(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=qo(s.document)}return o}function Kp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function cM(s,o){var c=S0(o);o=s.focusedElem;var d=s.selectionRange;if(c!==o&&o&&o.ownerDocument&&A0(o.ownerDocument.documentElement,o)){if(d!==null&&Kp(o)){if(s=d.start,c=d.end,c===void 0&&(c=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(c,o.value.length);else if(c=(s=o.ownerDocument||document)&&s.defaultView||window,c.getSelection){c=c.getSelection();var m=o.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!c.extend&&y>d&&(m=d,d=y,y=m),m=w0(o,y);var S=w0(o,d);m&&S&&(c.rangeCount!==1||c.anchorNode!==m.node||c.anchorOffset!==m.offset||c.focusNode!==S.node||c.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),c.removeAllRanges(),y>d?(c.addRange(s),c.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),c.addRange(s)))}}for(s=[],c=o;c=c.parentNode;)c.nodeType===1&&s.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)c=s[o],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var uM=Wn&&"documentMode"in document&&11>=document.documentMode,tl=null,Xp=null,Lc=null,Zp=!1;function T0(s,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Zp||tl==null||tl!==qo(d)||(d=tl,"selectionStart"in d&&Kp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Lc&&Pc(Lc,d)||(Lc=d,d=Wd(Xp,"onSelect"),0<d.length&&(o=new $o("onSelect","select",null,o,c),s.push({event:o,listeners:d}),o.target=tl)))}function La(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var nl={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},Jp={},x0={};Wn&&(x0=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function Va(s){if(Jp[s])return Jp[s];if(!nl[s])return s;var o=nl[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in x0)return Jp[s]=o[c];return s}var R0=Va("animationend"),C0=Va("animationiteration"),D0=Va("animationstart"),hM=Va("transitionrun"),dM=Va("transitionstart"),fM=Va("transitioncancel"),I0=Va("transitionend"),k0=new Map,M0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ci(s,o){k0.set(s,o),qn(o,[s])}var oi=[],il=0,em=0;function ud(){for(var s=il,o=em=il=0;o<s;){var c=oi[o];oi[o++]=null;var d=oi[o];oi[o++]=null;var m=oi[o];oi[o++]=null;var y=oi[o];if(oi[o++]=null,d!==null&&m!==null){var S=d.pending;S===null?m.next=m:(m.next=S.next,S.next=m),d.pending=m}y!==0&&O0(c,m,y)}}function hd(s,o,c,d){oi[il++]=s,oi[il++]=o,oi[il++]=c,oi[il++]=d,em|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function tm(s,o,c,d){return hd(s,o,c,d),dd(s)}function As(s,o){return hd(s,null,null,o),dd(s)}function O0(s,o,c){s.lanes|=c;var d=s.alternate;d!==null&&(d.lanes|=c);for(var m=!1,y=s.return;y!==null;)y.childLanes|=c,d=y.alternate,d!==null&&(d.childLanes|=c),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;m&&o!==null&&s.tag===3&&(y=s.stateNode,m=31-Rn(c),y=y.hiddenUpdates,s=y[m],s===null?y[m]=[o]:s.push(o),o.lane=c|536870912)}function dd(s){if(50<ou)throw ou=0,oy=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var rl={},N0=new WeakMap;function li(s,o){if(typeof s=="object"&&s!==null){var c=N0.get(s);return c!==void 0?c:(o={value:s,source:o,stack:de(o)},N0.set(s,o),o)}return{value:s,source:o,stack:de(o)}}var sl=[],al=0,fd=null,gd=0,ci=[],ui=0,ja=null,Cr=1,Dr="";function Ua(s,o){sl[al++]=gd,sl[al++]=fd,fd=s,gd=o}function P0(s,o,c){ci[ui++]=Cr,ci[ui++]=Dr,ci[ui++]=ja,ja=s;var d=Cr;s=Dr;var m=32-Rn(d)-1;d&=~(1<<m),c+=1;var y=32-Rn(o)+m;if(30<y){var S=m-m%5;y=(d&(1<<S)-1).toString(32),d>>=S,m-=S,Cr=1<<32-Rn(o)+m|c<<m|d,Dr=y+s}else Cr=1<<y|c<<m|d,Dr=s}function nm(s){s.return!==null&&(Ua(s,1),P0(s,1,0))}function im(s){for(;s===fd;)fd=sl[--al],sl[al]=null,gd=sl[--al],sl[al]=null;for(;s===ja;)ja=ci[--ui],ci[ui]=null,Dr=ci[--ui],ci[ui]=null,Cr=ci[--ui],ci[ui]=null}var In=null,ln=null,Ke=!1,Di=null,er=!1,rm=Error(i(519));function za(s){var o=Error(i(418,""));throw Uc(li(o,s)),rm}function L0(s){var o=s.stateNode,c=s.type,d=s.memoizedProps;switch(o[Kt]=s,o[Ht]=d,c){case"dialog":He("cancel",o),He("close",o);break;case"iframe":case"object":case"embed":He("load",o);break;case"video":case"audio":for(c=0;c<cu.length;c++)He(cu[c],o);break;case"source":He("error",o);break;case"img":case"image":case"link":He("error",o),He("load",o);break;case"details":He("toggle",o);break;case"input":He("invalid",o),Ra(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),xa(o);break;case"select":He("invalid",o);break;case"textarea":He("invalid",o),Es(o,d.value,d.defaultValue,d.children),xa(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||Ww(o.textContent,c)?(d.popover!=null&&(He("beforetoggle",o),He("toggle",o)),d.onScroll!=null&&He("scroll",o),d.onScrollEnd!=null&&He("scrollend",o),d.onClick!=null&&(o.onclick=Gd),o=!0):o=!1,o||za(s)}function V0(s){for(In=s.return;In;)switch(In.tag){case 3:case 27:er=!0;return;case 5:case 13:er=!1;return;default:In=In.return}}function Vc(s){if(s!==In)return!1;if(!Ke)return V0(s),Ke=!0,!1;var o=!1,c;if((c=s.tag!==3&&s.tag!==27)&&((c=s.tag===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Sy(s.type,s.memoizedProps)),c=!c),c&&(o=!0),o&&ln&&za(s),V0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){ln=ki(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}ln=null}}else ln=In?ki(s.stateNode.nextSibling):null;return!0}function jc(){ln=In=null,Ke=!1}function Uc(s){Di===null?Di=[s]:Di.push(s)}var zc=Error(i(460)),j0=Error(i(474)),sm={then:function(){}};function U0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function pd(){}function z0(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(pd,pd),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,s===zc?Error(i(483)):s;default:if(typeof o.status=="string")o.then(pd,pd);else{if(s=ct,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=d}},function(d){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,s===zc?Error(i(483)):s}throw Hc=o,zc}}var Hc=null;function H0(){if(Hc===null)throw Error(i(459));var s=Hc;return Hc=null,s}var ol=null,Bc=0;function md(s){var o=Bc;return Bc+=1,ol===null&&(ol=[]),z0(ol,s,o)}function Fc(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function yd(s,o){throw o.$$typeof===a?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function B0(s){var o=s._init;return o(s._payload)}function F0(s){function o(W,F){if(s){var Y=W.deletions;Y===null?(W.deletions=[F],W.flags|=16):Y.push(F)}}function c(W,F){if(!s)return null;for(;F!==null;)o(W,F),F=F.sibling;return null}function d(W){for(var F=new Map;W!==null;)W.key!==null?F.set(W.key,W):F.set(W.index,W),W=W.sibling;return F}function m(W,F){return W=Ps(W,F),W.index=0,W.sibling=null,W}function y(W,F,Y){return W.index=Y,s?(Y=W.alternate,Y!==null?(Y=Y.index,Y<F?(W.flags|=33554434,F):Y):(W.flags|=33554434,F)):(W.flags|=1048576,F)}function S(W){return s&&W.alternate===null&&(W.flags|=33554434),W}function C(W,F,Y,ie){return F===null||F.tag!==6?(F=Jm(Y,W.mode,ie),F.return=W,F):(F=m(F,Y),F.return=W,F)}function L(W,F,Y,ie){var me=Y.type;return me===h?te(W,F,Y.props.children,ie,Y.key):F!==null&&(F.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===V&&B0(me)===F.type)?(F=m(F,Y.props),Fc(F,Y),F.return=W,F):(F=Pd(Y.type,Y.key,Y.props,null,W.mode,ie),Fc(F,Y),F.return=W,F)}function q(W,F,Y,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=ey(Y,W.mode,ie),F.return=W,F):(F=m(F,Y.children||[]),F.return=W,F)}function te(W,F,Y,ie,me){return F===null||F.tag!==7?(F=Ka(Y,W.mode,ie,me),F.return=W,F):(F=m(F,Y),F.return=W,F)}function ae(W,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Jm(""+F,W.mode,Y),F.return=W,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case l:return Y=Pd(F.type,F.key,F.props,null,W.mode,Y),Fc(Y,F),Y.return=W,Y;case u:return F=ey(F,W.mode,Y),F.return=W,F;case V:var ie=F._init;return F=ie(F._payload),ae(W,F,Y)}if(he(F)||ne(F))return F=Ka(F,W.mode,Y,null),F.return=W,F;if(typeof F.then=="function")return ae(W,md(F),Y);if(F.$$typeof===b)return ae(W,Md(W,F),Y);yd(W,F)}return null}function Q(W,F,Y,ie){var me=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return me!==null?null:C(W,F,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:return Y.key===me?L(W,F,Y,ie):null;case u:return Y.key===me?q(W,F,Y,ie):null;case V:return me=Y._init,Y=me(Y._payload),Q(W,F,Y,ie)}if(he(Y)||ne(Y))return me!==null?null:te(W,F,Y,ie,null);if(typeof Y.then=="function")return Q(W,F,md(Y),ie);if(Y.$$typeof===b)return Q(W,F,Md(W,Y),ie);yd(W,Y)}return null}function ee(W,F,Y,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return W=W.get(Y)||null,C(F,W,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case l:return W=W.get(ie.key===null?Y:ie.key)||null,L(F,W,ie,me);case u:return W=W.get(ie.key===null?Y:ie.key)||null,q(F,W,ie,me);case V:var Le=ie._init;return ie=Le(ie._payload),ee(W,F,Y,ie,me)}if(he(ie)||ne(ie))return W=W.get(Y)||null,te(F,W,ie,me,null);if(typeof ie.then=="function")return ee(W,F,Y,md(ie),me);if(ie.$$typeof===b)return ee(W,F,Y,Md(F,ie),me);yd(F,ie)}return null}function ve(W,F,Y,ie){for(var me=null,Le=null,_e=F,Se=F=0,tn=null;_e!==null&&Se<Y.length;Se++){_e.index>Se?(tn=_e,_e=null):tn=_e.sibling;var Xe=Q(W,_e,Y[Se],ie);if(Xe===null){_e===null&&(_e=tn);break}s&&_e&&Xe.alternate===null&&o(W,_e),F=y(Xe,F,Se),Le===null?me=Xe:Le.sibling=Xe,Le=Xe,_e=tn}if(Se===Y.length)return c(W,_e),Ke&&Ua(W,Se),me;if(_e===null){for(;Se<Y.length;Se++)_e=ae(W,Y[Se],ie),_e!==null&&(F=y(_e,F,Se),Le===null?me=_e:Le.sibling=_e,Le=_e);return Ke&&Ua(W,Se),me}for(_e=d(_e);Se<Y.length;Se++)tn=ee(_e,W,Se,Y[Se],ie),tn!==null&&(s&&tn.alternate!==null&&_e.delete(tn.key===null?Se:tn.key),F=y(tn,F,Se),Le===null?me=tn:Le.sibling=tn,Le=tn);return s&&_e.forEach(function(Bs){return o(W,Bs)}),Ke&&Ua(W,Se),me}function ke(W,F,Y,ie){if(Y==null)throw Error(i(151));for(var me=null,Le=null,_e=F,Se=F=0,tn=null,Xe=Y.next();_e!==null&&!Xe.done;Se++,Xe=Y.next()){_e.index>Se?(tn=_e,_e=null):tn=_e.sibling;var Bs=Q(W,_e,Xe.value,ie);if(Bs===null){_e===null&&(_e=tn);break}s&&_e&&Bs.alternate===null&&o(W,_e),F=y(Bs,F,Se),Le===null?me=Bs:Le.sibling=Bs,Le=Bs,_e=tn}if(Xe.done)return c(W,_e),Ke&&Ua(W,Se),me;if(_e===null){for(;!Xe.done;Se++,Xe=Y.next())Xe=ae(W,Xe.value,ie),Xe!==null&&(F=y(Xe,F,Se),Le===null?me=Xe:Le.sibling=Xe,Le=Xe);return Ke&&Ua(W,Se),me}for(_e=d(_e);!Xe.done;Se++,Xe=Y.next())Xe=ee(_e,W,Se,Xe.value,ie),Xe!==null&&(s&&Xe.alternate!==null&&_e.delete(Xe.key===null?Se:Xe.key),F=y(Xe,F,Se),Le===null?me=Xe:Le.sibling=Xe,Le=Xe);return s&&_e.forEach(function(RO){return o(W,RO)}),Ke&&Ua(W,Se),me}function Ct(W,F,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===h&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:e:{for(var me=Y.key;F!==null;){if(F.key===me){if(me=Y.type,me===h){if(F.tag===7){c(W,F.sibling),ie=m(F,Y.props.children),ie.return=W,W=ie;break e}}else if(F.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===V&&B0(me)===F.type){c(W,F.sibling),ie=m(F,Y.props),Fc(ie,Y),ie.return=W,W=ie;break e}c(W,F);break}else o(W,F);F=F.sibling}Y.type===h?(ie=Ka(Y.props.children,W.mode,ie,Y.key),ie.return=W,W=ie):(ie=Pd(Y.type,Y.key,Y.props,null,W.mode,ie),Fc(ie,Y),ie.return=W,W=ie)}return S(W);case u:e:{for(me=Y.key;F!==null;){if(F.key===me)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){c(W,F.sibling),ie=m(F,Y.children||[]),ie.return=W,W=ie;break e}else{c(W,F);break}else o(W,F);F=F.sibling}ie=ey(Y,W.mode,ie),ie.return=W,W=ie}return S(W);case V:return me=Y._init,Y=me(Y._payload),Ct(W,F,Y,ie)}if(he(Y))return ve(W,F,Y,ie);if(ne(Y)){if(me=ne(Y),typeof me!="function")throw Error(i(150));return Y=me.call(Y),ke(W,F,Y,ie)}if(typeof Y.then=="function")return Ct(W,F,md(Y),ie);if(Y.$$typeof===b)return Ct(W,F,Md(W,Y),ie);yd(W,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(c(W,F.sibling),ie=m(F,Y),ie.return=W,W=ie):(c(W,F),ie=Jm(Y,W.mode,ie),ie.return=W,W=ie),S(W)):c(W,F)}return function(W,F,Y,ie){try{Bc=0;var me=Ct(W,F,Y,ie);return ol=null,me}catch(_e){if(_e===zc)throw _e;var Le=gi(29,_e,null,W.mode);return Le.lanes=ie,Le.return=W,Le}finally{}}}var Ha=F0(!0),q0=F0(!1),ll=Fe(null),vd=Fe(0);function W0(s,o){s=zr,Je(vd,s),Je(ll,o),zr=s|o.baseLanes}function am(){Je(vd,zr),Je(ll,ll.current)}function om(){zr=vd.current,ft(ll),ft(vd)}var hi=Fe(null),tr=null;function Ss(s){var o=s.alternate;Je(qt,qt.current&1),Je(hi,s),tr===null&&(o===null||ll.current!==null||o.memoizedState!==null)&&(tr=s)}function G0(s){if(s.tag===22){if(Je(qt,qt.current),Je(hi,s),tr===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(tr=s)}}else Ts()}function Ts(){Je(qt,qt.current),Je(hi,hi.current)}function Ir(s){ft(hi),tr===s&&(tr=null),ft(qt)}var qt=Fe(0);function _d(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var gM=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},pM=n.unstable_scheduleCallback,mM=n.unstable_NormalPriority,Wt={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new gM,data:new Map,refCount:0}}function qc(s){s.refCount--,s.refCount===0&&pM(mM,function(){s.controller.abort()})}var Wc=null,cm=0,cl=0,ul=null;function yM(s,o){if(Wc===null){var c=Wc=[];cm=0,cl=py(),ul={status:"pending",value:void 0,then:function(d){c.push(d)}}}return cm++,o.then($0,$0),o}function $0(){if(--cm===0&&Wc!==null){ul!==null&&(ul.status="fulfilled");var s=Wc;Wc=null,cl=0,ul=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function vM(s,o){var c=[],d={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var m=0;m<c.length;m++)(0,c[m])(o)},function(m){for(d.status="rejected",d.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),d}var Y0=I.S;I.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&yM(s,o),Y0!==null&&Y0(s,o)};var Ba=Fe(null);function um(){var s=Ba.current;return s!==null?s:ct.pooledCache}function bd(s,o){o===null?Je(Ba,Ba.current):Je(Ba,o.pool)}function Q0(){var s=um();return s===null?null:{parent:Wt._currentValue,pool:s}}var xs=0,Pe=null,at=null,Nt=null,Ed=!1,hl=!1,Fa=!1,wd=0,Gc=0,dl=null,_M=0;function It(){throw Error(i(321))}function hm(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Gn(s[c],o[c]))return!1;return!0}function dm(s,o,c,d,m,y){return xs=y,Pe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,I.H=s===null||s.memoizedState===null?qa:Rs,Fa=!1,y=c(d,m),Fa=!1,hl&&(y=X0(o,c,d,m)),K0(s),y}function K0(s){I.H=nr;var o=at!==null&&at.next!==null;if(xs=0,Nt=at=Pe=null,Ed=!1,Gc=0,dl=null,o)throw Error(i(300));s===null||Jt||(s=s.dependencies,s!==null&&kd(s)&&(Jt=!0))}function X0(s,o,c,d){Pe=s;var m=0;do{if(hl&&(dl=null),Gc=0,hl=!1,25<=m)throw Error(i(301));if(m+=1,Nt=at=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}I.H=Wa,y=o(c,d)}while(hl);return y}function bM(){var s=I.H,o=s.useState()[0];return o=typeof o.then=="function"?$c(o):o,s=s.useState()[0],(at!==null?at.memoizedState:null)!==s&&(Pe.flags|=1024),o}function fm(){var s=wd!==0;return wd=0,s}function gm(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function pm(s){if(Ed){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Ed=!1}xs=0,Nt=at=Pe=null,hl=!1,Gc=wd=0,dl=null}function Pn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Pe.memoizedState=Nt=s:Nt=Nt.next=s,Nt}function Pt(){if(at===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=at.next;var o=Nt===null?Pe.memoizedState:Nt.next;if(o!==null)Nt=o,at=s;else{if(s===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));at=s,s={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Nt===null?Pe.memoizedState=Nt=s:Nt=Nt.next=s}return Nt}var Ad;Ad=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function $c(s){var o=Gc;return Gc+=1,dl===null&&(dl=[]),s=z0(dl,s,o),o=Pe,(Nt===null?o.memoizedState:Nt.next)===null&&(o=o.alternate,I.H=o===null||o.memoizedState===null?qa:Rs),s}function Sd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return $c(s);if(s.$$typeof===b)return vn(s)}throw Error(i(438,String(s)))}function mm(s){var o=null,c=Pe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=Pe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Ad(),Pe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),d=0;d<s;d++)c[d]=$;return o.index++,c}function kr(s,o){return typeof o=="function"?o(s):o}function Td(s){var o=Pt();return ym(o,at,s)}function ym(s,o,c){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var m=s.baseQueue,y=d.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}o.baseQueue=m=y,d.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{o=m.next;var C=S=null,L=null,q=o,te=!1;do{var ae=q.lane&-536870913;if(ae!==q.lane?(Ge&ae)===ae:(xs&ae)===ae){var Q=q.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ae===cl&&(te=!0);else if((xs&Q)===Q){q=q.next,Q===cl&&(te=!0);continue}else ae={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(C=L=ae,S=y):L=L.next=ae,Pe.lanes|=Q,Ls|=Q;ae=q.action,Fa&&c(y,ae),y=q.hasEagerState?q.eagerState:c(y,ae)}else Q={lane:ae,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(C=L=Q,S=y):L=L.next=Q,Pe.lanes|=ae,Ls|=ae;q=q.next}while(q!==null&&q!==o);if(L===null?S=y:L.next=C,!Gn(y,s.memoizedState)&&(Jt=!0,te&&(c=ul,c!==null)))throw c;s.memoizedState=y,s.baseState=S,s.baseQueue=L,d.lastRenderedState=y}return m===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function vm(s){var o=Pt(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var d=c.dispatch,m=c.pending,y=o.memoizedState;if(m!==null){c.pending=null;var S=m=m.next;do y=s(y,S.action),S=S.next;while(S!==m);Gn(y,o.memoizedState)||(Jt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),c.lastRenderedState=y}return[y,d]}function Z0(s,o,c){var d=Pe,m=Pt(),y=Ke;if(y){if(c===void 0)throw Error(i(407));c=c()}else c=o();var S=!Gn((at||m).memoizedState,c);if(S&&(m.memoizedState=c,Jt=!0),m=m.queue,Em(tE.bind(null,d,m,s),[s]),m.getSnapshot!==o||S||Nt!==null&&Nt.memoizedState.tag&1){if(d.flags|=2048,fl(9,eE.bind(null,d,m,c,o),{destroy:void 0},null),ct===null)throw Error(i(349));y||xs&60||J0(d,o,c)}return c}function J0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Pe.updateQueue,o===null?(o=Ad(),Pe.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function eE(s,o,c,d){o.value=c,o.getSnapshot=d,nE(o)&&iE(s)}function tE(s,o,c){return c(function(){nE(o)&&iE(s)})}function nE(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Gn(s,c)}catch{return!0}}function iE(s){var o=As(s,2);o!==null&&kn(o,s,2)}function _m(s){var o=Pn();if(typeof s=="function"){var c=s;if(s=c(),Fa){Fi(!0);try{c()}finally{Fi(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:s},o}function rE(s,o,c,d){return s.baseState=c,ym(s,at,typeof d=="function"?d:kr)}function EM(s,o,c,d,m){if(Cd(s))throw Error(i(485));if(s=o.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};I.T!==null?c(!0):y.isTransition=!1,d(y),c=o.pending,c===null?(y.next=o.pending=y,sE(o,y)):(y.next=c.next,o.pending=c.next=y)}}function sE(s,o){var c=o.action,d=o.payload,m=s.state;if(o.isTransition){var y=I.T,S={};I.T=S;try{var C=c(m,d),L=I.S;L!==null&&L(S,C),aE(s,o,C)}catch(q){bm(s,o,q)}finally{I.T=y}}else try{y=c(m,d),aE(s,o,y)}catch(q){bm(s,o,q)}}function aE(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){oE(s,o,d)},function(d){return bm(s,o,d)}):oE(s,o,c)}function oE(s,o,c){o.status="fulfilled",o.value=c,lE(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,sE(s,c)))}function bm(s,o,c){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,lE(o),o=o.next;while(o!==d)}s.action=null}function lE(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function cE(s,o){return o}function uE(s,o){if(Ke){var c=ct.formState;if(c!==null){e:{var d=Pe;if(Ke){if(ln){t:{for(var m=ln,y=er;m.nodeType!==8;){if(!y){m=null;break t}if(m=ki(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){ln=ki(m.nextSibling),d=m.data==="F!";break e}}za(d)}d=!1}d&&(o=c[0])}}return c=Pn(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cE,lastRenderedState:o},c.queue=d,c=CE.bind(null,Pe,d),d.dispatch=c,d=_m(!1),y=xm.bind(null,Pe,!1,d.queue),d=Pn(),m={state:o,dispatch:null,action:s,pending:null},d.queue=m,c=EM.bind(null,Pe,m,y,c),m.dispatch=c,d.memoizedState=s,[o,c,!1]}function hE(s){var o=Pt();return dE(o,at,s)}function dE(s,o,c){o=ym(s,o,cE)[0],s=Td(kr)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?$c(o):o;var d=Pt(),m=d.queue,y=m.dispatch;return c!==d.memoizedState&&(Pe.flags|=2048,fl(9,wM.bind(null,m,c),{destroy:void 0},null)),[o,y,s]}function wM(s,o){s.action=o}function fE(s){var o=Pt(),c=at;if(c!==null)return dE(o,c,s);Pt(),o=o.memoizedState,c=Pt();var d=c.queue.dispatch;return c.memoizedState=s,[o,d,!1]}function fl(s,o,c,d){return s={tag:s,create:o,inst:c,deps:d,next:null},o=Pe.updateQueue,o===null&&(o=Ad(),Pe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,o.lastEffect=s),s}function gE(){return Pt().memoizedState}function xd(s,o,c,d){var m=Pn();Pe.flags|=s,m.memoizedState=fl(1|o,c,{destroy:void 0},d===void 0?null:d)}function Rd(s,o,c,d){var m=Pt();d=d===void 0?null:d;var y=m.memoizedState.inst;at!==null&&d!==null&&hm(d,at.memoizedState.deps)?m.memoizedState=fl(o,c,y,d):(Pe.flags|=s,m.memoizedState=fl(1|o,c,y,d))}function pE(s,o){xd(8390656,8,s,o)}function Em(s,o){Rd(2048,8,s,o)}function mE(s,o){return Rd(4,2,s,o)}function yE(s,o){return Rd(4,4,s,o)}function vE(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function _E(s,o,c){c=c!=null?c.concat([s]):null,Rd(4,4,vE.bind(null,o,s),c)}function wm(){}function bE(s,o){var c=Pt();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&hm(o,d[1])?d[0]:(c.memoizedState=[s,o],s)}function EE(s,o){var c=Pt();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&hm(o,d[1]))return d[0];if(d=s(),Fa){Fi(!0);try{s()}finally{Fi(!1)}}return c.memoizedState=[d,o],d}function Am(s,o,c){return c===void 0||xs&1073741824?s.memoizedState=o:(s.memoizedState=c,s=Aw(),Pe.lanes|=s,Ls|=s,c)}function wE(s,o,c,d){return Gn(c,o)?c:ll.current!==null?(s=Am(s,c,d),Gn(s,o)||(Jt=!0),s):xs&42?(s=Aw(),Pe.lanes|=s,Ls|=s,o):(Jt=!0,s.memoizedState=c)}function AE(s,o,c,d,m){var y=ue.p;ue.p=y!==0&&8>y?y:8;var S=I.T,C={};I.T=C,xm(s,!1,o,c);try{var L=m(),q=I.S;if(q!==null&&q(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var te=vM(L,d);Yc(s,o,te,Kn(s))}else Yc(s,o,d,Kn(s))}catch(ae){Yc(s,o,{then:function(){},status:"rejected",reason:ae},Kn())}finally{ue.p=y,I.T=S}}function AM(){}function Sm(s,o,c,d){if(s.tag!==5)throw Error(i(476));var m=SE(s).queue;AE(s,m,o,Ce,c===null?AM:function(){return TE(s),c(d)})}function SE(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:Ce},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function TE(s){var o=SE(s).next.queue;Yc(s,o,{},Kn())}function Tm(){return vn(gu)}function xE(){return Pt().memoizedState}function RE(){return Pt().memoizedState}function SM(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=Kn();s=Is(c);var d=ks(o,s,c);d!==null&&(kn(d,o,c),Xc(d,o,c)),o={cache:lm()},s.payload=o;return}o=o.return}}function TM(s,o,c){var d=Kn();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Cd(s)?DE(o,c):(c=tm(s,o,c,d),c!==null&&(kn(c,s,d),IE(c,o,d)))}function CE(s,o,c){var d=Kn();Yc(s,o,c,d)}function Yc(s,o,c,d){var m={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Cd(s))DE(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,C=y(S,c);if(m.hasEagerState=!0,m.eagerState=C,Gn(C,S))return hd(s,o,m,0),ct===null&&ud(),!1}catch{}finally{}if(c=tm(s,o,m,d),c!==null)return kn(c,s,d),IE(c,o,d),!0}return!1}function xm(s,o,c,d){if(d={lane:2,revertLane:py(),action:d,hasEagerState:!1,eagerState:null,next:null},Cd(s)){if(o)throw Error(i(479))}else o=tm(s,c,d,2),o!==null&&kn(o,s,2)}function Cd(s){var o=s.alternate;return s===Pe||o!==null&&o===Pe}function DE(s,o){hl=Ed=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function IE(s,o,c){if(c&4194176){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,fs(s,c)}}var nr={readContext:vn,use:Sd,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It};nr.useCacheRefresh=It,nr.useMemoCache=It,nr.useHostTransitionStatus=It,nr.useFormState=It,nr.useActionState=It,nr.useOptimistic=It;var qa={readContext:vn,use:Sd,useCallback:function(s,o){return Pn().memoizedState=[s,o===void 0?null:o],s},useContext:vn,useEffect:pE,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,xd(4194308,4,vE.bind(null,o,s),c)},useLayoutEffect:function(s,o){return xd(4194308,4,s,o)},useInsertionEffect:function(s,o){xd(4,2,s,o)},useMemo:function(s,o){var c=Pn();o=o===void 0?null:o;var d=s();if(Fa){Fi(!0);try{s()}finally{Fi(!1)}}return c.memoizedState=[d,o],d},useReducer:function(s,o,c){var d=Pn();if(c!==void 0){var m=c(o);if(Fa){Fi(!0);try{c(o)}finally{Fi(!1)}}}else m=o;return d.memoizedState=d.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},d.queue=s,s=s.dispatch=TM.bind(null,Pe,s),[d.memoizedState,s]},useRef:function(s){var o=Pn();return s={current:s},o.memoizedState=s},useState:function(s){s=_m(s);var o=s.queue,c=CE.bind(null,Pe,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:wm,useDeferredValue:function(s,o){var c=Pn();return Am(c,s,o)},useTransition:function(){var s=_m(!1);return s=AE.bind(null,Pe,s.queue,!0,!1),Pn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var d=Pe,m=Pn();if(Ke){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),ct===null)throw Error(i(349));Ge&60||J0(d,o,c)}m.memoizedState=c;var y={value:c,getSnapshot:o};return m.queue=y,pE(tE.bind(null,d,y,s),[s]),d.flags|=2048,fl(9,eE.bind(null,d,y,c,o),{destroy:void 0},null),c},useId:function(){var s=Pn(),o=ct.identifierPrefix;if(Ke){var c=Dr,d=Cr;c=(d&~(1<<32-Rn(d)-1)).toString(32)+c,o=":"+o+"R"+c,c=wd++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=_M++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},useCacheRefresh:function(){return Pn().memoizedState=SM.bind(null,Pe)}};qa.useMemoCache=mm,qa.useHostTransitionStatus=Tm,qa.useFormState=uE,qa.useActionState=uE,qa.useOptimistic=function(s){var o=Pn();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=xm.bind(null,Pe,!0,c),c.dispatch=o,[s,o]};var Rs={readContext:vn,use:Sd,useCallback:bE,useContext:vn,useEffect:Em,useImperativeHandle:_E,useInsertionEffect:mE,useLayoutEffect:yE,useMemo:EE,useReducer:Td,useRef:gE,useState:function(){return Td(kr)},useDebugValue:wm,useDeferredValue:function(s,o){var c=Pt();return wE(c,at.memoizedState,s,o)},useTransition:function(){var s=Td(kr)[0],o=Pt().memoizedState;return[typeof s=="boolean"?s:$c(s),o]},useSyncExternalStore:Z0,useId:xE};Rs.useCacheRefresh=RE,Rs.useMemoCache=mm,Rs.useHostTransitionStatus=Tm,Rs.useFormState=hE,Rs.useActionState=hE,Rs.useOptimistic=function(s,o){var c=Pt();return rE(c,at,s,o)};var Wa={readContext:vn,use:Sd,useCallback:bE,useContext:vn,useEffect:Em,useImperativeHandle:_E,useInsertionEffect:mE,useLayoutEffect:yE,useMemo:EE,useReducer:vm,useRef:gE,useState:function(){return vm(kr)},useDebugValue:wm,useDeferredValue:function(s,o){var c=Pt();return at===null?Am(c,s,o):wE(c,at.memoizedState,s,o)},useTransition:function(){var s=vm(kr)[0],o=Pt().memoizedState;return[typeof s=="boolean"?s:$c(s),o]},useSyncExternalStore:Z0,useId:xE};Wa.useCacheRefresh=RE,Wa.useMemoCache=mm,Wa.useHostTransitionStatus=Tm,Wa.useFormState=fE,Wa.useActionState=fE,Wa.useOptimistic=function(s,o){var c=Pt();return at!==null?rE(c,at,s,o):(c.baseState=s,[s,c.queue.dispatch])};function Rm(s,o,c,d){o=s.memoizedState,c=c(d,o),c=c==null?o:O({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Cm={isMounted:function(s){return(s=s._reactInternals)?ge(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var d=Kn(),m=Is(d);m.payload=o,c!=null&&(m.callback=c),o=ks(s,m,d),o!==null&&(kn(o,s,d),Xc(o,s,d))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var d=Kn(),m=Is(d);m.tag=1,m.payload=o,c!=null&&(m.callback=c),o=ks(s,m,d),o!==null&&(kn(o,s,d),Xc(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Kn(),d=Is(c);d.tag=2,o!=null&&(d.callback=o),o=ks(s,d,c),o!==null&&(kn(o,s,c),Xc(o,s,c))}};function kE(s,o,c,d,m,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,S):o.prototype&&o.prototype.isPureReactComponent?!Pc(c,d)||!Pc(m,y):!0}function ME(s,o,c,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==s&&Cm.enqueueReplaceState(o,o.state,null)}function Ga(s,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(s=s.defaultProps){c===o&&(c=O({},c));for(var m in s)c[m]===void 0&&(c[m]=s[m])}return c}var Dd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function OE(s){Dd(s)}function NE(s){console.error(s)}function PE(s){Dd(s)}function Id(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function LE(s,o,c){try{var d=s.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Dm(s,o,c){return c=Is(c),c.tag=3,c.payload={element:null},c.callback=function(){Id(s,o)},c}function VE(s){return s=Is(s),s.tag=3,s}function jE(s,o,c,d){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var y=d.value;s.payload=function(){return m(y)},s.callback=function(){LE(o,c,d)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){LE(o,c,d),typeof m!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var C=d.stack;this.componentDidCatch(d.value,{componentStack:C!==null?C:""})})}function xM(s,o,c,d,m){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&Kc(o,c,m,!0),c=hi.current,c!==null){switch(c.tag){case 13:return tr===null?uy():c.alternate===null&&Rt===0&&(Rt=3),c.flags&=-257,c.flags|=65536,c.lanes=m,d===sm?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),dy(s,d,m)),!1;case 22:return c.flags|=65536,d===sm?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),dy(s,d,m)),!1}throw Error(i(435,c.tag))}return dy(s,d,m),uy(),!1}if(Ke)return o=hi.current,o!==null?(!(o.flags&65536)&&(o.flags|=256),o.flags|=65536,o.lanes=m,d!==rm&&(s=Error(i(422),{cause:d}),Uc(li(s,c)))):(d!==rm&&(o=Error(i(423),{cause:d}),Uc(li(o,c))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,d=li(d,c),m=Dm(s.stateNode,d,m),qm(s,m),Rt!==4&&(Rt=2)),!1;var y=Error(i(520),{cause:d});if(y=li(y,c),su===null?su=[y]:su.push(y),Rt!==4&&(Rt=2),o===null)return!0;d=li(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=m&-m,c.lanes|=s,s=Dm(c.stateNode,d,s),qm(c,s),!1;case 1:if(o=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Vs===null||!Vs.has(y))))return c.flags|=65536,m&=-m,c.lanes|=m,m=VE(m),jE(m,s,c,d),qm(c,m),!1}c=c.return}while(c!==null);return!1}var UE=Error(i(461)),Jt=!1;function cn(s,o,c,d){o.child=s===null?q0(o,null,c,d):Ha(o,s.child,c,d)}function zE(s,o,c,d,m){c=c.render;var y=o.ref;if("ref"in d){var S={};for(var C in d)C!=="ref"&&(S[C]=d[C])}else S=d;return Ya(o),d=dm(s,o,c,S,y,m),C=fm(),s!==null&&!Jt?(gm(s,o,m),Mr(s,o,m)):(Ke&&C&&nm(o),o.flags|=1,cn(s,o,d,m),o.child)}function HE(s,o,c,d,m){if(s===null){var y=c.type;return typeof y=="function"&&!Zm(y)&&y.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=y,BE(s,o,y,d,m)):(s=Pd(c.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,!jm(s,m)){var S=y.memoizedProps;if(c=c.compare,c=c!==null?c:Pc,c(S,d)&&s.ref===o.ref)return Mr(s,o,m)}return o.flags|=1,s=Ps(y,d),s.ref=o.ref,s.return=o,o.child=s}function BE(s,o,c,d,m){if(s!==null){var y=s.memoizedProps;if(Pc(y,d)&&s.ref===o.ref)if(Jt=!1,o.pendingProps=d=y,jm(s,m))s.flags&131072&&(Jt=!0);else return o.lanes=s.lanes,Mr(s,o,m)}return Im(s,o,c,d,m)}function FE(s,o,c){var d=o.pendingProps,m=d.children,y=(o.stateNode._pendingVisibility&2)!==0,S=s!==null?s.memoizedState:null;if(Qc(s,o),d.mode==="hidden"||y){if(o.flags&128){if(d=S!==null?S.baseLanes|c:c,s!==null){for(m=o.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;o.childLanes=y&~d}else o.childLanes=0,o.child=null;return qE(s,o,d,c)}if(c&536870912)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&bd(o,S!==null?S.cachePool:null),S!==null?W0(o,S):am(),G0(o);else return o.lanes=o.childLanes=536870912,qE(s,o,S!==null?S.baseLanes|c:c,c)}else S!==null?(bd(o,S.cachePool),W0(o,S),Ts(),o.memoizedState=null):(s!==null&&bd(o,null),am(),Ts());return cn(s,o,m,c),o.child}function qE(s,o,c,d){var m=um();return m=m===null?null:{parent:Wt._currentValue,pool:m},o.memoizedState={baseLanes:c,cachePool:m},s!==null&&bd(o,null),am(),G0(o),s!==null&&Kc(s,o,d,!0),null}function Qc(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(o.flags|=2097664)}}function Im(s,o,c,d,m){return Ya(o),c=dm(s,o,c,d,void 0,m),d=fm(),s!==null&&!Jt?(gm(s,o,m),Mr(s,o,m)):(Ke&&d&&nm(o),o.flags|=1,cn(s,o,c,m),o.child)}function WE(s,o,c,d,m,y){return Ya(o),o.updateQueue=null,c=X0(o,d,c,m),K0(s),d=fm(),s!==null&&!Jt?(gm(s,o,y),Mr(s,o,y)):(Ke&&d&&nm(o),o.flags|=1,cn(s,o,c,y),o.child)}function GE(s,o,c,d,m){if(Ya(o),o.stateNode===null){var y=rl,S=c.contextType;typeof S=="object"&&S!==null&&(y=vn(S)),y=new c(d,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Cm,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=d,y.state=o.memoizedState,y.refs={},Bm(o),S=c.contextType,y.context=typeof S=="object"&&S!==null?vn(S):rl,y.state=o.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(Rm(o,c,S,d),y.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Cm.enqueueReplaceState(y,y.state,null),Jc(o,d,y,m),Zc(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){y=o.stateNode;var C=o.memoizedProps,L=Ga(c,C);y.props=L;var q=y.context,te=c.contextType;S=rl,typeof te=="object"&&te!==null&&(S=vn(te));var ae=c.getDerivedStateFromProps;te=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||q!==S)&&ME(o,y,d,S),Ds=!1;var Q=o.memoizedState;y.state=Q,Jc(o,d,y,m),Zc(),q=o.memoizedState,C||Q!==q||Ds?(typeof ae=="function"&&(Rm(o,c,ae,d),q=o.memoizedState),(L=Ds||kE(o,c,L,d,Q,q,S))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=q),y.props=d,y.state=q,y.context=S,d=L):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{y=o.stateNode,Fm(s,o),S=o.memoizedProps,te=Ga(c,S),y.props=te,ae=o.pendingProps,Q=y.context,q=c.contextType,L=rl,typeof q=="object"&&q!==null&&(L=vn(q)),C=c.getDerivedStateFromProps,(q=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==ae||Q!==L)&&ME(o,y,d,L),Ds=!1,Q=o.memoizedState,y.state=Q,Jc(o,d,y,m),Zc();var ee=o.memoizedState;S!==ae||Q!==ee||Ds||s!==null&&s.dependencies!==null&&kd(s.dependencies)?(typeof C=="function"&&(Rm(o,c,C,d),ee=o.memoizedState),(te=Ds||kE(o,c,te,d,Q,ee,L)||s!==null&&s.dependencies!==null&&kd(s.dependencies))?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,ee,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,ee,L)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ee),y.props=d,y.state=ee,y.context=L,d=te):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(o.flags|=1024),d=!1)}return y=d,Qc(s,o),d=(o.flags&128)!==0,y||d?(y=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,s!==null&&d?(o.child=Ha(o,s.child,null,m),o.child=Ha(o,null,c,m)):cn(s,o,c,m),o.memoizedState=y.state,s=o.child):s=Mr(s,o,m),s}function $E(s,o,c,d){return jc(),o.flags|=256,cn(s,o,c,d),o.child}var km={dehydrated:null,treeContext:null,retryLane:0};function Mm(s){return{baseLanes:s,cachePool:Q0()}}function Om(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=pi),s}function YE(s,o,c){var d=o.pendingProps,m=!1,y=(o.flags&128)!==0,S;if((S=y)||(S=s!==null&&s.memoizedState===null?!1:(qt.current&2)!==0),S&&(m=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,s===null){if(Ke){if(m?Ss(o):Ts(),Ke){var C=ln,L;if(L=C){e:{for(L=C,C=er;L.nodeType!==8;){if(!C){C=null;break e}if(L=ki(L.nextSibling),L===null){C=null;break e}}C=L}C!==null?(o.memoizedState={dehydrated:C,treeContext:ja!==null?{id:Cr,overflow:Dr}:null,retryLane:536870912},L=gi(18,null,null,0),L.stateNode=C,L.return=o,o.child=L,In=o,ln=null,L=!0):L=!1}L||za(o)}if(C=o.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return C.data==="$!"?o.lanes=16:o.lanes=536870912,null;Ir(o)}return C=d.children,d=d.fallback,m?(Ts(),m=o.mode,C=Pm({mode:"hidden",children:C},m),d=Ka(d,m,c,null),C.return=o,d.return=o,C.sibling=d,o.child=C,m=o.child,m.memoizedState=Mm(c),m.childLanes=Om(s,S,c),o.memoizedState=km,d):(Ss(o),Nm(o,C))}if(L=s.memoizedState,L!==null&&(C=L.dehydrated,C!==null)){if(y)o.flags&256?(Ss(o),o.flags&=-257,o=Lm(s,o,c)):o.memoizedState!==null?(Ts(),o.child=s.child,o.flags|=128,o=null):(Ts(),m=d.fallback,C=o.mode,d=Pm({mode:"visible",children:d.children},C),m=Ka(m,C,c,null),m.flags|=2,d.return=o,m.return=o,d.sibling=m,o.child=d,Ha(o,s.child,null,c),d=o.child,d.memoizedState=Mm(c),d.childLanes=Om(s,S,c),o.memoizedState=km,o=m);else if(Ss(o),C.data==="$!"){if(S=C.nextSibling&&C.nextSibling.dataset,S)var q=S.dgst;S=q,d=Error(i(419)),d.stack="",d.digest=S,Uc({value:d,source:null,stack:null}),o=Lm(s,o,c)}else if(Jt||Kc(s,o,c,!1),S=(c&s.childLanes)!==0,Jt||S){if(S=ct,S!==null){if(d=c&-c,d&42)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=d&(S.suspendedLanes|c)?0:d,d!==0&&d!==L.retryLane)throw L.retryLane=d,As(s,d),kn(S,s,d),UE}C.data==="$?"||uy(),o=Lm(s,o,c)}else C.data==="$?"?(o.flags|=128,o.child=s.child,o=HM.bind(null,s),C._reactRetry=o,o=null):(s=L.treeContext,ln=ki(C.nextSibling),In=o,Ke=!0,Di=null,er=!1,s!==null&&(ci[ui++]=Cr,ci[ui++]=Dr,ci[ui++]=ja,Cr=s.id,Dr=s.overflow,ja=o),o=Nm(o,d.children),o.flags|=4096);return o}return m?(Ts(),m=d.fallback,C=o.mode,L=s.child,q=L.sibling,d=Ps(L,{mode:"hidden",children:d.children}),d.subtreeFlags=L.subtreeFlags&31457280,q!==null?m=Ps(q,m):(m=Ka(m,C,c,null),m.flags|=2),m.return=o,d.return=o,d.sibling=m,o.child=d,d=m,m=o.child,C=s.child.memoizedState,C===null?C=Mm(c):(L=C.cachePool,L!==null?(q=Wt._currentValue,L=L.parent!==q?{parent:q,pool:q}:L):L=Q0(),C={baseLanes:C.baseLanes|c,cachePool:L}),m.memoizedState=C,m.childLanes=Om(s,S,c),o.memoizedState=km,d):(Ss(o),c=s.child,s=c.sibling,c=Ps(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,s!==null&&(S=o.deletions,S===null?(o.deletions=[s],o.flags|=16):S.push(s)),o.child=c,o.memoizedState=null,c)}function Nm(s,o){return o=Pm({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Pm(s,o){return bw(s,o,0,null)}function Lm(s,o,c){return Ha(o,s.child,null,c),s=Nm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function QE(s,o,c){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),zm(s.return,o,c)}function Vm(s,o,c,d,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=c,y.tailMode=m)}function KE(s,o,c){var d=o.pendingProps,m=d.revealOrder,y=d.tail;if(cn(s,o,d.children,c),d=qt.current,d&2)d=d&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&QE(s,c,o);else if(s.tag===19)QE(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(Je(qt,d),m){case"forwards":for(c=o.child,m=null;c!==null;)s=c.alternate,s!==null&&_d(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),Vm(o,!1,m,c,y);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&_d(s)===null){o.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}Vm(o,!0,c,null,y);break;case"together":Vm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Mr(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Ls|=o.lanes,!(c&o.childLanes))if(s!==null){if(Kc(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,c=Ps(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Ps(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function jm(s,o){return s.lanes&o?!0:(s=s.dependencies,!!(s!==null&&kd(s)))}function RM(s,o,c){switch(o.tag){case 3:St(o,o.stateNode.containerInfo),Cs(o,Wt,s.memoizedState.cache),jc();break;case 27:case 5:Bi(o);break;case 4:St(o,o.stateNode.containerInfo);break;case 10:Cs(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Ss(o),o.flags|=128,null):c&o.child.childLanes?YE(s,o,c):(Ss(o),s=Mr(s,o,c),s!==null?s.sibling:null);Ss(o);break;case 19:var m=(s.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(Kc(s,o,c,!1),d=(c&o.childLanes)!==0),m){if(d)return KE(s,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Je(qt,qt.current),d)break;return null;case 22:case 23:return o.lanes=0,FE(s,o,c);case 24:Cs(o,Wt,s.memoizedState.cache)}return Mr(s,o,c)}function XE(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)Jt=!0;else{if(!jm(s,c)&&!(o.flags&128))return Jt=!1,RM(s,o,c);Jt=!!(s.flags&131072)}else Jt=!1,Ke&&o.flags&1048576&&P0(o,gd,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var d=o.elementType,m=d._init;if(d=m(d._payload),o.type=d,typeof d=="function")Zm(d)?(s=Ga(d,s),o.tag=1,o=GE(null,o,d,s,c)):(o.tag=0,o=Im(null,o,d,s,c));else{if(d!=null){if(m=d.$$typeof,m===T){o.tag=11,o=zE(null,o,d,s,c);break e}else if(m===M){o.tag=14,o=HE(null,o,d,s,c);break e}}throw o=D(d)||d,Error(i(306,o,""))}}return o;case 0:return Im(s,o,o.type,o.pendingProps,c);case 1:return d=o.type,m=Ga(d,o.pendingProps),GE(s,o,d,m,c);case 3:e:{if(St(o,o.stateNode.containerInfo),s===null)throw Error(i(387));var y=o.pendingProps;m=o.memoizedState,d=m.element,Fm(s,o),Jc(o,y,null,c);var S=o.memoizedState;if(y=S.cache,Cs(o,Wt,y),y!==m.cache&&Hm(o,[Wt],c,!0),Zc(),y=S.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=m,o.memoizedState=m,o.flags&256){o=$E(s,o,y,c);break e}else if(y!==d){d=li(Error(i(424)),o),Uc(d),o=$E(s,o,y,c);break e}else for(ln=ki(o.stateNode.containerInfo.firstChild),In=o,Ke=!0,Di=null,er=!0,c=q0(o,null,y,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(jc(),y===d){o=Mr(s,o,c);break e}cn(s,o,y,c)}o=o.child}return o;case 26:return Qc(s,o),s===null?(c=eA(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ke||(c=o.type,s=o.pendingProps,d=$d(De.current).createElement(c),d[Kt]=o,d[Ht]=s,un(d,c,s),yt(d),o.stateNode=d):o.memoizedState=eA(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Bi(o),s===null&&Ke&&(d=o.stateNode=Xw(o.type,o.pendingProps,De.current),In=o,er=!0,ln=ki(d.firstChild)),d=o.pendingProps.children,s!==null||Ke?cn(s,o,d,c):o.child=Ha(o,null,d,c),Qc(s,o),o.child;case 5:return s===null&&Ke&&((m=d=ln)&&(d=iO(d,o.type,o.pendingProps,er),d!==null?(o.stateNode=d,In=o,ln=ki(d.firstChild),er=!1,m=!0):m=!1),m||za(o)),Bi(o),m=o.type,y=o.pendingProps,S=s!==null?s.memoizedProps:null,d=y.children,Sy(m,y)?d=null:S!==null&&Sy(m,S)&&(o.flags|=32),o.memoizedState!==null&&(m=dm(s,o,bM,null,null,c),gu._currentValue=m),Qc(s,o),cn(s,o,d,c),o.child;case 6:return s===null&&Ke&&((s=c=ln)&&(c=rO(c,o.pendingProps,er),c!==null?(o.stateNode=c,In=o,ln=null,s=!0):s=!1),s||za(o)),null;case 13:return YE(s,o,c);case 4:return St(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Ha(o,null,d,c):cn(s,o,d,c),o.child;case 11:return zE(s,o,o.type,o.pendingProps,c);case 7:return cn(s,o,o.pendingProps,c),o.child;case 8:return cn(s,o,o.pendingProps.children,c),o.child;case 12:return cn(s,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,Cs(o,o.type,d.value),cn(s,o,d.children,c),o.child;case 9:return m=o.type._context,d=o.pendingProps.children,Ya(o),m=vn(m),d=d(m),o.flags|=1,cn(s,o,d,c),o.child;case 14:return HE(s,o,o.type,o.pendingProps,c);case 15:return BE(s,o,o.type,o.pendingProps,c);case 19:return KE(s,o,c);case 22:return FE(s,o,c);case 24:return Ya(o),d=vn(Wt),s===null?(m=um(),m===null&&(m=ct,y=lm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=c),m=y),o.memoizedState={parent:d,cache:m},Bm(o),Cs(o,Wt,m)):(s.lanes&c&&(Fm(s,o),Jc(o,null,null,c),Zc()),m=s.memoizedState,y=o.memoizedState,m.parent!==d?(m={parent:d,cache:d},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Cs(o,Wt,d)):(d=y.cache,Cs(o,Wt,d),d!==m.cache&&Hm(o,[Wt],c,!0))),cn(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}var Um=Fe(null),$a=null,Or=null;function Cs(s,o,c){Je(Um,o._currentValue),o._currentValue=c}function Nr(s){s._currentValue=Um.current,ft(Um)}function zm(s,o,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===c)break;s=s.return}}function Hm(s,o,c,d){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=m;for(var L=0;L<o.length;L++)if(C.context===o[L]){y.lanes|=c,C=y.alternate,C!==null&&(C.lanes|=c),zm(y.return,c,s),d||(S=null);break e}y=C.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=c,y=S.alternate,y!==null&&(y.lanes|=c),zm(S,c,s),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===s){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Kc(s,o,c,d){s=null;for(var m=o,y=!1;m!==null;){if(!y){if(m.flags&524288)y=!0;else if(m.flags&262144)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var C=m.type;Gn(m.pendingProps.value,S.value)||(s!==null?s.push(C):s=[C])}}else if(m===pn.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(gu):s=[gu])}m=m.return}s!==null&&Hm(o,s,c,d),o.flags|=262144}function kd(s){for(s=s.firstContext;s!==null;){if(!Gn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ya(s){$a=s,Or=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function vn(s){return ZE($a,s)}function Md(s,o){return $a===null&&Ya(s),ZE(s,o)}function ZE(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Or===null){if(s===null)throw Error(i(308));Or=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Or=Or.next=o;return c}var Ds=!1;function Bm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fm(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Is(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ks(s,o,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,_t&2){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,o=dd(s),O0(s,null,c),o}return hd(s,d,o,c),dd(s)}function Xc(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194176)!==0)){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,fs(s,c)}}function qm(s,o){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,c=c.next}while(c!==null);y===null?m=y=o:y=y.next=o}else m=y=o;c={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var Wm=!1;function Zc(){if(Wm){var s=ul;if(s!==null)throw s}}function Jc(s,o,c,d){Wm=!1;var m=s.updateQueue;Ds=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var L=C,q=L.next;L.next=null,S===null?y=q:S.next=q,S=L;var te=s.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==S&&(C===null?te.firstBaseUpdate=q:C.next=q,te.lastBaseUpdate=L))}if(y!==null){var ae=m.baseState;S=0,te=q=L=null,C=y;do{var Q=C.lane&-536870913,ee=Q!==C.lane;if(ee?(Ge&Q)===Q:(d&Q)===Q){Q!==0&&Q===cl&&(Wm=!0),te!==null&&(te=te.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ve=s,ke=C;Q=o;var Ct=c;switch(ke.tag){case 1:if(ve=ke.payload,typeof ve=="function"){ae=ve.call(Ct,ae,Q);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ke.payload,Q=typeof ve=="function"?ve.call(Ct,ae,Q):ve,Q==null)break e;ae=O({},ae,Q);break e;case 2:Ds=!0}}Q=C.callback,Q!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[Q]:ee.push(Q))}else ee={lane:Q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(q=te=ee,L=ae):te=te.next=ee,S|=Q;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);te===null&&(L=ae),m.baseState=L,m.firstBaseUpdate=q,m.lastBaseUpdate=te,y===null&&(m.shared.lanes=0),Ls|=S,s.lanes=S,s.memoizedState=ae}}function JE(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function ew(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)JE(c[s],o)}function eu(s,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&s)===s){d=void 0;var y=c.create,S=c.inst;d=y(),S.destroy=d}c=c.next}while(c!==m)}}catch(C){lt(o,o.return,C)}}function Ms(s,o,c){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&s)===s){var S=d.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,m=o;var L=c;try{C()}catch(q){lt(m,L,q)}}}d=d.next}while(d!==y)}}catch(q){lt(o,o.return,q)}}function tw(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{ew(o,c)}catch(d){lt(s,s.return,d)}}}function nw(s,o,c){c.props=Ga(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(d){lt(s,o,d)}}function Qa(s,o){try{var c=s.ref;if(c!==null){var d=s.stateNode;switch(s.tag){case 26:case 27:case 5:var m=d;break;default:m=d}typeof c=="function"?s.refCleanup=c(m):c.current=m}}catch(y){lt(s,o,y)}}function $n(s,o){var c=s.ref,d=s.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(m){lt(s,o,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){lt(s,o,m)}else c.current=null}function iw(s){var o=s.type,c=s.memoizedProps,d=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(m){lt(s,s.return,m)}}function rw(s,o,c){try{var d=s.stateNode;ZM(d,s.type,c,o),d[Ht]=o}catch(m){lt(s,s.return,m)}}function sw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function Gm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||sw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $m(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Gd));else if(d!==4&&d!==27&&(s=s.child,s!==null))for($m(s,o,c),s=s.sibling;s!==null;)$m(s,o,c),s=s.sibling}function Od(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(d!==4&&d!==27&&(s=s.child,s!==null))for(Od(s,o,c),s=s.sibling;s!==null;)Od(s,o,c),s=s.sibling}var Pr=!1,xt=!1,Ym=!1,aw=typeof WeakSet=="function"?WeakSet:Set,en=null,ow=!1;function CM(s,o){if(s=s.containerInfo,wy=Jd,s=S0(s),Kp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var S=0,C=-1,L=-1,q=0,te=0,ae=s,Q=null;t:for(;;){for(var ee;ae!==c||m!==0&&ae.nodeType!==3||(C=S+m),ae!==y||d!==0&&ae.nodeType!==3||(L=S+d),ae.nodeType===3&&(S+=ae.nodeValue.length),(ee=ae.firstChild)!==null;)Q=ae,ae=ee;for(;;){if(ae===s)break t;if(Q===c&&++q===m&&(C=S),Q===y&&++te===d&&(L=S),(ee=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=ee}c=C===-1||L===-1?null:{start:C,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ay={focusedElem:s,selectionRange:c},Jd=!1,en=o;en!==null;)if(o=en,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,en=s;else for(;en!==null;){switch(o=en,y=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&y!==null){s=void 0,c=o,m=y.memoizedProps,y=y.memoizedState,d=c.stateNode;try{var ve=Ga(c.type,m,c.elementType===c.type);s=d.getSnapshotBeforeUpdate(ve,y),d.__reactInternalSnapshotBeforeUpdate=s}catch(ke){lt(c,c.return,ke)}}break;case 3:if(s&1024){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)Ry(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ry(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,en=s;break}en=o.return}return ve=ow,ow=!1,ve}function lw(s,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Vr(s,c),d&4&&eu(5,c);break;case 1:if(Vr(s,c),d&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(C){lt(c,c.return,C)}else{var m=Ga(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(m,o,s.__reactInternalSnapshotBeforeUpdate)}catch(C){lt(c,c.return,C)}}d&64&&tw(c),d&512&&Qa(c,c.return);break;case 3:if(Vr(s,c),d&64&&(d=c.updateQueue,d!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{ew(d,s)}catch(C){lt(c,c.return,C)}}break;case 26:Vr(s,c),d&512&&Qa(c,c.return);break;case 27:case 5:Vr(s,c),o===null&&d&4&&iw(c),d&512&&Qa(c,c.return);break;case 12:Vr(s,c);break;case 13:Vr(s,c),d&4&&hw(s,c);break;case 22:if(m=c.memoizedState!==null||Pr,!m){o=o!==null&&o.memoizedState!==null||xt;var y=Pr,S=xt;Pr=m,(xt=o)&&!S?Os(s,c,(c.subtreeFlags&8772)!==0):Vr(s,c),Pr=y,xt=S}d&512&&(c.memoizedProps.mode==="manual"?Qa(c,c.return):$n(c,c.return));break;default:Vr(s,c)}}function cw(s){var o=s.alternate;o!==null&&(s.alternate=null,cw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Ta(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Lt=null,Yn=!1;function Lr(s,o,c){for(c=c.child;c!==null;)uw(s,o,c),c=c.sibling}function uw(s,o,c){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(ls,c)}catch{}switch(c.tag){case 26:xt||$n(c,o),Lr(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:xt||$n(c,o);var d=Lt,m=Yn;for(Lt=c.stateNode,Lr(s,o,c),c=c.stateNode,o=c.attributes;o.length;)c.removeAttributeNode(o[0]);Ta(c),Lt=d,Yn=m;break;case 5:xt||$n(c,o);case 6:m=Lt;var y=Yn;if(Lt=null,Lr(s,o,c),Lt=m,Yn=y,Lt!==null)if(Yn)try{s=Lt,d=c.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)}catch(S){lt(c,o,S)}else try{Lt.removeChild(c.stateNode)}catch(S){lt(c,o,S)}break;case 18:Lt!==null&&(Yn?(o=Lt,c=c.stateNode,o.nodeType===8?xy(o.parentNode,c):o.nodeType===1&&xy(o,c),vu(o)):xy(Lt,c.stateNode));break;case 4:d=Lt,m=Yn,Lt=c.stateNode.containerInfo,Yn=!0,Lr(s,o,c),Lt=d,Yn=m;break;case 0:case 11:case 14:case 15:xt||Ms(2,c,o),xt||Ms(4,c,o),Lr(s,o,c);break;case 1:xt||($n(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&nw(c,o,d)),Lr(s,o,c);break;case 21:Lr(s,o,c);break;case 22:xt||$n(c,o),xt=(d=xt)||c.memoizedState!==null,Lr(s,o,c),xt=d;break;default:Lr(s,o,c)}}function hw(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{vu(s)}catch(c){lt(o,o.return,c)}}function DM(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new aw),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new aw),o;default:throw Error(i(435,s.tag))}}function Qm(s,o){var c=DM(s);o.forEach(function(d){var m=BM.bind(null,s,d);c.has(d)||(c.add(d),d.then(m,m))})}function di(s,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var m=c[d],y=s,S=o,C=S;e:for(;C!==null;){switch(C.tag){case 27:case 5:Lt=C.stateNode,Yn=!1;break e;case 3:Lt=C.stateNode.containerInfo,Yn=!0;break e;case 4:Lt=C.stateNode.containerInfo,Yn=!0;break e}C=C.return}if(Lt===null)throw Error(i(160));uw(y,S,m),Lt=null,Yn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)dw(o,s),o=o.sibling}var Ii=null;function dw(s,o){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:di(o,s),fi(s),d&4&&(Ms(3,s,s.return),eu(3,s),Ms(5,s,s.return));break;case 1:di(o,s),fi(s),d&512&&(xt||c===null||$n(c,c.return)),d&64&&Pr&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var m=Ii;if(di(o,s),fi(s),d&512&&(xt||c===null||$n(c,c.return)),d&4){var y=c!==null?c.memoizedState:null;if(d=s.memoizedState,c===null)if(d===null)if(s.stateNode===null){e:{d=s.type,c=s.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ps]||y[Kt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(d),m.head.insertBefore(y,m.querySelector("head > title"))),un(y,d,c),y[Kt]=s,yt(y),d=y;break e;case"link":var S=iA("link","href",m).get(d+(c.href||""));if(S){for(var C=0;C<S.length;C++)if(y=S[C],y.getAttribute("href")===(c.href==null?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(C,1);break t}}y=m.createElement(d),un(y,d,c),m.head.appendChild(y);break;case"meta":if(S=iA("meta","content",m).get(d+(c.content||""))){for(C=0;C<S.length;C++)if(y=S[C],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(C,1);break t}}y=m.createElement(d),un(y,d,c),m.head.appendChild(y);break;default:throw Error(i(468,d))}y[Kt]=s,yt(y),d=y}s.stateNode=d}else rA(m,s.type,s.stateNode);else s.stateNode=nA(m,d,s.memoizedProps);else y!==d?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,d===null?rA(m,s.type,s.stateNode):nA(m,d,s.memoizedProps)):d===null&&s.stateNode!==null&&rw(s,s.memoizedProps,c.memoizedProps)}break;case 27:if(d&4&&s.alternate===null){m=s.stateNode,y=s.memoizedProps;try{for(var L=m.firstChild;L;){var q=L.nextSibling,te=L.nodeName;L[ps]||te==="HEAD"||te==="BODY"||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&L.rel.toLowerCase()==="stylesheet"||m.removeChild(L),L=q}for(var ae=s.type,Q=m.attributes;Q.length;)m.removeAttributeNode(Q[0]);un(m,ae,y),m[Kt]=s,m[Ht]=y}catch(ve){lt(s,s.return,ve)}}case 5:if(di(o,s),fi(s),d&512&&(xt||c===null||$n(c,c.return)),s.flags&32){m=s.stateNode;try{ii(m,"")}catch(ve){lt(s,s.return,ve)}}d&4&&s.stateNode!=null&&(m=s.memoizedProps,rw(s,m,c!==null?c.memoizedProps:m)),d&1024&&(Ym=!0);break;case 6:if(di(o,s),fi(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,c=s.stateNode;try{c.nodeValue=d}catch(ve){lt(s,s.return,ve)}}break;case 3:if(Kd=null,m=Ii,Ii=Yd(o.containerInfo),di(o,s),Ii=m,fi(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{vu(o.containerInfo)}catch(ve){lt(s,s.return,ve)}Ym&&(Ym=!1,fw(s));break;case 4:d=Ii,Ii=Yd(s.stateNode.containerInfo),di(o,s),fi(s),Ii=d;break;case 12:di(o,s),fi(s);break;case 13:di(o,s),fi(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(ry=On()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Qm(s,d)));break;case 22:if(d&512&&(xt||c===null||$n(c,c.return)),L=s.memoizedState!==null,q=c!==null&&c.memoizedState!==null,te=Pr,ae=xt,Pr=te||L,xt=ae||q,di(o,s),xt=ae,Pr=te,fi(s),o=s.stateNode,o._current=s,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,d&8192&&(o._visibility=L?o._visibility&-2:o._visibility|1,L&&(o=Pr||xt,c===null||q||o||gl(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(c=null,o=s;;){if(o.tag===5||o.tag===26||o.tag===27){if(c===null){q=c=o;try{if(m=q.stateNode,L)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=q.stateNode,C=q.memoizedProps.style;var ee=C!=null&&C.hasOwnProperty("display")?C.display:null;S.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ve){lt(q,q.return,ve)}}}else if(o.tag===6){if(c===null){q=o;try{q.stateNode.nodeValue=L?"":q.memoizedProps}catch(ve){lt(q,q.return,ve)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Qm(s,c))));break;case 19:di(o,s),fi(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Qm(s,d)));break;case 21:break;default:di(o,s),fi(s)}}function fi(s){var o=s.flags;if(o&2){try{if(s.tag!==27){e:{for(var c=s.return;c!==null;){if(sw(c)){var d=c;break e}c=c.return}throw Error(i(160))}switch(d.tag){case 27:var m=d.stateNode,y=Gm(s);Od(s,y,m);break;case 5:var S=d.stateNode;d.flags&32&&(ii(S,""),d.flags&=-33);var C=Gm(s);Od(s,C,S);break;case 3:case 4:var L=d.stateNode.containerInfo,q=Gm(s);$m(s,q,L);break;default:throw Error(i(161))}}}catch(te){lt(s,s.return,te)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function fw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;fw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Vr(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)lw(s,o.alternate,o),o=o.sibling}function gl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ms(4,o,o.return),gl(o);break;case 1:$n(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&nw(o,o.return,c),gl(o);break;case 26:case 27:case 5:$n(o,o.return),gl(o);break;case 22:$n(o,o.return),o.memoizedState===null&&gl(o);break;default:gl(o)}s=s.sibling}}function Os(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,m=s,y=o,S=y.flags;switch(y.tag){case 0:case 11:case 15:Os(m,y,c),eu(4,y);break;case 1:if(Os(m,y,c),d=y,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){lt(d,d.return,q)}if(d=y,m=d.updateQueue,m!==null){var C=d.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)JE(L[m],C)}catch(q){lt(d,d.return,q)}}c&&S&64&&tw(y),Qa(y,y.return);break;case 26:case 27:case 5:Os(m,y,c),c&&d===null&&S&4&&iw(y),Qa(y,y.return);break;case 12:Os(m,y,c);break;case 13:Os(m,y,c),c&&S&4&&hw(m,y);break;case 22:y.memoizedState===null&&Os(m,y,c),Qa(y,y.return);break;default:Os(m,y,c)}o=o.sibling}}function Km(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&qc(c))}function Xm(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&qc(s))}function Ns(s,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)gw(s,o,c,d),o=o.sibling}function gw(s,o,c,d){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Ns(s,o,c,d),m&2048&&eu(9,o);break;case 3:Ns(s,o,c,d),m&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&qc(s)));break;case 12:if(m&2048){Ns(s,o,c,d),s=o.stateNode;try{var y=o.memoizedProps,S=y.id,C=y.onPostCommit;typeof C=="function"&&C(S,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){lt(o,o.return,L)}}else Ns(s,o,c,d);break;case 23:break;case 22:y=o.stateNode,o.memoizedState!==null?y._visibility&4?Ns(s,o,c,d):tu(s,o):y._visibility&4?Ns(s,o,c,d):(y._visibility|=4,pl(s,o,c,d,(o.subtreeFlags&10256)!==0)),m&2048&&Km(o.alternate,o);break;case 24:Ns(s,o,c,d),m&2048&&Xm(o.alternate,o);break;default:Ns(s,o,c,d)}}function pl(s,o,c,d,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=s,S=o,C=c,L=d,q=S.flags;switch(S.tag){case 0:case 11:case 15:pl(y,S,C,L,m),eu(8,S);break;case 23:break;case 22:var te=S.stateNode;S.memoizedState!==null?te._visibility&4?pl(y,S,C,L,m):tu(y,S):(te._visibility|=4,pl(y,S,C,L,m)),m&&q&2048&&Km(S.alternate,S);break;case 24:pl(y,S,C,L,m),m&&q&2048&&Xm(S.alternate,S);break;default:pl(y,S,C,L,m)}o=o.sibling}}function tu(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,d=o,m=d.flags;switch(d.tag){case 22:tu(c,d),m&2048&&Km(d.alternate,d);break;case 24:tu(c,d),m&2048&&Xm(d.alternate,d);break;default:tu(c,d)}o=o.sibling}}var nu=8192;function ml(s){if(s.subtreeFlags&nu)for(s=s.child;s!==null;)pw(s),s=s.sibling}function pw(s){switch(s.tag){case 26:ml(s),s.flags&nu&&s.memoizedState!==null&&yO(Ii,s.memoizedState,s.memoizedProps);break;case 5:ml(s);break;case 3:case 4:var o=Ii;Ii=Yd(s.stateNode.containerInfo),ml(s),Ii=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=nu,nu=16777216,ml(s),nu=o):ml(s));break;default:ml(s)}}function mw(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function iu(s){var o=s.deletions;if(s.flags&16){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];en=d,vw(d,s)}mw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)yw(s),s=s.sibling}function yw(s){switch(s.tag){case 0:case 11:case 15:iu(s),s.flags&2048&&Ms(9,s,s.return);break;case 3:iu(s);break;case 12:iu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&4&&(s.return===null||s.return.tag!==13)?(o._visibility&=-5,Nd(s)):iu(s);break;default:iu(s)}}function Nd(s){var o=s.deletions;if(s.flags&16){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];en=d,vw(d,s)}mw(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ms(8,o,o.return),Nd(o);break;case 22:c=o.stateNode,c._visibility&4&&(c._visibility&=-5,Nd(o));break;default:Nd(o)}s=s.sibling}}function vw(s,o){for(;en!==null;){var c=en;switch(c.tag){case 0:case 11:case 15:Ms(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:qc(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,en=d;else e:for(c=s;en!==null;){d=en;var m=d.sibling,y=d.return;if(cw(d),d===c){en=null;break e}if(m!==null){m.return=y,en=m;break e}en=y}}}function IM(s,o,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(s,o,c,d){return new IM(s,o,c,d)}function Zm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ps(s,o){var c=s.alternate;return c===null?(c=gi(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&31457280,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function _w(s,o){s.flags&=31457282;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Pd(s,o,c,d,m,y){var S=0;if(d=s,typeof s=="function")Zm(s)&&(S=1);else if(typeof s=="string")S=pO(s,c,an.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case h:return Ka(c.children,m,y,o);case f:S=8,m|=24;break;case p:return s=gi(12,c,o,m|2),s.elementType=p,s.lanes=y,s;case R:return s=gi(13,c,o,m),s.elementType=R,s.lanes=y,s;case x:return s=gi(19,c,o,m),s.elementType=x,s.lanes=y,s;case z:return bw(c,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case v:case b:S=10;break e;case _:S=9;break e;case T:S=11;break e;case M:S=14;break e;case V:S=16,d=null;break e}S=29,c=Error(i(130,s===null?"null":typeof s,"")),d=null}return o=gi(S,c,o,m),o.elementType=s,o.type=d,o.lanes=y,o}function Ka(s,o,c,d){return s=gi(7,s,d,o),s.lanes=c,s}function bw(s,o,c,d){s=gi(22,s,d,o),s.elementType=z,s.lanes=c;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(i(456));if(!(m._pendingVisibility&2)){var S=As(y,2);S!==null&&(m._pendingVisibility|=2,kn(S,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(i(456));if(m._pendingVisibility&2){var S=As(y,2);S!==null&&(m._pendingVisibility&=-3,kn(S,y,2))}}};return s.stateNode=m,s}function Jm(s,o,c){return s=gi(6,s,null,o),s.lanes=c,s}function ey(s,o,c){return o=gi(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function jr(s){s.flags|=4}function Ew(s,o){if(o.type!=="stylesheet"||o.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!sA(o)){if(o=hi.current,o!==null&&((Ge&4194176)===Ge?tr!==null:(Ge&62914560)!==Ge&&!(Ge&536870912)||o!==tr))throw Hc=sm,j0;s.flags|=8192}}function Ld(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?hs():536870912,s.lanes|=o,vl|=o)}function ru(s,o){if(!Ke)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function vt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(o)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags&31457280,d|=m.flags&31457280,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=c,o}function kM(s,o,c){var d=o.pendingProps;switch(im(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(o),null;case 1:return vt(o),null;case 3:return c=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Nr(Wt),mn(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Vc(o)?jr(o):s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Di!==null&&(ly(Di),Di=null))),vt(o),null;case 26:return c=o.memoizedState,s===null?(jr(o),c!==null?(vt(o),Ew(o,c)):(vt(o),o.flags&=-16777217)):c?c!==s.memoizedState?(jr(o),vt(o),Ew(o,c)):(vt(o),o.flags&=-16777217):(s.memoizedProps!==d&&jr(o),vt(o),o.flags&=-16777217),null;case 27:Vo(o),c=De.current;var m=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==d&&jr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return vt(o),null}s=an.current,Vc(o)?L0(o):(s=Xw(m,d,c),o.stateNode=s,jr(o))}return vt(o),null;case 5:if(Vo(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&jr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return vt(o),null}if(s=an.current,Vc(o))L0(o);else{switch(m=$d(De.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?m.createElement(c,{is:d.is}):m.createElement(c)}}s[Kt]=o,s[Ht]=d;e:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break e;for(;m.sibling===null;){if(m.return===null||m.return===o)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=s;e:switch(un(s,c,d),c){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&jr(o)}}return vt(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&jr(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(s=De.current,Vc(o)){if(s=o.stateNode,c=o.memoizedProps,d=null,m=In,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}s[Kt]=o,s=!!(s.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||Ww(s.nodeValue,c)),s||za(o)}else s=$d(s).createTextNode(d),s[Kt]=o,o.stateNode=s}return vt(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Vc(o),d!==null&&d.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Kt]=o}else jc(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;vt(o),m=!1}else Di!==null&&(ly(Di),Di=null),m=!0;if(!m)return o.flags&256?(Ir(o),o):(Ir(o),null)}if(Ir(o),o.flags&128)return o.lanes=c,o;if(c=d!==null,s=s!==null&&s.memoizedState!==null,c){d=o.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),Ld(o,o.updateQueue),vt(o),null;case 4:return mn(),s===null&&_y(o.stateNode.containerInfo),vt(o),null;case 10:return Nr(o.type),vt(o),null;case 19:if(ft(qt),m=o.memoizedState,m===null)return vt(o),null;if(d=(o.flags&128)!==0,y=m.rendering,y===null)if(d)ru(m,!1);else{if(Rt!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(y=_d(s),y!==null){for(o.flags|=128,ru(m,!1),s=y.updateQueue,o.updateQueue=s,Ld(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)_w(c,s),c=c.sibling;return Je(qt,qt.current&1|2),o.child}s=s.sibling}m.tail!==null&&On()>Vd&&(o.flags|=128,d=!0,ru(m,!1),o.lanes=4194304)}else{if(!d)if(s=_d(y),s!==null){if(o.flags|=128,d=!0,s=s.updateQueue,o.updateQueue=s,Ld(o,s),ru(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ke)return vt(o),null}else 2*On()-m.renderingStartTime>Vd&&c!==536870912&&(o.flags|=128,d=!0,ru(m,!1),o.lanes=4194304);m.isBackwards?(y.sibling=o.child,o.child=y):(s=m.last,s!==null?s.sibling=y:o.child=y,m.last=y)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=On(),o.sibling=null,s=qt.current,Je(qt,d?s&1|2:s&1),o):(vt(o),null);case 22:case 23:return Ir(o),om(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?c&536870912&&!(o.flags&128)&&(vt(o),o.subtreeFlags&6&&(o.flags|=8192)):vt(o),c=o.updateQueue,c!==null&&Ld(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),s!==null&&ft(Ba),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Nr(Wt),vt(o),null;case 25:return null}throw Error(i(156,o.tag))}function MM(s,o){switch(im(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Nr(Wt),mn(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Vo(o),null;case 13:if(Ir(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));jc()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ft(qt),null;case 4:return mn(),null;case 10:return Nr(o.type),null;case 22:case 23:return Ir(o),om(),s!==null&&ft(Ba),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Nr(Wt),null;case 25:return null;default:return null}}function ww(s,o){switch(im(o),o.tag){case 3:Nr(Wt),mn();break;case 26:case 27:case 5:Vo(o);break;case 4:mn();break;case 13:Ir(o);break;case 19:ft(qt);break;case 10:Nr(o.type);break;case 22:case 23:Ir(o),om(),s!==null&&ft(Ba);break;case 24:Nr(Wt)}}var OM={getCacheForType:function(s){var o=vn(Wt),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},NM=typeof WeakMap=="function"?WeakMap:Map,_t=0,ct=null,je=null,Ge=0,ut=0,Qn=null,Ur=!1,yl=!1,ty=!1,zr=0,Rt=0,Ls=0,Xa=0,ny=0,pi=0,vl=0,su=null,ir=null,iy=!1,ry=0,Vd=1/0,jd=null,Vs=null,Ud=!1,Za=null,au=0,sy=0,ay=null,ou=0,oy=null;function Kn(){if(_t&2&&Ge!==0)return Ge&-Ge;if(I.T!==null){var s=cl;return s!==0?s:py()}return Wh()}function Aw(){pi===0&&(pi=!(Ge&536870912)||Ke?_c():536870912);var s=hi.current;return s!==null&&(s.flags|=32),pi}function kn(s,o,c){(s===ct&&ut===2||s.cancelPendingCommit!==null)&&(_l(s,0),Hr(s,Ge,pi,!1)),Dt(s,c),(!(_t&2)||s!==ct)&&(s===ct&&(!(_t&2)&&(Xa|=c),Rt===4&&Hr(s,Ge,pi,!1)),rr(s))}function Sw(s,o,c){if(_t&6)throw Error(i(327));var d=!c&&(o&60)===0&&(o&s.expiredLanes)===0||us(s,o),m=d?VM(s,o):hy(s,o,!0),y=d;do{if(m===0){yl&&!d&&Hr(s,o,0,!1);break}else if(m===6)Hr(s,o,0,!Ur);else{if(c=s.current.alternate,y&&!PM(c)){m=hy(s,o,!1),y=!1;continue}if(m===2){if(y=o,s.errorRecoveryDisabledLanes&y)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var C=s;m=su;var L=C.current.memoizedState.isDehydrated;if(L&&(_l(C,S).flags|=256),S=hy(C,S,!1),S!==2){if(ty&&!L){C.errorRecoveryDisabledLanes|=y,Xa|=y,m=4;break e}y=ir,ir=m,y!==null&&ly(y)}m=S}if(y=!1,m!==2)continue}}if(m===1){_l(s,0),Hr(s,o,0,!0);break}e:{switch(d=s,m){case 0:case 1:throw Error(i(345));case 4:if((o&4194176)===o){Hr(d,o,pi,!Ur);break e}break;case 2:ir=null;break;case 3:case 5:break;default:throw Error(i(329))}if(d.finishedWork=c,d.finishedLanes=o,(o&62914560)===o&&(y=ry+300-On(),10<y)){if(Hr(d,o,pi,!Ur),ti(d,0)!==0)break e;d.timeoutHandle=Yw(Tw.bind(null,d,c,ir,jd,iy,o,pi,Xa,vl,Ur,2,-0,0),y);break e}Tw(d,c,ir,jd,iy,o,pi,Xa,vl,Ur,0,-0,0)}}break}while(!0);rr(s)}function ly(s){ir===null?ir=s:ir.push.apply(ir,s)}function Tw(s,o,c,d,m,y,S,C,L,q,te,ae,Q){var ee=o.subtreeFlags;if((ee&8192||(ee&16785408)===16785408)&&(fu={stylesheets:null,count:0,unsuspend:mO},pw(o),o=vO(),o!==null)){s.cancelPendingCommit=o(Mw.bind(null,s,c,d,m,S,C,L,1,ae,Q)),Hr(s,y,S,!q);return}Mw(s,c,d,m,S,C,L,te,ae,Q)}function PM(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var m=c[d],y=m.getSnapshot;m=m.value;try{if(!Gn(y(),m))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hr(s,o,c,d){o&=~ny,o&=~Xa,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var m=o;0<m;){var y=31-Rn(m),S=1<<y;d[y]=-1,m&=~S}c!==0&&ds(s,c,o)}function zd(){return _t&6?!0:(lu(0),!1)}function cy(){if(je!==null){if(ut===0)var s=je.return;else s=je,Or=$a=null,pm(s),ol=null,Bc=0,s=je;for(;s!==null;)ww(s.alternate,s),s=s.return;je=null}}function _l(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,eO(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),cy(),ct=s,je=c=Ps(s.current,null),Ge=o,ut=0,Qn=null,Ur=!1,yl=us(s,o),ty=!1,vl=pi=ny=Xa=Ls=Rt=0,ir=su=null,iy=!1,o&8&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var m=31-Rn(d),y=1<<m;o|=s[m],d&=~y}return zr=o,ud(),c}function xw(s,o){Pe=null,I.H=nr,o===zc?(o=H0(),ut=3):o===j0?(o=H0(),ut=4):ut=o===UE?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Qn=o,je===null&&(Rt=1,Id(s,li(o,s.current)))}function Rw(){var s=I.H;return I.H=nr,s===null?nr:s}function Cw(){var s=I.A;return I.A=OM,s}function uy(){Rt=4,Ur||(Ge&4194176)!==Ge&&hi.current!==null||(yl=!0),!(Ls&134217727)&&!(Xa&134217727)||ct===null||Hr(ct,Ge,pi,!1)}function hy(s,o,c){var d=_t;_t|=2;var m=Rw(),y=Cw();(ct!==s||Ge!==o)&&(jd=null,_l(s,o)),o=!1;var S=Rt;e:do try{if(ut!==0&&je!==null){var C=je,L=Qn;switch(ut){case 8:cy(),S=6;break e;case 3:case 2:case 6:hi.current===null&&(o=!0);var q=ut;if(ut=0,Qn=null,bl(s,C,L,q),c&&yl){S=0;break e}break;default:q=ut,ut=0,Qn=null,bl(s,C,L,q)}}LM(),S=Rt;break}catch(te){xw(s,te)}while(!0);return o&&s.shellSuspendCounter++,Or=$a=null,_t=d,I.H=m,I.A=y,je===null&&(ct=null,Ge=0,ud()),S}function LM(){for(;je!==null;)Dw(je)}function VM(s,o){var c=_t;_t|=2;var d=Rw(),m=Cw();ct!==s||Ge!==o?(jd=null,Vd=On()+500,_l(s,o)):yl=us(s,o);e:do try{if(ut!==0&&je!==null){o=je;var y=Qn;t:switch(ut){case 1:ut=0,Qn=null,bl(s,o,y,1);break;case 2:if(U0(y)){ut=0,Qn=null,Iw(o);break}o=function(){ut===2&&ct===s&&(ut=7),rr(s)},y.then(o,o);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:U0(y)?(ut=0,Qn=null,Iw(o)):(ut=0,Qn=null,bl(s,o,y,7));break;case 5:var S=null;switch(je.tag){case 26:S=je.memoizedState;case 5:case 27:var C=je;if(!S||sA(S)){ut=0,Qn=null;var L=C.sibling;if(L!==null)je=L;else{var q=C.return;q!==null?(je=q,Hd(q)):je=null}break t}}ut=0,Qn=null,bl(s,o,y,5);break;case 6:ut=0,Qn=null,bl(s,o,y,6);break;case 8:cy(),Rt=6;break e;default:throw Error(i(462))}}jM();break}catch(te){xw(s,te)}while(!0);return Or=$a=null,I.H=d,I.A=m,_t=c,je!==null?0:(ct=null,Ge=0,ud(),Rt)}function jM(){for(;je!==null&&!Up();)Dw(je)}function Dw(s){var o=XE(s.alternate,s,zr);s.memoizedProps=s.pendingProps,o===null?Hd(s):je=o}function Iw(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=WE(c,o,o.pendingProps,o.type,void 0,Ge);break;case 11:o=WE(c,o,o.pendingProps,o.type.render,o.ref,Ge);break;case 5:pm(o);default:ww(c,o),o=je=_w(o,zr),o=XE(c,o,zr)}s.memoizedProps=s.pendingProps,o===null?Hd(s):je=o}function bl(s,o,c,d){Or=$a=null,pm(o),ol=null,Bc=0;var m=o.return;try{if(xM(s,m,o,c,Ge)){Rt=1,Id(s,li(c,s.current)),je=null;return}}catch(y){if(m!==null)throw je=m,y;Rt=1,Id(s,li(c,s.current)),je=null;return}o.flags&32768?(Ke||d===1?s=!0:yl||Ge&536870912?s=!1:(Ur=s=!0,(d===2||d===3||d===6)&&(d=hi.current,d!==null&&d.tag===13&&(d.flags|=16384))),kw(o,s)):Hd(o)}function Hd(s){var o=s;do{if(o.flags&32768){kw(o,Ur);return}s=o.return;var c=kM(o.alternate,o,zr);if(c!==null){je=c;return}if(o=o.sibling,o!==null){je=o;return}je=o=s}while(o!==null);Rt===0&&(Rt=5)}function kw(s,o){do{var c=MM(s.alternate,s);if(c!==null){c.flags&=32767,je=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){je=s;return}je=s=c}while(s!==null);Rt=6,je=null}function Mw(s,o,c,d,m,y,S,C,L,q){var te=I.T,ae=ue.p;try{ue.p=2,I.T=null,UM(s,o,c,d,ae,m,y,S,C,L,q)}finally{I.T=te,ue.p=ae}}function UM(s,o,c,d,m,y,S,C){do El();while(Za!==null);if(_t&6)throw Error(i(327));var L=s.finishedWork;if(d=s.finishedLanes,L===null)return null;if(s.finishedWork=null,s.finishedLanes=0,L===s.current)throw Error(i(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var q=L.lanes|L.childLanes;if(q|=em,Fh(s,d,q,y,S,C),s===ct&&(je=ct=null,Ge=0),!(L.subtreeFlags&10256)&&!(L.flags&10256)||Ud||(Ud=!0,sy=q,ay=c,FM(vr,function(){return El(),null})),c=(L.flags&15990)!==0,L.subtreeFlags&15990||c?(c=I.T,I.T=null,y=ue.p,ue.p=2,S=_t,_t|=4,CM(s,L),dw(L,s),cM(Ay,s.containerInfo),Jd=!!wy,Ay=wy=null,s.current=L,lw(s,L.alternate,L),pc(),_t=S,ue.p=y,I.T=c):s.current=L,Ud?(Ud=!1,Za=s,au=d):Ow(s,q),q=s.pendingLanes,q===0&&(Vs=null),yc(L.stateNode),rr(s),o!==null)for(m=s.onRecoverableError,L=0;L<o.length;L++)q=o[L],m(q.value,{componentStack:q.stack});return au&3&&El(),q=s.pendingLanes,d&4194218&&q&42?s===oy?ou++:(ou=0,oy=s):ou=0,lu(0),null}function Ow(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,qc(o)))}function El(){if(Za!==null){var s=Za,o=sy;sy=0;var c=qh(au),d=I.T,m=ue.p;try{if(ue.p=32>c?32:c,I.T=null,Za===null)var y=!1;else{c=ay,ay=null;var S=Za,C=au;if(Za=null,au=0,_t&6)throw Error(i(331));var L=_t;if(_t|=4,yw(S.current),gw(S,S.current,C,c),_t=L,lu(0,!1),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(ls,S)}catch{}y=!0}return y}finally{ue.p=m,I.T=d,Ow(s,o)}}return!1}function Nw(s,o,c){o=li(c,o),o=Dm(s.stateNode,o,2),s=ks(s,o,2),s!==null&&(Dt(s,2),rr(s))}function lt(s,o,c){if(s.tag===3)Nw(s,s,c);else for(;o!==null;){if(o.tag===3){Nw(o,s,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Vs===null||!Vs.has(d))){s=li(c,s),c=VE(2),d=ks(o,c,2),d!==null&&(jE(c,d,o,s),Dt(d,2),rr(d));break}}o=o.return}}function dy(s,o,c){var d=s.pingCache;if(d===null){d=s.pingCache=new NM;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(c)||(ty=!0,m.add(c),s=zM.bind(null,s,o,c),o.then(s,s))}function zM(s,o,c){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,ct===s&&(Ge&c)===c&&(Rt===4||Rt===3&&(Ge&62914560)===Ge&&300>On()-ry?!(_t&2)&&_l(s,0):ny|=c,vl===Ge&&(vl=0)),rr(s)}function Pw(s,o){o===0&&(o=hs()),s=As(s,o),s!==null&&(Dt(s,o),rr(s))}function HM(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Pw(s,c)}function BM(s,o){var c=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),Pw(s,c)}function FM(s,o){return wa(s,o)}var Bd=null,wl=null,fy=!1,Fd=!1,gy=!1,Ja=0;function rr(s){s!==wl&&s.next===null&&(wl===null?Bd=wl=s:wl=wl.next=s),Fd=!0,fy||(fy=!0,WM(qM))}function lu(s,o){if(!gy&&Fd){gy=!0;do for(var c=!1,d=Bd;d!==null;){if(s!==0){var m=d.pendingLanes;if(m===0)var y=0;else{var S=d.suspendedLanes,C=d.pingedLanes;y=(1<<31-Rn(42|s)+1)-1,y&=m&~(S&~C),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(c=!0,jw(d,y))}else y=Ge,y=ti(d,d===ct?y:0),!(y&3)||us(d,y)||(c=!0,jw(d,y));d=d.next}while(c);gy=!1}}function qM(){Fd=fy=!1;var s=0;Ja!==0&&(JM()&&(s=Ja),Ja=0);for(var o=On(),c=null,d=Bd;d!==null;){var m=d.next,y=Lw(d,o);y===0?(d.next=null,c===null?Bd=m:c.next=m,m===null&&(wl=c)):(c=d,(s!==0||y&3)&&(Fd=!0)),d=m}lu(s)}function Lw(s,o){for(var c=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var S=31-Rn(y),C=1<<S,L=m[S];L===-1?(!(C&c)||C&d)&&(m[S]=zo(C,o)):L<=o&&(s.expiredLanes|=C),y&=~C}if(o=ct,c=Ge,c=ti(s,s===o?c:0),d=s.callbackNode,c===0||s===o&&ut===2||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Uo(d),s.callbackNode=null,s.callbackPriority=0;if(!(c&3)||us(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(d!==null&&Uo(d),qh(c)){case 2:case 8:c=Qt;break;case 32:c=vr;break;case 268435456:c=mc;break;default:c=vr}return d=Vw.bind(null,s),c=wa(c,d),s.callbackPriority=o,s.callbackNode=c,o}return d!==null&&d!==null&&Uo(d),s.callbackPriority=2,s.callbackNode=null,2}function Vw(s,o){var c=s.callbackNode;if(El()&&s.callbackNode!==c)return null;var d=Ge;return d=ti(s,s===ct?d:0),d===0?null:(Sw(s,d,o),Lw(s,On()),s.callbackNode!=null&&s.callbackNode===c?Vw.bind(null,s):null)}function jw(s,o){if(El())return null;Sw(s,o,!0)}function WM(s){tO(function(){_t&6?wa(zt,s):s()})}function py(){return Ja===0&&(Ja=_c()),Ja}function Uw(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:$i(""+s)}function zw(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function GM(s,o,c,d,m){if(o==="submit"&&c&&c.stateNode===m){var y=Uw((m[Ht]||null).action),S=d.submitter;S&&(o=(o=S[Ht]||null)?Uw(o.formAction):S.getAttribute("formAction"),o!==null&&(y=o,S=null));var C=new $o("action","action",null,d,m);s.push({event:C,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ja!==0){var L=S?zw(m,S):new FormData(m);Sm(c,{pending:!0,data:L,method:m.method,action:y},null,L)}}else typeof y=="function"&&(C.preventDefault(),L=S?zw(m,S):new FormData(m),Sm(c,{pending:!0,data:L,method:m.method,action:y},y,L))},currentTarget:m}]})}}for(var my=0;my<M0.length;my++){var yy=M0[my],$M=yy.toLowerCase(),YM=yy[0].toUpperCase()+yy.slice(1);Ci($M,"on"+YM)}Ci(R0,"onAnimationEnd"),Ci(C0,"onAnimationIteration"),Ci(D0,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(hM,"onTransitionRun"),Ci(dM,"onTransitionStart"),Ci(fM,"onTransitionCancel"),Ci(I0,"onTransitionEnd"),Nn("onMouseEnter",["mouseout","mouseover"]),Nn("onMouseLeave",["mouseout","mouseover"]),Nn("onPointerEnter",["pointerout","pointerover"]),Nn("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function Hw(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],m=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var S=d.length-1;0<=S;S--){var C=d[S],L=C.instance,q=C.currentTarget;if(C=C.listener,L!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=q;try{y(m)}catch(te){Dd(te)}m.currentTarget=null,y=L}else for(S=0;S<d.length;S++){if(C=d[S],L=C.instance,q=C.currentTarget,C=C.listener,L!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=q;try{y(m)}catch(te){Dd(te)}m.currentTarget=null,y=L}}}}function He(s,o){var c=o[Sa];c===void 0&&(c=o[Sa]=new Set);var d=s+"__bubble";c.has(d)||(Bw(o,s,2,!1),c.add(d))}function vy(s,o,c){var d=0;o&&(d|=4),Bw(c,s,d,o)}var qd="_reactListening"+Math.random().toString(36).slice(2);function _y(s){if(!s[qd]){s[qd]=!0,Ec.forEach(function(c){c!=="selectionchange"&&(QM.has(c)||vy(c,!1,s),vy(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[qd]||(o[qd]=!0,vy("selectionchange",!1,o))}}function Bw(s,o,c,d){switch(hA(o)){case 2:var m=EO;break;case 8:m=wO;break;default:m=My}c=m.bind(null,o,c,s),m=void 0,!si||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,c,{capture:!0,passive:m}):s.addEventListener(o,c,!0):m!==void 0?s.addEventListener(o,c,{passive:m}):s.addEventListener(o,c,!1)}function by(s,o,c,d,m){var y=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var C=d.stateNode.containerInfo;if(C===m||C.nodeType===8&&C.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var L=S.tag;if((L===3||L===4)&&(L=S.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;S=S.return}for(;C!==null;){if(S=Ri(C),S===null)return;if(L=S.tag,L===5||L===6||L===26||L===27){d=y=S;continue e}C=C.parentNode}}d=d.return}Qh(function(){var q=y,te=Go(c),ae=[];e:{var Q=k0.get(s);if(Q!==void 0){var ee=$o,ve=s;switch(s){case"keypress":if(Qi(c)===0)break e;case"keydown":case"keyup":ee=Jo;break;case"focusin":ve="focus",ee=Ko;break;case"focusout":ve="blur",ee=Ko;break;case"beforeblur":case"afterblur":ee=Ko;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Gp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=id;break;case R0:case C0:case D0:ee=Xo;break;case I0:ee=sd;break;case"scroll":case"scrollend":ee=Kh;break;case"wheel":ee=el;break;case"copy":case"cut":case"paste":ee=Zo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Oc;break;case"toggle":case"beforetoggle":ee=od}var ke=(o&4)!==0,Ct=!ke&&(s==="scroll"||s==="scrollend"),W=ke?Q!==null?Q+"Capture":null:Q;ke=[];for(var F=q,Y;F!==null;){var ie=F;if(Y=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Y===null||W===null||(ie=Da(F,W),ie!=null&&ke.push(uu(F,ie,Y))),Ct)break;F=F.return}0<ke.length&&(Q=new ee(Q,ve,null,c,te),ae.push({event:Q,listeners:ke}))}}if(!(o&7)){e:{if(Q=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",Q&&c!==ri&&(ve=c.relatedTarget||c.fromElement)&&(Ri(ve)||ve[_r]))break e;if((ee||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,ee?(ve=c.relatedTarget||c.toElement,ee=q,ve=ve?Ri(ve):null,ve!==null&&(Ct=ge(ve),ke=ve.tag,ve!==Ct||ke!==5&&ke!==27&&ke!==6)&&(ve=null)):(ee=null,ve=q),ee!==ve)){if(ke=ai,ie="onMouseLeave",W="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(ke=Oc,ie="onPointerLeave",W="onPointerEnter",F="pointer"),Ct=ee==null?Q:ms(ee),Y=ve==null?Q:ms(ve),Q=new ke(ie,F+"leave",ee,c,te),Q.target=Ct,Q.relatedTarget=Y,ie=null,Ri(te)===q&&(ke=new ke(W,F+"enter",ve,c,te),ke.target=Y,ke.relatedTarget=Ct,ie=ke),Ct=ie,ee&&ve)t:{for(ke=ee,W=ve,F=0,Y=ke;Y;Y=Al(Y))F++;for(Y=0,ie=W;ie;ie=Al(ie))Y++;for(;0<F-Y;)ke=Al(ke),F--;for(;0<Y-F;)W=Al(W),Y--;for(;F--;){if(ke===W||W!==null&&ke===W.alternate)break t;ke=Al(ke),W=Al(W)}ke=null}else ke=null;ee!==null&&Fw(ae,Q,ee,ke,!1),ve!==null&&Ct!==null&&Fw(ae,Ct,ve,ke,!0)}}e:{if(Q=q?ms(q):window,ee=Q.nodeName&&Q.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Q.type==="file")var me=m0;else if(Ft(Q))if(y0)me=oM;else{me=sM;var Le=rM}else ee=Q.nodeName,!ee||ee.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?q&&xc(q.elementType)&&(me=m0):me=aM;if(me&&(me=me(s,q))){Rr(ae,me,c,te);break e}Le&&Le(s,Q,q),s==="focusout"&&q&&Q.type==="number"&&q.memoizedProps.value!=null&&Wo(Q,"number",Q.value)}switch(Le=q?ms(q):window,s){case"focusin":(Ft(Le)||Le.contentEditable==="true")&&(tl=Le,Xp=q,Lc=null);break;case"focusout":Lc=Xp=tl=null;break;case"mousedown":Zp=!0;break;case"contextmenu":case"mouseup":case"dragend":Zp=!1,T0(ae,c,te);break;case"selectionchange":if(uM)break;case"keydown":case"keyup":T0(ae,c,te)}var _e;if(Zi)e:{switch(s){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else qe?X(s,c)&&(Se="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Se="onCompositionStart");Se&&(A&&c.locale!=="ko"&&(qe||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&qe&&(_e=Cc()):(Yi=te,ws="value"in Yi?Yi.value:Yi.textContent,qe=!0)),Le=Wd(q,Se),0<Le.length&&(Se=new kc(Se,s,null,c,te),ae.push({event:Se,listeners:Le}),_e?Se.data=_e:(_e=ce(c),_e!==null&&(Se.data=_e)))),(_e=E?Bt(s,c):We(s,c))&&(Se=Wd(q,"onBeforeInput"),0<Se.length&&(Le=new kc("onBeforeInput","beforeinput",null,c,te),ae.push({event:Le,listeners:Se}),Le.data=_e)),GM(ae,s,q,c,te)}Hw(ae,o)})}function uu(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Wd(s,o){for(var c=o+"Capture",d=[];s!==null;){var m=s,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Da(s,c),m!=null&&d.unshift(uu(s,m,y)),m=Da(s,o),m!=null&&d.push(uu(s,m,y))),s=s.return}return d}function Al(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Fw(s,o,c,d,m){for(var y=o._reactName,S=[];c!==null&&c!==d;){var C=c,L=C.alternate,q=C.stateNode;if(C=C.tag,L!==null&&L===d)break;C!==5&&C!==26&&C!==27||q===null||(L=q,m?(q=Da(c,y),q!=null&&S.unshift(uu(c,q,L))):m||(q=Da(c,y),q!=null&&S.push(uu(c,q,L)))),c=c.return}S.length!==0&&s.push({event:o,listeners:S})}var KM=/\r\n?/g,XM=/\u0000|\uFFFD/g;function qw(s){return(typeof s=="string"?s:""+s).replace(KM,`
`).replace(XM,"")}function Ww(s,o){return o=qw(o),qw(s)===o}function Gd(){}function ot(s,o,c,d,m,y){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||ii(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&ii(s,""+d);break;case"className":_s(s,"class",d);break;case"tabIndex":_s(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":_s(s,c,d);break;case"style":Yh(s,d,y);break;case"data":if(o!=="object"){_s(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=$i(""+d),s.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(o!=="input"&&ot(s,o,"name",m.name,m,null),ot(s,o,"formEncType",m.formEncType,m,null),ot(s,o,"formMethod",m.formMethod,m,null),ot(s,o,"formTarget",m.formTarget,m,null)):(ot(s,o,"encType",m.encType,m,null),ot(s,o,"method",m.method,m,null),ot(s,o,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=$i(""+d),s.setAttribute(c,d);break;case"onClick":d!=null&&(s.onclick=Gd);break;case"onScroll":d!=null&&He("scroll",s);break;case"onScrollEnd":d!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}c=$i(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""+d):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":d===!0?s.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,d):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(c,d):s.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(c):s.setAttribute(c,d);break;case"popover":He("beforetoggle",s),He("toggle",s),vs(s,"popover",d);break;case"xlinkActuate":ni(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ni(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ni(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ni(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ni(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ni(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ni(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ni(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ni(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":vs(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=qp.get(c)||c,vs(s,c,d))}}function Ey(s,o,c,d,m,y){switch(c){case"style":Yh(s,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof d=="string"?ii(s,d):(typeof d=="number"||typeof d=="bigint")&&ii(s,""+d);break;case"onScroll":d!=null&&He("scroll",s);break;case"onScrollEnd":d!=null&&He("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Gd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),o=c.slice(2,m?c.length-7:void 0),y=s[Ht]||null,y=y!=null?y[c]:null,typeof y=="function"&&s.removeEventListener(o,y,m),typeof d=="function")){typeof y!="function"&&y!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,d,m);break e}c in s?s[c]=d:d===!0?s.setAttribute(c,""):vs(s,c,d)}}}function un(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var d=!1,m=!1,y;for(y in c)if(c.hasOwnProperty(y)){var S=c[y];if(S!=null)switch(y){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ot(s,o,y,S,c,null)}}m&&ot(s,o,"srcSet",c.srcSet,c,null),d&&ot(s,o,"src",c.src,c,null);return;case"input":He("invalid",s);var C=y=S=m=null,L=null,q=null;for(d in c)if(c.hasOwnProperty(d)){var te=c[d];if(te!=null)switch(d){case"name":m=te;break;case"type":S=te;break;case"checked":L=te;break;case"defaultChecked":q=te;break;case"value":y=te;break;case"defaultValue":C=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,o));break;default:ot(s,o,d,te,c,null)}}Ra(s,y,C,L,q,S,m,!1),xa(s);return;case"select":He("invalid",s),d=S=y=null;for(m in c)if(c.hasOwnProperty(m)&&(C=c[m],C!=null))switch(m){case"value":y=C;break;case"defaultValue":S=C;break;case"multiple":d=C;default:ot(s,o,m,C,c,null)}o=y,c=S,s.multiple=!!d,o!=null?Qe(s,!!d,o,!1):c!=null&&Qe(s,!!d,c,!0);return;case"textarea":He("invalid",s),y=m=d=null;for(S in c)if(c.hasOwnProperty(S)&&(C=c[S],C!=null))switch(S){case"value":d=C;break;case"defaultValue":m=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:ot(s,o,S,C,c,null)}Es(s,d,m,y),xa(s);return;case"option":for(L in c)if(c.hasOwnProperty(L)&&(d=c[L],d!=null))switch(L){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ot(s,o,L,d,c,null)}return;case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(d=0;d<cu.length;d++)He(cu[d],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in c)if(c.hasOwnProperty(q)&&(d=c[q],d!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ot(s,o,q,d,c,null)}return;default:if(xc(o)){for(te in c)c.hasOwnProperty(te)&&(d=c[te],d!==void 0&&Ey(s,o,te,d,c,void 0));return}}for(C in c)c.hasOwnProperty(C)&&(d=c[C],d!=null&&ot(s,o,C,d,c,null))}function ZM(s,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,C=null,L=null,q=null,te=null;for(ee in c){var ae=c[ee];if(c.hasOwnProperty(ee)&&ae!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":L=ae;default:d.hasOwnProperty(ee)||ot(s,o,ee,null,d,ae)}}for(var Q in d){var ee=d[Q];if(ae=c[Q],d.hasOwnProperty(Q)&&(ee!=null||ae!=null))switch(Q){case"type":y=ee;break;case"name":m=ee;break;case"checked":q=ee;break;case"defaultChecked":te=ee;break;case"value":S=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,o));break;default:ee!==ae&&ot(s,o,Q,ee,d,ae)}}bs(s,S,C,L,q,te,y,m);return;case"select":ee=S=C=Q=null;for(y in c)if(L=c[y],c.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":ee=L;default:d.hasOwnProperty(y)||ot(s,o,y,null,d,L)}for(m in d)if(y=d[m],L=c[m],d.hasOwnProperty(m)&&(y!=null||L!=null))switch(m){case"value":Q=y;break;case"defaultValue":C=y;break;case"multiple":S=y;default:y!==L&&ot(s,o,m,y,d,L)}o=C,c=S,d=ee,Q!=null?Qe(s,!!c,Q,!1):!!d!=!!c&&(o!=null?Qe(s,!!c,o,!0):Qe(s,!!c,c?[]:"",!1));return;case"textarea":ee=Q=null;for(C in c)if(m=c[C],c.hasOwnProperty(C)&&m!=null&&!d.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ot(s,o,C,null,d,m)}for(S in d)if(m=d[S],y=c[S],d.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":Q=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&ot(s,o,S,m,d,y)}Ca(s,Q,ee);return;case"option":for(var ve in c)if(Q=c[ve],c.hasOwnProperty(ve)&&Q!=null&&!d.hasOwnProperty(ve))switch(ve){case"selected":s.selected=!1;break;default:ot(s,o,ve,null,d,Q)}for(L in d)if(Q=d[L],ee=c[L],d.hasOwnProperty(L)&&Q!==ee&&(Q!=null||ee!=null))switch(L){case"selected":s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ot(s,o,L,Q,d,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in c)Q=c[ke],c.hasOwnProperty(ke)&&Q!=null&&!d.hasOwnProperty(ke)&&ot(s,o,ke,null,d,Q);for(q in d)if(Q=d[q],ee=c[q],d.hasOwnProperty(q)&&Q!==ee&&(Q!=null||ee!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,o));break;default:ot(s,o,q,Q,d,ee)}return;default:if(xc(o)){for(var Ct in c)Q=c[Ct],c.hasOwnProperty(Ct)&&Q!==void 0&&!d.hasOwnProperty(Ct)&&Ey(s,o,Ct,void 0,d,Q);for(te in d)Q=d[te],ee=c[te],!d.hasOwnProperty(te)||Q===ee||Q===void 0&&ee===void 0||Ey(s,o,te,Q,d,ee);return}}for(var W in c)Q=c[W],c.hasOwnProperty(W)&&Q!=null&&!d.hasOwnProperty(W)&&ot(s,o,W,null,d,Q);for(ae in d)Q=d[ae],ee=c[ae],!d.hasOwnProperty(ae)||Q===ee||Q==null&&ee==null||ot(s,o,ae,Q,d,ee)}var wy=null,Ay=null;function $d(s){return s.nodeType===9?s:s.ownerDocument}function Gw(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $w(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Sy(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ty=null;function JM(){var s=window.event;return s&&s.type==="popstate"?s===Ty?!1:(Ty=s,!0):(Ty=null,!1)}var Yw=typeof setTimeout=="function"?setTimeout:void 0,eO=typeof clearTimeout=="function"?clearTimeout:void 0,Qw=typeof Promise=="function"?Promise:void 0,tO=typeof queueMicrotask=="function"?queueMicrotask:typeof Qw<"u"?function(s){return Qw.resolve(null).then(s).catch(nO)}:Yw;function nO(s){setTimeout(function(){throw s})}function xy(s,o){var c=o,d=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(d===0){s.removeChild(m),vu(o);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=m}while(c);vu(o)}function Ry(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Ry(c),Ta(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function iO(s,o,c,d){for(;s.nodeType===1;){var m=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[ps])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ki(s.nextSibling),s===null)break}return null}function rO(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ki(s.nextSibling),s===null))return null;return s}function ki(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}function Kw(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function Xw(s,o,c){switch(o=$d(c),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}var mi=new Map,Zw=new Set;function Yd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Br=ue.d;ue.d={f:sO,r:aO,D:oO,C:lO,L:cO,m:uO,X:dO,S:hO,M:fO};function sO(){var s=Br.f(),o=zd();return s||o}function aO(s){var o=br(s);o!==null&&o.tag===5&&o.type==="form"?TE(o):Br.r(s)}var Sl=typeof document>"u"?null:document;function Jw(s,o,c){var d=Sl;if(d&&typeof o=="string"&&o){var m=Tt(o);m='link[rel="'+s+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),Zw.has(m)||(Zw.add(m),s={rel:s,crossOrigin:c,href:o},d.querySelector(m)===null&&(o=d.createElement("link"),un(o,"link",s),yt(o),d.head.appendChild(o)))}}function oO(s){Br.D(s),Jw("dns-prefetch",s,null)}function lO(s,o){Br.C(s,o),Jw("preconnect",s,o)}function cO(s,o,c){Br.L(s,o,c);var d=Sl;if(d&&s&&o){var m='link[rel="preload"][as="'+Tt(o)+'"]';o==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+Tt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+Tt(c.imageSizes)+'"]')):m+='[href="'+Tt(s)+'"]';var y=m;switch(o){case"style":y=Tl(s);break;case"script":y=xl(s)}mi.has(y)||(s=O({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),mi.set(y,s),d.querySelector(m)!==null||o==="style"&&d.querySelector(hu(y))||o==="script"&&d.querySelector(du(y))||(o=d.createElement("link"),un(o,"link",s),yt(o),d.head.appendChild(o)))}}function uO(s,o){Br.m(s,o);var c=Sl;if(c&&s){var d=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+Tt(d)+'"][href="'+Tt(s)+'"]',y=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=xl(s)}if(!mi.has(y)&&(s=O({rel:"modulepreload",href:s},o),mi.set(y,s),c.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(du(y)))return}d=c.createElement("link"),un(d,"link",s),yt(d),c.head.appendChild(d)}}}function hO(s,o,c){Br.S(s,o,c);var d=Sl;if(d&&s){var m=ys(d).hoistableStyles,y=Tl(s);o=o||"default";var S=m.get(y);if(!S){var C={loading:0,preload:null};if(S=d.querySelector(hu(y)))C.loading=5;else{s=O({rel:"stylesheet",href:s,"data-precedence":o},c),(c=mi.get(y))&&Cy(s,c);var L=S=d.createElement("link");yt(L),un(L,"link",s),L._p=new Promise(function(q,te){L.onload=q,L.onerror=te}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Qd(S,o,d)}S={type:"stylesheet",instance:S,count:1,state:C},m.set(y,S)}}}function dO(s,o){Br.X(s,o);var c=Sl;if(c&&s){var d=ys(c).hoistableScripts,m=xl(s),y=d.get(m);y||(y=c.querySelector(du(m)),y||(s=O({src:s,async:!0},o),(o=mi.get(m))&&Dy(s,o),y=c.createElement("script"),yt(y),un(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function fO(s,o){Br.M(s,o);var c=Sl;if(c&&s){var d=ys(c).hoistableScripts,m=xl(s),y=d.get(m);y||(y=c.querySelector(du(m)),y||(s=O({src:s,async:!0,type:"module"},o),(o=mi.get(m))&&Dy(s,o),y=c.createElement("script"),yt(y),un(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function eA(s,o,c,d){var m=(m=De.current)?Yd(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Tl(c.href),c=ys(m).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Tl(c.href);var y=ys(m).hoistableStyles,S=y.get(s);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,S),(y=m.querySelector(hu(s)))&&!y._p&&(S.instance=y,S.state.loading=5),mi.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},mi.set(s,c),y||gO(m,s,c,S.state))),o&&d===null)throw Error(i(528,""));return S}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=xl(c),c=ys(m).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Tl(s){return'href="'+Tt(s)+'"'}function hu(s){return'link[rel="stylesheet"]['+s+"]"}function tA(s){return O({},s,{"data-precedence":s.precedence,precedence:null})}function gO(s,o,c,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),un(o,"link",c),yt(o),s.head.appendChild(o))}function xl(s){return'[src="'+Tt(s)+'"]'}function du(s){return"script[async]"+s}function nA(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+Tt(c.href)+'"]');if(d)return o.instance=d,yt(d),d;var m=O({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),yt(d),un(d,"style",m),Qd(d,c.precedence,s),o.instance=d;case"stylesheet":m=Tl(c.href);var y=s.querySelector(hu(m));if(y)return o.state.loading|=4,o.instance=y,yt(y),y;d=tA(c),(m=mi.get(m))&&Cy(d,m),y=(s.ownerDocument||s).createElement("link"),yt(y);var S=y;return S._p=new Promise(function(C,L){S.onload=C,S.onerror=L}),un(y,"link",d),o.state.loading|=4,Qd(y,c.precedence,s),o.instance=y;case"script":return y=xl(c.src),(m=s.querySelector(du(y)))?(o.instance=m,yt(m),m):(d=c,(m=mi.get(y))&&(d=O({},c),Dy(d,m)),s=s.ownerDocument||s,m=s.createElement("script"),yt(m),un(m,"link",d),s.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&!(o.state.loading&4)&&(d=o.instance,o.state.loading|=4,Qd(d,c.precedence,s));return o.instance}function Qd(s,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,y=m,S=0;S<d.length;S++){var C=d[S];if(C.dataset.precedence===o)y=C;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function Cy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Dy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Kd=null;function iA(s,o,c){if(Kd===null){var d=new Map,m=Kd=new Map;m.set(c,d)}else m=Kd,d=m.get(c),d||(d=new Map,m.set(c,d));if(d.has(s))return d;for(d.set(s,null),c=c.getElementsByTagName(s),m=0;m<c.length;m++){var y=c[m];if(!(y[ps]||y[Kt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(o)||"";S=s+S;var C=d.get(S);C?C.push(y):d.set(S,[y])}}return d}function rA(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function pO(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function sA(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}var fu=null;function mO(){}function yO(s,o,c){if(fu===null)throw Error(i(475));var d=fu;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&!(o.state.loading&4)){if(o.instance===null){var m=Tl(c.href),y=s.querySelector(hu(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=Xd.bind(d),s.then(d,d)),o.state.loading|=4,o.instance=y,yt(y);return}y=s.ownerDocument||s,c=tA(c),(m=mi.get(m))&&Cy(c,m),y=y.createElement("link"),yt(y);var S=y;S._p=new Promise(function(C,L){S.onload=C,S.onerror=L}),un(y,"link",c),o.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,s),(s=o.state.preload)&&!(o.state.loading&3)&&(d.count++,o=Xd.bind(d),s.addEventListener("load",o),s.addEventListener("error",o))}}function vO(){if(fu===null)throw Error(i(475));var s=fu;return s.stylesheets&&s.count===0&&Iy(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&Iy(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Xd(){if(this.count--,this.count===0){if(this.stylesheets)Iy(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Zd=null;function Iy(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Zd=new Map,o.forEach(_O,s),Zd=null,Xd.call(s))}function _O(s,o){if(!(o.state.loading&4)){var c=Zd.get(s);if(c)var d=c.get(null);else{c=new Map,Zd.set(s,c);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),d=S)}d&&c.set(null,d)}m=o.instance,S=m.getAttribute("data-precedence"),y=c.get(S)||d,y===d&&c.set(null,m),c.set(S,m),this.count++,d=Xd.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),o.state.loading|=4}}var gu={$$typeof:b,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function bO(s,o,c,d,m,y,S,C){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ho(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ho(0),this.hiddenUpdates=Ho(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function aA(s,o,c,d,m,y,S,C,L,q,te,ae){return s=new bO(s,o,c,S,C,L,q,ae),o=1,y===!0&&(o|=24),y=gi(3,null,null,o),s.current=y,y.stateNode=s,o=lm(),o.refCount++,s.pooledCache=o,o.refCount++,y.memoizedState={element:d,isDehydrated:c,cache:o},Bm(y),s}function oA(s){return s?(s=rl,s):rl}function lA(s,o,c,d,m,y){m=oA(m),d.context===null?d.context=m:d.pendingContext=m,d=Is(o),d.payload={element:c},y=y===void 0?null:y,y!==null&&(d.callback=y),c=ks(s,d,o),c!==null&&(kn(c,s,o),Xc(c,s,o))}function cA(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function ky(s,o){cA(s,o),(s=s.alternate)&&cA(s,o)}function uA(s){if(s.tag===13){var o=As(s,67108864);o!==null&&kn(o,s,67108864),ky(s,67108864)}}var Jd=!0;function EO(s,o,c,d){var m=I.T;I.T=null;var y=ue.p;try{ue.p=2,My(s,o,c,d)}finally{ue.p=y,I.T=m}}function wO(s,o,c,d){var m=I.T;I.T=null;var y=ue.p;try{ue.p=8,My(s,o,c,d)}finally{ue.p=y,I.T=m}}function My(s,o,c,d){if(Jd){var m=Oy(d);if(m===null)by(s,o,d,ef,c),dA(s,d);else if(SO(m,s,o,c,d))d.stopPropagation();else if(dA(s,d),o&4&&-1<AO.indexOf(s)){for(;m!==null;){var y=br(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=xi(y.pendingLanes);if(S!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var L=1<<31-Rn(S);C.entanglements[1]|=L,S&=~L}rr(y),!(_t&6)&&(Vd=On()+500,lu(0))}}break;case 13:C=As(y,2),C!==null&&kn(C,y,2),zd(),ky(y,2)}if(y=Oy(d),y===null&&by(s,o,d,ef,c),y===m)break;m=y}m!==null&&d.stopPropagation()}else by(s,o,d,null,c)}}function Oy(s){return s=Go(s),Ny(s)}var ef=null;function Ny(s){if(ef=null,s=Ri(s),s!==null){var o=ge(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=Te(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return ef=s,null}function hA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uh()){case zt:return 2;case Qt:return 8;case vr:case zh:return 32;case mc:return 268435456;default:return 32}default:return 32}}var Py=!1,js=null,Us=null,zs=null,pu=new Map,mu=new Map,Hs=[],AO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dA(s,o){switch(s){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":pu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(o.pointerId)}}function yu(s,o,c,d,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},o!==null&&(o=br(o),o!==null&&uA(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function SO(s,o,c,d,m){switch(o){case"focusin":return js=yu(js,s,o,c,d,m),!0;case"dragenter":return Us=yu(Us,s,o,c,d,m),!0;case"mouseover":return zs=yu(zs,s,o,c,d,m),!0;case"pointerover":var y=m.pointerId;return pu.set(y,yu(pu.get(y)||null,s,o,c,d,m)),!0;case"gotpointercapture":return y=m.pointerId,mu.set(y,yu(mu.get(y)||null,s,o,c,d,m)),!0}return!1}function fA(s){var o=Ri(s.target);if(o!==null){var c=ge(o);if(c!==null){if(o=c.tag,o===13){if(o=Te(c),o!==null){s.blockedOn=o,gs(s.priority,function(){if(c.tag===13){var d=Kn(),m=As(c,d);m!==null&&kn(m,c,d),ky(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function tf(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Oy(s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);ri=d,c.target.dispatchEvent(d),ri=null}else return o=br(c),o!==null&&uA(o),s.blockedOn=c,!1;o.shift()}return!0}function gA(s,o,c){tf(s)&&c.delete(o)}function TO(){Py=!1,js!==null&&tf(js)&&(js=null),Us!==null&&tf(Us)&&(Us=null),zs!==null&&tf(zs)&&(zs=null),pu.forEach(gA),mu.forEach(gA)}function nf(s,o){s.blockedOn===o&&(s.blockedOn=null,Py||(Py=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,TO)))}var rf=null;function pA(s){rf!==s&&(rf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){rf===s&&(rf=null);for(var o=0;o<s.length;o+=3){var c=s[o],d=s[o+1],m=s[o+2];if(typeof d!="function"){if(Ny(d||c)===null)continue;break}var y=br(c);y!==null&&(s.splice(o,3),o-=3,Sm(y,{pending:!0,data:m,method:c.method,action:d},d,m))}}))}function vu(s){function o(L){return nf(L,s)}js!==null&&nf(js,s),Us!==null&&nf(Us,s),zs!==null&&nf(zs,s),pu.forEach(o),mu.forEach(o);for(var c=0;c<Hs.length;c++){var d=Hs[c];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Hs.length&&(c=Hs[0],c.blockedOn===null);)fA(c),c.blockedOn===null&&Hs.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var m=c[d],y=c[d+1],S=m[Ht]||null;if(typeof y=="function")S||pA(c);else if(S){var C=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[Ht]||null)C=S.formAction;else if(Ny(m)!==null)continue}else C=S.action;typeof C=="function"?c[d+1]=C:(c.splice(d,3),d-=3),pA(c)}}}function Ly(s){this._internalRoot=s}sf.prototype.render=Ly.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,d=Kn();lA(c,d,s,o,null,null)},sf.prototype.unmount=Ly.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;s.tag===0&&El(),lA(s.current,2,null,s,null,null),zd(),o[_r]=null}};function sf(s){this._internalRoot=s}sf.prototype.unstable_scheduleHydration=function(s){if(s){var o=Wh();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Hs.length&&o!==0&&o<Hs[c].priority;c++);Hs.splice(c,0,s),c===0&&fA(s)}};var mA=e.version;if(mA!=="19.0.0")throw Error(i(527,mA,"19.0.0"));ue.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=le(o),s=s!==null?pe(s):null,s=s===null?null:s.stateNode,s};var xO={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:Ri,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{ls=af.inject(xO),yn=af}catch{}}return bu.createRoot=function(s,o){if(!r(s))throw Error(i(299));var c=!1,d="",m=OE,y=NE,S=PE,C=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks)),o=aA(s,1,!1,null,null,c,d,m,y,S,C,null),s[_r]=o.current,_y(s.nodeType===8?s.parentNode:s),new Ly(o)},bu.hydrateRoot=function(s,o,c){if(!r(s))throw Error(i(299));var d=!1,m="",y=OE,S=NE,C=PE,L=null,q=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(C=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(L=c.unstable_transitionCallbacks),c.formState!==void 0&&(q=c.formState)),o=aA(s,1,!0,o,c??null,d,m,y,S,C,L,q),o.context=oA(null),c=o.current,d=Kn(),m=Is(d),m.callback=null,ks(c,m,d),o.current.lanes=d,Dt(o,d),rr(o),s[_r]=o.current,_y(s),new sf(o)},bu.version="19.0.0",bu}var xA;function jO(){if(xA)return Uy.exports;xA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Uy.exports=VO(),Uy.exports}var UO=jO(),Eu={},RA;function zO(){if(RA)return Eu;RA=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.parse=l,Eu.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,a=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,b){const T=new a,R=_.length;if(R<2)return T;const x=(b==null?void 0:b.decode)||p;let M=0;do{const V=_.indexOf("=",M);if(V===-1)break;const z=_.indexOf(";",M),$=z===-1?R:z;if(V>$){M=_.lastIndexOf(";",V-1)+1;continue}const J=u(_,M,V),ne=h(_,V,J),N=_.slice(J,ne);if(T[N]===void 0){let D=u(_,V+1,$),I=h(_,$,D);const O=x(_.slice(D,I));T[N]=O}M=$+1}while(M<R);return T}function u(_,b,T){do{const R=_.charCodeAt(b);if(R!==32&&R!==9)return b}while(++b<T);return T}function h(_,b,T){for(;b>T;){const R=_.charCodeAt(--b);if(R!==32&&R!==9)return b+1}return T}function f(_,b,T){const R=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const x=R(b);if(!e.test(x))throw new TypeError(`argument val is invalid: ${b}`);let M=_+"="+x;if(!T)return M;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);M+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);M+="; Domain="+T.domain}if(T.path){if(!i.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);M+="; Path="+T.path}if(T.expires){if(!v(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);M+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(M+="; HttpOnly"),T.secure&&(M+="; Secure"),T.partitioned&&(M+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return M}function p(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return r.call(_)==="[object Date]"}return Eu}zO();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var CA="popstate";function HO(n={}){function e(r,a){let{pathname:l="/",search:u="",hash:h=""}=xo(r.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Iv("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){let l=r.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=r.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof a=="string"?a:ih(a))}function i(r,a){Ai(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return FO(e,t,i,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ai(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BO(){return Math.random().toString(36).substring(2,10)}function DA(n,e){return{usr:n.state,key:n.key,idx:e}}function Iv(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?xo(e):e,state:t,key:e&&e.key||i||BO()}}function ih({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function xo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function FO(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,l=r.history,u="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function v(){u="POP";let x=p(),M=x==null?null:x-f;f=x,h&&h({action:u,location:R.location,delta:M})}function _(x,M){u="PUSH";let V=Iv(R.location,x,M);t&&t(V,x),f=p()+1;let z=DA(V,f),$=R.createHref(V);try{l.pushState(z,"",$)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;r.location.assign($)}a&&h&&h({action:u,location:R.location,delta:1})}function b(x,M){u="REPLACE";let V=Iv(R.location,x,M);t&&t(V,x),f=p();let z=DA(V,f),$=R.createHref(V);l.replaceState(z,"",$),a&&h&&h({action:u,location:R.location,delta:0})}function T(x){let M=r.location.origin!=="null"?r.location.origin:r.location.href,V=typeof x=="string"?x:ih(x);return V=V.replace(/ $/,"%20"),mt(M,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,M)}let R={get action(){return u},get location(){return n(r,l)},listen(x){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(CA,v),h=x,()=>{r.removeEventListener(CA,v),h=null}},createHref(x){return e(r,x)},createURL:T,encodeLocation(x){let M=T(x);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:b,go(x){return l.go(x)}};return R}function RR(n,e,t="/"){return qO(n,e,t,!1)}function qO(n,e,t,i){let r=typeof e=="string"?xo(e):e,a=oa(r.pathname||"/",t);if(a==null)return null;let l=CR(n);WO(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=nN(a);u=eN(l[h],f,i)}return u}function CR(n,e=[],t=[],i=""){let r=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(mt(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=Xr([i,h.relativePath]),p=t.concat(h);a.children&&a.children.length>0&&(mt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),CR(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:ZO(f,a.index),routesMeta:p})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))r(a,l);else for(let h of DR(a.path))r(a,l,h)}),e}function DR(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let l=DR(i.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),r&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function WO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:JO(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var GO=/^:[\w-]+$/,$O=3,YO=2,QO=1,KO=10,XO=-2,IA=n=>n==="*";function ZO(n,e){let t=n.split("/"),i=t.length;return t.some(IA)&&(i+=XO),e&&(i+=YO),t.filter(r=>!IA(r)).reduce((r,a)=>r+(GO.test(a)?$O:a===""?QO:KO),i)}function JO(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function eN(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,p=a==="/"?e:e.slice(a.length)||"/",v=ng({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),_=h.route;if(!v&&f&&t&&!i[i.length-1].route.index&&(v=ng({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(r,v.params),l.push({params:r,pathname:Xr([a,v.pathname]),pathnameBase:aN(Xr([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=Xr([a,v.pathnameBase]))}return l}function ng(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=tN(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:v},_)=>{if(p==="*"){let T=u[_]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const b=u[_];return v&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function tN(n,e=!1,t=!0){Ai(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function nN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ai(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function oa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function iN(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?xo(n):n;return{pathname:t?t.startsWith("/")?t:rN(t,e):e,search:oN(i),hash:lN(r)}}function rN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Fy(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function R_(n){let e=sN(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function C_(n,e,t,i=!1){let r;typeof n=="string"?r=xo(n):(r={...n},mt(!r.pathname||!r.pathname.includes("?"),Fy("?","pathname","search",r)),mt(!r.pathname||!r.pathname.includes("#"),Fy("#","pathname","hash",r)),mt(!r.search||!r.search.includes("#"),Fy("#","search","hash",r)));let a=n===""||r.pathname==="",l=a?"/":r.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;r.pathname=_.join("/")}u=v>=0?e[v]:"/"}let h=iN(r,u),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Xr=n=>n.join("/").replace(/\/\/+/g,"/"),aN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),oN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,lN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function cN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var IR=["POST","PUT","PATCH","DELETE"];new Set(IR);var uN=["GET",...IR];new Set(uN);var nc=B.createContext(null);nc.displayName="DataRouter";var Jg=B.createContext(null);Jg.displayName="DataRouterState";var kR=B.createContext({isTransitioning:!1});kR.displayName="ViewTransition";var hN=B.createContext(new Map);hN.displayName="Fetchers";var dN=B.createContext(null);dN.displayName="Await";var ji=B.createContext(null);ji.displayName="Navigation";var Eh=B.createContext(null);Eh.displayName="Location";var Si=B.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var D_=B.createContext(null);D_.displayName="RouteError";function fN(n,{relative:e}={}){mt(ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(ji),{hash:r,pathname:a,search:l}=wh(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:Xr([t,a])),i.createHref({pathname:u,search:l,hash:r})}function ic(){return B.useContext(Eh)!=null}function Ui(){return mt(ic(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Eh).location}var MR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OR(n){B.useContext(ji).static||B.useLayoutEffect(n)}function ya(){let{isDataRoute:n}=B.useContext(Si);return n?DN():gN()}function gN(){mt(ic(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(nc),{basename:e,navigator:t}=B.useContext(ji),{matches:i}=B.useContext(Si),{pathname:r}=Ui(),a=JSON.stringify(R_(i)),l=B.useRef(!1);return OR(()=>{l.current=!0}),B.useCallback((h,f={})=>{if(Ai(l.current,MR),!l.current)return;if(typeof h=="number"){t.go(h);return}let p=C_(h,JSON.parse(a),r,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Xr([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,r,n])}var NR=B.createContext(null);function pN(){return B.useContext(NR)}function mN(n){let e=B.useContext(Si).outlet;return e&&B.createElement(NR.Provider,{value:n},e)}function yN(){let{matches:n}=B.useContext(Si),e=n[n.length-1];return e?e.params:{}}function wh(n,{relative:e}={}){let{matches:t}=B.useContext(Si),{pathname:i}=Ui(),r=JSON.stringify(R_(t));return B.useMemo(()=>C_(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function vN(n,e){return PR(n,e)}function PR(n,e,t,i){var V;mt(ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:a}=B.useContext(ji),{matches:l}=B.useContext(Si),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let z=v&&v.path||"";LR(f,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let _=Ui(),b;if(e){let z=typeof e=="string"?xo(e):e;mt(p==="/"||((V=z.pathname)==null?void 0:V.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${z.pathname}" was given in the \`location\` prop.`),b=z}else b=_;let T=b.pathname||"/",R=T;if(p!=="/"){let z=p.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(z.length).join("/")}let x=!a&&t&&t.matches&&t.matches.length>0?t.matches:RR(n,{pathname:R});Ai(v||x!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ai(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=AN(x&&x.map(z=>Object.assign({},z,{params:Object.assign({},h,z.params),pathname:Xr([p,r.encodeLocation?r.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?p:Xr([p,r.encodeLocation?r.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,t,i);return e&&M?B.createElement(Eh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function _N(){let n=CN(),e=cN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:a},"ErrorBoundary")," or"," ",B.createElement("code",{style:a},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:r},t):null,l)}var bN=B.createElement(_N,null),EN=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(Si.Provider,{value:this.props.routeContext},B.createElement(D_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wN({routeContext:n,match:e,children:t}){let i=B.useContext(nc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Si.Provider,{value:n},t)}function AN(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,a=t==null?void 0:t.errors;if(a!=null){let h=r.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);mt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<r.length;h++){let f=r[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:v}=t,_=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((h,f,p)=>{let v,_=!1,b=null,T=null;t&&(v=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||bN,l&&(u<0&&p===0?(LR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):u===p&&(_=!0,T=f.route.hydrateFallbackElement||null)));let R=e.concat(r.slice(0,p+1)),x=()=>{let M;return v?M=b:_?M=T:f.route.Component?M=B.createElement(f.route.Component,null):f.route.element?M=f.route.element:M=h,B.createElement(wN,{match:f,routeContext:{outlet:h,matches:R,isDataRoute:t!=null},children:M})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?B.createElement(EN,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:x(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):x()},null)}function I_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SN(n){let e=B.useContext(nc);return mt(e,I_(n)),e}function TN(n){let e=B.useContext(Jg);return mt(e,I_(n)),e}function xN(n){let e=B.useContext(Si);return mt(e,I_(n)),e}function k_(n){let e=xN(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function RN(){return k_("useRouteId")}function CN(){var i;let n=B.useContext(D_),e=TN("useRouteError"),t=k_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function DN(){let{router:n}=SN("useNavigate"),e=k_("useNavigate"),t=B.useRef(!1);return OR(()=>{t.current=!0}),B.useCallback(async(r,a={})=>{Ai(t.current,MR),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var kA={};function LR(n,e,t){!e&&!kA[n]&&(kA[n]=!0,Ai(!1,t))}B.memo(IN);function IN({routes:n,future:e,state:t}){return PR(n,void 0,t,e)}function kN({to:n,replace:e,state:t,relative:i}){mt(ic(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=B.useContext(ji);Ai(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=B.useContext(Si),{pathname:l}=Ui(),u=ya(),h=C_(n,R_(a),l,i==="path"),f=JSON.stringify(h);return B.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:i})},[u,f,i,e,t]),null}function MN(n){return mN(n.context)}function Mn(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ON({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){mt(!ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=B.useMemo(()=>({basename:l,navigator:r,static:a,future:{}}),[l,r,a]);typeof t=="string"&&(t=xo(t));let{pathname:h="/",search:f="",hash:p="",state:v=null,key:_="default"}=t,b=B.useMemo(()=>{let T=oa(h,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:v,key:_},navigationType:i}},[l,h,f,p,v,_,i]);return Ai(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:B.createElement(ji.Provider,{value:u},B.createElement(Eh.Provider,{children:e,value:b}))}function NN({children:n,location:e}){return vN(kv(n),e)}function kv(n,e=[]){let t=[];return B.Children.forEach(n,(i,r)=>{if(!B.isValidElement(i))return;let a=[...e,r];if(i.type===B.Fragment){t.push.apply(t,kv(i.props.children,a));return}mt(i.type===Mn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=kv(i.props.children,a)),t.push(l)}),t}var jf="get",Uf="application/x-www-form-urlencoded";function ep(n){return n!=null&&typeof n.tagName=="string"}function PN(n){return ep(n)&&n.tagName.toLowerCase()==="button"}function LN(n){return ep(n)&&n.tagName.toLowerCase()==="form"}function VN(n){return ep(n)&&n.tagName.toLowerCase()==="input"}function jN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function UN(n,e){return n.button===0&&(!e||e==="_self")&&!jN(n)}var of=null;function zN(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var HN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qy(n){return n!=null&&!HN.has(n)?(Ai(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uf}"`),null):n}function BN(n,e){let t,i,r,a,l;if(LN(n)){let u=n.getAttribute("action");i=u?oa(u,e):null,t=n.getAttribute("method")||jf,r=qy(n.getAttribute("enctype"))||Uf,a=new FormData(n)}else if(PN(n)||VN(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?oa(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||jf,r=qy(n.getAttribute("formenctype"))||qy(u.getAttribute("enctype"))||Uf,a=new FormData(u,n),!zN()){let{name:f,type:p,value:v}=n;if(p==="image"){let _=f?`${f}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else f&&a.append(f,v)}}else{if(ep(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=jf,i=null,r=Uf,l=n}return a&&r==="text/plain"&&(l=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:l}}function M_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function FN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function WN(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let l=await FN(a,t);return l.links?l.links():[]}return[]}));return QN(i.flat(1).filter(qN).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function MA(n,e,t,i,r,a){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,u=(h,f)=>{var p;return t[f].pathname!==h.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):a==="data"?e.filter((h,f)=>{var v;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function GN(n,e){return $N(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function $N(n){return[...new Set(n)]}function YN(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function QN(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(YN(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function KN(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function XN(){let n=B.useContext(nc);return M_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ZN(){let n=B.useContext(Jg);return M_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var O_=B.createContext(void 0);O_.displayName="FrameworkContext";function VR(){let n=B.useContext(O_);return M_(n,"You must render this element inside a <HydratedRouter> element"),n}function JN(n,e){let t=B.useContext(O_),[i,r]=B.useState(!1),[a,l]=B.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,_=B.useRef(null);B.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=M=>{M.forEach(V=>{l(V.isIntersecting)})},x=new IntersectionObserver(R,{threshold:.5});return _.current&&x.observe(_.current),()=>{x.disconnect()}}},[n]),B.useEffect(()=>{if(i){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[i]);let b=()=>{r(!0)},T=()=>{r(!1),l(!1)};return t?n!=="intent"?[a,_,{}]:[a,_,{onFocus:wu(u,b),onBlur:wu(h,T),onMouseEnter:wu(f,b),onMouseLeave:wu(p,T),onTouchStart:wu(v,b)}]:[!1,_,{}]}function wu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function e2({page:n,...e}){let{router:t}=XN(),i=B.useMemo(()=>RR(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?B.createElement(n2,{page:n,matches:i,...e}):null}function t2(n){let{manifest:e,routeModules:t}=VR(),[i,r]=B.useState([]);return B.useEffect(()=>{let a=!1;return WN(n,e,t).then(l=>{a||r(l)}),()=>{a=!0}},[n,e,t]),i}function n2({page:n,matches:e,...t}){let i=Ui(),{manifest:r,routeModules:a}=VR(),{loaderData:l,matches:u}=ZN(),h=B.useMemo(()=>MA(n,e,u,r,i,"data"),[n,e,u,r,i]),f=B.useMemo(()=>MA(n,e,u,r,i,"assets"),[n,e,u,r,i]),p=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,T=!1;if(e.forEach(x=>{var V;let M=r.routes[x.route.id];!M||!M.hasLoader||(!h.some(z=>z.route.id===x.route.id)&&x.route.id in l&&((V=a[x.route.id])!=null&&V.shouldRevalidate)||M.hasClientLoader?T=!0:b.add(x.route.id))}),b.size===0)return[];let R=KN(n);return T&&b.size>0&&R.searchParams.set("_routes",e.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[R.pathname+R.search]},[l,i,r,h,e,n,a]),v=B.useMemo(()=>GN(f,r),[f,r]),_=t2(f);return B.createElement(B.Fragment,null,p.map(b=>B.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>B.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),_.map(({key:b,link:T})=>B.createElement("link",{key:b,...T})))}function i2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jR&&(window.__reactRouterVersion="7.1.5")}catch{}function r2({basename:n,children:e,window:t}){let i=B.useRef();i.current==null&&(i.current=HO({window:t,v5Compat:!0}));let r=i.current,[a,l]=B.useState({action:r.action,location:r.location}),u=B.useCallback(h=>{B.startTransition(()=>l(h))},[l]);return B.useLayoutEffect(()=>r.listen(u),[r,u]),B.createElement(ON,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}var UR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:l,state:u,target:h,to:f,preventScrollReset:p,viewTransition:v,..._},b){let{basename:T}=B.useContext(ji),R=typeof f=="string"&&UR.test(f),x,M=!1;if(typeof f=="string"&&R&&(x=f,jR))try{let I=new URL(window.location.href),O=f.startsWith("//")?new URL(I.protocol+f):new URL(f),j=oa(O.pathname,T);O.origin===I.origin&&j!=null?f=j+O.search+O.hash:M=!0}catch{Ai(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=fN(f,{relative:r}),[z,$,J]=JN(i,_),ne=l2(f,{replace:l,state:u,target:h,preventScrollReset:p,relative:r,viewTransition:v});function N(I){e&&e(I),I.defaultPrevented||ne(I)}let D=B.createElement("a",{..._,...J,href:x||V,onClick:M||a?e:N,ref:i2(b,$),target:h,"data-discover":!R&&t==="render"?"true":void 0});return z&&!R?B.createElement(B.Fragment,null,D,B.createElement(e2,{page:V})):D});bt.displayName="Link";var s2=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:l,viewTransition:u,children:h,...f},p){let v=wh(l,{relative:f.relative}),_=Ui(),b=B.useContext(Jg),{navigator:T,basename:R}=B.useContext(ji),x=b!=null&&f2(v)&&u===!0,M=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,V=_.pathname,z=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(V=V.toLowerCase(),z=z?z.toLowerCase():null,M=M.toLowerCase()),z&&R&&(z=oa(z,R)||z);const $=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let J=V===M||!r&&V.startsWith(M)&&V.charAt($)==="/",ne=z!=null&&(z===M||!r&&z.startsWith(M)&&z.charAt(M.length)==="/"),N={isActive:J,isPending:ne,isTransitioning:x},D=J?e:void 0,I;typeof i=="function"?I=i(N):I=[i,J?"active":null,ne?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(N):a;return B.createElement(bt,{...f,"aria-current":D,className:I,ref:p,style:O,to:l,viewTransition:u},typeof h=="function"?h(N):h)});s2.displayName="NavLink";var a2=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:l=jf,action:u,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:v,..._},b)=>{let T=h2(),R=d2(u,{relative:f}),x=l.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&UR.test(u),V=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let $=z.nativeEvent.submitter,J=($==null?void 0:$.getAttribute("formmethod"))||l;T($||z.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:r,state:a,relative:f,preventScrollReset:p,viewTransition:v})};return B.createElement("form",{ref:b,method:x,action:R,onSubmit:i?h:V,..._,"data-discover":!M&&n==="render"?"true":void 0})});a2.displayName="Form";function o2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zR(n){let e=B.useContext(nc);return mt(e,o2(n)),e}function l2(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:l}={}){let u=ya(),h=Ui(),f=wh(n,{relative:a});return B.useCallback(p=>{if(UN(p,e)){p.preventDefault();let v=t!==void 0?t:ih(h)===ih(f);u(n,{replace:v,state:i,preventScrollReset:r,relative:a,viewTransition:l})}},[h,u,f,t,i,e,n,r,a,l])}var c2=0,u2=()=>`__${String(++c2)}__`;function h2(){let{router:n}=zR("useSubmit"),{basename:e}=B.useContext(ji),t=RN();return B.useCallback(async(i,r={})=>{let{action:a,method:l,encType:u,formData:h,body:f}=BN(i,e);if(r.navigate===!1){let p=r.fetcherKey||u2();await n.fetch(p,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function d2(n,{relative:e}={}){let{basename:t}=B.useContext(ji),i=B.useContext(Si);mt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...wh(n||".",{relative:e})},l=Ui();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let p=u.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Xr([t,a.pathname])),ih(a)}function f2(n,e={}){let t=B.useContext(kR);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=zR("useViewTransitionState"),r=wh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=oa(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=oa(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ng(r.pathname,l)!=null||ng(r.pathname,a)!=null}new TextEncoder;var Mv=xR(),HR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},OA=bi.createContext&&bi.createContext(HR),g2=["attr","size","title"];function p2(n,e){if(n==null)return{};var t=m2(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function m2(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function ig(){return ig=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ig.apply(this,arguments)}function NA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function rg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NA(Object(t),!0).forEach(function(i){y2(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function y2(n,e,t){return e=v2(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function v2(n){var e=_2(n,"string");return typeof e=="symbol"?e:e+""}function _2(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function BR(n){return n&&n.map((e,t)=>bi.createElement(e.tag,rg({key:t},e.attr),BR(e.child)))}function FR(n){return e=>bi.createElement(b2,ig({attr:rg({},n.attr)},e),BR(n.child))}function b2(n){var e=t=>{var{attr:i,size:r,title:a}=n,l=p2(n,g2),u=r||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),bi.createElement("svg",ig({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:h,style:rg(rg({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&bi.createElement("title",null,a),n.children)};return OA!==void 0?bi.createElement(OA.Consumer,null,t=>e(t)):e(HR)}function E2(n){return FR({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function w2(n){return FR({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}var PA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},A2=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],l=n[t++],u=n[t++],h=((r&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return e.join("")},WR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],l=r+1<n.length,u=l?n[r+1]:0,h=r+2<n.length,f=h?n[r+2]:0,p=a>>2,v=(a&3)<<4|u>>4;let _=(u&15)<<2|f>>6,b=f&63;h||(b=64,l||(_=64)),i.push(t[p],t[v],t[_],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(qR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):A2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],u=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const v=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||u==null||f==null||v==null)throw new S2;const _=a<<2|u>>4;if(i.push(_),f!==64){const b=u<<4&240|f>>2;if(i.push(b),v!==64){const T=f<<6&192|v;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class S2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T2=function(n){const e=qR(n);return WR.encodeByteArray(e,!0)},sg=function(n){return T2(n).replace(/\./g,"")},GR=function(n){try{return WR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=()=>x2().__FIREBASE_DEFAULTS__,C2=()=>{if(typeof process>"u"||typeof PA>"u")return;const n=PA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},D2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&GR(n[1]);return e&&JSON.parse(e)},tp=()=>{try{return R2()||C2()||D2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$R=n=>{var e,t;return(t=(e=tp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},I2=n=>{const e=$R(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},YR=()=>{var n;return(n=tp())===null||n===void 0?void 0:n.config},QR=n=>{var e;return(e=tp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sg(JSON.stringify(t)),sg(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function N2(){var n;const e=(n=tp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function L2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V2(){const n=xn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function j2(){return!N2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XR(){try{return typeof indexedDB=="object"}catch{return!1}}function ZR(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function U2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="FirebaseError";class zi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=z2,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ro.prototype.create)}}class Ro{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],l=a?H2(a,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new zi(r,u,i)}}function H2(n,e){return n.replace(B2,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const B2=/\{\$([^}]+)}/g;function F2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function rh(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],l=e[r];if(LA(a)&&LA(l)){if(!rh(a,l))return!1}else if(a!==l)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function LA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Iu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function ku(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function q2(n,e){const t=new W2(n,e);return t.subscribe.bind(t)}class W2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");G2(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Wy),r.error===void 0&&(r.error=Wy),r.complete===void 0&&(r.complete=Wy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=1e3,Y2=2,Q2=4*60*60*1e3,K2=.5;function VA(n,e=$2,t=Y2){const i=e*Math.pow(t,n),r=Math.round(K2*i*(Math.random()-.5)*2);return Math.min(Q2,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n){return n&&n._delegate?n._delegate:n}class Ni{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new k2;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J2(e))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ro){return this.instances.has(e)}getOptions(e=ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Z2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ro){return this.component?this.component.multipleInstances?e:ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z2(n){return n===ro?void 0:n}function J2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new X2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const tP={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},nP=Ue.INFO,iP={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},rP=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=iP[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class np{constructor(e){this.name=e,this._logLevel=nP,this._logHandler=rP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const sP=(n,e)=>e.some(t=>n instanceof t);let jA,UA;function aP(){return jA||(jA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oP(){return UA||(UA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JR=new WeakMap,Ov=new WeakMap,eC=new WeakMap,Gy=new WeakMap,N_=new WeakMap;function lP(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(ea(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&JR.set(t,n)}).catch(()=>{}),N_.set(e,n),e}function cP(n){if(Ov.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Ov.set(n,e)}let Nv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ov.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ea(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uP(n){Nv=n(Nv)}function hP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call($y(this),e,...t);return eC.set(i,e.sort?e.sort():[e]),ea(i)}:oP().includes(n)?function(...e){return n.apply($y(this),e),ea(JR.get(this))}:function(...e){return ea(n.apply($y(this),e))}}function dP(n){return typeof n=="function"?hP(n):(n instanceof IDBTransaction&&cP(n),sP(n,aP())?new Proxy(n,Nv):n)}function ea(n){if(n instanceof IDBRequest)return lP(n);if(Gy.has(n))return Gy.get(n);const e=dP(n);return e!==n&&(Gy.set(n,e),N_.set(e,n)),e}const $y=n=>N_.get(n);function tC(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const l=indexedDB.open(n,e),u=ea(l);return i&&l.addEventListener("upgradeneeded",h=>{i(ea(l.result),h.oldVersion,h.newVersion,ea(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const fP=["get","getKey","getAll","getAllKeys","count"],gP=["put","add","delete","clear"],Yy=new Map;function zA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Yy.get(e))return Yy.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=gP.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||fP.includes(t)))return;const a=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),r&&h.done]))[0]};return Yy.set(e,a),a}uP(n=>({...n,get:(e,t,i)=>zA(e,t)||n.get(e,t,i),has:(e,t)=>!!zA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mP(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function mP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pv="@firebase/app",HA="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new np("@firebase/app"),yP="@firebase/app-compat",vP="@firebase/analytics-compat",_P="@firebase/analytics",bP="@firebase/app-check-compat",EP="@firebase/app-check",wP="@firebase/auth",AP="@firebase/auth-compat",SP="@firebase/database",TP="@firebase/data-connect",xP="@firebase/database-compat",RP="@firebase/functions",CP="@firebase/functions-compat",DP="@firebase/installations",IP="@firebase/installations-compat",kP="@firebase/messaging",MP="@firebase/messaging-compat",OP="@firebase/performance",NP="@firebase/performance-compat",PP="@firebase/remote-config",LP="@firebase/remote-config-compat",VP="@firebase/storage",jP="@firebase/storage-compat",UP="@firebase/firestore",zP="@firebase/vertexai",HP="@firebase/firestore-compat",BP="firebase",FP="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="[DEFAULT]",qP={[Pv]:"fire-core",[yP]:"fire-core-compat",[_P]:"fire-analytics",[vP]:"fire-analytics-compat",[EP]:"fire-app-check",[bP]:"fire-app-check-compat",[wP]:"fire-auth",[AP]:"fire-auth-compat",[SP]:"fire-rtdb",[TP]:"fire-data-connect",[xP]:"fire-rtdb-compat",[RP]:"fire-fn",[CP]:"fire-fn-compat",[DP]:"fire-iid",[IP]:"fire-iid-compat",[kP]:"fire-fcm",[MP]:"fire-fcm-compat",[OP]:"fire-perf",[NP]:"fire-perf-compat",[PP]:"fire-rc",[LP]:"fire-rc-compat",[VP]:"fire-gcs",[jP]:"fire-gcs-compat",[UP]:"fire-fst",[HP]:"fire-fst-compat",[zP]:"fire-vertex","fire-js":"fire-js",[BP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=new Map,WP=new Map,Vv=new Map;function BA(n,e){try{n.container.addComponent(e)}catch(t){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gr(n){const e=n.name;if(Vv.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;Vv.set(e,n);for(const t of ag.values())BA(t,n);for(const t of WP.values())BA(t,n);return!0}function Co(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new Ro("app","Firebase",GP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=FP;function nC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Lv,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ta.create("bad-app-name",{appName:String(r)});if(t||(t=YR()),!t)throw ta.create("no-options");const a=ag.get(r);if(a){if(rh(t,a.options)&&rh(i,a.config))return a;throw ta.create("duplicate-app",{appName:r})}const l=new eP(r);for(const h of Vv.values())l.addComponent(h);const u=new $P(t,i,l);return ag.set(r,u),u}function P_(n=Lv){const e=ag.get(n);if(!e&&n===Lv&&YR())return nC();if(!e)throw ta.create("no-app",{appName:n});return e}function Ei(n,e,t){var i;let r=(i=qP[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(u.join(" "));return}gr(new Ni(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="firebase-heartbeat-database",QP=1,sh="firebase-heartbeat-store";let Qy=null;function iC(){return Qy||(Qy=tC(YP,QP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sh)}catch(t){console.warn(t)}}}}).catch(n=>{throw ta.create("idb-open",{originalErrorMessage:n.message})})),Qy}async function KP(n){try{const t=(await iC()).transaction(sh),i=await t.objectStore(sh).get(rC(n));return await t.done,i}catch(e){if(e instanceof zi)Jr.warn(e.message);else{const t=ta.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(t.message)}}}async function FA(n,e){try{const i=(await iC()).transaction(sh,"readwrite");await i.objectStore(sh).put(e,rC(n)),await i.done}catch(t){if(t instanceof zi)Jr.warn(t.message);else{const i=ta.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Jr.warn(i.message)}}}function rC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=1024,ZP=30;class JP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tL(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=qA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>ZP){const l=nL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Jr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=qA(),{heartbeatsToSend:i,unsentEntries:r}=eL(this._heartbeatsCache.heartbeats),a=sg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Jr.warn(t),""}}}function qA(){return new Date().toISOString().substring(0,10)}function eL(n,e=XP){const t=[];let i=n.slice();for(const r of n){const a=t.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),WA(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),WA(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class tL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XR()?ZR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await KP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return FA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return FA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function WA(n){return sg(JSON.stringify({version:2,heartbeats:n})).length}function nL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(n){gr(new Ni("platform-logger",e=>new pP(e),"PRIVATE")),gr(new Ni("heartbeat",e=>new JP(e),"PRIVATE")),Ei(Pv,HA,n),Ei(Pv,HA,"esm2017"),Ei("fire-js","")}iL("");function L_(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function sC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rL=sC,aC=new Ro("auth","Firebase",sC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=new np("@firebase/auth");function sL(n,...e){og.logLevel<=Ue.WARN&&og.warn(`Auth (${rc}): ${n}`,...e)}function zf(n,...e){og.logLevel<=Ue.ERROR&&og.error(`Auth (${rc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(n,...e){throw V_(n,...e)}function ur(n,...e){return V_(n,...e)}function oC(n,e,t){const i=Object.assign(Object.assign({},rL()),{[e]:t});return new Ro("auth","Firebase",i).create(e,{appName:n.name})}function Zr(n){return oC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return aC.create(n,...e)}function xe(n,e,...t){if(!n)throw V_(e,...t)}function Yr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zf(e),new Error(e)}function es(n,e){n||Yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function lC(){return GA()==="http:"||GA()==="https:"}function GA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lC()||KR()||"connection"in navigator)?navigator.onLine:!0}function oL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.shortDelay=e,this.longDelay=t,es(t>e,"Short delay should be less than long delay!"),this.isMobile=O2()||L2()}get(){return aL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(n,e){es(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new Sh(3e4,6e4);function yr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Hi(n,e,t,i,r={}){return uC(n,r,async()=>{let a={},l={};i&&(e==="GET"?l=i:a={body:JSON.stringify(i)});const u=Ah(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},a);return P2()||(f.referrerPolicy="no-referrer"),cC.fetch()(hC(n,n.config.apiHost,t,u),f)})}async function uC(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},lL),e);try{const r=new hL(n),a=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw lf(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw lf(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw lf(n,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw oC(n,p,f);Pi(n,p)}}catch(r){if(r instanceof zi)throw r;Pi(n,"network-request-failed",{message:String(r)})}}async function Th(n,e,t,i,r={}){const a=await Hi(n,e,t,i,r);return"mfaPendingCredential"in a&&Pi(n,"multi-factor-auth-required",{_serverResponse:a}),a}function hC(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?j_(n.config,r):`${n.config.apiScheme}://${r}`}function uL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ur(this.auth,"network-request-failed")),cL.get())})}}function lf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=ur(n,e,i);return r.customData._tokenResponse=t,r}function $A(n){return n!==void 0&&n.enterprise!==void 0}class dL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return uL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fL(n,e){return Hi(n,"GET","/v2/recaptchaConfig",yr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(n,e){return Hi(n,"POST","/v1/accounts:delete",e)}async function dC(n,e){return Hi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pL(n,e=!1){const t=Et(n),i=await t.getIdToken(e),r=U_(i);xe(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:Hu(Ky(r.auth_time)),issuedAtTime:Hu(Ky(r.iat)),expirationTime:Hu(Ky(r.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ky(n){return Number(n)*1e3}function U_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return zf("JWT malformed, contained fewer than 3 sections"),null;try{const r=GR(t);return r?JSON.parse(r):(zf("Failed to decode base64 JWT payload"),null)}catch(r){return zf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function YA(n){const e=U_(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof zi&&mL(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function mL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cg(n){var e;const t=n.auth,i=await n.getIdToken(),r=await ql(n,dC(t,{idToken:i}));xe(r==null?void 0:r.users.length,t,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?fC(a.providerUserInfo):[],u=_L(n.providerData,l),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),p=h?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new jv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function vL(n){const e=Et(n);await cg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _L(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function fC(n){return n.map(e=>{var{providerId:t}=e,i=L_(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(n,e){const t=await uC(n,{},async()=>{const i=Ah({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,l=hC(n,r,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",cC.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function EL(n,e){return Hi(n,"POST","/v2/accounts:revokeToken",yr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=YA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:a}=await bL(e,t);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:a}=t,l=new Vl;return i&&(xe(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(xe(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),a&&(xe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qr{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,a=L_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new jv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ql(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pL(this,e)}reload(){return vL(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await cg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vi(this.auth.app))return Promise.reject(Zr(this.auth));const e=await this.getIdToken();return await ql(this,gL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,a,l,u,h,f,p;const v=(i=t.displayName)!==null&&i!==void 0?i:void 0,_=(r=t.email)!==null&&r!==void 0?r:void 0,b=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,T=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,x=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,M=(f=t.createdAt)!==null&&f!==void 0?f:void 0,V=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:z,emailVerified:$,isAnonymous:J,providerData:ne,stsTokenManager:N}=t;xe(z&&N,e,"internal-error");const D=Vl.fromJSON(this.name,N);xe(typeof z=="string",e,"internal-error"),Fs(v,e.name),Fs(_,e.name),xe(typeof $=="boolean",e,"internal-error"),xe(typeof J=="boolean",e,"internal-error"),Fs(b,e.name),Fs(T,e.name),Fs(R,e.name),Fs(x,e.name),Fs(M,e.name),Fs(V,e.name);const I=new Qr({uid:z,auth:e,email:_,emailVerified:$,displayName:v,isAnonymous:J,photoURL:T,phoneNumber:b,tenantId:R,stsTokenManager:D,createdAt:M,lastLoginAt:V});return ne&&Array.isArray(ne)&&(I.providerData=ne.map(O=>Object.assign({},O))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,t,i=!1){const r=new Vl;r.updateFromServerResponse(t);const a=new Qr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await cg(a),a}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];xe(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?fC(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),u=new Vl;u.updateFromIdToken(i);const h=new Qr({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new jv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=new Map;function Kr(n){es(n instanceof Function,"Expected a class definition");let e=QA.get(n);return e?(es(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,QA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gC.type="NONE";const KA=gC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n,e,t){return`firebase:${n}:${e}:${t}`}class jl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Hf(this.userKey,r.apiKey,a),this.fullPersistenceKey=Hf("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new jl(Kr(KA),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=r[0]||Kr(KA);const l=Hf(i,e.config.apiKey,e.name);let u=null;for(const f of t)try{const p=await f._get(l);if(p){const v=Qr._fromJSON(e,p);f!==a&&(u=v),a=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new jl(a,e,i):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new jl(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bC(e))return"Blackberry";if(EC(e))return"Webos";if(mC(e))return"Safari";if((e.includes("chrome/")||yC(e))&&!e.includes("edge/"))return"Chrome";if(_C(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function pC(n=xn()){return/firefox\//i.test(n)}function mC(n=xn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yC(n=xn()){return/crios\//i.test(n)}function vC(n=xn()){return/iemobile/i.test(n)}function _C(n=xn()){return/android/i.test(n)}function bC(n=xn()){return/blackberry/i.test(n)}function EC(n=xn()){return/webos/i.test(n)}function z_(n=xn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wL(n=xn()){var e;return z_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AL(){return V2()&&document.documentMode===10}function wC(n=xn()){return z_(n)||_C(n)||EC(n)||bC(n)||/windows phone/i.test(n)||vC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n,e=[]){let t;switch(n){case"Browser":t=XA(xn());break;case"Worker":t=`${XA(xn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${rc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(n,e={}){return Hi(n,"GET","/v2/passwordPolicy",yr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=6;class RL{constructor(e){var t,i,r,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:xL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,a,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZA(this),this.idTokenSubscription=new ZA(this),this.beforeStateQueue=new SL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Kr(t)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await jl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await dC(this,{idToken:e}),i=await Qr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(vi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vi(this.app))return Promise.reject(Zr(this));const t=e?Et(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vi(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vi(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TL(this),t=new RL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ro("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await EL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Kr(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await jl.create(this,[Kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&sL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Do(n){return Et(n)}class ZA{constructor(e){this.auth=e,this.observer=null,this.addObserver=q2(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DL(n){ip=n}function SC(n){return ip.loadJS(n)}function IL(){return ip.recaptchaEnterpriseScript}function kL(){return ip.gapiScript}function ML(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class OL{constructor(){this.enterprise=new NL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class NL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const PL="recaptcha-enterprise",TC="NO_RECAPTCHA";class LL{constructor(e){this.type=PL,this.auth=Do(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{fL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new dL(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function r(a,l,u){const h=window.grecaptcha;$A(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(TC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OL().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(u=>{if(!t&&$A(window.grecaptcha))r(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=IL();h.length!==0&&(h+=u),SC(h).then(()=>{r(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function JA(n,e,t,i=!1,r=!1){const a=new LL(n);let l;if(r)l=TC;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Uv(n,e,t,i,r){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await JA(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await JA(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(n,e){const t=Co(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),a=t.getOptions();if(rh(a,e??{}))return r;Pi(r,"already-initialized")}return t.initialize({options:e})}function jL(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Kr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function UL(n,e,t){const i=Do(n);xe(i._canInitEmulator,i,"emulator-config-failed"),xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=xC(e),{host:l,port:u}=zL(e),h=u===null?"":`:${u}`;i.config.emulator={url:`${a}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})}),HL()}function xC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function zL(n){const e=xC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:eS(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:eS(l)}}}function eS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function HL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,t){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}async function BL(n,e){return Hi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(n,e){return Th(n,"POST","/v1/accounts:signInWithPassword",yr(n,e))}async function qL(n,e){return Hi(n,"POST","/v1/accounts:sendOobCode",yr(n,e))}async function WL(n,e){return qL(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(n,e){return Th(n,"POST","/v1/accounts:signInWithEmailLink",yr(n,e))}async function $L(n,e){return Th(n,"POST","/v1/accounts:signInWithEmailLink",yr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends H_{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ah(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new ah(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uv(e,t,"signInWithPassword",FL);case"emailLink":return GL(e,{email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uv(e,i,"signUpPassword",BL);case"emailLink":return $L(e,{idToken:t,email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n,e){return Th(n,"POST","/v1/accounts:signInWithIdp",yr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="http://localhost";class mo extends H_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,a=L_(t,["providerId","signInMethod"]);if(!i||!r)return null;const l=new mo(i,r);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ul(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ul(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ul(e,t)}buildRequest(){const e={requestUri:YL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ah(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KL(n){const e=Iu(ku(n)).link,t=e?Iu(ku(e)).deep_link_id:null,i=Iu(ku(n)).deep_link_id;return(i?Iu(ku(i)).link:null)||i||t||e||n}class B_{constructor(e){var t,i,r,a,l,u;const h=Iu(ku(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,p=(i=h.oobCode)!==null&&i!==void 0?i:null,v=QL((r=h.mode)!==null&&r!==void 0?r:null);xe(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=KL(e);try{return new B_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.providerId=sc.PROVIDER_ID}static credential(e,t){return ah._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=B_.parseLink(t);return xe(i,"argument-error"),ah._fromEmailAndCode(e,i.code,i.tenantId)}}sc.PROVIDER_ID="password";sc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends RC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends xh{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends xh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mo._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return $r.credential(t,i)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends xh{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends xh{constructor(){super("twitter.com")}static credential(e,t){return mo._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return $s.credential(t,i)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(n,e){return Th(n,"POST","/v1/accounts:signUp",yr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const a=await Qr._fromIdTokenResponse(e,i,r),l=tS(i);return new yo({user:a,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=tS(i);return new yo({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function tS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug extends zi{constructor(e,t,i,r){var a;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,ug.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new ug(e,t,i,r)}}function CC(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ug._fromErrorAndOperation(n,a,e,i):a})}async function ZL(n,e,t=!1){const i=await ql(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return yo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(n,e,t=!1){const{auth:i}=n;if(vi(i.app))return Promise.reject(Zr(i));const r="reauthenticate";try{const a=await ql(n,CC(i,r,e,n),t);xe(a.idToken,i,"internal-error");const l=U_(a.idToken);xe(l,i,"internal-error");const{sub:u}=l;return xe(n.uid===u,i,"user-mismatch"),yo._forOperation(n,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Pi(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(n,e,t=!1){if(vi(n.app))return Promise.reject(Zr(n));const i="signIn",r=await CC(n,i,e),a=await yo._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(a.user),a}async function eV(n,e){return DC(Do(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(n){const e=Do(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tV(n,e,t){if(vi(n.app))return Promise.reject(Zr(n));const i=Do(n),l=await Uv(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XL).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&IC(n),h}),u=await yo._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function nV(n,e,t){return vi(n.app)?Promise.reject(Zr(n)):eV(Et(n),sc.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&IC(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(n,e){return Hi(n,"POST","/v1/accounts:createAuthUri",yr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(n,e){const t=lC()?lg():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:r}=await iV(Et(n),i);return r||[]}async function sV(n,e){const t=Et(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await WL(t.auth,r);a!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(n,e){return Hi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Et(n),a={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await ql(i,aV(i.auth,a));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const u=i.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function lV(n,e,t,i){return Et(n).onIdTokenChanged(e,t,i)}function cV(n,e,t){return Et(n).beforeAuthStateChanged(e,t)}function kC(n,e,t,i){return Et(n).onAuthStateChanged(e,t,i)}function uV(n){return Et(n).signOut()}const hg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hg,"1"),this.storage.removeItem(hg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=1e3,dV=10;class OC extends MC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);AL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,dV):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},hV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}OC.type="LOCAL";const fV=OC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC extends MC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}NC.type="SESSION";const PC=NC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new rp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:a}=t.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(t.origin,a)),h=await gV(u);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const f=F_("",20);r.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(_.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function mV(n){hr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function yV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _V(){return LC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="firebaseLocalStorageDb",bV=1,dg="firebaseLocalStorage",jC="fbase_key";class Rh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sp(n,e){return n.transaction([dg],e?"readwrite":"readonly").objectStore(dg)}function EV(){const n=indexedDB.deleteDatabase(VC);return new Rh(n).toPromise()}function zv(){const n=indexedDB.open(VC,bV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(dg,{keyPath:jC})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(dg)?e(i):(i.close(),await EV(),e(await zv()))})})}async function nS(n,e,t){const i=sp(n,!0).put({[jC]:e,value:t});return new Rh(i).toPromise()}async function wV(n,e){const t=sp(n,!1).get(e),i=await new Rh(t).toPromise();return i===void 0?null:i.value}function iS(n,e){const t=sp(n,!0).delete(e);return new Rh(t).toPromise()}const AV=800,SV=3;class UC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>SV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rp._getInstance(_V()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await yV(),!this.activeServiceWorker)return;this.sender=new pV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zv();return await nS(e,hg,"1"),await iS(e,hg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>nS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>wV(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>iS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=sp(r,!1).getAll();return new Rh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UC.type="LOCAL";const TV=UC;new Sh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(n,e){return e?Kr(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_ extends H_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ul(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RV(n){return DC(n.auth,new q_(n),n.bypassAuthState)}function CV(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),JL(t,new q_(n),n.bypassAuthState)}async function DV(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),ZL(t,new q_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RV;case"linkViaPopup":case"linkViaRedirect":return DV;case"reauthViaPopup":case"reauthViaRedirect":return CV;default:Pi(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new Sh(2e3,1e4);class Nl extends zC{constructor(e,t,i,r,a){super(e,t,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=F_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IV.get())};e()}}Nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV="pendingRedirect",Bf=new Map;class MV extends zC{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Bf.get(this.auth._key());if(!e){try{const i=await OV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OV(n,e){const t=LV(e),i=PV(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function NV(n,e){Bf.set(n._key(),e)}function PV(n){return Kr(n._redirectPersistence)}function LV(n){return Hf(kV,n.config.apiKey,n.name)}async function VV(n,e,t=!1){if(vi(n.app))return Promise.reject(Zr(n));const i=Do(n),r=xV(i,e),l=await new MV(i,r,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=10*60*1e3;class UV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!HC(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ur(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jV&&this.cachedEventUids.clear(),this.cachedEventUids.has(rS(e))}saveEventToCache(e){this.cachedEventUids.add(rS(e)),this.lastProcessedEventTime=Date.now()}}function rS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function HC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(n,e={}){return Hi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FV=/^https?/;async function qV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await HV(n);for(const t of e)try{if(WV(t))return}catch{}Pi(n,"unauthorized-domain")}function WV(n){const e=lg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!FV.test(t))return!1;if(BV.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=new Sh(3e4,6e4);function sS(){const n=hr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function $V(n){return new Promise((e,t)=>{var i,r,a;function l(){sS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sS(),t(ur(n,"network-request-failed"))},timeout:GV.get()})}if(!((r=(i=hr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((a=hr().gapi)===null||a===void 0)&&a.load)l();else{const u=ML("iframefcb");return hr()[u]=()=>{gapi.load?l():t(ur(n,"network-request-failed"))},SC(`${kL()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw Ff=null,e})}let Ff=null;function YV(n){return Ff=Ff||$V(n),Ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=new Sh(5e3,15e3),KV="__/auth/iframe",XV="emulator/auth/iframe",ZV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ej(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?j_(e,XV):`https://${n.config.authDomain}/${KV}`,i={apiKey:e.apiKey,appName:n.name,v:rc},r=JV.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Ah(i).slice(1)}`}async function tj(n){const e=await YV(n),t=hr().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:ej(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZV,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const l=ur(n,"network-request-failed"),u=hr().setTimeout(()=>{a(l)},QV.get());function h(){hr().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ij=500,rj=600,sj="_blank",aj="http://localhost";class aS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oj(n,e,t,i=ij,r=rj){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},nj),{width:i.toString(),height:r.toString(),top:a,left:l}),f=xn().toLowerCase();t&&(u=yC(f)?sj:t),pC(f)&&(e=e||aj,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[b,T])=>`${_}${b}=${T},`,"");if(wL(f)&&u!=="_self")return lj(e||"",u),new aS(null);const v=window.open(e||"",u,p);xe(v,n,"popup-blocked");try{v.focus()}catch{}return new aS(v)}function lj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="__/auth/handler",uj="emulator/auth/handler",hj=encodeURIComponent("fac");async function oS(n,e,t,i,r,a){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:rc,eventId:r};if(e instanceof RC){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",F2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))l[p]=v}if(e instanceof xh){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const h=await n._getAppCheckToken(),f=h?`#${hj}=${encodeURIComponent(h)}`:"";return`${dj(n)}?${Ah(u).slice(1)}${f}`}function dj({config:n}){return n.emulator?j_(n,uj):`https://${n.authDomain}/${cj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="webStorageSupport";class fj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PC,this._completeRedirectFn=VV,this._overrideRedirectResult=NV}async _openPopup(e,t,i,r){var a;es((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await oS(e,t,i,lg(),r);return oj(e,l,F_())}async _openRedirect(e,t,i,r){await this._originValidation(e);const a=await oS(e,t,i,lg(),r);return mV(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:a}=this.eventManagers[t];return r?Promise.resolve(r):(es(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await tj(e),i=new UV(e);return t.register("authEvent",r=>(xe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xy,{type:Xy},r=>{var a;const l=(a=r==null?void 0:r[0])===null||a===void 0?void 0:a[Xy];l!==void 0&&t(!!l),Pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wC()||mC()||z_()}}const gj=fj;var lS="@firebase/auth",cS="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yj(n){gr(new Ni("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;xe(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AC(n)},f=new CL(i,r,a,h);return jL(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),gr(new Ni("auth-internal",e=>{const t=Do(e.getProvider("auth").getImmediate());return(i=>new pj(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(lS,cS,mj(n)),Ei(lS,cS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=5*60,_j=QR("authIdTokenMaxAge")||vj;let uS=null;const bj=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>_j)return;const r=t==null?void 0:t.token;uS!==r&&(uS=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Ej(n=P_()){const e=Co(n,"auth");if(e.isInitialized())return e.getImmediate();const t=VL(n,{popupRedirectResolver:gj,persistence:[TV,fV,PC]}),i=QR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=bj(a.toString());cV(t,l,()=>l(t.currentUser)),lV(t,u=>l(u))}}const r=$R("auth");return r&&UL(t,`http://${r}`),t}function wj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}DL({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const a=ur("internal-error");a.customData=r,t(a)},i.type="text/javascript",i.charset="UTF-8",wj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yj("Browser");var Aj="firebase",Sj="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(Aj,Sj,"app");const BC="@firebase/installations",W_="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=1e4,qC=`w:${W_}`,WC="FIS_v2",Tj="https://firebaseinstallations.googleapis.com/v1",xj=60*60*1e3,Rj="installations",Cj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vo=new Ro(Rj,Cj,Dj);function GC(n){return n instanceof zi&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C({projectId:n}){return`${Tj}/projects/${n}/installations`}function YC(n){return{token:n.token,requestStatus:2,expiresIn:kj(n.expiresIn),creationTime:Date.now()}}async function QC(n,e){const i=(await e.json()).error;return vo.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function KC({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Ij(n,{refreshToken:e}){const t=KC(n);return t.append("Authorization",Mj(e)),t}async function XC(n){const e=await n();return e.status>=500&&e.status<600?n():e}function kj(n){return Number(n.replace("s","000"))}function Mj(n){return`${WC} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=$C(n),r=KC(n),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={fid:t,authVersion:WC,appId:n.appId,sdkVersion:qC},u={method:"POST",headers:r,body:JSON.stringify(l)},h=await XC(()=>fetch(i,u));if(h.ok){const f=await h.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:YC(f.authToken)}}else throw await QC("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=/^[cdef][\w-]{21}$/,Hv="";function Lj(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Vj(n);return Pj.test(t)?t:Hv}catch{return Hv}}function Vj(n){return Nj(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new Map;function eD(n,e){const t=ap(n);tD(t,e),jj(t,e)}function tD(n,e){const t=JC.get(n);if(t)for(const i of t)i(e)}function jj(n,e){const t=Uj();t&&t.postMessage({key:n,fid:e}),zj()}let co=null;function Uj(){return!co&&"BroadcastChannel"in self&&(co=new BroadcastChannel("[Firebase] FID Change"),co.onmessage=n=>{tD(n.data.key,n.data.fid)}),co}function zj(){JC.size===0&&co&&(co.close(),co=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="firebase-installations-database",Bj=1,_o="firebase-installations-store";let Zy=null;function G_(){return Zy||(Zy=tC(Hj,Bj,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(_o)}}})),Zy}async function fg(n,e){const t=ap(n),r=(await G_()).transaction(_o,"readwrite"),a=r.objectStore(_o),l=await a.get(t);return await a.put(e,t),await r.done,(!l||l.fid!==e.fid)&&eD(n,e.fid),e}async function nD(n){const e=ap(n),i=(await G_()).transaction(_o,"readwrite");await i.objectStore(_o).delete(e),await i.done}async function op(n,e){const t=ap(n),r=(await G_()).transaction(_o,"readwrite"),a=r.objectStore(_o),l=await a.get(t),u=e(l);return u===void 0?await a.delete(t):await a.put(u,t),await r.done,u&&(!l||l.fid!==u.fid)&&eD(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $_(n){let e;const t=await op(n.appConfig,i=>{const r=Fj(i),a=qj(n,r);return e=a.registrationPromise,a.installationEntry});return t.fid===Hv?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Fj(n){const e=n||{fid:Lj(),registrationStatus:0};return iD(e)}function qj(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(vo.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Wj(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Gj(n)}:{installationEntry:e}}async function Wj(n,e){try{const t=await Oj(n,e);return fg(n.appConfig,t)}catch(t){throw GC(t)&&t.customData.serverCode===409?await nD(n.appConfig):await fg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Gj(n){let e=await hS(n.appConfig);for(;e.registrationStatus===1;)await ZC(100),e=await hS(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await $_(n);return i||t}return e}function hS(n){return op(n,e=>{if(!e)throw vo.create("installation-not-found");return iD(e)})}function iD(n){return $j(n)?{fid:n.fid,registrationStatus:0}:n}function $j(n){return n.registrationStatus===1&&n.registrationTime+FC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj({appConfig:n,heartbeatServiceProvider:e},t){const i=Qj(n,t),r=Ij(n,t),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={installation:{sdkVersion:qC,appId:n.appId}},u={method:"POST",headers:r,body:JSON.stringify(l)},h=await XC(()=>fetch(i,u));if(h.ok){const f=await h.json();return YC(f)}else throw await QC("Generate Auth Token",h)}function Qj(n,{fid:e}){return`${$C(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y_(n,e=!1){let t;const i=await op(n.appConfig,a=>{if(!rD(a))throw vo.create("not-registered");const l=a.authToken;if(!e&&Zj(l))return a;if(l.requestStatus===1)return t=Kj(n,e),a;{if(!navigator.onLine)throw vo.create("app-offline");const u=eU(a);return t=Xj(n,u),u}});return t?await t:i.authToken}async function Kj(n,e){let t=await dS(n.appConfig);for(;t.authToken.requestStatus===1;)await ZC(100),t=await dS(n.appConfig);const i=t.authToken;return i.requestStatus===0?Y_(n,e):i}function dS(n){return op(n,e=>{if(!rD(e))throw vo.create("not-registered");const t=e.authToken;return tU(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Xj(n,e){try{const t=await Yj(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await fg(n.appConfig,i),t}catch(t){if(GC(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await nD(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await fg(n.appConfig,i)}throw t}}function rD(n){return n!==void 0&&n.registrationStatus===2}function Zj(n){return n.requestStatus===2&&!Jj(n)}function Jj(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+xj}function eU(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function tU(n){return n.requestStatus===1&&n.requestTime+FC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(n){const e=n,{installationEntry:t,registrationPromise:i}=await $_(e);return i?i.catch(console.error):Y_(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iU(n,e=!1){const t=n;return await rU(t),(await Y_(t,e)).token}async function rU(n){const{registrationPromise:e}=await $_(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(n){if(!n||!n.options)throw Jy("App Configuration");if(!n.name)throw Jy("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Jy(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Jy(n){return vo.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="installations",aU="installations-internal",oU=n=>{const e=n.getProvider("app").getImmediate(),t=sU(e),i=Co(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},lU=n=>{const e=n.getProvider("app").getImmediate(),t=Co(e,sD).getImmediate();return{getId:()=>nU(t),getToken:r=>iU(t,r)}};function cU(){gr(new Ni(sD,oU,"PUBLIC")),gr(new Ni(aU,lU,"PRIVATE"))}cU();Ei(BC,W_);Ei(BC,W_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="analytics",uU="firebase_id",hU="origin",dU=60*1e3,fU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Q_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=new np("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jn=new Ro("analytics","Analytics",gU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(n){if(!n.startsWith(Q_)){const e=Jn.create("invalid-gtag-resource",{gtagURL:n});return Bn.warn(e.message),""}return n}function aD(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function mU(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function yU(n,e){const t=mU("firebase-js-sdk-policy",{createScriptURL:pU}),i=document.createElement("script"),r=`${Q_}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function vU(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function _U(n,e,t,i,r,a){const l=i[r];try{if(l)await e[l];else{const h=(await aD(t)).find(f=>f.measurementId===r);h&&await e[h.appId]}}catch(u){Bn.error(u)}n("config",r,a)}async function bU(n,e,t,i,r){try{let a=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const u=await aD(t);for(const h of l){const f=u.find(v=>v.measurementId===h),p=f&&e[f.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,r||{})}catch(a){Bn.error(a)}}function EU(n,e,t,i){async function r(a,...l){try{if(a==="event"){const[u,h]=l;await bU(n,e,t,u,h)}else if(a==="config"){const[u,h]=l;await _U(n,e,t,i,u,h)}else if(a==="consent"){const[u,h]=l;n("consent",u,h)}else if(a==="get"){const[u,h,f]=l;n("get",u,h,f)}else if(a==="set"){const[u]=l;n("set",u)}else n(a,...l)}catch(u){Bn.error(u)}}return r}function wU(n,e,t,i,r){let a=function(...l){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(a=window[r]),window[r]=EU(a,n,e,t),{gtagCore:a,wrappedGtag:window[r]}}function AU(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Q_)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=30,TU=1e3;class xU{constructor(e={},t=TU){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const oD=new xU;function RU(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function CU(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:RU(i)},a=fU.replace("{app-id}",t),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(u=h.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function DU(n,e=oD,t){const{appId:i,apiKey:r,measurementId:a}=n.options;if(!i)throw Jn.create("no-app-id");if(!r){if(a)return{measurementId:a,appId:i};throw Jn.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new MU;return setTimeout(async()=>{u.abort()},dU),lD({appId:i,apiKey:r,measurementId:a},l,u,e)}async function lD(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=oD){var a;const{appId:l,measurementId:u}=n;try{await IU(i,e)}catch(h){if(u)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:u};throw h}try{const h=await CU(n);return r.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!kU(f)){if(r.deleteThrottleMetadata(l),u)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:u};throw h}const p=Number((a=f==null?void 0:f.customData)===null||a===void 0?void 0:a.httpStatus)===503?VA(t,r.intervalMillis,SU):VA(t,r.intervalMillis),v={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return r.setThrottleMetadata(l,v),Bn.debug(`Calling attemptFetch again in ${p} millis`),lD(n,v,i,r)}}function IU(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),a=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(a),i(Jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function kU(n){if(!(n instanceof zi)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class MU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function OU(n,e,t,i,r){if(r&&r.global){n("event",t,i);return}else{const a=await e,l=Object.assign(Object.assign({},i),{send_to:a});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(){if(XR())try{await ZR()}catch(n){return Bn.warn(Jn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Bn.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function PU(n,e,t,i,r,a,l){var u;const h=DU(n);h.then(b=>{t[b.measurementId]=b.appId,n.options.measurementId&&b.measurementId!==n.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Bn.error(b)),e.push(h);const f=NU().then(b=>{if(b)return i.getId()}),[p,v]=await Promise.all([h,f]);AU(a)||yU(a,p.measurementId),r("js",new Date);const _=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return _[hU]="firebase",_.update=!0,v!=null&&(_[uU]=v),r("config",p.measurementId,_),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.app=e}_delete(){return delete Bu[this.app.options.appId],Promise.resolve()}}let Bu={},fS=[];const gS={};let ev="dataLayer",VU="gtag",pS,cD,mS=!1;function jU(){const n=[];if(KR()&&n.push("This is a browser extension environment."),U2()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=Jn.create("invalid-analytics-context",{errorInfo:e});Bn.warn(t.message)}}function UU(n,e,t){jU();const i=n.options.appId;if(!i)throw Jn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jn.create("no-api-key");if(Bu[i]!=null)throw Jn.create("already-exists",{id:i});if(!mS){vU(ev);const{wrappedGtag:a,gtagCore:l}=wU(Bu,fS,gS,ev,VU);cD=a,pS=l,mS=!0}return Bu[i]=PU(n,fS,gS,e,pS,ev,t),new LU(n)}function zU(n=P_()){n=Et(n);const e=Co(n,gg);return e.isInitialized()?e.getImmediate():HU(n)}function HU(n,e={}){const t=Co(n,gg);if(t.isInitialized()){const r=t.getImmediate();if(rh(e,t.getOptions()))return r;throw Jn.create("already-initialized")}return t.initialize({options:e})}function BU(n,e,t,i){n=Et(n),OU(cD,Bu[n.app.options.appId],e,t,i).catch(r=>Bn.error(r))}const yS="@firebase/analytics",vS="0.10.11";function FU(){gr(new Ni(gg,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return UU(i,r,t)},"PUBLIC")),gr(new Ni("analytics-internal",n,"PRIVATE")),Ei(yS,vS),Ei(yS,vS,"esm2017");function n(e){try{const t=e.getProvider(gg).getImmediate();return{logEvent:(i,r,a)=>BU(t,i,r,a)}}catch(t){throw Jn.create("interop-component-reg-failed",{reason:t})}}}FU();var _S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var na,uD;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,D){function I(){}I.prototype=D.prototype,N.D=D.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(O,j,H){for(var P=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)P[Ne-2]=arguments[Ne];return D.prototype[j].apply(O,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(N,D,I){I||(I=0);var O=Array(16);if(typeof D=="string")for(var j=0;16>j;++j)O[j]=D.charCodeAt(I++)|D.charCodeAt(I++)<<8|D.charCodeAt(I++)<<16|D.charCodeAt(I++)<<24;else for(j=0;16>j;++j)O[j]=D[I++]|D[I++]<<8|D[I++]<<16|D[I++]<<24;D=N.g[0],I=N.g[1],j=N.g[2];var H=N.g[3],P=D+(H^I&(j^H))+O[0]+3614090360&4294967295;D=I+(P<<7&4294967295|P>>>25),P=H+(j^D&(I^j))+O[1]+3905402710&4294967295,H=D+(P<<12&4294967295|P>>>20),P=j+(I^H&(D^I))+O[2]+606105819&4294967295,j=H+(P<<17&4294967295|P>>>15),P=I+(D^j&(H^D))+O[3]+3250441966&4294967295,I=j+(P<<22&4294967295|P>>>10),P=D+(H^I&(j^H))+O[4]+4118548399&4294967295,D=I+(P<<7&4294967295|P>>>25),P=H+(j^D&(I^j))+O[5]+1200080426&4294967295,H=D+(P<<12&4294967295|P>>>20),P=j+(I^H&(D^I))+O[6]+2821735955&4294967295,j=H+(P<<17&4294967295|P>>>15),P=I+(D^j&(H^D))+O[7]+4249261313&4294967295,I=j+(P<<22&4294967295|P>>>10),P=D+(H^I&(j^H))+O[8]+1770035416&4294967295,D=I+(P<<7&4294967295|P>>>25),P=H+(j^D&(I^j))+O[9]+2336552879&4294967295,H=D+(P<<12&4294967295|P>>>20),P=j+(I^H&(D^I))+O[10]+4294925233&4294967295,j=H+(P<<17&4294967295|P>>>15),P=I+(D^j&(H^D))+O[11]+2304563134&4294967295,I=j+(P<<22&4294967295|P>>>10),P=D+(H^I&(j^H))+O[12]+1804603682&4294967295,D=I+(P<<7&4294967295|P>>>25),P=H+(j^D&(I^j))+O[13]+4254626195&4294967295,H=D+(P<<12&4294967295|P>>>20),P=j+(I^H&(D^I))+O[14]+2792965006&4294967295,j=H+(P<<17&4294967295|P>>>15),P=I+(D^j&(H^D))+O[15]+1236535329&4294967295,I=j+(P<<22&4294967295|P>>>10),P=D+(j^H&(I^j))+O[1]+4129170786&4294967295,D=I+(P<<5&4294967295|P>>>27),P=H+(I^j&(D^I))+O[6]+3225465664&4294967295,H=D+(P<<9&4294967295|P>>>23),P=j+(D^I&(H^D))+O[11]+643717713&4294967295,j=H+(P<<14&4294967295|P>>>18),P=I+(H^D&(j^H))+O[0]+3921069994&4294967295,I=j+(P<<20&4294967295|P>>>12),P=D+(j^H&(I^j))+O[5]+3593408605&4294967295,D=I+(P<<5&4294967295|P>>>27),P=H+(I^j&(D^I))+O[10]+38016083&4294967295,H=D+(P<<9&4294967295|P>>>23),P=j+(D^I&(H^D))+O[15]+3634488961&4294967295,j=H+(P<<14&4294967295|P>>>18),P=I+(H^D&(j^H))+O[4]+3889429448&4294967295,I=j+(P<<20&4294967295|P>>>12),P=D+(j^H&(I^j))+O[9]+568446438&4294967295,D=I+(P<<5&4294967295|P>>>27),P=H+(I^j&(D^I))+O[14]+3275163606&4294967295,H=D+(P<<9&4294967295|P>>>23),P=j+(D^I&(H^D))+O[3]+4107603335&4294967295,j=H+(P<<14&4294967295|P>>>18),P=I+(H^D&(j^H))+O[8]+1163531501&4294967295,I=j+(P<<20&4294967295|P>>>12),P=D+(j^H&(I^j))+O[13]+2850285829&4294967295,D=I+(P<<5&4294967295|P>>>27),P=H+(I^j&(D^I))+O[2]+4243563512&4294967295,H=D+(P<<9&4294967295|P>>>23),P=j+(D^I&(H^D))+O[7]+1735328473&4294967295,j=H+(P<<14&4294967295|P>>>18),P=I+(H^D&(j^H))+O[12]+2368359562&4294967295,I=j+(P<<20&4294967295|P>>>12),P=D+(I^j^H)+O[5]+4294588738&4294967295,D=I+(P<<4&4294967295|P>>>28),P=H+(D^I^j)+O[8]+2272392833&4294967295,H=D+(P<<11&4294967295|P>>>21),P=j+(H^D^I)+O[11]+1839030562&4294967295,j=H+(P<<16&4294967295|P>>>16),P=I+(j^H^D)+O[14]+4259657740&4294967295,I=j+(P<<23&4294967295|P>>>9),P=D+(I^j^H)+O[1]+2763975236&4294967295,D=I+(P<<4&4294967295|P>>>28),P=H+(D^I^j)+O[4]+1272893353&4294967295,H=D+(P<<11&4294967295|P>>>21),P=j+(H^D^I)+O[7]+4139469664&4294967295,j=H+(P<<16&4294967295|P>>>16),P=I+(j^H^D)+O[10]+3200236656&4294967295,I=j+(P<<23&4294967295|P>>>9),P=D+(I^j^H)+O[13]+681279174&4294967295,D=I+(P<<4&4294967295|P>>>28),P=H+(D^I^j)+O[0]+3936430074&4294967295,H=D+(P<<11&4294967295|P>>>21),P=j+(H^D^I)+O[3]+3572445317&4294967295,j=H+(P<<16&4294967295|P>>>16),P=I+(j^H^D)+O[6]+76029189&4294967295,I=j+(P<<23&4294967295|P>>>9),P=D+(I^j^H)+O[9]+3654602809&4294967295,D=I+(P<<4&4294967295|P>>>28),P=H+(D^I^j)+O[12]+3873151461&4294967295,H=D+(P<<11&4294967295|P>>>21),P=j+(H^D^I)+O[15]+530742520&4294967295,j=H+(P<<16&4294967295|P>>>16),P=I+(j^H^D)+O[2]+3299628645&4294967295,I=j+(P<<23&4294967295|P>>>9),P=D+(j^(I|~H))+O[0]+4096336452&4294967295,D=I+(P<<6&4294967295|P>>>26),P=H+(I^(D|~j))+O[7]+1126891415&4294967295,H=D+(P<<10&4294967295|P>>>22),P=j+(D^(H|~I))+O[14]+2878612391&4294967295,j=H+(P<<15&4294967295|P>>>17),P=I+(H^(j|~D))+O[5]+4237533241&4294967295,I=j+(P<<21&4294967295|P>>>11),P=D+(j^(I|~H))+O[12]+1700485571&4294967295,D=I+(P<<6&4294967295|P>>>26),P=H+(I^(D|~j))+O[3]+2399980690&4294967295,H=D+(P<<10&4294967295|P>>>22),P=j+(D^(H|~I))+O[10]+4293915773&4294967295,j=H+(P<<15&4294967295|P>>>17),P=I+(H^(j|~D))+O[1]+2240044497&4294967295,I=j+(P<<21&4294967295|P>>>11),P=D+(j^(I|~H))+O[8]+1873313359&4294967295,D=I+(P<<6&4294967295|P>>>26),P=H+(I^(D|~j))+O[15]+4264355552&4294967295,H=D+(P<<10&4294967295|P>>>22),P=j+(D^(H|~I))+O[6]+2734768916&4294967295,j=H+(P<<15&4294967295|P>>>17),P=I+(H^(j|~D))+O[13]+1309151649&4294967295,I=j+(P<<21&4294967295|P>>>11),P=D+(j^(I|~H))+O[4]+4149444226&4294967295,D=I+(P<<6&4294967295|P>>>26),P=H+(I^(D|~j))+O[11]+3174756917&4294967295,H=D+(P<<10&4294967295|P>>>22),P=j+(D^(H|~I))+O[2]+718787259&4294967295,j=H+(P<<15&4294967295|P>>>17),P=I+(H^(j|~D))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+D&4294967295,N.g[1]=N.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+H&4294967295}i.prototype.u=function(N,D){D===void 0&&(D=N.length);for(var I=D-this.blockSize,O=this.B,j=this.h,H=0;H<D;){if(j==0)for(;H<=I;)r(this,N,H),H+=this.blockSize;if(typeof N=="string"){for(;H<D;)if(O[j++]=N.charCodeAt(H++),j==this.blockSize){r(this,O),j=0;break}}else for(;H<D;)if(O[j++]=N[H++],j==this.blockSize){r(this,O),j=0;break}}this.h=j,this.o+=D},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var D=1;D<N.length-8;++D)N[D]=0;var I=8*this.o;for(D=N.length-8;D<N.length;++D)N[D]=I&255,I/=256;for(this.u(N),N=Array(16),D=I=0;4>D;++D)for(var O=0;32>O;O+=8)N[I++]=this.g[D]>>>O&255;return N};function a(N,D){var I=u;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=D(N)}function l(N,D){this.h=D;for(var I=[],O=!0,j=N.length-1;0<=j;j--){var H=N[j]|0;O&&H==D||(I[j]=H,O=!1)}this.g=I}var u={};function h(N){return-128<=N&&128>N?a(N,function(D){return new l([D|0],0>D?-1:0)}):new l([N|0],0>N?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return x(f(-N));for(var D=[],I=1,O=0;N>=I;O++)D[O]=N/I|0,I*=4294967296;return new l(D,0)}function p(N,D){if(N.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N.charAt(0)=="-")return x(p(N.substring(1),D));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=f(Math.pow(D,8)),O=v,j=0;j<N.length;j+=8){var H=Math.min(8,N.length-j),P=parseInt(N.substring(j,j+H),D);8>H?(H=f(Math.pow(D,H)),O=O.j(H).add(f(P))):(O=O.j(I),O=O.add(f(P)))}return O}var v=h(0),_=h(1),b=h(16777216);n=l.prototype,n.m=function(){if(R(this))return-x(this).m();for(var N=0,D=1,I=0;I<this.g.length;I++){var O=this.i(I);N+=(0<=O?O:4294967296+O)*D,D*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(T(this))return"0";if(R(this))return"-"+x(this).toString(N);for(var D=f(Math.pow(N,6)),I=this,O="";;){var j=$(I,D).g;I=M(I,j.j(D));var H=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=j,T(I))return H+O;for(;6>H.length;)H="0"+H;O=H+O}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function T(N){if(N.h!=0)return!1;for(var D=0;D<N.g.length;D++)if(N.g[D]!=0)return!1;return!0}function R(N){return N.h==-1}n.l=function(N){return N=M(this,N),R(N)?-1:T(N)?0:1};function x(N){for(var D=N.g.length,I=[],O=0;O<D;O++)I[O]=~N.g[O];return new l(I,~N.h).add(_)}n.abs=function(){return R(this)?x(this):this},n.add=function(N){for(var D=Math.max(this.g.length,N.g.length),I=[],O=0,j=0;j<=D;j++){var H=O+(this.i(j)&65535)+(N.i(j)&65535),P=(H>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);O=P>>>16,H&=65535,P&=65535,I[j]=P<<16|H}return new l(I,I[I.length-1]&-2147483648?-1:0)};function M(N,D){return N.add(x(D))}n.j=function(N){if(T(this)||T(N))return v;if(R(this))return R(N)?x(this).j(x(N)):x(x(this).j(N));if(R(N))return x(this.j(x(N)));if(0>this.l(b)&&0>N.l(b))return f(this.m()*N.m());for(var D=this.g.length+N.g.length,I=[],O=0;O<2*D;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var j=0;j<N.g.length;j++){var H=this.i(O)>>>16,P=this.i(O)&65535,Ne=N.i(j)>>>16,Ae=N.i(j)&65535;I[2*O+2*j]+=P*Ae,V(I,2*O+2*j),I[2*O+2*j+1]+=H*Ae,V(I,2*O+2*j+1),I[2*O+2*j+1]+=P*Ne,V(I,2*O+2*j+1),I[2*O+2*j+2]+=H*Ne,V(I,2*O+2*j+2)}for(O=0;O<D;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=D;O<2*D;O++)I[O]=0;return new l(I,0)};function V(N,D){for(;(N[D]&65535)!=N[D];)N[D+1]+=N[D]>>>16,N[D]&=65535,D++}function z(N,D){this.g=N,this.h=D}function $(N,D){if(T(D))throw Error("division by zero");if(T(N))return new z(v,v);if(R(N))return D=$(x(N),D),new z(x(D.g),x(D.h));if(R(D))return D=$(N,x(D)),new z(x(D.g),D.h);if(30<N.g.length){if(R(N)||R(D))throw Error("slowDivide_ only works with positive integers.");for(var I=_,O=D;0>=O.l(N);)I=J(I),O=J(O);var j=ne(I,1),H=ne(O,1);for(O=ne(O,2),I=ne(I,2);!T(O);){var P=H.add(O);0>=P.l(N)&&(j=j.add(I),H=P),O=ne(O,1),I=ne(I,1)}return D=M(N,j.j(D)),new z(j,D)}for(j=v;0<=N.l(D);){for(I=Math.max(1,Math.floor(N.m()/D.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),H=f(I),P=H.j(D);R(P)||0<P.l(N);)I-=O,H=f(I),P=H.j(D);T(H)&&(H=_),j=j.add(H),N=M(N,P)}return new z(j,N)}n.A=function(N){return $(this,N).h},n.and=function(N){for(var D=Math.max(this.g.length,N.g.length),I=[],O=0;O<D;O++)I[O]=this.i(O)&N.i(O);return new l(I,this.h&N.h)},n.or=function(N){for(var D=Math.max(this.g.length,N.g.length),I=[],O=0;O<D;O++)I[O]=this.i(O)|N.i(O);return new l(I,this.h|N.h)},n.xor=function(N){for(var D=Math.max(this.g.length,N.g.length),I=[],O=0;O<D;O++)I[O]=this.i(O)^N.i(O);return new l(I,this.h^N.h)};function J(N){for(var D=N.g.length+1,I=[],O=0;O<D;O++)I[O]=N.i(O)<<1|N.i(O-1)>>>31;return new l(I,N.h)}function ne(N,D){var I=D>>5;D%=32;for(var O=N.g.length-I,j=[],H=0;H<O;H++)j[H]=0<D?N.i(H+I)>>>D|N.i(H+I+1)<<32-D:N.i(H+I);return new l(j,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,uD=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,na=l}).apply(typeof _S<"u"?_S:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hD,Mu,dD,qf,Bv,fD,gD,pD;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,E,A){return g==Array.prototype||g==Object.prototype||(g[E]=A.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var E=0;E<g.length;++E){var A=g[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var i=t(this);function r(g,E){if(E)e:{var A=i;g=g.split(".");for(var k=0;k<g.length-1;k++){var G=g[k];if(!(G in A))break e;A=A[G]}g=g[g.length-1],k=A[g],E=E(k),E!=k&&E!=null&&e(A,g,{configurable:!0,writable:!0,value:E})}}function a(g,E){g instanceof String&&(g+="");var A=0,k=!1,G={next:function(){if(!k&&A<g.length){var X=A++;return{value:E(X,g[X]),done:!1}}return k=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}r("Array.prototype.values",function(g){return g||function(){return a(this,function(E,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(g){var E=typeof g;return E=E!="object"?E:g?Array.isArray(g)?"array":E:"null",E=="array"||E=="object"&&typeof g.length=="number"}function f(g){var E=typeof g;return E=="object"&&g!=null||E=="function"}function p(g,E,A){return g.call.apply(g.bind,arguments)}function v(g,E,A){if(!g)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,k),g.apply(E,G)}}return function(){return g.apply(E,arguments)}}function _(g,E,A){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,_.apply(null,arguments)}function b(g,E){var A=Array.prototype.slice.call(arguments,1);return function(){var k=A.slice();return k.push.apply(k,arguments),g.apply(this,k)}}function T(g,E){function A(){}A.prototype=E.prototype,g.aa=E.prototype,g.prototype=new A,g.prototype.constructor=g,g.Qb=function(k,G,X){for(var ce=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ce[qe-2]=arguments[qe];return E.prototype[G].apply(k,ce)}}function R(g){const E=g.length;if(0<E){const A=Array(E);for(let k=0;k<E;k++)A[k]=g[k];return A}return[]}function x(g,E){for(let A=1;A<arguments.length;A++){const k=arguments[A];if(h(k)){const G=g.length||0,X=k.length||0;g.length=G+X;for(let ce=0;ce<X;ce++)g[G+ce]=k[ce]}else g.push(k)}}class M{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function V(g){return/^[\s\xa0]*$/.test(g)}function z(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function $(g){return $[" "](g),g}$[" "]=function(){};var J=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ne(g,E,A){for(const k in g)E.call(A,g[k],k,g)}function N(g,E){for(const A in g)E.call(void 0,g[A],A,g)}function D(g){const E={};for(const A in g)E[A]=g[A];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(g,E){let A,k;for(let G=1;G<arguments.length;G++){k=arguments[G];for(A in k)g[A]=k[A];for(let X=0;X<I.length;X++)A=I[X],Object.prototype.hasOwnProperty.call(k,A)&&(g[A]=k[A])}}function j(g){var E=1;g=g.split(":");const A=[];for(;0<E&&g.length;)A.push(g.shift()),E--;return g.length&&A.push(g.join(":")),A}function H(g){u.setTimeout(()=>{throw g},0)}function P(){var g=Te;let E=null;return g.g&&(E=g.g,g.g=g.g.next,g.g||(g.h=null),E.next=null),E}class Ne{constructor(){this.h=this.g=null}add(E,A){const k=Ae.get();k.set(E,A),this.h?this.h.next=k:this.g=k,this.h=k}}var Ae=new M(()=>new oe,g=>g.reset());class oe{constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ge=!1,Te=new Ne,U=()=>{const g=u.Promise.resolve(void 0);de=()=>{g.then(le)}};var le=()=>{for(var g;g=P();){try{g.h.call(g.g)}catch(A){H(A)}var E=Ae;E.j(g),100>E.h&&(E.h++,g.next=E.g,E.g=g)}ge=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(g,E){this.type=g,this.g=this.target=E,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,E=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const A=()=>{};u.addEventListener("test",A,E),u.removeEventListener("test",A,E)}catch{}return g}();function Ce(g,E){if(he.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var A=this.type=g.type,k=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=E,E=g.relatedTarget){if(J){e:{try{$(E.nodeName);var G=!0;break e}catch{}G=!1}G||(E=null)}}else A=="mouseover"?E=g.fromElement:A=="mouseout"&&(E=g.toElement);this.relatedTarget=E,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ee[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ce.aa.h.call(this)}}T(Ce,he);var Ee={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function ft(g,E,A,k,G){this.listener=g,this.proxy=null,this.src=E,this.type=A,this.capture=!!k,this.ha=G,this.key=++Fe,this.da=this.fa=!1}function Je(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function an(g){this.src=g,this.g={},this.h=0}an.prototype.add=function(g,E,A,k,G){var X=g.toString();g=this.g[X],g||(g=this.g[X]=[],this.h++);var ce=De(g,E,k,G);return-1<ce?(E=g[ce],A||(E.fa=!1)):(E=new ft(E,this.src,X,!!k,G),E.fa=A,g.push(E)),E};function Ti(g,E){var A=E.type;if(A in g.g){var k=g.g[A],G=Array.prototype.indexOf.call(k,E,void 0),X;(X=0<=G)&&Array.prototype.splice.call(k,G,1),X&&(Je(E),g.g[A].length==0&&(delete g.g[A],g.h--))}}function De(g,E,A,k){for(var G=0;G<g.length;++G){var X=g[G];if(!X.da&&X.listener==E&&X.capture==!!A&&X.ha==k)return G}return-1}var pn="closure_lm_"+(1e6*Math.random()|0),St={};function mn(g,E,A,k,G){if(Array.isArray(E)){for(var X=0;X<E.length;X++)mn(g,E[X],A,k,G);return null}return A=Uh(A),g&&g[Ye]?g.K(E,A,f(k)?!!k.capture:!1,G):Bi(g,E,A,!1,k,G)}function Bi(g,E,A,k,G,X){if(!E)throw Error("Invalid event type");var ce=f(G)?!!G.capture:!!G,qe=pc(g);if(qe||(g[pn]=qe=new an(g)),A=qe.add(E,A,k,ce,X),A.proxy)return A;if(k=Vo(),A.proxy=k,k.src=g,k.listener=A,g.addEventListener)ue||(G=ce),G===void 0&&(G=!1),g.addEventListener(E.toString(),k,G);else if(g.attachEvent)g.attachEvent(Uo(E.toString()),k);else if(g.addListener&&g.removeListener)g.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Vo(){function g(A){return E.call(g.src,g.listener,A)}const E=Up;return g}function jo(g,E,A,k,G){if(Array.isArray(E))for(var X=0;X<E.length;X++)jo(g,E[X],A,k,G);else k=f(k)?!!k.capture:!!k,A=Uh(A),g&&g[Ye]?(g=g.i,E=String(E).toString(),E in g.g&&(X=g.g[E],A=De(X,A,k,G),-1<A&&(Je(X[A]),Array.prototype.splice.call(X,A,1),X.length==0&&(delete g.g[E],g.h--)))):g&&(g=pc(g))&&(E=g.g[E.toString()],g=-1,E&&(g=De(E,A,k,G)),(A=-1<g?E[g]:null)&&wa(A))}function wa(g){if(typeof g!="number"&&g&&!g.da){var E=g.src;if(E&&E[Ye])Ti(E.i,g);else{var A=g.type,k=g.proxy;E.removeEventListener?E.removeEventListener(A,k,g.capture):E.detachEvent?E.detachEvent(Uo(A),k):E.addListener&&E.removeListener&&E.removeListener(k),(A=pc(E))?(Ti(A,g),A.h==0&&(A.src=null,E[pn]=null)):Je(g)}}}function Uo(g){return g in St?St[g]:St[g]="on"+g}function Up(g,E){if(g.da)g=!0;else{E=new Ce(E,this);var A=g.listener,k=g.ha||g.src;g.fa&&wa(g),g=A.call(k,E)}return g}function pc(g){return g=g[pn],g instanceof an?g:null}var On="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uh(g){return typeof g=="function"?g:(g[On]||(g[On]=function(E){return g.handleEvent(E)}),g[On])}function zt(){pe.call(this),this.i=new an(this),this.M=this,this.F=null}T(zt,pe),zt.prototype[Ye]=!0,zt.prototype.removeEventListener=function(g,E,A,k){jo(this,g,E,A,k)};function Qt(g,E){var A,k=g.F;if(k)for(A=[];k;k=k.F)A.push(k);if(g=g.M,k=E.type||E,typeof E=="string")E=new he(E,g);else if(E instanceof he)E.target=E.target||g;else{var G=E;E=new he(k,g),O(E,G)}if(G=!0,A)for(var X=A.length-1;0<=X;X--){var ce=E.g=A[X];G=vr(ce,k,!0,E)&&G}if(ce=E.g=g,G=vr(ce,k,!0,E)&&G,G=vr(ce,k,!1,E)&&G,A)for(X=0;X<A.length;X++)ce=E.g=A[X],G=vr(ce,k,!1,E)&&G}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var g=this.i,E;for(E in g.g){for(var A=g.g[E],k=0;k<A.length;k++)Je(A[k]);delete g.g[E],g.h--}}this.F=null},zt.prototype.K=function(g,E,A,k){return this.i.add(String(g),E,!1,A,k)},zt.prototype.L=function(g,E,A,k){return this.i.add(String(g),E,!0,A,k)};function vr(g,E,A,k){if(E=g.i.g[String(E)],!E)return!0;E=E.concat();for(var G=!0,X=0;X<E.length;++X){var ce=E[X];if(ce&&!ce.da&&ce.capture==A){var qe=ce.listener,Bt=ce.ha||ce.src;ce.fa&&Ti(g.i,ce),G=qe.call(Bt,k)!==!1&&G}}return G&&!k.defaultPrevented}function zh(g,E,A){if(typeof g=="function")A&&(g=_(g,A));else if(g&&typeof g.handleEvent=="function")g=_(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(g,E||0)}function mc(g){g.g=zh(()=>{g.g=null,g.i&&(g.i=!1,mc(g))},g.l);const E=g.h;g.h=null,g.m.apply(null,E)}class zp extends pe{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:mc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(g){pe.call(this),this.h=g,this.g={}}T(Aa,pe);var ls=[];function yn(g){ne(g.g,function(E,A){this.g.hasOwnProperty(A)&&wa(E)},g),g.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),yn(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yc=u.JSON.stringify,Fi=u.JSON.parse,Rn=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function vc(){}vc.prototype.h=null;function Hh(g){return g.h||(g.h=g.i())}function Bh(){}var qi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cs(){he.call(this,"d")}T(cs,he);function xi(){he.call(this,"c")}T(xi,he);var ti={},us=null;function zo(){return us=us||new zt}ti.La="serverreachability";function _c(g){he.call(this,ti.La,g)}T(_c,he);function hs(g){const E=zo();Qt(E,new _c(E))}ti.STAT_EVENT="statevent";function Ho(g,E){he.call(this,ti.STAT_EVENT,g),this.stat=E}T(Ho,he);function Dt(g){const E=zo();Qt(E,new Ho(E,g))}ti.Ma="timingevent";function Fh(g,E){he.call(this,ti.Ma,g),this.size=E}T(Fh,he);function ds(g,E){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},E)}function fs(){this.g=!0}fs.prototype.xa=function(){this.g=!1};function qh(g,E,A,k,G,X){g.info(function(){if(g.g)if(X)for(var ce="",qe=X.split("&"),Bt=0;Bt<qe.length;Bt++){var We=qe[Bt].split("=");if(1<We.length){var Zt=We[0];We=We[1];var Ft=Zt.split("_");ce=2<=Ft.length&&Ft[1]=="type"?ce+(Zt+"="+We+"&"):ce+(Zt+"=redacted&")}}else ce=null;else ce=X;return"XMLHTTP REQ ("+k+") [attempt "+G+"]: "+E+`
`+A+`
`+ce})}function Wh(g,E,A,k,G,X,ce){g.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+G+"]: "+E+`
`+A+`
`+X+" "+ce})}function gs(g,E,A,k){g.info(function(){return"XMLHTTP TEXT ("+E+"): "+Kt(g,A)+(k?" "+k:"")})}function Wi(g,E){g.info(function(){return"TIMEOUT: "+E})}fs.prototype.info=function(){};function Kt(g,E){if(!g.g)return E;if(!E)return null;try{var A=JSON.parse(E);if(A){for(g=0;g<A.length;g++)if(Array.isArray(A[g])){var k=A[g];if(!(2>k.length)){var G=k[1];if(Array.isArray(G)&&!(1>G.length)){var X=G[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ce=1;ce<G.length;ce++)G[ce]=""}}}}return yc(A)}catch{return E}}var Ht={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_r={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sa;function Bo(){}T(Bo,vc),Bo.prototype.g=function(){return new XMLHttpRequest},Bo.prototype.i=function(){return{}},Sa=new Bo;function Gi(g,E,A,k){this.j=g,this.i=E,this.l=A,this.R=k||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bc}function bc(){this.i=null,this.g="",this.h=!1}var ps={},Ta={};function Ri(g,E,A){g.L=1,g.v=Ca(Tt(E)),g.m=A,g.P=!0,br(g,null)}function br(g,E){g.F=Date.now(),yt(g),g.A=Tt(g.v);var A=g.A,k=g.R;Array.isArray(k)||(k=[String(k)]),Ar(A.i,"t",k),g.C=0,A=g.j.J,g.h=new bc,g.g=sd(g.j,A?E:null,!g.m),0<g.O&&(g.M=new zp(_(g.Y,g,g.g),g.O)),E=g.U,A=g.g,k=g.ca;var G="readystatechange";Array.isArray(G)||(G&&(ls[0]=G.toString()),G=ls);for(var X=0;X<G.length;X++){var ce=mn(A,G[X],k||E.handleEvent,!1,E.h||E);if(!ce)break;E.g[ce.key]=ce}E=g.H?D(g.H):{},g.m?(g.u||(g.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,E)):(g.u="GET",g.g.ea(g.A,g.u,null,E)),hs(),qh(g.i,g.u,g.A,g.l,g.R,g.m)}Gi.prototype.ca=function(g){g=g.target;const E=this.M;E&&ai(g)==3?E.j():this.Y(g)},Gi.prototype.Y=function(g){try{if(g==this.g)e:{const Ft=ai(this.g);var E=this.g.Ba();const Rr=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||Xh(this.g)))){this.J||Ft!=4||E==7||(E==8||0>=Rr?hs(3):hs(2)),Fo(this);var A=this.g.Z();this.X=A;t:if(ms(this)){var k=Xh(this.g);g="";var G=k.length,X=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),qn(this);var ce="";break t}this.h.i=new u.TextDecoder}for(E=0;E<G;E++)this.h.h=!0,g+=this.h.i.decode(k[E],{stream:!(X&&E==G-1)});k.length=0,this.h.g+=g,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=A==200,Wh(this.i,this.u,this.A,this.l,this.R,Ft,A),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Bt=this.g;if((qe=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(qe)){var We=qe;break t}}We=null}if(A=We)gs(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wn(this,A);else{this.o=!1,this.s=3,Dt(12),Nn(this),qn(this);break e}}if(this.P){A=!0;let on;for(;!this.J&&this.C<ce.length;)if(on=ys(this,ce),on==Ta){Ft==4&&(this.s=4,Dt(14),A=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(on==ps){this.s=4,Dt(15),gs(this.i,this.l,ce,"[Invalid Chunk]"),A=!1;break}else gs(this.i,this.l,on,null),Wn(this,on);if(ms(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||ce.length!=0||this.h.h||(this.s=1,Dt(16),A=!1),this.o=this.o&&A,!A)gs(this.i,this.l,ce,"[Invalid Chunked Response]"),Nn(this),qn(this);else if(0<ce.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Pa(Zt),Zt.M=!0,Dt(11))}}else gs(this.i,this.l,ce,null),Wn(this,ce);Ft==4&&Nn(this),this.o&&!this.J&&(Ft==4?nd(this.j,this):(this.o=!1,yt(this)))}else Gp(this.g),A==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Nn(this),qn(this)}}}catch{}finally{}};function ms(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function ys(g,E){var A=g.C,k=E.indexOf(`
`,A);return k==-1?Ta:(A=Number(E.substring(A,k)),isNaN(A)?ps:(k+=1,k+A>E.length?Ta:(E=E.slice(k,k+A),g.C=k+A,E)))}Gi.prototype.cancel=function(){this.J=!0,Nn(this)};function yt(g){g.S=Date.now()+g.I,Ec(g,g.I)}function Ec(g,E){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ds(_(g.ba,g),E)}function Fo(g){g.B&&(u.clearTimeout(g.B),g.B=null)}Gi.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Wi(this.i,this.A),this.L!=2&&(hs(),Dt(17)),Nn(this),this.s=2,qn(this)):Ec(this,this.S-g)};function qn(g){g.j.G==0||g.J||nd(g.j,g)}function Nn(g){Fo(g);var E=g.M;E&&typeof E.ma=="function"&&E.ma(),g.M=null,yn(g.U),g.g&&(E=g.g,g.g=null,E.abort(),E.ma())}function Wn(g,E){try{var A=g.j;if(A.G!=0&&(A.g==g||vs(A.h,g))){if(!g.K&&vs(A.h,g)&&A.G==3){try{var k=A.Da.g.parse(E)}catch{k=null}if(Array.isArray(k)&&k.length==3){var G=k;if(G[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<g.F)Jo(A),Xo(A);else break e;Mc(A),Dt(18)}}else A.za=G[1],0<A.za-A.T&&37500>G[2]&&A.F&&A.v==0&&!A.C&&(A.C=ds(_(A.Za,A),6e3));if(1>=Gh(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else xr(A,11)}else if((g.K||A.g==g)&&Jo(A),!V(E))for(G=A.Da.g.parse(E),E=0;E<G.length;E++){let We=G[E];if(A.T=We[0],We=We[1],A.G==2)if(We[0]=="c"){A.K=We[1],A.ia=We[2];const Zt=We[3];Zt!=null&&(A.la=Zt,A.j.info("VER="+A.la));const Ft=We[4];Ft!=null&&(A.Aa=Ft,A.j.info("SVER="+A.Aa));const Rr=We[5];Rr!=null&&typeof Rr=="number"&&0<Rr&&(k=1.5*Rr,A.L=k,A.j.info("backChannelRequestTimeoutMs_="+k)),k=A;const on=g.g;if(on){const Ji=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ji){var X=k.h;X.g||Ji.indexOf("spdy")==-1&&Ji.indexOf("quic")==-1&&Ji.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(_s(X,X.h),X.h=null))}if(k.D){const Nc=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Nc&&(k.ya=Nc,Qe(k.I,k.D,Nc))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-g.F,A.j.info("Handshake RTT: "+A.R+"ms")),k=A;var ce=g;if(k.qa=rd(k,k.J?k.ia:null,k.W),ce.K){ni(k.h,ce);var qe=ce,Bt=k.L;Bt&&(qe.I=Bt),qe.B&&(Fo(qe),yt(qe)),k.g=ce}else ed(k);0<A.i.length&&Zo(A)}else We[0]!="stop"&&We[0]!="close"||xr(A,7);else A.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?xr(A,7):Ic(A):We[0]!="noop"&&A.l&&A.l.ta(We),A.v=0)}}hs(4)}catch{}}var Hp=class{constructor(g,E){this.g=g,this.map=E}};function wc(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ac(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Gh(g){return g.h?1:g.g?g.g.size:0}function vs(g,E){return g.h?g.h==E:g.g?g.g.has(E):!1}function _s(g,E){g.g?g.g.add(E):g.h=E}function ni(g,E){g.h&&g.h==E?g.h=null:g.g&&g.g.has(E)&&g.g.delete(E)}wc.prototype.cancel=function(){if(this.i=Cn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Cn(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let E=g.i;for(const A of g.g.values())E=E.concat(A.D);return E}return R(g.i)}function $h(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var E=[],A=g.length,k=0;k<A;k++)E.push(g[k]);return E}E=[],A=0;for(k in g)E[A++]=g[k];return E}function Bp(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var E=[];g=g.length;for(var A=0;A<g;A++)E.push(A);return E}E=[],A=0;for(const k in g)E[A++]=k;return E}}}function xa(g,E){if(g.forEach&&typeof g.forEach=="function")g.forEach(E,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,E,void 0);else for(var A=Bp(g),k=$h(g),G=k.length,X=0;X<G;X++)E.call(void 0,k[X],A&&A[X],g)}var Sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qo(g,E){if(g){g=g.split("&");for(var A=0;A<g.length;A++){var k=g[A].indexOf("="),G=null;if(0<=k){var X=g[A].substring(0,k);G=g[A].substring(k+1)}else X=g[A];E(X,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Er(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Er){this.h=g.h,bs(this,g.j),this.o=g.o,this.g=g.g,Ra(this,g.s),this.l=g.l;var E=g.i,A=new $i;A.i=E.i,E.g&&(A.g=new Map(E.g),A.h=E.h),Wo(this,A),this.m=g.m}else g&&(E=String(g).match(Sc))?(this.h=!1,bs(this,E[1]||"",!0),this.o=Es(E[2]||""),this.g=Es(E[3]||"",!0),Ra(this,E[4]),this.l=Es(E[5]||"",!0),Wo(this,E[6]||"",!0),this.m=Es(E[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}Er.prototype.toString=function(){var g=[],E=this.j;E&&g.push(ii(E,Tc,!0),":");var A=this.g;return(A||E=="file")&&(g.push("//"),(E=this.o)&&g.push(ii(E,Tc,!0),"@"),g.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&g.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&g.push("/"),g.push(ii(A,A.charAt(0)=="/"?xc:Yh,!0))),(A=this.i.toString())&&g.push("?",A),(A=this.m)&&g.push("#",ii(A,Wp)),g.join("")};function Tt(g){return new Er(g)}function bs(g,E,A){g.j=A?Es(E,!0):E,g.j&&(g.j=g.j.replace(/:$/,""))}function Ra(g,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);g.s=E}else g.s=null}function Wo(g,E,A){E instanceof $i?(g.i=E,Rc(g.i,g.h)):(A||(E=ii(E,qp)),g.i=new $i(E,g.h))}function Qe(g,E,A){g.i.set(E,A)}function Ca(g){return Qe(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Es(g,E){return g?E?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ii(g,E,A){return typeof g=="string"?(g=encodeURI(g).replace(E,Fp),A&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Fp(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Tc=/[#\/\?@]/g,Yh=/[#\?:]/g,xc=/[#\?]/g,qp=/[#\?@]/g,Wp=/#/g;function $i(g,E){this.h=this.g=null,this.i=g||null,this.j=!!E}function ri(g){g.g||(g.g=new Map,g.h=0,g.i&&qo(g.i,function(E,A){g.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}n=$i.prototype,n.add=function(g,E){ri(this),this.i=null,g=Sr(this,g);var A=this.g.get(g);return A||this.g.set(g,A=[]),A.push(E),this.h+=1,this};function Go(g,E){ri(g),E=Sr(g,E),g.g.has(E)&&(g.i=null,g.h-=g.g.get(E).length,g.g.delete(E))}function wr(g,E){return ri(g),E=Sr(g,E),g.g.has(E)}n.forEach=function(g,E){ri(this),this.g.forEach(function(A,k){A.forEach(function(G){g.call(E,G,k,this)},this)},this)},n.na=function(){ri(this);const g=Array.from(this.g.values()),E=Array.from(this.g.keys()),A=[];for(let k=0;k<E.length;k++){const G=g[k];for(let X=0;X<G.length;X++)A.push(E[k])}return A},n.V=function(g){ri(this);let E=[];if(typeof g=="string")wr(this,g)&&(E=E.concat(this.g.get(Sr(this,g))));else{g=Array.from(this.g.values());for(let A=0;A<g.length;A++)E=E.concat(g[A])}return E},n.set=function(g,E){return ri(this),this.i=null,g=Sr(this,g),wr(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[E]),this.h+=1,this},n.get=function(g,E){return g?(g=this.V(g),0<g.length?String(g[0]):E):E};function Ar(g,E,A){Go(g,E),0<A.length&&(g.i=null,g.g.set(Sr(g,E),R(A)),g.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],E=Array.from(this.g.keys());for(var A=0;A<E.length;A++){var k=E[A];const X=encodeURIComponent(String(k)),ce=this.V(k);for(k=0;k<ce.length;k++){var G=X;ce[k]!==""&&(G+="="+encodeURIComponent(String(ce[k]))),g.push(G)}}return this.i=g.join("&")};function Sr(g,E){return E=String(E),g.j&&(E=E.toLowerCase()),E}function Rc(g,E){E&&!g.j&&(ri(g),g.i=null,g.g.forEach(function(A,k){var G=k.toLowerCase();k!=G&&(Go(this,k),Ar(this,G,A))},g)),g.j=E}function Qh(g,E){const A=new fs;if(u.Image){const k=new Image;k.onload=b(si,A,"TestLoadImage: loaded",!0,E,k),k.onerror=b(si,A,"TestLoadImage: error",!1,E,k),k.onabort=b(si,A,"TestLoadImage: abort",!1,E,k),k.ontimeout=b(si,A,"TestLoadImage: timeout",!1,E,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=g}else E(!1)}function Da(g,E){const A=new fs,k=new AbortController,G=setTimeout(()=>{k.abort(),si(A,"TestPingServer: timeout",!1,E)},1e4);fetch(g,{signal:k.signal}).then(X=>{clearTimeout(G),X.ok?si(A,"TestPingServer: ok",!0,E):si(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(G),si(A,"TestPingServer: error",!1,E)})}function si(g,E,A,k,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),k(A)}catch{}}function Ia(){this.g=new Rn}function Yi(g,E,A){const k=A||"";try{xa(g,function(G,X){let ce=G;f(G)&&(ce=yc(G)),E.push(k+X+"="+encodeURIComponent(ce))})}catch(G){throw E.push(k+"type="+encodeURIComponent("_badmap")),G}}function ws(g){this.l=g.Ub||null,this.j=g.eb||!1}T(ws,vc),ws.prototype.g=function(){return new Tr(this.l,this.j)},ws.prototype.i=function(g){return function(){return g}}({});function Tr(g,E){zt.call(this),this.D=g,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Tr,zt),n=Tr.prototype,n.open=function(g,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=E,this.readyState=1,Ki(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(E.body=g),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qi(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cc(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cc(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var E=g.value?g.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!g.done}))&&(this.response=this.responseText+=E)}g.done?Qi(this):Ki(this),this.readyState==3&&Cc(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Qi(this))},n.Qa=function(g){this.g&&(this.response=g,Qi(this))},n.ga=function(){this.g&&Qi(this)};function Qi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ki(g)}n.setRequestHeader=function(g,E){this.u.append(g,E)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,g.push(A[0]+": "+A[1]),A=E.next();return g.join(`\r
`)};function Ki(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Dc(g){let E="";return ne(g,function(A,k){E+=k,E+=":",E+=A,E+=`\r
`}),E}function Xt(g,E,A){e:{for(k in A){var k=!1;break e}k=!0}k||(A=Dc(A),typeof g=="string"?A!=null&&encodeURIComponent(String(A)):Qe(g,E,A))}function nt(g){zt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(nt,zt);var $o=/^https?$/i,ka=["POST","PUT"];n=nt.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,E,A,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);E=E?E.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sa.g(),this.v=this.o?Hh(this.o):Hh(Sa),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(E,String(g),!0),this.B=!1}catch(X){Kh(this,X);return}if(g=A||"",A=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var G in k)A.set(G,k[G]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const X of k.keys())A.set(X,k.get(X));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(A.keys()).find(X=>X.toLowerCase()=="content-type"),G=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ka,E,void 0))||k||G||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of A)this.g.setRequestHeader(X,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ma(this),this.u=!0,this.g.send(g),this.u=!1}catch(X){Kh(this,X)}};function Kh(g,E){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=E,g.m=5,Yo(g),Xi(g)}function Yo(g){g.A||(g.A=!0,Qt(g,"complete"),Qt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Qt(this,"complete"),Qt(this,"abort"),Xi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qo(this):this.bb())},n.bb=function(){Qo(this)};function Qo(g){if(g.h&&typeof l<"u"&&(!g.v[1]||ai(g)!=4||g.Z()!=2)){if(g.u&&ai(g)==4)zh(g.Ea,0,g);else if(Qt(g,"readystatechange"),ai(g)==4){g.h=!1;try{const ce=g.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var A;if(!(A=E)){var k;if(k=ce===0){var G=String(g.D).match(Sc)[1]||null;!G&&u.self&&u.self.location&&(G=u.self.location.protocol.slice(0,-1)),k=!$o.test(G?G.toLowerCase():"")}A=k}if(A)Qt(g,"complete"),Qt(g,"success");else{g.m=6;try{var X=2<ai(g)?g.g.statusText:""}catch{X=""}g.l=X+" ["+g.Z()+"]",Yo(g)}}finally{Xi(g)}}}}function Xi(g,E){if(g.g){Ma(g);const A=g.g,k=g.v[0]?()=>{}:null;g.g=null,g.v=null,E||Qt(g,"ready");try{A.onreadystatechange=k}catch{}}}function Ma(g){g.I&&(u.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function ai(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var E=this.g.responseText;return g&&E.indexOf(g)==0&&(E=E.substring(g.length)),Fi(E)}};function Xh(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Gp(g){const E={};g=(g.g&&2<=ai(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<g.length;k++){if(V(g[k]))continue;var A=j(g[k]);const G=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const X=E[G]||[];E[G]=X,X.push(A)}N(E,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oa(g,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[g]||E}function Ko(g){this.Aa=0,this.i=[],this.j=new fs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oa("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oa("baseRetryDelayMs",5e3,g),this.cb=Oa("retryDelaySeedMs",1e4,g),this.Wa=Oa("forwardChannelMaxRetries",2,g),this.wa=Oa("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new wc(g&&g.concurrentRequestLimit),this.Da=new Ia,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ko.prototype,n.la=8,n.G=1,n.connect=function(g,E,A,k){Dt(0),this.W=g,this.H=E||{},A&&k!==void 0&&(this.H.OSID=A,this.H.OAID=k),this.F=this.X,this.I=rd(this,null,this.W),Zo(this)};function Ic(g){if(Zh(g),g.G==3){var E=g.U++,A=Tt(g.I);if(Qe(A,"SID",g.K),Qe(A,"RID",E),Qe(A,"TYPE","terminate"),Na(g,A),E=new Gi(g,g.j,E),E.L=2,E.v=Ca(Tt(A)),A=!1,u.navigator&&u.navigator.sendBeacon)try{A=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!A&&u.Image&&(new Image().src=E.v,A=!0),A||(E.g=sd(E.j,null),E.g.ea(E.v)),E.F=Date.now(),yt(E)}id(g)}function Xo(g){g.g&&(Pa(g),g.g.cancel(),g.g=null)}function Zh(g){Xo(g),g.u&&(u.clearTimeout(g.u),g.u=null),Jo(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function Zo(g){if(!Ac(g.h)&&!g.s){g.s=!0;var E=g.Ga;de||U(),ge||(de(),ge=!0),Te.add(E,g),g.B=0}}function $p(g,E){return Gh(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=E.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ds(_(g.Ga,g,E),Oc(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const G=new Gi(this,this.j,g);let X=this.o;if(this.S&&(X?(X=D(X),O(X,this.S)):X=this.S),this.m!==null||this.O||(G.H=X,X=null),this.P)e:{for(var E=0,A=0;A<this.i.length;A++){t:{var k=this.i[A];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(E+=k,4096<E){E=A;break e}if(E===4096||A===this.i.length-1){E=A+1;break e}}E=1e3}else E=1e3;E=Jh(this,G,E),A=Tt(this.I),Qe(A,"RID",g),Qe(A,"CVER",22),this.D&&Qe(A,"X-HTTP-Session-Id",this.D),Na(this,A),X&&(this.O?E="headers="+encodeURIComponent(String(Dc(X)))+"&"+E:this.m&&Xt(A,this.m,X)),_s(this.h,G),this.Ua&&Qe(A,"TYPE","init"),this.P?(Qe(A,"$req",E),Qe(A,"SID","null"),G.T=!0,Ri(G,A,null)):Ri(G,A,E),this.G=2}}else this.G==3&&(g?kc(this,g):this.i.length==0||Ac(this.h)||kc(this))};function kc(g,E){var A;E?A=E.l:A=g.U++;const k=Tt(g.I);Qe(k,"SID",g.K),Qe(k,"RID",A),Qe(k,"AID",g.T),Na(g,k),g.m&&g.o&&Xt(k,g.m,g.o),A=new Gi(g,g.j,A,g.B+1),g.m===null&&(A.H=g.o),E&&(g.i=E.D.concat(g.i)),E=Jh(g,A,1e3),A.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),_s(g.h,A),Ri(A,k,E)}function Na(g,E){g.H&&ne(g.H,function(A,k){Qe(E,k,A)}),g.l&&xa({},function(A,k){Qe(E,k,A)})}function Jh(g,E,A){A=Math.min(g.i.length,A);var k=g.l?_(g.l.Na,g.l,g):null;e:{var G=g.i;let X=-1;for(;;){const ce=["count="+A];X==-1?0<A?(X=G[0].g,ce.push("ofs="+X)):X=0:ce.push("ofs="+X);let qe=!0;for(let Bt=0;Bt<A;Bt++){let We=G[Bt].g;const Zt=G[Bt].map;if(We-=X,0>We)X=Math.max(0,G[Bt].g-100),qe=!1;else try{Yi(Zt,ce,"req"+We+"_")}catch{k&&k(Zt)}}if(qe){k=ce.join("&");break e}}}return g=g.i.splice(0,A),E.D=g,k}function ed(g){if(!g.g&&!g.u){g.Y=1;var E=g.Fa;de||U(),ge||(de(),ge=!0),Te.add(E,g),g.v=0}}function Mc(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ds(_(g.Fa,g),Oc(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,td(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ds(_(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Xo(this),td(this))};function Pa(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function td(g){g.g=new Gi(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var E=Tt(g.qa);Qe(E,"RID","rpc"),Qe(E,"SID",g.K),Qe(E,"AID",g.T),Qe(E,"CI",g.F?"0":"1"),!g.F&&g.ja&&Qe(E,"TO",g.ja),Qe(E,"TYPE","xmlhttp"),Na(g,E),g.m&&g.o&&Xt(E,g.m,g.o),g.L&&(g.g.I=g.L);var A=g.g;g=g.ia,A.L=1,A.v=Ca(Tt(E)),A.m=null,A.P=!0,br(A,g)}n.Za=function(){this.C!=null&&(this.C=null,Xo(this),Mc(this),Dt(19))};function Jo(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function nd(g,E){var A=null;if(g.g==E){Jo(g),Pa(g),g.g=null;var k=2}else if(vs(g.h,E))A=E.D,ni(g.h,E),k=1;else return;if(g.G!=0){if(E.o)if(k==1){A=E.m?E.m.length:0,E=Date.now()-E.F;var G=g.B;k=zo(),Qt(k,new Fh(k,A)),Zo(g)}else ed(g);else if(G=E.s,G==3||G==0&&0<E.X||!(k==1&&$p(g,E)||k==2&&Mc(g)))switch(A&&0<A.length&&(E=g.h,E.i=E.i.concat(A)),G){case 1:xr(g,5);break;case 4:xr(g,10);break;case 3:xr(g,6);break;default:xr(g,2)}}}function Oc(g,E){let A=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(A*=2),A*E}function xr(g,E){if(g.j.info("Error code "+E),E==2){var A=_(g.fb,g),k=g.Xa;const G=!k;k=new Er(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||bs(k,"https"),Ca(k),G?Qh(k.toString(),A):Da(k.toString(),A)}else Dt(2);g.G=0,g.l&&g.l.sa(E),id(g),Zh(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function id(g){if(g.G=0,g.ka=[],g.l){const E=Cn(g.h);(E.length!=0||g.i.length!=0)&&(x(g.ka,E),x(g.ka,g.i),g.h.i.length=0,R(g.i),g.i.length=0),g.l.ra()}}function rd(g,E,A){var k=A instanceof Er?Tt(A):new Er(A);if(k.g!="")E&&(k.g=E+"."+k.g),Ra(k,k.s);else{var G=u.location;k=G.protocol,E=E?E+"."+G.hostname:G.hostname,G=+G.port;var X=new Er(null);k&&bs(X,k),E&&(X.g=E),G&&Ra(X,G),A&&(X.l=A),k=X}return A=g.D,E=g.ya,A&&E&&Qe(k,A,E),Qe(k,"VER",g.la),Na(g,k),k}function sd(g,E,A){if(E&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=g.Ca&&!g.pa?new nt(new ws({eb:A})):new nt(g.pa),E.Ha(g.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ad(){}n=ad.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function el(){}el.prototype.g=function(g,E){return new Dn(g,E)};function Dn(g,E){zt.call(this),this.g=new Ko(E),this.l=g,this.h=E&&E.messageUrlParams||null,g=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(g?g["X-WebChannel-Content-Type"]=E.messageContentType:g={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(g?g["X-WebChannel-Client-Profile"]=E.va:g={"X-WebChannel-Client-Profile":E.va}),this.g.S=g,(g=E&&E.Sb)&&!V(g)&&(this.g.m=g),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!V(E)&&(this.g.D=E,g=this.h,g!==null&&E in g&&(g=this.h,E in g&&delete g[E])),this.j=new Zi(this)}T(Dn,zt),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){Ic(this.g)},Dn.prototype.o=function(g){var E=this.g;if(typeof g=="string"){var A={};A.__data__=g,g=A}else this.u&&(A={},A.__data__=yc(g),g=A);E.i.push(new Hp(E.Ya++,g)),E.G==3&&Zo(E)},Dn.prototype.N=function(){this.g.l=null,delete this.j,Ic(this.g),delete this.g,Dn.aa.N.call(this)};function od(g){cs.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var E=g.__sm__;if(E){e:{for(const A in E){g=A;break e}g=void 0}(this.i=g)&&(g=this.i,E=E!==null&&g in E?E[g]:void 0),this.data=E}else this.data=g}T(od,cs);function ld(){xi.call(this),this.status=1}T(ld,xi);function Zi(g){this.g=g}T(Zi,ad),Zi.prototype.ua=function(){Qt(this.g,"a")},Zi.prototype.ta=function(g){Qt(this.g,new od(g))},Zi.prototype.sa=function(g){Qt(this.g,new ld)},Zi.prototype.ra=function(){Qt(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,pD=function(){return new el},gD=function(){return zo()},fD=ti,Bv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ht.NO_ERROR=0,Ht.TIMEOUT=8,Ht.HTTP_ERROR=6,qf=Ht,_r.COMPLETE="complete",dD=_r,Bh.EventType=qi,qi.OPEN="a",qi.CLOSE="b",qi.ERROR="c",qi.MESSAGE="d",zt.prototype.listen=zt.prototype.K,Mu=Bh,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,hD=nt}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const bS="@firebase/firestore",ES="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new np("@firebase/firestore");function Dl(){return bo.logLevel}function fe(n,...e){if(bo.logLevel<=Ue.DEBUG){const t=e.map(K_);bo.debug(`Firestore (${ac}): ${n}`,...t)}}function ts(n,...e){if(bo.logLevel<=Ue.ERROR){const t=e.map(K_);bo.error(`Firestore (${ac}): ${n}`,...t)}}function Wl(n,...e){if(bo.logLevel<=Ue.WARN){const t=e.map(K_);bo.warn(`Firestore (${ac}): ${n}`,...t)}}function K_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n="Unexpected state"){const e=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: `+n;throw ts(e),new Error(e)}function it(n,e){n||Re()}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends zi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(En.UNAUTHENTICATED))}shutdown(){}}class WU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class GU{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0);let i=this.i;const r=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let a=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ia,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},u=h=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ia)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string"),new mD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new En(e)}}class $U{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=En.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class YU{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new $U(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QU{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){it(this.o===void 0);const i=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?r(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new wS(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it(typeof t.token=="string"),this.R=t.token,new wS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=KU(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function Be(n,e){return n<e?-1:n>e?1:0}function Gl(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=-62135596800,SS=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*SS);return new $t(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<AS)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SS}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-AS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new $t(0,0))}static max(){return new Ie(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="__name__";class lr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(),i===void 0?i=e.length-t:i>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return lr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=lr.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=lr.isNumericId(e),r=lr.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?lr.extractNumericId(e).compare(lr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return na.fromString(e.substring(4,e.length-2))}}class dt extends lr{construct(e,t,i){return new dt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new dt(t)}static emptyPath(){return new dt([])}}const XU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends lr{construct(e,t,i){return new dn(e,t,i)}static isValidIdentifier(e){return XU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TS}static keyField(){return new dn([TS])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(a(),r++)}if(a(),l)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(t)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(dt.fromString(e))}static fromName(e){return new be(dt.fromString(e).popFirst(5))}static empty(){return new be(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=-1;function ZU(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ie.fromTimestamp(i===1e9?new $t(t+1,0):new $t(t,i));return new la(r,be.empty(),e)}function JU(n){return new la(n.readTime,n.key,oh)}class la{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new la(Ie.min(),be.empty(),oh)}static max(){return new la(Ie.max(),be.empty(),oh)}}function ez(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==tz)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,i)=>{t(e)})}static reject(e){return new re((t,i)=>{i(e)})}static waitFor(e){return new re((t,i)=>{let r=0,a=0,l=!1;e.forEach(u=>{++r,u.next(()=>{++a,l&&a===r&&t()},h=>i(h))}),l=!0,a===r&&t()})}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next(r=>r?re.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new re((i,r)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const f=h;t(e[f]).next(p=>{l[f]=p,++u,u===a&&i(l)},p=>r(p))}})}static doWhile(e,t){return new re((i,r)=>{const a=()=>{e()===!0?t().next(()=>{a()},r):i()};a()})}}function iz(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function lc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}lp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-1;function cp(n){return n==null}function pg(n){return n===0&&1/n==-1/0}function rz(n){return typeof n=="number"&&Number.isInteger(n)&&!pg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="";function sz(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xS(e)),e=az(n.get(t),e);return xS(e)}function az(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case vD:t+="";break;default:t+=a}}return t}function xS(n){return n+vD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function va(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _D(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.comparator=e,this.root=t||hn.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??hn.RED,this.left=r??hn.EMPTY,this.right=a??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new hn(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return hn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,i,r,a){return this}insert(e,t,i){return new hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CS(this.data.getIterator())}getIteratorFrom(e){return new CS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yt(this.comparator);return t.data=e,t}}class CS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new Yt(dn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new bD("Invalid base64 string: "+a):a}}(e);return new gn(t)}static fromUint8Array(e){const t=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(e);return new gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const oz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(n){if(it(!!n),typeof n=="string"){let e=0;const t=oz.exec(n);if(it(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kt(n.seconds),nanos:kt(n.nanos)}}function kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ua(n){return typeof n=="string"?gn.fromBase64String(n):gn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="server_timestamp",wD="__type__",AD="__previous_value__",SD="__local_write_time__";function Z_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[wD])===null||t===void 0?void 0:t.stringValue)===ED}function up(n){const e=n.mapValue.fields[AD];return Z_(e)?up(e):e}function lh(n){const e=ca(n.mapValue.fields[SD].timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,t,i,r,a,l,u,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f}}const mg="(default)";class ch{constructor(e,t){this.projectId=e,this.database=t||mg}static empty(){return new ch("","")}get isDefaultDatabase(){return this.database===mg}isEqual(e){return e instanceof ch&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="__type__",cz="__max__",hf={mapValue:{}},xD="__vector__",yg="value";function ha(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Z_(n)?4:hz(n)?9007199254740991:uz(n)?10:11:Re()}function pr(n,e){if(n===e)return!0;const t=ha(n);if(t!==ha(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lh(n).isEqual(lh(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=ca(r.timestampValue),u=ca(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,a){return ua(r.bytesValue).isEqual(ua(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return kt(r.geoPointValue.latitude)===kt(a.geoPointValue.latitude)&&kt(r.geoPointValue.longitude)===kt(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return kt(r.integerValue)===kt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=kt(r.doubleValue),u=kt(a.doubleValue);return l===u?pg(l)===pg(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Gl(n.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(r,a){const l=r.mapValue.fields||{},u=a.mapValue.fields||{};if(RS(l)!==RS(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!pr(l[h],u[h])))return!1;return!0}(n,e);default:return Re()}}function uh(n,e){return(n.values||[]).find(t=>pr(t,e))!==void 0}function $l(n,e){if(n===e)return 0;const t=ha(n),i=ha(e);if(t!==i)return Be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=kt(a.integerValue||a.doubleValue),h=kt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return DS(n.timestampValue,e.timestampValue);case 4:return DS(lh(n),lh(e));case 5:return Be(n.stringValue,e.stringValue);case 6:return function(a,l){const u=ua(a),h=ua(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const p=Be(u[f],h[f]);if(p!==0)return p}return Be(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=Be(kt(a.latitude),kt(l.latitude));return u!==0?u:Be(kt(a.longitude),kt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return IS(n.arrayValue,e.arrayValue);case 10:return function(a,l){var u,h,f,p;const v=a.fields||{},_=l.fields||{},b=(u=v[yg])===null||u===void 0?void 0:u.arrayValue,T=(h=_[yg])===null||h===void 0?void 0:h.arrayValue,R=Be(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0);return R!==0?R:IS(b,T)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===hf.mapValue&&l===hf.mapValue)return 0;if(a===hf.mapValue)return 1;if(l===hf.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const _=Be(h[v],p[v]);if(_!==0)return _;const b=$l(u[h[v]],f[p[v]]);if(b!==0)return b}return Be(h.length,p.length)}(n.mapValue,e.mapValue);default:throw Re()}}function DS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=ca(n),i=ca(e),r=Be(t.seconds,i.seconds);return r!==0?r:Be(t.nanos,i.nanos)}function IS(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=$l(t[r],i[r]);if(a)return a}return Be(t.length,i.length)}function Yl(n){return Fv(n)}function Fv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ca(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ua(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=Fv(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const l of i)a?a=!1:r+=",",r+=`${l}:${Fv(t.fields[l])}`;return r+"}"}(n.mapValue):Re()}function Wf(n){switch(ha(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=up(n);return e?16+Wf(e):16;case 5:return 2*n.stringValue.length;case 6:return ua(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,a)=>r+Wf(a),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return va(i.fields,(a,l)=>{r+=a.length+Wf(l)}),r}(n.mapValue);default:throw Re()}}function kS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qv(n){return!!n&&"integerValue"in n}function J_(n){return!!n&&"arrayValue"in n}function MS(n){return!!n&&"nullValue"in n}function OS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gf(n){return!!n&&"mapValue"in n}function uz(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[TD])===null||t===void 0?void 0:t.stringValue)===xD}function Fu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return va(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Fu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hz(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Gf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fu(t)}setAll(e){let t=dn.emptyPath(),i={},r=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,i,r),i={},r=[],t=u.popLast()}l?i[u.lastSegment()]=Fu(l):r.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Gf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Gf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){va(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new jn(Fu(this.value))}}function RD(n){const e=[];return va(n.fields,(t,i)=>{const r=new dn([t]);if(Gf(i)){const a=RD(i.mapValue).fields;if(a.length===0)e.push(r);else for(const l of a)e.push(r.child(l))}else e.push(r)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t,i,r,a,l,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new wn(e,0,Ie.min(),Ie.min(),Ie.min(),jn.empty(),0)}static newFoundDocument(e,t,i,r){return new wn(e,1,t,Ie.min(),i,r,0)}static newNoDocument(e,t){return new wn(e,2,t,Ie.min(),Ie.min(),jn.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,Ie.min(),Ie.min(),jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t){this.position=e,this.inclusive=t}}function NS(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],l=n.position[r];if(a.field.isKeyField()?i=be.comparator(be.fromName(l.referenceValue),t.key):i=$l(l,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function PS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t="asc"){this.field=e,this.dir=t}}function dz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{}class jt extends CD{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new gz(e,t,i):t==="array-contains"?new yz(e,i):t==="in"?new vz(e,i):t==="not-in"?new _z(e,i):t==="array-contains-any"?new bz(e,i):new jt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new pz(e,i):new mz(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison($l(t,this.value)):t!==null&&ha(this.value)===ha(t)&&this.matchesComparison($l(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends CD{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Li(e,t)}matches(e){return DD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function DD(n){return n.op==="and"}function ID(n){return fz(n)&&DD(n)}function fz(n){for(const e of n.filters)if(e instanceof Li)return!1;return!0}function Wv(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+Yl(n.value);if(ID(n))return n.filters.map(e=>Wv(e)).join(",");{const e=n.filters.map(t=>Wv(t)).join(",");return`${n.op}(${e})`}}function kD(n,e){return n instanceof jt?function(i,r){return r instanceof jt&&i.op===r.op&&i.field.isEqual(r.field)&&pr(i.value,r.value)}(n,e):n instanceof Li?function(i,r){return r instanceof Li&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((a,l,u)=>a&&kD(l,r.filters[u]),!0):!1}(n,e):void Re()}function MD(n){return n instanceof jt?function(t){return`${t.field.canonicalString()} ${t.op} ${Yl(t.value)}`}(n):n instanceof Li?function(t){return t.op.toString()+" {"+t.getFilters().map(MD).join(" ,")+"}"}(n):"Filter"}class gz extends jt{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class pz extends jt{constructor(e,t){super(e,"in",t),this.keys=OD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mz extends jt{constructor(e,t){super(e,"not-in",t),this.keys=OD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function OD(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>be.fromName(i.referenceValue))}class yz extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return J_(t)&&uh(t.arrayValue,this.value)}}class vz extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&uh(this.value.arrayValue,t)}}class _z extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!uh(this.value.arrayValue,t)}}class bz extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!J_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>uh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,t=null,i=[],r=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=l,this.endAt=u,this.le=null}}function LS(n,e=null,t=[],i=[],r=null,a=null,l=null){return new Ez(n,e,t,i,r,a,l)}function eb(n){const e=Me(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Wv(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),cp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Yl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Yl(i)).join(",")),e.le=t}return e.le}function tb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PS(n.startAt,e.startAt)&&PS(n.endAt,e.endAt)}function Gv(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t=null,i=[],r=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function wz(n,e,t,i,r,a,l,u){return new Ch(n,e,t,i,r,a,l,u)}function ND(n){return new Ch(n)}function VS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function PD(n){return n.collectionGroup!==null}function qu(n){const e=Me(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Yt(dn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new _g(a,i))}),t.has(dn.keyField().canonicalString())||e.he.push(new _g(dn.keyField(),i))}return e.he}function dr(n){const e=Me(n);return e.Pe||(e.Pe=Az(e,qu(n))),e.Pe}function Az(n,e){if(n.limitType==="F")return LS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new _g(r.field,a)});const t=n.endAt?new vg(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new vg(n.startAt.position,n.startAt.inclusive):null;return LS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function $v(n,e){const t=n.filters.concat([e]);return new Ch(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Yv(n,e,t){return new Ch(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hp(n,e){return tb(dr(n),dr(e))&&n.limitType===e.limitType}function LD(n){return`${eb(dr(n))}|lt:${n.limitType}`}function Il(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>MD(r)).join(", ")}]`),cp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Yl(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Yl(r)).join(",")),`Target(${i})`}(dr(n))}; limitType=${n.limitType})`}function dp(n,e){return e.isFoundDocument()&&function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):be.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,r){for(const a of qu(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(l,u,h){const f=NS(l,u,h);return l.inclusive?f<=0:f<0}(i.startAt,qu(i),r)||i.endAt&&!function(l,u,h){const f=NS(l,u,h);return l.inclusive?f>=0:f>0}(i.endAt,qu(i),r))}(n,e)}function Sz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function VD(n){return(e,t)=>{let i=!1;for(const r of qu(n)){const a=Tz(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function Tz(n,e,t){const i=n.field.isKeyField()?be.comparator(e.key,t.key):function(a,l,u){const h=l.data.field(a),f=u.data.field(a);return h!==null&&f!==null?$l(h,f):Re()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return _D(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=new wt(be.comparator);function ns(){return xz}const jD=new wt(be.comparator);function Ou(...n){let e=jD;for(const t of n)e=e.insert(t.key,t);return e}function UD(n){let e=jD;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function uo(){return Wu()}function zD(){return Wu()}function Wu(){return new Io(n=>n.toString(),(n,e)=>n.isEqual(e))}const Rz=new wt(be.comparator),Cz=new Yt(be.comparator);function ze(...n){let e=Cz;for(const t of n)e=e.add(t);return e}const Dz=new Yt(Be);function Iz(){return Dz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pg(e)?"-0":e}}function HD(n){return{integerValue:""+n}}function kz(n,e){return rz(e)?HD(e):nb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this._=void 0}}function Mz(n,e,t){return n instanceof bg?function(r,a){const l={fields:{[wD]:{stringValue:ED},[SD]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&Z_(a)&&(a=up(a)),a&&(l.fields[AD]=a),{mapValue:l}}(t,e):n instanceof hh?FD(n,e):n instanceof dh?qD(n,e):function(r,a){const l=BD(r,a),u=jS(l)+jS(r.Ie);return qv(l)&&qv(r.Ie)?HD(u):nb(r.serializer,u)}(n,e)}function Oz(n,e,t){return n instanceof hh?FD(n,e):n instanceof dh?qD(n,e):t}function BD(n,e){return n instanceof Eg?function(i){return qv(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class bg extends fp{}class hh extends fp{constructor(e){super(),this.elements=e}}function FD(n,e){const t=WD(e);for(const i of n.elements)t.some(r=>pr(r,i))||t.push(i);return{arrayValue:{values:t}}}class dh extends fp{constructor(e){super(),this.elements=e}}function qD(n,e){let t=WD(e);for(const i of n.elements)t=t.filter(r=>!pr(r,i));return{arrayValue:{values:t}}}class Eg extends fp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function jS(n){return kt(n.integerValue||n.doubleValue)}function WD(n){return J_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Nz(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof hh&&r instanceof hh||i instanceof dh&&r instanceof dh?Gl(i.elements,r.elements,pr):i instanceof Eg&&r instanceof Eg?pr(i.Ie,r.Ie):i instanceof bg&&r instanceof bg}(n.transform,e.transform)}class Pz{constructor(e,t){this.version=e,this.transformResults=t}}class wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $f(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class gp{}function GD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ib(n.key,wi.none()):new Dh(n.key,n.data,wi.none());{const t=n.data,i=jn.empty();let r=new Yt(dn.comparator);for(let a of e.fields)if(!r.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?i.delete(a):i.set(a,l),r=r.add(a)}return new _a(n.key,i,new Zn(r.toArray()),wi.none())}}function Lz(n,e,t){n instanceof Dh?function(r,a,l){const u=r.value.clone(),h=zS(r.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof _a?function(r,a,l){if(!$f(r.precondition,a))return void a.convertToUnknownDocument(l.version);const u=zS(r.fieldTransforms,a,l.transformResults),h=a.data;h.setAll($D(r)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(r,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Gu(n,e,t,i){return n instanceof Dh?function(a,l,u,h){if(!$f(a.precondition,l))return u;const f=a.value.clone(),p=HS(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof _a?function(a,l,u,h){if(!$f(a.precondition,l))return u;const f=HS(a.fieldTransforms,h,l),p=l.data;return p.setAll($D(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(a,l,u){return $f(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function Vz(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=BD(i.transform,r||null);a!=null&&(t===null&&(t=jn.empty()),t.set(i.field,a))}return t||null}function US(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Gl(i,r,(a,l)=>Nz(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dh extends gp{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _a extends gp{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function $D(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function zS(n,e,t){const i=new Map;it(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],l=a.transform,u=e.data.field(a.field);i.set(a.field,Oz(l,u,t[r]))}return i}function HS(n,e,t){const i=new Map;for(const r of n){const a=r.transform,l=t.data.field(r.field);i.set(r.field,Mz(a,l,e))}return i}class ib extends gp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jz extends gp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&Lz(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Gu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Gu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=zD();return this.mutations.forEach(r=>{const a=e.get(r.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(r.key)?null:u;const h=GD(l,u);h!==null&&i.set(r.key,h),l.isValidDocument()||l.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Gl(this.mutations,e.mutations,(t,i)=>US(t,i))&&Gl(this.baseMutations,e.baseMutations,(t,i)=>US(t,i))}}class rb{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){it(e.mutations.length===i.length);let r=function(){return Rz}();const a=e.mutations;for(let l=0;l<a.length;l++)r=r.insert(a[l].key,i[l].version);return new rb(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,$e;function Bz(n){switch(n){case se.OK:return Re();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Re()}}function YD(n){if(n===void 0)return ts("GRPC error has no .code"),se.UNKNOWN;switch(n){case Vt.OK:return se.OK;case Vt.CANCELLED:return se.CANCELLED;case Vt.UNKNOWN:return se.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return se.INTERNAL;case Vt.UNAVAILABLE:return se.UNAVAILABLE;case Vt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Vt.NOT_FOUND:return se.NOT_FOUND;case Vt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Vt.ABORTED:return se.ABORTED;case Vt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Vt.DATA_LOSS:return se.DATA_LOSS;default:return Re()}}($e=Vt||(Vt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz=new na([4294967295,4294967295],0);function BS(n){const e=Fz().encode(n),t=new uD;return t.update(e),new Uint8Array(t.digest())}function FS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new na([t,i],0),new na([r,a],0)]}class sb{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Nu(`Invalid padding: ${t}`);if(i<0)throw new Nu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Nu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Nu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=na.fromNumber(this.Ee)}Ae(e,t,i){let r=e.add(t.multiply(na.fromNumber(i)));return r.compare(qz)===1&&(r=new na([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=BS(e),[i,r]=FS(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,r,a);if(!this.Re(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new sb(a,r,t);return i.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=BS(e),[i,r]=FS(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,r,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Ih.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new pp(Ie.min(),r,new wt(Be),ns(),ze())}}class Ih{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ih(i,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t,i,r){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=r}}class QD{constructor(e,t){this.targetId=e,this.ge=t}}class KD{constructor(e,t,i=gn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class qS{constructor(){this.pe=0,this.ye=WS(),this.we=gn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ze(),t=ze(),i=ze();return this.ye.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Re()}}),new Ih(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=WS()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,it(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Wz{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ns(),this.$e=df(),this.Ke=df(),this.Ue=new wt(Be)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,r)=>{this.Je(r)&&t(r)})}Ze(e){const t=e.targetId,i=e.ge.count,r=this.Xe(t);if(r){const a=r.target;if(Gv(a))if(i===0){const l=new be(a.path);this.ze(t,l,wn.newNoDocument(l,Ie.min()))}else it(i===1);else{const l=this.et(t);if(l!==i){const u=this.tt(e),h=u?this.nt(u,e,l):1;if(h!==0){this.Ye(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let l,u;try{l=ua(i).toUint8Array()}catch(h){if(h instanceof bD)return Wl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new sb(l,r,a)}catch(h){return Wl(h instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Ee===0?null:u}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let r=0;return i.forEach(a=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,a,null),r++)}),r}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const u=this.Xe(l);if(u){if(a.current&&Gv(u.target)){const h=new be(u.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,wn.newNoDocument(h,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let i=ze();this.Ke.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.Xe(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const r=new pp(e,t,this.Ue,this.Qe,i);return this.Qe=ns(),this.$e=df(),this.Ke=df(),this.Ue=new wt(Be),r}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new qS,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Yt(Be),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Yt(Be),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new qS),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function df(){return new wt(be.comparator)}function WS(){return new wt(be.comparator)}const Gz={asc:"ASCENDING",desc:"DESCENDING"},$z={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yz={and:"AND",or:"OR"};class Qz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qv(n,e){return n.useProto3Json||cp(e)?e:{value:e}}function wg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Kz(n,e){return wg(n,e.toTimestamp())}function fr(n){return it(!!n),Ie.fromTimestamp(function(t){const i=ca(t);return new $t(i.seconds,i.nanos)}(n))}function ab(n,e){return Kv(n,e).canonicalString()}function Kv(n,e){const t=function(r){return new dt(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ZD(n){const e=dt.fromString(n);return it(iI(e)),e}function Xv(n,e){return ab(n.databaseId,e.path)}function tv(n,e){const t=ZD(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(eI(t))}function JD(n,e){return ab(n.databaseId,e)}function Xz(n){const e=ZD(n);return e.length===4?dt.emptyPath():eI(e)}function Zv(n){return new dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eI(n){return it(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function GS(n,e,t){return{name:Xv(n,e),fields:t.value.mapValue.fields}}function Zz(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(it(p===void 0||typeof p=="string"),gn.fromBase64String(p||"")):(it(p===void 0||p instanceof Buffer||p instanceof Uint8Array),gn.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const p=f.code===void 0?se.UNKNOWN:YD(f.code);return new ye(p,f.message||"")}(l);t=new KD(i,r,a,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=tv(n,i.document.name),a=fr(i.document.updateTime),l=i.document.createTime?fr(i.document.createTime):Ie.min(),u=new jn({mapValue:{fields:i.document.fields}}),h=wn.newFoundDocument(r,a,l,u),f=i.targetIds||[],p=i.removedTargetIds||[];t=new Yf(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=tv(n,i.document),a=i.readTime?fr(i.readTime):Ie.min(),l=wn.newNoDocument(r,a),u=i.removedTargetIds||[];t=new Yf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=tv(n,i.document),a=i.removedTargetIds||[];t=new Yf([],a,r,null)}else{if(!("filter"in e))return Re();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,l=new Hz(r,a),u=i.targetId;t=new QD(u,l)}}return t}function Jz(n,e){let t;if(e instanceof Dh)t={update:GS(n,e.key,e.value)};else if(e instanceof ib)t={delete:Xv(n,e.key)};else if(e instanceof _a)t={update:GS(n,e.key,e.data),updateMask:l4(e.fieldMask)};else{if(!(e instanceof jz))return Re();t={verify:Xv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,l){const u=l.transform;if(u instanceof bg)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof hh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof dh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Eg)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Re()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:Kz(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re()}(n,e.precondition)),t}function e4(n,e){return n&&n.length>0?(it(e!==void 0),n.map(t=>function(r,a){let l=r.updateTime?fr(r.updateTime):fr(a);return l.isEqual(Ie.min())&&(l=fr(a)),new Pz(l,r.transformResults||[])}(t,e))):[]}function t4(n,e){return{documents:[JD(n,e.path)]}}function n4(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=JD(n,r);const a=function(f){if(f.length!==0)return nI(Li.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(p=>function(_){return{field:kl(_.field),direction:s4(_.dir)}}(p))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Qv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:r}}function i4(n){let e=Xz(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){it(i===1);const p=t.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=function(v){const _=tI(v);return _ instanceof Li&&ID(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(_=>function(T){return new _g(Ml(T.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(v){let _;return _=typeof v=="object"?v.value:v,cp(_)?null:_}(t.limit));let h=null;t.startAt&&(h=function(v){const _=!!v.before,b=v.values||[];return new vg(b,_)}(t.startAt));let f=null;return t.endAt&&(f=function(v){const _=!v.before,b=v.values||[];return new vg(b,_)}(t.endAt)),wz(e,r,l,a,u,"F",h,f)}function r4(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ml(t.unaryFilter.field);return jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ml(t.unaryFilter.field);return jt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ml(t.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ml(t.unaryFilter.field);return jt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(n):n.fieldFilter!==void 0?function(t){return jt.create(Ml(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Li.create(t.compositeFilter.filters.map(i=>tI(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(n):Re()}function s4(n){return Gz[n]}function a4(n){return $z[n]}function o4(n){return Yz[n]}function kl(n){return{fieldPath:n.canonicalString()}}function Ml(n){return dn.fromServerFormat(n.fieldPath)}function nI(n){return n instanceof jt?function(t){if(t.op==="=="){if(OS(t.value))return{unaryFilter:{field:kl(t.field),op:"IS_NAN"}};if(MS(t.value))return{unaryFilter:{field:kl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(OS(t.value))return{unaryFilter:{field:kl(t.field),op:"IS_NOT_NAN"}};if(MS(t.value))return{unaryFilter:{field:kl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kl(t.field),op:a4(t.op),value:t.value}}}(n):n instanceof Li?function(t){const i=t.getFilters().map(r=>nI(r));return i.length===1?i[0]:{compositeFilter:{op:o4(t.op),filters:i}}}(n):Re()}function l4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,t,i,r,a=Ie.min(),l=Ie.min(),u=gn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.Tt=e}}function u4(n){const e=i4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Yv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.Tn=new d4}addToCollectionParentIndex(e,t){return this.Tn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(la.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(la.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class d4{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Yt(dt.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Yt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rI=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(rI,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ql(0)}static Un(){return new Ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="LruGarbageCollector",f4=1048576;function QS([n,e],[t,i]){const r=Be(n,t);return r===0?Be(e,i):r}class g4{constructor(e){this.Hn=e,this.buffer=new Yt(QS),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();QS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class p4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(YS,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){lc(t)?fe(YS,"Ignoring IndexedDB error during garbage collection: ",t):await oc(t)}await this.er(3e5)})}}class m4{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return re.resolve(lp.ae);const i=new g4(t);return this.tr.forEachTarget(e,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(e,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve($S)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$S):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,r,a,l,u,h,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,l=Date.now(),this.nthSequenceNumber(e,r))).next(v=>(i=v,u=Date.now(),this.removeTargets(e,i,t))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(f=Date.now(),Dl()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:v})))}}function y4(n,e){return new m4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.changes=new Io(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Gu(i.mutation,r,Zn.empty(),$t.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ze()){const r=uo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let l=Ou();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=uo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ze()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,i,r){let a=ns();const l=Wu(),u=function(){return Wu()}();return t.forEach((h,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof _a)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Gu(p.mutation,f,p.mutation.getFieldMask(),$t.now())):l.set(f.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((f,p)=>l.set(f,p)),t.forEach((f,p)=>{var v;return u.set(f,new _4(p,(v=l.get(f))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){const i=Wu();let r=new wt((l,u)=>l-u),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let p=i.get(h)||Zn.empty();p=u.applyToLocalView(f,p),i.set(h,p);const v=(r.get(u.batchId)||ze()).add(h);r=r.insert(u.batchId,v)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,p=h.value,v=zD();p.forEach(_=>{if(!a.has(_)){const b=GD(t.get(_),i.get(_));b!==null&&v.set(_,b),a=a.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return re.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(l){return be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):PD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const l=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):re.resolve(uo());let u=oh,h=a;return l.next(f=>re.forEach(f,(p,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(p)?re.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,h,f,ze())).next(p=>({batchId:u,changes:UD(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(i=>{let r=Ou();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let l=Ou();return this.indexManager.getCollectionParents(e,a).next(u=>re.forEach(u,h=>{const f=function(v,_){return new Ch(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(p=>{p.forEach((v,_)=>{l=l.insert(v,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r))).next(l=>{a.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,wn.newInvalidDocument(p)))});let u=Ou();return l.forEach((h,f)=>{const p=a.get(h);p!==void 0&&Gu(p.mutation,f,Zn.empty(),$t.now()),dp(t,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return re.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:fr(r.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(r){return{name:r.name,query:u4(r.bundledQuery),readTime:fr(r.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.overlays=new wt(be.comparator),this.Rr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=uo();return re.forEach(t,r=>this.getOverlay(e,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.Et(e,t,a)}),re.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const r=uo(),a=t.length+1,l=new be(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&r.set(h.getKey(),h)}return re.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new wt((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let p=a.get(f.largestBatchId);p===null&&(p=uo(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=uo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=r)););return re.resolve(u)}Et(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new zz(t,i));let a=this.Rr.get(t);a===void 0&&(a=ze(),this.Rr.set(t,a)),this.Rr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.Vr=new Yt(nn.mr),this.gr=new Yt(nn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new nn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new nn(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new be(new dt([])),i=new nn(t,e),r=new nn(t,e+1),a=[];return this.gr.forEachInRange([i,r],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new be(new dt([])),i=new nn(t,e),r=new nn(t,e+1);let a=ze();return this.gr.forEachInRange([i,r],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new nn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class nn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return be.comparator(e.key,t.key)||Be(e.Cr,t.Cr)}static pr(e,t){return Be(e.Cr,t.Cr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Yt(nn.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Uz(a,t,i,r);this.mutationQueue.push(l);for(const u of r)this.Mr=this.Mr.add(new nn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,t){return re.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Nr(i),a=r<0?0:r;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?X_:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new nn(t,0),r=new nn(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,r],l=>{const u=this.Or(l.Cr);a.push(u)}),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Yt(Be);return t.forEach(r=>{const a=new nn(r,0),l=new nn(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],u=>{i=i.add(u.Cr)})}),re.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;be.isDocumentKey(a)||(a=a.child(""));const l=new nn(new be(a),0);let u=new Yt(Be);return this.Mr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(h.Cr)),!0)},l),re.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(i=>{const r=this.Or(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){it(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return re.forEach(t.mutations,r=>{const a=new nn(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new nn(t,0),r=this.Mr.firstAfterOrEqual(i);return re.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.kr=e,this.docs=function(){return new wt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,l=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let i=ns();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():wn.newInvalidDocument(r))}),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=ns();const l=t.path,u=new be(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||ez(JU(p),i)<=0||(r.has(p.key)||dp(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,i,r){Re()}qr(e,t){return re.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new x4(this)}getSize(e){return re.resolve(this.size)}}class x4 extends v4{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(i)}),re.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.persistence=e,this.Qr=new Io(t=>eb(t),tb),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ob,this.targetCount=0,this.Ur=Ql.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,r)=>t(r)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),re.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ql(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.zn(t),re.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&i.get(u.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),re.waitFor(a).next(()=>r)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(l=>{a.push(r.markPotentiallyOrphaned(e,l))}),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new lp(0),this.zr=!1,this.zr=!0,this.jr=new A4,this.referenceDelegate=e(this),this.Hr=new R4(this),this.indexManager=new h4,this.remoteDocumentCache=function(r){return new T4(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new c4(t),this.Yr=new E4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new w4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new S4(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){fe("MemoryPersistence","Starting transaction:",e);const r=new C4(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(a=>this.referenceDelegate.Xr(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}ei(e,t){return re.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class C4 extends nz{constructor(e){super(),this.currentSequenceNumber=e}}class lb{constructor(e){this.persistence=e,this.ti=new ob,this.ni=null}static ri(e){return new lb(e)}get ii(){if(this.ni)return this.ni;throw Re()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),re.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,i=>{const r=be.fromPath(i);return this.si(e,r).next(a=>{a||t.removeEntry(r,Ie.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return re.or([()=>re.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ag{constructor(e,t){this.persistence=e,this.oi=new Io(i=>sz(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=y4(this,t)}static ri(e,t){return new Ag(e,t)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return re.forEach(this.oi,(i,r)=>this.ar(e,i,r).next(a=>a?re.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.qr(e,l=>this.ar(e,l,t).next(u=>{u||(i++,a.removeEntry(l,Ie.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wf(e.data.value)),t}ar(e,t,i){return re.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.oi.get(t);return re.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=r}static Yi(e,t){let i=ze(),r=ze();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new cb(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return j2()?8:iz(xn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,r,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new D4;return this._s(e,t,l).next(u=>{if(a.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>a.result)}us(e,t,i,r){return i.documentReadCount<this.es?(Dl()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Il(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(Dl()<=Ue.DEBUG&&fe("QueryEngine","Query:",Il(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?(Dl()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Il(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(t))):re.resolve())}rs(e,t){if(VS(t))return re.resolve(null);let i=dr(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Yv(t,null,"F"),i=dr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const l=ze(...a);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.cs(t,u);return this.ls(t,f,l,h.readTime)?this.rs(e,Yv(t,null,"F")):this.hs(e,f,t,h)}))})))}ss(e,t,i,r){return VS(t)||r.isEqual(Ie.min())?re.resolve(null):this.ns.getDocuments(e,i).next(a=>{const l=this.cs(t,a);return this.ls(t,l,i,r)?re.resolve(null):(Dl()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Il(t)),this.hs(e,l,t,ZU(r,oh)).next(u=>u))})}cs(e,t){let i=new Yt(VD(e));return t.forEach((r,a)=>{dp(e,a)&&(i=i.add(a))}),i}ls(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}_s(e,t,i){return Dl()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Il(t)),this.ns.getDocumentsMatchingQuery(e,t,la.min(),i)}hs(e,t,i,r){return this.ns.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="LocalStore",k4=3e8;class M4{constructor(e,t,i,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new wt(Be),this.Is=new Io(a=>eb(a),tb),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function O4(n,e,t,i){return new M4(n,e,t,i)}async function aI(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],u=[];let h=ze();for(const f of r){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){u.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return t.localDocuments.getDocuments(i,h).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:u}))})})}function N4(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,h,f,p){const v=f.batch,_=v.keys();let b=re.resolve();return _.forEach(T=>{b=b.next(()=>p.getEntry(h,T)).next(R=>{const x=f.docVersions.get(T);it(x!==null),R.version.compareTo(x)<0&&(v.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),p.addEntry(R)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(h,v))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=ze();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function oI(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function P4(n,e){const t=Me(n),i=e.snapshotVersion;let r=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});r=t.Ts;const u=[];e.targetChanges.forEach((p,v)=>{const _=r.get(v);if(!_)return;u.push(t.Hr.removeMatchingKeys(a,p.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(a,p.addedDocuments,v)));let b=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(gn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,i)),r=r.insert(v,b),function(R,x,M){return R.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=k4?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(_,b,p)&&u.push(t.Hr.updateTargetData(a,b))});let h=ns(),f=ze();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(L4(a,l,e.documentUpdates).next(p=>{h=p.Vs,f=p.fs})),!i.isEqual(Ie.min())){const p=t.Hr.getLastRemoteSnapshotVersion(a).next(v=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));u.push(p)}return re.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(t.Ts=r,a))}function L4(n,e,t){let i=ze(),r=ze();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let l=ns();return t.forEach((u,h)=>{const f=a.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(Ie.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):fe(ub,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Vs:l,fs:r}})}function V4(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=X_),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function j4(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Hr.getTargetData(i,e).next(a=>a?(r=a,re.resolve(r)):t.Hr.allocateTargetId(i).next(l=>(r=new Ys(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Jv(n,e,t){const i=Me(n),r=i.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!lc(l))throw l;fe(ub,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ts=i.Ts.remove(e),i.Is.delete(r.target)}function KS(n,e,t){const i=Me(n);let r=Ie.min(),a=ze();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const v=Me(h),_=v.Is.get(p);return _!==void 0?re.resolve(v.Ts.get(_)):v.Hr.getTargetData(f,p)}(i,l,dr(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(l,e,t?r:Ie.min(),t?a:ze())).next(u=>(U4(i,Sz(e),u),{documents:u,gs:a})))}function U4(n,e,t){let i=n.Es.get(e)||Ie.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Es.set(e,i)}class XS{constructor(){this.activeTargetIds=Iz()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z4{constructor(){this.ho=new XS,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new XS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="ConnectivityMonitor";class JS{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(ZS,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(ZS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff=null;function e_(){return ff===null?ff=function(){return 268435456+Math.round(2147483648*Math.random())}():ff++,"0x"+ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="RestConnection",B4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===mg?`project_id=${i}`:`project_id=${i}&database_id=${r}`}So(e,t,i,r,a){const l=e_(),u=this.bo(e,t.toUriEncodedString());fe(nv,`Sending RPC '${e}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,r,a),this.vo(e,u,h,i).then(f=>(fe(nv,`Received RPC '${e}' ${l}: `,f),f),f=>{throw Wl(nv,`RPC '${e}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Co(e,t,i,r,a,l){return this.So(e,t,i,r,a)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ac}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}bo(e,t){const i=B4[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class W4 extends F4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,r){const a=e_();return new Promise((l,u)=>{const h=new hD;h.setWithCredentials(!0),h.listenOnce(dD.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case qf.NO_ERROR:const p=h.getResponseJson();fe(bn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case qf.TIMEOUT:fe(bn,`RPC '${e}' ${a} timed out`),u(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const v=h.getStatus();if(fe(bn,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const b=_==null?void 0:_.error;if(b&&b.status&&b.message){const T=function(x){const M=x.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(M)>=0?M:se.UNKNOWN}(b.status);u(new ye(T,b.message))}else u(new ye(se.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ye(se.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{fe(bn,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);fe(bn,`RPC '${e}' ${a} sending request:`,r),h.send(t,"POST",f,i,15)})}Wo(e,t,i){const r=e_(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=pD(),u=gD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const p=a.join("");fe(bn,`Creating RPC '${e}' stream ${r}: ${p}`,h);const v=l.createWebChannel(p,h);let _=!1,b=!1;const T=new q4({Fo:x=>{b?fe(bn,`Not sending because RPC '${e}' stream ${r} is closed:`,x):(_||(fe(bn,`Opening RPC '${e}' stream ${r} transport.`),v.open(),_=!0),fe(bn,`RPC '${e}' stream ${r} sending:`,x),v.send(x))},Mo:()=>v.close()}),R=(x,M,V)=>{x.listen(M,z=>{try{V(z)}catch($){setTimeout(()=>{throw $},0)}})};return R(v,Mu.EventType.OPEN,()=>{b||(fe(bn,`RPC '${e}' stream ${r} transport opened.`),T.Qo())}),R(v,Mu.EventType.CLOSE,()=>{b||(b=!0,fe(bn,`RPC '${e}' stream ${r} transport closed`),T.Ko())}),R(v,Mu.EventType.ERROR,x=>{b||(b=!0,Wl(bn,`RPC '${e}' stream ${r} transport errored:`,x),T.Ko(new ye(se.UNAVAILABLE,"The operation could not be completed")))}),R(v,Mu.EventType.MESSAGE,x=>{var M;if(!b){const V=x.data[0];it(!!V);const z=V,$=(z==null?void 0:z.error)||((M=z[0])===null||M===void 0?void 0:M.error);if($){fe(bn,`RPC '${e}' stream ${r} received error:`,$);const J=$.status;let ne=function(I){const O=Vt[I];if(O!==void 0)return YD(O)}(J),N=$.message;ne===void 0&&(ne=se.INTERNAL,N="Unknown error status: "+J+" with message "+$.message),b=!0,T.Ko(new ye(ne,N)),v.close()}else fe(bn,`RPC '${e}' stream ${r} received:`,V),T.Uo(V)}}),R(u,fD.STAT_EVENT,x=>{x.stat===Bv.PROXY?fe(bn,`RPC '${e}' stream ${r} detected buffering proxy`):x.stat===Bv.NOPROXY&&fe(bn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function iv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(n){return new Qz(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=r,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-i);r>0&&fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="PersistentStream";class cI{constructor(e,t,i,r,a,l,u,h){this.Ti=e,this.n_=i,this.r_=r,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new lI(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(ts(t.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===t&&this.V_(i,r)},i=>{e(()=>{const r=new ye(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(eT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(fe(eT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G4 extends cI{constructor(e,t,i,r,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Zz(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ie.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ie.min():l.readTime?fr(l.readTime):Ie.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Zv(this.serializer),t.addTarget=function(a,l){let u;const h=l.target;if(u=Gv(h)?{documents:t4(a,h)}:{query:n4(a,h).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=XD(a,l.resumeToken);const f=Qv(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ie.min())>0){u.readTime=wg(a,l.snapshotVersion.toTimestamp());const f=Qv(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const i=r4(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Zv(this.serializer),t.removeTarget=e,this.I_(t)}}class $4 extends cI{constructor(e,t,i,r,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return it(!!e.streamToken),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=e4(e.writeResults,e.commitTime),i=fr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Zv(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Jz(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{}class Q4 extends Y4{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,Kv(t,i),r,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(se.UNKNOWN,a.toString())})}Co(e,t,i,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,Kv(t,i),r,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(se.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class K4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ts(t),this.N_=!1):fe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="RemoteStore";class X4{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{i.enqueueAndForget(async()=>{ko(this)&&(fe(Eo,"Restarting streams for network reachability change."),await async function(h){const f=Me(h);f.W_.add(4),await kh(f),f.j_.set("Unknown"),f.W_.delete(4),await yp(f)}(this))})}),this.j_=new K4(i,r)}}async function yp(n){if(ko(n))for(const e of n.G_)await e(!0)}async function kh(n){for(const e of n.G_)await e(!1)}function uI(n,e){const t=Me(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),gb(t)?fb(t):cc(t).c_()&&db(t,e))}function hb(n,e){const t=Me(n),i=cc(t);t.U_.delete(e),i.c_()&&hI(t,e),t.U_.size===0&&(i.c_()?i.P_():ko(t)&&t.j_.set("Unknown"))}function db(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cc(n).y_(e)}function hI(n,e){n.H_.Ne(e),cc(n).w_(e)}function fb(n){n.H_=new Wz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),cc(n).start(),n.j_.B_()}function gb(n){return ko(n)&&!cc(n).u_()&&n.U_.size>0}function ko(n){return Me(n).W_.size===0}function dI(n){n.H_=void 0}async function Z4(n){n.j_.set("Online")}async function J4(n){n.U_.forEach((e,t)=>{db(n,e)})}async function eH(n,e){dI(n),gb(n)?(n.j_.q_(e),fb(n)):n.j_.set("Unknown")}async function tH(n,e,t){if(n.j_.set("Online"),e instanceof KD&&e.state===2&&e.cause)try{await async function(r,a){const l=a.cause;for(const u of a.targetIds)r.U_.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.U_.delete(u),r.H_.removeTarget(u))}(n,e)}catch(i){fe(Eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Sg(n,i)}else if(e instanceof Yf?n.H_.We(e):e instanceof QD?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ie.min()))try{const i=await oI(n.localStore);t.compareTo(i)>=0&&await function(a,l){const u=a.H_.ot(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.U_.get(f);p&&a.U_.set(f,p.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const p=a.U_.get(h);if(!p)return;a.U_.set(h,p.withResumeToken(gn.EMPTY_BYTE_STRING,p.snapshotVersion)),hI(a,h);const v=new Ys(p.target,h,f,p.sequenceNumber);db(a,v)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(i){fe(Eo,"Failed to raise snapshot:",i),await Sg(n,i)}}async function Sg(n,e,t){if(!lc(e))throw e;n.W_.add(1),await kh(n),n.j_.set("Offline"),t||(t=()=>oI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe(Eo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await yp(n)})}function fI(n,e){return e().catch(t=>Sg(n,t,e))}async function vp(n){const e=Me(n),t=da(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:X_;for(;nH(e);)try{const r=await V4(e.localStore,i);if(r===null){e.K_.length===0&&t.P_();break}i=r.batchId,iH(e,r)}catch(r){await Sg(e,r)}gI(e)&&pI(e)}function nH(n){return ko(n)&&n.K_.length<10}function iH(n,e){n.K_.push(e);const t=da(n);t.c_()&&t.S_&&t.b_(e.mutations)}function gI(n){return ko(n)&&!da(n).u_()&&n.K_.length>0}function pI(n){da(n).start()}async function rH(n){da(n).C_()}async function sH(n){const e=da(n);for(const t of n.K_)e.b_(t.mutations)}async function aH(n,e,t){const i=n.K_.shift(),r=rb.from(i,e,t);await fI(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await vp(n)}async function oH(n,e){e&&da(n).S_&&await async function(i,r){if(function(l){return Bz(l)&&l!==se.ABORTED}(r.code)){const a=i.K_.shift();da(i).h_(),await fI(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),await vp(i)}}(n,e),gI(n)&&pI(n)}async function tT(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),fe(Eo,"RemoteStore received new credentials");const i=ko(t);t.W_.add(3),await kh(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await yp(t)}async function lH(n,e){const t=Me(n);e?(t.W_.delete(2),await yp(t)):e||(t.W_.add(2),await kh(t),t.j_.set("Unknown"))}function cc(n){return n.J_||(n.J_=function(t,i,r){const a=Me(t);return a.M_(),new G4(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{xo:Z4.bind(null,n),No:J4.bind(null,n),Lo:eH.bind(null,n),p_:tH.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),gb(n)?fb(n):n.j_.set("Unknown")):(await n.J_.stop(),dI(n))})),n.J_}function da(n){return n.Y_||(n.Y_=function(t,i,r){const a=Me(t);return a.M_(),new $4(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:rH.bind(null,n),Lo:oH.bind(null,n),D_:sH.bind(null,n),v_:aH.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await vp(n)):(await n.Y_.stop(),n.K_.length>0&&(fe(Eo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const l=Date.now()+i,u=new pb(e,t,l,r,a);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mb(n,e){if(ts("AsyncQueue",`${e}: ${n}`),lc(n))return new ye(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{static emptySet(e){return new zl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=Ou(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new zl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.Z_=new wt(be.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Re():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Kl{constructor(e,t,i,r,a,l,u,h,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,r,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Kl(e,t,zl.emptySet(t),l,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class uH{constructor(){this.queries=iT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const r=Me(t),a=r.queries;r.queries=iT(),a.forEach((l,u)=>{for(const h of u.ta)h.onError(i)})})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function iT(){return new Io(n=>LD(n),hp)}async function hH(n,e){const t=Me(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.na()&&e.ra()&&(i=2):(a=new cH,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await t.onListen(r,!0);break;case 1:a.ea=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(l){const u=mb(l,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(u)}t.queries.set(r,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&yb(t)}async function dH(n,e){const t=Me(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?r=e.ra()?0:1:!a.na()&&e.ra()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function fH(n,e){const t=Me(n);let i=!1;for(const r of e){const a=r.query,l=t.queries.get(a);if(l){for(const u of l.ta)u.oa(r)&&(i=!0);l.ea=r}}i&&yb(t)}function gH(n,e,t){const i=Me(n),r=i.queries.get(e);if(r)for(const a of r.ta)a.onError(t);i.queries.delete(e)}function yb(n){n.ia.forEach(e=>{e.next()})}var t_,rT;(rT=t_||(t_={}))._a="default",rT.Cache="cache";class pH{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Kl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==t_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.key=e}}class yI{constructor(e){this.key=e}}class mH{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ze(),this.mutatedKeys=ze(),this.ya=VD(e),this.wa=new zl(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new nT,r=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=r,u=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((p,v)=>{const _=r.get(p),b=dp(this.query,v)?v:null,T=!!_&&this.mutatedKeys.has(_.key),R=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let x=!1;_&&b?_.data.isEqual(b.data)?T!==R&&(i.track({type:3,doc:b}),x=!0):this.va(_,b)||(i.track({type:2,doc:b}),x=!0,(h&&this.ya(b,h)>0||f&&this.ya(b,f)<0)&&(u=!0)):!_&&b?(i.track({type:0,doc:b}),x=!0):_&&!b&&(i.track({type:1,doc:_}),x=!0,(h||f)&&(u=!0)),x&&(b?(l=l.add(b),a=R?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{wa:l,Da:i,ls:u,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((p,v)=>function(b,T){const R=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return R(b)-R(T)}(p.type,v.type)||this.ya(p.doc,v.doc)),this.Ca(i),r=r!=null&&r;const u=t&&!r?this.Fa():[],h=this.pa.size===0&&this.current&&!r?1:0,f=h!==this.ga;return this.ga=h,l.length!==0||f?{snapshot:new Kl(this.query,e.wa,a,l,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new nT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ze(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new yI(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new mI(i))}),t}Oa(e){this.fa=e.gs,this.pa=ze();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Kl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const vb="SyncEngine";class yH{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class vH{constructor(e){this.key=e,this.Ba=!1}}class _H{constructor(e,t,i,r,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Io(u=>LD(u),hp),this.qa=new Map,this.Qa=new Set,this.$a=new wt(be.comparator),this.Ka=new Map,this.Ua=new ob,this.Wa={},this.Ga=new Map,this.za=Ql.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bH(n,e,t=!0){const i=AI(n);let r;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.Na()):r=await vI(i,e,t,!0),r}async function EH(n,e){const t=AI(n);await vI(t,e,!0,!1)}async function vI(n,e,t,i){const r=await j4(n.localStore,dr(e)),a=r.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return i&&(u=await wH(n,e,a,l==="current",r.resumeToken)),n.isPrimaryClient&&t&&uI(n.remoteStore,r),u}async function wH(n,e,t,i,r){n.Ha=(v,_,b)=>async function(R,x,M,V){let z=x.view.ba(M);z.ls&&(z=await KS(R.localStore,x.query,!1).then(({documents:N})=>x.view.ba(N,z)));const $=V&&V.targetChanges.get(x.targetId),J=V&&V.targetMismatches.get(x.targetId)!=null,ne=x.view.applyChanges(z,R.isPrimaryClient,$,J);return aT(R,x.targetId,ne.Ma),ne.snapshot}(n,v,_,b);const a=await KS(n.localStore,e,!0),l=new mH(e,a.gs),u=l.ba(a.documents),h=Ih.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),f=l.applyChanges(u,n.isPrimaryClient,h);aT(n,t,f.Ma);const p=new yH(e,t,l);return n.ka.set(e,p),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function AH(n,e,t){const i=Me(n),r=i.ka.get(e),a=i.qa.get(r.targetId);if(a.length>1)return i.qa.set(r.targetId,a.filter(l=>!hp(l,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Jv(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&hb(i.remoteStore,r.targetId),n_(i,r.targetId)}).catch(oc)):(n_(i,r.targetId),await Jv(i.localStore,r.targetId,!0))}async function SH(n,e){const t=Me(n),i=t.ka.get(e),r=t.qa.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),hb(t.remoteStore,i.targetId))}async function TH(n,e,t){const i=MH(n);try{const r=await function(l,u){const h=Me(l),f=$t.now(),p=u.reduce((b,T)=>b.add(T.key),ze());let v,_;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let T=ns(),R=ze();return h.ds.getEntries(b,p).next(x=>{T=x,T.forEach((M,V)=>{V.isValidDocument()||(R=R.add(M))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,T)).next(x=>{v=x;const M=[];for(const V of u){const z=Vz(V,v.get(V.key).overlayedDocument);z!=null&&M.push(new _a(V.key,z,RD(z.value.mapValue),wi.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,M,u)}).next(x=>{_=x;const M=x.applyToLocalDocumentSet(v,R);return h.documentOverlayCache.saveOverlays(b,x.batchId,M)})}).then(()=>({batchId:_.batchId,changes:UD(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,u,h){let f=l.Wa[l.currentUser.toKey()];f||(f=new wt(Be)),f=f.insert(u,h),l.Wa[l.currentUser.toKey()]=f}(i,r.batchId,t),await Mh(i,r.changes),await vp(i.remoteStore)}catch(r){const a=mb(r,"Failed to persist write");t.reject(a)}}async function _I(n,e){const t=Me(n);try{const i=await P4(t.localStore,e);e.targetChanges.forEach((r,a)=>{const l=t.Ka.get(a);l&&(it(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.Ba=!0:r.modifiedDocuments.size>0?it(l.Ba):r.removedDocuments.size>0&&(it(l.Ba),l.Ba=!1))}),await Mh(t,i,e)}catch(i){await oc(i)}}function sT(n,e,t){const i=Me(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.ka.forEach((a,l)=>{const u=l.view.sa(e);u.snapshot&&r.push(u.snapshot)}),function(l,u){const h=Me(l);h.onlineState=u;let f=!1;h.queries.forEach((p,v)=>{for(const _ of v.ta)_.sa(u)&&(f=!0)}),f&&yb(h)}(i.eventManager,e),r.length&&i.La.p_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function xH(n,e,t){const i=Me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Ka.get(e),a=r&&r.key;if(a){let l=new wt(be.comparator);l=l.insert(a,wn.newNoDocument(a,Ie.min()));const u=ze().add(a),h=new pp(Ie.min(),new Map,new wt(Be),l,u);await _I(i,h),i.$a=i.$a.remove(a),i.Ka.delete(e),_b(i)}else await Jv(i.localStore,e,!1).then(()=>n_(i,e,t)).catch(oc)}async function RH(n,e){const t=Me(n),i=e.batch.batchId;try{const r=await N4(t.localStore,e);EI(t,i,null),bI(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Mh(t,r)}catch(r){await oc(r)}}async function CH(n,e,t){const i=Me(n);try{const r=await function(l,u){const h=Me(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,u).next(v=>(it(v!==null),p=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,e);EI(i,e,t),bI(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Mh(i,r)}catch(r){await oc(r)}}function bI(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function EI(n,e,t){const i=Me(n);let r=i.Wa[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Wa[i.currentUser.toKey()]=r}}function n_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||wI(n,i)})}function wI(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(hb(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),_b(n))}function aT(n,e,t){for(const i of t)i instanceof mI?(n.Ua.addReference(i.key,e),DH(n,i)):i instanceof yI?(fe(vb,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||wI(n,i.key)):Re()}function DH(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(fe(vb,"New document in limbo: "+t),n.Qa.add(i),_b(n))}function _b(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new be(dt.fromString(e)),i=n.za.next();n.Ka.set(i,new vH(t)),n.$a=n.$a.insert(t,i),uI(n.remoteStore,new Ys(dr(ND(t.path)),i,"TargetPurposeLimboResolution",lp.ae))}}async function Mh(n,e,t){const i=Me(n),r=[],a=[],l=[];i.ka.isEmpty()||(i.ka.forEach((u,h)=>{l.push(i.Ha(h,e,t).then(f=>{var p;if((f||t)&&i.isPrimaryClient){const v=f?!f.fromCache:(p=t==null?void 0:t.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(f){r.push(f);const v=cb.Yi(h.targetId,f);a.push(v)}}))}),await Promise.all(l),i.La.p_(r),await async function(h,f){const p=Me(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>re.forEach(f,_=>re.forEach(_.Hi,b=>p.persistence.referenceDelegate.addReference(v,_.targetId,b)).next(()=>re.forEach(_.Ji,b=>p.persistence.referenceDelegate.removeReference(v,_.targetId,b)))))}catch(v){if(!lc(v))throw v;fe(ub,"Failed to update sequence numbers: "+v)}for(const v of f){const _=v.targetId;if(!v.fromCache){const b=p.Ts.get(_),T=b.snapshotVersion,R=b.withLastLimboFreeSnapshotVersion(T);p.Ts=p.Ts.insert(_,R)}}}(i.localStore,a))}async function IH(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){fe(vb,"User change. New user:",e.toKey());const i=await aI(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(u=>{u.forEach(h=>{h.reject(new ye(se.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Mh(t,i.Rs)}}function kH(n,e){const t=Me(n),i=t.Ka.get(e);if(i&&i.Ba)return ze().add(i.key);{let r=ze();const a=t.qa.get(e);if(!a)return r;for(const l of a){const u=t.ka.get(l);r=r.unionWith(u.view.Sa)}return r}}function AI(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_I.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xH.bind(null,e),e.La.p_=fH.bind(null,e.eventManager),e.La.Ja=gH.bind(null,e.eventManager),e}function MH(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CH.bind(null,e),e}class Tg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return O4(this.persistence,new I4,e.initialUser,this.serializer)}Xa(e){return new sI(lb.ri,this.serializer)}Za(e){return new z4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tg.provider={build:()=>new Tg};class OH extends Tg{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){it(this.persistence.referenceDelegate instanceof Ag);const i=this.persistence.referenceDelegate.garbageCollector;return new p4(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new sI(i=>Ag.ri(i,t),this.serializer)}}class i_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=IH.bind(null,this.syncEngine),await lH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uH}()}createDatastore(e){const t=mp(e.databaseInfo.databaseId),i=function(a){return new W4(a)}(e.databaseInfo);return function(a,l,u,h){return new Q4(a,l,u,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,a,l,u){return new X4(i,r,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>sT(this.syncEngine,t,0),function(){return JS.D()?new JS:new H4}())}createSyncEngine(e,t){return function(r,a,l,u,h,f,p){const v=new _H(r,a,l,u,h,f);return p&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const a=Me(r);fe(Eo,"RemoteStore shutting down."),a.W_.add(5),await kh(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}i_.provider={build:()=>new i_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="FirestoreClient";class PH{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=En.UNAUTHENTICATED,this.clientId=yD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{fe(fa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(fe(fa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=mb(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function rv(n,e){n.asyncQueue.verifyOperationInProgress(),fe(fa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await aI(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function oT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await LH(n);fe(fa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>tT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>tT(e.remoteStore,r)),n._onlineComponents=e}async function LH(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(fa,"Using user provided OfflineComponentProvider");try{await rv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===se.FAILED_PRECONDITION||r.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Wl("Error using user provided cache. Falling back to memory cache: "+t),await rv(n,new Tg)}}else fe(fa,"Using default OfflineComponentProvider"),await rv(n,new OH(void 0));return n._offlineComponents}async function SI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(fa,"Using user provided OnlineComponentProvider"),await oT(n,n._uninitializedComponentsProvider._online)):(fe(fa,"Using default OnlineComponentProvider"),await oT(n,new i_))),n._onlineComponents}function VH(n){return SI(n).then(e=>e.syncEngine)}async function jH(n){const e=await SI(n),t=e.eventManager;return t.onListen=bH.bind(null,e.syncEngine),t.onUnlisten=AH.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=EH.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=SH.bind(null,e.syncEngine),t}function UH(n,e,t={}){const i=new ia;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,f){const p=new NH({next:_=>{p.su(),l.enqueueAndForget(()=>dH(a,v)),_.fromCache&&h.source==="server"?f.reject(new ye(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new pH(u,p,{includeMetadataChanges:!0,Ta:!0});return hH(a,v)}(await jH(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(n,e,t){if(!t)throw new ye(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zH(n,e,t,i){if(e===!0&&i===!0)throw new ye(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function cT(n){if(!be.isDocumentKey(n))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uT(n){if(be.isDocumentKey(n))throw new ye(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _p(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re()}function is(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_p(n);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="firestore.googleapis.com",hT=!0;class dT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RI,this.ssl=hT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:hT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f4)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bp{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new qU;switch(i.type){case"firstParty":return new YU(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=lT.get(t);i&&(fe("ComponentProvider","Removing Datastore"),lT.delete(t),i.terminate())}(this),Promise.resolve()}}function HH(n,e,t,i={}){var r;const a=(n=is(n,bp))._getSettings(),l=`${e}:${t}`;if(a.host!==RI&&a.host!==l&&Wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),i.mockUserToken){let u,h;if(typeof i.mockUserToken=="string")u=i.mockUserToken,h=En.MOCK_USER;else{u=M2(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new En(f)}n._authCredentials=new WU(new mD(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new uc(this.firestore,e,this._query)}}class Fn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}}class ra extends uc{constructor(e,t,i){super(e,t,ND(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new be(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function r_(n,e,...t){if(n=Et(n),xI("collection","path",e),n instanceof bp){const i=dt.fromString(e,...t);return uT(i),new ra(n,null,i)}{if(!(n instanceof Fn||n instanceof ra))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dt.fromString(e,...t));return uT(i),new ra(n.firestore,null,i)}}function xg(n,e,...t){if(n=Et(n),arguments.length===1&&(e=yD.newId()),xI("doc","path",e),n instanceof bp){const i=dt.fromString(e,...t);return cT(i),new Fn(n,null,new be(i))}{if(!(n instanceof Fn||n instanceof ra))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dt.fromString(e,...t));return cT(i),new Fn(n.firestore,n instanceof ra?n.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="AsyncQueue";class gT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new lI(this,"async_queue_retry"),this.Su=()=>{const i=iv();i&&fe(fT,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=iv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=iv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ia;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!lc(e))throw e;fe(fT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const r=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(i);throw ts("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=pb.createAndSchedule(this,e,t,i,a=>this.Fu(a));return this.fu.push(r),r}Du(){this.gu&&Re()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class hc extends bp{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new gT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gT(e),this._firestoreClient=void 0,await e}}}function BH(n,e){const t=typeof n=="object"?n:P_(),i=typeof n=="string"?n:mg,r=Co(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=I2("firestore");a&&HH(r,...a)}return r}function CI(n){if(n._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||FH(n),n._firestoreClient}function FH(n){var e,t,i;const r=n._freezeSettings(),a=function(u,h,f,p){return new lz(u,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,TI(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new PH(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xl(gn.fromBase64String(e))}catch(t){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xl(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH=/^__.*__$/;class WH{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dh(e,this.data,t,this.fieldTransforms)}}class DI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new _a(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function II(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class Ab{constructor(e,t,i,r,a,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ab(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ku({path:i,Qu:!1});return r.$u(e),r}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ku({path:i,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Rg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(II(this.Lu)&&qH.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class GH{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||mp(e)}ju(e,t,i,r=!1){return new Ab({Lu:e,methodName:t,zu:i,path:dn.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wp(n){const e=n._freezeSettings(),t=mp(n._databaseId);return new GH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kI(n,e,t,i,r,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,r);Sb("Data must be an object, but it was:",l,i);const u=MI(i,l);let h,f;if(a.merge)h=new Zn(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const v of a.mergeFields){const _=s_(e,v,t);if(!l.contains(_))throw new ye(se.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);NI(p,_)||p.push(_)}h=new Zn(p),f=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=l.fieldTransforms;return new WH(new jn(u),h,f)}class Ap extends bb{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ap}}function $H(n,e,t,i){const r=n.ju(1,e,t);Sb("Data must be an object, but it was:",r,i);const a=[],l=jn.empty();va(i,(h,f)=>{const p=Tb(e,h,t);f=Et(f);const v=r.Ku(p);if(f instanceof Ap)a.push(p);else{const _=Oh(f,v);_!=null&&(a.push(p),l.set(p,_))}});const u=new Zn(a);return new DI(l,u,r.fieldTransforms)}function YH(n,e,t,i,r,a){const l=n.ju(1,e,t),u=[s_(e,i,t)],h=[r];if(a.length%2!=0)throw new ye(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)u.push(s_(e,a[_])),h.push(a[_+1]);const f=[],p=jn.empty();for(let _=u.length-1;_>=0;--_)if(!NI(f,u[_])){const b=u[_];let T=h[_];T=Et(T);const R=l.Ku(b);if(T instanceof Ap)f.push(b);else{const x=Oh(T,R);x!=null&&(f.push(b),p.set(b,x))}}const v=new Zn(f);return new DI(p,v,l.fieldTransforms)}function QH(n,e,t,i=!1){return Oh(t,n.ju(i?4:3,e))}function Oh(n,e){if(OI(n=Et(n)))return Sb("Unsupported field value:",e,n),MI(n,e);if(n instanceof bb)return function(i,r){if(!II(r.Lu))throw r.Wu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,r){const a=[];let l=0;for(const u of i){let h=Oh(u,r.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,e)}return function(i,r){if((i=Et(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return kz(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=$t.fromDate(i);return{timestampValue:wg(r.serializer,a)}}if(i instanceof $t){const a=new $t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:wg(r.serializer,a)}}if(i instanceof Eb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xl)return{bytesValue:XD(r.serializer,i._byteString)};if(i instanceof Fn){const a=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw r.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ab(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof wb)return function(l,u){return{mapValue:{fields:{[TD]:{stringValue:xD},[yg]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Wu("VectorValues must only contain numeric values.");return nb(u.serializer,f)})}}}}}}(i,r);throw r.Wu(`Unsupported field value: ${_p(i)}`)}(n,e)}function MI(n,e){const t={};return _D(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(n,(i,r)=>{const a=Oh(r,e.qu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function OI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof $t||n instanceof Eb||n instanceof Xl||n instanceof Fn||n instanceof bb||n instanceof wb)}function Sb(n,e,t){if(!OI(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=_p(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function s_(n,e,t){if((e=Et(e))instanceof Ep)return e._internalPath;if(typeof e=="string")return Tb(n,e);throw Rg("Field path arguments must be of type string or ",n,!1,void 0,t)}const KH=new RegExp("[~\\*/\\[\\]]");function Tb(n,e,t){if(e.search(KH)>=0)throw Rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ep(...e.split("."))._internalPath}catch{throw Rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rg(n,e,t,i,r){const a=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${r}`),h+=")"),new ye(se.INVALID_ARGUMENT,u+n+h)}function NI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class XH extends PI{data(){return super.data()}}function xb(n,e){return typeof e=="string"?Tb(n,e):e instanceof Ep?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZH(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rb{}class JH extends Rb{}function LI(n,e,...t){let i=[];e instanceof Rb&&i.push(e),i=i.concat(t),function(a){const l=a.filter(h=>h instanceof Cb).length,u=a.filter(h=>h instanceof Sp).length;if(l>1||l>0&&u>0)throw new ye(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Sp extends JH{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Sp(e,t,i)}_apply(e){const t=this._parse(e);return jI(e._query,t),new uc(e.firestore,e.converter,$v(e._query,t))}_parse(e){const t=wp(e.firestore);return function(a,l,u,h,f,p,v){let _;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ye(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){mT(v,p);const T=[];for(const R of v)T.push(pT(h,a,R));_={arrayValue:{values:T}}}else _=pT(h,a,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||mT(v,p),_=QH(u,l,v,p==="in"||p==="not-in");return jt.create(f,p,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function VI(n,e,t){const i=e,r=xb("where",n);return Sp._create(r,i,t)}class Cb extends Rb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cb(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Li.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,a){let l=r;const u=a.getFlattenedFilters();for(const h of u)jI(l,h),l=$v(l,h)}(e._query,t),new uc(e.firestore,e.converter,$v(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pT(n,e,t){if(typeof(t=Et(t))=="string"){if(t==="")throw new ye(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PD(e)&&t.indexOf("/")!==-1)throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(dt.fromString(t));if(!be.isDocumentKey(i))throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return kS(n,new be(i))}if(t instanceof Fn)return kS(n,t._key);throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_p(t)}.`)}function mT(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jI(n,e){const t=function(r,a){for(const l of r)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class eB{convertValue(e,t="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return va(e,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,r;const a=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[yg].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(l=>kt(l.doubleValue));return new wb(a)}convertGeoPoint(e){return new Eb(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=up(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(lh(e));default:return null}}convertTimestamp(e){const t=ca(e);return new $t(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=dt.fromString(e);it(iI(i));const r=new ch(i.get(1),i.get(3)),a=new be(i.popFirst(5));return r.isEqual(t)||ts(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tB extends PI{constructor(e,t,i,r,a,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(xb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Qf extends tB{data(e={}){return super.data(e)}}class nB{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Qf(this._firestore,this._userDataWriter,i.key,i,new gf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>{const h=new Qf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new gf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new Qf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new gf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:iB(u.type),doc:h,oldIndex:f,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function iB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}class rB extends eB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,t)}}function zI(n){n=is(n,uc);const e=is(n.firestore,hc),t=CI(e),i=new rB(e);return ZH(n._query),UH(t,n._query).then(r=>new nB(e,i,n,r))}function sB(n,e,t){n=is(n,Fn);const i=is(n.firestore,hc),r=UI(n.converter,e);return Tp(i,[kI(wp(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,wi.none())])}function aB(n,e,t,...i){n=is(n,Fn);const r=is(n.firestore,hc),a=wp(r);let l;return l=typeof(e=Et(e))=="string"||e instanceof Ep?YH(a,"updateDoc",n._key,e,t,i):$H(a,"updateDoc",n._key,e),Tp(r,[l.toMutation(n._key,wi.exists(!0))])}function oB(n){return Tp(is(n.firestore,hc),[new ib(n._key,wi.none())])}function lB(n,e){const t=is(n.firestore,hc),i=xg(n),r=UI(n.converter,e);return Tp(t,[kI(wp(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,wi.exists(!1))]).then(()=>i)}function Tp(n,e){return function(i,r){const a=new ia;return i.asyncQueue.enqueueAndForget(async()=>TH(await VH(i),r,a)),a.promise}(CI(n),e)}(function(e,t=!0){(function(r){ac=r})(rc),gr(new Ni("firestore",(i,{instanceIdentifier:r,options:a})=>{const l=i.getProvider("app").getImmediate(),u=new hc(new GU(i.getProvider("auth-internal")),new QU(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ch(f.options.projectId,p)}(l,r),l);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Ei(bS,ES,e),Ei(bS,ES,"esm2017")})();const cB={apiKey:"AIzaSyDPgMa2cQIJJHAD5loZZrQOrn8oGyCtuXQ",authDomain:"getfit-79396.firebaseapp.com",projectId:"getfit-79396",storageBucket:"getfit-79396.appspot.com",messagingSenderId:"241827461493",appId:"1:241827461493:web:704bb4a0c2d368043ebb3c",measurementId:"G-J44KNXJ2BP"},Db=nC(cB);zU(Db);const Mi=Ej(Db),Pl=BH(Db);new $r;const uB=()=>{ya();const[n,e]=B.useState(!1),[t,i]=B.useState(null),r=()=>e(!n);B.useEffect(()=>kC(Mi,h=>{i(h)}),[]);const a=()=>{e(!1)},l=u=>t?t.emailVerified?w.jsxs(w.Fragment,{children:[w.jsx(bt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Domov"}),w.jsx(bt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Vyhľadávanie"}),w.jsx(bt,{to:"/profil",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Profil"}),w.jsx(bt,{to:"/dashboard",className:"pr-7 text-[#616161] cursor-pointer hover:underline",onClick:u,children:"Dashboard"}),w.jsx(bt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Odhlásiť sa"})]}):w.jsxs(w.Fragment,{children:[w.jsx(bt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Domov"}),w.jsx(bt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Vyhľadávanie"}),w.jsx(bt,{to:"/verify-email",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Over si email"}),w.jsx(bt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Odhlásiť sa"})]}):w.jsxs(w.Fragment,{children:[w.jsx(bt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Domov"}),w.jsx(bt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Vyhľadávanie"}),w.jsx(bt,{to:"/login",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Prihlásiť sa"}),w.jsx(bt,{to:"/register",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Registrácia"})]});return w.jsxs("nav",{className:"bg-white shadow-md fixed top-0 left-0 w-full py-4 px-10 flex justify-between items-center z-50",children:[w.jsx("span",{className:"text-2xl font-bold text-green-700",children:"GetFit"}),w.jsx("div",{className:"hidden md:flex space-x-6 text-gray-700 font-bold",children:l()}),w.jsx("div",{className:"md:hidden",children:w.jsx("button",{onClick:r,children:n?w.jsx(w2,{size:24}):w.jsx(E2,{size:24})})}),w.jsx("div",{className:`
          absolute top-full left-0 w-full bg-white shadow-md flex flex-col items-center py-4 space-y-4 
          md:hidden transition-all duration-300 overflow-hidden
          ${n?"max-h-96 opacity-100":"max-h-0 opacity-0"}
        `,children:l(a)})]})},hB=()=>w.jsxs("header",{className:"w-full text-center py-20 bg-gradient-to-r from-green-300 to-green-500 text-white",children:[w.jsx("h1",{className:"text-5xl font-bold",children:"Zdravý život je jednoduchý"}),w.jsx("p",{className:"text-lg mt-4",children:"Nájdite tie najlepšie jedlá, ktoré zodpovedajú vášmu životnému štýlu"}),w.jsx("button",{className:"mt-6 px-6 py-3 bg-white text-green-600 rounded-lg shadow-lg hover:shadow-xl transition",children:"Sign Up"})]}),dB=({query:n,setQuery:e,handleSearch:t,disabled:i})=>w.jsxs("section",{className:"max-w-5xl mx-auto py-16 px-6",children:[w.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"Prečo si vybrať našu platformu?"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[w.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Sledujte svoju výživu"}),w.jsx("p",{className:"text-gray-700 mt-3",children:"Ľahko zaznamenávajte svoje jedlá a sledujte makrá bez problémov."})]}),w.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[w.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Personalizované stravovacie plány"}),w.jsx("p",{className:"text-gray-700 mt-3",children:"Upravte svoj jedálniček na základe vašich fitness cieľov."})]})]}),w.jsxs("div",{className:"mt-12 text-center",children:[w.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Vyhľadajte informácie o výžive"}),w.jsxs("div",{className:"flex justify-center gap-4",children:[w.jsx("input",{type:"text",placeholder:"Zadajte názov jedla...",value:n,onChange:r=>e(r.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500"}),w.jsx("button",{onClick:t,disabled:i,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition disabled:bg-green-950",children:"Hľadať"})]})]})]}),HI=()=>w.jsxs("div",{role:"status",children:[w.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-indigo-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),w.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),w.jsx("span",{className:"sr-only",children:"Loading..."})]}),fB=({results:n=[],query:e,setQuery:t,handleSearch:i,searchTerm:r,error:a,isLoading:l})=>l?w.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:w.jsx(HI,{})}):w.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12",children:w.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[a&&w.jsxs("p",{className:"text-red-600 text-center mb-4",children:["Chyba pri načítaní dát: ",a.message]}),w.jsxs("h2",{className:"text-3xl font-semibold text-green-700 text-center mb-6 mt-6",children:["Výsledky pre: ",w.jsx("em",{className:"font-normal text-green-600",children:r})]}),w.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[w.jsx("input",{type:"text",placeholder:"Zadaj iné jedlo...",value:e,onChange:u=>t(u.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:ring-2 focus:ring-green-500"}),w.jsx("button",{onClick:i,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition",children:"Hľadať"})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map((u,h)=>{var x;const{food_name:f,nutrition:p}=u,v=((x=p==null?void 0:p.photo)==null?void 0:x.thumb)||"https://via.placeholder.com/300x150",_=(p==null?void 0:p.nf_calories)??0,b=(p==null?void 0:p.nf_total_fat)??0,T=(p==null?void 0:p.nf_protein)??0,R=(p==null?void 0:p.nf_total_carbohydrate)??0;return w.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition p-5",children:[w.jsx("img",{src:v,alt:f,className:"w-full h-40 object-cover rounded-md"}),w.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-3",children:f}),(p==null?void 0:p.servingSize)&&w.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Nutričné hodnoty pre: ",w.jsx("strong",{children:p.servingSize})]}),w.jsxs("div",{className:"text-gray-600 text-sm leading-relaxed mt-2",children:[w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Kalórie:"})," ",_," kcal"]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Tuky:"})," ",b," g"]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Bielkoviny:"})," ",T," g"]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Sacharidy:"})," ",R," g"]})]})]},h)}):w.jsx("p",{className:"col-span-full text-center text-gray-600",children:"Žiadne výsledky na zobrazenie."})})]})}),gB=[{id:1,title:"Top 5 zdravých potravín na spaľovanie tukov",excerpt:"Tieto potraviny ti pomôžu zrýchliť metabolizmus a efektívne spaľovať tuk.",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:"Celý článok o zdravých potravinách..."},{id:2,title:"Ako správne kombinovať sacharidy, tuky a bielkoviny?",excerpt:"Vyvážená strava je kľúčom k zdraviu. Pozri si, ako kombinovať makroživiny.",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:"Celý článok o kombinovaní makroživín..."},{id:3,title:"Prečo je hydratácia kľúčová pri chudnutí?",excerpt:"Pitný režim hrá obrovskú úlohu pri tvojom metabolizme a spaľovaní tukov.",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:"Celý článok o hydratácii a jej výhodách..."}],pB=()=>{const n=Ui();return B.useEffect(()=>{if(n.state&&n.state.scrollTo){const e=document.getElementById(`blog-${n.state.scrollTo}`);e&&e.scrollIntoView({behavior:"smooth"})}},[n]),w.jsx("div",{children:w.jsxs("section",{className:"max-w-6xl mx-auto pb-16 px-6",children:[w.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-10",children:"Najnovšie tipy a rady"}),w.jsx("div",{className:"grid gird-cols-1 md:grid-cols-3 gap-8",children:gB.map(e=>w.jsxs("div",{id:`blog-${e.id}`,className:"bg-white shadow-lg rounded-lg overflow-hidden hover:shadow-xl transition",children:[w.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),w.jsxs("div",{className:"p-6",children:[w.jsx("h3",{className:"text-2xl font-bold text-green-600",children:e.title}),w.jsx("p",{className:"text-gray-700 mt-3",children:e.excerpt}),w.jsx(bt,{to:`/blog/${e.id}`,className:"inline-block mt-4 text-green-700 font-semibold hover:underline",children:"Čítať viac →"})]})]},e.id))})]})})},mB=[{id:1,title:"Top 5 zdravých potravín na spaľovanie tukov",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Spaľovanie tukov nie je len o cvičení, ale aj o správnej výžive. Medzi najlepšie potraviny, ktoré ti pomôžu spaľovať tuky patria:"}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Avokádo"})," – obsahuje zdravé tuky, ktoré podporujú metabolizmus."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Losos"})," – bohatý na omega-3 mastné kyseliny, ktoré pomáhajú regulovať hladinu cukru v krvi."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Zelený čaj"})," – zrýchľuje spaľovanie kalórií a podporuje trávenie."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Chilli papričky"})," – obsahujú kapsaicín, ktorý podporuje spaľovanie tukov."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Orechy"})," – skvelý zdroj bielkovín a zdravých tukov."]})]}),w.jsxs("p",{className:"mt-6",children:[w.jsx("span",{className:"font-semibold text-green-600",children:"Záver:"})," Pravidelné konzumovanie týchto potravín v kombinácii s fyzickou aktivitou môže výrazne pomôcť pri spaľovaní tukov a udržiavaní zdravej hmotnosti."]})]})},{id:2,title:"Ako správne kombinovať sacharidy, tuky a bielkoviny?",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Vyvážená strava je základ zdravého životného štýlu. Dôležité je pochopiť, ako správne kombinovať makroživiny:"}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Sacharidy"})," – hlavný zdroj energie. Ideálne sú celozrnné potraviny, ovocie a zelenina."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Tuky"})," – esenciálne pre správne fungovanie organizmu. Uprednostni zdravé tuky ako olivový olej, orechy a avokádo."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Bielkoviny"})," – dôležité pre svalovú regeneráciu. Kvalitné zdroje sú kuracie mäso, ryby, tofu a strukoviny."]})]}),w.jsxs("p",{className:"mt-6",children:[w.jsx("span",{className:"font-semibold text-green-600",children:"Tip:"})," Správne jedlo by malo obsahovať vyvážený pomer všetkých troch makroživín. Napríklad:"]}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Raňajky:"})," Ovsená kaša s mandľami a banánom."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Obed:"})," Grilované kuracie mäso s quinoou a avokádovým šalátom."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Večera:"})," Pečený losos s dusenou zeleninou."]})]})]})},{id:3,title:"Prečo je hydratácia kľúčová pri chudnutí?",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Voda hrá zásadnú úlohu pri metabolizme a chudnutí. Je dôležité dodržiavať správny pitný režim:"}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsx("li",{children:"Pomáha tráveniu a detoxikácii organizmu."}),w.jsx("li",{children:"Podporuje spaľovanie tukov."}),w.jsx("li",{children:"Znižuje pocit hladu – často si zamieňame smäd za hlad."})]}),w.jsx("p",{className:"mt-6",children:w.jsx("span",{className:"font-semibold text-green-600",children:"Koľko vody by si mal/a piť?"})}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:["Minimálne ",w.jsx("strong",{children:"2-3 litre denne"}),"."]}),w.jsxs("li",{children:["Počas cvičenia doplň aspoň ",w.jsx("strong",{children:"0,5 L vody"})," na hodinu."]}),w.jsx("li",{children:"Ráno začni pohárom vody s citrónom pre lepší metabolizmus."})]})]})}],yB=()=>{const{id:n}=yN(),e=mB.find(t=>t.id===parseInt(n));return e?w.jsx("div",{children:w.jsxs("section",{className:"max-w-4xl mx-auto py-16 mt-8 px-6",children:[w.jsx("img",{src:e.image,alt:e.title,className:"w-full h-80 object-cover rounded-lg mb-6"}),w.jsx("h1",{className:"text-4xl font-bold text-green-700",children:e.title}),w.jsx("div",{className:"text-gray-700 mt-6 leading-fixed",children:e.content}),w.jsx(bt,{to:"/",state:{scrollTo:e.id},className:"inline-block mt-6 text-green-700 font-semibold hover:underline",children:" ← Späť na blog"})]})}):w.jsx("p",{className:"text-center text-red-600 text-xl mt-10",children:"Článok neexistuje!"})},vB=()=>{const[n,e]=B.useState(""),[t,i]=B.useState(""),[r,a]=B.useState(""),[l,u]=B.useState("male"),[h,f]=B.useState(1.2),[p,v]=B.useState("maintain"),[_,b]=B.useState(null),T=R=>{if(R.preventDefault(),!n||!t||!r){alert("Prosím, vyplň všetky polia.");return}let x;l==="male"?x=88.36+13.4*parseFloat(n)+4.8*parseFloat(t)-5.7*parseFloat(r):x=447.6+9.2*parseFloat(n)+3.1*parseFloat(t)-4.3*parseFloat(r);let M=x*parseFloat(h);p==="lose"?M-=500:p==="gain"&&(M+=500),b(Math.round(M))};return w.jsxs("section",{className:"max-w-4xl mx-auto py-16 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"BMI kalkulačka"}),w.jsxs("form",{onSubmit:T,className:"grid grid-cols-1 sm:grid-cols-2 gap-6 bg-gray-50 p-6 rounded-lg shadow-md",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Váha (kg)"}),w.jsx("input",{type:"number",value:n,onChange:R=>e(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte váhu"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Výška (cm)"}),w.jsx("input",{type:"number",value:t,onChange:R=>i(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte výšku"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Vek"}),w.jsx("input",{type:"number",value:r,onChange:R=>a(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte vek"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Pohlavie"}),w.jsxs("select",{value:l,onChange:R=>u(R.target.value),className:" focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[w.jsx("option",{value:"male",children:"Muž"}),w.jsx("option",{value:"female",children:"Žena"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Úroveň aktivity"}),w.jsxs("select",{value:h,onChange:R=>f(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[w.jsx("option",{value:"1.2",children:"Sedavý životný štýl"}),w.jsx("option",{value:"1.375",children:"Ľahká aktivita (1-3x týždenne cvičenie)"}),w.jsx("option",{value:"1.55",children:"Stredná aktivita (3-5x týždenne cvičenie)"}),w.jsx("option",{value:"1.725",children:"Vysoká aktivita (6-7x týždenne cvičenie)"}),w.jsx("option",{value:"1.9",children:"Extrémna aktivita (ťažká fyzická práca + tréning)"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Cieľ"}),w.jsxs("select",{value:p,onChange:R=>v(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[w.jsx("option",{value:"lose",children:"Schudnúť"}),w.jsx("option",{value:"maintain",children:"Udržať váhu"}),w.jsx("option",{value:"gain",children:"Nabrať svaly"})]})]}),w.jsx("div",{className:"col-span-1 sm:col-span-2 flex justify-center",children:w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition text-lg font-semibold shadow-md w-full sm:w-1/2",children:"Vypočítať kalórie"})})]}),_!==null&&w.jsxs("div",{className:"mt-8 p-6 bg-green-100 text-center rounded-lg shadow-md",children:[w.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Odporúčaný denný kalorický príjem:"}),w.jsxs("p",{className:"text-4xl font-bold text-green-700 mt-2",children:[_," kcal"]})]})]})},_B=()=>{const[n,e]=B.useState(1),[t,i]=B.useState(!1),[r,a]=B.useState(""),[l,u]=B.useState(""),[h,f]=B.useState(""),[p,v]=B.useState(""),[_,b]=B.useState(!1),[T,R]=B.useState(null),[x,M]=B.useState(""),[V,z]=B.useState(""),[$,J]=B.useState(""),[ne,N]=B.useState("male"),[D,I]=B.useState("1.2"),[O,j]=B.useState("maintain"),[H,P]=B.useState(null),[Ne,Ae]=B.useState(!1),[oe,de]=B.useState(!1),[ge,Te]=B.useState(null),[U,le]=B.useState(null),[pe,he]=B.useState(null),[ue,Ce]=B.useState(null),[Ee,Ye]=B.useState(null),Fe=ya();if(t)return w.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:w.jsx(HI,{})});const ft=()=>{const De=Number(V),pn=Number($),St=Number(x);let mn;ne==="male"?mn=88.36+13.4*De+4.8*pn-5.7*St:mn=447.6+9.2*De+3.1*pn-4.3*St;let Bi=mn*Number(D);O==="lose"&&(Bi-=500),O==="gain"&&(Bi+=500),P(Math.round(Bi)),de(!0)},Je=async()=>{const De=r.trim().toLowerCase();if(!De||!De.includes("@"))return Ye("Prosím, zadaj platný email."),!1;if(l.length<8)return Ye("Heslo musí mať aspoň 8 znakov."),!1;if(!/[A-Z]/.test(l))return Ye("Heslo musí obsahovať aspoň 1 veľké písmeno (A-Z)."),!1;if(!/\d/.test(l))return Ye("Heslo musí obsahovať aspoň 1 číslicu."),!1;if(l!==h)return Ye("Heslá sa nezhodujú."),!1;if(!_)return Ye("Musíš súhlasiť s podmienkami používania a ochranou osobných údajov."),!1;const pn=async St=>{const mn=LI(r_(Pl,"users"),VI("email","==",St));return!(await zI(mn)).empty};try{if((await rV(Mi,De)).length>0||await pn(De))return Ye("Tento email už existuje."),!1}catch(St){return console.error("Chyba pri overovaní emailu:",St),Ye("Nastala chyba pri overovaní emailu."),!1}return Ye(null),!0},an=async()=>{await Je()&&e(2)},Ti=async De=>{De.preventDefault(),i(!0);const pn=r.trim().toLowerCase();try{const St=await tV(Mi,pn,l);await oV(St.user,{displayName:p}),await sV(St.user),await sB(xg(Pl,"users",St.user.uid),{name:p,email:pn,agreedToTerms:!0,age:x,weight:V,height:$,gender:ne,activity:D,goal:O,calories:H}),i(!1),Fe("/verify-email")}catch(St){Ye("Chyba pri registrácii: "+St.message)}};return w.jsxs("section",{className:"max-w-md mt-30 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Registrácia"}),Ee&&w.jsx("p",{className:"text-red-600 text-center mt-2",children:Ee}),w.jsxs("form",{onSubmit:Ti,className:"mt-4",children:[n===1&&w.jsxs(w.Fragment,{children:[w.jsx("label",{className:"block mt-2",children:"Meno"}),w.jsx("input",{type:"text",placeholder:"Meno",value:p,onChange:De=>v(De.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Email"}),w.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:De=>a(De.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Heslo"}),w.jsx("input",{type:"password",placeholder:"Heslo",value:l,onChange:De=>u(De.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Potvrdiť heslo"}),w.jsx("input",{type:"password",placeholder:"Potvrdiť heslo",value:h,onChange:De=>f(De.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsxs("div",{className:"mt-6 flex items-start",children:[w.jsx("input",{type:"checkbox",checked:_,onChange:()=>b(!_),className:"mr-2 ml-2 mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),w.jsxs("label",{className:"text-gray-600 mr-5",children:["Súhlasím s ",w.jsx(bt,{to:"/terms",className:"text-blue-600 underline",children:"podmienkami používania"})," a ",w.jsx(bt,{to:"/privacy",className:"text-blue-600 underline",children:"ochranou osobných údajov"}),"."]})]}),w.jsx("button",{type:"button",onClick:an,className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Ďalej"})]}),n===2&&w.jsxs(w.Fragment,{children:[w.jsx("label",{className:"block mt-2",children:"Vek"}),w.jsx("input",{type:"number",placeholder:"Vek",value:x,onChange:De=>M(De.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Váha (kg)"}),w.jsx("input",{type:"number",placeholder:"Váha (kg)",value:V,onChange:De=>z(De.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Výška (cm)"}),w.jsx("input",{type:"number",placeholder:"Výška (cm)",value:$,onChange:De=>J(De.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Pohlavie"}),w.jsxs("select",{value:ne,onChange:De=>N(De.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[w.jsx("option",{value:"male",children:"Muž"}),w.jsx("option",{value:"female",children:"Žena"})]}),w.jsx("button",{type:"button",onClick:()=>e(3),className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Ďalej"})]}),n===3&&w.jsxs(w.Fragment,{children:[w.jsx("label",{className:"block mt-2",children:"Cieľ"}),w.jsxs("select",{value:O,onChange:De=>j(De.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[w.jsx("option",{value:"lose",children:"Schudnúť"}),w.jsx("option",{value:"maintain",children:"Udržať váhu"}),w.jsx("option",{value:"gain",children:"Nabrať svaly"})]}),w.jsx("label",{className:"block mt-2",children:"Úroveň aktivity"}),w.jsxs("select",{value:D,onChange:De=>I(De.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[w.jsx("option",{value:"1.2",children:"Sedavý životný štýl"}),w.jsx("option",{value:"1.375",children:"Ľahká aktivita (1-3x/týž)"}),w.jsx("option",{value:"1.55",children:"Stredná aktivita (3-5x/týž)"}),w.jsx("option",{value:"1.725",children:"Vysoká aktivita (6-7x/týž)"}),w.jsx("option",{value:"1.9",children:"Extrémna aktivita"})]}),w.jsx("label",{className:"block mt-2",children:"BMI / Kalórie"}),Ne?w.jsx("input",{type:"number",value:H||"",onChange:De=>P(De.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):w.jsxs("p",{className:"mt-2 font-semibold text-center",children:[H," kcal"]}),w.jsxs("div",{className:"flex justify-between mt-4",children:[w.jsx("button",{type:"button",onClick:ft,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Vypočítať BMI"}),oe&&w.jsx("button",{type:"button",onClick:()=>Ae(!Ne),className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600",children:Ne?"Uložiť":"Upraviť"})]}),w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Registrovať sa"})]})]})]})},bB=()=>{const n=ya(),e=async()=>{Mi.currentUser&&(await Mi.currentUser.reload(),Mi.currentUser.emailVerified?n("/dashboard"):alert("Email ešte nie je overený. Skontroluj schránku a skús znovu."))};return w.jsxs("section",{className:"pt-20 mt-30 max-w-md mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Overenie emailu"}),w.jsx("p",{className:"mt-4 text-center",children:"Na tvoj email bol odoslaný overovací odkaz. Prosím otvor si email, klikni na overovací link a potom sa vráť sem."}),w.jsx("button",{onClick:e,className:"bg-green-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-green-700",children:"Skontrolovať, či som email potvrdil"})]})},EB=()=>w.jsx("aside",{className:"w-full lg:w-1/5 bg-gray-100 p-4 rounded-lg shadow-md",children:w.jsxs("nav",{className:"flex flex-col space-y-4",children:[w.jsx(bt,{to:"/dashboard/calendar",className:"text-green-700 font-bold hover:underline",children:"Kalendár"}),w.jsx(bt,{to:"/dashboard/my-foods",className:"text-green-700 font-bold hover:underline",children:"Moje jedlá"}),w.jsx(bt,{to:"/dashboard/statistics",className:"text-green-700 font-bold hover:underline",children:"Štatistiky"})]})}),yT=()=>{const[n,e]=B.useState([]),t=async a=>{try{const l=xg(Pl,"foods",a);await oB(l),e(u=>u.filter(h=>h.id!==a))}catch(l){console.error("Chyba pri mazaní jedla z Firestore:",l)}},i=async(a,l)=>{try{const u=xg(Pl,"foods",a);await aB(u,l),e(h=>h.map(f=>f.id===a?{...f,...l}:f))}catch(u){console.error("Chyba pri úprave jedla vo Firestore:",u)}},r=async a=>{try{const l=Mi.currentUser;if(!l){console.error("Používateľ nie je prihlásený");return}const u={...a,userId:l.uid,userName:l.displayName,createdAt:new Date},h=await lB(r_(Pl,"foods"),u);console.log("Jedlo pridané s ID:",h.id),e(f=>[...f,{id:h.id,...u}])}catch(l){console.error("Chyba pri pridávaní jedla:",l)}};return B.useEffect(()=>{(async()=>{try{const l=Mi.currentUser;if(!l)return;const u=LI(r_(Pl,"foods"),VI("userId","==",l.uid)),f=(await zI(u)).docs.map(p=>({id:p.id,...p.data()}));e(f)}catch(l){console.error("Chyba pri načítaní jedál:",l)}})()},[]),w.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4 mt-20",children:[w.jsx(EB,{}),w.jsx("div",{className:"flex-1",children:w.jsx(MN,{context:{savedFoods:n,handleAddCustomFood:r,handleDeleteFood:t,handleEditFood:i}})})]})},pf=({children:n})=>{const[e,t]=B.useState(void 0),[i,r]=B.useState(!0);return B.useEffect(()=>{const a=kC(Mi,l=>{t(l),r(!1)});return()=>a()},[]),i?w.jsx("p",{children:"Načítavam..."}):!e||!e.emailVerified?w.jsx(kN,{to:"/login"}):n},wB=()=>{const n=ya(),e=async()=>{try{await uV(Mi),n("/")}catch(t){console.error("Chyba pri odhlasovaní:",t)}};return w.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg text-center",children:[w.jsx("h2",{className:"text-3xl font-semibold text-green-700",children:"Odhlásenie"}),w.jsx("p",{className:"mt-4 text-gray-600",children:"Si si istý, že sa chceš odhlásiť?"}),w.jsx("button",{onClick:e,className:"bg-red-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-red-700 transition",children:"Odhlásiť sa"})]})},AB=()=>{const[n,e]=B.useState(""),[t,i]=B.useState(""),[r,a]=B.useState(""),l=ya(),u=async h=>{h.preventDefault();try{await nV(Mi,n,t),l("/dashboard")}catch(f){a("Chyba pri prihlasovaní: "+f.message)}};return w.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Prihlásenie"}),r&&w.jsx("p",{className:"text-red-600 text-center mt-2",children:r}),w.jsxs("form",{onSubmit:u,className:"mt-4",children:[w.jsx("label",{className:"block mt-2",children:"Email"}),w.jsx("input",{value:n,onChange:h=>e(h.target.value),type:"email",placeholder:"Email",className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Heslo"}),w.jsx("input",{value:t,onChange:h=>i(h.target.value),type:"password",placeholder:"Heslo",className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mb-3 mt-4 w-full rounded-lg hover:bg-green-700",children:"Prihlásiť sa"}),w.jsx(bt,{to:"/register",className:"text-blue-600 underline",children:"Nemáš ešte účet ? Vytvor si ho"})]})]})},SB=()=>w.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky používania"}),w.jsx("p",{className:"mt-4 text-gray-600",children:"Posledná aktualizácia: 21. február 2025"}),w.jsxs("p",{className:"mt-4",children:["Vitajte v našej aplikácii ",w.jsx("strong",{children:"[Your App Name]"}),". Používaním tejto aplikácie súhlasíte s nasledujúcimi podmienkami."]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptácia podmienok"}),w.jsx("p",{className:"mt-2",children:"Používaním našich služieb vyjadrujete súhlas s týmito podmienkami. Ak s nimi nesúhlasíte, nesmiete aplikáciu používať."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie účtu"}),w.jsx("p",{className:"mt-2",children:"Pri registrácii musíte poskytnúť pravdivé a aktuálne informácie. Ste zodpovedný za bezpečnosť vášho účtu."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakázané aktivity"}),w.jsxs("p",{className:"mt-2",children:["Používateľ nesmie:",w.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[w.jsx("li",{children:"Porušovať platné zákony alebo práva tretích strán."}),w.jsx("li",{children:"Vytvárať falošné účty alebo sa vydávať za iných."}),w.jsx("li",{children:"Zasahovať do bezpečnosti aplikácie."})]})]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zrušenie účtu"}),w.jsx("p",{className:"mt-2",children:"Môžeme zablokovať alebo odstrániť váš účet v prípade porušenia podmienok alebo neaktivity."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednosť a obmedzenie"}),w.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednosť za akékoľvek priame alebo nepriame škody spôsobené používaním tejto aplikácie."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),w.jsx("p",{className:"mt-2",children:"Vyhradzujeme si právo kedykoľvek upraviť tieto podmienky. Pokračovanie v používaní aplikácie znamená súhlas so zmenami."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),w.jsxs("p",{className:"mt-2",children:["Ak máte otázky týkajúce sa týchto podmienok, kontaktujte nás na ",w.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),TB=()=>w.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky používania"}),w.jsx("p",{className:"mt-4 text-gray-600",children:"Posledná aktualizácia: 21. február 2025"}),w.jsxs("p",{className:"mt-4",children:["Vitajte v našej aplikácii ",w.jsx("strong",{children:"[Your App Name]"}),". Používaním tejto aplikácie súhlasíte s nasledujúcimi podmienkami."]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptácia podmienok"}),w.jsx("p",{className:"mt-2",children:"Používaním našich služieb vyjadrujete súhlas s týmito podmienkami. Ak s nimi nesúhlasíte, nesmiete aplikáciu používať."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie účtu"}),w.jsx("p",{className:"mt-2",children:"Pri registrácii musíte poskytnúť pravdivé a aktuálne informácie. Ste zodpovedný za bezpečnosť vášho účtu."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakázané aktivity"}),w.jsxs("p",{className:"mt-2",children:["Používateľ nesmie:",w.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[w.jsx("li",{children:"Porušovať platné zákony alebo práva tretích strán."}),w.jsx("li",{children:"Vytvárať falošné účty alebo sa vydávať za iných."}),w.jsx("li",{children:"Zasahovať do bezpečnosti aplikácie."})]})]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zrušenie účtu"}),w.jsx("p",{className:"mt-2",children:"Môžeme zablokovať alebo odstrániť váš účet v prípade porušenia podmienok alebo neaktivity."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednosť a obmedzenie"}),w.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednosť za akékoľvek priame alebo nepriame škody spôsobené používaním tejto aplikácie."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),w.jsx("p",{className:"mt-2",children:"Vyhradzujeme si právo kedykoľvek upraviť tieto podmienky. Pokračovanie v používaní aplikácie znamená súhlas so zmenami."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),w.jsxs("p",{className:"mt-2",children:["Ak máte otázky týkajúce sa týchto podmienok, kontaktujte nás na ",w.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),xB=({onAddCustomFood:n})=>{const[e,t]=B.useState(""),[i,r]=B.useState(""),[a,l]=B.useState(""),[u,h]=B.useState(""),[f,p]=B.useState(""),[v,_]=B.useState(""),[b,T]=B.useState(""),R=x=>{if(x.preventDefault(),!e.trim())return;const M={foodName:e,kcal:Number(i),protein:Number(a),fat:Number(u),carbs:Number(f),fiber:Number(v),fluid:Number(b)};n(M),t(""),r(""),l(""),h(""),p(""),_(""),T("")};return w.jsxs("form",{onSubmit:R,className:"p-4 bg-white rounded-lg shadow-md mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-green-700 mb-4",children:"Pridať vlastné jedlo"}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block text-gray-700",children:"Názov jedla:"}),w.jsx("input",{type:"text",value:e,onChange:x=>t(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Názov jedla"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Kalórie:"}),w.jsx("input",{type:"number",value:i,onChange:x=>r(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"kcal"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Bielkoviny (g):"}),w.jsx("input",{type:"number",value:a,onChange:x=>l(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"bielkoviny"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Tuky (g):"}),w.jsx("input",{type:"number",value:u,onChange:x=>h(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"tuky"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Sacharidy (g):"}),w.jsx("input",{type:"number",value:f,onChange:x=>p(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"sacharidy"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Vláknina (g):"}),w.jsx("input",{type:"number",value:v,onChange:x=>_(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"vláknina"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Tekutiny (l):"}),w.jsx("input",{type:"number",value:b,onChange:x=>T(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"tekutiny"})]})]}),w.jsx("button",{type:"submit",className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať jedlo"})]})},RB=()=>{const{savedFoods:n,handleAddCustomFood:e,handleDeleteFood:t,handleEditFood:i}=pN(),[r,a]=B.useState(null),[l,u]=B.useState({foodName:"",kcal:"",protein:"",fat:"",carbs:"",fiber:""}),h=v=>{a(v.id),u({foodName:v.foodName,kcal:v.kcal,protein:v.protein,fat:v.fat,carbs:v.carbs,fiber:v.fiber})},f=()=>{a(null),u({foodName:"",kcal:"",protein:"",fat:"",carbs:"",fiber:""})},p=()=>{i(r,{foodName:l.foodName,kcal:Number(l.kcal),protein:Number(l.protein),fat:Number(l.fat),carbs:Number(l.carbs),fiber:Number(l.fiber)}),f()};return w.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[w.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Moje jedlá"}),w.jsx(xB,{onAddCustomFood:e}),w.jsx("div",{className:"mt-6",children:n.length>0?w.jsx("ul",{className:"space-y-4",children:n.map((v,_)=>w.jsx("li",{className:"p-4 bg-white rounded-lg shadow border-l-4 border-green-500 flex justify-between items-center",children:r===v.id?w.jsxs("div",{className:"flex-1",children:[w.jsx("input",{type:"text",value:l.foodName,onChange:b=>u({...l,foodName:b.target.value}),className:"border border-gray-300 rounded px-3 py-2 w-full mb-2",placeholder:"Názov jedla"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsx("input",{type:"number",value:l.kcal,onChange:b=>u({...l,kcal:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Kalórie"}),w.jsx("input",{type:"number",value:l.protein,onChange:b=>u({...l,protein:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Bielkoviny"}),w.jsx("input",{type:"number",value:l.fat,onChange:b=>u({...l,fat:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Tuky"}),w.jsx("input",{type:"number",value:l.carbs,onChange:b=>u({...l,carbs:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Sacharidy"}),w.jsx("input",{type:"number",value:l.fiber,onChange:b=>u({...l,fiber:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Vláknina"}),w.jsx("input",{type:"number",value:l.fluid,onChange:b=>u({...l,fluid:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Tekutiny"})]}),w.jsxs("div",{className:"mt-2 flex space-x-2",children:[w.jsx("button",{onClick:p,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Uložiť"}),w.jsx("button",{onClick:f,className:"bg-gray-500 text-white px-3 py-1 rounded hover:bg-gray-600",children:"Zrušiť"})]})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-800",children:v.foodName}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Kalórie: ",v.kcal," kcal"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Bielkoviny: ",v.protein," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Tuky: ",v.fat," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Sacharidy: ",v.carbs," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Vláknina: ",v.fiber," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Tekutiny: ",v.fluid," l"]})]}),w.jsxs("div",{className:"flex flex-col space-y-2",children:[w.jsx("button",{onClick:()=>t(v.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Zmazať"}),w.jsx("button",{onClick:()=>h(v),className:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600",children:"Upraviť"})]})]})},_))}):w.jsx("p",{className:"text-gray-500 text-center",children:"Zatiaľ ste nepridali žiadne jedlá."})})]})};var xp,we,BI,FI,Zl,lo,vT,qI,WI,Cg={},GI=[],CB=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Qs(n,e){for(var t in e)n[t]=e[t];return n}function $I(n){var e=n.parentNode;e&&e.removeChild(n)}function Z(n,e,t){var i,r,a,l={};for(a in e)a=="key"?i=e[a]:a=="ref"?r=e[a]:l[a]=e[a];if(arguments.length>2&&(l.children=arguments.length>3?xp.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(a in n.defaultProps)l[a]===void 0&&(l[a]=n.defaultProps[a]);return Kf(n,l,i,r,null)}function Kf(n,e,t,i,r){var a={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++BI};return r==null&&we.vnode!=null&&we.vnode(a),a}function rs(){return{current:null}}function Mt(n){return n.children}function DB(n,e,t,i,r){var a;for(a in t)a==="children"||a==="key"||a in e||Dg(n,a,null,t[a],i);for(a in e)r&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||t[a]===e[a]||Dg(n,a,e[a],t[a],i)}function _T(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||CB.test(e)?t:t+"px"}function Dg(n,e,t,i,r){var a;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||_T(n.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||_T(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+a]=t,t?i||n.addEventListener(e,a?ET:bT,a):n.removeEventListener(e,a?ET:bT,a);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function bT(n){Zl=!0;try{return this.l[n.type+!1](we.event?we.event(n):n)}finally{Zl=!1}}function ET(n){Zl=!0;try{return this.l[n.type+!0](we.event?we.event(n):n)}finally{Zl=!1}}function ei(n,e){this.props=n,this.context=e}function fh(n,e){if(e==null)return n.__?fh(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?fh(n):null}function YI(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return YI(n)}}function IB(n){Zl?setTimeout(n):qI(n)}function a_(n){(!n.__d&&(n.__d=!0)&&lo.push(n)&&!Ig.__r++||vT!==we.debounceRendering)&&((vT=we.debounceRendering)||IB)(Ig)}function Ig(){var n,e,t,i,r,a,l,u;for(lo.sort(function(h,f){return h.__v.__b-f.__v.__b});n=lo.shift();)n.__d&&(e=lo.length,i=void 0,r=void 0,l=(a=(t=n).__v).__e,(u=t.__P)&&(i=[],(r=Qs({},a)).__v=a.__v+1,Ib(u,a,r,t.__n,u.ownerSVGElement!==void 0,a.__h!=null?[l]:null,i,l??fh(a),a.__h),JI(i,a),a.__e!=l&&YI(a)),lo.length>e&&lo.sort(function(h,f){return h.__v.__b-f.__v.__b}));Ig.__r=0}function QI(n,e,t,i,r,a,l,u,h,f){var p,v,_,b,T,R,x,M=i&&i.__k||GI,V=M.length;for(t.__k=[],p=0;p<e.length;p++)if((b=t.__k[p]=(b=e[p])==null||typeof b=="boolean"?null:typeof b=="string"||typeof b=="number"||typeof b=="bigint"?Kf(null,b,null,null,b):Array.isArray(b)?Kf(Mt,{children:b},null,null,null):b.__b>0?Kf(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)!=null){if(b.__=t,b.__b=t.__b+1,(_=M[p])===null||_&&b.key==_.key&&b.type===_.type)M[p]=void 0;else for(v=0;v<V;v++){if((_=M[v])&&b.key==_.key&&b.type===_.type){M[v]=void 0;break}_=null}Ib(n,b,_=_||Cg,r,a,l,u,h,f),T=b.__e,(v=b.ref)&&_.ref!=v&&(x||(x=[]),_.ref&&x.push(_.ref,null,b),x.push(v,b.__c||T,b)),T!=null?(R==null&&(R=T),typeof b.type=="function"&&b.__k===_.__k?b.__d=h=KI(b,h,n):h=XI(n,b,_,M,T,h),typeof t.type=="function"&&(t.__d=h)):h&&_.__e==h&&h.parentNode!=n&&(h=fh(_))}for(t.__e=R,p=V;p--;)M[p]!=null&&(typeof t.type=="function"&&M[p].__e!=null&&M[p].__e==t.__d&&(t.__d=ZI(i).nextSibling),t1(M[p],M[p]));if(x)for(p=0;p<x.length;p++)e1(x[p],x[++p],x[++p])}function KI(n,e,t){for(var i,r=n.__k,a=0;r&&a<r.length;a++)(i=r[a])&&(i.__=n,e=typeof i.type=="function"?KI(i,e,t):XI(t,i,i,r,i.__e,e));return e}function kg(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){kg(t,e)}):e.push(n)),e}function XI(n,e,t,i,r,a){var l,u,h;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(t==null||r!=a||r.parentNode==null)e:if(a==null||a.parentNode!==n)n.appendChild(r),l=null;else{for(u=a,h=0;(u=u.nextSibling)&&h<i.length;h+=1)if(u==r)break e;n.insertBefore(r,a),l=a}return l!==void 0?l:r.nextSibling}function ZI(n){var e,t,i;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(i=ZI(t)))return i}return null}function Ib(n,e,t,i,r,a,l,u,h){var f,p,v,_,b,T,R,x,M,V,z,$,J,ne,N,D=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(h=t.__h,u=e.__e=t.__e,e.__h=null,a=[u]),(f=we.__b)&&f(e);try{e:if(typeof D=="function"){if(x=e.props,M=(f=D.contextType)&&i[f.__c],V=f?M?M.props.value:f.__:i,t.__c?R=(p=e.__c=t.__c).__=p.__E:("prototype"in D&&D.prototype.render?e.__c=p=new D(x,V):(e.__c=p=new ei(x,V),p.constructor=D,p.render=MB),M&&M.sub(p),p.props=x,p.state||(p.state={}),p.context=V,p.__n=i,v=p.__d=!0,p.__h=[],p._sb=[]),p.__s==null&&(p.__s=p.state),D.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Qs({},p.__s)),Qs(p.__s,D.getDerivedStateFromProps(x,p.__s))),_=p.props,b=p.state,p.__v=e,v)D.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(D.getDerivedStateFromProps==null&&x!==_&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(x,V),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(x,p.__s,V)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(p.props=x,p.state=p.__s,p.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(I){I&&(I.__=e)}),z=0;z<p._sb.length;z++)p.__h.push(p._sb[z]);p._sb=[],p.__h.length&&l.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(x,p.__s,V),p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(_,b,T)})}if(p.context=V,p.props=x,p.__P=n,$=we.__r,J=0,"prototype"in D&&D.prototype.render){for(p.state=p.__s,p.__d=!1,$&&$(e),f=p.render(p.props,p.state,p.context),ne=0;ne<p._sb.length;ne++)p.__h.push(p._sb[ne]);p._sb=[]}else do p.__d=!1,$&&$(e),f=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++J<25);p.state=p.__s,p.getChildContext!=null&&(i=Qs(Qs({},i),p.getChildContext())),v||p.getSnapshotBeforeUpdate==null||(T=p.getSnapshotBeforeUpdate(_,b)),N=f!=null&&f.type===Mt&&f.key==null?f.props.children:f,QI(n,Array.isArray(N)?N:[N],e,t,i,r,a,l,u,h),p.base=e.__e,e.__h=null,p.__h.length&&l.push(p),R&&(p.__E=p.__=null),p.__e=!1}else a==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=kB(t.__e,e,t,i,r,a,l,h);(f=we.diffed)&&f(e)}catch(I){e.__v=null,(h||a!=null)&&(e.__e=u,e.__h=!!h,a[a.indexOf(u)]=null),we.__e(I,e,t)}}function JI(n,e){we.__c&&we.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){we.__e(i,t.__v)}})}function kB(n,e,t,i,r,a,l,u){var h,f,p,v=t.props,_=e.props,b=e.type,T=0;if(b==="svg"&&(r=!0),a!=null){for(;T<a.length;T++)if((h=a[T])&&"setAttribute"in h==!!b&&(b?h.localName===b:h.nodeType===3)){n=h,a[T]=null;break}}if(n==null){if(b===null)return document.createTextNode(_);n=r?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,_.is&&_),a=null,u=!1}if(b===null)v===_||u&&n.data===_||(n.data=_);else{if(a=a&&xp.call(n.childNodes),f=(v=t.props||Cg).dangerouslySetInnerHTML,p=_.dangerouslySetInnerHTML,!u){if(a!=null)for(v={},T=0;T<n.attributes.length;T++)v[n.attributes[T].name]=n.attributes[T].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===n.innerHTML)||(n.innerHTML=p&&p.__html||""))}if(DB(n,_,v,r,u),p)e.__k=[];else if(T=e.props.children,QI(n,Array.isArray(T)?T:[T],e,t,i,r&&b!=="foreignObject",a,l,a?a[0]:t.__k&&fh(t,0),u),a!=null)for(T=a.length;T--;)a[T]!=null&&$I(a[T]);u||("value"in _&&(T=_.value)!==void 0&&(T!==n.value||b==="progress"&&!T||b==="option"&&T!==v.value)&&Dg(n,"value",T,v.value,!1),"checked"in _&&(T=_.checked)!==void 0&&T!==n.checked&&Dg(n,"checked",T,v.checked,!1))}return n}function e1(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(i){we.__e(i,t)}}function t1(n,e,t){var i,r;if(we.unmount&&we.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||e1(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){we.__e(a,e)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&t1(i[r],e,t||typeof n.type!="function");t||n.__e==null||$I(n.__e),n.__=n.__e=n.__d=void 0}function MB(n,e,t){return this.constructor(n,t)}function gh(n,e,t){var i,r,a;we.__&&we.__(n,e),r=(i=!1)?null:e.__k,a=[],Ib(e,n=e.__k=Z(Mt,null,[n]),r||Cg,Cg,e.ownerSVGElement!==void 0,r?null:e.firstChild?xp.call(e.childNodes):null,a,r?r.__e:e.firstChild,i),JI(a,n)}function OB(n,e){var t={__c:e="__cC"+WI++,__:n,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,a;return this.getChildContext||(r=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&r.some(function(u){u.__e=!0,a_(u)})},this.sub=function(l){r.push(l);var u=l.componentWillUnmount;l.componentWillUnmount=function(){r.splice(r.indexOf(l),1),u&&u.call(l)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}xp=GI.slice,we={__e:function(n,e,t,i){for(var r,a,l;e=e.__;)if((r=e.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(n)),l=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(n,i||{}),l=r.__d),l)return r.__E=r}catch(u){n=u}throw n}},BI=0,FI=function(n){return n!=null&&n.constructor===void 0},Zl=!1,ei.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Qs({},this.state),typeof n=="function"&&(n=n(Qs({},t),this.props)),n&&Qs(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),a_(this))},ei.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),a_(this))},ei.prototype.render=Mt,lo=[],qI=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ig.__r=0,WI=0;var cr,sv,wT,n1=[],av=[],AT=we.__b,ST=we.__r,TT=we.diffed,xT=we.__c,RT=we.unmount;function NB(){for(var n;n=n1.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(Xf),n.__H.__h.forEach(o_),n.__H.__h=[]}catch(e){n.__H.__h=[],we.__e(e,n.__v)}}we.__b=function(n){cr=null,AT&&AT(n)},we.__r=function(n){ST&&ST(n);var e=(cr=n.__c).__H;e&&(sv===cr?(e.__h=[],cr.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=av,t.__N=t.i=void 0})):(e.__h.forEach(Xf),e.__h.forEach(o_),e.__h=[])),sv=cr},we.diffed=function(n){TT&&TT(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(n1.push(e)!==1&&wT===we.requestAnimationFrame||((wT=we.requestAnimationFrame)||PB)(NB)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==av&&(t.__=t.__V),t.i=void 0,t.__V=av})),sv=cr=null},we.__c=function(n,e){e.some(function(t){try{t.__h.forEach(Xf),t.__h=t.__h.filter(function(i){return!i.__||o_(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],we.__e(i,t.__v)}}),xT&&xT(n,e)},we.unmount=function(n){RT&&RT(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{Xf(i)}catch(r){e=r}}),t.__H=void 0,e&&we.__e(e,t.__v))};var CT=typeof requestAnimationFrame=="function";function PB(n){var e,t=function(){clearTimeout(i),CT&&cancelAnimationFrame(e),setTimeout(n)},i=setTimeout(t,100);CT&&(e=requestAnimationFrame(t))}function Xf(n){var e=cr,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),cr=e}function o_(n){var e=cr;n.__c=n.__(),cr=e}function LB(n,e){for(var t in e)n[t]=e[t];return n}function DT(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&n[i]!==e[i])return!0;return!1}function IT(n){this.props=n}(IT.prototype=new ei).isPureReactComponent=!0,IT.prototype.shouldComponentUpdate=function(n,e){return DT(this.props,n)||DT(this.state,e)};var kT=we.__b;we.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),kT&&kT(n)};var VB=we.__e;we.__e=function(n,e,t,i){if(n.then){for(var r,a=e;a=a.__;)if((r=a.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(n,e)}VB(n,e,t,i)};var MT=we.unmount;function i1(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=LB({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return i1(i,e,t)})),n}function r1(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return r1(i,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function ov(){this.__u=0,this.t=null,this.__b=null}function s1(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function mf(){this.u=null,this.o=null}we.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),MT&&MT(n)},(ov.prototype=new ei).__c=function(n,e){var t=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(t);var r=s1(i.__v),a=!1,l=function(){a||(a=!0,t.__R=null,r?r(u):u())};t.__R=l;var u=function(){if(!--i.__u){if(i.state.__a){var f=i.state.__a;i.__v.__k[0]=r1(f,f.__c.__P,f.__c.__O)}var p;for(i.setState({__a:i.__b=null});p=i.t.pop();)p.forceUpdate()}},h=e.__h===!0;i.__u++||h||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(l,l)},ov.prototype.componentWillUnmount=function(){this.t=[]},ov.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=i1(this.__b,t,i.__O=i.__P)}this.__b=null}var r=e.__a&&Z(Mt,null,n.fallback);return r&&(r.__h=null),[Z(Mt,null,e.__a?null:n.children),r]};var OT=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function jB(n){return this.getChildContext=function(){return n.context},n.children}function UB(n){var e=this,t=n.i;e.componentWillUnmount=function(){gh(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),gh(Z(jB,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function zB(n,e){var t=Z(UB,{__v:n,i:e});return t.containerInfo=e,t}(mf.prototype=new ei).__a=function(n){var e=this,t=s1(e.__v),i=e.o.get(n);return i[0]++,function(r){var a=function(){e.props.revealOrder?(i.push(r),OT(e,n,i)):r()};t?t(a):a()}},mf.prototype.render=function(n){this.u=null,this.o=new Map;var e=kg(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},mf.prototype.componentDidUpdate=mf.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){OT(n,t,e)})};var HB=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,BB=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,FB=typeof document<"u",qB=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};ei.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(ei.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var NT=we.event;function WB(){}function GB(){return this.cancelBubble}function $B(){return this.defaultPrevented}we.event=function(n){return NT&&(n=NT(n)),n.persist=WB,n.isPropagationStopped=GB,n.isDefaultPrevented=$B,n.nativeEvent=n};var PT={configurable:!0,get:function(){return this.class}},LT=we.vnode;we.vnode=function(n){var e=n.type,t=n.props,i=t;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var a in i={},t){var l=t[a];FB&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in t&&l==null||(a==="defaultValue"&&"value"in t&&t.value==null?a="value":a==="download"&&l===!0?l="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!qB(t.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():r&&BB.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():l===null&&(l=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),i[a]&&(a="oninputCapture")),i[a]=l)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=kg(t.children).forEach(function(u){u.props.selected=i.value.indexOf(u.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=kg(t.children).forEach(function(u){u.props.selected=i.multiple?i.defaultValue.indexOf(u.props.value)!=-1:i.defaultValue==u.props.value})),n.props=i,t.class!=t.className&&(PT.enumerable="className"in t,t.className!=null&&(i.class=t.className),Object.defineProperty(i,"className",PT))}n.$$typeof=HB,LT&&LT(n)};var VT=we.__r;we.__r=function(n){VT&&VT(n),n.__c};const a1=[],l_=new Map;function o1(n){a1.push(n),l_.forEach(e=>{c1(e,n)})}function YB(n){n.isConnected&&n.getRootNode&&l1(n.getRootNode())}function l1(n){let e=l_.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=KB();t&&(e.nonce=t);const i=n===document?document.head:n,r=n===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,r)}l_.set(n,e),QB(e)}}function QB(n){for(const e of a1)c1(n,e)}function c1(n,e){const{sheet:t}=n,i=t.cssRules.length;e.split("}").forEach((r,a)=>{r=r.trim(),r&&t.insertRule(r+"}",i+a)})}let lv;function KB(){return lv===void 0&&(lv=XB()),lv}function XB(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&l1(document);var ZB=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';o1(ZB);class kb{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:i}=this;e in i&&(t?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Mb(n){n.parentNode&&n.parentNode.removeChild(n)}function An(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(JB(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function JB(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function e6(n,e){let t=n instanceof HTMLElement?[n]:n,i=[];for(let r=0;r<t.length;r+=1){let a=t[r].querySelectorAll(e);for(let l=0;l<a.length;l+=1)i.push(a[l])}return i}const t6=/(top|left|right|bottom|width|height)$/i;function $u(n,e){for(let t in e)u1(n,t,e[t])}function u1(n,e,t){t==null?n.style[e]="":typeof t=="number"&&t6.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function h1(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let jT=0;function Rp(){return jT+=1,"fc-dom-"+jT}function Cp(n){n.preventDefault()}function n6(n,e){return t=>{let i=An(t.target,n);i&&e.call(i,t,i)}}function d1(n,e,t,i){let r=n6(t,i);return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}function i6(n,e,t,i){let r;return d1(n,"mouseover",e,(a,l)=>{if(l!==r){r=l,t(a,l);let u=h=>{r=null,i(h,l),l.removeEventListener("mouseleave",u)};l.addEventListener("mouseleave",u)}})}const UT=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function r6(n,e){let t=i=>{e(i),UT.forEach(r=>{n.removeEventListener(r,t)})};UT.forEach(i=>{n.addEventListener(i,t)})}function f1(n){return Object.assign({onClick:n},g1(n))}function g1(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let zT=0;function Mo(){return zT+=1,String(zT)}function Ob(){document.body.classList.add("fc-not-allowed")}function Nb(){document.body.classList.remove("fc-not-allowed")}function s6(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",Cp)}function a6(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",Cp)}function o6(n){n.addEventListener("contextmenu",Cp)}function l6(n){n.removeEventListener("contextmenu",Cp)}function c6(n){let e=[],t=[],i,r;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)r=t[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function u6(n,e,t){let i,r;for(i=0;i<t.length;i+=1)if(r=h6(n,e,t[i]),r)return r;return 0}function h6(n,e,t){return t.func?t.func(n,e):d6(n[t.field],e[t.field])*(t.order||1)}function d6(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function cv(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function Yu(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((i,r,a)=>i.replace("$"+a,r||""),n):t}function f6(n,e){return n-e}function uv(n){return n%1===0}function g6(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const p6=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function et(n,e){return typeof n=="string"?m6(n):typeof n=="object"&&n?HT(n):typeof n=="number"?HT({[e||"milliseconds"]:n}):null}function m6(n){let e=p6.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function HT(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function y6(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function v6(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function _6(n){return Hl(n)/365}function b6(n){return Hl(n)/30}function Hl(n){return ph(n)/864e5}function ph(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function c_(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function ga(n,e,t){if(n===e)return!0;let i=n.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(!(t?t(n[r],e[r]):n[r]===e[r]))return!1;return!0}const E6=["sun","mon","tue","wed","thu","fri","sat"];function BT(n,e){let t=Ks(n);return t[2]+=e*7,zn(t)}function Sn(n,e){let t=Ks(n);return t[2]+=e,zn(t)}function pa(n,e){let t=Ks(n);return t[6]+=e,zn(t)}function w6(n,e){return dc(n,e)/7}function dc(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function A6(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function S6(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function T6(n,e){return(e.valueOf()-n.valueOf())/1e3}function x6(n,e){let t=gt(n),i=gt(e);return{years:0,months:0,days:Math.round(dc(t,i)),milliseconds:e.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}function R6(n,e){let t=Mg(n,e);return t!==null&&t%7===0?t/7:null}function Mg(n,e){return Xs(n)===Xs(e)?Math.round(dc(n,e)):null}function gt(n){return zn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function C6(n){return zn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function D6(n){return zn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function I6(n){return zn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function k6(n,e,t){let i=n.getUTCFullYear(),r=hv(n,i,e,t);if(r<1)return hv(n,i-1,e,t);let a=hv(n,i+1,e,t);return a>=1?Math.min(r,a):r}function hv(n,e,t,i){let r=zn([e,0,1+M6(e,t,i)]),a=gt(n),l=Math.round(dc(r,a));return Math.floor(l/7)+1}function M6(n,e,t){let i=7+e-t;return-((7+zn([n,0,i]).getUTCDay()-e)%7)+i-1}function FT(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function qT(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function Ks(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function zn(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function p1(n){return!isNaN(n.valueOf())}function Xs(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function O6(n,e,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",Lb(e,!0)))),i}function Pb(n){return n.toISOString().replace(/T.*$/,"")}function N6(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function Lb(n,e=!1){let t=n<0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),a=Math.round(i%60);return e?`${t+cv(r,2)}:${cv(a,2)}`:`GMT${t}${r}${a?`:${cv(a,2)}`:""}`}function tt(n,e,t){let i,r;return function(...a){if(!i)r=n.apply(this,a);else if(!ga(i,a)){let l=n.apply(this,a);(!e||!e(l,r))&&(r=l)}return i=a,r}}function Zf(n,e,t){let i,r;return a=>(i?mr(i,a)||(r=n.call(this,a)):r=n.call(this,a),i=a,r)}const WT={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Og={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},yf=/\s*([ap])\.?m\.?/i,P6=/,/g,L6=/\s+/g,V6=/\u200e/g,j6=/UTC|GMT/;class U6{constructor(e){let t={},i={},r=0;for(let a in e)a in WT?(i[a]=e[a],r=Math.max(WT[a],r)):(t[a]=e[a],a in Og&&(r=Math.max(Og[a],r)));this.standardDateProps=t,this.extendedSettings=i,this.severity=r,this.buildFormattingFunc=tt(GT)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,i,r){let{standardDateProps:a,extendedSettings:l}=this,u=W6(e.marker,t.marker,i.calendarSystem);if(!u)return this.format(e,i);let h=u;h>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(h=1);let f=this.format(e,i),p=this.format(t,i);if(f===p)return f;let v=G6(a,h),_=GT(v,l,i),b=_(e),T=_(t),R=$6(f,b,p,T),x=l.separator||r||i.defaultSeparator||"";return R?R.before+b+x+T+R.after:f+x+p}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function GT(n,e,t){let i=Object.keys(n).length;return i===1&&n.timeZoneName==="short"?r=>Lb(r.timeZoneOffset):i===0&&e.week?r=>q6(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,e.week):z6(n,e,t)}function z6(n,e,t){n=Object.assign({},n),e=Object.assign({},e),H6(n,e),n.timeZone="UTC";let i=new Intl.DateTimeFormat(t.locale.codes,n),r;if(e.omitZeroMinute){let a=Object.assign({},n);delete a.minute,r=new Intl.DateTimeFormat(t.locale.codes,a)}return a=>{let{marker:l}=a,u;r&&!l.getUTCMinutes()?u=r:u=i;let h=u.format(l);return B6(h,a,n,e,t)}}function H6(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function B6(n,e,t,i,r){return n=n.replace(V6,""),t.timeZoneName==="short"&&(n=F6(n,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Lb(e.timeZoneOffset))),i.omitCommas&&(n=n.replace(P6,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),i.meridiem===!1?n=n.replace(yf,"").trim():i.meridiem==="narrow"?n=n.replace(yf,(a,l)=>l.toLocaleLowerCase()):i.meridiem==="short"?n=n.replace(yf,(a,l)=>`${l.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(n=n.replace(yf,a=>a.toLocaleLowerCase())),n=n.replace(L6," "),n=n.trim(),n}function F6(n,e){let t=!1;return n=n.replace(j6,()=>(t=!0,e)),t||(n+=` ${e}`),n}function q6(n,e,t,i,r){let a=[];return r==="long"?a.push(t):(r==="short"||r==="narrow")&&a.push(e),(r==="long"||r==="short")&&a.push(" "),a.push(i.simpleNumberFormat.format(n)),i.options.direction==="rtl"&&a.reverse(),a.join("")}function W6(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:Xs(n)!==Xs(e)?1:0}function G6(n,e){let t={};for(let i in n)(!(i in Og)||Og[i]<=e)&&(t[i]=n[i]);return t}function $6(n,e,t,i){let r=0;for(;r<n.length;){let a=n.indexOf(e,r);if(a===-1)break;let l=n.substr(0,a);r=a+e.length;let u=n.substr(r),h=0;for(;h<t.length;){let f=t.indexOf(i,h);if(f===-1)break;let p=t.substr(0,f);h=f+i.length;let v=t.substr(h);if(l===p&&u===v)return{before:l,after:u}}}return null}function $T(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Ng(n,e,t,i){let r=$T(n,t.calendarSystem),a=e?$T(e,t.calendarSystem):null;return{date:r,start:r,end:a,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}class Y6{constructor(e){this.cmdStr=e}format(e,t,i){return t.cmdFormatter(this.cmdStr,Ng(e,null,t,i))}formatRange(e,t,i,r){return i.cmdFormatter(this.cmdStr,Ng(e,t,i,r))}}class Q6{constructor(e){this.func=e}format(e,t,i){return this.func(Ng(e,null,t,i))}formatRange(e,t,i,r){return this.func(Ng(e,t,i,r))}}function rn(n){return typeof n=="object"&&n?new U6(n):typeof n=="string"?new Y6(n):typeof n=="function"?new Q6(n):null}const YT={navLinkDayClick:K,navLinkWeekClick:K,duration:et,bootstrapFontAwesome:K,buttonIcons:K,customButtons:K,defaultAllDayEventDuration:et,defaultTimedEventDuration:et,nextDayThreshold:et,scrollTime:et,scrollTimeReset:Boolean,slotMinTime:et,slotMaxTime:et,dayPopoverFormat:rn,slotDuration:et,snapDuration:et,headerToolbar:K,footerToolbar:K,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:rn,dayHeaderClassNames:K,dayHeaderContent:K,dayHeaderDidMount:K,dayHeaderWillUnmount:K,dayCellClassNames:K,dayCellContent:K,dayCellDidMount:K,dayCellWillUnmount:K,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:K,weekNumbers:Boolean,weekNumberClassNames:K,weekNumberContent:K,weekNumberDidMount:K,weekNumberWillUnmount:K,editable:Boolean,viewClassNames:K,viewDidMount:K,viewWillUnmount:K,nowIndicator:Boolean,nowIndicatorClassNames:K,nowIndicatorContent:K,nowIndicatorDidMount:K,nowIndicatorWillUnmount:K,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:K,locale:K,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:K,eventOrder:c6,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:K,contentHeight:K,direction:String,weekNumberFormat:rn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:K,initialDate:K,now:K,eventDataTransform:K,stickyHeaderDates:K,stickyFooterScrollbar:K,viewHeight:K,defaultAllDay:Boolean,eventSourceFailure:K,eventSourceSuccess:K,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:K,eventConstraint:K,eventAllow:K,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:K,eventContent:K,eventDidMount:K,eventWillUnmount:K,selectConstraint:K,selectOverlap:K,selectAllow:K,droppable:Boolean,unselectCancel:String,slotLabelFormat:K,slotLaneClassNames:K,slotLaneContent:K,slotLaneDidMount:K,slotLaneWillUnmount:K,slotLabelClassNames:K,slotLabelContent:K,slotLabelDidMount:K,slotLabelWillUnmount:K,dayMaxEvents:K,dayMaxEventRows:K,dayMinWidth:Number,slotLabelInterval:et,allDayText:String,allDayClassNames:K,allDayContent:K,allDayDidMount:K,allDayWillUnmount:K,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:rn,rerenderDelay:Number,moreLinkText:K,moreLinkHint:K,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:K,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:et,hiddenDays:K,fixedWeekCount:Boolean,validRange:K,visibleRange:K,titleFormat:K,eventInteractive:Boolean,noEventsText:String,viewHint:K,navLinkHint:K,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:K,moreLinkClassNames:K,moreLinkContent:K,moreLinkDidMount:K,moreLinkWillUnmount:K,monthStartFormat:rn,handleCustomRendering:K,customRenderingMetaMap:K,customRenderingReplaces:Boolean},Qu={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},QT={datesSet:K,eventsSet:K,eventAdd:K,eventChange:K,eventRemove:K,windowResize:K,eventClick:K,eventMouseEnter:K,eventMouseLeave:K,select:K,unselect:K,loading:K,_unmount:K,_beforeprint:K,_afterprint:K,_noEventDrop:K,_noEventResize:K,_resize:K,_scrollRequest:K},KT={buttonText:K,buttonHints:K,views:K,plugins:K,initialEvents:K,events:K,eventSources:K},so={headerToolbar:ao,footerToolbar:ao,buttonText:ao,buttonHints:ao,buttonIcons:ao,dateIncrement:ao,plugins:vf,events:vf,eventSources:vf,resources:vf};function ao(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?mr(n,e):n===e}function vf(n,e){return Array.isArray(n)&&Array.isArray(e)?ga(n,e):n===e}const K6={type:String,component:K,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:K,usesMinMaxTime:Boolean,classNames:K,content:K,didMount:K,willUnmount:K};function dv(n){return jb(n,so)}function Vb(n,e){let t={},i={};for(let r in e)r in n&&(t[r]=e[r](n[r]));for(let r in n)r in e||(i[r]=n[r]);return{refined:t,extra:i}}function K(n){return n}const{hasOwnProperty:Pg}=Object.prototype;function jb(n,e){let t={};if(e){for(let i in e)if(e[i]===ao){let r=[];for(let a=n.length-1;a>=0;a-=1){let l=n[a][i];if(typeof l=="object"&&l)r.unshift(l);else if(l!==void 0){t[i]=l;break}}r.length&&(t[i]=jb(r))}}for(let i=n.length-1;i>=0;i-=1){let r=n[i];for(let a in r)a in t||(t[a]=r[a])}return t}function wo(n,e){let t={};for(let i in n)e(n[i],i)&&(t[i]=n[i]);return t}function Oo(n,e){let t={};for(let i in n)t[i]=e(n[i],i);return t}function m1(n){let e={};for(let t of n)e[t]=!0;return e}function Ub(n){let e=[];for(let t in n)e.push(n[t]);return e}function mr(n,e){if(n===e)return!0;for(let t in n)if(Pg.call(n,t)&&!(t in e))return!1;for(let t in e)if(Pg.call(e,t)&&n[t]!==e[t])return!1;return!0}const X6=/^on[A-Z]/;function Z6(n,e){const t=u_(n,e);for(let i of t)if(!X6.test(i))return!1;return!0}function u_(n,e){let t=[];for(let i in n)Pg.call(n,i)&&(i in e||t.push(i));for(let i in e)Pg.call(e,i)&&n[i]!==e[i]&&t.push(i);return t}function fv(n,e,t={}){if(n===e)return!0;for(let i in e)if(!(i in n&&J6(n[i],e[i],t[i])))return!1;for(let i in n)if(!(i in e))return!1;return!0}function J6(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function e5(n,e=0,t,i=1){let r=[];t==null&&(t=Object.keys(n).length);for(let a=e;a<t;a+=i){let l=n[a];l!==void 0&&r.push(l)}return r}let y1={};function t5(n,e){y1[n]=e}function n5(n){return new y1[n]}class i5{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return zn(e)}markerToArray(e){return Ks(e)}}t5("gregory",i5);const r5=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function s5(n){let e=r5.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(p1(t)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}class a5{constructor(e){let t=this.timeZone=e.timeZone,i=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=n5(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):zn(FT(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=zn(e)),t===null||!p1(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=s5(e);if(t===null)return null;let{marker:i}=t,r=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-t.timeZoneOffset*60*1e3):r=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(e,t){let i=this.calendarSystem.markerToArray(e);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,t){let{calendarSystem:i}=this;return Xs(e)===Xs(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)&&i.getMarkerMonth(e)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:i}=this;return Xs(e)===Xs(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(e)+(i.getMarkerYear(t)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let i=this.diffWholeYears(e,t);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,t),i!==null?{unit:"month",value:i}:(i=R6(e,t),i!==null?{unit:"week",value:i}:(i=Mg(e,t),i!==null?{unit:"day",value:i}:(i=A6(e,t),uv(i)?{unit:"hour",value:i}:(i=S6(e,t),uv(i)?{unit:"minute",value:i}:(i=T6(e,t),uv(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,i){let r;return i.years&&(r=this.diffWholeYears(e,t),r!==null)?r/_6(i):i.months&&(r=this.diffWholeMonths(e,t),r!==null)?r/b6(i):i.days&&(r=Mg(e,t),r!==null)?r/Hl(i):(t.valueOf()-e.valueOf())/ph(i)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?gt(e):t==="hour"?C6(e):t==="minute"?D6(e):t==="second"?I6(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):k6(e,this.weekDow,this.weekDoy)}format(e,t,i={}){return t.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,i,r={}){return r.isEndExclusive&&(t=pa(t,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let i=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?i=t.forcedTzo:i=this.offsetForMarker(e)),O6(e,i,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?zn(FT(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):zn(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-qT(Ks(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Ks(e)):null}toDate(e,t){return this.timeZone==="local"?qT(Ks(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Ks(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class Nh{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,i;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(i in e)t[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let i;return t&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}Nh.prototype.classes={};Nh.prototype.iconClasses={};Nh.prototype.baseIconClass="";Nh.prototype.iconOverridePrefix="";function Lg(n){n();let e=we.debounceRendering,t=[];function i(r){t.push(r)}for(we.debounceRendering=i,gh(Z(o5,{}),document.createElement("div"));t.length;)t.shift()();we.debounceRendering=e}class o5 extends ei{render(){return Z("div",{})}componentDidMount(){this.setState({})}}function v1(n){let e=OB(n),t=e.Provider;return e.Provider=function(){let i=!this.getChildContext,r=t.apply(this,arguments);if(i){let a=[];this.shouldComponentUpdate=l=>{this.props.value!==l.value&&a.forEach(u=>{u.context=l.value,u.forceUpdate()})},this.sub=l=>{a.push(l);let u=l.componentWillUnmount;l.componentWillUnmount=()=>{a.splice(a.indexOf(l),1),u&&u.call(l)}}}return r},e}class l5{constructor(e,t,i,r){this.execFunc=e,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const No=v1({});function c5(n,e,t,i,r,a,l,u,h,f,p,v,_){return{dateEnv:r,options:t,pluginHooks:l,emitter:f,dispatch:u,getCurrentData:h,calendarApi:p,viewSpec:n,viewApi:e,dateProfileGenerator:i,theme:a,isRtl:t.direction==="rtl",addResizeHandler(b){f.on("_resize",b)},removeResizeHandler(b){f.off("_resize",b)},createScrollResponder(b){return new l5(b,f,et(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:v,unregisterInteractiveComponent:_}}class Po extends ei{shouldComponentUpdate(e,t){return this.debug&&console.log(u_(e,this.props),u_(t,this.state)),!fv(this.props,e,this.propEquality)||!fv(this.state,t,this.stateEquality)}safeSetState(e){fv(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Po.addPropsEquality=u5;Po.addStateEquality=h5;Po.contextType=No;Po.prototype.propEquality={};Po.prototype.stateEquality={};class At extends Po{}At.contextType=No;function u5(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function h5(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function ss(n,e){typeof n=="function"?n(e):n&&(n.current=e)}class zb extends At{constructor(){super(...arguments),this.id=Mo(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:i}=this.props;(!t.customRenderingReplaces||!h_(i,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&ss(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:i}=t,{customGenerator:r,defaultGenerator:a,renderProps:l}=e,u=_1(e,[],this.handleEl);let h=!1,f,p=[],v;if(r!=null){const _=typeof r=="function"?r(l,Z):r;if(_===!0)h=!0;else{const b=_&&typeof _=="object";b&&"html"in _?u.dangerouslySetInnerHTML={__html:_.html}:b&&"domNodes"in _?p=Array.prototype.slice.call(_.domNodes):(b?FI(_):typeof _!="function")?f=_:v=_}}else h=!h_(e.generatorName,i);return h&&a&&(f=a(l)),this.queuedDomNodes=p,this.currentGeneratorMeta=v,Z(e.elTag,u,f)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:i,context:r}=this,{handleCustomRendering:a,customRenderingMetaMap:l}=r.options;if(a){const u=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:l==null?void 0:l[i.generatorName];u&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:u},i),{elClasses:(i.elClasses||[]).filter(d5)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,i=this.base;if(!ga(e,t)){t.forEach(Mb);for(let r of e)i.appendChild(r);this.currentDomNodes=e}}}zb.addPropsEquality({elClasses:ga,elStyle:mr,elAttrs:Z6,renderProps:mr});function h_(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function _1(n,e,t){const i=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(i.className=(n.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),n.elStyle&&(i.style=n.elStyle),i}function d5(n){return!!n}const b1=v1(0);class os extends ei{constructor(){super(...arguments),this.InnerContent=f5.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(ss(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=g5(e.classNameGenerator,e.renderProps);if(e.children){const i=_1(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,i);return e.elTag?Z(e.elTag,i,r):r}else return Z(zb,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}os.contextType=b1;function f5(n,e){const t=n.props;return Z(zb,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function g5(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}class XT extends At{render(){let{props:e,context:t}=this,{options:i}=t,r={view:t.viewApi};return Z(os,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...E1(e.viewSpec),...e.elClasses||[]],renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>e.children)}}function E1(n){return[`fc-${n.type}-view`,"fc-view"]}function p5(n,e){let t=null,i=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(i=e.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}function ZT(n,e){let t=[],{start:i}=e,r,a;for(n.sort(m5),r=0;r<n.length;r+=1)a=n[r],a.start>i&&t.push({start:i,end:a.start}),a.end>i&&(i=a.end);return i<e.end&&t.push({start:i,end:e.end}),t}function m5(n,e){return n.start.valueOf()-e.start.valueOf()}function Jl(n,e){let{start:t,end:i}=n,r=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(t===null||i===null||t<i)&&(r={start:t,end:i}),r}function y5(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Hb(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function Dp(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function sa(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function v5(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function w1(n){let e=Math.floor(dc(n.start,n.end))||1,t=gt(n.start),i=Sn(t,e);return{start:t,end:i}}function A1(n,e=et(0)){let t=null,i=null;if(n.end){i=gt(n.end);let r=n.end.valueOf()-i.valueOf();r&&r>=ph(e)&&(i=Sn(i,1))}return n.start&&(t=gt(n.start),i&&i<=t&&(i=Sn(t,1))),{start:t,end:i}}function Ll(n,e,t,i){return i==="year"?et(t.diffWholeYears(n,e),"year"):i==="month"?et(t.diffWholeMonths(n,e),"month"):x6(n,e)}function _5(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function b5(n,e){let t=n.initialDate;return t!=null?e.createMarker(t):Ph(n.now,e)}function Ph(n,e){return typeof n=="function"&&(n=n()),n==null?e.createNowMarker():e.createMarker(n)}class S1{constructor(e){this.props=e,this.nowDate=Ph(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,i){let{dateEnv:r}=this.props,a=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,i)}buildNext(e,t,i){let{dateEnv:r}=this.props,a=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,i)}build(e,t,i=!0){let{props:r}=this,a,l,u,h,f,p;return a=this.buildValidRange(),a=this.trimHiddenDays(a),i&&(e=v5(e,a)),l=this.buildCurrentRangeInfo(e,t),u=/^(year|month|week|day)$/.test(l.unit),h=this.buildRenderRange(this.trimHiddenDays(l.range),l.unit,u),h=this.trimHiddenDays(h),f=h,r.showNonCurrentDates||(f=Jl(f,l.range)),f=this.adjustActiveRange(f),f=Jl(f,a),p=Hb(l.range,a),sa(h,e)||(e=h.start),{currentDate:e,validRange:a,currentRange:l.range,currentRangeUnit:l.unit,isRangeAllDay:u,activeRange:f,renderRange:h,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:p,dateIncrement:this.buildDateIncrement(l.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:i}=this,r=null,a=null,l=null,u;return i.duration?(r=i.duration,a=i.durationUnit,l=this.buildRangeFromDuration(e,t,r,a)):(u=this.props.dayCount)?(a="day",l=this.buildRangeFromDayCount(e,t,u)):(l=this.buildCustomVisibleRange(e))?a=i.dateEnv.greatestWholeUnit(l.start,l.end).unit:(r=this.getFallbackDuration(),a=c_(r).unit,l=this.buildRangeFromDuration(e,t,r,a)),{duration:r,unit:a,range:l}}getFallbackDuration(){return et({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:a}=this.props,{start:l,end:u}=e;return i&&(Hl(r)<0&&(l=gt(l),l=t.add(l,r)),Hl(a)>1&&(u=gt(u),u=Sn(u,-1),u=t.add(u,a))),{start:l,end:u}}buildRangeFromDuration(e,t,i,r){let{dateEnv:a,dateAlignment:l}=this.props,u,h,f;if(!l){let{dateIncrement:v}=this.props;v&&ph(v)<ph(i)?l=c_(v).unit:l=r}Hl(i)<=1&&this.isHiddenDay(u)&&(u=this.skipHiddenDays(u,t),u=gt(u));function p(){u=a.startOf(e,l),h=a.add(u,i),f={start:u,end:h}}return p(),this.trimHiddenDays(f)||(e=this.skipHiddenDays(e,t),p()),f}buildRangeFromDayCount(e,t,i){let{dateEnv:r,dateAlignment:a}=this.props,l=0,u=e,h;a&&(u=r.startOf(u,a)),u=gt(u),u=this.skipHiddenDays(u,t),h=u;do h=Sn(h,1),this.isHiddenDay(h)||(l+=1);while(l<i);return{start:u,end:h}}buildCustomVisibleRange(e){let{props:t}=this,i=t.visibleRangeInput,r=typeof i=="function"?i.call(t.calendarApi,t.dateEnv.toDate(e)):i,a=this.refineRange(r);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,t,i){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,i;return t||((i=this.props.dateAlignment)?et(1,i):e||et({days:1}))}refineRange(e){if(e){let t=p5(e,this.props.dateEnv);return t&&(t=A1(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(t[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:i}=e;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),t==null||i==null||t<i?{start:t,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?t:0)+7)%7];)e=Sn(e,t);return e}}function Bb(n,e,t,i){return{instanceId:Mo(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:i??null}}function E5(n,e,t,i){for(let r=0;r<i.length;r+=1){let a=i[r].parse(n,t);if(a){let{allDay:l}=n;return l==null&&(l=e,l==null&&(l=a.allDayGuess,l==null&&(l=!1))),{allDay:l,duration:a.duration,typeData:a.typeData,typeId:r}}}return null}function Ao(n,e,t){let{dateEnv:i,pluginHooks:r,options:a}=t,{defs:l,instances:u}=n;u=wo(u,h=>!l[h.defId].recurringDef);for(let h in l){let f=l[h];if(f.recurringDef){let{duration:p}=f.recurringDef;p||(p=f.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let v=w5(f,p,e,i,r.recurringTypes);for(let _ of v){let b=Bb(h,{start:_,end:i.add(_,p)});u[b.instanceId]=b}}}return{defs:l,instances:u}}function w5(n,e,t,i,r){let l=r[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,e),end:t.end},i);return n.allDay&&(l=l.map(gt)),l}const Jf={id:String,groupId:String,title:String,url:String,interactive:Boolean},T1={start:K,end:K,date:K,allDay:Boolean},A5=Object.assign(Object.assign(Object.assign({},Jf),T1),{extendedProps:K});function x1(n,e,t,i,r=Fb(t),a,l){let{refined:u,extra:h}=R1(n,t,r),f=T5(e,t),p=E5(u,f,t.dateEnv,t.pluginHooks.recurringTypes);if(p){let _=d_(u,h,e?e.sourceId:"",p.allDay,!!p.duration,t,a);return _.recurringDef={typeId:p.typeId,typeData:p.typeData,duration:p.duration},{def:_,instance:null}}let v=S5(u,f,t,i);if(v){let _=d_(u,h,e?e.sourceId:"",v.allDay,v.hasEnd,t,a),b=Bb(_.defId,v.range,v.forcedStartTzo,v.forcedEndTzo);return l&&_.publicId&&l[_.publicId]&&(b.instanceId=l[_.publicId]),{def:_,instance:b}}return null}function R1(n,e,t=Fb(e)){return Vb(n,t)}function Fb(n){return Object.assign(Object.assign(Object.assign({},Vg),A5),n.pluginHooks.eventRefiners)}function d_(n,e,t,i,r,a,l){let u={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(l&&n.id?l[n.id]:"")||Mo(),sourceId:t,allDay:i,hasEnd:r,interactive:n.interactive,ui:jg(n,a),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let h of a.pluginHooks.eventDefMemberAdders)Object.assign(u,h(n));return Object.freeze(u.ui.classNames),Object.freeze(u.extendedProps),u}function S5(n,e,t,i){let{allDay:r}=n,a,l=null,u=!1,h,f=null,p=n.start!=null?n.start:n.date;if(a=t.dateEnv.createMarkerMeta(p),a)l=a.marker;else if(!i)return null;return n.end!=null&&(h=t.dateEnv.createMarkerMeta(n.end)),r==null&&(e!=null?r=e:r=(!a||a.isTimeUnspecified)&&(!h||h.isTimeUnspecified)),r&&l&&(l=gt(l)),h&&(f=h.marker,r&&(f=gt(f)),l&&f<=l&&(f=null)),f?u=!0:i||(u=t.options.forceEventDuration||!1,f=t.dateEnv.add(l,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:u,range:{start:l,end:f},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:h?h.forcedTzo:null}}function T5(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function mh(n,e,t,i,r,a){let l=Oi(),u=Fb(t);for(let h of n){let f=x1(h,e,t,i,u,r,a);f&&f_(f,l)}return l}function f_(n,e=Oi()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function qb(n,e){let t=n.instances[e];if(t){let i=n.defs[t.defId],r=Ip(n,a=>x5(i,a));return r.defs[i.defId]=i,r.instances[t.instanceId]=t,r}return Oi()}function x5(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function Oi(){return{defs:{},instances:{}}}function Wb(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function Ip(n,e){let t=wo(n.defs,e),i=wo(n.instances,r=>t[r.defId]);return{defs:t,instances:i}}function R5(n,e){let{defs:t,instances:i}=n,r={},a={};for(let l in t)e.defs[l]||(r[l]=t[l]);for(let l in i)!e.instances[l]&&r[i[l].defId]&&(a[l]=i[l]);return{defs:r,instances:a}}function C5(n,e){return Array.isArray(n)?mh(n,null,e,!0):typeof n=="object"&&n?mh([n],null,e,!0):n!=null?String(n):null}function JT(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}const Vg={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:K,overlap:K,allow:K,className:JT,classNames:JT,color:String,backgroundColor:String,borderColor:String,textColor:String},D5={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function jg(n,e){let t=C5(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function I5(n){return n.reduce(k5,D5)}function k5(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const M5={id:String,defaultAllDay:Boolean,url:String,format:String,events:K,eventDataTransform:K,success:K,failure:K};function C1(n,e,t=D1(e)){let i;if(typeof n=="string"?i={url:n}:typeof n=="function"||Array.isArray(n)?i={events:n}:typeof n=="object"&&n&&(i=n),i){let{refined:r,extra:a}=Vb(i,t),l=O5(r,e);if(l)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:Mo(),sourceDefId:l.sourceDefId,meta:l.meta,ui:jg(r,e),extendedProps:a}}return null}function D1(n){return Object.assign(Object.assign(Object.assign({},Vg),M5),n.pluginHooks.eventSourceRefiners)}function O5(n,e){let t=e.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let a=t[i].parseMeta(n);if(a)return{sourceDefId:i,meta:a}}return null}function N5(n,e,t,i,r){switch(e.type){case"RECEIVE_EVENTS":return P5(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return L5(n,t[e.sourceId],e.rawEvents,i.activeRange,r);case"ADD_EVENTS":return V5(n,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Wb(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?Ao(n,i.activeRange,r):n;case"REMOVE_EVENTS":return R5(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return k1(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Ip(n,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return Oi();default:return n}}function P5(n,e,t,i,r,a){if(e&&t===e.latestFetchId){let l=mh(I1(r,e,a),e,a);return i&&(l=Ao(l,i,a)),Wb(k1(n,e.sourceId),l)}return n}function L5(n,e,t,i,r){const{defIdMap:a,instanceIdMap:l}=U5(n);let u=mh(I1(t,e,r),e,r,!1,a,l);return Ao(u,i,r)}function I1(n,e,t){let i=t.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(n=ex(n,r)),i&&(n=ex(n,i)),n}function ex(n,e){let t;if(!e)t=n;else{t=[];for(let i of n){let r=e(i);r?t.push(r):r==null&&t.push(i)}}return t}function V5(n,e,t,i){return t&&(e=Ao(e,t,i)),Wb(n,e)}function tx(n,e,t){let{defs:i}=n,r=Oo(n.instances,a=>i[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:t.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:t.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:a.forcedEndTzo}));return{defs:i,instances:r}}function k1(n,e){return Ip(n,t=>t.sourceId!==e)}function j5(n,e){return{defs:n.defs,instances:wo(n.instances,t=>!e[t.instanceId])}}function U5(n){const{defs:e,instances:t}=n,i={},r={};for(let a in e){const l=e[a],{publicId:u}=l;u&&(i[u]=a)}for(let a in t){const l=t[a],u=e[l.defId],{publicId:h}=u;h&&(r[h]=a)}return{defIdMap:i,instanceIdMap:r}}class kp{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){z5(this.handlers,e,t)}off(e,t){H5(this.handlers,e,t)}trigger(e,...t){let i=this.handlers[e]||[],r=this.options&&this.options[e],a=[].concat(r||[],i);for(let l of a)l.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function z5(n,e,t){(n[e]||(n[e]=[])).push(t)}function H5(n,e,t){t?n[e]&&(n[e]=n[e].filter(i=>i!==t)):delete n[e]}const B5={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function F5(n,e){return mh(q5(n),null,e)}function q5(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},B5),t)),e}function M1(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},Gb(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function W5(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Gb(n,e){let t={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,e));return Object.assign(t,aF(n,e.dateEnv)),t}function nx(n,e,t){let{dateEnv:i,options:r}=t,a=e;return n?(a=gt(a),a=i.add(a,r.defaultAllDayEventDuration)):a=i.add(a,r.defaultTimedEventDuration),a}function $b(n,e,t,i){let r=Ug(n.defs,e),a=Oi();for(let l in n.defs){let u=n.defs[l];a.defs[l]=G5(u,r[l],t,i)}for(let l in n.instances){let u=n.instances[l],h=a.defs[u.defId];a.instances[l]=$5(u,h,r[u.defId],t,i)}return a}function G5(n,e,t,i){let r=t.standardProps||{};r.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},n),r),{ui:Object.assign(Object.assign({},n.ui),r.ui)});t.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),t.extendedProps));for(let l of i.pluginHooks.eventDefMutationAppliers)l(a,t,i);return!a.hasEnd&&i.options.forceEventDuration&&(a.hasEnd=!0),a}function $5(n,e,t,i,r){let{dateEnv:a}=r,l=i.standardProps&&i.standardProps.allDay===!0,u=i.standardProps&&i.standardProps.hasEnd===!1,h=Object.assign({},n);return l&&(h.range=w1(h.range)),i.datesDelta&&t.startEditable&&(h.range={start:a.add(h.range.start,i.datesDelta),end:a.add(h.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(h.range={start:a.add(h.range.start,i.startDelta),end:h.range.end}),i.endDelta&&t.durationEditable&&(h.range={start:h.range.start,end:a.add(h.range.end,i.endDelta)}),u&&(h.range={start:h.range.start,end:nx(e.allDay,h.range.start,r)}),e.allDay&&(h.range={start:gt(h.range.start),end:gt(h.range.end)}),h.range.end<h.range.start&&(h.range.end=nx(e.allDay,h.range.start,r)),h}class Ol{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class pt{constructor(e,t,i){this._context=e,this._def=t,this._instance=i||null}setProp(e,t){if(e in T1)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=Jf[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Jf)t=Jf[e](t),this.mutate({standardProps:{[e]:t}});else if(e in Vg){let i=Vg[e](t);e==="color"?i={backgroundColor:t,borderColor:t}:e==="editable"?i={startEditable:t,durationEditable:t}:i={[e]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:i}=this._context,r=i.createMarker(e);if(r&&this._instance){let a=this._instance.range,l=Ll(a.start,r,i,t.granularity);t.maintainDuration?this.mutate({datesDelta:l}):this.mutate({startDelta:l})}}setEnd(e,t={}){let{dateEnv:i}=this._context,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){let a=Ll(this._instance.range.end,r,i,t.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,i={}){let{dateEnv:r}=this._context,a={allDay:i.allDay},l=r.createMarker(e),u;if(l&&!(t!=null&&(u=r.createMarker(t),!u))&&this._instance){let h=this._instance.range;i.allDay===!0&&(h=w1(h));let f=Ll(h.start,l,r,i.granularity);if(u){let p=Ll(h.end,u,r,i.granularity);y6(f,p)?this.mutate({datesDelta:f,standardProps:a}):this.mutate({startDelta:f,endDelta:p,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:f,standardProps:a})}}moveStart(e){let t=et(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=et(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=et(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let i={allDay:e},{maintainDuration:r}=t;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:t}=this._context,i=this._instance,r=rn(e);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let i=this._def,r=this._context,{eventStore:a}=r.getCurrentData(),l=qb(a,t.instanceId);l=$b(l,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let h=new pt(r,i,t);this._def=l.defs[i.defId],this._instance=l.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:l}),r.emitter.trigger("eventChange",{oldEvent:h,event:this,relatedEvents:go(l,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,t=O1(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new Ol(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:i}=t,{startStr:r,endStr:a}=this,l={allDay:t.allDay};return t.title&&(l.title=t.title),r&&(l.start=r),a&&(l.end=a),t.publicId&&(l.id=t.publicId),t.groupId&&(l.groupId=t.groupId),t.url&&(l.url=t.url),i.display&&i.display!=="auto"&&(l.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?l.color=i.backgroundColor:(i.backgroundColor&&(l.backgroundColor=i.backgroundColor),i.borderColor&&(l.borderColor=i.borderColor)),i.textColor&&(l.textColor=i.textColor),i.classNames.length&&(l.classNames=i.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(l,t.extendedProps):l.extendedProps=t.extendedProps),l}toJSON(){return this.toPlainObject()}}function O1(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function go(n,e,t){let{defs:i,instances:r}=n,a=[],l=t?t.instanceId:"";for(let u in r){let h=r[u],f=i[h.defId];h.instanceId!==l&&a.push(new pt(e,f,h))}return a}function ix(n,e,t,i){let r={},a={},l={},u=[],h=[],f=Ug(n.defs,e);for(let p in n.defs){let v=n.defs[p];f[v.defId].display==="inverse-background"&&(v.groupId?(r[v.groupId]=[],l[v.groupId]||(l[v.groupId]=v)):a[p]=[])}for(let p in n.instances){let v=n.instances[p],_=n.defs[v.defId],b=f[_.defId],T=v.range,R=!_.allDay&&i?A1(T,i):T,x=Jl(R,t);x&&(b.display==="inverse-background"?_.groupId?r[_.groupId].push(x):a[v.defId].push(x):b.display!=="none"&&(b.display==="background"?u:h).push({def:_,ui:b,instance:v,range:x,isStart:R.start&&R.start.valueOf()===x.start.valueOf(),isEnd:R.end&&R.end.valueOf()===x.end.valueOf()}))}for(let p in r){let v=r[p],_=ZT(v,t);for(let b of _){let T=l[p],R=f[T.defId];u.push({def:T,ui:R,instance:null,range:b,isStart:!1,isEnd:!1})}}for(let p in a){let v=a[p],_=ZT(v,t);for(let b of _)u.push({def:n.defs[p],ui:f[p],instance:null,range:b,isStart:!1,isEnd:!1})}return{bg:u,fg:h}}function rx(n,e){n.fcSeg=e}function ec(n){return n.fcSeg||n.parentNode.fcSeg||null}function Ug(n,e){return Oo(n,t=>N1(t,e))}function N1(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),I5(t)}function Y5(n,e){let t=n.map(Q5);return t.sort((i,r)=>u6(i,r,e)),t.map(i=>i._seg)}function Q5(n){let{eventRange:e}=n,t=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,a=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:a,duration:a-r,allDay:Number(t.allDay),_seg:n})}function K5(n,e){let{pluginHooks:t}=e,i=t.isDraggableTransformers,{def:r,ui:a}=n.eventRange,l=a.startEditable;for(let u of i)l=u(l,r,a,e);return l}function X5(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function Z5(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function P1(n,e,t,i,r,a,l){let{dateEnv:u,options:h}=t,{displayEventTime:f,displayEventEnd:p}=h,v=n.eventRange.def,_=n.eventRange.instance;f==null&&(f=i!==!1),p==null&&(p=r!==!1);let b=_.range.start,T=_.range.end,R=n.start||n.eventRange.range.start,x=n.end||n.eventRange.range.end,M=gt(b).valueOf()===gt(R).valueOf(),V=gt(pa(T,-1)).valueOf()===gt(pa(x,-1)).valueOf();return f&&!v.allDay&&(M||V)?(R=M?b:R,x=V?T:x,p&&v.hasEnd?u.formatRange(R,x,e,{forcedStartTzo:_.forcedStartTzo,forcedEndTzo:_.forcedEndTzo}):u.format(R,e,{forcedTzo:_.forcedStartTzo})):""}function Ku(n,e,t){let i=n.eventRange.range;return{isPast:i.end<=e.start,isFuture:i.start>=e.end,isToday:e&&sa(e,i.start)}}function J5(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function eF(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function L1(n,e){let{def:t,instance:i}=n.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:a,options:l}=e,{eventInteractive:u}=l;return u==null&&(u=t.interactive,u==null&&(u=!!a.hasHandlers("eventClick"))),u?g1(h=>{a.trigger("eventClick",{el:h.target,event:new pt(e,t,i),jsEvent:h,view:e.viewApi})}):{}}const tF={start:K,end:K,allDay:Boolean};function nF(n,e,t){let i=iF(n,e),{range:r}=i;if(!r.start)return null;if(!r.end){if(t==null)return null;r.end=e.add(r.start,t)}return i}function iF(n,e){let{refined:t,extra:i}=Vb(n,tF),r=t.start?e.createMarkerMeta(t.start):null,a=t.end?e.createMarkerMeta(t.end):null,{allDay:l}=t;return l==null&&(l=r&&r.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:a?a.marker:null},allDay:l},i)}function rF(n,e){return y5(n.range,e.range)&&n.allDay===e.allDay&&sF(n,e)}function sF(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function aF(n,e){return Object.assign(Object.assign({},j1(n.range,e,n.allDay)),{allDay:n.allDay})}function V1(n,e,t){return Object.assign(Object.assign({},j1(n,e,t)),{timeZone:e.timeZone})}function j1(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function oF(n,e,t){let i=R1({editable:!1},t),r=d_(i.refined,i.extra,"",n.allDay,!0,t);return{def:r,ui:N1(r,e),instance:Bb(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function lF(n,e,t){let i=!1,r=function(u){i||(i=!0,e(u))},a=function(u){i||(i=!0,t(u))},l=n(r,a);l&&typeof l.then=="function"&&l.then(r,a)}class sx extends Error{constructor(e,t){super(e),this.response=t}}function cF(n,e,t){n=n.toUpperCase();const i={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(r=>{if(r.ok)return r.json().then(a=>[a,r],()=>{throw new sx("Failure parsing JSON",r)});throw new sx("Request failed",r)})}let gv;function U1(){return gv==null&&(gv=uF()),gv}function uF(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}class hF extends At{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Lg(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Lg(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:i}=this.state,r=i||t.height==="auto"||t.contentHeight==="auto",a=!r&&t.height!=null?t.height:"",l=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return U1()||l.push("fc-liquid-hack"),e.children(l,a,r,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let fc=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function dF(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Yb(n){return{[n.component.uid]:n}}const g_={};class fF{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let i=this.getCurrentData(),r;t=t||"day",r=i.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),a,l;for(let u in t)r.push(u);for(a=0;a<r.length;a+=1)if(l=t[r[a]],l&&l.singleUnit===e)return l;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Ph(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),i=et(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),rn(t))}formatRange(e,t,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),rn(i),i)}formatIso(e,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:t})}select(e,t){let i;t==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:t};let r=this.getCurrentData(),a=nF(i,r.dateEnv,et({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),M1(a,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),W5(e,t))}addEvent(e,t){if(e instanceof pt){let l=e._def,u=e._instance;return this.getCurrentData().eventStore.defs[l.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:f_({def:l,instance:u})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),r;if(t instanceof Ol)r=t.internalEventSource;else if(typeof t=="boolean")t&&([r]=Ub(i.eventSources));else if(t!=null){let l=this.getEventSourceById(t);if(!l)return console.warn(`Could not find an event source with ID "${t}"`),null;r=l.internalEventSource}let a=x1(e,r,i,!1);if(a){let l=new pt(i,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:f_(a)}),this.triggerEventAdd(l),l}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:O1(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:i,instances:r}=t.eventStore;e=String(e);for(let a in i){let l=i[a];if(l.publicId===e){if(l.recurringDef)return new pt(t,l,null);for(let u in r){let h=r[u];if(h.defId===l.defId)return new pt(t,l,h)}}}return null}getEvents(){let e=this.getCurrentData();return go(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,i=[];for(let r in t)i.push(new Ol(e,t[r]));return i}getEventSourceById(e){let t=this.getCurrentData(),i=t.eventSources;e=String(e);for(let r in i)if(i[r].publicId===e)return new Ol(t,i[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof Ol)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=C1(e,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new Ol(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=et(e);t&&this.trigger("_scrollRequest",{time:t})}}function gF(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function z1(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function pF(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function mF(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function yF(n,e){return{left:n.left-e.left,top:n.top-e.top}}function H1(n,e,t,i){return{dow:n.getUTCDay(),isDisabled:!!(i&&!sa(i.activeRange,n)),isOther:!!(i&&!sa(i.currentRange,n)),isToday:!!(e&&sa(e,n)),isPast:!!(e&&n<e.start),isFuture:!!(e&&n>=e.end)}}function Qb(n,e){let t=["fc-day",`fc-day-${E6[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const vF=rn({year:"numeric",month:"long",day:"numeric"}),_F=rn({week:"long"});function p_(n,e,t="day",i=!0){const{dateEnv:r,options:a,calendarApi:l}=n;let u=r.format(e,t==="week"?_F:vF);if(a.navLinks){let h=r.toDate(e);const f=p=>{let v=t==="day"?a.navLinkDayClick:t==="week"?a.navLinkWeekClick:null;typeof v=="function"?v.call(l,r.toDate(e),p):(typeof v=="string"&&(t=v),l.zoomTo(e,t))};return Object.assign({title:Yu(a.navLinkHint,[u,h],u),"data-navlink":""},i?f1(f):{onClick:f})}return{"aria-label":u}}let pv=null;function bF(){return pv===null&&(pv=EF()),pv}function EF(){let n=document.createElement("div");$u(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return Mb(n),t}let mv;function wF(){return mv||(mv=AF()),mv}function AF(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=B1(n);return document.body.removeChild(n),e}function B1(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function SF(n,e=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,a=parseInt(t.borderTopWidth,10)||0,l=parseInt(t.borderBottomWidth,10)||0,u=B1(n),h=u.y-i-r,f=u.x-a-l,p={borderLeft:i,borderRight:r,borderTop:a,borderBottom:l,scrollbarBottom:f,scrollbarLeft:0,scrollbarRight:0};return bF()&&t.direction==="rtl"?p.scrollbarLeft=h:p.scrollbarRight=h,e&&(p.paddingLeft=parseInt(t.paddingLeft,10)||0,p.paddingRight=parseInt(t.paddingRight,10)||0,p.paddingTop=parseInt(t.paddingTop,10)||0,p.paddingBottom=parseInt(t.paddingBottom,10)||0),p}function TF(n,e=!1,t){let i=Kb(n),r=SF(n,e),a={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(a.left+=r.paddingLeft,a.right-=r.paddingRight,a.top+=r.paddingTop,a.bottom-=r.paddingBottom),a}function Kb(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function xF(n){let e=F1(n),t=n.getBoundingClientRect();for(let i of e){let r=z1(t,i.getBoundingClientRect());if(r)t=r;else return null}return t}function F1(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}class zg{constructor(e,t,i,r){this.els=t;let a=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(a.left),r&&this.buildElVerticals(a.top)}buildElHorizontals(e){let t=[],i=[];for(let r of this.els){let a=r.getBoundingClientRect();t.push(a.left-e),i.push(a.right-e)}this.lefts=t,this.rights=i}buildElVerticals(e){let t=[],i=[];for(let r of this.els){let a=r.getBoundingClientRect();t.push(a.top-e),i.push(a.bottom-e)}this.tops=t,this.bottoms=i}leftToIndex(e){let{lefts:t,rights:i}=this,r=t.length,a;for(a=0;a<r;a+=1)if(e>=t[a]&&e<i[a])return a}topToIndex(e){let{tops:t,bottoms:i}=this,r=t.length,a;for(a=0;a<r;a+=1)if(e>=t[a]&&e<i[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return _f(this.tops||[],e.tops||[])&&_f(this.bottoms||[],e.bottoms||[])&&_f(this.lefts||[],e.lefts||[])&&_f(this.rights||[],e.rights||[])}}function _f(n,e){const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(e[i]))return!1;return!0}class Xb{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class RF extends Xb{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class CF extends Xb{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Lo extends At{constructor(){super(...arguments),this.uid=Mo()}prepareHits(){}queryHit(e,t,i,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!An(e,".fc-event-mirror")}isValidDateDownEl(e){return!An(e,".fc-event:not(.fc-bg-event)")&&!An(e,".fc-more-link")&&!An(e,"a[data-navlink]")&&!An(e,".fc-popover")}}class DF{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let i of e)this.insertEntry(i,t);return t}insertEntry(e,t){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,i){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},t),{span:q1(t.span,e.touchingEntry.span)});i.push(r),this.splitEntry(t,e.touchingEntry,i)}else i.push(t)}splitEntry(e,t,i){let r=e.span,a=t.span;r.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:a.start}},i),r.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:r.end}},i)}insertEntryAt(e,t){let{entriesByLevel:i,levelCoords:r}=this;t.lateral===-1?(yv(r,t.level,t.levelCoord),yv(i,t.level,[e])):yv(i[t.level],t.lateral,e),this.stackCnts[Xu(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:i,strictOrder:r,stackCnts:a}=this,l=t.length,u=0,h=-1,f=-1,p=null,v=0;for(let T=0;T<l;T+=1){const R=t[T];if(!r&&R>=u+this.getEntryThickness(e))break;let x=i[T],M,V=ox(x,e.span.start,ax),z=V[0]+V[1];for(;(M=x[z])&&M.span.start<e.span.end;){let $=R+this.getEntryThickness(M);$>u&&(u=$,p=M,h=T,f=z),$===u&&(v=Math.max(v,a[Xu(M)]+1)),z+=1}}let _=0;if(p)for(_=h+1;_<l&&t[_]<u;)_+=1;let b=-1;return _<l&&t[_]===u&&(b=ox(i[_],e.span.end,ax)[0]),{touchingLevel:h,touchingLateral:f,touchingEntry:p,stackCnt:v,levelCoord:u,level:_,lateral:b}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,i=e.length,r=[];for(let a=0;a<i;a+=1){let l=e[a],u=t[a];for(let h of l)r.push(Object.assign(Object.assign({},h),{thickness:this.getEntryThickness(h),levelCoord:u}))}return r}}function ax(n){return n.span.end}function Xu(n){return n.index+":"+n.span.start}function q1(n,e){let t=Math.max(n.start,e.start),i=Math.min(n.end,e.end);return t<i?{start:t,end:i}:null}function yv(n,e,t){n.splice(e,0,t)}function ox(n,e,t){let i=0,r=n.length;if(!r||e<t(n[i]))return[0,0];if(e>t(n[r-1]))return[r,0];for(;i<r;){let a=Math.floor(i+(r-i)/2),l=t(n[a]);if(e<l)r=a;else if(e>l)i=a+1;else return[a,1]}return[i,0]}class IF{constructor(e,t){this.emitter=new kp}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Zb={};function kF(n,e){return!n||e>10?rn({weekday:"short"}):e>1?rn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):rn({weekday:"long"})}const W1="fc-col-header-cell";function G1(n){return n.text}class MF extends At{render(){let{dateEnv:e,options:t,theme:i,viewApi:r}=this.context,{props:a}=this,{date:l,dateProfile:u}=a,h=H1(l,a.todayRange,null,u),f=[W1].concat(Qb(h,i)),p=e.format(l,a.dayHeaderFormat),v=!h.isDisabled&&a.colCnt>1?p_(this.context,l):{},_=Object.assign(Object.assign(Object.assign({date:e.toDate(l),view:r},a.extraRenderProps),{text:p}),h);return Z(os,{elTag:"th",elClasses:f,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":h.isDisabled?void 0:Pb(l)},a.extraDataAttrs),renderProps:_,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:G1,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},b=>Z("div",{className:"fc-scrollgrid-sync-inner"},!h.isDisabled&&Z(b,{elTag:"a",elAttrs:v,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const OF=rn({weekday:"long"});class NF extends At{render(){let{props:e}=this,{dateEnv:t,theme:i,viewApi:r,options:a}=this.context,l=Sn(new Date(2592e5),e.dow),u={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},h=t.format(l,e.dayHeaderFormat),f=Object.assign(Object.assign(Object.assign(Object.assign({date:l},u),{view:r}),e.extraRenderProps),{text:h});return Z(os,{elTag:"th",elClasses:[W1,...Qb(u,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:f,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:G1,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},p=>Z("div",{className:"fc-scrollgrid-sync-inner"},Z(p,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(l,OF)}})))}}class Jb extends ei{constructor(e,t){super(e,t),this.initialNowDate=Ph(t.options.now,t.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:t}=this,i=pa(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),r=t.dateEnv.startOf(i,e.unit),a=t.dateEnv.add(r,et(1,e.unit)),l=a.valueOf()-i.valueOf();return l=Math.min(1e3*60*60*24,l),{currentState:{nowDate:r,todayRange:lx(r)},nextState:{nowDate:a,todayRange:lx(a)},waitMs:l}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Jb.contextType=No;function lx(n){let e=gt(n),t=Sn(e,1);return{start:e,end:t}}class PF extends At{constructor(){super(...arguments),this.createDayHeaderFormatter=tt(LF)}render(){let{context:e}=this,{dates:t,dateProfile:i,datesRepDistinctDays:r,renderIntro:a}=this.props,l=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return Z(Jb,{unit:"day"},(u,h)=>Z("tr",{role:"row"},a&&a("day"),t.map(f=>r?Z(MF,{key:f.toISOString(),date:f,dateProfile:i,todayRange:h,colCnt:t.length,dayHeaderFormat:l}):Z(NF,{key:f.getUTCDay(),dow:f.getUTCDay(),dayHeaderFormat:l}))))}}function LF(n,e,t){return n||kF(e,t)}class VF{constructor(e,t){let i=e.start,{end:r}=e,a=[],l=[],u=-1;for(;i<r;)t.isHiddenDay(i)?a.push(u+.5):(u+=1,a.push(u),l.push(i)),i=Sn(i,1);this.dates=l,this.indices=a,this.cnt=l.length}sliceRange(e){let t=this.getDateDayIndex(e.start),i=this.getDateDayIndex(Sn(e.end,-1)),r=Math.max(0,t),a=Math.min(this.cnt-1,i);return r=Math.ceil(r),a=Math.floor(a),r<=a?{firstIndex:r,lastIndex:a,isStart:t===r,isEnd:i===a}:null}getDateDayIndex(e){let{indices:t}=this,i=Math.floor(dc(this.dates[0],e));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}}class jF{constructor(e,t){let{dates:i}=e,r,a,l;if(t){for(a=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==a;r+=1);l=Math.ceil(i.length/r)}else l=1,r=i.length;this.rowCnt=l,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(t,r));e.push(i)}return e}buildCell(e,t){let i=this.daySeries.dates[e*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,i=this.daySeries.sliceRange(e),r=[];if(i){let{firstIndex:a,lastIndex:l}=i,u=a;for(;u<=l;){let h=Math.floor(u/t),f=Math.min((h+1)*t,l+1);r.push({row:h,firstCol:u%t,lastCol:(f-1)%t,isStart:i.isStart&&u===a,isEnd:i.isEnd&&f-1===l}),u=f}}return r}}class UF{constructor(){this.sliceBusinessHours=tt(this._sliceBusinessHours),this.sliceDateSelection=tt(this._sliceDateSpan),this.sliceEventStore=tt(this._sliceEventStore),this.sliceEventDrag=tt(this._sliceInteraction),this.sliceEventResize=tt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,i,r,...a){let{eventUiBases:l}=e,u=this.sliceEventStore(e.eventStore,l,t,i,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,i,l,r,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,i,r,...a),fgEventSegs:u.fg,bgEventSegs:u.bg,eventDrag:this.sliceEventDrag(e.eventDrag,l,t,i,...a),eventResize:this.sliceEventResize(e.eventResize,l,t,i,...a),eventSelection:e.eventSelection}}sliceNowDate(e,t,i,r,...a){return this._sliceDateSpan({range:{start:e,end:pa(e,1)},allDay:!1},t,i,{},r,...a)}_sliceBusinessHours(e,t,i,r,...a){return e?this._sliceEventStore(Ao(e,bf(t,!!i),r),{},t,i,...a).bg:[]}_sliceEventStore(e,t,i,r,...a){if(e){let l=ix(e,t,bf(i,!!r),r);return{bg:this.sliceEventRanges(l.bg,a),fg:this.sliceEventRanges(l.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,i,r,...a){if(!e)return null;let l=ix(e.mutatedEvents,t,bf(i,!!r),r);return{segs:this.sliceEventRanges(l.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,i,r,a,...l){if(!e)return[];let u=bf(t,!!i),h=Jl(e.range,u);if(h){e=Object.assign(Object.assign({},e),{range:h});let f=oF(e,r,a),p=this.sliceRange(e.range,...l);for(let v of p)v.eventRange=f;return p}return[]}sliceEventRanges(e,t){let i=[];for(let r of e)i.push(...this.sliceEventRange(r,t));return i}sliceEventRange(e,t){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:Sn(i.start,1)});let r=this.sliceRange(i,...t);for(let a of r)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return r}}function bf(n,e){let t=n.activeRange;return e?t:{start:pa(t.start,n.slotMinTime.milliseconds),end:pa(t.end,n.slotMaxTime.milliseconds-864e5)}}function $1(n,e,t){let{instances:i}=n.mutatedEvents;for(let r in i)if(!Dp(e.validRange,i[r].range))return!1;return Y1({eventDrag:n},t)}function zF(n,e,t){return Dp(e.validRange,n.range)?Y1({dateSelection:n},t):!1}function Y1(n,e){let t=e.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||HF)(i,e)}function HF(n,e,t={},i){return!(n.eventDrag&&!BF(n,e,t,i)||n.dateSelection&&!FF(n,e,t,i))}function BF(n,e,t,i){let r=e.getCurrentData(),a=n.eventDrag,l=a.mutatedEvents,u=l.defs,h=l.instances,f=Ug(u,a.isEvent?n.eventUiBases:{"":r.selectionConfig});i&&(f=Oo(f,i));let p=j5(n.eventStore,a.affectedEvents.instances),v=p.defs,_=p.instances,b=Ug(v,n.eventUiBases);for(let T in h){let R=h[T],x=R.range,M=f[R.defId],V=u[R.defId];if(!Q1(M.constraints,x,p,n.businessHours,e))return!1;let{eventOverlap:z}=e.options,$=typeof z=="function"?z:null;for(let ne in _){let N=_[ne];if(Hb(x,N.range)&&(b[N.defId].overlap===!1&&a.isEvent||M.overlap===!1||$&&!$(new pt(e,v[N.defId],N),new pt(e,V,R))))return!1}let J=r.eventStore;for(let ne of M.allows){let N=Object.assign(Object.assign({},t),{range:R.range,allDay:V.allDay}),D=J.defs[V.defId],I=J.instances[T],O;if(D?O=new pt(e,D,I):O=new pt(e,V),!ne(Gb(N,e),O))return!1}}return!0}function FF(n,e,t,i){let r=n.eventStore,a=r.defs,l=r.instances,u=n.dateSelection,h=u.range,{selectionConfig:f}=e.getCurrentData();if(i&&(f=i(f)),!Q1(f.constraints,h,r,n.businessHours,e))return!1;let{selectOverlap:p}=e.options,v=typeof p=="function"?p:null;for(let _ in l){let b=l[_];if(Hb(h,b.range)&&(f.overlap===!1||v&&!v(new pt(e,a[b.defId],b),null)))return!1}for(let _ of f.allows){let b=Object.assign(Object.assign({},t),u);if(!_(Gb(b,e),null))return!1}return!0}function Q1(n,e,t,i,r){for(let a of n)if(!WF(qF(a,e,t,i,r),e))return!1;return!0}function qF(n,e,t,i,r){return n==="businessHours"?vv(Ao(i,e,r)):typeof n=="string"?vv(Ip(t,a=>a.groupId===n)):typeof n=="object"&&n?vv(Ao(n,e,r)):[]}function vv(n){let{instances:e}=n,t=[];for(let i in e)t.push(e[i].range);return t}function WF(n,e){for(let t of n)if(Dp(t,e))return!0;return!1}const Ef=/^(visible|hidden)$/;class GF extends At{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,ss(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:i}=e,r=t&&i,a=["fc-scroller"];return t&&(i?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),Z("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Ef.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Ef.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Ef.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Ef.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class ho{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:r,currentMap:a}=this,l=!1,u=!1;t!==null?(l=i in a,a[i]=t,r[i]=(r[i]||0)+1,u=!0):(r[i]-=1,r[i]||(delete a[i],delete this.callbackMap[i],l=!0)),this.masterCallback&&(l&&this.masterCallback(null,String(i)),u&&this.masterCallback(t,String(i)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),t}collect(e,t,i){return e5(this.currentMap,e,t,i)}getAll(){return Ub(this.currentMap)}}function $F(n){let e=e6(n,".fc-scrollgrid-shrink"),t=0;for(let i of e)t=Math.max(t,g6(i));return Math.ceil(t)}function K1(n,e){return n.liquid&&e.liquid}function YF(n,e){return e.maxHeight!=null||K1(n,e)}function QF(n,e,t,i){let{expandRows:r}=t;return typeof e.content=="function"?e.content(t):Z("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,Z(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function KF(n,e){return ga(n,e,mr)}function XF(n,e){let t=[];for(let i of n){let r=i.span||1;for(let a=0;a<r;a+=1)t.push(Z("col",{style:{width:i.width==="shrink"?ZF(e):i.width||"",minWidth:i.minWidth||""}}))}return Z("colgroup",{},...t)}function ZF(n){return n??4}function JF(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function e3(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function t3(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function n3(n){return Z("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function cx(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function i3(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}class X1 extends At{constructor(){super(...arguments),this.processCols=tt(e=>e,KF),this.renderMicroColGroup=tt(XF),this.scrollerRefs=new ho,this.scrollerElRefs=new ho(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:i}=this,r=e.sections||[],a=this.processCols(e.cols),l=this.renderMicroColGroup(a,t.shrinkWidth),u=e3(e.liquid,i);e.collapsibleWidth&&u.push("fc-scrollgrid-collapsible");let h=r.length,f=0,p,v=[],_=[],b=[];for(;f<h&&(p=r[f]).type==="header";)v.push(this.renderSection(p,l,!0)),f+=1;for(;f<h&&(p=r[f]).type==="body";)_.push(this.renderSection(p,l,!1)),f+=1;for(;f<h&&(p=r[f]).type==="footer";)b.push(this.renderSection(p,l,!0)),f+=1;let T=!U1();const R={role:"rowgroup"};return Z("table",{role:"grid",className:u.join(" "),style:{height:e.height}},!!(!T&&v.length)&&Z("thead",R,...v),!!(!T&&_.length)&&Z("tbody",R,..._),!!(!T&&b.length)&&Z("tfoot",R,...b),T&&Z("tbody",R,...v,..._,...b))}renderSection(e,t,i){return"outerContent"in e?Z(Mt,{key:e.key},e.outerContent):Z("tr",{key:e.key,role:"presentation",className:t3(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,i))}renderChunkTd(e,t,i,r){if("outerContent"in i)return i.outerContent;let{props:a}=this,{forceYScrollbars:l,scrollerClientWidths:u,scrollerClientHeights:h}=this.state,f=YF(a,e),p=K1(a,e),v=a.liquid?l?"scroll":f?"auto":"hidden":"visible",_=e.key,b=QF(e,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&u[_]!==void 0?u[_]:null,clientHeight:h[_]!==void 0?h[_]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return Z(r?"th":"td",{ref:i.elRef,role:"presentation"},Z("div",{className:`fc-scroller-harness${p?" fc-scroller-harness-liquid":""}`},Z(GF,{ref:this.scrollerRefs.createRef(_),elRef:this.scrollerElRefs.createRef(_),overflowY:v,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:p,liquidIsAbsolute:!0},b)))}_handleScrollerEl(e,t){let i=r3(this.props.sections,t);i&&ss(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return JF(this.props.cols)?$F(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=wF(),{scrollerRefs:t,scrollerElRefs:i}=this,r=!1,a={},l={};for(let u in t.currentMap){let h=t.currentMap[u];if(h&&h.needsYScrolling()){r=!0;break}}for(let u of this.props.sections){let h=u.key,f=i.currentMap[h];if(f){let p=f.parentNode;a[h]=Math.floor(p.getBoundingClientRect().width-(r?e.y:0)),l[h]=Math.floor(p.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:a,scrollerClientHeights:l}}}X1.addStateEquality({scrollerClientWidths:mr,scrollerClientHeights:mr});function r3(n,e){for(let t of n)if(t.key===e)return t;return null}class e0 extends At{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&rx(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{eventRange:a}=r,{ui:l}=a,u={event:new pt(t,a.def,a.instance),view:t.viewApi,timeText:e.timeText,textColor:l.textColor,backgroundColor:l.backgroundColor,borderColor:l.borderColor,isDraggable:!e.disableDragging&&K5(r,t),isStartResizable:!e.disableResizing&&X5(r,t),isEndResizable:!e.disableResizing&&Z5(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return Z(os,Object.assign({},e,{elRef:this.handleEl,elClasses:[...J5(u),...r.eventRange.ui.classNames,...e.elClasses||[]],renderProps:u,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&rx(this.el,this.props.seg)}}class s3 extends At{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{ui:a}=r.eventRange,l=i.eventTimeFormat||e.defaultTimeFormat,u=P1(r,l,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return Z(e0,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:L1(r,t),defaultGenerator:a3,timeText:u}),(h,f)=>Z(Mt,null,Z(h,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:f.textColor}}),!!f.isStartResizable&&Z("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!f.isEndResizable&&Z("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function a3(n){return Z("div",{className:"fc-event-main-frame"},n.timeText&&Z("div",{className:"fc-event-time"},n.timeText),Z("div",{className:"fc-event-title-container"},Z("div",{className:"fc-event-title fc-sticky"},n.event.title||Z(Mt,null," "))))}const o3=rn({day:"numeric"});class Z1 extends At{constructor(){super(...arguments),this.refineRenderProps=Zf(l3)}render(){let{props:e,context:t}=this,{options:i}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return Z(os,Object.assign({},e,{elClasses:[...Qb(r,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":Pb(e.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}}function J1(n){return!!(n.dayCellContent||h_("dayCellContent",n))}function l3(n){let{date:e,dateEnv:t,dateProfile:i,isMonthStart:r}=n,a=H1(e,n.todayRange,null,i),l=n.showDayNumber?t.format(e,r?n.monthStartFormat:o3):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},a),{isMonthStart:r,dayNumberText:l}),n.extraRenderProps)}class c3 extends At{render(){let{props:e}=this,{seg:t}=e;return Z(e0,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:u3,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function u3(n){let{title:e}=n.event;return e&&Z("div",{className:"fc-event-title"},n.event.title)}function h3(n){return Z("div",{className:`fc-${n}`})}const d3=n=>Z(No.Consumer,null,e=>{let{dateEnv:t,options:i}=e,{date:r}=n,a=i.weekNumberFormat||n.defaultFormat,l=t.computeWeekNumber(r),u=t.format(r,a);return Z(os,Object.assign({},n,{renderProps:{num:l,text:u,date:r},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:f3,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function f3(n){return n.text}const _v=10;class g3 extends At{constructor(){super(...arguments),this.state={titleId:Rp()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&ss(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=h1(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:i,state:r}=this,a=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return zB(Z("div",Object.assign({},i.extraAttrs,{id:i.id,className:a.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),Z("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},Z("span",{className:"fc-popover-title",id:r.titleId},i.title),Z("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),Z("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:r}=this,a=xF(t);if(a){let l=r.getBoundingClientRect(),u=i?An(t,".fc-scrollgrid").getBoundingClientRect().top:a.top,h=e?a.right-l.width:a.left;u=Math.max(u,_v),h=Math.min(h,document.documentElement.clientWidth-_v-l.width),h=Math.max(h,_v);let f=r.offsetParent.getBoundingClientRect();$u(r,{top:u-f.top,left:h-f.left})}}}class p3 extends Lo{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:i}=this,{startDate:r,todayRange:a,dateProfile:l}=i,u=t.format(r,e.dayPopoverFormat);return Z(Z1,{elRef:this.handleRootEl,date:r,dateProfile:l,todayRange:a},(h,f,p)=>Z(g3,{elRef:p.ref,id:i.id,title:u,extraClassNames:["fc-more-popover"].concat(p.className||[]),extraAttrs:p,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},J1(e)&&Z(h,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,t,i,r){let{rootEl:a,props:l}=this;return e>=0&&e<i&&t>=0&&t<r?{dateProfile:l.dateProfile,dateSpan:Object.assign({allDay:!l.forceTimed,range:{start:l.startDate,end:l.endDate}},l.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}}class m3 extends At{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Rp()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&ss(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:i}=this,{moreLinkClick:r}=i.options,a=ux(t).start;function l(u){let{def:h,instance:f,range:p}=u.eventRange;return{event:new pt(i,h,f),start:i.dateEnv.toDate(p.start),end:i.dateEnv.toDate(p.end),isStart:u.isStart,isEnd:u.isEnd}}typeof r=="function"&&(r=r({date:a,allDay:!!t.allDayDate,allSegs:t.allSegs.map(l),hiddenSegs:t.hiddenSegs.map(l),jsEvent:e,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(a,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return Z(No.Consumer,null,i=>{let{viewApi:r,options:a,calendarApi:l}=i,{moreLinkText:u}=a,{moreCnt:h}=e,f=ux(e),p=typeof u=="function"?u.call(l,h):`+${h} ${u}`,v=Yu(a.moreLinkHint,[h],p),_={num:h,shortText:`+${h}`,text:p,view:r};return Z(Mt,null,!!e.moreCnt&&Z(os,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),f1(this.handleClick)),{title:v,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:_,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||y3,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),t.isPopoverOpen&&Z(p3,{id:t.popoverId,startDate:f.start,endDate:f.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=An(this.linkEl,".fc-view-harness"))}}function y3(n){return n.text}function ux(n){if(n.allDayDate)return{start:n.allDayDate,end:Sn(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:v3(e),end:b3(e)}}function v3(n){return n.reduce(_3).eventRange.range.start}function _3(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function b3(n){return n.reduce(E3).eventRange.range.end}function E3(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class w3{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class A3 extends w3{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let i=!1;e.isActive?(t.set(e.id,e),i=!0):t.has(e.id)&&(t.delete(e.id),i=!0),i&&this.set(t)}}const S3=[],ek={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},tk=Object.assign(Object.assign({},ek),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function T3(n){let e=n.length>0?n[0].code:"en",t=S3.concat(n),i={en:tk};for(let r of t)i[r.code]=r;return{map:i,defaultCode:e}}function nk(n,e){return typeof n=="object"&&!Array.isArray(n)?ik(n.code,[n.code],n):x3(n,e)}function x3(n,e){let t=[].concat(n||[]),i=R3(t,e)||tk;return ik(n,t,i)}function R3(n,e){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let a=i.slice(0,r).join("-");if(e[a])return e[a]}}return null}function ik(n,e,t){let i=jb([ek,t],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:n,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function ba(n){return{id:Mo(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function C3(n,e){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(a){for(let l of a){const u=l.name,h=t[u];h===void 0?(t[u]=l.id,r(l.deps),i=I3(i,l)):h!==l.id&&console.warn(`Duplicate plugin '${u}'`)}}return n&&r(n),r(e),i}function D3(){let n=[],e=[],t;return(i,r)=>((!t||!ga(i,n)||!ga(r,e))&&(t=C3(i,r)),n=i,e=r,t)}function I3(n,e){return{premiumReleaseDate:k3(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function k3(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class Ea extends Nh{}Ea.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Ea.prototype.baseIconClass="fc-icon";Ea.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Ea.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Ea.prototype.iconOverrideOption="buttonIcons";Ea.prototype.iconOverrideCustomButtonOption="icon";Ea.prototype.iconOverridePrefix="fc-icon-";function M3(n,e){let t={},i;for(i in n)m_(i,t,n,e);for(i in e)m_(i,t,n,e);return t}function m_(n,e,t,i){if(e[n])return e[n];let r=O3(n,e,t,i);return r&&(e[n]=r),r}function O3(n,e,t,i){let r=t[n],a=i[n],l=p=>r&&r[p]!==null?r[p]:a&&a[p]!==null?a[p]:null,u=l("component"),h=l("superType"),f=null;if(h){if(h===n)throw new Error("Can't have a custom view type that references itself");f=m_(h,e,t,i)}return!u&&f&&(u=f.component),u?{type:n,component:u,defaults:Object.assign(Object.assign({},f?f.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},f?f.overrides:{}),a?a.rawOptions:{})}:null}function hx(n){return Oo(n,N3)}function N3(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=dx(e):t&&!(t.prototype instanceof At)&&(t=dx(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function dx(n){return e=>Z(No.Consumer,null,t=>Z(os,{elTag:"div",elClasses:E1(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function P3(n,e,t,i){let r=hx(n),a=hx(e.views),l=M3(r,a);return Oo(l,u=>L3(u,a,e,t,i))}function L3(n,e,t,i,r){let a=n.overrides.duration||n.defaults.duration||i.duration||t.duration,l=null,u="",h="",f={};if(a&&(l=V3(a),l)){let _=c_(l);u=_.unit,_.value===1&&(h=u,f=e[u]?e[u].rawOptions:{})}let p=_=>{let b=_.buttonText||{},T=n.defaults.buttonTextKey;return T!=null&&b[T]!=null?b[T]:b[n.type]!=null?b[n.type]:b[h]!=null?b[h]:null},v=_=>{let b=_.buttonHints||{},T=n.defaults.buttonTextKey;return T!=null&&b[T]!=null?b[T]:b[n.type]!=null?b[n.type]:b[h]!=null?b[h]:null};return{type:n.type,component:n.component,duration:l,durationUnit:u,singleUnit:h,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},f),n.overrides),buttonTextOverride:p(i)||p(t)||n.overrides.buttonText,buttonTextDefault:p(r)||n.defaults.buttonText||p(Qu)||n.type,buttonTitleOverride:v(i)||v(t)||n.overrides.buttonHint,buttonTitleDefault:v(r)||n.defaults.buttonHint||v(Qu)}}let fx={};function V3(n){let e=JSON.stringify(n),t=fx[e];return t===void 0&&(t=et(n),fx[e]=t),t}function j3(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function U3(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function z3(n,e,t,i){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||t);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(n,t),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(n,t),r.isValid)return r;break}return n}function H3(n,e,t){let i=e?e.activeRange:null;return sk({},Y3(n,t),i,t)}function B3(n,e,t,i){let r=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return sk(n,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return q3(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?ak(n,r,i):n;case"FETCH_EVENT_SOURCES":return t0(n,e.sourceIds?m1(e.sourceIds):ok(n,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return $3(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function F3(n,e,t){let i=e?e.activeRange:null;return t0(n,ok(n,t),i,!0,t)}function rk(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function sk(n,e,t,i){let r={};for(let a of e)r[a.sourceId]=a;return t&&(r=ak(r,t,i)),Object.assign(Object.assign({},n),r)}function q3(n,e){return wo(n,t=>t.sourceId!==e)}function ak(n,e,t){return t0(n,wo(n,i=>W3(i,e,t)),e,!1,t)}function W3(n,e,t){return lk(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function t0(n,e,t,i,r){let a={};for(let l in n){let u=n[l];e[l]?a[l]=G3(u,t,i,r):a[l]=u}return a}function G3(n,e,t,i){let{options:r,calendarApi:a}=i,l=i.pluginHooks.eventSourceDefs[n.sourceDefId],u=Mo();return l.fetch({eventSource:n,range:e,isRefetch:t,context:i},h=>{let{rawEvents:f}=h;r.eventSourceSuccess&&(f=r.eventSourceSuccess.call(a,f,h.response)||f),n.success&&(f=n.success.call(a,f,h.response)||f),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:u,fetchRange:e,rawEvents:f})},h=>{let f=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(a,h),f=!0),n.failure&&(n.failure(h),f=!0),f||console.warn(h.message,h),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:u,fetchRange:e,error:h})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:u})}function $3(n,e,t,i){let r=n[e];return r&&t===r.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):n}function ok(n,e){return wo(n,t=>lk(t,e))}function Y3(n,e){let t=D1(e),i=[].concat(n.eventSources||[]),r=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let a of i){let l=C1(a,e,t);l&&r.push(l)}return r}function lk(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function Q3(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function K3(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function X3(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function Z3(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function J3(n,e,t,i,r){let a=n.headerToolbar?gx(n.headerToolbar,n,e,t,i,r):null,l=n.footerToolbar?gx(n.footerToolbar,n,e,t,i,r):null;return{header:a,footer:l}}function gx(n,e,t,i,r,a){let l={},u=[],h=!1;for(let f in n){let p=n[f],v=e9(p,e,t,i,r,a);l[f]=v.widgets,u.push(...v.viewsWithButtons),h=h||v.hasTitle}return{sectionWidgets:l,viewsWithButtons:u,hasTitle:h}}function e9(n,e,t,i,r,a){let l=e.direction==="rtl",u=e.customButtons||{},h=t.buttonText||{},f=e.buttonText||{},p=t.buttonHints||{},v=e.buttonHints||{},_=n?n.split(" "):[],b=[],T=!1;return{widgets:_.map(x=>x.split(",").map(M=>{if(M==="title")return T=!0,{buttonName:M};let V,z,$,J,ne,N;if(V=u[M])$=D=>{V.click&&V.click.call(D.target,D,D.target)},(J=i.getCustomButtonIconClass(V))||(J=i.getIconClass(M,l))||(ne=V.text),N=V.hint||V.text;else if(z=r[M]){b.push(M),$=()=>{a.changeView(M)},(ne=z.buttonTextOverride)||(J=i.getIconClass(M,l))||(ne=z.buttonTextDefault);let D=z.buttonTextOverride||z.buttonTextDefault;N=Yu(z.buttonTitleOverride||z.buttonTitleDefault||e.viewHint,[D,M],D)}else if(a[M])if($=()=>{a[M]()},(ne=h[M])||(J=i.getIconClass(M,l))||(ne=f[M]),M==="prevYear"||M==="nextYear"){let D=M==="prevYear"?"prev":"next";N=Yu(p[D]||v[D],[f.year||"year","year"],f[M])}else N=D=>Yu(p[M]||v[M],[f[D]||D,D],f[M]);return{buttonName:M,buttonClick:$,buttonIcon:J,buttonText:ne,buttonHint:N}})),viewsWithButtons:b,hasTitle:T}}class t9{constructor(e,t,i){this.type=e,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let n9={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const i9=ba({name:"array-event-source",eventSourceDefs:[n9]});let r9={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:i}=n.context,r=n.eventSource.meta;lF(r.bind(null,V1(n.range,i)),a=>e({rawEvents:a}),t)}};const s9=ba({name:"func-event-source",eventSourceDefs:[r9]}),a9={method:String,extraParams:K,startParam:String,endParam:String,timeZoneParam:String};let o9={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:i}=n.eventSource,r=c9(i,n.range,n.context);cF(i.method,i.url,r).then(([a,l])=>{e({rawEvents:a,response:l})},t)}};const l9=ba({name:"json-event-source",eventSourceRefiners:a9,eventSourceDefs:[o9]});function c9(n,e,t){let{dateEnv:i,options:r}=t,a,l,u,h,f={};return a=n.startParam,a==null&&(a=r.startParam),l=n.endParam,l==null&&(l=r.endParam),u=n.timeZoneParam,u==null&&(u=r.timeZoneParam),typeof n.extraParams=="function"?h=n.extraParams():h=n.extraParams||{},Object.assign(f,h),f[a]=i.formatIso(e.start),f[l]=i.formatIso(e.end),i.timeZone!=="local"&&(f[u]=i.timeZone),f}const u9={daysOfWeek:K,startTime:et,endTime:et,duration:et,startRecur:K,endRecur:K};let h9={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null},i;return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=v6(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:i,typeData:t}}return null},expand(n,e,t){let i=Jl(e,{start:n.startRecur,end:n.endRecur});return i?f9(n.daysOfWeek,n.startTime,i,t):[]}};const d9=ba({name:"simple-recurring-event",recurringTypes:[h9],eventRefiners:u9});function f9(n,e,t,i){let r=n?m1(n):null,a=gt(t.start),l=t.end,u=[];for(;a<l;){let h;(!r||r[a.getUTCDay()])&&(e?h=i.add(a,e):h=a,u.push(h)),a=Sn(a,1)}return u}const g9=ba({name:"change-handler",optionChangeHandlers:{events(n,e){px([n],e)},eventSources:px}});function px(n,e){let t=Ub(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let i=[];for(let r of n){let a=!1;for(let l=0;l<t.length;l+=1)if(t[l]._raw===r){t.splice(l,1),a=!0;break}a||i.push(r)}for(let r of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)e.calendarApi.addEventSource(r)}function p9(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},V1(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function m9(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",go(n,e))}const y9=[i9,s9,l9,d9,g9,ba({name:"misc",isLoadingFuncs:[n=>rk(n.eventSources)],propSetHandlers:{dateProfile:p9,eventStore:m9}})];class v9{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new kb(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],i;for(;i=e.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function _9(n,e,t){let i;return/^(year|month)$/.test(n.currentRangeUnit)?i=n.currentRange:i=n.activeRange,t.formatRange(i.start,i.end,rn(e.titleFormat||b9(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function b9(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=Mg(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class E9{constructor(e){this.computeCurrentViewData=tt(this._computeCurrentViewData),this.organizeRawLocales=tt(T3),this.buildLocale=tt(nk),this.buildPluginHooks=D3(),this.buildDateEnv=tt(w9),this.buildTheme=tt(A9),this.parseToolbars=tt(J3),this.buildViewSpecs=tt(P3),this.buildDateProfileGenerator=Zf(S9),this.buildViewApi=tt(T9),this.buildViewUiProps=Zf(C9),this.buildEventUiBySource=tt(x9,mr),this.buildEventUiBases=tt(R9),this.parseContextBusinessHours=Zf(D9),this.buildTitle=tt(_9),this.emitter=new kp,this.actionRunner=new v9(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=_=>{this.actionRunner.request(_)},this.props=e,this.actionRunner.pause();let t={},i=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,a=this.computeCurrentViewData(r,i,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let l=b5(i.calendarOptions,i.dateEnv),u=a.dateProfileGenerator.build(l);sa(u.activeRange,l)||(l=u.currentRange.start);let h={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let _ of i.pluginHooks.contextInit)_(h);let f=H3(i.calendarOptions,u,h),p={dynamicOptionOverrides:t,currentViewType:r,currentDate:l,dateProfile:u,businessHours:this.parseContextBusinessHours(h),eventSources:f,eventUiBases:{},eventStore:Oi(),renderableEventStore:Oi(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(h).selectionConfig},v=Object.assign(Object.assign({},h),p);for(let _ of i.pluginHooks.reducers)Object.assign(p,_(null,null,v));bv(p,h)&&this.emitter.trigger("loading",!0),this.state=p,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:i}=this;t===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:i,emitter:r}=this,a=U3(i.dynamicOptionOverrides,e),l=this.computeOptionsData(t.optionOverrides,a,t.calendarApi),u=j3(i.currentViewType,e),h=this.computeCurrentViewData(u,l,t.optionOverrides,a);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(h.options);let f={dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:p,dateProfile:v}=i;this.data&&this.data.dateProfileGenerator!==h.dateProfileGenerator&&(v=h.dateProfileGenerator.build(p)),p=_5(p,e),v=z3(v,e,p,h.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!sa(v.currentRange,p))&&(p=v.currentRange.start);let _=B3(i.eventSources,e,v,f),b=N5(i.eventStore,e,_,v,f),R=rk(_)&&!h.options.progressiveEventRendering&&i.renderableEventStore||b,{eventUiSingleBase:x,selectionConfig:M}=this.buildViewUiProps(f),V=this.buildEventUiBySource(_),z=this.buildEventUiBases(R.defs,x,V),$={dynamicOptionOverrides:a,currentViewType:u,currentDate:p,dateProfile:v,eventSources:_,eventStore:b,renderableEventStore:R,selectionConfig:M,eventUiBases:z,businessHours:this.parseContextBusinessHours(f),dateSelection:Q3(i.dateSelection,e),eventSelection:K3(i.eventSelection,e),eventDrag:X3(i.eventDrag,e),eventResize:Z3(i.eventResize,e)},J=Object.assign(Object.assign({},f),$);for(let D of l.pluginHooks.reducers)Object.assign($,D(i,e,J));let ne=bv(i,f),N=bv($,f);!ne&&N?r.trigger("loading",!0):ne&&!N&&r.trigger("loading",!1),this.state=$,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,i=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),l=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,a.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),a),t),u=r.pluginHooks.optionChangeHandlers,h=i&&i.calendarOptions,f=r.calendarOptions;if(h&&h!==f){h.timeZone!==f.timeZone&&(t.eventSources=l.eventSources=F3(l.eventSources,t.dateProfile,l),t.eventStore=l.eventStore=tx(l.eventStore,i.dateEnv,l.dateEnv),t.renderableEventStore=l.renderableEventStore=tx(l.renderableEventStore,i.dateEnv,l.dateEnv));for(let p in u)(this.optionsForHandling.indexOf(p)!==-1||h[p]!==f[p])&&u[p](f[p],l)}this.optionsForHandling=[],e.onData&&e.onData(l)}computeOptionsData(e,t,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:a,localeDefaults:l,availableLocaleData:u,extra:h}=this.processRawCalendarOptions(e,t);mx(h);let f=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,a,u,r.defaultRangeSeparator),p=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,l),v=this.buildTheme(r,a),_=this.parseToolbars(r,this.stableOptionOverrides,v,p,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:a,dateEnv:f,viewSpecs:p,theme:v,toolbarConfig:_,localeDefaults:l,availableRawLocales:u.map}}processRawCalendarOptions(e,t){let{locales:i,locale:r}=dv([Qu,e,t]),a=this.organizeRawLocales(i),l=a.map,u=this.buildLocale(r||a.defaultCode,l).options,h=this.buildPluginHooks(e.plugins||[],y9),f=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},YT),QT),KT),h.listenerRefiners),h.optionRefiners),p={},v=dv([Qu,u,e,t]),_={},b=this.currentCalendarOptionsInput,T=this.currentCalendarOptionsRefined,R=!1;for(let x in v)this.optionsForRefining.indexOf(x)===-1&&(v[x]===b[x]||so[x]&&x in b&&so[x](b[x],v[x]))?_[x]=T[x]:f[x]?(_[x]=f[x](v[x]),R=!0):p[x]=b[x];return R&&(this.currentCalendarOptionsInput=v,this.currentCalendarOptionsRefined=_,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:h,availableLocaleData:a,localeDefaults:u,extra:p}}_computeCurrentViewData(e,t,i,r){let a=t.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:l,extra:u}=this.processRawViewOptions(a,t.pluginHooks,t.localeDefaults,i,r);mx(u);let h=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,nowInput:l.now,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,fixedWeekCount:l.fixedWeekCount}),f=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:a,options:l,dateProfileGenerator:h,viewApi:f}}processRawViewOptions(e,t,i,r,a){let l=dv([Qu,e.optionDefaults,i,r,e.optionOverrides,a]),u=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},YT),QT),KT),K6),t.listenerRefiners),t.optionRefiners),h={},f=this.currentViewOptionsInput,p=this.currentViewOptionsRefined,v=!1,_={};for(let b in l)l[b]===f[b]||so[b]&&so[b](l[b],f[b])?h[b]=p[b]:(l[b]===this.currentCalendarOptionsInput[b]||so[b]&&so[b](l[b],this.currentCalendarOptionsInput[b])?b in this.currentCalendarOptionsRefined&&(h[b]=this.currentCalendarOptionsRefined[b]):u[b]?h[b]=u[b](l[b]):_[b]=l[b],v=!0);return v&&(this.currentViewOptionsInput=l,this.currentViewOptionsRefined=h),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:_}}}function w9(n,e,t,i,r,a,l,u){let h=nk(e||l.defaultCode,l.map);return new a5({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:h,weekNumberCalculation:t,firstDay:i,weekText:r,cmdFormatter:a.cmdFormatter,defaultSeparator:u})}function A9(n,e){let t=e.themeClasses[n.themeSystem]||Ea;return new t(n)}function S9(n){let e=n.dateProfileGeneratorClass||S1;return new e(n)}function T9(n,e,t){return new t9(n,e,t)}function x9(n){return Oo(n,e=>e.ui)}function R9(n,e,t){let i={"":e};for(let r in n){let a=n[r];a.sourceId&&t[a.sourceId]&&(i[r]=t[a.sourceId])}return i}function C9(n){let{options:e}=n;return{eventUiSingleBase:jg({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:jg({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function bv(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function D9(n){return F5(n.options.businessHours,n)}function mx(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class I9 extends At{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return Z("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:i}=this.context,r=[],a=!0;for(let l of e){let{buttonName:u,buttonClick:h,buttonText:f,buttonIcon:p,buttonHint:v}=l;if(u==="title")a=!1,r.push(Z("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let _=u===t.activeButton,b=!t.isTodayEnabled&&u==="today"||!t.isPrevEnabled&&u==="prev"||!t.isNextEnabled&&u==="next",T=[`fc-${u}-button`,i.getClass("button")];_&&T.push(i.getClass("buttonActive")),r.push(Z("button",{type:"button",title:typeof v=="function"?v(t.navUnit):v,disabled:b,"aria-pressed":_,className:T.join(" "),onClick:h},f||(p?Z("span",{className:p,role:"img"}):"")))}}if(r.length>1){let l=a&&i.getClass("buttonGroup")||"";return Z("div",{className:l},...r)}return r[0]}}class yx extends At{render(){let{model:e,extraClassName:t}=this.props,i=!1,r,a,l=e.sectionWidgets,u=l.center;return l.left?(i=!0,r=l.left):r=l.start,l.right?(i=!0,a=l.right):a=l.end,Z("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",u||[]),this.renderSection("end",a||[]))}renderSection(e,t){let{props:i}=this;return Z(I9,{key:e,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class k9 extends At{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,ss(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:i}=e,r=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",l="";return i?t.availableWidth!==null?a=t.availableWidth/i:l=`${1/i*100}%`:a=e.height||"",Z("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:a,paddingBottom:l}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class M9 extends fc{constructor(e){super(e),this.handleSegClick=(t,i)=>{let{component:r}=this,{context:a}=r,l=ec(i);if(l&&r.isValidSegDownEl(t.target)){let u=An(t.target,".fc-event-forced-url"),h=u?u.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:i,event:new pt(r.context,l.eventRange.def,l.eventRange.instance),jsEvent:t,view:a.viewApi}),h&&!t.defaultPrevented&&(window.location.href=h)}},this.destroy=d1(e.el,"click",".fc-event",this.handleSegClick)}}class O9 extends fc{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{ec(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=i6(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,i){let{component:r}=this,{context:a}=r,l=ec(i);(!t||r.isValidSegDownEl(t.target))&&a.emitter.trigger(e,{el:i,event:new pt(a,l.eventRange.def,l.eventRange.instance),jsEvent:t,view:a.viewApi})}}class N9 extends Po{constructor(){super(...arguments),this.buildViewContext=tt(c5),this.buildViewPropTransformers=tt(L9),this.buildToolbarProps=tt(P9),this.headerRef=rs(),this.footerRef=rs(),this.interactionsStore={},this.state={viewLabelId:Rp()},this.registerInteractiveComponent=(e,t)=>{let i=dF(e,t),l=[M9,O9].concat(this.props.pluginHooks.componentInteractions).map(u=>new u(i));this.interactionsStore[e.uid]=l,g_[e.uid]=i},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[e.uid]}delete g_[e.uid]},this.resizeRunner=new kb(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:i}=e,r=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Ph(e.options.now,e.dateEnv),e.viewTitle),a=!1,l="",u;e.isHeightAuto||e.forPrint?l="":i.height!=null?a=!0:i.contentHeight!=null?l=i.contentHeight:u=Math.max(i.aspectRatio,.5);let h=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),f=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return Z(No.Provider,{value:h},t.header&&Z(yx,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:f},r)),Z(k9,{liquid:a,height:l,aspectRatio:u,labeledById:f},this.renderView(e),this.buildAppendContent()),t.footer&&Z(yx,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},r)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let i in t)t[i](e[i],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let r in i)t[r]!==e[r]&&i[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(i=>i(e));return Z(Mt,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:i}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(t.viewPropsTransformers);for(let u of a)Object.assign(r,u.transform(r,e));let l=i.component;return Z(l,Object.assign({},r))}}function P9(n,e,t,i,r,a){let l=t.build(r,void 0,!1),u=t.buildPrev(e,i,!1),h=t.buildNext(e,i,!1);return{title:a,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:l.isValid&&!sa(e.currentRange,r),isPrevEnabled:u.isValid,isNextEnabled:h.isValid}}function L9(n){return n.map(e=>new e)}class V9 extends fF{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;Lg(()=>{gh(Z(hF,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,a,l,u)=>(this.setClassNames(r),this.setHeight(a),Z(b1.Provider,{value:this.customContentRenderId},Z(N9,Object.assign({isHeightAuto:l,forPrint:u},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,gh(null,this.el),this.setClassNames([]),this.setHeight(""))},YB(e),this.el=e,this.renderRunner=new kb(this.handleRenderRequest),new E9({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Lg(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!ga(e,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of e)t.add(i);this.currentClassNames=e}}setHeight(e){u1(this.el,"height",e)}}const j9=parseInt(String(bi.version).split(".")[0]),U9=j9<18;class ck extends B.Component{constructor(){super(...arguments),this.elRef=B.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(bi.createElement(z9,{key:t.id,customRendering:t}));return bi.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new A3;this.handleCustomRendering=e.handle.bind(e),this.calendar=new V9(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Mv.flushSync(()=>{})});let t;e.subscribe(i=>{const r=Date.now(),a=!t;(U9||a||this.isUpdating||this.isUnmounting||r-t<100?uk:Mv.flushSync)(()=>{this.setState({customRenderingMap:i},()=>{t=r,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}ck.act=uk;class z9 extends B.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,i=typeof t=="function"?t(e.renderProps):t;return Mv.createPortal(i,e.containerEl)}}function uk(n){n()}class H9 extends Lo{constructor(){super(...arguments),this.headerElRef=rs()}renderSimpleLayout(e,t){let{props:i,context:r}=this,a=[],l=cx(r.options);return e&&a.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),Z(XT,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},Z(X1,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,t,i,r){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:l,context:u}=this,h=!l.forPrint&&cx(u.options),f=!l.forPrint&&i3(u.options),p=[];return e&&p.push({type:"header",key:"header",isSticky:h,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),p.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),f&&p.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:n3}]}),Z(XT,{elClasses:["fc-daygrid"],viewSpec:u.viewSpec},Z(a,{liquid:!l.isHeightAuto&&!l.forPrint,forPrint:l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:p}))}}function wf(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function Af(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function vx(n,e){let t=[];if(n){for(let i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}const hk=rn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function dk(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class fk extends At{render(){let{props:e}=this;return Z(s3,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:hk,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class gk extends At{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,a=i.eventTimeFormat||hk,l=P1(r,a,t,!0,e.defaultDisplayEventEnd);return Z(e0,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:L1(e.seg,t),defaultGenerator:B9,timeText:l,isResizing:!1,isDateSelecting:!1}))}}function B9(n){return Z(Mt,null,Z("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&Z("div",{className:"fc-event-time"},n.timeText),Z("div",{className:"fc-event-title"},n.event.title||Z(Mt,null," ")))}class F9 extends At{constructor(){super(...arguments),this.compileSegs=tt(q9)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return Z(m3,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return Z(Mt,null,t.map(a=>{let l=a.eventRange.instance.instanceId;return Z("div",{className:"fc-daygrid-event-harness",key:l,style:{visibility:r[l]?"hidden":""}},dk(a)?Z(gk,Object.assign({seg:a,isDragging:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},Ku(a,e.todayRange))):Z(fk,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},Ku(a,e.todayRange))))}))}})}}function q9(n){let e=[],t=[];for(let i of n)e.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:e,invisibleSegs:t}}const W9=rn({week:"narrow"});class G9 extends Lo{constructor(){super(...arguments),this.rootElRef=rs(),this.state={dayNumberId:Rp()},this.handleRootEl=e=>{ss(this.rootElRef,e),ss(this.props.elRef,e)}}render(){let{context:e,props:t,state:i,rootElRef:r}=this,{options:a,dateEnv:l}=e,{date:u,dateProfile:h}=t;const f=t.showDayNumber&&Y9(u,h.currentRange,l);return Z(Z1,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:$9,date:u,dateProfile:h,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:f,extraRenderProps:t.extraRenderProps},(p,v)=>Z("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&Z(d3,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:p_(e,u,"week"),date:u,defaultFormat:W9}),!v.isDisabled&&(t.showDayNumber||J1(a)||t.forceDayTop)?Z("div",{className:"fc-daygrid-day-top"},Z(p,{elTag:"a",elClasses:["fc-daygrid-day-number",f&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},p_(e,u)),{id:i.dayNumberId})})):t.showDayNumber?Z("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},Z("a",{className:"fc-daygrid-day-number"}," ")):void 0,Z("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,Z("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},Z(F9,{allDayDate:u,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),Z("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function $9(n){return n.dayNumberText||Z(Mt,null," ")}function Y9(n,e,t){const{start:i,end:r}=e,a=pa(r,-1),l=t.getYear(i),u=t.getMonth(i),h=t.getYear(a),f=t.getMonth(a);return!(l===h&&u===f)&&(n.valueOf()===i.valueOf()||t.getDay(n)===1&&n.valueOf()<r.valueOf())}function pk(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function mk(n){return pk(n)+":"+n.lastCol}function Q9(n,e,t,i,r,a,l){let u=new Z9(M=>{let V=n[M.index].eventRange.instance.instanceId+":"+M.span.start+":"+(M.span.end-1);return r[V]||1});u.allowReslicing=!0,u.strictOrder=i,e===!0||t===!0?(u.maxCoord=a,u.hiddenConsumes=!0):typeof e=="number"?u.maxStackCnt=e:typeof t=="number"&&(u.maxStackCnt=t,u.hiddenConsumes=!0);let h=[],f=[];for(let M=0;M<n.length;M+=1){let V=n[M],z=mk(V);r[z]!=null?h.push({index:M,span:{start:V.firstCol,end:V.lastCol+1}}):f.push(V)}let p=u.addSegs(h),v=u.toRects(),{singleColPlacements:_,multiColPlacements:b,leftoverMargins:T}=K9(v,n,l),R=[],x=[];for(let M of f){b[M.firstCol].push({seg:M,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let V=M.firstCol;V<=M.lastCol;V+=1)_[V].push({seg:Bl(M,V,V+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let M=0;M<l.length;M+=1)R.push(0);for(let M of p){let V=n[M.index],z=M.span;b[z.start].push({seg:Bl(V,z.start,z.end,l),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let $=z.start;$<z.end;$+=1)R[$]+=1,_[$].push({seg:Bl(V,$,$+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let M=0;M<l.length;M+=1)x.push(T[M]);return{singleColPlacements:_,multiColPlacements:b,moreCnts:R,moreMarginTops:x}}function K9(n,e,t){let i=X9(n,t.length),r=[],a=[],l=[];for(let u=0;u<t.length;u+=1){let h=i[u],f=[],p=0,v=0;for(let b of h){let T=e[b.index];f.push({seg:Bl(T,u,u+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:b.levelCoord,marginTop:b.levelCoord-p}),p=b.levelCoord+b.thickness}let _=[];p=0,v=0;for(let b of h){let T=e[b.index],R=b.span.end-b.span.start>1,x=b.span.start===u;v+=b.levelCoord-p,p=b.levelCoord+b.thickness,R?(v+=b.thickness,x&&_.push({seg:Bl(T,b.span.start,b.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:b.levelCoord,marginTop:0})):x&&(_.push({seg:Bl(T,b.span.start,b.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:b.levelCoord,marginTop:v}),v=0)}r.push(f),a.push(_),l.push(v)}return{singleColPlacements:r,multiColPlacements:a,leftoverMargins:l}}function X9(n,e){let t=[];for(let i=0;i<e;i+=1)t.push([]);for(let i of n)for(let r=i.span.start;r<i.span.end;r+=1)t[r].push(i);return t}function Bl(n,e,t,i){if(n.firstCol===e&&n.lastCol===t-1)return n;let r=n.eventRange,a=r.range,l=Jl(a,{start:i[e].date,end:Sn(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:l},isStart:n.isStart&&l.start.valueOf()===a.start.valueOf(),isEnd:n.isEnd&&l.end.valueOf()===a.end.valueOf()})}class Z9 extends DF{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:i}=this,r=a=>!this.forceHidden[Xu(a)];for(let a=0;a<i.length;a+=1)i[a]=i[a].filter(r);return t}handleInvalidInsertion(e,t,i){const{entriesByLevel:r,forceHidden:a}=this,{touchingEntry:l,touchingLevel:u,touchingLateral:h}=e;if(this.hiddenConsumes&&l){const f=Xu(l);if(!a[f])if(this.allowReslicing){const p=Object.assign(Object.assign({},l),{span:q1(l.span,t.span)}),v=Xu(p);a[v]=!0,r[u][h]=p,i.push(p),this.splitEntry(l,t,i)}else a[f]=!0,i.push(l)}super.handleInvalidInsertion(e,t,i)}}class yk extends Lo{constructor(){super(...arguments),this.cellElRefs=new ho,this.frameElRefs=new ho,this.fgElRefs=new ho,this.segHarnessRefs=new ho,this.rootElRef=rs(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:i}=this,{options:r}=i,a=e.cells.length,l=Af(e.businessHourSegs,a),u=Af(e.bgEventSegs,a),h=Af(this.getHighlightSegs(),a),f=Af(this.getMirrorSegs(),a),{singleColPlacements:p,multiColPlacements:v,moreCnts:_,moreMarginTops:b}=Q9(Y5(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),T=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return Z("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((R,x)=>{let M=this.renderFgSegs(x,e.forPrint?p[x]:v[x],e.todayRange,T),V=this.renderFgSegs(x,J9(f[x],v),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return Z(G9,{key:R.key,elRef:this.cellElRefs.createRef(R.key),innerElRef:this.frameElRefs.createRef(R.key),dateProfile:e.dateProfile,date:R.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&x===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:R.extraRenderProps,extraDataAttrs:R.extraDataAttrs,extraClassNames:R.extraClassNames,extraDateSpan:R.extraDateSpan,moreCnt:_[x],moreMarginTop:b[x],singlePlacements:p[x],fgContentElRef:this.fgElRefs.createRef(R.key),fgContent:Z(Mt,null,Z(Mt,null,M),Z(Mt,null,V)),bgContent:Z(Mt,null,this.renderFillSegs(h[x],"highlight"),this.renderFillSegs(l[x],"non-business"),this.renderFillSegs(u[x],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let i=this.props;this.updateSizing(!mr(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,i,r,a,l,u){let{context:h}=this,{eventSelection:f}=this.props,{framePositions:p}=this.state,v=this.props.cells.length===1,_=a||l||u,b=[];if(p)for(let T of t){let{seg:R}=T,{instanceId:x}=R.eventRange.instance,M=T.isVisible&&!r[x],V=T.isAbsolute,z="",$="";V&&(h.isRtl?($=0,z=p.lefts[R.lastCol]-p.lefts[R.firstCol]):(z=0,$=p.rights[R.firstCol]-p.rights[R.lastCol])),b.push(Z("div",{className:"fc-daygrid-event-harness"+(V?" fc-daygrid-event-harness-abs":""),key:pk(R),ref:_?null:this.segHarnessRefs.createRef(mk(R)),style:{visibility:M?"":"hidden",marginTop:V?"":T.marginTop,top:V?T.absoluteTop:"",left:z,right:$}},dk(R)?Z(gk,Object.assign({seg:R,isDragging:a,isSelected:x===f,defaultDisplayEventEnd:v},Ku(R,i))):Z(fk,Object.assign({seg:R,isDragging:a,isResizing:l,isDateSelecting:u,isSelected:x===f,defaultDisplayEventEnd:v},Ku(R,i)))))}return b}renderFillSegs(e,t){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:a}=this.state,l=[];if(a)for(let u of e){let h=i?{right:0,left:a.lefts[u.lastCol]-a.lefts[u.firstCol]}:{left:0,right:a.rights[u.firstCol]-a.rights[u.lastCol]};l.push(Z("div",{key:eF(u.eventRange),className:"fc-daygrid-bg-harness",style:h},t==="bg-event"?Z(c3,Object.assign({seg:u},Ku(u,r))):h3(t)))}return Z(Mt,{},...l)}updateSizing(e){let{props:t,state:i,frameElRefs:r}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let h=t.cells.map(f=>r.currentMap[f.key]);if(h.length){let f=this.rootElRef.current,p=new zg(f,h,!0,!1);(!i.framePositions||!i.framePositions.similarTo(p))&&this.setState({framePositions:new zg(f,h,!0,!1)})}}const a=this.state.segHeights,l=this.querySegHeights(),u=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),l),maxContentHeight:u?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let i in e){let r=Math.round(e[i].getBoundingClientRect().height);t[i]=Math.max(t[i]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}yk.addStateEquality({segHeights:mr});function J9(n,e){if(!n.length)return[];let t=e7(e);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}function e7(n){let e={};for(let t of n)for(let i of t)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}class t7 extends Lo{constructor(){super(...arguments),this.splitBusinessHourSegs=tt(wf),this.splitBgEventSegs=tt(wf),this.splitFgEventSegs=tt(wf),this.splitDateSelectionSegs=tt(wf),this.splitEventDrag=tt(vx),this.splitEventResize=tt(vx),this.rowRefs=new ho}render(){let{props:e,context:t}=this,i=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,i),a=this.splitBgEventSegs(e.bgEventSegs,i),l=this.splitFgEventSegs(e.fgEventSegs,i),u=this.splitDateSelectionSegs(e.dateSelectionSegs,i),h=this.splitEventDrag(e.eventDrag,i),f=this.splitEventResize(e.eventResize,i),p=i>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return Z(Jb,{unit:"day"},(v,_)=>Z(Mt,null,e.cells.map((b,T)=>Z(yk,{ref:this.rowRefs.createRef(T),key:b.length?b[0].date.toISOString():T,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:_,dateProfile:e.dateProfile,cells:b,renderIntro:e.renderRowIntro,businessHourSegs:r[T],eventSelection:e.eventSelection,bgEventSegs:a[T].filter(n7),fgEventSegs:l[T],dateSelectionSegs:u[T],eventDrag:h[T],eventResize:f[T],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:p,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new zg(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new zg(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:i,rowPositions:r}=this,a=i.leftToIndex(e),l=r.topToIndex(t);if(l!=null&&a!=null){let u=this.props.cells[l][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(l,a),allDay:!0},u.extraDateSpan),dayEl:this.getCellEl(l,a),rect:{left:i.lefts[a],right:i.rights[a],top:r.tops[l],bottom:r.bottoms[l]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let i=this.props.cells[e][t].date,r=Sn(i,1);return{start:i,end:r}}}function n7(n){return n.eventRange.def.allDay}class i7 extends Lo{constructor(){super(...arguments),this.elRef=rs(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:r}=e,a=i===!0||t===!0;a&&!r&&(a=!1,t=null,i=null);let l=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return Z("div",{ref:this.elRef,className:l.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},Z("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,Z("tbody",{role:"presentation"},Z(t7,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=r7(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}function r7(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${N6(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${Pb(e.currentDate)}"]`)),t}class s7 extends UF{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class a7 extends Lo{constructor(){super(...arguments),this.slicer=new s7,this.tableRef=rs()}render(){let{props:e,context:t}=this;return Z(i7,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class o7 extends H9{constructor(){super(...arguments),this.buildDayTableModel=tt(l7),this.headerRef=rs(),this.tableRef=rs()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,t),a=e.dayHeaders&&Z(PF,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),l=u=>Z(a7,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:u.tableColGroupNode,tableMinWidth:u.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:u.clientWidth,clientHeight:u.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,l,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,l)}}function l7(n,e){let t=new VF(n.renderRange,e);return new jF(t,/year|month|week/.test(n.currentRangeUnit))}class c7 extends S1{buildRenderRange(e,t,i){let r=super.buildRenderRange(e,t,i),{props:a}=this;return u7({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function u7(n){let{dateEnv:e,currentRange:t}=n,{start:i,end:r}=t,a;if(n.snapToWeek&&(i=e.startOfWeek(i),a=e.startOfWeek(r),a.valueOf()!==r.valueOf()&&(r=BT(a,1))),n.fixedWeekCount){let l=e.startOfWeek(e.startOfMonth(Sn(t.end,-1))),u=Math.ceil(w6(l,r));r=BT(r,6-u)}return{start:i,end:r}}var h7=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';o1(h7);var d7=ba({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:o7,dateProfileGeneratorClass:c7},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});Zb.touchMouseIgnoreWait=500;let y_=0,Hg=0,v_=!1;class vk{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&f7(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,g7()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new kp,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),p7()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),m7()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||An(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){v_=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?An(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return y_||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(v_=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}}createEventFromTouch(e,t){let i=e.touches,r,a,l=0,u=0;return i&&i.length?(r=i[0].pageX,a=i[0].pageY):(r=e.pageX,a=e.pageY),t?(this.origPageX=r,this.origPageY=a):(l=r-this.origPageX,u=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:a,deltaX:l,deltaY:u}}}function f7(n){return n.button===0&&!n.ctrlKey}function g7(){y_+=1,setTimeout(()=>{y_-=1},Zb.touchMouseIgnoreWait)}function p7(){Hg+=1,Hg===1&&window.addEventListener("touchmove",_k,{passive:!1})}function m7(){Hg-=1,Hg||window.removeEventListener("touchmove",_k,{passive:!1})}function _k(n){v_&&n.preventDefault()}class y7{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",$u(i,{left:r.left,top:r.top}),r6(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(Mb(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&$u(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),$u(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class bk extends Xb{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Ek extends bk{constructor(e,t){super(new RF(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return TF(this.scrollController.el)}}class v7 extends bk{constructor(e){super(new CF,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const _x=typeof performance=="function"?performance.now:Date.now;class _7{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=_x();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,r=t-window.scrollY,a=this.pointerScreenY===null?0:r-this.pointerScreenY,l=this.pointerScreenX===null?0:i-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),l<0?this.everMovedLeft=!0:l>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(_x()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:r}=this,a=r-e.distance,l=a*a/(r*r)*this.maxVelocity*t,u=1;switch(e.name){case"left":u=-1;case"right":i.setScrollLeft(i.getScrollLeft()+l*u);break;case"top":u=-1;case"bottom":i.setScrollTop(i.getScrollTop()+l*u);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,r=null,a=this.scrollCaches||[];for(let l of a){let u=l.clientRect,h=e-u.left,f=u.right-e,p=t-u.top,v=u.bottom-t;h>=0&&f>=0&&p>=0&&v>=0&&(p<=i&&this.everMovedUp&&l.canScrollUp()&&(!r||r.distance>p)&&(r={scrollCache:l,name:"top",distance:p}),v<=i&&this.everMovedDown&&l.canScrollDown()&&(!r||r.distance>v)&&(r={scrollCache:l,name:"bottom",distance:v}),h<=i&&this.everMovedLeft&&l.canScrollLeft()&&(!r||r.distance>h)&&(r={scrollCache:l,name:"left",distance:h}),f<=i&&this.everMovedRight&&l.canScrollRight()&&(!r||r.distance>f)&&(r={scrollCache:l,name:"right",distance:f}))}return r}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new v7(!1):new Ek(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}}class Lh extends IF{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,s6(document.body),o6(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let a=this.minDistance,l,{deltaX:u,deltaY:h}=r;l=u*u+h*h,l>=a*a&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,a6(document.body),l6(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new vk(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new y7,this.autoScroller=new _7}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class b7{constructor(e){this.el=e,this.origRect=Kb(e),this.scrollCaches=F1(e).map(t=>new Ek(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let r of this.scrollCaches)if(!E7(r.getEventTarget())&&!gF(i,r.clientRect))return!1;return!0}}function E7(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class Mp{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new kp}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,r=e.subjectEl,a;r instanceof HTMLElement&&(a=Kb(r),i=pF(i,a));let l=this.initialHit=this.queryHitForOffset(i.left,i.top);if(l){if(this.useSubjectCenter&&a){let u=z1(a,l.rect);u&&(i=mF(u))}this.coordAdjust=yF(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Op(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=Oo(this.droppableStore,e=>(e.component.prepareHits(),new b7(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:r}=this,a=null;for(let l in i){let u=i[l].component,h=r[l];if(h&&h.isWithinClipping(e,t)){let f=h.computeLeft(),p=h.computeTop(),v=e-f,_=t-p,{origRect:b}=h,T=b.right-b.left,R=b.bottom-b.top;if(v>=0&&v<T&&_>=0&&_<R){let x=u.queryHit(v,_,T,R);x&&Dp(x.dateProfile.activeRange,x.dateSpan.range)&&(this.disablePointCheck||h.el.contains(h.el.getRootNode().elementFromPoint(v+f-window.scrollX,_+p-window.scrollY)))&&(!a||x.layer>a.layer)&&(x.componentId=l,x.context=u.context,x.rect.left+=f,x.rect.right+=f,x.rect.top+=p,x.rect.bottom+=p,a=x)}}}return a}}function Op(n,e){return!n&&!e?!0:!!n!=!!e?!1:rF(n.dateSpan,e.dateSpan)}function wk(n,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(n,e));return Object.assign(t,w7(n,e.dateEnv)),t}function w7(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class A7 extends fc{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:r}=this,a=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:l,finalHit:u}=this.hitDragging;if(l&&u&&Op(l,u)){let{context:h}=r,f=Object.assign(Object.assign({},wk(l.dateSpan,h)),{dayEl:l.dayEl,jsEvent:i.origEvent,view:h.viewApi||h.calendarApi.view});h.emitter.trigger("dateClick",f)}}},this.dragging=new Lh(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Mp(this.dragging,Yb(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class S7 extends fc{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=l=>{let{component:u,dragging:h}=this,{options:f}=u.context,p=f.selectable&&u.isValidDateDownEl(l.origEvent.target);h.setIgnoreMove(!p),h.delay=l.isTouch?T7(u):null},this.handleDragStart=l=>{this.component.context.calendarApi.unselect(l)},this.handleHitUpdate=(l,u)=>{let{context:h}=this.component,f=null,p=!1;if(l){let v=this.hitDragging.initialHit;l.componentId===v.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(v,l)||(f=x7(v,l,h.pluginHooks.dateSelectionTransformers)),(!f||!zF(f,l.dateProfile,h))&&(p=!0,f=null)}f?h.dispatch({type:"SELECT_DATES",selection:f}):u||h.dispatch({type:"UNSELECT_DATES"}),p?Ob():Nb(),u||(this.dragSelection=f)},this.handlePointerUp=l=>{this.dragSelection&&(M1(this.dragSelection,l,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,r=this.dragging=new Lh(e.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let a=this.hitDragging=new Mp(this.dragging,Yb(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function T7(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function x7(n,e,t){let i=n.dateSpan,r=e.dateSpan,a=[i.range.start,i.range.end,r.range.start,r.range.end];a.sort(f6);let l={};for(let u of t){let h=u(n,e);if(h===!1)return null;h&&Object.assign(l,h)}return l.range={start:a[0],end:a[3]},l.allDay=i.allDay,l}class Vh extends fc{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let u=l.origEvent.target,{component:h,dragging:f}=this,{mirror:p}=f,{options:v}=h.context,_=h.context;this.subjectEl=l.subjectEl;let b=this.subjectSeg=ec(l.subjectEl),R=(this.eventRange=b.eventRange).instance.instanceId;this.relevantEvents=qb(_.getCurrentData().eventStore,R),f.minDistance=l.isTouch?0:v.eventDragMinDistance,f.delay=l.isTouch&&R!==h.props.eventSelection?C7(h):null,v.fixedMirrorParent?p.parentNode=v.fixedMirrorParent:p.parentNode=An(u,".fc"),p.revertDuration=v.dragRevertDuration;let x=h.isValidSegDownEl(u)&&!An(u,".fc-event-resizer");f.setIgnoreMove(!x),this.isDragging=x&&l.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=l=>{let u=this.component.context,h=this.eventRange,f=h.instance.instanceId;l.isTouch?f!==this.component.props.eventSelection&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:f}):u.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(u.calendarApi.unselect(l),u.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new pt(u,h.def,h.instance),jsEvent:l.origEvent,view:u.viewApi}))},this.handleHitUpdate=(l,u)=>{if(!this.isDragging)return;let h=this.relevantEvents,f=this.hitDragging.initialHit,p=this.component.context,v=null,_=null,b=null,T=!1,R={affectedEvents:h,mutatedEvents:Oi(),isEvent:!0};if(l){v=l.context;let x=v.options;p===v||x.editable&&x.droppable?(_=R7(f,l,this.eventRange.instance.range.start,v.getCurrentData().pluginHooks.eventDragMutationMassagers),_&&(b=$b(h,v.getCurrentData().eventUiBases,_,v),R.mutatedEvents=b,$1(R,l.dateProfile,v)||(T=!0,_=null,b=null,R.mutatedEvents=Oi()))):v=null}this.displayDrag(v,R),T?Ob():Nb(),u||(p===v&&Op(f,l)&&(_=null),this.dragging.setMirrorNeedsRevert(!_),this.dragging.setMirrorIsVisible(!l||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=v,this.validMutation=_,this.mutatedRelevantEvents=b)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=l=>{if(this.isDragging){let u=this.component.context,h=u.viewApi,{receivingContext:f,validMutation:p}=this,v=this.eventRange.def,_=this.eventRange.instance,b=new pt(u,v,_),T=this.relevantEvents,R=this.mutatedRelevantEvents,{finalHit:x}=this.hitDragging;if(this.clearDrag(),u.emitter.trigger("eventDragStop",{el:this.subjectEl,event:b,jsEvent:l.origEvent,view:h}),p){if(f===u){let M=new pt(u,R.defs[v.defId],_?R.instances[_.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:R});let V={oldEvent:b,event:M,relatedEvents:go(R,u,_),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:T})}},z={};for(let $ of u.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(z,$(p,u));u.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},V),z),{el:l.subjectEl,delta:p.datesDelta,jsEvent:l.origEvent,view:h})),u.emitter.trigger("eventChange",V)}else if(f){let M={event:b,relatedEvents:go(T,u,_),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:T})}};u.emitter.trigger("eventLeave",Object.assign(Object.assign({},M),{draggedEl:l.subjectEl,view:h})),u.dispatch({type:"REMOVE_EVENTS",eventStore:T}),u.emitter.trigger("eventRemove",M);let V=R.defs[v.defId],z=R.instances[_.instanceId],$=new pt(f,V,z);f.dispatch({type:"MERGE_EVENTS",eventStore:R});let J={event:$,relatedEvents:go(R,f,z),revert(){f.dispatch({type:"REMOVE_EVENTS",eventStore:R})}};f.emitter.trigger("eventAdd",J),l.isTouch&&f.dispatch({type:"SELECT_EVENT",eventInstanceId:_.instanceId}),f.emitter.trigger("drop",Object.assign(Object.assign({},wk(x.dateSpan,f)),{draggedEl:l.subjectEl,jsEvent:l.origEvent,view:x.context.viewApi})),f.emitter.trigger("eventReceive",Object.assign(Object.assign({},J),{draggedEl:l.subjectEl,view:x.context.viewApi}))}}else u.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:i}=t.context,r=this.dragging=new Lh(e.el);r.pointer.selector=Vh.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=i.dragScroll;let a=this.hitDragging=new Mp(this.dragging,g_);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let i=this.component.context,r=this.receivingContext;r&&r!==e&&(r===i?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Oi(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Vh.SELECTOR=".fc-event-draggable, .fc-event-resizable";function R7(n,e,t,i){let r=n.dateSpan,a=e.dateSpan,l=r.range.start,u=a.range.start,h={};r.allDay!==a.allDay&&(h.allDay=a.allDay,h.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?l=gt(t):l=t);let f=Ll(l,u,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);f.milliseconds&&(h.allDay=!1);let p={datesDelta:f,standardProps:h};for(let v of i)v(p,n,e);return p}function C7(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class D7 extends fc{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:l}=this,u=this.querySegEl(a),h=ec(u),f=this.eventRange=h.eventRange;this.dragging.minDistance=l.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==f.instance.instanceId)},this.handleDragStart=a=>{let{context:l}=this.component,u=this.eventRange;this.relevantEvents=qb(l.getCurrentData().eventStore,this.eventRange.instance.instanceId);let h=this.querySegEl(a);this.draggingSegEl=h,this.draggingSeg=ec(h),l.calendarApi.unselect(),l.emitter.trigger("eventResizeStart",{el:h,event:new pt(l,u.def,u.instance),jsEvent:a.origEvent,view:l.viewApi})},this.handleHitUpdate=(a,l,u)=>{let{context:h}=this.component,f=this.relevantEvents,p=this.hitDragging.initialHit,v=this.eventRange.instance,_=null,b=null,T=!1,R={affectedEvents:f,mutatedEvents:Oi(),isEvent:!0};a&&(a.componentId===p.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(p,a)||(_=I7(p,a,u.subjectEl.classList.contains("fc-event-resizer-start"),v.range))),_&&(b=$b(f,h.getCurrentData().eventUiBases,_,h),R.mutatedEvents=b,$1(R,a.dateProfile,h)||(T=!0,_=null,b=null,R.mutatedEvents=null)),b?h.dispatch({type:"SET_EVENT_RESIZE",state:R}):h.dispatch({type:"UNSET_EVENT_RESIZE"}),T?Ob():Nb(),l||(_&&Op(p,a)&&(_=null),this.validMutation=_,this.mutatedRelevantEvents=b)},this.handleDragEnd=a=>{let{context:l}=this.component,u=this.eventRange.def,h=this.eventRange.instance,f=new pt(l,u,h),p=this.relevantEvents,v=this.mutatedRelevantEvents;if(l.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:f,jsEvent:a.origEvent,view:l.viewApi}),this.validMutation){let _=new pt(l,v.defs[u.defId],h?v.instances[h.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:v});let b={oldEvent:f,event:_,relatedEvents:go(v,l,h),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:p})}};l.emitter.trigger("eventResize",Object.assign(Object.assign({},b),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||et(0),endDelta:this.validMutation.endDelta||et(0),jsEvent:a.origEvent,view:l.viewApi})),l.emitter.trigger("eventChange",b)}else l.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new Lh(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new Mp(this.dragging,Yb(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return An(e.subjectEl,".fc-event")}}function I7(n,e,t,i){let r=n.context.dateEnv,a=n.dateSpan.range.start,l=e.dateSpan.range.start,u=Ll(a,l,r,n.largeUnit);if(t){if(r.add(i.start,u)<i.end)return{startDelta:u}}else if(r.add(i.end,u)>i.start)return{endDelta:u};return null}class k7{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,a=h1(i.origEvent);this.matchesCancel=!!An(a,r),this.matchesEvent=!!An(a,Vh.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:a}=this,l=r.getCurrentData();if(!a.wasTouchScroll){if(l.dateSelection&&!this.isRecentPointerDateSelect){let u=r.options.unselectAuto;u&&(!u||!this.matchesCancel)&&r.calendarApi.unselect(i)}l.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new vk(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const M7={fixedMirrorParent:K},O7={dateClick:K,eventDragStart:K,eventDragStop:K,eventDrop:K,eventResizeStart:K,eventResizeStop:K,eventResize:K,drop:K,eventReceive:K,eventLeave:K};Zb.dataAttrPrefix="";var N7=ba({name:"@fullcalendar/interaction",componentInteractions:[A7,S7,Vh,D7],calendarInteractions:[k7],elementDraggingImpl:Lh,optionRefiners:M7,listenerRefiners:O7});const P7=({events:n,onDateClick:e})=>{const[t,i]=B.useState(window.innerWidth<768);B.useEffect(()=>{const a=()=>i(window.innerWidth<768);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const r=t?{left:"prev,next",center:"title",right:""}:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek"};return w.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-lg p-4",children:w.jsx(ck,{plugins:[d7,N7],initialView:"dayGridMonth",headerToolbar:r,events:n,dateClick:e,height:"auto"})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function jh(n){return n+.5|0}const Zs=(n,e,t)=>Math.max(Math.min(n,t),e);function Pu(n){return Zs(jh(n*2.55),0,255)}function aa(n){return Zs(jh(n*255),0,255)}function Gr(n){return Zs(jh(n/2.55)/100,0,1)}function bx(n){return Zs(jh(n*100),0,100)}const yi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},__=[..."0123456789ABCDEF"],L7=n=>__[n&15],V7=n=>__[(n&240)>>4]+__[n&15],Sf=n=>(n&240)>>4===(n&15),j7=n=>Sf(n.r)&&Sf(n.g)&&Sf(n.b)&&Sf(n.a);function U7(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&yi[n[1]]*17,g:255&yi[n[2]]*17,b:255&yi[n[3]]*17,a:e===5?yi[n[4]]*17:255}:(e===7||e===9)&&(t={r:yi[n[1]]<<4|yi[n[2]],g:yi[n[3]]<<4|yi[n[4]],b:yi[n[5]]<<4|yi[n[6]],a:e===9?yi[n[7]]<<4|yi[n[8]]:255})),t}const z7=(n,e)=>n<255?e(n):"";function H7(n){var e=j7(n)?L7:V7;return n?"#"+e(n.r)+e(n.g)+e(n.b)+z7(n.a,e):void 0}const B7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ak(n,e,t){const i=e*Math.min(t,1-t),r=(a,l=(a+n/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function F7(n,e,t){const i=(r,a=(r+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function q7(n,e,t){const i=Ak(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function W7(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function n0(n){const t=n.r/255,i=n.g/255,r=n.b/255,a=Math.max(t,i,r),l=Math.min(t,i,r),u=(a+l)/2;let h,f,p;return a!==l&&(p=a-l,f=u>.5?p/(2-a-l):p/(a+l),h=W7(t,i,r,p,a),h=h*60+.5),[h|0,f||0,u]}function i0(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(aa)}function r0(n,e,t){return i0(Ak,n,e,t)}function G7(n,e,t){return i0(q7,n,e,t)}function $7(n,e,t){return i0(F7,n,e,t)}function Sk(n){return(n%360+360)%360}function Y7(n){const e=B7.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Pu(+e[5]):aa(+e[5]));const r=Sk(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=G7(r,a,l):e[1]==="hsv"?i=$7(r,a,l):i=r0(r,a,l),{r:i[0],g:i[1],b:i[2],a:t}}function Q7(n,e){var t=n0(n);t[0]=Sk(t[0]+e),t=r0(t),n.r=t[0],n.g=t[1],n.b=t[2]}function K7(n){if(!n)return;const e=n0(n),t=e[0],i=bx(e[1]),r=bx(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Gr(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const Ex={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function X7(){const n={},e=Object.keys(wx),t=Object.keys(Ex);let i,r,a,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],r=0;r<t.length;r++)a=t[r],u=u.replace(a,Ex[a]);a=parseInt(wx[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let Tf;function Z7(n){Tf||(Tf=X7(),Tf.transparent=[0,0,0,0]);const e=Tf[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const J7=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function eq(n){const e=J7.exec(n);let t=255,i,r,a;if(e){if(e[7]!==i){const l=+e[7];t=e[8]?Pu(l):Zs(l*255,0,255)}return i=+e[1],r=+e[3],a=+e[5],i=255&(e[2]?Pu(i):Zs(i,0,255)),r=255&(e[4]?Pu(r):Zs(r,0,255)),a=255&(e[6]?Pu(a):Zs(a,0,255)),{r:i,g:r,b:a,a:t}}}function tq(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Gr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Ev=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Rl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function nq(n,e,t){const i=Rl(Gr(n.r)),r=Rl(Gr(n.g)),a=Rl(Gr(n.b));return{r:aa(Ev(i+t*(Rl(Gr(e.r))-i))),g:aa(Ev(r+t*(Rl(Gr(e.g))-r))),b:aa(Ev(a+t*(Rl(Gr(e.b))-a))),a:n.a+t*(e.a-n.a)}}function xf(n,e,t){if(n){let i=n0(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=r0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Tk(n,e){return n&&Object.assign(e||{},n)}function Ax(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=aa(n[3]))):(e=Tk(n,{r:0,g:0,b:0,a:1}),e.a=aa(e.a)),e}function iq(n){return n.charAt(0)==="r"?eq(n):Y7(n)}class yh{constructor(e){if(e instanceof yh)return e;const t=typeof e;let i;t==="object"?i=Ax(e):t==="string"&&(i=U7(e)||Z7(e)||iq(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Tk(this._rgb);return e&&(e.a=Gr(e.a)),e}set rgb(e){this._rgb=Ax(e)}rgbString(){return this._valid?tq(this._rgb):void 0}hexString(){return this._valid?H7(this._rgb):void 0}hslString(){return this._valid?K7(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let a;const l=t===a?.5:t,u=2*l-1,h=i.a-r.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-f,i.r=255&f*i.r+a*r.r+.5,i.g=255&f*i.g+a*r.g+.5,i.b=255&f*i.b+a*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=nq(this._rgb,e._rgb,t)),this}clone(){return new yh(this.rgb)}alpha(e){return this._rgb.a=aa(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=jh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return xf(this._rgb,2,e),this}darken(e){return xf(this._rgb,2,-e),this}saturate(e){return xf(this._rgb,1,e),this}desaturate(e){return xf(this._rgb,1,-e),this}rotate(e){return Q7(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Fr(){}const rq=(()=>{let n=0;return()=>n++})();function Tn(n){return n==null}function fn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ze(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function as(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function sr(n,e){return as(n)?n:e}function st(n,e){return typeof n>"u"?e:n}const sq=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,xk=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function ht(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function rt(n,e,t,i){let r,a,l;if(fn(n))for(a=n.length,r=0;r<a;r++)e.call(t,n[r],r);else if(Ze(n))for(l=Object.keys(n),a=l.length,r=0;r<a;r++)e.call(t,n[l[r]],l[r])}function Bg(n,e){let t,i,r,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],a=e[t],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function Fg(n){if(fn(n))return n.map(Fg);if(Ze(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=Fg(n[t[r]]);return e}return n}function Rk(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function aq(n,e,t,i){if(!Rk(n))return;const r=e[n],a=t[n];Ze(r)&&Ze(a)?vh(r,a,i):e[n]=Fg(a)}function vh(n,e,t){const i=fn(e)?e:[e],r=i.length;if(!Ze(n))return n;t=t||{};const a=t.merger||aq;let l;for(let u=0;u<r;++u){if(l=i[u],!Ze(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)a(h[f],n,l,t)}return n}function Zu(n,e){return vh(n,e,{merger:oq})}function oq(n,e,t){if(!Rk(n))return;const i=e[n],r=t[n];Ze(i)&&Ze(r)?Zu(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Fg(r))}const Sx={"":n=>n,x:n=>n.x,y:n=>n.y};function lq(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function cq(n){const e=lq(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function _h(n,e){return(Sx[e]||(Sx[e]=cq(e)))(n)}function s0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const qg=n=>typeof n<"u",ma=n=>typeof n=="function",Tx=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function uq(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const sn=Math.PI,Ut=2*sn,Wg=Number.POSITIVE_INFINITY,hq=sn/180,Gt=sn/2,eo=sn/4,xx=sn*2/3,Rx=Math.sign;function dq(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,a)=>r-a).pop(),e}function fq(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Gg(n){return!fq(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function fo(n){return n*(sn/180)}function gq(n){return n*(180/sn)}function Ck(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let a=Math.atan2(i,t);return a<-.5*sn&&(a+=Ut),{angle:a,distance:r}}function pq(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function to(n){return(n%Ut+Ut)%Ut}function $g(n,e,t,i){const r=to(n),a=to(e),l=to(t),u=to(a-r),h=to(l-r),f=to(r-a),p=to(r-l);return r===a||r===l||i&&a===l||u>h&&f<p}function _i(n,e,t){return Math.max(e,Math.min(t,n))}function mq(n){return _i(n,-32768,32767)}function Lu(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function a0(n,e,t){t=t||(l=>n[l]<e);let i=n.length-1,r=0,a;for(;i-r>1;)a=r+i>>1,t(a)?r=a:i=a;return{lo:r,hi:i}}const b_=(n,e,t,i)=>a0(n,t,i?r=>{const a=n[r][e];return a<t||a===t&&n[r+1][e]===t}:r=>n[r][e]<t),yq=(n,e,t)=>a0(n,t,i=>n[i][e]>=t);function vq(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const Dk=["push","pop","shift","splice","unshift"];function _q(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Dk.forEach(t=>{const i="_onData"+s0(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=r.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function Cx(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(Dk.forEach(a=>{delete n[a]}),delete n._chartjs)}function bq(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Ik=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function kk(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,Ik.call(window,()=>{i=!1,n.apply(e,t)}))}}function Eq(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const Mk=n=>n==="start"?"left":n==="end"?"right":"center",Xn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,wq=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e,Rf=n=>n===0||n===1,Dx=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ut/t)),Ix=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ut/t)+1,Ju={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Gt)+1,easeOutSine:n=>Math.sin(n*Gt),easeInOutSine:n=>-.5*(Math.cos(sn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Rf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Rf(n)?n:Dx(n,.075,.3),easeOutElastic:n=>Rf(n)?n:Ix(n,.075,.3),easeInOutElastic(n){return Rf(n)?n:n<.5?.5*Dx(n*2,.1125,.45):.5+.5*Ix(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Ju.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ju.easeInBounce(n*2)*.5:Ju.easeOutBounce(n*2-1)*.5+.5};function Ok(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function kx(n){return Ok(n)?n:new yh(n)}function wv(n){return Ok(n)?n:new yh(n).saturate(.5).darken(.1).hexString()}const Aq=["x","y","borderWidth","radius","tension"],Sq=["color","borderColor","backgroundColor"];function Tq(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Sq},numbers:{type:"number",properties:Aq}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function xq(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Mx=new Map;function Rq(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Mx.get(t);return i||(i=new Intl.NumberFormat(n,e),Mx.set(t,i)),i}function Cq(n,e,t){return Rq(e,t).format(n)}const Dq={values(n){return fn(n)?n:""+n}};var Iq={formatters:Dq};function kq(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Iq.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const So=Object.create(null),E_=Object.create(null);function eh(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const a=t[i];n=n[a]||(n[a]=Object.create(null))}return n}function Av(n,e,t){return typeof e=="string"?vh(eh(n,e),t):vh(eh(n,""),e)}class Mq{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>wv(r.backgroundColor),this.hoverBorderColor=(i,r)=>wv(r.borderColor),this.hoverColor=(i,r)=>wv(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Av(this,e,t)}get(e){return eh(this,e)}describe(e,t){return Av(E_,e,t)}override(e,t){return Av(So,e,t)}route(e,t,i,r){const a=eh(this,e),l=eh(this,i),u="_"+t;Object.defineProperties(a,{[u]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],f=l[r];return Ze(h)?Object.assign({},f,h):st(h,f)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var Ot=new Mq({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Tq,xq,kq]);function Oq(n){return!n||Tn(n.size)||Tn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Ox(n,e,t,i,r){let a=e[r];return a||(a=e[r]=n.measureText(r).width,t.push(r)),a>i&&(i=a),i}function no(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function Nx(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Px(n,e,t,i){Nk(n,e,t,i,null)}function Nk(n,e,t,i,r){let a,l,u,h,f,p,v,_;const b=e.pointStyle,T=e.rotation,R=e.radius;let x=(T||0)*hq;if(b&&typeof b=="object"&&(a=b.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(x),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(R)||R<=0)){switch(n.beginPath(),b){default:r?n.ellipse(t,i,r/2,R,0,0,Ut):n.arc(t,i,R,0,Ut),n.closePath();break;case"triangle":p=r?r/2:R,n.moveTo(t+Math.sin(x)*p,i-Math.cos(x)*R),x+=xx,n.lineTo(t+Math.sin(x)*p,i-Math.cos(x)*R),x+=xx,n.lineTo(t+Math.sin(x)*p,i-Math.cos(x)*R),n.closePath();break;case"rectRounded":f=R*.516,h=R-f,l=Math.cos(x+eo)*h,v=Math.cos(x+eo)*(r?r/2-f:h),u=Math.sin(x+eo)*h,_=Math.sin(x+eo)*(r?r/2-f:h),n.arc(t-v,i-u,f,x-sn,x-Gt),n.arc(t+_,i-l,f,x-Gt,x),n.arc(t+v,i+u,f,x,x+Gt),n.arc(t-_,i+l,f,x+Gt,x+sn),n.closePath();break;case"rect":if(!T){h=Math.SQRT1_2*R,p=r?r/2:h,n.rect(t-p,i-h,2*p,2*h);break}x+=eo;case"rectRot":v=Math.cos(x)*(r?r/2:R),l=Math.cos(x)*R,u=Math.sin(x)*R,_=Math.sin(x)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+_,i-l),n.lineTo(t+v,i+u),n.lineTo(t-_,i+l),n.closePath();break;case"crossRot":x+=eo;case"cross":v=Math.cos(x)*(r?r/2:R),l=Math.cos(x)*R,u=Math.sin(x)*R,_=Math.sin(x)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+_,i-l),n.lineTo(t-_,i+l);break;case"star":v=Math.cos(x)*(r?r/2:R),l=Math.cos(x)*R,u=Math.sin(x)*R,_=Math.sin(x)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+_,i-l),n.lineTo(t-_,i+l),x+=eo,v=Math.cos(x)*(r?r/2:R),l=Math.cos(x)*R,u=Math.sin(x)*R,_=Math.sin(x)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+_,i-l),n.lineTo(t-_,i+l);break;case"line":l=r?r/2:Math.cos(x)*R,u=Math.sin(x)*R,n.moveTo(t-l,i-u),n.lineTo(t+l,i+u);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(x)*(r?r/2:R),i+Math.sin(x)*R);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Pk(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function o0(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function l0(n){n.restore()}function Nq(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Tn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Pq(n,e,t,i,r){if(r.strikethrough||r.underline){const a=n.measureText(i),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,h=t-a.actualBoundingBoxAscent,f=t+a.actualBoundingBoxDescent,p=r.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function Lq(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Yg(n,e,t,i,r,a={}){const l=fn(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(n.save(),n.font=r.string,Nq(n,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&Lq(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Tn(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,t,i,a.maxWidth)),n.fillText(f,t,i,a.maxWidth),Pq(n,t,i,f,a),i+=Number(r.lineHeight);n.restore()}function w_(n,e){const{x:t,y:i,w:r,h:a,radius:l}=e;n.arc(t+l.topLeft,i+l.topLeft,l.topLeft,1.5*sn,sn,!0),n.lineTo(t,i+a-l.bottomLeft),n.arc(t+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,sn,Gt,!0),n.lineTo(t+r-l.bottomRight,i+a),n.arc(t+r-l.bottomRight,i+a-l.bottomRight,l.bottomRight,Gt,0,!0),n.lineTo(t+r,i+l.topRight),n.arc(t+r-l.topRight,i+l.topRight,l.topRight,0,-Gt,!0),n.lineTo(t+l.topLeft,i)}const Vq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,jq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Uq(n,e){const t=(""+n).match(Vq);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const zq=n=>+n||0;function c0(n,e){const t={},i=Ze(e),r=i?Object.keys(e):e,a=Ze(n)?i?l=>st(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of r)t[l]=zq(a(l));return t}function Hq(n){return c0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function th(n){return c0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Vi(n){const e=Hq(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Hn(n,e){n=n||{},e=e||Ot.font;let t=st(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=st(n.style,e.style);i&&!(""+i).match(jq)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:st(n.family,e.family),lineHeight:Uq(st(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:st(n.weight,e.weight),string:""};return r.string=Oq(r),r}function Cf(n,e,t,i){let r,a,l;for(r=0,a=n.length;r<a;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function Bq(n,e,t){const{min:i,max:r}=n,a=xk(e,(r-i)/2),l=(u,h)=>t&&u===0?0:u+h;return{min:l(i,-Math.abs(a)),max:l(r,a)}}function gc(n,e){return Object.assign(Object.create(n),e)}function u0(n,e=[""],t,i,r=()=>n[0]){const a=t||n;typeof i>"u"&&(i=Uk("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:r,override:u=>u0([u,...n],e,a,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return Vk(u,h,()=>Kq(h,e,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return Vx(u).includes(h)},ownKeys(u){return Vx(u)},set(u,h,f){const p=u._storage||(u._storage=r());return u[h]=p[h]=f,delete u._keys,!0}})}function tc(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Lk(n,i),setContext:a=>tc(n,a,t,i),override:a=>tc(n.override(a),e,t,i)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return Vk(a,l,()=>qq(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function Lk(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:ma(t)?t:()=>t,isIndexable:ma(i)?i:()=>i}}const Fq=(n,e)=>n?n+s0(e):e,h0=(n,e)=>Ze(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Vk(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function qq(n,e,t){const{_proxy:i,_context:r,_subProxy:a,_descriptors:l}=n;let u=i[e];return ma(u)&&l.isScriptable(e)&&(u=Wq(e,u,n,t)),fn(u)&&u.length&&(u=Gq(e,u,n,l.isIndexable)),h0(e,u)&&(u=tc(u,r,a&&a[e],l)),u}function Wq(n,e,t,i){const{_proxy:r,_context:a,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=e(a,l||i);return u.delete(n),h0(n,h)&&(h=d0(r._scopes,r,n,h)),h}function Gq(n,e,t,i){const{_proxy:r,_context:a,_subProxy:l,_descriptors:u}=t;if(typeof a.index<"u"&&i(n))return e[a.index%e.length];if(Ze(e[0])){const h=e,f=r._scopes.filter(p=>p!==h);e=[];for(const p of h){const v=d0(f,r,n,p);e.push(tc(v,a,l&&l[n],u))}}return e}function jk(n,e,t){return ma(n)?n(e,t):n}const $q=(n,e)=>n===!0?e:typeof n=="string"?_h(e,n):void 0;function Yq(n,e,t,i,r){for(const a of e){const l=$q(t,a);if(l){n.add(l);const u=jk(l._fallback,t,r);if(typeof u<"u"&&u!==t&&u!==i)return u}else if(l===!1&&typeof i<"u"&&t!==i)return null}return!1}function d0(n,e,t,i){const r=e._rootScopes,a=jk(e._fallback,t,i),l=[...n,...r],u=new Set;u.add(i);let h=Lx(u,l,t,a||t,i);return h===null||typeof a<"u"&&a!==t&&(h=Lx(u,l,a,h,i),h===null)?!1:u0(Array.from(u),[""],r,a,()=>Qq(e,t,i))}function Lx(n,e,t,i,r){for(;t;)t=Yq(n,e,t,i,r);return t}function Qq(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return fn(r)&&Ze(t)?t:r||{}}function Kq(n,e,t,i){let r;for(const a of e)if(r=Uk(Fq(a,n),t),typeof r<"u")return h0(n,r)?d0(t,i,n,r):r}function Uk(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function Vx(n){let e=n._keys;return e||(e=n._keys=Xq(n._scopes)),e}function Xq(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function f0(){return typeof window<"u"&&typeof document<"u"}function g0(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Qg(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Np=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Zq(n,e){return Np(n).getPropertyValue(e)}const Jq=["top","right","bottom","left"];function po(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const a=Jq[r];i[a]=parseFloat(n[e+"-"+a+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const e8=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function t8(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:a}=i;let l=!1,u,h;if(e8(r,a,n.target))u=r,h=a;else{const f=e.getBoundingClientRect();u=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function oo(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=Np(t),a=r.boxSizing==="border-box",l=po(r,"padding"),u=po(r,"border","width"),{x:h,y:f,box:p}=t8(n,t),v=l.left+(p&&u.left),_=l.top+(p&&u.top);let{width:b,height:T}=e;return a&&(b-=l.width+u.width,T-=l.height+u.height),{x:Math.round((h-v)/b*t.width/i),y:Math.round((f-_)/T*t.height/i)}}function n8(n,e,t){let i,r;if(e===void 0||t===void 0){const a=n&&g0(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),u=Np(a),h=po(u,"border","width"),f=po(u,"padding");e=l.width-f.width-h.width,t=l.height-f.height-h.height,i=Qg(u.maxWidth,a,"clientWidth"),r=Qg(u.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:i||Wg,maxHeight:r||Wg}}const Df=n=>Math.round(n*10)/10;function i8(n,e,t,i){const r=Np(n),a=po(r,"margin"),l=Qg(r.maxWidth,n,"clientWidth")||Wg,u=Qg(r.maxHeight,n,"clientHeight")||Wg,h=n8(n,e,t);let{width:f,height:p}=h;if(r.boxSizing==="content-box"){const _=po(r,"border","width"),b=po(r,"padding");f-=b.width+_.width,p-=b.height+_.height}return f=Math.max(0,f-a.width),p=Math.max(0,i?f/i:p-a.height),f=Df(Math.min(f,l,h.maxWidth)),p=Df(Math.min(p,u,h.maxHeight)),f&&!p&&(p=Df(f/2)),(e!==void 0||t!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=Df(Math.floor(p*i))),{width:f,height:p}}function jx(n,e,t){const i=e||1,r=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==a?(n.currentDevicePixelRatio=i,l.height=r,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const r8=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};f0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Ux(n,e){const t=Zq(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const s8=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},a8=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Fl(n,e,t){return n?s8(e,t):a8()}function zk(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Hk(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class o8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const a=t.listeners[r],l=t.duration;a.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Ik.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(r.draw(),this._notify(r,i,e,"progress")),a.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var qr=new o8;const zx="transparent",l8={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=kx(n||zx),r=i.valid&&kx(e||zx);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class c8{constructor(e,t,i,r){const a=t[i];r=Cf([e.to,r,a,e.from]);const l=Cf([e.from,a,r]);this._active=!0,this._fn=e.fn||l8[e.type||typeof l],this._easing=Ju[e.easing]||Ju.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Cf([e.to,t,r,e.from]),this._from=Cf([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||t<i),!this._active){this._target[r]=u,this._notify(!0);return}if(t<0){this._target[r]=a;return}h=t/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(a,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class Bk{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ze(e))return;const t=Object.keys(Ot.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const a=e[r];if(!Ze(a))return;const l={};for(const u of t)l[u]=a[u];(fn(a.properties)&&a.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,t){const i=t.options,r=h8(e,i);if(!r)return[];const a=this._createAnimations(r,i);return i.$shared&&u8(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,t){const i=this._properties,r=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,t));continue}const p=t[f];let v=a[f];const _=i.get(f);if(v)if(_&&v.active()){v.update(_,p,u);continue}else v.cancel();if(!_||!_.duration){e[f]=p;continue}a[f]=v=new c8(_,e,f,p),r.push(v)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return qr.add(this._chart,i),!0}}function u8(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const a=n[i[r]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function h8(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Hx(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:i?a:r,end:i?r:a}}function d8(n,e,t){if(t===!1)return!1;const i=Hx(n,t),r=Hx(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function f8(n){let e,t,i,r;return Ze(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function Fk(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,a;for(r=0,a=i.length;r<a;++r)t.push(i[r].index);return t}function Bx(n,e,t,i={}){const r=n.keys,a=i.mode==="single";let l,u,h,f;if(e===null)return;let p=!1;for(l=0,u=r.length;l<u;++l){if(h=+r[l],h===t){if(p=!0,i.all)continue;break}f=n.values[h],as(f)&&(a||e===0||Rx(e)===Rx(f))&&(e+=f)}return!p&&!i.all?0:e}function g8(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],u[h]={[r]:p,[a]:n[p]};return u}function Sv(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function p8(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function m8(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function y8(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Fx(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const a=n[r.index];if(t&&a>0||!t&&a<0)return r.index}return null}function qx(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:u}=i,h=a.axis,f=l.axis,p=p8(a,l,i),v=e.length;let _;for(let b=0;b<v;++b){const T=e[b],{[h]:R,[f]:x}=T,M=T._stacks||(T._stacks={});_=M[f]=y8(r,p,R),_[u]=x,_._top=Fx(_,l,!0,i.type),_._bottom=Fx(_,l,!1,i.type);const V=_._visualValues||(_._visualValues={});V[u]=x}}function Tv(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function v8(n,e){return gc(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function _8(n,e,t){return gc(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Au(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const a=r._stacks;if(!a||a[i]===void 0||a[i][t]===void 0)return;delete a[i][t],a[i]._visualValues!==void 0&&a[i]._visualValues[t]!==void 0&&delete a[i]._visualValues[t]}}}const xv=n=>n==="reset"||n==="none",Wx=(n,e)=>e?n:Object.assign({},n),b8=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Fk(t,!0),values:null};class nh{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Sv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Au(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(v,_,b,T)=>v==="x"?_:v==="r"?T:b,a=t.xAxisID=st(i.xAxisID,Tv(e,"x")),l=t.yAxisID=st(i.yAxisID,Tv(e,"y")),u=t.rAxisID=st(i.rAxisID,Tv(e,"r")),h=t.indexAxis,f=t.iAxisID=r(h,a,l,u),p=t.vAxisID=r(h,l,a,u);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Cx(this._data,this),e._stacked&&Au(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Ze(t)){const r=this._cachedMeta;this._data=g8(t,r)}else if(i!==t){if(i){Cx(i,this);const r=this._cachedMeta;Au(r),r._parsed=[]}t&&Object.isExtensible(t)&&_q(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const a=t._stacked;t._stacked=Sv(t.vScale,t),t.stack!==i.stack&&(r=!0,Au(t),t.stack=i.stack),this._resyncElements(e),(r||a!==t._stacked)&&(qx(this,t._parsed),t._stacked=Sv(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:a,_stacked:l}=i,u=a.axis;let h=e===0&&t===r.length?!0:i._sorted,f=e>0&&i._parsed[e-1],p,v,_;if(this._parsing===!1)i._parsed=r,i._sorted=!0,_=r;else{fn(r[e])?_=this.parseArrayData(i,r,e,t):Ze(r[e])?_=this.parseObjectData(i,r,e,t):_=this.parsePrimitiveData(i,r,e,t);const b=()=>v[u]===null||f&&v[u]<f[u];for(p=0;p<t;++p)i._parsed[p+e]=v=_[p],h&&(b()&&(h=!1),f=v);i._sorted=h}l&&qx(this,_)}parsePrimitiveData(e,t,i,r){const{iScale:a,vScale:l}=e,u=a.axis,h=l.axis,f=a.getLabels(),p=a===l,v=new Array(r);let _,b,T;for(_=0,b=r;_<b;++_)T=_+i,v[_]={[u]:p||a.parse(f[T],T),[h]:l.parse(t[T],T)};return v}parseArrayData(e,t,i,r){const{xScale:a,yScale:l}=e,u=new Array(r);let h,f,p,v;for(h=0,f=r;h<f;++h)p=h+i,v=t[p],u[h]={x:a.parse(v[0],p),y:l.parse(v[1],p)};return u}parseObjectData(e,t,i,r){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(r);let p,v,_,b;for(p=0,v=r;p<v;++p)_=p+i,b=t[_],f[p]={x:a.parse(_h(b,u),_),y:l.parse(_h(b,h),_)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,a=this._cachedMeta,l=t[e.axis],u={keys:Fk(r,!0),values:t._stacks[e.axis]._visualValues};return Bx(u,l,a.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const a=i[t.axis];let l=a===null?NaN:a;const u=r&&i._stacks[t.axis];r&&u&&(r.values=u,l=Bx(r,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,a=i._sorted&&e===i.iScale,l=r.length,u=this._getOtherScale(e),h=b8(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:v}=m8(u);let _,b;function T(){b=r[_];const R=b[u.axis];return!as(b[e.axis])||p>R||v<R}for(_=0;_<l&&!(!T()&&(this.updateRangeFromParsed(f,e,b,h),a));++_);if(a){for(_=l-1;_>=0;--_)if(!T()){this.updateRangeFromParsed(f,e,b,h);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,a,l;for(r=0,a=t.length;r<a;++r)l=t[r][e.axis],as(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=f8(st(this.options.clip,d8(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],a=t.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,a,u,h),p=u;p<u+h;++p){const v=r[p];v.hidden||(v.active&&f?l.push(v):v.draw(e,a))}for(p=0;p<l.length;++p)l[p].draw(e,a)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=_8(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=r.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=v8(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",a=this._cachedDataOpts,l=e+"-"+t,u=a[l],h=this.enableOptionSharing&&qg(i);if(u)return Wx(u,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),v=r?[`${e}Hover`,"hover",e,""]:[e,""],_=f.getOptionScopes(this.getDataset(),p),b=Object.keys(Ot.elements[e]),T=()=>this.getContext(i,r,t),R=f.resolveNamedOptions(_,b,T,v);return R.$shared&&(R.$shared=h,a[l]=Object.freeze(Wx(R,h))),R}_resolveAnimations(e,t,i){const r=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,u=a[l];if(u)return u;let h;if(r.options.animation!==!1){const p=this.chart.config,v=p.datasetAnimationScopeKeys(this._type,t),_=p.getOptionScopes(this.getDataset(),v);h=p.createResolver(_,this.getContext(e,i,t))}const f=new Bk(r,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||xv(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(t,a)||a!==r;return this.updateSharedOptions(a,t,i),{sharedOptions:a,includeOptions:l}}updateElement(e,t,i,r){xv(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!xv(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const a=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const r=i.length,a=t.length,l=Math.min(a,r);l&&this.parse(0,l),a>r?this._insertElements(r,a-r,e):a<r&&this._removeElements(a,r-a)}_insertElements(e,t,i=!0){const r=this._cachedMeta,a=r.data,l=e+t;let u;const h=f=>{for(f.length+=t,u=f.length-1;u>=l;u--)f[u]=f[u-t]};for(h(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(e,t),i&&this.updateElements(a,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&Au(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ve(nh,"defaults",{}),Ve(nh,"datasetElementType",null),Ve(nh,"dataElementType",null);function E8(n,e,t){let i=1,r=1,a=0,l=0;if(e<Ut){const u=n,h=u+e,f=Math.cos(u),p=Math.sin(u),v=Math.cos(h),_=Math.sin(h),b=(z,$,J)=>$g(z,u,h,!0)?1:Math.max($,$*t,J,J*t),T=(z,$,J)=>$g(z,u,h,!0)?-1:Math.min($,$*t,J,J*t),R=b(0,f,v),x=b(Gt,p,_),M=T(sn,f,v),V=T(sn+Gt,p,_);i=(R-M)/2,r=(x-V)/2,a=-(R+M)/2,l=-(x+V)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:l}}class Vu extends nh{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let a=h=>+i[h];if(Ze(i[e])){const{key:h="value"}=this._parsing;a=f=>+_h(i[f],h)}let l,u;for(l=e,u=e+t;l<u;++l)r._parsed[l]=a(l)}}_getRotation(){return fo(this.options.rotation-90)}_getCircumference(){return fo(this.options.circumference)}_getRotationExtents(){let e=Ut,t=-Ut;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,a=r._getRotation(),l=r._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,a=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(sq(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:p,rotation:v}=this._getRotationExtents(),{ratioX:_,ratioY:b,offsetX:T,offsetY:R}=E8(v,p,h),x=(i.width-l)/_,M=(i.height-l)/b,V=Math.max(Math.min(x,M)/2,0),z=xk(this.options.radius,V),$=Math.max(z*h,0),J=(z-$)/this._getVisibleDatasetWeightTotal();this.offsetX=T*z,this.offsetY=R*z,r.total=this.calculateTotal(),this.outerRadius=z-J*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-J*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,a=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*a/Ut)}updateElements(e,t,i,r){const a=r==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,p=(u.left+u.right)/2,v=(u.top+u.bottom)/2,_=a&&f.animateScale,b=_?0:this.innerRadius,T=_?0:this.outerRadius,{sharedOptions:R,includeOptions:x}=this._getSharedOptions(t,r);let M=this._getRotation(),V;for(V=0;V<t;++V)M+=this._circumference(V,a);for(V=t;V<t+i;++V){const z=this._circumference(V,a),$=e[V],J={x:p+this.offsetX,y:v+this.offsetY,startAngle:M,endAngle:M+z,circumference:z,outerRadius:T,innerRadius:b};x&&(J.options=R||this.resolveDataElementOptions(V,$.active?"active":r)),M+=z,this.updateElement($,V,J,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const a=e._parsed[r];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ut*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],a=Cq(t._parsed[e],i.options.locale);return{label:r[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,a,l,u,h;if(!e){for(r=0,a=i.data.datasets.length;r<a;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),e=l.data,u=l.controller;break}}if(!e)return 0;for(r=0,a=e.length;r<a;++r)h=u.resolveDataElementOptions(r),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const a=this.resolveDataElementOptions(i);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(st(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ve(Vu,"id","doughnut"),Ve(Vu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ve(Vu,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ve(Vu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((a,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});function io(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class p0{constructor(e){Ve(this,"options");this.options=e||{}}static override(e){Object.assign(p0.prototype,e)}init(){}formats(){return io()}parse(){return io()}format(){return io()}add(){return io()}diff(){return io()}startOf(){return io()}endOf(){return io()}}var w8={_date:p0};function A8(n,e,t,i){const{controller:r,data:a,_sorted:l}=n,u=r._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const f=u._reversePixels?yq:b_;if(i){if(r._sharedOptions){const p=a[0],v=typeof p.getRange=="function"&&p.getRange(e);if(v){const _=f(a,e,t-v),b=f(a,e,t+v);return{lo:_.lo,hi:b.hi}}}}else{const p=f(a,e,t);if(h){const{vScale:v}=r._cachedMeta,{_parsed:_}=n,b=_.slice(0,p.lo+1).reverse().findIndex(R=>!Tn(R[v.axis]));p.lo-=Math.max(0,b);const T=_.slice(p.hi).findIndex(R=>!Tn(R[v.axis]));p.hi+=Math.max(0,T)}return p}}return{lo:0,hi:a.length-1}}function Pp(n,e,t,i,r){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,h=a.length;u<h;++u){const{index:f,data:p}=a[u],{lo:v,hi:_}=A8(a[u],e,l,r);for(let b=v;b<=_;++b){const T=p[b];T.skip||i(T,f,b)}}}function S8(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const a=e?Math.abs(i.x-r.x):0,l=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Rv(n,e,t,i,r){const a=[];return!r&&!n.isPointInArea(e)||Pp(n,t,e,function(u,h,f){!r&&!Pk(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&a.push({element:u,datasetIndex:h,index:f})},!0),a}function T8(n,e,t,i){let r=[];function a(l,u,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:v}=Ck(l,{x:e.x,y:e.y});$g(v,f,p)&&r.push({element:l,datasetIndex:u,index:h})}return Pp(n,t,e,a),r}function x8(n,e,t,i,r,a){let l=[];const u=S8(t);let h=Number.POSITIVE_INFINITY;function f(p,v,_){const b=p.inRange(e.x,e.y,r);if(i&&!b)return;const T=p.getCenterPoint(r);if(!(!!a||n.isPointInArea(T))&&!b)return;const x=u(e,T);x<h?(l=[{element:p,datasetIndex:v,index:_}],h=x):x===h&&l.push({element:p,datasetIndex:v,index:_})}return Pp(n,t,e,f),l}function Cv(n,e,t,i,r,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!i?T8(n,e,t,r):x8(n,e,t,i,r,a)}function Gx(n,e,t,i,r){const a=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return Pp(n,t,e,(h,f,p)=>{h[l]&&h[l](e[t],r)&&(a.push({element:h,datasetIndex:f,index:p}),u=u||h.inRange(e.x,e.y,r))}),i&&!u?[]:a}var R8={modes:{index(n,e,t,i){const r=oo(e,n),a=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?Rv(n,r,a,i,l):Cv(n,r,a,!1,i,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,v=f.data[p];v&&!v.skip&&h.push({element:v,datasetIndex:f.index,index:p})}),h):[]},dataset(n,e,t,i){const r=oo(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?Rv(n,r,a,i,l):Cv(n,r,a,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:h,index:p})}return u},point(n,e,t,i){const r=oo(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Rv(n,r,a,i,l)},nearest(n,e,t,i){const r=oo(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Cv(n,r,a,t.intersect,i,l)},x(n,e,t,i){const r=oo(e,n);return Gx(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=oo(e,n);return Gx(n,r,"y",t.intersect,i)}}};const qk=["left","top","right","bottom"];function Su(n,e){return n.filter(t=>t.pos===e)}function $x(n,e){return n.filter(t=>qk.indexOf(t.pos)===-1&&t.box.axis===e)}function Tu(n,e){return n.sort((t,i)=>{const r=e?i:t,a=e?t:i;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function C8(n){const e=[];let t,i,r,a,l,u;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:a,options:{stack:l,stackWeight:u=1}}=r,e.push({index:t,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&a+l,stackWeight:u});return e}function D8(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:a}=t;if(!i||!qk.includes(r))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function I8(n,e){const t=D8(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:h}=u.box,f=t[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:h&&e.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:h&&e.availableHeight)}return t}function k8(n){const e=C8(n),t=Tu(e.filter(f=>f.box.fullSize),!0),i=Tu(Su(e,"left"),!0),r=Tu(Su(e,"right")),a=Tu(Su(e,"top"),!0),l=Tu(Su(e,"bottom")),u=$x(e,"x"),h=$x(e,"y");return{fullSize:t,leftAndTop:i.concat(a),rightAndBottom:r.concat(h).concat(l).concat(u),chartArea:Su(e,"chartArea"),vertical:i.concat(r).concat(h),horizontal:a.concat(l).concat(u)}}function Yx(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function Wk(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function M8(n,e,t,i){const{pos:r,box:a}=t,l=n.maxPadding;if(!Ze(r)){t.size&&(n[r]-=t.size);const v=i[t.stack]||{size:0,count:1};v.size=Math.max(v.size,t.horizontal?a.height:a.width),t.size=v.size/v.count,n[r]+=t.size}a.getPadding&&Wk(l,a.getPadding());const u=Math.max(0,e.outerWidth-Yx(l,n,"left","right")),h=Math.max(0,e.outerHeight-Yx(l,n,"top","bottom")),f=u!==n.w,p=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:f,other:p}:{same:p,other:f}}function O8(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function N8(n,e){const t=e.maxPadding;function i(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return i(n?["left","right"]:["top","bottom"])}function ju(n,e,t,i){const r=[];let a,l,u,h,f,p;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],h=u.box,h.update(u.width||e.w,u.height||e.h,N8(u.horizontal,e));const{same:v,other:_}=M8(e,t,u,i);f|=v&&r.length,p=p||_,h.fullSize||r.push(u)}return f&&ju(r,e,t,i)||p}function If(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function Qx(n,e,t,i){const r=t.padding;let{x:a,y:l}=e;for(const u of n){const h=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const v=e.w*p,_=f.size||h.height;qg(f.start)&&(l=f.start),h.fullSize?If(h,r.left,l,t.outerWidth-r.right-r.left,_):If(h,e.left+f.placed,l,v,_),f.start=l,f.placed+=v,l=h.bottom}else{const v=e.h*p,_=f.size||h.width;qg(f.start)&&(a=f.start),h.fullSize?If(h,a,r.top,_,t.outerHeight-r.bottom-r.top):If(h,a,e.top+f.placed,_,v),f.start=a,f.placed+=v,a=h.right}}e.x=a,e.y=l}var Js={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=Vi(n.options.layout.padding),a=Math.max(e-r.width,0),l=Math.max(t-r.height,0),u=k8(n.boxes),h=u.vertical,f=u.horizontal;rt(n.boxes,R=>{typeof R.beforeLayout=="function"&&R.beforeLayout()});const p=h.reduce((R,x)=>x.box.options&&x.box.options.display===!1?R:R+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},r);Wk(_,Vi(i));const b=Object.assign({maxPadding:_,w:a,h:l,x:r.left,y:r.top},r),T=I8(h.concat(f),v);ju(u.fullSize,b,v,T),ju(h,b,v,T),ju(f,b,v,T)&&ju(h,b,v,T),O8(b),Qx(u.leftAndTop,b,v,T),b.x+=b.w,b.y+=b.h,Qx(u.rightAndBottom,b,v,T),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},rt(u.chartArea,R=>{const x=R.box;Object.assign(x,n.chartArea),x.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class Gk{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class P8 extends Gk{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const eg="$chartjs",L8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Kx=n=>n===null||n==="";function V8(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[eg]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Kx(r)){const a=Ux(n,"width");a!==void 0&&(n.width=a)}if(Kx(i))if(n.style.height==="")n.height=n.width/(e||2);else{const a=Ux(n,"height");a!==void 0&&(n.height=a)}return n}const $k=r8?{passive:!0}:!1;function j8(n,e,t){n&&n.addEventListener(e,t,$k)}function U8(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,$k)}function z8(n,e){const t=L8[n.type]||n.type,{x:i,y:r}=oo(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Kg(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function H8(n,e,t){const i=n.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Kg(u.addedNodes,i),l=l&&!Kg(u.removedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function B8(n,e,t){const i=n.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Kg(u.removedNodes,i),l=l&&!Kg(u.addedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const bh=new Map;let Xx=0;function Yk(){const n=window.devicePixelRatio;n!==Xx&&(Xx=n,bh.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function F8(n,e){bh.size||window.addEventListener("resize",Yk),bh.set(n,e)}function q8(n){bh.delete(n),bh.size||window.removeEventListener("resize",Yk)}function W8(n,e,t){const i=n.canvas,r=i&&g0(i);if(!r)return;const a=kk((u,h)=>{const f=r.clientWidth;t(u,h),f<r.clientWidth&&t()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(r),F8(n,a),l}function Dv(n,e,t){t&&t.disconnect(),e==="resize"&&q8(n)}function G8(n,e,t){const i=n.canvas,r=kk(a=>{n.ctx!==null&&t(z8(a,n))},n);return j8(i,e,r),r}class $8 extends Gk{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(V8(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[eg])return!1;const i=t[eg].initial;["height","width"].forEach(a=>{const l=i[a];Tn(l)?t.removeAttribute(a):t.setAttribute(a,l)});const r=i.style||{};return Object.keys(r).forEach(a=>{t.style[a]=r[a]}),t.width=t.width,delete t[eg],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),l={attach:H8,detach:B8,resize:W8}[t]||G8;r[t]=l(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Dv,detach:Dv,resize:Dv}[t]||U8)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return i8(e,t,i,r)}isAttached(e){const t=e&&g0(e);return!!(t&&t.isConnected)}}function Y8(n){return!f0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?P8:$8}class To{constructor(){Ve(this,"x");Ve(this,"y");Ve(this,"active",!1);Ve(this,"options");Ve(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Gg(this.x)&&Gg(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(a=>{r[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),r}}Ve(To,"defaults",{}),Ve(To,"defaultRoutes");function Q8(n,e){const t=n.options.ticks,i=K8(n),r=Math.min(t.maxTicksLimit||i,i),a=t.major.enabled?Z8(e):[],l=a.length,u=a[0],h=a[l-1],f=[];if(l>r)return J8(e,f,a,l/r),f;const p=X8(a,e,r);if(l>0){let v,_;const b=l>1?Math.round((h-u)/(l-1)):null;for(kf(e,f,p,Tn(b)?0:u-b,u),v=0,_=l-1;v<_;v++)kf(e,f,p,a[v],a[v+1]);return kf(e,f,p,h,Tn(b)?e.length:h+b),f}return kf(e,f,p),f}function K8(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function X8(n,e,t){const i=eW(n),r=e.length/t;if(!i)return Math.max(r,1);const a=dq(i);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>r)return h}return Math.max(r,1)}function Z8(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function J8(n,e,t,i){let r=0,a=t[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(e.push(n[l]),r++,a=t[r*i])}function kf(n,e,t,i,r){const a=st(i,0),l=Math.min(st(r,n.length),n.length);let u=0,h,f,p;for(t=Math.ceil(t),r&&(h=r-i,t=h/Math.floor(h/t)),p=a;p<0;)u++,p=Math.round(a+u*t);for(f=Math.max(a,0);f<l;f++)f===p&&(e.push(n[f]),u++,p=Math.round(a+u*t))}function eW(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const tW=n=>n==="left"?"right":n==="right"?"left":n,Zx=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Jx=(n,e)=>Math.min(e||n,n);function eR(n,e){const t=[],i=n.length/e,r=n.length;let a=0;for(;a<r;a+=i)t.push(n[Math.floor(a)]);return t}function nW(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),a=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(r),f;if(!(t&&(i===1?f=Math.max(h-a,l-h):e===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(r-1))/2,h+=r<e?f:-f,h<a-u||h>l+u)))return h}function iW(n,e){rt(n,t=>{const i=t.gc,r=i.length/2;let a;if(r>e){for(a=0;a<r;++a)delete t.data[i[a]];i.splice(0,r)}})}function xu(n){return n.drawTicks?n.tickLength:0}function tR(n,e){if(!n.display)return 0;const t=Hn(n.font,e),i=Vi(n.padding);return(fn(n.text)?n.text.length:1)*t.lineHeight+i.height}function rW(n,e){return gc(n,{scale:e,type:"scale"})}function sW(n,e,t){return gc(n,{tick:t,index:e,type:"tick"})}function aW(n,e,t){let i=Mk(n);return(t&&e!=="right"||!t&&e==="right")&&(i=tW(i)),i}function oW(n,e,t,i){const{top:r,left:a,bottom:l,right:u,chart:h}=n,{chartArea:f,scales:p}=h;let v=0,_,b,T;const R=l-r,x=u-a;if(n.isHorizontal()){if(b=Xn(i,a,u),Ze(t)){const M=Object.keys(t)[0],V=t[M];T=p[M].getPixelForValue(V)+R-e}else t==="center"?T=(f.bottom+f.top)/2+R-e:T=Zx(n,t,e);_=u-a}else{if(Ze(t)){const M=Object.keys(t)[0],V=t[M];b=p[M].getPixelForValue(V)-x+e}else t==="center"?b=(f.left+f.right)/2-x+e:b=Zx(n,t,e);T=Xn(i,l,r),v=t==="left"?-Gt:Gt}return{titleX:b,titleY:T,maxWidth:_,rotation:v}}class Lp extends To{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=sr(e,Number.POSITIVE_INFINITY),t=sr(t,Number.NEGATIVE_INFINITY),i=sr(i,Number.POSITIVE_INFINITY),r=sr(r,Number.NEGATIVE_INFINITY),{min:sr(e,i),max:sr(t,r),minDefined:as(e),maxDefined:as(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:a}=this.getUserBounds(),l;if(r&&a)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,e),r||(t=Math.min(t,l.min)),a||(i=Math.max(i,l.max));return t=a&&t>i?i:t,i=r&&t>i?t:i,{min:sr(t,sr(i,t)),max:sr(i,sr(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ht(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Bq(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?eR(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Q8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ht(this.options.afterUpdate,[this])}beforeSetDimensions(){ht(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ht(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ht(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ht(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,a;for(i=0,r=e.length;i<r;i++)a=e[i],a.label=ht(t.callback,[a.value,i,e],this)}afterTickToLabelConversion(){ht(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ht(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=Jx(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,a=t.maxRotation;let l=r,u,h,f;if(!this._isVisible()||!t.display||r>=a||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),v=p.widest.width,_=p.highest.height,b=_i(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/i:b/(i-1),v+6>u&&(u=b/(i-(e.offset?.5:1)),h=this.maxHeight-xu(e.grid)-t.padding-tR(e.title,this.chart.options.font),f=Math.sqrt(v*v+_*_),l=gq(Math.min(Math.asin(_i((p.highest.height+6)/u,-1,1)),Math.asin(_i(h/f,-1,1))-Math.asin(_i(_/f,-1,1)))),l=Math.max(r,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){ht(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ht(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=tR(r,t.options.font);if(u?(e.width=this.maxWidth,e.height=xu(a)+h):(e.height=this.maxHeight,e.width=xu(a)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:v,highest:_}=this._getLabelSizes(),b=i.padding*2,T=fo(this.labelRotation),R=Math.cos(T),x=Math.sin(T);if(u){const M=i.mirror?0:x*v.width+R*_.height;e.height=Math.min(this.maxHeight,e.height+M+b)}else{const M=i.mirror?0:R*v.width+x*_.height;e.width=Math.min(this.maxWidth,e.width+M+b)}this._calculatePadding(f,p,x,R)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,b=0;h?f?(_=r*e.width,b=i*t.height):(_=i*e.height,b=r*t.width):a==="start"?b=t.width:a==="end"?_=e.width:a!=="inner"&&(_=e.width/2,b=t.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-v+l)*this.width/(this.width-v),0)}else{let p=t.height/2,v=e.height/2;a==="start"?(p=0,v=e.height):a==="end"&&(p=t.height,v=0),this.paddingTop=p+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ht(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Tn(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=eR(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(t/Jx(t,i));let f=0,p=0,v,_,b,T,R,x,M,V,z,$,J;for(v=0;v<t;v+=h){if(T=e[v].label,R=this._resolveTickFontOptions(v),r.font=x=R.string,M=a[x]=a[x]||{data:{},gc:[]},V=R.lineHeight,z=$=0,!Tn(T)&&!fn(T))z=Ox(r,M.data,M.gc,z,T),$=V;else if(fn(T))for(_=0,b=T.length;_<b;++_)J=T[_],!Tn(J)&&!fn(J)&&(z=Ox(r,M.data,M.gc,z,J),$+=V);l.push(z),u.push($),f=Math.max(z,f),p=Math.max($,p)}iW(a,t);const ne=l.indexOf(f),N=u.indexOf(p),D=I=>({width:l[I]||0,height:u[I]||0});return{first:D(0),last:D(t-1),widest:D(ne),highest:D(N),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return mq(this._alignToPixels?no(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=sW(this.getContext(),e,i))}return this.$context||(this.$context=rW(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=fo(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>u*r?u/i:h/r:h*r<u*i?h/i:u/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:a,position:l,border:u}=r,h=a.offset,f=this.isHorizontal(),v=this.ticks.length+(h?1:0),_=xu(a),b=[],T=u.setContext(this.getContext()),R=T.display?T.width:0,x=R/2,M=function(oe){return no(i,oe,R)};let V,z,$,J,ne,N,D,I,O,j,H,P;if(l==="top")V=M(this.bottom),N=this.bottom-_,I=V-x,j=M(e.top)+x,P=e.bottom;else if(l==="bottom")V=M(this.top),j=e.top,P=M(e.bottom)-x,N=V+x,I=this.top+_;else if(l==="left")V=M(this.right),ne=this.right-_,D=V-x,O=M(e.left)+x,H=e.right;else if(l==="right")V=M(this.left),O=e.left,H=M(e.right)-x,ne=V+x,D=this.left+_;else if(t==="x"){if(l==="center")V=M((e.top+e.bottom)/2+.5);else if(Ze(l)){const oe=Object.keys(l)[0],de=l[oe];V=M(this.chart.scales[oe].getPixelForValue(de))}j=e.top,P=e.bottom,N=V+x,I=N+_}else if(t==="y"){if(l==="center")V=M((e.left+e.right)/2);else if(Ze(l)){const oe=Object.keys(l)[0],de=l[oe];V=M(this.chart.scales[oe].getPixelForValue(de))}ne=V-x,D=ne-_,O=e.left,H=e.right}const Ne=st(r.ticks.maxTicksLimit,v),Ae=Math.max(1,Math.ceil(v/Ne));for(z=0;z<v;z+=Ae){const oe=this.getContext(z),de=a.setContext(oe),ge=u.setContext(oe),Te=de.lineWidth,U=de.color,le=ge.dash||[],pe=ge.dashOffset,he=de.tickWidth,ue=de.tickColor,Ce=de.tickBorderDash||[],Ee=de.tickBorderDashOffset;$=nW(this,z,h),$!==void 0&&(J=no(i,$,Te),f?ne=D=O=H=J:N=I=j=P=J,b.push({tx1:ne,ty1:N,tx2:D,ty2:I,x1:O,y1:j,x2:H,y2:P,width:Te,color:U,borderDash:le,borderDashOffset:pe,tickWidth:he,tickColor:ue,tickBorderDash:Ce,tickBorderDashOffset:Ee}))}return this._ticksLength=v,this._borderValue=V,b}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:p,mirror:v}=a,_=xu(i.grid),b=_+p,T=v?-p:b,R=-fo(this.labelRotation),x=[];let M,V,z,$,J,ne,N,D,I,O,j,H,P="middle";if(r==="top")ne=this.bottom-T,N=this._getXAxisLabelAlignment();else if(r==="bottom")ne=this.top+T,N=this._getXAxisLabelAlignment();else if(r==="left"){const Ae=this._getYAxisLabelAlignment(_);N=Ae.textAlign,J=Ae.x}else if(r==="right"){const Ae=this._getYAxisLabelAlignment(_);N=Ae.textAlign,J=Ae.x}else if(t==="x"){if(r==="center")ne=(e.top+e.bottom)/2+b;else if(Ze(r)){const Ae=Object.keys(r)[0],oe=r[Ae];ne=this.chart.scales[Ae].getPixelForValue(oe)+b}N=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")J=(e.left+e.right)/2-b;else if(Ze(r)){const Ae=Object.keys(r)[0],oe=r[Ae];J=this.chart.scales[Ae].getPixelForValue(oe)}N=this._getYAxisLabelAlignment(_).textAlign}t==="y"&&(h==="start"?P="top":h==="end"&&(P="bottom"));const Ne=this._getLabelSizes();for(M=0,V=u.length;M<V;++M){z=u[M],$=z.label;const Ae=a.setContext(this.getContext(M));D=this.getPixelForTick(M)+a.labelOffset,I=this._resolveTickFontOptions(M),O=I.lineHeight,j=fn($)?$.length:1;const oe=j/2,de=Ae.color,ge=Ae.textStrokeColor,Te=Ae.textStrokeWidth;let U=N;l?(J=D,N==="inner"&&(M===V-1?U=this.options.reverse?"left":"right":M===0?U=this.options.reverse?"right":"left":U="center"),r==="top"?f==="near"||R!==0?H=-j*O+O/2:f==="center"?H=-Ne.highest.height/2-oe*O+O:H=-Ne.highest.height+O/2:f==="near"||R!==0?H=O/2:f==="center"?H=Ne.highest.height/2-oe*O:H=Ne.highest.height-j*O,v&&(H*=-1),R!==0&&!Ae.showLabelBackdrop&&(J+=O/2*Math.sin(R))):(ne=D,H=(1-j)*O/2);let le;if(Ae.showLabelBackdrop){const pe=Vi(Ae.backdropPadding),he=Ne.heights[M],ue=Ne.widths[M];let Ce=H-pe.top,Ee=0-pe.left;switch(P){case"middle":Ce-=he/2;break;case"bottom":Ce-=he;break}switch(N){case"center":Ee-=ue/2;break;case"right":Ee-=ue;break;case"inner":M===V-1?Ee-=ue:M>0&&(Ee-=ue/2);break}le={left:Ee,top:Ce,width:ue+pe.width,height:he+pe.height,color:Ae.backdropColor}}x.push({label:$,font:I,textOffset:H,options:{rotation:R,color:de,strokeColor:ge,strokeWidth:Te,textAlign:U,textBaseline:P,translation:[J,ne],backdrop:le}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-fo(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,h=l.widest.width;let f,p;return t==="left"?r?(p=this.right+a,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):t==="right"?r?(p=this.left+a,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(a=>a.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(a=0,l=r.length;a<l;++a){const h=r[a];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,v,_;this.isHorizontal()?(f=no(e,this.left,l)-l/2,p=no(e,this.right,u)+u/2,v=_=h):(v=no(e,this.top,l)-l/2,_=no(e,this.bottom,u)+u/2,f=p=h),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(f,v),t.lineTo(p,_),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&o0(i,r);const a=this.getLabelItems(e);for(const l of a){const u=l.options,h=l.font,f=l.label,p=l.textOffset;Yg(i,f,0,p,h,u)}r&&l0(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const a=Hn(i.font),l=Vi(i.padding),u=i.align;let h=a.lineHeight/2;t==="bottom"||t==="center"||Ze(t)?(h+=l.bottom,fn(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:v,rotation:_}=oW(this,h,t,u);Yg(e,i.text,0,0,a,{color:i.color,maxWidth:v,rotation:_,textAlign:aW(u,t,r),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=st(e.grid&&e.grid.z,-1),r=st(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Lp.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let a,l;for(a=0,l=t.length;a<l;++a){const u=t[a];u[i]===this.id&&(!e||u.type===e)&&r.push(u)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Hn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Mf{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;uW(t)&&(i=this.register(t));const r=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in r||(r[a]=e,lW(e,l,i),this.override&&Ot.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Ot[r]&&(delete Ot[r][i],this.override&&delete So[i])}}function lW(n,e,t){const i=vh(Object.create(null),[t?Ot.get(t):{},Ot.get(e),n.defaults]);Ot.set(e,i),n.defaultRoutes&&cW(e,n.defaultRoutes),n.descriptors&&Ot.describe(e,n.descriptors)}function cW(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),a=[n].concat(i).join("."),l=e[t].split("."),u=l.pop(),h=l.join(".");Ot.route(a,r,h,u)})}function uW(n){return"id"in n&&"defaults"in n}class hW{constructor(){this.controllers=new Mf(nh,"datasets",!0),this.elements=new Mf(To,"elements"),this.plugins=new Mf(Object,"plugins"),this.scales=new Mf(Lp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const a=i||this._getRegistryForType(r);i||a.isForType(r)||a===this.plugins&&r.id?this._exec(e,a,r):rt(r,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,i){const r=s0(e);ht(i["before"+r],[],i),t[e](i),ht(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var or=new hW;class dW{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=r?this._descriptors(e).filter(r):this._descriptors(e),l=this._notify(a,e,t,i);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,i,r){r=r||{};for(const a of e){const l=a.plugin,u=l[i],h=[t,r,a.options];if(ht(u,h,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Tn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=st(i.options&&i.options.plugins,{}),a=fW(i);return r===!1&&!t?[]:pW(e,a,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function fW(n){const e={},t=[],i=Object.keys(or.plugins.items);for(let a=0;a<i.length;a++)t.push(or.getPlugin(i[a]));const r=n.plugins||[];for(let a=0;a<r.length;a++){const l=r[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function gW(n,e){return!e&&n===!1?null:n===!0?{}:n}function pW(n,{plugins:e,localIds:t},i,r){const a=[],l=n.getContext();for(const u of e){const h=u.id,f=gW(i[h],r);f!==null&&a.push({plugin:u,options:mW(n.config,{plugin:u,local:t[h]},f,l)})}return a}function mW(n,{plugin:e,local:t},i,r){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(i,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function A_(n,e){const t=Ot.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function yW(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function vW(n,e){return n===e?"_index_":"_value_"}function nR(n){if(n==="x"||n==="y"||n==="r")return n}function _W(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function S_(n,...e){if(nR(n))return n;for(const t of e){const i=t.axis||_W(t.position)||n.length>1&&nR(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function iR(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function bW(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return iR(n,"x",t[0])||iR(n,"y",t[0])}return{}}function EW(n,e){const t=So[n.type]||{scales:{}},i=e.scales||{},r=A_(n.type,e),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Ze(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=S_(l,u,bW(l,n),Ot.scales[u.type]),f=vW(h,r),p=t.scales||{};a[l]=Zu(Object.create(null),[{axis:h},u,p[h],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||A_(u,e),p=(So[u]||{}).scales||{};Object.keys(p).forEach(v=>{const _=yW(v,h),b=l[_+"AxisID"]||_;a[b]=a[b]||Object.create(null),Zu(a[b],[{axis:_},i[b],p[v]])})}),Object.keys(a).forEach(l=>{const u=a[l];Zu(u,[Ot.scales[u.type],Ot.scale])}),a}function Qk(n){const e=n.options||(n.options={});e.plugins=st(e.plugins,{}),e.scales=EW(n,e)}function Kk(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function wW(n){return n=n||{},n.data=Kk(n.data),Qk(n),n}const rR=new Map,Xk=new Set;function Of(n,e){let t=rR.get(n);return t||(t=e(),rR.set(n,t),Xk.add(t)),t}const Ru=(n,e,t)=>{const i=_h(e,t);i!==void 0&&n.add(i)};class AW{constructor(e){this._config=wW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Kk(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Qk(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Of(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Of(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Of(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return Of(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:a}=this,l=this._cachedScopes(e,i),u=l.get(t);if(u)return u;const h=new Set;t.forEach(p=>{e&&(h.add(e),p.forEach(v=>Ru(h,e,v))),p.forEach(v=>Ru(h,r,v)),p.forEach(v=>Ru(h,So[a]||{},v)),p.forEach(v=>Ru(h,Ot,v)),p.forEach(v=>Ru(h,E_,v))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),Xk.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,So[t]||{},Ot.datasets[t]||{},{type:t},Ot,E_]}resolveNamedOptions(e,t,i,r=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=sR(this._resolverCache,e,r);let h=l;if(TW(l,t)){a.$shared=!1,i=ma(i)?i():i;const f=this.createResolver(e,i,u);h=tc(l,i,f)}for(const f of t)a[f]=h[f];return a}createResolver(e,t,i=[""],r){const{resolver:a}=sR(this._resolverCache,e,i);return Ze(t)?tc(a,t,void 0,r):a}}function sR(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let a=i.get(r);return a||(a={resolver:u0(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,a)),a}const SW=n=>Ze(n)&&Object.getOwnPropertyNames(n).some(e=>ma(n[e]));function TW(n,e){const{isScriptable:t,isIndexable:i}=Lk(n);for(const r of e){const a=t(r),l=i(r),u=(l||a)&&n[r];if(a&&(ma(u)||SW(u))||l&&fn(u))return!0}return!1}var xW="4.4.8";const RW=["top","bottom","left","right","chartArea"];function aR(n,e){return n==="top"||n==="bottom"||RW.indexOf(n)===-1&&e==="x"}function oR(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function lR(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),ht(t&&t.onComplete,[n],e)}function CW(n){const e=n.chart,t=e.options.animation;ht(t&&t.onProgress,[n],e)}function Zk(n){return f0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const tg={},cR=n=>{const e=Zk(n);return Object.values(tg).filter(t=>t.canvas===e).pop()};function DW(n,e,t){const i=Object.keys(n);for(const r of i){const a=+r;if(a>=e){const l=n[r];delete n[r],(t>0||a>e)&&(n[a+t]=l)}}}function IW(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}function Nf(n,e,t){return n.options.clip?n[t]:e[t]}function kW(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Nf(t,e,"left"),right:Nf(t,e,"right"),top:Nf(i,e,"top"),bottom:Nf(i,e,"bottom")}:e}var qs;let Vp=(qs=class{static register(...e){or.add(...e),uR()}static unregister(...e){or.remove(...e),uR()}constructor(e,t){const i=this.config=new AW(t),r=Zk(e),a=cR(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Y8(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,p=h&&h.width;if(this.id=rq(),this.ctx=u,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new dW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Eq(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],tg[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}qr.listen(this,"complete",lR),qr.listen(this,"progress",CW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:a}=this;return Tn(e)?t&&a?a:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return or}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():jx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Nx(this.canvas,this.ctx),this}stop(){return qr.stop(this),this}resize(e,t){qr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,e,t,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,jx(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),ht(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};rt(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const u=t[l],h=S_(l,u),f=h==="r",p=h==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),rt(a,l=>{const u=l.options,h=u.id,f=S_(h,u),p=st(u.type,l.dtype);(u.position===void 0||aR(u.position,f)!==aR(l.dposition))&&(u.position=l.dposition),r[h]=!0;let v=null;if(h in i&&i[h].type===p)v=i[h];else{const _=or.getScale(p);v=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,e)}),rt(r,(l,u)=>{l||delete i[u]}),rt(i,l=>{Js.configure(this,l,l.options),Js.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,a)=>r.index-a.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(oR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const a=t[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||A_(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=or.getController(u),{datasetElementType:f,dataElementType:p}=Ot.datasets[u];Object.assign(h,{dataElementType:or.getElement(p),datasetElementType:f&&or.getElement(f)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){rt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:v}=this.getDatasetMeta(f),_=!r&&a.indexOf(v)===-1;v.buildOrUpdateElements(_),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||rt(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(oR("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){rt(this.scales,e=>{Js.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Tx(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:a}of t){const l=i==="_removeElements"?-a:a;DW(e,r,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let a=1;a<t;a++)if(!Tx(r,i(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Js.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],rt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,ma(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qr.has(this)?this.attached&&!qr.running(this)&&qr.start(this):(this.draw(),lR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,a;for(r=0,a=t.length;r<a;++r){const l=t[r];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,r=!i.disabled,a=kW(e,this.chartArea),l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(r&&o0(t,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?this.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?this.height:a.bottom+i.bottom}),e.controller.draw(),r&&l0(t),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return Pk(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const a=R8.modes[t];return typeof a=="function"?a(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(a=>a&&a._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=gc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,r);qg(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),qr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Nx(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete tg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},r=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};rt(this.options.events,a=>i(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,f)=>{t.addEventListener(this,h,f),e[h]=f},r=(h,f)=>{e[h]&&(t.removeEventListener(this,h,f),delete e[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){rt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},rt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let a,l,u,h;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!Bg(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,a=(h,f)=>h.filter(p=>!f.some(v=>p.datasetIndex===v.datasetIndex&&p.index===v.index)),l=a(t,e),u=i?e:a(e,t);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const a=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(a||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:a}=this,l=t,u=this._getActiveElements(e,r,i,l),h=uq(e),f=IW(e,this._lastEvent,i,h);i&&(this._lastEvent=null,ht(a.onHover,[e,u,this],this),h&&ht(a.onClick,[e,u,this],this));const p=!Bg(u,r);return(p||t)&&(this._active=u,this._updateHoverStyles(u,r,t)),this._lastEvent=f,p}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,r)}},Ve(qs,"defaults",Ot),Ve(qs,"instances",tg),Ve(qs,"overrides",So),Ve(qs,"registry",or),Ve(qs,"version",xW),Ve(qs,"getChart",cR),qs);function uR(){return rt(Vp.instances,n=>n._plugins.invalidate())}function MW(n,e,t){const{startAngle:i,pixelMargin:r,x:a,y:l,outerRadius:u,innerRadius:h}=e;let f=r/u;n.beginPath(),n.arc(a,l,u,i-f,t+f),h>r?(f=r/h,n.arc(a,l,h,t+f,i-f,!0)):n.arc(a,l,r,t+Gt,i-Gt),n.closePath(),n.clip()}function OW(n){return c0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function NW(n,e,t,i){const r=OW(n.options.borderRadius),a=(t-e)/2,l=Math.min(a,i*e/2),u=h=>{const f=(t-Math.min(a,h))*i/2;return _i(h,0,Math.min(a,f))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:_i(r.innerStart,0,l),innerEnd:_i(r.innerEnd,0,l)}}function Cl(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Xg(n,e,t,i,r,a){const{x:l,y:u,startAngle:h,pixelMargin:f,innerRadius:p}=e,v=Math.max(e.outerRadius+i+t-f,0),_=p>0?p+i+t+f:0;let b=0;const T=r-h;if(i){const Ae=p>0?p-i:0,oe=v>0?v-i:0,de=(Ae+oe)/2,ge=de!==0?T*de/(de+i):T;b=(T-ge)/2}const R=Math.max(.001,T*v-t/sn)/v,x=(T-R)/2,M=h+x+b,V=r-x-b,{outerStart:z,outerEnd:$,innerStart:J,innerEnd:ne}=NW(e,_,v,V-M),N=v-z,D=v-$,I=M+z/N,O=V-$/D,j=_+J,H=_+ne,P=M+J/j,Ne=V-ne/H;if(n.beginPath(),a){const Ae=(I+O)/2;if(n.arc(l,u,v,I,Ae),n.arc(l,u,v,Ae,O),$>0){const Te=Cl(D,O,l,u);n.arc(Te.x,Te.y,$,O,V+Gt)}const oe=Cl(H,V,l,u);if(n.lineTo(oe.x,oe.y),ne>0){const Te=Cl(H,Ne,l,u);n.arc(Te.x,Te.y,ne,V+Gt,Ne+Math.PI)}const de=(V-ne/_+(M+J/_))/2;if(n.arc(l,u,_,V-ne/_,de,!0),n.arc(l,u,_,de,M+J/_,!0),J>0){const Te=Cl(j,P,l,u);n.arc(Te.x,Te.y,J,P+Math.PI,M-Gt)}const ge=Cl(N,M,l,u);if(n.lineTo(ge.x,ge.y),z>0){const Te=Cl(N,I,l,u);n.arc(Te.x,Te.y,z,M-Gt,I)}}else{n.moveTo(l,u);const Ae=Math.cos(I)*v+l,oe=Math.sin(I)*v+u;n.lineTo(Ae,oe);const de=Math.cos(O)*v+l,ge=Math.sin(O)*v+u;n.lineTo(de,ge)}n.closePath()}function PW(n,e,t,i,r){const{fullCircles:a,startAngle:l,circumference:u}=e;let h=e.endAngle;if(a){Xg(n,e,t,i,h,r);for(let f=0;f<a;++f)n.fill();isNaN(u)||(h=l+(u%Ut||Ut))}return Xg(n,e,t,i,h,r),n.fill(),h}function LW(n,e,t,i,r){const{fullCircles:a,startAngle:l,circumference:u,options:h}=e,{borderWidth:f,borderJoinStyle:p,borderDash:v,borderDashOffset:_}=h,b=h.borderAlign==="inner";if(!f)return;n.setLineDash(v||[]),n.lineDashOffset=_,b?(n.lineWidth=f*2,n.lineJoin=p||"round"):(n.lineWidth=f,n.lineJoin=p||"bevel");let T=e.endAngle;if(a){Xg(n,e,t,i,T,r);for(let R=0;R<a;++R)n.stroke();isNaN(u)||(T=l+(u%Ut||Ut))}b&&MW(n,e,T),a||(Xg(n,e,t,i,T,r),n.stroke())}class Uu extends To{constructor(t){super();Ve(this,"circumference");Ve(this,"endAngle");Ve(this,"fullCircles");Ve(this,"innerRadius");Ve(this,"outerRadius");Ve(this,"pixelMargin");Ve(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,r){const a=this.getProps(["x","y"],r),{angle:l,distance:u}=Ck(a,{x:t,y:i}),{startAngle:h,endAngle:f,innerRadius:p,outerRadius:v,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),b=(this.options.spacing+this.options.borderWidth)/2,T=st(_,f-h),R=$g(l,h,f)&&h!==f,x=T>=Ut||R,M=Lu(u,p+b,v+b);return x&&M}getCenterPoint(t){const{x:i,y:r,startAngle:a,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:p}=this.options,v=(a+l)/2,_=(u+h+p+f)/2;return{x:i+Math.cos(v)*_,y:r+Math.sin(v)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:r}=this,a=(i.offset||0)/4,l=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Ut?Math.floor(r/Ut):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*a,Math.sin(h)*a);const f=1-Math.sin(Math.min(sn,r||0)),p=a*f;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,PW(t,this,p,l,u),LW(t,this,p,l,u),t.restore()}}Ve(Uu,"id","arc"),Ve(Uu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ve(Uu,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ve(Uu,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});const hR=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},VW=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class dR extends To{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=ht(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Hn(i.font),a=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=hR(i,a);let f,p;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,u,h)+10):(p=this.maxHeight,f=this._fitCols(l,r,u,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+u;let v=e;a.textAlign="left",a.textBaseline="middle";let _=-1,b=-p;return this.legendItems.forEach((T,R)=>{const x=i+t/2+a.measureText(T.text).width;(R===0||f[f.length-1]+x+2*u>l)&&(v+=p,f[f.length-(R>0?0:1)]=0,b+=p,_++),h[R]={left:0,top:b,row:_,width:x,height:r},f[f.length-1]+=x+u}),v}_fitCols(e,t,i,r){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-e;let v=u,_=0,b=0,T=0,R=0;return this.legendItems.forEach((x,M)=>{const{itemWidth:V,itemHeight:z}=jW(i,t,a,x,r);M>0&&b+z+2*u>p&&(v+=_+u,f.push({width:_,height:b}),T+=_+u,R++,_=b=0),h[M]={left:T,top:b,col:R,width:V,height:z},_=Math.max(_,V),b+=z+u}),v+=_,f.push({width:_,height:b}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:a}}=this,l=Fl(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=Xn(i,this.left+r,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,h=Xn(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+e+r,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+r}else{let u=0,h=Xn(i,this.top+e+r,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,h=Xn(i,this.top+e+r,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+r,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;o0(e,this),this._draw(),l0(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:a,labels:l}=e,u=Ot.color,h=Fl(e.rtl,this.left,this.width),f=Hn(l.font),{padding:p}=l,v=f.size,_=v/2;let b;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:T,boxHeight:R,itemHeight:x}=hR(l,v),M=function(ne,N,D){if(isNaN(T)||T<=0||isNaN(R)||R<0)return;r.save();const I=st(D.lineWidth,1);if(r.fillStyle=st(D.fillStyle,u),r.lineCap=st(D.lineCap,"butt"),r.lineDashOffset=st(D.lineDashOffset,0),r.lineJoin=st(D.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=st(D.strokeStyle,u),r.setLineDash(st(D.lineDash,[])),l.usePointStyle){const O={radius:R*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:I},j=h.xPlus(ne,T/2),H=N+_;Nk(r,O,j,H,l.pointStyleWidth&&T)}else{const O=N+Math.max((v-R)/2,0),j=h.leftForLtr(ne,T),H=th(D.borderRadius);r.beginPath(),Object.values(H).some(P=>P!==0)?w_(r,{x:j,y:O,w:T,h:R,radius:H}):r.rect(j,O,T,R),r.fill(),I!==0&&r.stroke()}r.restore()},V=function(ne,N,D){Yg(r,D.text,ne,N+x/2,f,{strikethrough:D.hidden,textAlign:h.textAlign(D.textAlign)})},z=this.isHorizontal(),$=this._computeTitleHeight();z?b={x:Xn(a,this.left+p,this.right-i[0]),y:this.top+p+$,line:0}:b={x:this.left+p,y:Xn(a,this.top+$+p,this.bottom-t[0].height),line:0},zk(this.ctx,e.textDirection);const J=x+p;this.legendItems.forEach((ne,N)=>{r.strokeStyle=ne.fontColor,r.fillStyle=ne.fontColor;const D=r.measureText(ne.text).width,I=h.textAlign(ne.textAlign||(ne.textAlign=l.textAlign)),O=T+_+D;let j=b.x,H=b.y;h.setWidth(this.width),z?N>0&&j+O+p>this.right&&(H=b.y+=J,b.line++,j=b.x=Xn(a,this.left+p,this.right-i[b.line])):N>0&&H+J>this.bottom&&(j=b.x=j+t[b.line].width+p,b.line++,H=b.y=Xn(a,this.top+$+p,this.bottom-t[b.line].height));const P=h.x(j);if(M(P,H,ne),j=wq(I,j+T+_,z?j+O:this.right,e.rtl),V(h.x(j),H,ne),z)b.x+=O+p;else if(typeof ne.text!="string"){const Ne=f.lineHeight;b.y+=Jk(ne,Ne)+p}else b.y+=J}),Hk(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Hn(t.font),r=Vi(t.padding);if(!t.display)return;const a=Fl(e.rtl,this.left,this.width),l=this.ctx,u=t.position,h=i.size/2,f=r.top+h;let p,v=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,v=Xn(e.align,v,this.right-_);else{const T=this.columnSizes.reduce((R,x)=>Math.max(R,x.height),0);p=f+Xn(e.align,this.top,this.bottom-T-e.labels.padding-this._computeTitleHeight())}const b=Xn(u,v,v+_);l.textAlign=a.textAlign(Mk(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=i.string,Yg(l,t.text,b,p,i)}_computeTitleHeight(){const e=this.options.title,t=Hn(e.font),i=Vi(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,a;if(Lu(e,this.left,this.right)&&Lu(t,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(r=a[i],Lu(e,r.left,r.left+r.width)&&Lu(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!HW(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,a=VW(r,i);r&&!a&&ht(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!a&&ht(t.onHover,[e,i,this],this)}else i&&ht(t.onClick,[e,i,this],this)}}function jW(n,e,t,i,r){const a=UW(i,n,e,t),l=zW(r,i,e.lineHeight);return{itemWidth:a,itemHeight:l}}function UW(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+i.measureText(r).width}function zW(n,e,t){let i=n;return typeof e.text!="string"&&(i=Jk(e,t)),i}function Jk(n,e){const t=n.text?n.text.length:0;return e*t}function HW(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var BW={id:"legend",_element:dR,start(n,e,t){const i=n.legend=new dR({ctx:n.ctx,options:t,chart:n});Js.configure(n,i,t),Js.addBox(n,i)},stop(n){Js.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Js.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(t?0:void 0),p=Vi(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const zu={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,a=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),r+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:r/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=pq(e,f);p<r&&(r=p,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function ar(n,e){return e&&(fn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Wr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function FW(n,e){const{element:t,datasetIndex:i,index:r}=e,a=n.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(r);return{chart:n,label:l,parsed:a.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function fR(n,e){const t=n.chart.ctx,{body:i,footer:r,title:a}=n,{boxWidth:l,boxHeight:u}=e,h=Hn(e.bodyFont),f=Hn(e.titleFont),p=Hn(e.footerFont),v=a.length,_=r.length,b=i.length,T=Vi(e.padding);let R=T.height,x=0,M=i.reduce(($,J)=>$+J.before.length+J.lines.length+J.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,v&&(R+=v*f.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),M){const $=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;R+=b*$+(M-b)*h.lineHeight+(M-1)*e.bodySpacing}_&&(R+=e.footerMarginTop+_*p.lineHeight+(_-1)*e.footerSpacing);let V=0;const z=function($){x=Math.max(x,t.measureText($).width+V)};return t.save(),t.font=f.string,rt(n.title,z),t.font=h.string,rt(n.beforeBody.concat(n.afterBody),z),V=e.displayColors?l+2+e.boxPadding:0,rt(i,$=>{rt($.before,z),rt($.lines,z),rt($.after,z)}),V=0,t.font=p.string,rt(n.footer,z),t.restore(),x+=T.width,{width:x,height:R}}function qW(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function WW(n,e,t,i){const{x:r,width:a}=i,l=t.caretSize+t.caretPadding;if(n==="left"&&r+a+l>e.width||n==="right"&&r-a-l<0)return!0}function GW(n,e,t,i){const{x:r,width:a}=t,{width:l,chartArea:{left:u,right:h}}=n;let f="center";return i==="center"?f=r<=(u+h)/2?"left":"right":r<=a/2?f="left":r>=l-a/2&&(f="right"),WW(f,n,e,t)&&(f="center"),f}function gR(n,e,t){const i=t.yAlign||e.yAlign||qW(n,t);return{xAlign:t.xAlign||e.xAlign||GW(n,e,t,i),yAlign:i}}function $W(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function YW(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function pR(n,e,t,i){const{caretSize:r,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:h}=t,f=r+a,{topLeft:p,topRight:v,bottomLeft:_,bottomRight:b}=th(l);let T=$W(e,u);const R=YW(e,h,f);return h==="center"?u==="left"?T+=f:u==="right"&&(T-=f):u==="left"?T-=Math.max(p,_)+r:u==="right"&&(T+=Math.max(v,b)+r),{x:_i(T,0,i.width-e.width),y:_i(R,0,i.height-e.height)}}function Pf(n,e,t){const i=Vi(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function mR(n){return ar([],Wr(n))}function QW(n,e,t){return gc(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function yR(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const eM={beforeTitle:Fr,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Fr,beforeBody:Fr,beforeLabel:Fr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Tn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Fr,afterBody:Fr,beforeFooter:Fr,footer:Fr,afterFooter:Fr};function Ln(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?eM[e].call(t,i):r}class T_ extends To{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,a=new Bk(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=QW(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Ln(i,"beforeTitle",this,e),a=Ln(i,"title",this,e),l=Ln(i,"afterTitle",this,e);let u=[];return u=ar(u,Wr(r)),u=ar(u,Wr(a)),u=ar(u,Wr(l)),u}getBeforeBody(e,t){return mR(Ln(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return rt(e,a=>{const l={before:[],lines:[],after:[]},u=yR(i,a);ar(l.before,Wr(Ln(u,"beforeLabel",this,a))),ar(l.lines,Ln(u,"label",this,a)),ar(l.after,Wr(Ln(u,"afterLabel",this,a))),r.push(l)}),r}getAfterBody(e,t){return mR(Ln(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Ln(i,"beforeFooter",this,e),a=Ln(i,"footer",this,e),l=Ln(i,"afterFooter",this,e);let u=[];return u=ar(u,Wr(r)),u=ar(u,Wr(a)),u=ar(u,Wr(l)),u}_createItems(e){const t=this._active,i=this.chart.data,r=[],a=[],l=[];let u=[],h,f;for(h=0,f=t.length;h<f;++h)u.push(FW(this.chart,t[h]));return e.filter&&(u=u.filter((p,v,_)=>e.filter(p,v,_,i))),e.itemSort&&(u=u.sort((p,v)=>e.itemSort(p,v,i))),rt(u,p=>{const v=yR(e.callbacks,p);r.push(Ln(v,"labelColor",this,p)),a.push(Ln(v,"labelPointStyle",this,p)),l.push(Ln(v,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let a,l=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const u=zu[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=fR(this,i),f=Object.assign({},u,h),p=gR(this.chart,i,f),v=pR(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const a=this.getCaretPosition(e,i,r);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:v}=th(u),{x:_,y:b}=e,{width:T,height:R}=t;let x,M,V,z,$,J;return a==="center"?($=b+R/2,r==="left"?(x=_,M=x-l,z=$+l,J=$-l):(x=_+T,M=x+l,z=$-l,J=$+l),V=x):(r==="left"?M=_+Math.max(h,p)+l:r==="right"?M=_+T-Math.max(f,v)-l:M=this.caretX,a==="top"?(z=b,$=z-l,x=M-l,V=M+l):(z=b+R,$=z+l,x=M+l,V=M-l),J=z),{x1:x,x2:M,x3:V,y1:z,y2:$,y3:J}}drawTitle(e,t,i){const r=this.title,a=r.length;let l,u,h;if(a){const f=Fl(i.rtl,this.x,this.width);for(e.x=Pf(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",l=Hn(i.titleFont),u=i.titleSpacing,t.fillStyle=i.titleColor,t.font=l.string,h=0;h<a;++h)t.fillText(r[h],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===a&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,t,i,r,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,p=Hn(a.bodyFont),v=Pf(this,"left",a),_=r.x(v),b=h<p.lineHeight?(p.lineHeight-h)/2:0,T=t.y+b;if(a.usePointStyle){const R={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},x=r.leftForLtr(_,f)+f/2,M=T+h/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Px(e,R,x,M),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Px(e,R,x,M)}else{e.lineWidth=Ze(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const R=r.leftForLtr(_,f),x=r.leftForLtr(r.xPlus(_,1),f-2),M=th(l.borderRadius);Object.values(M).some(V=>V!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,w_(e,{x:R,y:T,w:f,h,radius:M}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),w_(e,{x,y:T+1,w:f-2,h:h-2,radius:M}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(R,T,f,h),e.strokeRect(R,T,f,h),e.fillStyle=l.backgroundColor,e.fillRect(x,T+1,f-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:p}=i,v=Hn(i.bodyFont);let _=v.lineHeight,b=0;const T=Fl(i.rtl,this.x,this.width),R=function(D){t.fillText(D,T.x(e.x+b),e.y+_/2),e.y+=_+a},x=T.textAlign(l);let M,V,z,$,J,ne,N;for(t.textAlign=l,t.textBaseline="middle",t.font=v.string,e.x=Pf(this,x,i),t.fillStyle=i.bodyColor,rt(this.beforeBody,R),b=u&&x!=="right"?l==="center"?f/2+p:f+2+p:0,$=0,ne=r.length;$<ne;++$){for(M=r[$],V=this.labelTextColors[$],t.fillStyle=V,rt(M.before,R),z=M.lines,u&&z.length&&(this._drawColorBox(t,e,$,T,i),_=Math.max(v.lineHeight,h)),J=0,N=z.length;J<N;++J)R(z[J]),_=v.lineHeight;rt(M.after,R)}b=0,_=v.lineHeight,rt(this.afterBody,R),e.y-=a}drawFooter(e,t,i){const r=this.footer,a=r.length;let l,u;if(a){const h=Fl(i.rtl,this.x,this.width);for(e.x=Pf(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",l=Hn(i.footerFont),t.fillStyle=i.footerColor,t.font=l.string,u=0;u<a;++u)t.fillText(r[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=e,{width:f,height:p}=i,{topLeft:v,topRight:_,bottomLeft:b,bottomRight:T}=th(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(u+v,h),l==="top"&&this.drawCaret(e,t,i,r),t.lineTo(u+f-_,h),t.quadraticCurveTo(u+f,h,u+f,h+_),l==="center"&&a==="right"&&this.drawCaret(e,t,i,r),t.lineTo(u+f,h+p-T),t.quadraticCurveTo(u+f,h+p,u+f-T,h+p),l==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(u+b,h+p),t.quadraticCurveTo(u,h+p,u,h+p-b),l==="center"&&a==="left"&&this.drawCaret(e,t,i,r),t.lineTo(u,h+v),t.quadraticCurveTo(u,h,u+v,h),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,a=i&&i.y;if(r||a){const l=zu[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=fR(this,e),h=Object.assign({},l,this._size),f=gR(t,e,h),p=pR(e,h,f,t);(r._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Vi(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,r,t),zk(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Hk(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),a=!Bg(i,r),l=this._positionChanged(r,t);(a||l)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,i),u=this._positionChanged(l,e),h=t||!Bg(l,a)||u;return h&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,r){const a=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:i,caretY:r,options:a}=this,l=zu[a.position].call(this,e,t);return l!==!1&&(i!==l.x||r!==l.y)}}Ve(T_,"positioners",zu);var KW={id:"tooltip",_element:T_,positioners:zu,afterInit(n,e,t){t&&(n.tooltip=new T_({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:eM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const jp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Un=Object.keys(jp);function vR(n,e){return n-e}function _R(n,e){if(Tn(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:a}=n._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),as(l)||(l=typeof i=="string"?t.parse(l,i):t.parse(l)),l===null?null:(r&&(l=r==="week"&&(Gg(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,r)),+l)}function bR(n,e,t,i){const r=Un.length;for(let a=Un.indexOf(n);a<r-1;++a){const l=jp[Un[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=i)return Un[a]}return Un[r-1]}function XW(n,e,t,i,r){for(let a=Un.length-1;a>=Un.indexOf(t);a--){const l=Un[a];if(jp[l].common&&n._adapter.diff(r,i,l)>=e-1)return l}return Un[t?Un.indexOf(t):0]}function ZW(n){for(let e=Un.indexOf(n)+1,t=Un.length;e<t;++e)if(jp[Un[e]].common)return Un[e]}function ER(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=a0(t,e),a=t[i]>=e?t[i]:t[r];n[a]=!0}}function JW(n,e,t,i){const r=n._adapter,a=+r.startOf(e[0].value,i),l=e[e.length-1].value;let u,h;for(u=a;u<=l;u=+r.add(u,1,i))h=t[u],h>=0&&(e[h].major=!0);return e}function wR(n,e,t){const i=[],r={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],r[u]=l,i.push({value:u,major:!1});return a===0||!t?i:JW(n,i,r,t)}class Zg extends Lp{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new w8._date(e.adapters.date);r.init(t),Zu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:_R(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=as(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),a=as(a)&&!isNaN(a)?a:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,l=this.max,u=vq(r,a,l);return this._unit=t.unit||(i.autoSkip?bR(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):XW(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:ZW(this._unit),this.initOffsets(r),e.reverse&&u.reverse(),wR(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,a;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=_i(t,0,l),i=_i(i,0,l),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,a=r.time,l=a.unit||bR(a.minUnit,t,i,this._getLabelCapacity(t)),u=st(r.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=Gg(h)||h===!0,p={};let v=t,_,b;if(f&&(v=+e.startOf(v,"isoWeek",h)),v=+e.startOf(v,f?"day":l),e.diff(i,t,l)>1e5*u)throw new Error(t+" and "+i+" are too far apart with stepSize of "+u+" "+l);const T=r.ticks.source==="data"&&this.getDataTimestamps();for(_=v,b=0;_<i;_=+e.add(_,u,l),b++)ER(p,_,T);return(_===i||r.bounds==="ticks"||b===1)&&ER(p,_,T),Object.keys(p).sort(vR).map(R=>+R)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,a=this._unit,l=t||r[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,i,r){const a=this.options,l=a.ticks.callback;if(l)return ht(l,[e,t,i],this);const u=a.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&u[h],v=f&&u[f],_=i[t],b=f&&v&&_&&_.major;return this._adapter.format(e,r||(b?v:p))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=fo(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,a=this._tickFormatFunction(e,0,wR(this,[e],this._majorUnit),r),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(_R(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return bq(e.sort(vR))}}Ve(Zg,"id","time"),Ve(Zg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Lf(n,e,t){let i=0,r=n.length-1,a,l,u,h;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=b_(n,"pos",e)),{pos:a,time:u}=n[i],{pos:l,time:h}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=b_(n,"time",e)),{time:a,pos:u}=n[i],{time:l,pos:h}=n[r]);const f=l-a;return f?u+(h-u)*(e-a)/f:u}class AR extends Zg{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Lf(t,this.min),this._tableRange=Lf(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],a=[];let l,u,h,f,p;for(l=0,u=e.length;l<u;++l)f=e[l],f>=t&&f<=i&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)p=r[l+1],h=r[l-1],f=r[l],Math.round((p+h)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,a)=>r-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Lf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Lf(this._table,i*this._tableRange+this._minPos,!0)}}Ve(AR,"id","timeseries"),Ve(AR,"defaults",Zg.defaults);const tM="label";function SR(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function eG(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function nM(n,e){n.labels=e}function iM(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tM;const i=[];n.datasets=e.map(r=>{const a=n.datasets.find(l=>l[t]===r[t]);return!a||!r.data||i.includes(a)?{...r}:(i.push(a),Object.assign(a,r),a)})}function tG(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tM;const t={labels:[],datasets:[]};return nM(t,n.labels),iM(t,n.datasets,e),t}function nG(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:f=[],fallbackContent:p,updateMode:v,..._}=n,b=B.useRef(null),T=B.useRef(null),R=()=>{b.current&&(T.current=new Vp(b.current,{type:l,data:tG(u,a),options:h&&{...h},plugins:f}),SR(e,T.current))},x=()=>{SR(e,null),T.current&&(T.current.destroy(),T.current=null)};return B.useEffect(()=>{!r&&T.current&&h&&eG(T.current,h)},[r,h]),B.useEffect(()=>{!r&&T.current&&nM(T.current.config.data,u.labels)},[r,u.labels]),B.useEffect(()=>{!r&&T.current&&u.datasets&&iM(T.current.config.data,u.datasets,a)},[r,u.datasets]),B.useEffect(()=>{T.current&&(r?(x(),setTimeout(R)):T.current.update(v))},[r,h,u.labels,u.datasets,v]),B.useEffect(()=>{T.current&&(x(),setTimeout(R))},[l]),B.useEffect(()=>(R(),()=>x()),[]),bi.createElement("canvas",{ref:b,role:"img",height:t,width:i,..._},p)}const iG=B.forwardRef(nG);function rG(n,e){return Vp.register(e),B.forwardRef((t,i)=>bi.createElement(iG,{...t,ref:i,type:n}))}const Cu=rG("doughnut",Vu);Vp.register(Uu,KW,BW);const Du={responzive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},Vf=(n,e,t)=>({datasets:[{data:[n,Math.max(e-n,0)],backgroundColor:[t,"#E5E5E5"],borderWidth:0,cutout:"80%"}]}),sG=({data:n})=>{const{currentKcal:e,goalKcal:t,protein:i,carbs:r,fat:a,fiber:l,fluid:u,burned:h}=n,f=(R,x)=>x>0?Math.min((R/x*100).toFixed(0),100):0,p=f(i.current,i.goal),v=f(r.current,r.goal),_=f(a.current,a.goal),b=f(l.current,l.goal),T={datasets:[{data:[e,Math.max(t-e,0)],backgroundColor:["#F7941D","#E5E5E5"],borderWidth:0,cutout:"80%"}]};return w.jsxs("div",{className:"p-4",children:[w.jsxs("div",{className:"relative w-40 h-40 mx-auto",children:[w.jsx(Cu,{data:T,options:Du}),w.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[w.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[e," kcal"]}),w.jsxs("div",{className:"text-sm text-gray-500",children:["z ",t," kcal"]})]})]}),w.jsxs("div",{className:"flex justify-around mt-6",children:[w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(Cu,{data:Vf(i.current,i.goal,"#69C267"),options:Du}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[p,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Bielkoviny"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[i.current," g z ",i.goal," g"]})]}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(Cu,{data:Vf(r.current,r.goal,"#F7941D"),options:Du}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[v,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Sacharidy"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[r.current," g z ",r.goal," g"]})]}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(Cu,{data:Vf(a.current,a.goal,"#F16664"),options:Du}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[_,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Tuky"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[a.current," g z ",a.goal," g"]})]}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(Cu,{data:Vf(l.current,l.goal,"#8E8E93"),options:Du}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[b,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Vláknina"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[l.current," g z ",l.goal," g"]})]})]}),w.jsxs("div",{className:"mt-4 text-center text-sm text-gray-700",children:[w.jsxs("p",{children:["Tekutiny: ",u.current," l z ",u.goal," l"]}),w.jsxs("p",{children:["Spálené: ",h," kcal"]})]})]})},aG=({selectedDate:n,overviewData:e,eventsForDay:t})=>w.jsx("div",{className:"w-full lg:w-3/3 bg-white rounded-lg shadow p-4",children:n&&e?w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3",children:n}),w.jsx(sG,{data:e}),w.jsxs("div",{className:"mt-4",children:[w.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-2",children:"Jedlá dňa"}),w.jsx("ul",{className:"space-y-2 text-sm",children:t.map((i,r)=>w.jsx("li",{className:"p-2 bg-green-100 rounded shadow border-l-4 border-green-500",children:i.title},r))})]})]}):w.jsx("div",{className:"text-gray-500 text-center",children:"Kliknite na deň v kalendári pre zobrazenie detailov."})}),oG=({selectedDate:n,onAddFood:e})=>{const[t,i]=B.useState(""),r=a=>{if(a.preventDefault(),!t||!n)return;e({title:t,start:n,extendedProps:{kcal:0,protein:0,fat:0,carbs:0,fiber:0,fluid:0,burned:0}}),i("")};return w.jsxs("form",{onSubmit:r,className:"p-4 bg-white rounded-lg shadow mb-4",children:[w.jsx("h3",{className:"text-lg font-bold text-green-700 mb-2",children:"Pridať jedlo"}),w.jsxs("div",{className:"mb-2",children:[w.jsx("label",{className:"block text-gray-700",children:"Názov jedla:"}),w.jsx("input",{type:"text",value:t,onChange:a=>i(a.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Zadaj názov jedla"})]}),w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať"})]})},TR=()=>{const n=[{title:"Raňajky: Ovsená kaša",start:"2025-09-01",extendedProps:{kcal:350,protein:10,fat:5,carbs:60,fiber:5,fluid:.2,burned:0}},{title:"Obed: Grilované kuracie prsia",start:"2025-09-01",extendedProps:{kcal:500,protein:30,fat:15,carbs:40,fiber:2,fluid:.3,burned:0}},{title:"Večera: Zeleninový šalát",start:"2025-09-01",extendedProps:{kcal:400,protein:15,fat:10,carbs:50,fiber:4,fluid:.2,burned:0}},{title:"Beh 30 minút",start:"2025-09-01",extendedProps:{kcal:-100,protein:0,fat:0,carbs:0,fiber:0,fluid:0,burned:100}},{title:"Raňajky: Jogurt s ovocím",start:"2025-02-25",extendedProps:{kcal:300,protein:12,fat:8,carbs:45,fiber:3,fluid:.2,burned:0}}],[e,t]=B.useState(n),[i,r]=B.useState(null),[a,l]=B.useState(null);B.useEffect(()=>{if(i){const v=e.filter(_=>_.start===i);u(v)}},[e,i]);const u=v=>{let _=0,b=0,T=0,R=0,x=0,M=0,V=0;v.forEach($=>{const{kcal:J,protein:ne,fat:N,carbs:D,fiber:I,fluid:O,burned:j}=$.extendedProps;_+=J,b+=ne,T+=N,R+=D,x+=I,M+=O,V+=j});const z={currentKcal:Math.max(_,0),goalKcal:1500,protein:{current:b,goal:79},carbs:{current:R,goal:192},fat:{current:T,goal:43},fiber:{current:x,goal:28},fluid:{current:parseFloat(M.toFixed(1)),goal:1.2},burned:V};l(z)},h=v=>{r(v.dateStr)},f=v=>{t(_=>[..._,v])},p=i?e.filter(v=>v.start===i):[];return w.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4",children:[w.jsx(P7,{events:e,onDateClick:h}),w.jsxs("div",{className:"w-full lg:w-1/3",children:[i&&w.jsx(oG,{selectedDate:i,onAddFood:f}),w.jsx(aG,{selectedDate:i,overviewData:a,eventsForDay:p})]})]})},lG=()=>{const{pathname:n}=Ui();return B.useEffect(()=>{window.scrollTo(0,0)},[n]),null};function cG(){B.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")},[]);const[n,e]=B.useState(""),[t,i]=B.useState([]),[r,a]=B.useState(null),[l,u]=B.useState(!1),[h,f]=B.useState(!1),[p,v]=B.useState(""),_=ya(),b=Ui();B.useEffect(()=>{b.pathname==="/"&&f(!1)},[b.pathname]);const T=async()=>{_("/results"),e(""),u(!0),f(!0),v(n),setTimeout(async()=>{console.log(`Sending request to Nutritionix API: ${new Date().toISOString()}`);try{const R=`https://api.spoonacular.com/food/ingredients/search?query=${encodeURIComponent(n)}&number=10&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,x=await fetch(R);if(!x.ok)throw new Error(`Instant API HTTP error: ${x.status}`);const V=(await x.json()).results||[],z=await Promise.all(V.map(async $=>{var j;const J=`https://api.spoonacular.com/food/ingredients/${$.id}/information?amount=100&unit=grams&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,ne=await fetch(J);if(!ne.ok){const H=await ne.text();return console.error("Nutrients fetch error:",ne.status,H),{...$,nutrition:null}}const D=((j=(await ne.json()).nutrition)==null?void 0:j.nutrients)||[],I=H=>{const P=D.find(Ne=>Ne.name.toLowerCase()===H.toLowerCase());return P?P.amount:0},O={servingSize:"100g",photo:{thumb:`https://spoonacular.com/cdn/ingredients_500x500/${$.image}`},nf_calories:I("Calories"),nf_total_fat:I("Fat"),nf_protein:I("Protein"),nf_total_carbohydrate:I("Carbohydrates")};return{...$,food_name:$.name,nutrition:O}}));i(z),a(null)}catch(R){console.error("Fetch error:",R),a(R),i([])}finally{u(!1)}},500)};return w.jsxs("div",{children:[w.jsx(uB,{}),w.jsx(lG,{}),w.jsxs(NN,{children:[w.jsx(Mn,{path:"/register",element:w.jsx(_B,{})}),w.jsx(Mn,{path:"/terms",element:w.jsx(SB,{})}),w.jsx(Mn,{path:"/privacy",element:w.jsx(TB,{})}),w.jsx(Mn,{path:"/verify-email",element:w.jsx(bB,{})}),w.jsx(Mn,{path:"/login",element:w.jsx(AB,{})}),w.jsx(Mn,{path:"/logout",element:w.jsx(wB,{})}),w.jsx(Mn,{path:"/dashboard",element:w.jsxs(pf,{children:[" ",w.jsx(yT,{})," "]})}),w.jsx(Mn,{path:"/",element:w.jsxs(w.Fragment,{children:[w.jsx(hB,{}),w.jsx(dB,{query:n,setQuery:e,handleSearch:T,disabled:h}),w.jsx(pB,{}),w.jsx(vB,{})]})}),w.jsx(Mn,{path:"/results",element:w.jsx(fB,{results:t,searchTerm:p,error:r,query:n,setQuery:e,handleSearch:T,isLoading:l})}),w.jsx(Mn,{path:"/blog/:id",element:w.jsx(yB,{})}),w.jsxs(Mn,{path:"/dashboard",element:w.jsxs(pf,{children:[" ",w.jsx(yT,{})," "]}),children:[w.jsx(Mn,{index:!0,element:w.jsx(TR,{})}),w.jsx(Mn,{path:"calendar",element:w.jsxs(pf,{children:[" ",w.jsx(TR,{})," "]})}),w.jsx(Mn,{path:"my-foods",element:w.jsxs(pf,{children:[" ",w.jsx(RB,{})," "]})})]})]})]})}UO.createRoot(document.getElementById("root")).render(w.jsx(r2,{children:w.jsx(cG,{})}));
