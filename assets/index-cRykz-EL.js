var kO=Object.defineProperty;var NO=(n,e,t)=>e in n?kO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ve=(n,e,t)=>NO(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function MO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sv={exports:{}},Pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS;function OO(){if(KS)return Pu;KS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var c in s)c!=="key"&&(r[c]=s[c])}else r=s;return s=r.ref,{$$typeof:n,type:i,key:o,ref:s!==void 0?s:null,props:r}}return Pu.Fragment=e,Pu.jsx=t,Pu.jsxs=t,Pu}var XS;function PO(){return XS||(XS=1,sv.exports=OO()),sv.exports}var E=PO(),rv={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS;function jO(){if(ZS)return Pe;ZS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function A(F,oe,ue){this.props=F,this.context=oe,this.refs=T,this.updater=ue||_}A.prototype.isReactComponent={},A.prototype.setState=function(F,oe){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,oe,"setState")},A.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function I(){}I.prototype=A.prototype;function M(F,oe,ue){this.props=F,this.context=oe,this.refs=T,this.updater=ue||_}var j=M.prototype=new I;j.constructor=M,S(j,A.prototype),j.isPureReactComponent=!0;var H=Array.isArray,q={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function P(F,oe,ue,fe,he,Ce){return ue=Ce.ref,{$$typeof:n,type:F,key:oe,ref:ue!==void 0?ue:null,props:Ce}}function C(F,oe){return P(F.type,oe,void 0,void 0,void 0,F.props)}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function O(F){var oe={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ue){return oe[ue]})}var V=/\/+/g;function z(F,oe){return typeof F=="object"&&F!==null&&F.key!=null?O(""+F.key):oe.toString(36)}function L(){}function we(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(L,L):(F.status="pending",F.then(function(oe){F.status==="pending"&&(F.status="fulfilled",F.value=oe)},function(oe){F.status==="pending"&&(F.status="rejected",F.reason=oe)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function be(F,oe,ue,fe,he){var Ce=typeof F;(Ce==="undefined"||Ce==="boolean")&&(F=null);var Te=!1;if(F===null)Te=!0;else switch(Ce){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(F.$$typeof){case n:case e:Te=!0;break;case g:return Te=F._init,be(Te(F._payload),oe,ue,fe,he)}}if(Te)return he=he(F),Te=fe===""?"."+z(F,0):fe,H(he)?(ue="",Te!=null&&(ue=Te.replace(V,"$&/")+"/"),be(he,oe,ue,"",function(ft){return ft})):he!=null&&(D(he)&&(he=C(he,ue+(he.key==null||F&&F.key===he.key?"":(""+he.key).replace(V,"$&/")+"/")+Te)),oe.push(he)),1;Te=0;var Ke=fe===""?".":fe+":";if(H(F))for(var qe=0;qe<F.length;qe++)fe=F[qe],Ce=Ke+z(fe,qe),Te+=be(fe,oe,ue,Ce,he);else if(qe=b(F),typeof qe=="function")for(F=qe.call(F),qe=0;!(fe=F.next()).done;)fe=fe.value,Ce=Ke+z(fe,qe++),Te+=be(fe,oe,ue,Ce,he);else if(Ce==="object"){if(typeof F.then=="function")return be(we(F),oe,ue,fe,he);throw oe=String(F),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ie(F,oe,ue){if(F==null)return F;var fe=[],he=0;return be(F,fe,"","",function(Ce){return oe.call(ue,Ce,he++)}),fe}function de(F){if(F._status===-1){var oe=F._result;oe=oe(),oe.then(function(ue){(F._status===0||F._status===-1)&&(F._status=1,F._result=ue)},function(ue){(F._status===0||F._status===-1)&&(F._status=2,F._result=ue)}),F._status===-1&&(F._status=0,F._result=oe)}if(F._status===1)return F._result.default;throw F._result}var ge=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function _e(){}return Pe.Children={map:ie,forEach:function(F,oe,ue){ie(F,function(){oe.apply(this,arguments)},ue)},count:function(F){var oe=0;return ie(F,function(){oe++}),oe},toArray:function(F){return ie(F,function(oe){return oe})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Pe.Component=A,Pe.Fragment=t,Pe.Profiler=s,Pe.PureComponent=M,Pe.StrictMode=i,Pe.Suspense=h,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Pe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Pe.cache=function(F){return function(){return F.apply(null,arguments)}},Pe.cloneElement=function(F,oe,ue){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var fe=S({},F.props),he=F.key,Ce=void 0;if(oe!=null)for(Te in oe.ref!==void 0&&(Ce=void 0),oe.key!==void 0&&(he=""+oe.key),oe)!Q.call(oe,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&oe.ref===void 0||(fe[Te]=oe[Te]);var Te=arguments.length-2;if(Te===1)fe.children=ue;else if(1<Te){for(var Ke=Array(Te),qe=0;qe<Te;qe++)Ke[qe]=arguments[qe+2];fe.children=Ke}return P(F.type,he,void 0,void 0,Ce,fe)},Pe.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:r,_context:F},F},Pe.createElement=function(F,oe,ue){var fe,he={},Ce=null;if(oe!=null)for(fe in oe.key!==void 0&&(Ce=""+oe.key),oe)Q.call(oe,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(he[fe]=oe[fe]);var Te=arguments.length-2;if(Te===1)he.children=ue;else if(1<Te){for(var Ke=Array(Te),qe=0;qe<Te;qe++)Ke[qe]=arguments[qe+2];he.children=Ke}if(F&&F.defaultProps)for(fe in Te=F.defaultProps,Te)he[fe]===void 0&&(he[fe]=Te[fe]);return P(F,Ce,void 0,void 0,null,he)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(F){return{$$typeof:c,render:F}},Pe.isValidElement=D,Pe.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:de}},Pe.memo=function(F,oe){return{$$typeof:d,type:F,compare:oe===void 0?null:oe}},Pe.startTransition=function(F){var oe=q.T,ue={};q.T=ue;try{var fe=F(),he=q.S;he!==null&&he(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(_e,ge)}catch(Ce){ge(Ce)}finally{q.T=oe}},Pe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Pe.use=function(F){return q.H.use(F)},Pe.useActionState=function(F,oe,ue){return q.H.useActionState(F,oe,ue)},Pe.useCallback=function(F,oe){return q.H.useCallback(F,oe)},Pe.useContext=function(F){return q.H.useContext(F)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(F,oe){return q.H.useDeferredValue(F,oe)},Pe.useEffect=function(F,oe){return q.H.useEffect(F,oe)},Pe.useId=function(){return q.H.useId()},Pe.useImperativeHandle=function(F,oe,ue){return q.H.useImperativeHandle(F,oe,ue)},Pe.useInsertionEffect=function(F,oe){return q.H.useInsertionEffect(F,oe)},Pe.useLayoutEffect=function(F,oe){return q.H.useLayoutEffect(F,oe)},Pe.useMemo=function(F,oe){return q.H.useMemo(F,oe)},Pe.useOptimistic=function(F,oe){return q.H.useOptimistic(F,oe)},Pe.useReducer=function(F,oe,ue){return q.H.useReducer(F,oe,ue)},Pe.useRef=function(F){return q.H.useRef(F)},Pe.useState=function(F){return q.H.useState(F)},Pe.useSyncExternalStore=function(F,oe,ue){return q.H.useSyncExternalStore(F,oe,ue)},Pe.useTransition=function(){return q.H.useTransition()},Pe.version="19.0.0",Pe}var JS;function Jb(){return JS||(JS=1,rv.exports=jO()),rv.exports}var B=Jb();const Ti=MO(B);var av={exports:{}},ju={},ov={exports:{}},lv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA;function LO(){return eA||(eA=1,function(n){function e(ie,de){var ge=ie.length;ie.push(de);e:for(;0<ge;){var _e=ge-1>>>1,F=ie[_e];if(0<s(F,de))ie[_e]=de,ie[ge]=F,ge=_e;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var de=ie[0],ge=ie.pop();if(ge!==de){ie[0]=ge;e:for(var _e=0,F=ie.length,oe=F>>>1;_e<oe;){var ue=2*(_e+1)-1,fe=ie[ue],he=ue+1,Ce=ie[he];if(0>s(fe,ge))he<F&&0>s(Ce,fe)?(ie[_e]=Ce,ie[he]=ge,_e=he):(ie[_e]=fe,ie[ue]=ge,_e=ue);else if(he<F&&0>s(Ce,ge))ie[_e]=Ce,ie[he]=ge,_e=he;else break e}}return de}function s(ie,de){var ge=ie.sortIndex-de.sortIndex;return ge!==0?ge:ie.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var h=[],d=[],g=1,y=null,b=3,_=!1,S=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function j(ie){for(var de=t(d);de!==null;){if(de.callback===null)i(d);else if(de.startTime<=ie)i(d),de.sortIndex=de.expirationTime,e(h,de);else break;de=t(d)}}function H(ie){if(T=!1,j(ie),!S)if(t(h)!==null)S=!0,we();else{var de=t(d);de!==null&&be(H,de.startTime-ie)}}var q=!1,Q=-1,P=5,C=-1;function D(){return!(n.unstable_now()-C<P)}function O(){if(q){var ie=n.unstable_now();C=ie;var de=!0;try{e:{S=!1,T&&(T=!1,I(Q),Q=-1),_=!0;var ge=b;try{t:{for(j(ie),y=t(h);y!==null&&!(y.expirationTime>ie&&D());){var _e=y.callback;if(typeof _e=="function"){y.callback=null,b=y.priorityLevel;var F=_e(y.expirationTime<=ie);if(ie=n.unstable_now(),typeof F=="function"){y.callback=F,j(ie),de=!0;break t}y===t(h)&&i(h),j(ie)}else i(h);y=t(h)}if(y!==null)de=!0;else{var oe=t(d);oe!==null&&be(H,oe.startTime-ie),de=!1}}break e}finally{y=null,b=ge,_=!1}de=void 0}}finally{de?V():q=!1}}}var V;if(typeof M=="function")V=function(){M(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,L=z.port2;z.port1.onmessage=O,V=function(){L.postMessage(null)}}else V=function(){A(O,0)};function we(){q||(q=!0,V())}function be(ie,de){Q=A(function(){ie(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){S||_||(S=!0,we())},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(b){case 1:case 2:case 3:var de=3;break;default:de=b}var ge=b;b=de;try{return ie()}finally{b=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,de){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ge=b;b=ie;try{return de()}finally{b=ge}},n.unstable_scheduleCallback=function(ie,de,ge){var _e=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?_e+ge:_e):ge=_e,ie){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ge+F,ie={id:g++,callback:de,priorityLevel:ie,startTime:ge,expirationTime:F,sortIndex:-1},ge>_e?(ie.sortIndex=ge,e(d,ie),t(h)===null&&ie===t(d)&&(T?(I(Q),Q=-1):T=!0,be(H,ge-_e))):(ie.sortIndex=F,e(h,ie),S||_||(S=!0,we())),ie},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(ie){var de=b;return function(){var ge=b;b=de;try{return ie.apply(this,arguments)}finally{b=ge}}}}(lv)),lv}var tA;function VO(){return tA||(tA=1,ov.exports=LO()),ov.exports}var cv={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nA;function UO(){if(nA)return An;nA=1;var n=Jb();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(h,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:d,implementation:g}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,An.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return r(h,d,null,g)},An.flushSync=function(h){var d=o.T,g=i.p;try{if(o.T=null,i.p=2,h)return h()}finally{o.T=d,i.p=g,i.d.f()}},An.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},An.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},An.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,y=c(g,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:_}):g==="script"&&i.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},An.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},An.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=c(g,d.crossOrigin);i.d.L(h,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},An.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=c(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},An.requestFormReset=function(h){i.d.r(h)},An.unstable_batchedUpdates=function(h,d){return h(d)},An.useFormState=function(h,d,g){return o.H.useFormState(h,d,g)},An.useFormStatus=function(){return o.H.useHostTransitionStatus()},An.version="19.0.0",An}var iA;function mC(){if(iA)return cv.exports;iA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cv.exports=UO(),cv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sA;function zO(){if(sA)return ju;sA=1;var n=VO(),e=Jb(),t=mC();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var r=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),_=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function Q(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var P=Symbol.for("react.client.reference");function C(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===P?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case h:return"Fragment";case c:return"Portal";case g:return"Profiler";case d:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case _:return(a.displayName||"Context")+".Provider";case b:return(a._context.displayName||"Context")+".Consumer";case S:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return l=a.displayName||null,l!==null?l:C(a.type)||"Memo";case M:l=a._payload,a=a._init;try{return C(a(l))}catch{}}return null}var D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,V,z;function L(a){if(V===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);V=l&&l[1]||"",z=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+a+z}var we=!1;function be(a,l){if(!a||we)return"";we=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var X=te}Reflect.construct(a,[],le)}else{try{le.call()}catch(te){X=te}a.call(le.prototype)}}else{try{throw Error()}catch(te){X=te}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&X&&typeof te.stack=="string")return[te.stack,X.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),R=v[0],k=v[1];if(R&&k){var U=R.split(`
`),W=k.split(`
`);for(m=f=0;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;for(;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;if(f===U.length||m===W.length)for(f=U.length-1,m=W.length-1;1<=f&&0<=m&&U[f]!==W[m];)m--;for(;1<=f&&0<=m;f--,m--)if(U[f]!==W[m]){if(f!==1||m!==1)do if(f--,m--,0>m||U[f]!==W[m]){var ne=`
`+U[f].replace(" at new "," at ");return a.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",a.displayName)),ne}while(1<=f&&0<=m);break}}}finally{we=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?L(u):""}function ie(a){switch(a.tag){case 26:case 27:case 5:return L(a.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return a=be(a.type,!1),a;case 11:return a=be(a.type.render,!1),a;case 1:return a=be(a.type,!0),a;default:return""}}function de(a){try{var l="";do l+=ie(a),a=a.return;while(a);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ge(a){var l=a,u=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,l.flags&4098&&(u=l.return),a=l.return;while(a)}return l.tag===3?u:null}function _e(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function F(a){if(ge(a)!==a)throw Error(i(188))}function oe(a){var l=a.alternate;if(!l){if(l=ge(a),l===null)throw Error(i(188));return l!==a?null:a}for(var u=a,f=l;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return F(m),a;if(v===f)return F(m),l;v=v.sibling}throw Error(i(188))}if(u.return!==f.return)u=m,f=v;else{for(var R=!1,k=m.child;k;){if(k===u){R=!0,u=m,f=v;break}if(k===f){R=!0,f=m,u=v;break}k=k.sibling}if(!R){for(k=v.child;k;){if(k===u){R=!0,u=v,f=m;break}if(k===f){R=!0,f=v,u=m;break}k=k.sibling}if(!R)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?a:l}function ue(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=ue(a),l!==null)return l;a=a.sibling}return null}var fe=Array.isArray,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},Te=[],Ke=-1;function qe(a){return{current:a}}function ft(a){0>Ke||(a.current=Te[Ke],Te[Ke]=null,Ke--)}function et(a,l){Ke++,Te[Ke]=a.current,a.current=l}var hn=qe(null),Ni=qe(null),Re=qe(null),En=qe(null);function ut(a,l){switch(et(Re,l),et(Ni,a),et(hn,null),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)&&(l=l.namespaceURI)?TS(l):0;break;default:if(a=a===8?l.parentNode:l,l=a.tagName,a=a.namespaceURI)a=TS(a),l=xS(a,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}ft(hn),et(hn,l)}function gt(){ft(hn),ft(Ni),ft(Re)}function dn(a){a.memoizedState!==null&&et(En,a);var l=hn.current,u=xS(l,a.type);l!==u&&(et(Ni,a),et(hn,u))}function Qi(a){Ni.current===a&&(ft(hn),ft(Ni)),En.current===a&&(ft(En),Iu._currentValue=Ce)}var Ki=Object.prototype.hasOwnProperty,Cs=n.unstable_scheduleCallback,el=n.unstable_cancelCallback,am=n.unstable_shouldYield,kc=n.unstable_requestPaint,zn=n.unstable_now,ld=n.unstable_getCurrentPriorityLevel,Gt=n.unstable_ImmediatePriority,tn=n.unstable_UserBlockingPriority,Ds=n.unstable_NormalPriority,cd=n.unstable_LowPriority,Nc=n.unstable_IdlePriority,om=n.log,La=n.unstable_setDisableYieldValue,wr=null,wn=null;function Mc(a){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(wr,a,void 0,(a.current.flags&128)===128)}catch{}}function Xi(a){if(typeof om=="function"&&La(a),wn&&typeof wn.setStrictMode=="function")try{wn.setStrictMode(wr,a)}catch{}}var On=Math.clz32?Math.clz32:hd,Oc=Math.log,ud=Math.LN2;function hd(a){return a>>>=0,a===0?32:31-(Oc(a)/ud|0)|0}var Zi=128,Sr=4194304;function Mi(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ai(a,l){var u=a.pendingLanes;if(u===0)return 0;var f=0,m=a.suspendedLanes,v=a.pingedLanes,R=a.warmLanes;a=a.finishedLanes!==0;var k=u&134217727;return k!==0?(u=k&~m,u!==0?f=Mi(u):(v&=k,v!==0?f=Mi(v):a||(R=k&~R,R!==0&&(f=Mi(R))))):(k=u&~m,k!==0?f=Mi(k):v!==0?f=Mi(v):a||(R=u&~R,R!==0&&(f=Mi(R)))),f===0?0:l!==0&&l!==f&&!(l&m)&&(m=f&-f,R=l&-l,m>=R||m===32&&(R&4194176)!==0)?l:f}function Ar(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function tl(a,l){switch(a){case 1:case 2:case 4:case 8:return l+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pc(){var a=Zi;return Zi<<=1,!(Zi&4194176)&&(Zi=128),a}function Tr(){var a=Sr;return Sr<<=1,!(Sr&62914560)&&(Sr=4194304),a}function nl(a){for(var l=[],u=0;31>u;u++)l.push(a);return l}function Pt(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function dd(a,l,u,f,m,v){var R=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var k=a.entanglements,U=a.expirationTimes,W=a.hiddenUpdates;for(u=R&~u;0<u;){var ne=31-On(u),le=1<<ne;k[ne]=0,U[ne]=-1;var X=W[ne];if(X!==null)for(W[ne]=null,ne=0;ne<X.length;ne++){var te=X[ne];te!==null&&(te.lane&=-536870913)}u&=~le}f!==0&&xr(a,f,0),v!==0&&m===0&&a.tag!==0&&(a.suspendedLanes|=v&~(R&~l))}function xr(a,l,u){a.pendingLanes|=l,a.suspendedLanes&=~l;var f=31-On(l);a.entangledLanes|=l,a.entanglements[f]=a.entanglements[f]|1073741824|u&4194218}function Rr(a,l){var u=a.entangledLanes|=l;for(a=a.entanglements;u;){var f=31-On(u),m=1<<f;m&l|a[f]&l&&(a[f]|=l),u&=~m}}function fd(a){return a&=-a,2<a?8<a?a&134217727?32:268435456:8:2}function gd(){var a=he.p;return a!==0?a:(a=window.event,a===void 0?32:qS(a.type))}function Cr(a,l){var u=he.p;try{return he.p=a,l()}finally{he.p=u}}var Ji=Math.random().toString(36).slice(2),nn="__reactFiber$"+Ji,Wt="__reactProps$"+Ji,Is="__reactContainer$"+Ji,Va="__reactEvents$"+Ji,il="__reactListeners$"+Ji,es="__reactHandles$"+Ji,jc="__reactResources$"+Ji,Dr="__reactMarker$"+Ji;function Ua(a){delete a[nn],delete a[Wt],delete a[Va],delete a[il],delete a[es]}function Oi(a){var l=a[nn];if(l)return l;for(var u=a.parentNode;u;){if(l=u[Is]||u[nn]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(a=DS(a);a!==null;){if(u=a[nn])return u;a=DS(a)}return l}a=u,u=a.parentNode}return null}function ks(a){if(a=a[nn]||a[Is]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Ir(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function kr(a){var l=a[jc];return l||(l=a[jc]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Et(a){a[Dr]=!0}var Lc=new Set,sl={};function Kn(a,l){Bn(a,l),Bn(a+"Capture",l)}function Bn(a,l){for(sl[a]=l,a=0;a<l.length;a++)Lc.add(l[a])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vc={},Uc={};function pd(a){return Ki.call(Uc,a)?!0:Ki.call(Vc,a)?!1:lm.test(a)?Uc[a]=!0:(Vc[a]=!0,!1)}function Nr(a,l,u){if(pd(l))if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+u)}}function Mr(a,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+u)}}function oi(a,l,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(l,u,""+f)}}function Pn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function md(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function cm(a){var l=md(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),f=""+a[l];if(!a.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return m.call(this)},set:function(R){f=""+R,v.call(this,R)}}),Object.defineProperty(a,l,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function za(a){a._valueTracker||(a._valueTracker=cm(a))}function zc(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var u=l.getValue(),f="";return a&&(f=md(a)?a.checked?"true":"false":a.value),a=f,a!==u?(l.setValue(a),!0):!1}function rl(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ns=/[\n"\\]/g;function Ct(a){return a.replace(Ns,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Or(a,l,u,f,m,v,R,k){a.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.type=R:a.removeAttribute("type"),l!=null?R==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Pn(l)):a.value!==""+Pn(l)&&(a.value=""+Pn(l)):R!=="submit"&&R!=="reset"||a.removeAttribute("value"),l!=null?al(a,R,Pn(l)):u!=null?al(a,R,Pn(u)):f!=null&&a.removeAttribute("value"),m==null&&v!=null&&(a.defaultChecked=!!v),m!=null&&(a.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+Pn(k):a.removeAttribute("name")}function Ba(a,l,u,f,m,v,R,k){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),l!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||l!=null))return;u=u!=null?""+Pn(u):"",l=l!=null?""+Pn(l):u,k||l===a.value||(a.value=l),a.defaultValue=l}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=k?a.checked:!!f,a.defaultChecked=!!f,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(a.name=R)}function al(a,l,u){l==="number"&&rl(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Xe(a,l,u,f){if(a=a.options,l){l={};for(var m=0;m<u.length;m++)l["$"+u[m]]=!0;for(u=0;u<a.length;u++)m=l.hasOwnProperty("$"+a[u].value),a[u].selected!==m&&(a[u].selected=m),m&&f&&(a[u].defaultSelected=!0)}else{for(u=""+Pn(u),l=null,m=0;m<a.length;m++){if(a[m].value===u){a[m].selected=!0,f&&(a[m].defaultSelected=!0);return}l!==null||a[m].disabled||(l=a[m])}l!==null&&(l.selected=!0)}}function Ha(a,l,u){if(l!=null&&(l=""+Pn(l),l!==a.value&&(a.value=l),u==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=u!=null?""+Pn(u):""}function Pr(a,l,u,f){if(l==null){if(f!=null){if(u!=null)throw Error(i(92));if(fe(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),l=u}u=Pn(l),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f)}function li(a,l){if(l){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=l;return}}a.textContent=l}var um=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bc(a,l,u){var f=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":f?a.setProperty(l,u):typeof u!="number"||u===0||um.has(l)?l==="float"?a.cssFloat=u:a[l]=(""+u).trim():a[l]=u+"px"}function yd(a,l,u){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var m in l)f=l[m],l.hasOwnProperty(m)&&u[m]!==f&&Bc(a,m,f)}else for(var v in l)l.hasOwnProperty(v)&&Bc(a,v,l[v])}function Hc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ts(a){return dm.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var ci=null;function ol(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ms=null,Os=null;function Ps(a){var l=ks(a);if(l&&(a=l.stateNode)){var u=a[Wt]||null;e:switch(a=l.stateNode,l.type){case"input":if(Or(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ct(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var f=u[l];if(f!==a&&f.form===a.form){var m=f[Wt]||null;if(!m)throw Error(i(90));Or(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(l=0;l<u.length;l++)f=u[l],f.form===a.form&&zc(f)}break e;case"textarea":Ha(a,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Xe(a,!!u.multiple,l,!1)}}}var Fc=!1;function vd(a,l,u){if(Fc)return a(l,u);Fc=!0;try{var f=a(l);return f}finally{if(Fc=!1,(Ms!==null||Os!==null)&&(uf(),Ms&&(l=Ms,a=Os,Os=Ms=null,Ps(l),a)))for(l=0;l<a.length;l++)Ps(a[l])}}function Fa(a,l){var u=a.stateNode;if(u===null)return null;var f=u[Wt]||null;if(f===null)return null;u=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(i(231,l,typeof u));return u}var ui=!1;if(Xn)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){ui=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{ui=!1}var ns=null,jr=null,js=null;function qc(){if(js)return js;var a,l=jr,u=l.length,f,m="value"in ns?ns.value:ns.textContent,v=m.length;for(a=0;a<u&&l[a]===m[a];a++);var R=u-a;for(f=1;f<=R&&l[u-f]===m[v-f];f++);return js=m.slice(a,1<f?1-f:void 0)}function is(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function ss(){return!0}function Gc(){return!1}function sn(a){function l(u,f,m,v,R){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=R,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(u=a[k],this[k]=u?u(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ss:Gc,this.isPropagationStopped=Gc,this}return O(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),l}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ll=sn(it),Ga=O({},it,{view:0,detail:0}),bd=sn(Ga),cl,ul,rs,Wa=O({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==rs&&(rs&&a.type==="mousemove"?(cl=a.screenX-rs.screenX,ul=a.screenY-rs.screenY):ul=cl=0,rs=a),cl)},movementY:function(a){return"movementY"in a?a.movementY:ul}}),hi=sn(Wa),_d=O({},Wa,{dataTransfer:0}),fm=sn(_d),$a=O({},Ga,{relatedTarget:0}),hl=sn($a),Wc=O({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),dl=sn(Wc),Ed=O({},it,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),fl=sn(Ed),gm=O({},it,{data:0}),$c=sn(gm),Ya={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yc(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Sd[a])?!!l[a]:!1}function Qa(){return Yc}var Ad=O({},Ga,{key:function(a){if(a.key){var l=Ya[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=is(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?wd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(a){return a.type==="keypress"?is(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?is(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),gl=sn(Ad),Td=O({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=sn(Td),Ls=O({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),xd=sn(Ls),Rd=O({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cd=sn(Rd),Dd=O({},Wa,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),pl=sn(Dd),jn=O({},it,{newState:0,oldState:0}),Id=sn(jn),kd=[9,13,27,32],as=Xn&&"CompositionEvent"in window,p=null;Xn&&"documentMode"in document&&(p=document.documentMode);var w=Xn&&"TextEvent"in window&&!p,x=Xn&&(!as||p&&8<p&&11>=p),N=" ",Y=!1;function J(a,l){switch(a){case"keyup":return kd.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ge=!1;function $t(a,l){switch(a){case"compositionend":return ce(l);case"keypress":return l.which!==32?null:(Y=!0,N);case"textInput":return a=l.data,a===N&&Y?null:a;default:return null}}function We(a,l){if(Ge)return a==="compositionend"||!as&&J(a,l)?(a=qc(),js=jr=ns=null,Ge=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return x&&l.locale!=="ko"?null:l.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yt(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!rn[a.type]:l==="textarea"}function Vs(a,l,u,f){Ms?Os?Os.push(f):Os=[f]:Ms=f,l=pf(l,"onChange"),0<l.length&&(u=new ll("onChange","change",null,u,f),a.push({event:u,listeners:l}))}var fn=null,os=null;function Kc(a){_S(a,0)}function Nd(a){var l=Ir(a);if(zc(l))return a}function Q0(a,l){if(a==="change")return l}var K0=!1;if(Xn){var pm;if(Xn){var mm="oninput"in document;if(!mm){var X0=document.createElement("div");X0.setAttribute("oninput","return;"),mm=typeof X0.oninput=="function"}pm=mm}else pm=!1;K0=pm&&(!document.documentMode||9<document.documentMode)}function Z0(){fn&&(fn.detachEvent("onpropertychange",J0),os=fn=null)}function J0(a){if(a.propertyName==="value"&&Nd(os)){var l=[];Vs(l,os,a,ol(a)),vd(Kc,l)}}function oM(a,l,u){a==="focusin"?(Z0(),fn=l,os=u,fn.attachEvent("onpropertychange",J0)):a==="focusout"&&Z0()}function lM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Nd(os)}function cM(a,l){if(a==="click")return Nd(l)}function uM(a,l){if(a==="input"||a==="change")return Nd(l)}function hM(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Zn=typeof Object.is=="function"?Object.is:hM;function Xc(a,l){if(Zn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var u=Object.keys(a),f=Object.keys(l);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!Ki.call(l,m)||!Zn(a[m],l[m]))return!1}return!0}function eE(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function tE(a,l){var u=eE(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=l&&f>=l)return{node:u,offset:l-a};a=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=eE(u)}}function nE(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?nE(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function iE(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=rl(a.document);l instanceof a.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)a=l.contentWindow;else break;l=rl(a.document)}return l}function ym(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function dM(a,l){var u=iE(l);l=a.focusedElem;var f=a.selectionRange;if(u!==l&&l&&l.ownerDocument&&nE(l.ownerDocument.documentElement,l)){if(f!==null&&ym(l)){if(a=f.start,u=f.end,u===void 0&&(u=a),"selectionStart"in l)l.selectionStart=a,l.selectionEnd=Math.min(u,l.value.length);else if(u=(a=l.ownerDocument||document)&&a.defaultView||window,u.getSelection){u=u.getSelection();var m=l.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!u.extend&&v>f&&(m=f,f=v,v=m),m=tE(l,v);var R=tE(l,f);m&&R&&(u.rangeCount!==1||u.anchorNode!==m.node||u.anchorOffset!==m.offset||u.focusNode!==R.node||u.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),u.removeAllRanges(),v>f?(u.addRange(a),u.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),u.addRange(a)))}}for(a=[],u=l;u=u.parentNode;)u.nodeType===1&&a.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<a.length;l++)u=a[l],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var fM=Xn&&"documentMode"in document&&11>=document.documentMode,ml=null,vm=null,Zc=null,bm=!1;function sE(a,l,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;bm||ml==null||ml!==rl(f)||(f=ml,"selectionStart"in f&&ym(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Zc&&Xc(Zc,f)||(Zc=f,f=pf(vm,"onSelect"),0<f.length&&(l=new ll("onSelect","select",null,l,u),a.push({event:l,listeners:f}),l.target=ml)))}function Ka(a,l){var u={};return u[a.toLowerCase()]=l.toLowerCase(),u["Webkit"+a]="webkit"+l,u["Moz"+a]="moz"+l,u}var yl={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},_m={},rE={};Xn&&(rE=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function Xa(a){if(_m[a])return _m[a];if(!yl[a])return a;var l=yl[a],u;for(u in l)if(l.hasOwnProperty(u)&&u in rE)return _m[a]=l[u];return a}var aE=Xa("animationend"),oE=Xa("animationiteration"),lE=Xa("animationstart"),gM=Xa("transitionrun"),pM=Xa("transitionstart"),mM=Xa("transitioncancel"),cE=Xa("transitionend"),uE=new Map,hE="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Pi(a,l){uE.set(a,l),Kn(l,[a])}var di=[],vl=0,Em=0;function Md(){for(var a=vl,l=Em=vl=0;l<a;){var u=di[l];di[l++]=null;var f=di[l];di[l++]=null;var m=di[l];di[l++]=null;var v=di[l];if(di[l++]=null,f!==null&&m!==null){var R=f.pending;R===null?m.next=m:(m.next=R.next,R.next=m),f.pending=m}v!==0&&dE(u,m,v)}}function Od(a,l,u,f){di[vl++]=a,di[vl++]=l,di[vl++]=u,di[vl++]=f,Em|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function wm(a,l,u,f){return Od(a,l,u,f),Pd(a)}function Lr(a,l){return Od(a,null,null,l),Pd(a)}function dE(a,l,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var m=!1,v=a.return;v!==null;)v.childLanes|=u,f=v.alternate,f!==null&&(f.childLanes|=u),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(m=!0)),a=v,v=v.return;m&&l!==null&&a.tag===3&&(v=a.stateNode,m=31-On(u),v=v.hiddenUpdates,a=v[m],a===null?v[m]=[l]:a.push(l),l.lane=u|536870912)}function Pd(a){if(50<Su)throw Su=0,Cy=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var bl={},fE=new WeakMap;function fi(a,l){if(typeof a=="object"&&a!==null){var u=fE.get(a);return u!==void 0?u:(l={value:a,source:l,stack:de(l)},fE.set(a,l),l)}return{value:a,source:l,stack:de(l)}}var _l=[],El=0,jd=null,Ld=0,gi=[],pi=0,Za=null,Us=1,zs="";function Ja(a,l){_l[El++]=Ld,_l[El++]=jd,jd=a,Ld=l}function gE(a,l,u){gi[pi++]=Us,gi[pi++]=zs,gi[pi++]=Za,Za=a;var f=Us;a=zs;var m=32-On(f)-1;f&=~(1<<m),u+=1;var v=32-On(l)+m;if(30<v){var R=m-m%5;v=(f&(1<<R)-1).toString(32),f>>=R,m-=R,Us=1<<32-On(l)+m|u<<m|f,zs=v+a}else Us=1<<v|u<<m|f,zs=a}function Sm(a){a.return!==null&&(Ja(a,1),gE(a,1,0))}function Am(a){for(;a===jd;)jd=_l[--El],_l[El]=null,Ld=_l[--El],_l[El]=null;for(;a===Za;)Za=gi[--pi],gi[pi]=null,zs=gi[--pi],gi[pi]=null,Us=gi[--pi],gi[pi]=null}var Ln=null,gn=null,Ze=!1,ji=null,ls=!1,Tm=Error(i(519));function eo(a){var l=Error(i(418,""));throw tu(fi(l,a)),Tm}function pE(a){var l=a.stateNode,u=a.type,f=a.memoizedProps;switch(l[nn]=a,l[Wt]=f,u){case"dialog":He("cancel",l),He("close",l);break;case"iframe":case"object":case"embed":He("load",l);break;case"video":case"audio":for(u=0;u<Tu.length;u++)He(Tu[u],l);break;case"source":He("error",l);break;case"img":case"image":case"link":He("error",l),He("load",l);break;case"details":He("toggle",l);break;case"input":He("invalid",l),Ba(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),za(l);break;case"select":He("invalid",l);break;case"textarea":He("invalid",l),Pr(l,f.value,f.defaultValue,f.children),za(l)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||f.suppressHydrationWarning===!0||AS(l.textContent,u)?(f.popover!=null&&(He("beforetoggle",l),He("toggle",l)),f.onScroll!=null&&He("scroll",l),f.onScrollEnd!=null&&He("scrollend",l),f.onClick!=null&&(l.onclick=mf),l=!0):l=!1,l||eo(a)}function mE(a){for(Ln=a.return;Ln;)switch(Ln.tag){case 3:case 27:ls=!0;return;case 5:case 13:ls=!1;return;default:Ln=Ln.return}}function Jc(a){if(a!==Ln)return!1;if(!Ze)return mE(a),Ze=!0,!1;var l=!1,u;if((u=a.tag!==3&&a.tag!==27)&&((u=a.tag===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Gy(a.type,a.memoizedProps)),u=!u),u&&(l=!0),l&&gn&&eo(a),mE(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(l===0){gn=Vi(a.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;a=a.nextSibling}gn=null}}else gn=Ln?Vi(a.stateNode.nextSibling):null;return!0}function eu(){gn=Ln=null,Ze=!1}function tu(a){ji===null?ji=[a]:ji.push(a)}var nu=Error(i(460)),yE=Error(i(474)),xm={then:function(){}};function vE(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Vd(){}function bE(a,l,u){switch(u=a[u],u===void 0?a.push(l):u!==l&&(l.then(Vd,Vd),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,a===nu?Error(i(483)):a;default:if(typeof l.status=="string")l.then(Vd,Vd);else{if(a=ht,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(f){if(l.status==="pending"){var m=l;m.status="fulfilled",m.value=f}},function(f){if(l.status==="pending"){var m=l;m.status="rejected",m.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,a===nu?Error(i(483)):a}throw iu=l,nu}}var iu=null;function _E(){if(iu===null)throw Error(i(459));var a=iu;return iu=null,a}var wl=null,su=0;function Ud(a){var l=su;return su+=1,wl===null&&(wl=[]),bE(wl,a,l)}function ru(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function zd(a,l){throw l.$$typeof===r?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function EE(a){var l=a._init;return l(a._payload)}function wE(a){function l($,G){if(a){var K=$.deletions;K===null?($.deletions=[G],$.flags|=16):K.push(G)}}function u($,G){if(!a)return null;for(;G!==null;)l($,G),G=G.sibling;return null}function f($){for(var G=new Map;$!==null;)$.key!==null?G.set($.key,$):G.set($.index,$),$=$.sibling;return G}function m($,G){return $=Qr($,G),$.index=0,$.sibling=null,$}function v($,G,K){return $.index=K,a?(K=$.alternate,K!==null?(K=K.index,K<G?($.flags|=33554434,G):K):($.flags|=33554434,G)):($.flags|=1048576,G)}function R($){return a&&$.alternate===null&&($.flags|=33554434),$}function k($,G,K,se){return G===null||G.tag!==6?(G=_y(K,$.mode,se),G.return=$,G):(G=m(G,K),G.return=$,G)}function U($,G,K,se){var ye=K.type;return ye===h?ne($,G,K.props.children,se,K.key):G!==null&&(G.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===M&&EE(ye)===G.type)?(G=m(G,K.props),ru(G,K),G.return=$,G):(G=rf(K.type,K.key,K.props,null,$.mode,se),ru(G,K),G.return=$,G)}function W($,G,K,se){return G===null||G.tag!==4||G.stateNode.containerInfo!==K.containerInfo||G.stateNode.implementation!==K.implementation?(G=Ey(K,$.mode,se),G.return=$,G):(G=m(G,K.children||[]),G.return=$,G)}function ne($,G,K,se,ye){return G===null||G.tag!==7?(G=uo(K,$.mode,se,ye),G.return=$,G):(G=m(G,K),G.return=$,G)}function le($,G,K){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=_y(""+G,$.mode,K),G.return=$,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case o:return K=rf(G.type,G.key,G.props,null,$.mode,K),ru(K,G),K.return=$,K;case c:return G=Ey(G,$.mode,K),G.return=$,G;case M:var se=G._init;return G=se(G._payload),le($,G,K)}if(fe(G)||Q(G))return G=uo(G,$.mode,K,null),G.return=$,G;if(typeof G.then=="function")return le($,Ud(G),K);if(G.$$typeof===_)return le($,tf($,G),K);zd($,G)}return null}function X($,G,K,se){var ye=G!==null?G.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ye!==null?null:k($,G,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case o:return K.key===ye?U($,G,K,se):null;case c:return K.key===ye?W($,G,K,se):null;case M:return ye=K._init,K=ye(K._payload),X($,G,K,se)}if(fe(K)||Q(K))return ye!==null?null:ne($,G,K,se,null);if(typeof K.then=="function")return X($,G,Ud(K),se);if(K.$$typeof===_)return X($,G,tf($,K),se);zd($,K)}return null}function te($,G,K,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return $=$.get(K)||null,k(G,$,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case o:return $=$.get(se.key===null?K:se.key)||null,U(G,$,se,ye);case c:return $=$.get(se.key===null?K:se.key)||null,W(G,$,se,ye);case M:var Le=se._init;return se=Le(se._payload),te($,G,K,se,ye)}if(fe(se)||Q(se))return $=$.get(K)||null,ne(G,$,se,ye,null);if(typeof se.then=="function")return te($,G,K,Ud(se),ye);if(se.$$typeof===_)return te($,G,K,tf(G,se),ye);zd(G,se)}return null}function Ee($,G,K,se){for(var ye=null,Le=null,Se=G,De=G=0,ln=null;Se!==null&&De<K.length;De++){Se.index>De?(ln=Se,Se=null):ln=Se.sibling;var Je=X($,Se,K[De],se);if(Je===null){Se===null&&(Se=ln);break}a&&Se&&Je.alternate===null&&l($,Se),G=v(Je,G,De),Le===null?ye=Je:Le.sibling=Je,Le=Je,Se=ln}if(De===K.length)return u($,Se),Ze&&Ja($,De),ye;if(Se===null){for(;De<K.length;De++)Se=le($,K[De],se),Se!==null&&(G=v(Se,G,De),Le===null?ye=Se:Le.sibling=Se,Le=Se);return Ze&&Ja($,De),ye}for(Se=f(Se);De<K.length;De++)ln=te(Se,$,De,K[De],se),ln!==null&&(a&&ln.alternate!==null&&Se.delete(ln.key===null?De:ln.key),G=v(ln,G,De),Le===null?ye=ln:Le.sibling=ln,Le=ln);return a&&Se.forEach(function(na){return l($,na)}),Ze&&Ja($,De),ye}function Me($,G,K,se){if(K==null)throw Error(i(151));for(var ye=null,Le=null,Se=G,De=G=0,ln=null,Je=K.next();Se!==null&&!Je.done;De++,Je=K.next()){Se.index>De?(ln=Se,Se=null):ln=Se.sibling;var na=X($,Se,Je.value,se);if(na===null){Se===null&&(Se=ln);break}a&&Se&&na.alternate===null&&l($,Se),G=v(na,G,De),Le===null?ye=na:Le.sibling=na,Le=na,Se=ln}if(Je.done)return u($,Se),Ze&&Ja($,De),ye;if(Se===null){for(;!Je.done;De++,Je=K.next())Je=le($,Je.value,se),Je!==null&&(G=v(Je,G,De),Le===null?ye=Je:Le.sibling=Je,Le=Je);return Ze&&Ja($,De),ye}for(Se=f(Se);!Je.done;De++,Je=K.next())Je=te(Se,$,De,Je.value,se),Je!==null&&(a&&Je.alternate!==null&&Se.delete(Je.key===null?De:Je.key),G=v(Je,G,De),Le===null?ye=Je:Le.sibling=Je,Le=Je);return a&&Se.forEach(function(IO){return l($,IO)}),Ze&&Ja($,De),ye}function kt($,G,K,se){if(typeof K=="object"&&K!==null&&K.type===h&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case o:e:{for(var ye=K.key;G!==null;){if(G.key===ye){if(ye=K.type,ye===h){if(G.tag===7){u($,G.sibling),se=m(G,K.props.children),se.return=$,$=se;break e}}else if(G.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===M&&EE(ye)===G.type){u($,G.sibling),se=m(G,K.props),ru(se,K),se.return=$,$=se;break e}u($,G);break}else l($,G);G=G.sibling}K.type===h?(se=uo(K.props.children,$.mode,se,K.key),se.return=$,$=se):(se=rf(K.type,K.key,K.props,null,$.mode,se),ru(se,K),se.return=$,$=se)}return R($);case c:e:{for(ye=K.key;G!==null;){if(G.key===ye)if(G.tag===4&&G.stateNode.containerInfo===K.containerInfo&&G.stateNode.implementation===K.implementation){u($,G.sibling),se=m(G,K.children||[]),se.return=$,$=se;break e}else{u($,G);break}else l($,G);G=G.sibling}se=Ey(K,$.mode,se),se.return=$,$=se}return R($);case M:return ye=K._init,K=ye(K._payload),kt($,G,K,se)}if(fe(K))return Ee($,G,K,se);if(Q(K)){if(ye=Q(K),typeof ye!="function")throw Error(i(150));return K=ye.call(K),Me($,G,K,se)}if(typeof K.then=="function")return kt($,G,Ud(K),se);if(K.$$typeof===_)return kt($,G,tf($,K),se);zd($,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,G!==null&&G.tag===6?(u($,G.sibling),se=m(G,K),se.return=$,$=se):(u($,G),se=_y(K,$.mode,se),se.return=$,$=se),R($)):u($,G)}return function($,G,K,se){try{su=0;var ye=kt($,G,K,se);return wl=null,ye}catch(Se){if(Se===nu)throw Se;var Le=bi(29,Se,null,$.mode);return Le.lanes=se,Le.return=$,Le}finally{}}}var to=wE(!0),SE=wE(!1),Sl=qe(null),Bd=qe(0);function AE(a,l){a=Xs,et(Bd,a),et(Sl,l),Xs=a|l.baseLanes}function Rm(){et(Bd,Xs),et(Sl,Sl.current)}function Cm(){Xs=Bd.current,ft(Sl),ft(Bd)}var mi=qe(null),cs=null;function Vr(a){var l=a.alternate;et(Qt,Qt.current&1),et(mi,a),cs===null&&(l===null||Sl.current!==null||l.memoizedState!==null)&&(cs=a)}function TE(a){if(a.tag===22){if(et(Qt,Qt.current),et(mi,a),cs===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(cs=a)}}else Ur()}function Ur(){et(Qt,Qt.current),et(mi,mi.current)}function Bs(a){ft(mi),cs===a&&(cs=null),ft(Qt)}var Qt=qe(0);function Hd(a){for(var l=a;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var yM=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){l.aborted=!0,a.forEach(function(u){return u()})}},vM=n.unstable_scheduleCallback,bM=n.unstable_NormalPriority,Kt={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dm(){return{controller:new yM,data:new Map,refCount:0}}function au(a){a.refCount--,a.refCount===0&&vM(bM,function(){a.controller.abort()})}var ou=null,Im=0,Al=0,Tl=null;function _M(a,l){if(ou===null){var u=ou=[];Im=0,Al=jy(),Tl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Im++,l.then(xE,xE),l}function xE(){if(--Im===0&&ou!==null){Tl!==null&&(Tl.status="fulfilled");var a=ou;ou=null,Al=0,Tl=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function EM(a,l){var u=[],f={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return a.then(function(){f.status="fulfilled",f.value=l;for(var m=0;m<u.length;m++)(0,u[m])(l)},function(m){for(f.status="rejected",f.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),f}var RE=D.S;D.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&_M(a,l),RE!==null&&RE(a,l)};var no=qe(null);function km(){var a=no.current;return a!==null?a:ht.pooledCache}function Fd(a,l){l===null?et(no,no.current):et(no,l.pool)}function CE(){var a=km();return a===null?null:{parent:Kt._currentValue,pool:a}}var zr=0,je=null,ot=null,zt=null,qd=!1,xl=!1,io=!1,Gd=0,lu=0,Rl=null,wM=0;function jt(){throw Error(i(321))}function Nm(a,l){if(l===null)return!1;for(var u=0;u<l.length&&u<a.length;u++)if(!Zn(a[u],l[u]))return!1;return!0}function Mm(a,l,u,f,m,v){return zr=v,je=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,D.H=a===null||a.memoizedState===null?so:Br,io=!1,v=u(f,m),io=!1,xl&&(v=IE(l,u,f,m)),DE(a),v}function DE(a){D.H=us;var l=ot!==null&&ot.next!==null;if(zr=0,zt=ot=je=null,qd=!1,lu=0,Rl=null,l)throw Error(i(300));a===null||an||(a=a.dependencies,a!==null&&ef(a)&&(an=!0))}function IE(a,l,u,f){je=a;var m=0;do{if(xl&&(Rl=null),lu=0,xl=!1,25<=m)throw Error(i(301));if(m+=1,zt=ot=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}D.H=ro,v=l(u,f)}while(xl);return v}function SM(){var a=D.H,l=a.useState()[0];return l=typeof l.then=="function"?cu(l):l,a=a.useState()[0],(ot!==null?ot.memoizedState:null)!==a&&(je.flags|=1024),l}function Om(){var a=Gd!==0;return Gd=0,a}function Pm(a,l,u){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~u}function jm(a){if(qd){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}qd=!1}zr=0,zt=ot=je=null,xl=!1,lu=Gd=0,Rl=null}function Hn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?je.memoizedState=zt=a:zt=zt.next=a,zt}function Bt(){if(ot===null){var a=je.alternate;a=a!==null?a.memoizedState:null}else a=ot.next;var l=zt===null?je.memoizedState:zt.next;if(l!==null)zt=l,ot=a;else{if(a===null)throw je.alternate===null?Error(i(467)):Error(i(310));ot=a,a={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},zt===null?je.memoizedState=zt=a:zt=zt.next=a}return zt}var Wd;Wd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cu(a){var l=lu;return lu+=1,Rl===null&&(Rl=[]),a=bE(Rl,a,l),l=je,(zt===null?l.memoizedState:zt.next)===null&&(l=l.alternate,D.H=l===null||l.memoizedState===null?so:Br),a}function $d(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return cu(a);if(a.$$typeof===_)return Sn(a)}throw Error(i(438,String(a)))}function Lm(a){var l=null,u=je.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var f=je.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(m){return m.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Wd(),je.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(a),f=0;f<a;f++)u[f]=H;return l.index++,u}function Hs(a,l){return typeof l=="function"?l(a):l}function Yd(a){var l=Bt();return Vm(l,ot,a)}function Vm(a,l,u){var f=a.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var m=a.baseQueue,v=f.pending;if(v!==null){if(m!==null){var R=m.next;m.next=v.next,v.next=R}l.baseQueue=m=v,f.pending=null}if(v=a.baseState,m===null)a.memoizedState=v;else{l=m.next;var k=R=null,U=null,W=l,ne=!1;do{var le=W.lane&-536870913;if(le!==W.lane?($e&le)===le:(zr&le)===le){var X=W.revertLane;if(X===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),le===Al&&(ne=!0);else if((zr&X)===X){W=W.next,X===Al&&(ne=!0);continue}else le={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(k=U=le,R=v):U=U.next=le,je.lanes|=X,Kr|=X;le=W.action,io&&u(v,le),v=W.hasEagerState?W.eagerState:u(v,le)}else X={lane:le,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(k=U=X,R=v):U=U.next=X,je.lanes|=le,Kr|=le;W=W.next}while(W!==null&&W!==l);if(U===null?R=v:U.next=k,!Zn(v,a.memoizedState)&&(an=!0,ne&&(u=Tl,u!==null)))throw u;a.memoizedState=v,a.baseState=R,a.baseQueue=U,f.lastRenderedState=v}return m===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function Um(a){var l=Bt(),u=l.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var f=u.dispatch,m=u.pending,v=l.memoizedState;if(m!==null){u.pending=null;var R=m=m.next;do v=a(v,R.action),R=R.next;while(R!==m);Zn(v,l.memoizedState)||(an=!0),l.memoizedState=v,l.baseQueue===null&&(l.baseState=v),u.lastRenderedState=v}return[v,f]}function kE(a,l,u){var f=je,m=Bt(),v=Ze;if(v){if(u===void 0)throw Error(i(407));u=u()}else u=l();var R=!Zn((ot||m).memoizedState,u);if(R&&(m.memoizedState=u,an=!0),m=m.queue,Hm(OE.bind(null,f,m,a),[a]),m.getSnapshot!==l||R||zt!==null&&zt.memoizedState.tag&1){if(f.flags|=2048,Cl(9,ME.bind(null,f,m,u,l),{destroy:void 0},null),ht===null)throw Error(i(349));v||zr&60||NE(f,l,u)}return u}function NE(a,l,u){a.flags|=16384,a={getSnapshot:l,value:u},l=je.updateQueue,l===null?(l=Wd(),je.updateQueue=l,l.stores=[a]):(u=l.stores,u===null?l.stores=[a]:u.push(a))}function ME(a,l,u,f){l.value=u,l.getSnapshot=f,PE(l)&&jE(a)}function OE(a,l,u){return u(function(){PE(l)&&jE(a)})}function PE(a){var l=a.getSnapshot;a=a.value;try{var u=l();return!Zn(a,u)}catch{return!0}}function jE(a){var l=Lr(a,2);l!==null&&Vn(l,a,2)}function zm(a){var l=Hn();if(typeof a=="function"){var u=a;if(a=u(),io){Xi(!0);try{u()}finally{Xi(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:a},l}function LE(a,l,u,f){return a.baseState=u,Vm(a,ot,typeof f=="function"?f:Hs)}function AM(a,l,u,f,m){if(Xd(a))throw Error(i(485));if(a=l.action,a!==null){var v={payload:m,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){v.listeners.push(R)}};D.T!==null?u(!0):v.isTransition=!1,f(v),u=l.pending,u===null?(v.next=l.pending=v,VE(l,v)):(v.next=u.next,l.pending=u.next=v)}}function VE(a,l){var u=l.action,f=l.payload,m=a.state;if(l.isTransition){var v=D.T,R={};D.T=R;try{var k=u(m,f),U=D.S;U!==null&&U(R,k),UE(a,l,k)}catch(W){Bm(a,l,W)}finally{D.T=v}}else try{v=u(m,f),UE(a,l,v)}catch(W){Bm(a,l,W)}}function UE(a,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){zE(a,l,f)},function(f){return Bm(a,l,f)}):zE(a,l,u)}function zE(a,l,u){l.status="fulfilled",l.value=u,BE(l),a.state=u,l=a.pending,l!==null&&(u=l.next,u===l?a.pending=null:(u=u.next,l.next=u,VE(a,u)))}function Bm(a,l,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=u,BE(l),l=l.next;while(l!==f)}a.action=null}function BE(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function HE(a,l){return l}function FE(a,l){if(Ze){var u=ht.formState;if(u!==null){e:{var f=je;if(Ze){if(gn){t:{for(var m=gn,v=ls;m.nodeType!==8;){if(!v){m=null;break t}if(m=Vi(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){gn=Vi(m.nextSibling),f=m.data==="F!";break e}}eo(f)}f=!1}f&&(l=u[0])}}return u=Hn(),u.memoizedState=u.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:HE,lastRenderedState:l},u.queue=f,u=ow.bind(null,je,f),f.dispatch=u,f=zm(!1),v=$m.bind(null,je,!1,f.queue),f=Hn(),m={state:l,dispatch:null,action:a,pending:null},f.queue=m,u=AM.bind(null,je,m,v,u),m.dispatch=u,f.memoizedState=a,[l,u,!1]}function qE(a){var l=Bt();return GE(l,ot,a)}function GE(a,l,u){l=Vm(a,l,HE)[0],a=Yd(Hs)[0],l=typeof l=="object"&&l!==null&&typeof l.then=="function"?cu(l):l;var f=Bt(),m=f.queue,v=m.dispatch;return u!==f.memoizedState&&(je.flags|=2048,Cl(9,TM.bind(null,m,u),{destroy:void 0},null)),[l,v,a]}function TM(a,l){a.action=l}function WE(a){var l=Bt(),u=ot;if(u!==null)return GE(l,u,a);Bt(),l=l.memoizedState,u=Bt();var f=u.queue.dispatch;return u.memoizedState=a,[l,f,!1]}function Cl(a,l,u,f){return a={tag:a,create:l,inst:u,deps:f,next:null},l=je.updateQueue,l===null&&(l=Wd(),je.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,l.lastEffect=a),a}function $E(){return Bt().memoizedState}function Qd(a,l,u,f){var m=Hn();je.flags|=a,m.memoizedState=Cl(1|l,u,{destroy:void 0},f===void 0?null:f)}function Kd(a,l,u,f){var m=Bt();f=f===void 0?null:f;var v=m.memoizedState.inst;ot!==null&&f!==null&&Nm(f,ot.memoizedState.deps)?m.memoizedState=Cl(l,u,v,f):(je.flags|=a,m.memoizedState=Cl(1|l,u,v,f))}function YE(a,l){Qd(8390656,8,a,l)}function Hm(a,l){Kd(2048,8,a,l)}function QE(a,l){return Kd(4,2,a,l)}function KE(a,l){return Kd(4,4,a,l)}function XE(a,l){if(typeof l=="function"){a=a();var u=l(a);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function ZE(a,l,u){u=u!=null?u.concat([a]):null,Kd(4,4,XE.bind(null,l,a),u)}function Fm(){}function JE(a,l){var u=Bt();l=l===void 0?null:l;var f=u.memoizedState;return l!==null&&Nm(l,f[1])?f[0]:(u.memoizedState=[a,l],a)}function ew(a,l){var u=Bt();l=l===void 0?null:l;var f=u.memoizedState;if(l!==null&&Nm(l,f[1]))return f[0];if(f=a(),io){Xi(!0);try{a()}finally{Xi(!1)}}return u.memoizedState=[f,l],f}function qm(a,l,u){return u===void 0||zr&1073741824?a.memoizedState=l:(a.memoizedState=u,a=nS(),je.lanes|=a,Kr|=a,u)}function tw(a,l,u,f){return Zn(u,l)?u:Sl.current!==null?(a=qm(a,u,f),Zn(a,l)||(an=!0),a):zr&42?(a=nS(),je.lanes|=a,Kr|=a,l):(an=!0,a.memoizedState=u)}function nw(a,l,u,f,m){var v=he.p;he.p=v!==0&&8>v?v:8;var R=D.T,k={};D.T=k,$m(a,!1,l,u);try{var U=m(),W=D.S;if(W!==null&&W(k,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ne=EM(U,f);uu(a,l,ne,ni(a))}else uu(a,l,f,ni(a))}catch(le){uu(a,l,{then:function(){},status:"rejected",reason:le},ni())}finally{he.p=v,D.T=R}}function xM(){}function Gm(a,l,u,f){if(a.tag!==5)throw Error(i(476));var m=iw(a).queue;nw(a,m,l,Ce,u===null?xM:function(){return sw(a),u(f)})}function iw(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:Ce},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:u},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function sw(a){var l=iw(a).next.queue;uu(a,l,{},ni())}function Wm(){return Sn(Iu)}function rw(){return Bt().memoizedState}function aw(){return Bt().memoizedState}function RM(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var u=ni();a=qr(u);var f=Gr(l,a,u);f!==null&&(Vn(f,l,u),fu(f,l,u)),l={cache:Dm()},a.payload=l;return}l=l.return}}function CM(a,l,u){var f=ni();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Xd(a)?lw(l,u):(u=wm(a,l,u,f),u!==null&&(Vn(u,a,f),cw(u,l,f)))}function ow(a,l,u){var f=ni();uu(a,l,u,f)}function uu(a,l,u,f){var m={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Xd(a))lw(l,m);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=l.lastRenderedReducer,v!==null))try{var R=l.lastRenderedState,k=v(R,u);if(m.hasEagerState=!0,m.eagerState=k,Zn(k,R))return Od(a,l,m,0),ht===null&&Md(),!1}catch{}finally{}if(u=wm(a,l,m,f),u!==null)return Vn(u,a,f),cw(u,l,f),!0}return!1}function $m(a,l,u,f){if(f={lane:2,revertLane:jy(),action:f,hasEagerState:!1,eagerState:null,next:null},Xd(a)){if(l)throw Error(i(479))}else l=wm(a,u,f,2),l!==null&&Vn(l,a,2)}function Xd(a){var l=a.alternate;return a===je||l!==null&&l===je}function lw(a,l){xl=qd=!0;var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}function cw(a,l,u){if(u&4194176){var f=l.lanes;f&=a.pendingLanes,u|=f,l.lanes=u,Rr(a,u)}}var us={readContext:Sn,use:$d,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt};us.useCacheRefresh=jt,us.useMemoCache=jt,us.useHostTransitionStatus=jt,us.useFormState=jt,us.useActionState=jt,us.useOptimistic=jt;var so={readContext:Sn,use:$d,useCallback:function(a,l){return Hn().memoizedState=[a,l===void 0?null:l],a},useContext:Sn,useEffect:YE,useImperativeHandle:function(a,l,u){u=u!=null?u.concat([a]):null,Qd(4194308,4,XE.bind(null,l,a),u)},useLayoutEffect:function(a,l){return Qd(4194308,4,a,l)},useInsertionEffect:function(a,l){Qd(4,2,a,l)},useMemo:function(a,l){var u=Hn();l=l===void 0?null:l;var f=a();if(io){Xi(!0);try{a()}finally{Xi(!1)}}return u.memoizedState=[f,l],f},useReducer:function(a,l,u){var f=Hn();if(u!==void 0){var m=u(l);if(io){Xi(!0);try{u(l)}finally{Xi(!1)}}}else m=l;return f.memoizedState=f.baseState=m,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:m},f.queue=a,a=a.dispatch=CM.bind(null,je,a),[f.memoizedState,a]},useRef:function(a){var l=Hn();return a={current:a},l.memoizedState=a},useState:function(a){a=zm(a);var l=a.queue,u=ow.bind(null,je,l);return l.dispatch=u,[a.memoizedState,u]},useDebugValue:Fm,useDeferredValue:function(a,l){var u=Hn();return qm(u,a,l)},useTransition:function(){var a=zm(!1);return a=nw.bind(null,je,a.queue,!0,!1),Hn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,u){var f=je,m=Hn();if(Ze){if(u===void 0)throw Error(i(407));u=u()}else{if(u=l(),ht===null)throw Error(i(349));$e&60||NE(f,l,u)}m.memoizedState=u;var v={value:u,getSnapshot:l};return m.queue=v,YE(OE.bind(null,f,v,a),[a]),f.flags|=2048,Cl(9,ME.bind(null,f,v,u,l),{destroy:void 0},null),u},useId:function(){var a=Hn(),l=ht.identifierPrefix;if(Ze){var u=zs,f=Us;u=(f&~(1<<32-On(f)-1)).toString(32)+u,l=":"+l+"R"+u,u=Gd++,0<u&&(l+="H"+u.toString(32)),l+=":"}else u=wM++,l=":"+l+"r"+u.toString(32)+":";return a.memoizedState=l},useCacheRefresh:function(){return Hn().memoizedState=RM.bind(null,je)}};so.useMemoCache=Lm,so.useHostTransitionStatus=Wm,so.useFormState=FE,so.useActionState=FE,so.useOptimistic=function(a){var l=Hn();l.memoizedState=l.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=$m.bind(null,je,!0,u),u.dispatch=l,[a,l]};var Br={readContext:Sn,use:$d,useCallback:JE,useContext:Sn,useEffect:Hm,useImperativeHandle:ZE,useInsertionEffect:QE,useLayoutEffect:KE,useMemo:ew,useReducer:Yd,useRef:$E,useState:function(){return Yd(Hs)},useDebugValue:Fm,useDeferredValue:function(a,l){var u=Bt();return tw(u,ot.memoizedState,a,l)},useTransition:function(){var a=Yd(Hs)[0],l=Bt().memoizedState;return[typeof a=="boolean"?a:cu(a),l]},useSyncExternalStore:kE,useId:rw};Br.useCacheRefresh=aw,Br.useMemoCache=Lm,Br.useHostTransitionStatus=Wm,Br.useFormState=qE,Br.useActionState=qE,Br.useOptimistic=function(a,l){var u=Bt();return LE(u,ot,a,l)};var ro={readContext:Sn,use:$d,useCallback:JE,useContext:Sn,useEffect:Hm,useImperativeHandle:ZE,useInsertionEffect:QE,useLayoutEffect:KE,useMemo:ew,useReducer:Um,useRef:$E,useState:function(){return Um(Hs)},useDebugValue:Fm,useDeferredValue:function(a,l){var u=Bt();return ot===null?qm(u,a,l):tw(u,ot.memoizedState,a,l)},useTransition:function(){var a=Um(Hs)[0],l=Bt().memoizedState;return[typeof a=="boolean"?a:cu(a),l]},useSyncExternalStore:kE,useId:rw};ro.useCacheRefresh=aw,ro.useMemoCache=Lm,ro.useHostTransitionStatus=Wm,ro.useFormState=WE,ro.useActionState=WE,ro.useOptimistic=function(a,l){var u=Bt();return ot!==null?LE(u,ot,a,l):(u.baseState=a,[a,u.queue.dispatch])};function Ym(a,l,u,f){l=a.memoizedState,u=u(f,l),u=u==null?l:O({},l,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Qm={isMounted:function(a){return(a=a._reactInternals)?ge(a)===a:!1},enqueueSetState:function(a,l,u){a=a._reactInternals;var f=ni(),m=qr(f);m.payload=l,u!=null&&(m.callback=u),l=Gr(a,m,f),l!==null&&(Vn(l,a,f),fu(l,a,f))},enqueueReplaceState:function(a,l,u){a=a._reactInternals;var f=ni(),m=qr(f);m.tag=1,m.payload=l,u!=null&&(m.callback=u),l=Gr(a,m,f),l!==null&&(Vn(l,a,f),fu(l,a,f))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var u=ni(),f=qr(u);f.tag=2,l!=null&&(f.callback=l),l=Gr(a,f,u),l!==null&&(Vn(l,a,u),fu(l,a,u))}};function uw(a,l,u,f,m,v,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,v,R):l.prototype&&l.prototype.isPureReactComponent?!Xc(u,f)||!Xc(m,v):!0}function hw(a,l,u,f){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,f),l.state!==a&&Qm.enqueueReplaceState(l,l.state,null)}function ao(a,l){var u=l;if("ref"in l){u={};for(var f in l)f!=="ref"&&(u[f]=l[f])}if(a=a.defaultProps){u===l&&(u=O({},u));for(var m in a)u[m]===void 0&&(u[m]=a[m])}return u}var Zd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function dw(a){Zd(a)}function fw(a){console.error(a)}function gw(a){Zd(a)}function Jd(a,l){try{var u=a.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function pw(a,l,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Km(a,l,u){return u=qr(u),u.tag=3,u.payload={element:null},u.callback=function(){Jd(a,l)},u}function mw(a){return a=qr(a),a.tag=3,a}function yw(a,l,u,f){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var v=f.value;a.payload=function(){return m(v)},a.callback=function(){pw(l,u,f)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(a.callback=function(){pw(l,u,f),typeof m!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function DM(a,l,u,f,m){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=u.alternate,l!==null&&du(l,u,m,!0),u=mi.current,u!==null){switch(u.tag){case 13:return cs===null?ky():u.alternate===null&&It===0&&(It=3),u.flags&=-257,u.flags|=65536,u.lanes=m,f===xm?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([f]):l.add(f),My(a,f,m)),!1;case 22:return u.flags|=65536,f===xm?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([f]):u.add(f)),My(a,f,m)),!1}throw Error(i(435,u.tag))}return My(a,f,m),ky(),!1}if(Ze)return l=mi.current,l!==null?(!(l.flags&65536)&&(l.flags|=256),l.flags|=65536,l.lanes=m,f!==Tm&&(a=Error(i(422),{cause:f}),tu(fi(a,u)))):(f!==Tm&&(l=Error(i(423),{cause:f}),tu(fi(l,u))),a=a.current.alternate,a.flags|=65536,m&=-m,a.lanes|=m,f=fi(f,u),m=Km(a.stateNode,f,m),hy(a,m),It!==4&&(It=2)),!1;var v=Error(i(520),{cause:f});if(v=fi(v,u),Eu===null?Eu=[v]:Eu.push(v),It!==4&&(It=2),l===null)return!0;f=fi(f,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,a=m&-m,u.lanes|=a,a=Km(u.stateNode,f,a),hy(u,a),!1;case 1:if(l=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Xr===null||!Xr.has(v))))return u.flags|=65536,m&=-m,u.lanes|=m,m=mw(m),yw(m,a,u,f),hy(u,m),!1}u=u.return}while(u!==null);return!1}var vw=Error(i(461)),an=!1;function pn(a,l,u,f){l.child=a===null?SE(l,null,u,f):to(l,a.child,u,f)}function bw(a,l,u,f,m){u=u.render;var v=l.ref;if("ref"in f){var R={};for(var k in f)k!=="ref"&&(R[k]=f[k])}else R=f;return lo(l),f=Mm(a,l,u,R,v,m),k=Om(),a!==null&&!an?(Pm(a,l,m),Fs(a,l,m)):(Ze&&k&&Sm(l),l.flags|=1,pn(a,l,f,m),l.child)}function _w(a,l,u,f,m){if(a===null){var v=u.type;return typeof v=="function"&&!by(v)&&v.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=v,Ew(a,l,v,f,m)):(a=rf(u.type,null,f,l,l.mode,m),a.ref=l.ref,a.return=l,l.child=a)}if(v=a.child,!ry(a,m)){var R=v.memoizedProps;if(u=u.compare,u=u!==null?u:Xc,u(R,f)&&a.ref===l.ref)return Fs(a,l,m)}return l.flags|=1,a=Qr(v,f),a.ref=l.ref,a.return=l,l.child=a}function Ew(a,l,u,f,m){if(a!==null){var v=a.memoizedProps;if(Xc(v,f)&&a.ref===l.ref)if(an=!1,l.pendingProps=f=v,ry(a,m))a.flags&131072&&(an=!0);else return l.lanes=a.lanes,Fs(a,l,m)}return Xm(a,l,u,f,m)}function ww(a,l,u){var f=l.pendingProps,m=f.children,v=(l.stateNode._pendingVisibility&2)!==0,R=a!==null?a.memoizedState:null;if(hu(a,l),f.mode==="hidden"||v){if(l.flags&128){if(f=R!==null?R.baseLanes|u:u,a!==null){for(m=l.child=a.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;l.childLanes=v&~f}else l.childLanes=0,l.child=null;return Sw(a,l,f,u)}if(u&536870912)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Fd(l,R!==null?R.cachePool:null),R!==null?AE(l,R):Rm(),TE(l);else return l.lanes=l.childLanes=536870912,Sw(a,l,R!==null?R.baseLanes|u:u,u)}else R!==null?(Fd(l,R.cachePool),AE(l,R),Ur(),l.memoizedState=null):(a!==null&&Fd(l,null),Rm(),Ur());return pn(a,l,m,u),l.child}function Sw(a,l,u,f){var m=km();return m=m===null?null:{parent:Kt._currentValue,pool:m},l.memoizedState={baseLanes:u,cachePool:m},a!==null&&Fd(l,null),Rm(),TE(l),a!==null&&du(a,l,f,!0),null}function hu(a,l){var u=l.ref;if(u===null)a!==null&&a.ref!==null&&(l.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(a===null||a.ref!==u)&&(l.flags|=2097664)}}function Xm(a,l,u,f,m){return lo(l),u=Mm(a,l,u,f,void 0,m),f=Om(),a!==null&&!an?(Pm(a,l,m),Fs(a,l,m)):(Ze&&f&&Sm(l),l.flags|=1,pn(a,l,u,m),l.child)}function Aw(a,l,u,f,m,v){return lo(l),l.updateQueue=null,u=IE(l,f,u,m),DE(a),f=Om(),a!==null&&!an?(Pm(a,l,v),Fs(a,l,v)):(Ze&&f&&Sm(l),l.flags|=1,pn(a,l,u,v),l.child)}function Tw(a,l,u,f,m){if(lo(l),l.stateNode===null){var v=bl,R=u.contextType;typeof R=="object"&&R!==null&&(v=Sn(R)),v=new u(f,v),l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Qm,l.stateNode=v,v._reactInternals=l,v=l.stateNode,v.props=f,v.state=l.memoizedState,v.refs={},cy(l),R=u.contextType,v.context=typeof R=="object"&&R!==null?Sn(R):bl,v.state=l.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(Ym(l,u,R,f),v.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(R=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),R!==v.state&&Qm.enqueueReplaceState(v,v.state,null),pu(l,f,v,m),gu(),v.state=l.memoizedState),typeof v.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(a===null){v=l.stateNode;var k=l.memoizedProps,U=ao(u,k);v.props=U;var W=v.context,ne=u.contextType;R=bl,typeof ne=="object"&&ne!==null&&(R=Sn(ne));var le=u.getDerivedStateFromProps;ne=typeof le=="function"||typeof v.getSnapshotBeforeUpdate=="function",k=l.pendingProps!==k,ne||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k||W!==R)&&hw(l,v,f,R),Fr=!1;var X=l.memoizedState;v.state=X,pu(l,f,v,m),gu(),W=l.memoizedState,k||X!==W||Fr?(typeof le=="function"&&(Ym(l,u,le,f),W=l.memoizedState),(U=Fr||uw(l,u,U,f,X,W,R))?(ne||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(l.flags|=4194308)):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=W),v.props=f,v.state=W,v.context=R,f=U):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{v=l.stateNode,uy(a,l),R=l.memoizedProps,ne=ao(u,R),v.props=ne,le=l.pendingProps,X=v.context,W=u.contextType,U=bl,typeof W=="object"&&W!==null&&(U=Sn(W)),k=u.getDerivedStateFromProps,(W=typeof k=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==le||X!==U)&&hw(l,v,f,U),Fr=!1,X=l.memoizedState,v.state=X,pu(l,f,v,m),gu();var te=l.memoizedState;R!==le||X!==te||Fr||a!==null&&a.dependencies!==null&&ef(a.dependencies)?(typeof k=="function"&&(Ym(l,u,k,f),te=l.memoizedState),(ne=Fr||uw(l,u,ne,f,X,te,U)||a!==null&&a.dependencies!==null&&ef(a.dependencies))?(W||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,te,U),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,te,U)),typeof v.componentDidUpdate=="function"&&(l.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof v.componentDidUpdate!="function"||R===a.memoizedProps&&X===a.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&X===a.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=te),v.props=f,v.state=te,v.context=U,f=ne):(typeof v.componentDidUpdate!="function"||R===a.memoizedProps&&X===a.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&X===a.memoizedState||(l.flags|=1024),f=!1)}return v=f,hu(a,l),f=(l.flags&128)!==0,v||f?(v=l.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:v.render(),l.flags|=1,a!==null&&f?(l.child=to(l,a.child,null,m),l.child=to(l,null,u,m)):pn(a,l,u,m),l.memoizedState=v.state,a=l.child):a=Fs(a,l,m),a}function xw(a,l,u,f){return eu(),l.flags|=256,pn(a,l,u,f),l.child}var Zm={dehydrated:null,treeContext:null,retryLane:0};function Jm(a){return{baseLanes:a,cachePool:CE()}}function ey(a,l,u){return a=a!==null?a.childLanes&~u:0,l&&(a|=_i),a}function Rw(a,l,u){var f=l.pendingProps,m=!1,v=(l.flags&128)!==0,R;if((R=v)||(R=a!==null&&a.memoizedState===null?!1:(Qt.current&2)!==0),R&&(m=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,a===null){if(Ze){if(m?Vr(l):Ur(),Ze){var k=gn,U;if(U=k){e:{for(U=k,k=ls;U.nodeType!==8;){if(!k){k=null;break e}if(U=Vi(U.nextSibling),U===null){k=null;break e}}k=U}k!==null?(l.memoizedState={dehydrated:k,treeContext:Za!==null?{id:Us,overflow:zs}:null,retryLane:536870912},U=bi(18,null,null,0),U.stateNode=k,U.return=l,l.child=U,Ln=l,gn=null,U=!0):U=!1}U||eo(l)}if(k=l.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?l.lanes=16:l.lanes=536870912,null;Bs(l)}return k=f.children,f=f.fallback,m?(Ur(),m=l.mode,k=ny({mode:"hidden",children:k},m),f=uo(f,m,u,null),k.return=l,f.return=l,k.sibling=f,l.child=k,m=l.child,m.memoizedState=Jm(u),m.childLanes=ey(a,R,u),l.memoizedState=Zm,f):(Vr(l),ty(l,k))}if(U=a.memoizedState,U!==null&&(k=U.dehydrated,k!==null)){if(v)l.flags&256?(Vr(l),l.flags&=-257,l=iy(a,l,u)):l.memoizedState!==null?(Ur(),l.child=a.child,l.flags|=128,l=null):(Ur(),m=f.fallback,k=l.mode,f=ny({mode:"visible",children:f.children},k),m=uo(m,k,u,null),m.flags|=2,f.return=l,m.return=l,f.sibling=m,l.child=f,to(l,a.child,null,u),f=l.child,f.memoizedState=Jm(u),f.childLanes=ey(a,R,u),l.memoizedState=Zm,l=m);else if(Vr(l),k.data==="$!"){if(R=k.nextSibling&&k.nextSibling.dataset,R)var W=R.dgst;R=W,f=Error(i(419)),f.stack="",f.digest=R,tu({value:f,source:null,stack:null}),l=iy(a,l,u)}else if(an||du(a,l,u,!1),R=(u&a.childLanes)!==0,an||R){if(R=ht,R!==null){if(f=u&-u,f&42)f=1;else switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=64;break;case 268435456:f=134217728;break;default:f=0}if(f=f&(R.suspendedLanes|u)?0:f,f!==0&&f!==U.retryLane)throw U.retryLane=f,Lr(a,f),Vn(R,a,f),vw}k.data==="$?"||ky(),l=iy(a,l,u)}else k.data==="$?"?(l.flags|=128,l.child=a.child,l=qM.bind(null,a),k._reactRetry=l,l=null):(a=U.treeContext,gn=Vi(k.nextSibling),Ln=l,Ze=!0,ji=null,ls=!1,a!==null&&(gi[pi++]=Us,gi[pi++]=zs,gi[pi++]=Za,Us=a.id,zs=a.overflow,Za=l),l=ty(l,f.children),l.flags|=4096);return l}return m?(Ur(),m=f.fallback,k=l.mode,U=a.child,W=U.sibling,f=Qr(U,{mode:"hidden",children:f.children}),f.subtreeFlags=U.subtreeFlags&31457280,W!==null?m=Qr(W,m):(m=uo(m,k,u,null),m.flags|=2),m.return=l,f.return=l,f.sibling=m,l.child=f,f=m,m=l.child,k=a.child.memoizedState,k===null?k=Jm(u):(U=k.cachePool,U!==null?(W=Kt._currentValue,U=U.parent!==W?{parent:W,pool:W}:U):U=CE(),k={baseLanes:k.baseLanes|u,cachePool:U}),m.memoizedState=k,m.childLanes=ey(a,R,u),l.memoizedState=Zm,f):(Vr(l),u=a.child,a=u.sibling,u=Qr(u,{mode:"visible",children:f.children}),u.return=l,u.sibling=null,a!==null&&(R=l.deletions,R===null?(l.deletions=[a],l.flags|=16):R.push(a)),l.child=u,l.memoizedState=null,u)}function ty(a,l){return l=ny({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function ny(a,l){return Jw(a,l,0,null)}function iy(a,l,u){return to(l,a.child,null,u),a=ty(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function Cw(a,l,u){a.lanes|=l;var f=a.alternate;f!==null&&(f.lanes|=l),oy(a.return,l,u)}function sy(a,l,u,f,m){var v=a.memoizedState;v===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=l,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function Dw(a,l,u){var f=l.pendingProps,m=f.revealOrder,v=f.tail;if(pn(a,l,f.children,u),f=Qt.current,f&2)f=f&1|2,l.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Cw(a,u,l);else if(a.tag===19)Cw(a,u,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(et(Qt,f),m){case"forwards":for(u=l.child,m=null;u!==null;)a=u.alternate,a!==null&&Hd(a)===null&&(m=u),u=u.sibling;u=m,u===null?(m=l.child,l.child=null):(m=u.sibling,u.sibling=null),sy(l,!1,m,u,v);break;case"backwards":for(u=null,m=l.child,l.child=null;m!==null;){if(a=m.alternate,a!==null&&Hd(a)===null){l.child=m;break}a=m.sibling,m.sibling=u,u=m,m=a}sy(l,!0,u,null,v);break;case"together":sy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Fs(a,l,u){if(a!==null&&(l.dependencies=a.dependencies),Kr|=l.lanes,!(u&l.childLanes))if(a!==null){if(du(a,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,u=Qr(a,a.pendingProps),l.child=u,u.return=l;a.sibling!==null;)a=a.sibling,u=u.sibling=Qr(a,a.pendingProps),u.return=l;u.sibling=null}return l.child}function ry(a,l){return a.lanes&l?!0:(a=a.dependencies,!!(a!==null&&ef(a)))}function IM(a,l,u){switch(l.tag){case 3:ut(l,l.stateNode.containerInfo),Hr(l,Kt,a.memoizedState.cache),eu();break;case 27:case 5:dn(l);break;case 4:ut(l,l.stateNode.containerInfo);break;case 10:Hr(l,l.type,l.memoizedProps.value);break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(Vr(l),l.flags|=128,null):u&l.child.childLanes?Rw(a,l,u):(Vr(l),a=Fs(a,l,u),a!==null?a.sibling:null);Vr(l);break;case 19:var m=(a.flags&128)!==0;if(f=(u&l.childLanes)!==0,f||(du(a,l,u,!1),f=(u&l.childLanes)!==0),m){if(f)return Dw(a,l,u);l.flags|=128}if(m=l.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(Qt,Qt.current),f)break;return null;case 22:case 23:return l.lanes=0,ww(a,l,u);case 24:Hr(l,Kt,a.memoizedState.cache)}return Fs(a,l,u)}function Iw(a,l,u){if(a!==null)if(a.memoizedProps!==l.pendingProps)an=!0;else{if(!ry(a,u)&&!(l.flags&128))return an=!1,IM(a,l,u);an=!!(a.flags&131072)}else an=!1,Ze&&l.flags&1048576&&gE(l,Ld,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var f=l.elementType,m=f._init;if(f=m(f._payload),l.type=f,typeof f=="function")by(f)?(a=ao(f,a),l.tag=1,l=Tw(null,l,f,a,u)):(l.tag=0,l=Xm(null,l,f,a,u));else{if(f!=null){if(m=f.$$typeof,m===S){l.tag=11,l=bw(null,l,f,a,u);break e}else if(m===I){l.tag=14,l=_w(null,l,f,a,u);break e}}throw l=C(f)||f,Error(i(306,l,""))}}return l;case 0:return Xm(a,l,l.type,l.pendingProps,u);case 1:return f=l.type,m=ao(f,l.pendingProps),Tw(a,l,f,m,u);case 3:e:{if(ut(l,l.stateNode.containerInfo),a===null)throw Error(i(387));var v=l.pendingProps;m=l.memoizedState,f=m.element,uy(a,l),pu(l,v,null,u);var R=l.memoizedState;if(v=R.cache,Hr(l,Kt,v),v!==m.cache&&ly(l,[Kt],u,!0),gu(),v=R.element,m.isDehydrated)if(m={element:v,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=m,l.memoizedState=m,l.flags&256){l=xw(a,l,v,u);break e}else if(v!==f){f=fi(Error(i(424)),l),tu(f),l=xw(a,l,v,u);break e}else for(gn=Vi(l.stateNode.containerInfo.firstChild),Ln=l,Ze=!0,ji=null,ls=!0,u=SE(l,null,v,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(eu(),v===f){l=Fs(a,l,u);break e}pn(a,l,v,u)}l=l.child}return l;case 26:return hu(a,l),a===null?(u=MS(l.type,null,l.pendingProps,null))?l.memoizedState=u:Ze||(u=l.type,a=l.pendingProps,f=yf(Re.current).createElement(u),f[nn]=l,f[Wt]=a,mn(f,u,a),Et(f),l.stateNode=f):l.memoizedState=MS(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return dn(l),a===null&&Ze&&(f=l.stateNode=IS(l.type,l.pendingProps,Re.current),Ln=l,ls=!0,gn=Vi(f.firstChild)),f=l.pendingProps.children,a!==null||Ze?pn(a,l,f,u):l.child=to(l,null,f,u),hu(a,l),l.child;case 5:return a===null&&Ze&&((m=f=gn)&&(f=aO(f,l.type,l.pendingProps,ls),f!==null?(l.stateNode=f,Ln=l,gn=Vi(f.firstChild),ls=!1,m=!0):m=!1),m||eo(l)),dn(l),m=l.type,v=l.pendingProps,R=a!==null?a.memoizedProps:null,f=v.children,Gy(m,v)?f=null:R!==null&&Gy(m,R)&&(l.flags|=32),l.memoizedState!==null&&(m=Mm(a,l,SM,null,null,u),Iu._currentValue=m),hu(a,l),pn(a,l,f,u),l.child;case 6:return a===null&&Ze&&((a=u=gn)&&(u=oO(u,l.pendingProps,ls),u!==null?(l.stateNode=u,Ln=l,gn=null,a=!0):a=!1),a||eo(l)),null;case 13:return Rw(a,l,u);case 4:return ut(l,l.stateNode.containerInfo),f=l.pendingProps,a===null?l.child=to(l,null,f,u):pn(a,l,f,u),l.child;case 11:return bw(a,l,l.type,l.pendingProps,u);case 7:return pn(a,l,l.pendingProps,u),l.child;case 8:return pn(a,l,l.pendingProps.children,u),l.child;case 12:return pn(a,l,l.pendingProps.children,u),l.child;case 10:return f=l.pendingProps,Hr(l,l.type,f.value),pn(a,l,f.children,u),l.child;case 9:return m=l.type._context,f=l.pendingProps.children,lo(l),m=Sn(m),f=f(m),l.flags|=1,pn(a,l,f,u),l.child;case 14:return _w(a,l,l.type,l.pendingProps,u);case 15:return Ew(a,l,l.type,l.pendingProps,u);case 19:return Dw(a,l,u);case 22:return ww(a,l,u);case 24:return lo(l),f=Sn(Kt),a===null?(m=km(),m===null&&(m=ht,v=Dm(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=u),m=v),l.memoizedState={parent:f,cache:m},cy(l),Hr(l,Kt,m)):(a.lanes&u&&(uy(a,l),pu(l,null,null,u),gu()),m=a.memoizedState,v=l.memoizedState,m.parent!==f?(m={parent:f,cache:f},l.memoizedState=m,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=m),Hr(l,Kt,f)):(f=v.cache,Hr(l,Kt,f),f!==m.cache&&ly(l,[Kt],u,!0))),pn(a,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}var ay=qe(null),oo=null,qs=null;function Hr(a,l,u){et(ay,l._currentValue),l._currentValue=u}function Gs(a){a._currentValue=ay.current,ft(ay)}function oy(a,l,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),a===u)break;a=a.return}}function ly(a,l,u,f){var m=a.child;for(m!==null&&(m.return=a);m!==null;){var v=m.dependencies;if(v!==null){var R=m.child;v=v.firstContext;e:for(;v!==null;){var k=v;v=m;for(var U=0;U<l.length;U++)if(k.context===l[U]){v.lanes|=u,k=v.alternate,k!==null&&(k.lanes|=u),oy(v.return,u,a),f||(R=null);break e}v=k.next}}else if(m.tag===18){if(R=m.return,R===null)throw Error(i(341));R.lanes|=u,v=R.alternate,v!==null&&(v.lanes|=u),oy(R,u,a),R=null}else R=m.child;if(R!==null)R.return=m;else for(R=m;R!==null;){if(R===a){R=null;break}if(m=R.sibling,m!==null){m.return=R.return,R=m;break}R=R.return}m=R}}function du(a,l,u,f){a=null;for(var m=l,v=!1;m!==null;){if(!v){if(m.flags&524288)v=!0;else if(m.flags&262144)break}if(m.tag===10){var R=m.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var k=m.type;Zn(m.pendingProps.value,R.value)||(a!==null?a.push(k):a=[k])}}else if(m===En.current){if(R=m.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(a!==null?a.push(Iu):a=[Iu])}m=m.return}a!==null&&ly(l,a,u,f),l.flags|=262144}function ef(a){for(a=a.firstContext;a!==null;){if(!Zn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function lo(a){oo=a,qs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Sn(a){return kw(oo,a)}function tf(a,l){return oo===null&&lo(a),kw(a,l)}function kw(a,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},qs===null){if(a===null)throw Error(i(308));qs=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else qs=qs.next=l;return u}var Fr=!1;function cy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uy(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function qr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Gr(a,l,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,St&2){var m=f.pending;return m===null?l.next=l:(l.next=m.next,m.next=l),f.pending=l,l=Pd(a),dE(a,null,u),l}return Od(a,f,l,u),Pd(a)}function fu(a,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194176)!==0)){var f=l.lanes;f&=a.pendingLanes,u|=f,l.lanes=u,Rr(a,u)}}function hy(a,l){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?m=v=R:v=v.next=R,u=u.next}while(u!==null);v===null?m=v=l:v=v.next=l}else m=v=l;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=l}var dy=!1;function gu(){if(dy){var a=Tl;if(a!==null)throw a}}function pu(a,l,u,f){dy=!1;var m=a.updateQueue;Fr=!1;var v=m.firstBaseUpdate,R=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var U=k,W=U.next;U.next=null,R===null?v=W:R.next=W,R=U;var ne=a.alternate;ne!==null&&(ne=ne.updateQueue,k=ne.lastBaseUpdate,k!==R&&(k===null?ne.firstBaseUpdate=W:k.next=W,ne.lastBaseUpdate=U))}if(v!==null){var le=m.baseState;R=0,ne=W=U=null,k=v;do{var X=k.lane&-536870913,te=X!==k.lane;if(te?($e&X)===X:(f&X)===X){X!==0&&X===Al&&(dy=!0),ne!==null&&(ne=ne.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ee=a,Me=k;X=l;var kt=u;switch(Me.tag){case 1:if(Ee=Me.payload,typeof Ee=="function"){le=Ee.call(kt,le,X);break e}le=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Me.payload,X=typeof Ee=="function"?Ee.call(kt,le,X):Ee,X==null)break e;le=O({},le,X);break e;case 2:Fr=!0}}X=k.callback,X!==null&&(a.flags|=64,te&&(a.flags|=8192),te=m.callbacks,te===null?m.callbacks=[X]:te.push(X))}else te={lane:X,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ne===null?(W=ne=te,U=le):ne=ne.next=te,R|=X;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;te=k,k=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);ne===null&&(U=le),m.baseState=U,m.firstBaseUpdate=W,m.lastBaseUpdate=ne,v===null&&(m.shared.lanes=0),Kr|=R,a.lanes=R,a.memoizedState=le}}function Nw(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function Mw(a,l){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Nw(u[a],l)}function mu(a,l){try{var u=l.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&a)===a){f=void 0;var v=u.create,R=u.inst;f=v(),R.destroy=f}u=u.next}while(u!==m)}}catch(k){ct(l,l.return,k)}}function Wr(a,l,u){try{var f=l.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var v=m.next;f=v;do{if((f.tag&a)===a){var R=f.inst,k=R.destroy;if(k!==void 0){R.destroy=void 0,m=l;var U=u;try{k()}catch(W){ct(m,U,W)}}}f=f.next}while(f!==v)}}catch(W){ct(l,l.return,W)}}function Ow(a){var l=a.updateQueue;if(l!==null){var u=a.stateNode;try{Mw(l,u)}catch(f){ct(a,a.return,f)}}}function Pw(a,l,u){u.props=ao(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){ct(a,l,f)}}function co(a,l){try{var u=a.ref;if(u!==null){var f=a.stateNode;switch(a.tag){case 26:case 27:case 5:var m=f;break;default:m=f}typeof u=="function"?a.refCleanup=u(m):u.current=m}}catch(v){ct(a,l,v)}}function Jn(a,l){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(m){ct(a,l,m)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){ct(a,l,m)}else u.current=null}function jw(a){var l=a.type,u=a.memoizedProps,f=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(m){ct(a,a.return,m)}}function Lw(a,l,u){try{var f=a.stateNode;tO(f,a.type,u,l),f[Wt]=l}catch(m){ct(a,a.return,m)}}function Vw(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function fy(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Vw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function gy(a,l,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,l?u.nodeType===8?u.parentNode.insertBefore(a,l):u.insertBefore(a,l):(u.nodeType===8?(l=u.parentNode,l.insertBefore(a,u)):(l=u,l.appendChild(a)),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=mf));else if(f!==4&&f!==27&&(a=a.child,a!==null))for(gy(a,l,u),a=a.sibling;a!==null;)gy(a,l,u),a=a.sibling}function nf(a,l,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,l?u.insertBefore(a,l):u.appendChild(a);else if(f!==4&&f!==27&&(a=a.child,a!==null))for(nf(a,l,u),a=a.sibling;a!==null;)nf(a,l,u),a=a.sibling}var Ws=!1,Dt=!1,py=!1,Uw=typeof WeakSet=="function"?WeakSet:Set,on=null,zw=!1;function kM(a,l){if(a=a.containerInfo,Fy=Sf,a=iE(a),ym(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var R=0,k=-1,U=-1,W=0,ne=0,le=a,X=null;t:for(;;){for(var te;le!==u||m!==0&&le.nodeType!==3||(k=R+m),le!==v||f!==0&&le.nodeType!==3||(U=R+f),le.nodeType===3&&(R+=le.nodeValue.length),(te=le.firstChild)!==null;)X=le,le=te;for(;;){if(le===a)break t;if(X===u&&++W===m&&(k=R),X===v&&++ne===f&&(U=R),(te=le.nextSibling)!==null)break;le=X,X=le.parentNode}le=te}u=k===-1||U===-1?null:{start:k,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(qy={focusedElem:a,selectionRange:u},Sf=!1,on=l;on!==null;)if(l=on,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,on=a;else for(;on!==null;){switch(l=on,v=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if(a&1024&&v!==null){a=void 0,u=l,m=v.memoizedProps,v=v.memoizedState,f=u.stateNode;try{var Ee=ao(u.type,m,u.elementType===u.type);a=f.getSnapshotBeforeUpdate(Ee,v),f.__reactInternalSnapshotBeforeUpdate=a}catch(Me){ct(u,u.return,Me)}}break;case 3:if(a&1024){if(a=l.stateNode.containerInfo,u=a.nodeType,u===9)Yy(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Yy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(a&1024)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,on=a;break}on=l.return}return Ee=zw,zw=!1,Ee}function Bw(a,l,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Ys(a,u),f&4&&mu(5,u);break;case 1:if(Ys(a,u),f&4)if(a=u.stateNode,l===null)try{a.componentDidMount()}catch(k){ct(u,u.return,k)}else{var m=ao(u.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(m,l,a.__reactInternalSnapshotBeforeUpdate)}catch(k){ct(u,u.return,k)}}f&64&&Ow(u),f&512&&co(u,u.return);break;case 3:if(Ys(a,u),f&64&&(f=u.updateQueue,f!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{Mw(f,a)}catch(k){ct(u,u.return,k)}}break;case 26:Ys(a,u),f&512&&co(u,u.return);break;case 27:case 5:Ys(a,u),l===null&&f&4&&jw(u),f&512&&co(u,u.return);break;case 12:Ys(a,u);break;case 13:Ys(a,u),f&4&&qw(a,u);break;case 22:if(m=u.memoizedState!==null||Ws,!m){l=l!==null&&l.memoizedState!==null||Dt;var v=Ws,R=Dt;Ws=m,(Dt=l)&&!R?$r(a,u,(u.subtreeFlags&8772)!==0):Ys(a,u),Ws=v,Dt=R}f&512&&(u.memoizedProps.mode==="manual"?co(u,u.return):Jn(u,u.return));break;default:Ys(a,u)}}function Hw(a){var l=a.alternate;l!==null&&(a.alternate=null,Hw(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Ua(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ht=null,ei=!1;function $s(a,l,u){for(u=u.child;u!==null;)Fw(a,l,u),u=u.sibling}function Fw(a,l,u){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(wr,u)}catch{}switch(u.tag){case 26:Dt||Jn(u,l),$s(a,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Dt||Jn(u,l);var f=Ht,m=ei;for(Ht=u.stateNode,$s(a,l,u),u=u.stateNode,l=u.attributes;l.length;)u.removeAttributeNode(l[0]);Ua(u),Ht=f,ei=m;break;case 5:Dt||Jn(u,l);case 6:m=Ht;var v=ei;if(Ht=null,$s(a,l,u),Ht=m,ei=v,Ht!==null)if(ei)try{a=Ht,f=u.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)}catch(R){ct(u,l,R)}else try{Ht.removeChild(u.stateNode)}catch(R){ct(u,l,R)}break;case 18:Ht!==null&&(ei?(l=Ht,u=u.stateNode,l.nodeType===8?$y(l.parentNode,u):l.nodeType===1&&$y(l,u),Ou(l)):$y(Ht,u.stateNode));break;case 4:f=Ht,m=ei,Ht=u.stateNode.containerInfo,ei=!0,$s(a,l,u),Ht=f,ei=m;break;case 0:case 11:case 14:case 15:Dt||Wr(2,u,l),Dt||Wr(4,u,l),$s(a,l,u);break;case 1:Dt||(Jn(u,l),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Pw(u,l,f)),$s(a,l,u);break;case 21:$s(a,l,u);break;case 22:Dt||Jn(u,l),Dt=(f=Dt)||u.memoizedState!==null,$s(a,l,u),Dt=f;break;default:$s(a,l,u)}}function qw(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ou(a)}catch(u){ct(l,l.return,u)}}function NM(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new Uw),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new Uw),l;default:throw Error(i(435,a.tag))}}function my(a,l){var u=NM(a);l.forEach(function(f){var m=GM.bind(null,a,f);u.has(f)||(u.add(f),f.then(m,m))})}function yi(a,l){var u=l.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f],v=a,R=l,k=R;e:for(;k!==null;){switch(k.tag){case 27:case 5:Ht=k.stateNode,ei=!1;break e;case 3:Ht=k.stateNode.containerInfo,ei=!0;break e;case 4:Ht=k.stateNode.containerInfo,ei=!0;break e}k=k.return}if(Ht===null)throw Error(i(160));Fw(v,R,m),Ht=null,ei=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Gw(l,a),l=l.sibling}var Li=null;function Gw(a,l){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:yi(l,a),vi(a),f&4&&(Wr(3,a,a.return),mu(3,a),Wr(5,a,a.return));break;case 1:yi(l,a),vi(a),f&512&&(Dt||u===null||Jn(u,u.return)),f&64&&Ws&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var m=Li;if(yi(l,a),vi(a),f&512&&(Dt||u===null||Jn(u,u.return)),f&4){var v=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){e:{f=a.type,u=a.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Dr]||v[nn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(f),m.head.insertBefore(v,m.querySelector("head > title"))),mn(v,f,u),v[nn]=a,Et(v),f=v;break e;case"link":var R=jS("link","href",m).get(f+(u.href||""));if(R){for(var k=0;k<R.length;k++)if(v=R[k],v.getAttribute("href")===(u.href==null?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(k,1);break t}}v=m.createElement(f),mn(v,f,u),m.head.appendChild(v);break;case"meta":if(R=jS("meta","content",m).get(f+(u.content||""))){for(k=0;k<R.length;k++)if(v=R[k],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(k,1);break t}}v=m.createElement(f),mn(v,f,u),m.head.appendChild(v);break;default:throw Error(i(468,f))}v[nn]=a,Et(v),f=v}a.stateNode=f}else LS(m,a.type,a.stateNode);else a.stateNode=PS(m,f,a.memoizedProps);else v!==f?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,f===null?LS(m,a.type,a.stateNode):PS(m,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Lw(a,a.memoizedProps,u.memoizedProps)}break;case 27:if(f&4&&a.alternate===null){m=a.stateNode,v=a.memoizedProps;try{for(var U=m.firstChild;U;){var W=U.nextSibling,ne=U.nodeName;U[Dr]||ne==="HEAD"||ne==="BODY"||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&U.rel.toLowerCase()==="stylesheet"||m.removeChild(U),U=W}for(var le=a.type,X=m.attributes;X.length;)m.removeAttributeNode(X[0]);mn(m,le,v),m[nn]=a,m[Wt]=v}catch(Ee){ct(a,a.return,Ee)}}case 5:if(yi(l,a),vi(a),f&512&&(Dt||u===null||Jn(u,u.return)),a.flags&32){m=a.stateNode;try{li(m,"")}catch(Ee){ct(a,a.return,Ee)}}f&4&&a.stateNode!=null&&(m=a.memoizedProps,Lw(a,m,u!==null?u.memoizedProps:m)),f&1024&&(py=!0);break;case 6:if(yi(l,a),vi(a),f&4){if(a.stateNode===null)throw Error(i(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(Ee){ct(a,a.return,Ee)}}break;case 3:if(_f=null,m=Li,Li=vf(l.containerInfo),yi(l,a),Li=m,vi(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Ou(l.containerInfo)}catch(Ee){ct(a,a.return,Ee)}py&&(py=!1,Ww(a));break;case 4:f=Li,Li=vf(a.stateNode.containerInfo),yi(l,a),vi(a),Li=f;break;case 12:yi(l,a),vi(a);break;case 13:yi(l,a),vi(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ty=zn()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,my(a,f)));break;case 22:if(f&512&&(Dt||u===null||Jn(u,u.return)),U=a.memoizedState!==null,W=u!==null&&u.memoizedState!==null,ne=Ws,le=Dt,Ws=ne||U,Dt=le||W,yi(l,a),Dt=le,Ws=ne,vi(a),l=a.stateNode,l._current=a,l._visibility&=-3,l._visibility|=l._pendingVisibility&2,f&8192&&(l._visibility=U?l._visibility&-2:l._visibility|1,U&&(l=Ws||Dt,u===null||W||l||Dl(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))e:for(u=null,l=a;;){if(l.tag===5||l.tag===26||l.tag===27){if(u===null){W=u=l;try{if(m=W.stateNode,U)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{R=W.stateNode,k=W.memoizedProps.style;var te=k!=null&&k.hasOwnProperty("display")?k.display:null;R.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ee){ct(W,W.return,Ee)}}}else if(l.tag===6){if(u===null){W=l;try{W.stateNode.nodeValue=U?"":W.memoizedProps}catch(Ee){ct(W,W.return,Ee)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,my(a,u))));break;case 19:yi(l,a),vi(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,my(a,f)));break;case 21:break;default:yi(l,a),vi(a)}}function vi(a){var l=a.flags;if(l&2){try{if(a.tag!==27){e:{for(var u=a.return;u!==null;){if(Vw(u)){var f=u;break e}u=u.return}throw Error(i(160))}switch(f.tag){case 27:var m=f.stateNode,v=fy(a);nf(a,v,m);break;case 5:var R=f.stateNode;f.flags&32&&(li(R,""),f.flags&=-33);var k=fy(a);nf(a,k,R);break;case 3:case 4:var U=f.stateNode.containerInfo,W=fy(a);gy(a,W,U);break;default:throw Error(i(161))}}}catch(ne){ct(a,a.return,ne)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Ww(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;Ww(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Ys(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Bw(a,l.alternate,l),l=l.sibling}function Dl(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Wr(4,l,l.return),Dl(l);break;case 1:Jn(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&Pw(l,l.return,u),Dl(l);break;case 26:case 27:case 5:Jn(l,l.return),Dl(l);break;case 22:Jn(l,l.return),l.memoizedState===null&&Dl(l);break;default:Dl(l)}a=a.sibling}}function $r(a,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,m=a,v=l,R=v.flags;switch(v.tag){case 0:case 11:case 15:$r(m,v,u),mu(4,v);break;case 1:if($r(m,v,u),f=v,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(W){ct(f,f.return,W)}if(f=v,m=f.updateQueue,m!==null){var k=f.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)Nw(U[m],k)}catch(W){ct(f,f.return,W)}}u&&R&64&&Ow(v),co(v,v.return);break;case 26:case 27:case 5:$r(m,v,u),u&&f===null&&R&4&&jw(v),co(v,v.return);break;case 12:$r(m,v,u);break;case 13:$r(m,v,u),u&&R&4&&qw(m,v);break;case 22:v.memoizedState===null&&$r(m,v,u),co(v,v.return);break;default:$r(m,v,u)}l=l.sibling}}function yy(a,l){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&au(u))}function vy(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&au(a))}function Yr(a,l,u,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)$w(a,l,u,f),l=l.sibling}function $w(a,l,u,f){var m=l.flags;switch(l.tag){case 0:case 11:case 15:Yr(a,l,u,f),m&2048&&mu(9,l);break;case 3:Yr(a,l,u,f),m&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&au(a)));break;case 12:if(m&2048){Yr(a,l,u,f),a=l.stateNode;try{var v=l.memoizedProps,R=v.id,k=v.onPostCommit;typeof k=="function"&&k(R,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(U){ct(l,l.return,U)}}else Yr(a,l,u,f);break;case 23:break;case 22:v=l.stateNode,l.memoizedState!==null?v._visibility&4?Yr(a,l,u,f):yu(a,l):v._visibility&4?Yr(a,l,u,f):(v._visibility|=4,Il(a,l,u,f,(l.subtreeFlags&10256)!==0)),m&2048&&yy(l.alternate,l);break;case 24:Yr(a,l,u,f),m&2048&&vy(l.alternate,l);break;default:Yr(a,l,u,f)}}function Il(a,l,u,f,m){for(m=m&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var v=a,R=l,k=u,U=f,W=R.flags;switch(R.tag){case 0:case 11:case 15:Il(v,R,k,U,m),mu(8,R);break;case 23:break;case 22:var ne=R.stateNode;R.memoizedState!==null?ne._visibility&4?Il(v,R,k,U,m):yu(v,R):(ne._visibility|=4,Il(v,R,k,U,m)),m&&W&2048&&yy(R.alternate,R);break;case 24:Il(v,R,k,U,m),m&&W&2048&&vy(R.alternate,R);break;default:Il(v,R,k,U,m)}l=l.sibling}}function yu(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=a,f=l,m=f.flags;switch(f.tag){case 22:yu(u,f),m&2048&&yy(f.alternate,f);break;case 24:yu(u,f),m&2048&&vy(f.alternate,f);break;default:yu(u,f)}l=l.sibling}}var vu=8192;function kl(a){if(a.subtreeFlags&vu)for(a=a.child;a!==null;)Yw(a),a=a.sibling}function Yw(a){switch(a.tag){case 26:kl(a),a.flags&vu&&a.memoizedState!==null&&_O(Li,a.memoizedState,a.memoizedProps);break;case 5:kl(a);break;case 3:case 4:var l=Li;Li=vf(a.stateNode.containerInfo),kl(a),Li=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=vu,vu=16777216,kl(a),vu=l):kl(a));break;default:kl(a)}}function Qw(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function bu(a){var l=a.deletions;if(a.flags&16){if(l!==null)for(var u=0;u<l.length;u++){var f=l[u];on=f,Xw(f,a)}Qw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Kw(a),a=a.sibling}function Kw(a){switch(a.tag){case 0:case 11:case 15:bu(a),a.flags&2048&&Wr(9,a,a.return);break;case 3:bu(a);break;case 12:bu(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&4&&(a.return===null||a.return.tag!==13)?(l._visibility&=-5,sf(a)):bu(a);break;default:bu(a)}}function sf(a){var l=a.deletions;if(a.flags&16){if(l!==null)for(var u=0;u<l.length;u++){var f=l[u];on=f,Xw(f,a)}Qw(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Wr(8,l,l.return),sf(l);break;case 22:u=l.stateNode,u._visibility&4&&(u._visibility&=-5,sf(l));break;default:sf(l)}a=a.sibling}}function Xw(a,l){for(;on!==null;){var u=on;switch(u.tag){case 0:case 11:case 15:Wr(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:au(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,on=f;else e:for(u=a;on!==null;){f=on;var m=f.sibling,v=f.return;if(Hw(f),f===u){on=null;break e}if(m!==null){m.return=v,on=m;break e}on=v}}}function MM(a,l,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(a,l,u,f){return new MM(a,l,u,f)}function by(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Qr(a,l){var u=a.alternate;return u===null?(u=bi(a.tag,l,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=l,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&31457280,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,l=a.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function Zw(a,l){a.flags&=31457282;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,l=u.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function rf(a,l,u,f,m,v){var R=0;if(f=a,typeof a=="function")by(a)&&(R=1);else if(typeof a=="string")R=vO(a,u,hn.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case h:return uo(u.children,m,v,l);case d:R=8,m|=24;break;case g:return a=bi(12,u,l,m|2),a.elementType=g,a.lanes=v,a;case T:return a=bi(13,u,l,m),a.elementType=T,a.lanes=v,a;case A:return a=bi(19,u,l,m),a.elementType=A,a.lanes=v,a;case j:return Jw(u,m,v,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case y:case _:R=10;break e;case b:R=9;break e;case S:R=11;break e;case I:R=14;break e;case M:R=16,f=null;break e}R=29,u=Error(i(130,a===null?"null":typeof a,"")),f=null}return l=bi(R,u,l,m),l.elementType=a,l.type=f,l.lanes=v,l}function uo(a,l,u,f){return a=bi(7,a,f,l),a.lanes=u,a}function Jw(a,l,u,f){a=bi(22,a,f,l),a.elementType=j,a.lanes=u;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var v=m._current;if(v===null)throw Error(i(456));if(!(m._pendingVisibility&2)){var R=Lr(v,2);R!==null&&(m._pendingVisibility|=2,Vn(R,v,2))}},attach:function(){var v=m._current;if(v===null)throw Error(i(456));if(m._pendingVisibility&2){var R=Lr(v,2);R!==null&&(m._pendingVisibility&=-3,Vn(R,v,2))}}};return a.stateNode=m,a}function _y(a,l,u){return a=bi(6,a,null,l),a.lanes=u,a}function Ey(a,l,u){return l=bi(4,a.children!==null?a.children:[],a.key,l),l.lanes=u,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function Qs(a){a.flags|=4}function eS(a,l){if(l.type!=="stylesheet"||l.state.loading&4)a.flags&=-16777217;else if(a.flags|=16777216,!VS(l)){if(l=mi.current,l!==null&&(($e&4194176)===$e?cs!==null:($e&62914560)!==$e&&!($e&536870912)||l!==cs))throw iu=xm,yE;a.flags|=8192}}function af(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Tr():536870912,a.lanes|=l,Ml|=l)}function _u(a,l){if(!Ze)switch(a.tailMode){case"hidden":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function wt(a){var l=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(l)for(var m=a.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&31457280,f|=m.flags&31457280,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=f,a.childLanes=u,l}function OM(a,l,u){var f=l.pendingProps;switch(Am(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(l),null;case 1:return wt(l),null;case 3:return u=l.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Gs(Kt),gt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Jc(l)?Qs(l):a===null||a.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,ji!==null&&(Dy(ji),ji=null))),wt(l),null;case 26:return u=l.memoizedState,a===null?(Qs(l),u!==null?(wt(l),eS(l,u)):(wt(l),l.flags&=-16777217)):u?u!==a.memoizedState?(Qs(l),wt(l),eS(l,u)):(wt(l),l.flags&=-16777217):(a.memoizedProps!==f&&Qs(l),wt(l),l.flags&=-16777217),null;case 27:Qi(l),u=Re.current;var m=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==f&&Qs(l);else{if(!f){if(l.stateNode===null)throw Error(i(166));return wt(l),null}a=hn.current,Jc(l)?pE(l):(a=IS(m,f,u),l.stateNode=a,Qs(l))}return wt(l),null;case 5:if(Qi(l),u=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==f&&Qs(l);else{if(!f){if(l.stateNode===null)throw Error(i(166));return wt(l),null}if(a=hn.current,Jc(l))pE(l);else{switch(m=yf(Re.current),a){case 1:a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=m.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?m.createElement(u,{is:f.is}):m.createElement(u)}}a[nn]=l,a[Wt]=f;e:for(m=l.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===l)break e;for(;m.sibling===null;){if(m.return===null||m.return===l)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}l.stateNode=a;e:switch(mn(a,u,f),u){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Qs(l)}}return wt(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==f&&Qs(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(i(166));if(a=Re.current,Jc(l)){if(a=l.stateNode,u=l.memoizedProps,f=null,m=Ln,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}a[nn]=l,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||AS(a.nodeValue,u)),a||eo(l)}else a=yf(a).createTextNode(f),a[nn]=l,l.stateNode=a}return wt(l),null;case 13:if(f=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(m=Jc(l),f!==null&&f.dehydrated!==null){if(a===null){if(!m)throw Error(i(318));if(m=l.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[nn]=l}else eu(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;wt(l),m=!1}else ji!==null&&(Dy(ji),ji=null),m=!0;if(!m)return l.flags&256?(Bs(l),l):(Bs(l),null)}if(Bs(l),l.flags&128)return l.lanes=u,l;if(u=f!==null,a=a!==null&&a.memoizedState!==null,u){f=l.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==m&&(f.flags|=2048)}return u!==a&&u&&(l.child.flags|=8192),af(l,l.updateQueue),wt(l),null;case 4:return gt(),a===null&&zy(l.stateNode.containerInfo),wt(l),null;case 10:return Gs(l.type),wt(l),null;case 19:if(ft(Qt),m=l.memoizedState,m===null)return wt(l),null;if(f=(l.flags&128)!==0,v=m.rendering,v===null)if(f)_u(m,!1);else{if(It!==0||a!==null&&a.flags&128)for(a=l.child;a!==null;){if(v=Hd(a),v!==null){for(l.flags|=128,_u(m,!1),a=v.updateQueue,l.updateQueue=a,af(l,a),l.subtreeFlags=0,a=u,u=l.child;u!==null;)Zw(u,a),u=u.sibling;return et(Qt,Qt.current&1|2),l.child}a=a.sibling}m.tail!==null&&zn()>of&&(l.flags|=128,f=!0,_u(m,!1),l.lanes=4194304)}else{if(!f)if(a=Hd(v),a!==null){if(l.flags|=128,f=!0,a=a.updateQueue,l.updateQueue=a,af(l,a),_u(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Ze)return wt(l),null}else 2*zn()-m.renderingStartTime>of&&u!==536870912&&(l.flags|=128,f=!0,_u(m,!1),l.lanes=4194304);m.isBackwards?(v.sibling=l.child,l.child=v):(a=m.last,a!==null?a.sibling=v:l.child=v,m.last=v)}return m.tail!==null?(l=m.tail,m.rendering=l,m.tail=l.sibling,m.renderingStartTime=zn(),l.sibling=null,a=Qt.current,et(Qt,f?a&1|2:a&1),l):(wt(l),null);case 22:case 23:return Bs(l),Cm(),f=l.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?u&536870912&&!(l.flags&128)&&(wt(l),l.subtreeFlags&6&&(l.flags|=8192)):wt(l),u=l.updateQueue,u!==null&&af(l,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048),a!==null&&ft(no),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Gs(Kt),wt(l),null;case 25:return null}throw Error(i(156,l.tag))}function PM(a,l){switch(Am(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Gs(Kt),gt(),a=l.flags,a&65536&&!(a&128)?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Qi(l),null;case 13:if(Bs(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));eu()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ft(Qt),null;case 4:return gt(),null;case 10:return Gs(l.type),null;case 22:case 23:return Bs(l),Cm(),a!==null&&ft(no),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Gs(Kt),null;case 25:return null;default:return null}}function tS(a,l){switch(Am(l),l.tag){case 3:Gs(Kt),gt();break;case 26:case 27:case 5:Qi(l);break;case 4:gt();break;case 13:Bs(l);break;case 19:ft(Qt);break;case 10:Gs(l.type);break;case 22:case 23:Bs(l),Cm(),a!==null&&ft(no);break;case 24:Gs(Kt)}}var jM={getCacheForType:function(a){var l=Sn(Kt),u=l.data.get(a);return u===void 0&&(u=a(),l.data.set(a,u)),u}},LM=typeof WeakMap=="function"?WeakMap:Map,St=0,ht=null,Ve=null,$e=0,dt=0,ti=null,Ks=!1,Nl=!1,wy=!1,Xs=0,It=0,Kr=0,ho=0,Sy=0,_i=0,Ml=0,Eu=null,hs=null,Ay=!1,Ty=0,of=1/0,lf=null,Xr=null,cf=!1,fo=null,wu=0,xy=0,Ry=null,Su=0,Cy=null;function ni(){if(St&2&&$e!==0)return $e&-$e;if(D.T!==null){var a=Al;return a!==0?a:jy()}return gd()}function nS(){_i===0&&(_i=!($e&536870912)||Ze?Pc():536870912);var a=mi.current;return a!==null&&(a.flags|=32),_i}function Vn(a,l,u){(a===ht&&dt===2||a.cancelPendingCommit!==null)&&(Ol(a,0),Zs(a,$e,_i,!1)),Pt(a,u),(!(St&2)||a!==ht)&&(a===ht&&(!(St&2)&&(ho|=u),It===4&&Zs(a,$e,_i,!1)),ds(a))}function iS(a,l,u){if(St&6)throw Error(i(327));var f=!u&&(l&60)===0&&(l&a.expiredLanes)===0||Ar(a,l),m=f?zM(a,l):Ny(a,l,!0),v=f;do{if(m===0){Nl&&!f&&Zs(a,l,0,!1);break}else if(m===6)Zs(a,l,0,!Ks);else{if(u=a.current.alternate,v&&!VM(u)){m=Ny(a,l,!1),v=!1;continue}if(m===2){if(v=l,a.errorRecoveryDisabledLanes&v)var R=0;else R=a.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var k=a;m=Eu;var U=k.current.memoizedState.isDehydrated;if(U&&(Ol(k,R).flags|=256),R=Ny(k,R,!1),R!==2){if(wy&&!U){k.errorRecoveryDisabledLanes|=v,ho|=v,m=4;break e}v=hs,hs=m,v!==null&&Dy(v)}m=R}if(v=!1,m!==2)continue}}if(m===1){Ol(a,0),Zs(a,l,0,!0);break}e:{switch(f=a,m){case 0:case 1:throw Error(i(345));case 4:if((l&4194176)===l){Zs(f,l,_i,!Ks);break e}break;case 2:hs=null;break;case 3:case 5:break;default:throw Error(i(329))}if(f.finishedWork=u,f.finishedLanes=l,(l&62914560)===l&&(v=Ty+300-zn(),10<v)){if(Zs(f,l,_i,!Ks),ai(f,0)!==0)break e;f.timeoutHandle=RS(sS.bind(null,f,u,hs,lf,Ay,l,_i,ho,Ml,Ks,2,-0,0),v);break e}sS(f,u,hs,lf,Ay,l,_i,ho,Ml,Ks,0,-0,0)}}break}while(!0);ds(a)}function Dy(a){hs===null?hs=a:hs.push.apply(hs,a)}function sS(a,l,u,f,m,v,R,k,U,W,ne,le,X){var te=l.subtreeFlags;if((te&8192||(te&16785408)===16785408)&&(Du={stylesheets:null,count:0,unsuspend:bO},Yw(l),l=EO(),l!==null)){a.cancelPendingCommit=l(hS.bind(null,a,u,f,m,R,k,U,1,le,X)),Zs(a,v,R,!W);return}hS(a,u,f,m,R,k,U,ne,le,X)}function VM(a){for(var l=a;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!Zn(v(),m))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Zs(a,l,u,f){l&=~Sy,l&=~ho,a.suspendedLanes|=l,a.pingedLanes&=~l,f&&(a.warmLanes|=l),f=a.expirationTimes;for(var m=l;0<m;){var v=31-On(m),R=1<<v;f[v]=-1,m&=~R}u!==0&&xr(a,u,l)}function uf(){return St&6?!0:(Au(0),!1)}function Iy(){if(Ve!==null){if(dt===0)var a=Ve.return;else a=Ve,qs=oo=null,jm(a),wl=null,su=0,a=Ve;for(;a!==null;)tS(a.alternate,a),a=a.return;Ve=null}}function Ol(a,l){a.finishedWork=null,a.finishedLanes=0;var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,iO(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Iy(),ht=a,Ve=u=Qr(a.current,null),$e=l,dt=0,ti=null,Ks=!1,Nl=Ar(a,l),wy=!1,Ml=_i=Sy=ho=Kr=It=0,hs=Eu=null,Ay=!1,l&8&&(l|=l&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=l;0<f;){var m=31-On(f),v=1<<m;l|=a[m],f&=~v}return Xs=l,Md(),u}function rS(a,l){je=null,D.H=us,l===nu?(l=_E(),dt=3):l===yE?(l=_E(),dt=4):dt=l===vw?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ti=l,Ve===null&&(It=1,Jd(a,fi(l,a.current)))}function aS(){var a=D.H;return D.H=us,a===null?us:a}function oS(){var a=D.A;return D.A=jM,a}function ky(){It=4,Ks||($e&4194176)!==$e&&mi.current!==null||(Nl=!0),!(Kr&134217727)&&!(ho&134217727)||ht===null||Zs(ht,$e,_i,!1)}function Ny(a,l,u){var f=St;St|=2;var m=aS(),v=oS();(ht!==a||$e!==l)&&(lf=null,Ol(a,l)),l=!1;var R=It;e:do try{if(dt!==0&&Ve!==null){var k=Ve,U=ti;switch(dt){case 8:Iy(),R=6;break e;case 3:case 2:case 6:mi.current===null&&(l=!0);var W=dt;if(dt=0,ti=null,Pl(a,k,U,W),u&&Nl){R=0;break e}break;default:W=dt,dt=0,ti=null,Pl(a,k,U,W)}}UM(),R=It;break}catch(ne){rS(a,ne)}while(!0);return l&&a.shellSuspendCounter++,qs=oo=null,St=f,D.H=m,D.A=v,Ve===null&&(ht=null,$e=0,Md()),R}function UM(){for(;Ve!==null;)lS(Ve)}function zM(a,l){var u=St;St|=2;var f=aS(),m=oS();ht!==a||$e!==l?(lf=null,of=zn()+500,Ol(a,l)):Nl=Ar(a,l);e:do try{if(dt!==0&&Ve!==null){l=Ve;var v=ti;t:switch(dt){case 1:dt=0,ti=null,Pl(a,l,v,1);break;case 2:if(vE(v)){dt=0,ti=null,cS(l);break}l=function(){dt===2&&ht===a&&(dt=7),ds(a)},v.then(l,l);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:vE(v)?(dt=0,ti=null,cS(l)):(dt=0,ti=null,Pl(a,l,v,7));break;case 5:var R=null;switch(Ve.tag){case 26:R=Ve.memoizedState;case 5:case 27:var k=Ve;if(!R||VS(R)){dt=0,ti=null;var U=k.sibling;if(U!==null)Ve=U;else{var W=k.return;W!==null?(Ve=W,hf(W)):Ve=null}break t}}dt=0,ti=null,Pl(a,l,v,5);break;case 6:dt=0,ti=null,Pl(a,l,v,6);break;case 8:Iy(),It=6;break e;default:throw Error(i(462))}}BM();break}catch(ne){rS(a,ne)}while(!0);return qs=oo=null,D.H=f,D.A=m,St=u,Ve!==null?0:(ht=null,$e=0,Md(),It)}function BM(){for(;Ve!==null&&!am();)lS(Ve)}function lS(a){var l=Iw(a.alternate,a,Xs);a.memoizedProps=a.pendingProps,l===null?hf(a):Ve=l}function cS(a){var l=a,u=l.alternate;switch(l.tag){case 15:case 0:l=Aw(u,l,l.pendingProps,l.type,void 0,$e);break;case 11:l=Aw(u,l,l.pendingProps,l.type.render,l.ref,$e);break;case 5:jm(l);default:tS(u,l),l=Ve=Zw(l,Xs),l=Iw(u,l,Xs)}a.memoizedProps=a.pendingProps,l===null?hf(a):Ve=l}function Pl(a,l,u,f){qs=oo=null,jm(l),wl=null,su=0;var m=l.return;try{if(DM(a,m,l,u,$e)){It=1,Jd(a,fi(u,a.current)),Ve=null;return}}catch(v){if(m!==null)throw Ve=m,v;It=1,Jd(a,fi(u,a.current)),Ve=null;return}l.flags&32768?(Ze||f===1?a=!0:Nl||$e&536870912?a=!1:(Ks=a=!0,(f===2||f===3||f===6)&&(f=mi.current,f!==null&&f.tag===13&&(f.flags|=16384))),uS(l,a)):hf(l)}function hf(a){var l=a;do{if(l.flags&32768){uS(l,Ks);return}a=l.return;var u=OM(l.alternate,l,Xs);if(u!==null){Ve=u;return}if(l=l.sibling,l!==null){Ve=l;return}Ve=l=a}while(l!==null);It===0&&(It=5)}function uS(a,l){do{var u=PM(a.alternate,a);if(u!==null){u.flags&=32767,Ve=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(a=a.sibling,a!==null)){Ve=a;return}Ve=a=u}while(a!==null);It=6,Ve=null}function hS(a,l,u,f,m,v,R,k,U,W){var ne=D.T,le=he.p;try{he.p=2,D.T=null,HM(a,l,u,f,le,m,v,R,k,U,W)}finally{D.T=ne,he.p=le}}function HM(a,l,u,f,m,v,R,k){do jl();while(fo!==null);if(St&6)throw Error(i(327));var U=a.finishedWork;if(f=a.finishedLanes,U===null)return null;if(a.finishedWork=null,a.finishedLanes=0,U===a.current)throw Error(i(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var W=U.lanes|U.childLanes;if(W|=Em,dd(a,f,W,v,R,k),a===ht&&(Ve=ht=null,$e=0),!(U.subtreeFlags&10256)&&!(U.flags&10256)||cf||(cf=!0,xy=W,Ry=u,WM(Ds,function(){return jl(),null})),u=(U.flags&15990)!==0,U.subtreeFlags&15990||u?(u=D.T,D.T=null,v=he.p,he.p=2,R=St,St|=4,kM(a,U),Gw(U,a),dM(qy,a.containerInfo),Sf=!!Fy,qy=Fy=null,a.current=U,Bw(a,U.alternate,U),kc(),St=R,he.p=v,D.T=u):a.current=U,cf?(cf=!1,fo=a,wu=f):dS(a,W),W=a.pendingLanes,W===0&&(Xr=null),Mc(U.stateNode),ds(a),l!==null)for(m=a.onRecoverableError,U=0;U<l.length;U++)W=l[U],m(W.value,{componentStack:W.stack});return wu&3&&jl(),W=a.pendingLanes,f&4194218&&W&42?a===Cy?Su++:(Su=0,Cy=a):Su=0,Au(0),null}function dS(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,au(l)))}function jl(){if(fo!==null){var a=fo,l=xy;xy=0;var u=fd(wu),f=D.T,m=he.p;try{if(he.p=32>u?32:u,D.T=null,fo===null)var v=!1;else{u=Ry,Ry=null;var R=fo,k=wu;if(fo=null,wu=0,St&6)throw Error(i(331));var U=St;if(St|=4,Kw(R.current),$w(R,R.current,k,u),St=U,Au(0,!1),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(wr,R)}catch{}v=!0}return v}finally{he.p=m,D.T=f,dS(a,l)}}return!1}function fS(a,l,u){l=fi(u,l),l=Km(a.stateNode,l,2),a=Gr(a,l,2),a!==null&&(Pt(a,2),ds(a))}function ct(a,l,u){if(a.tag===3)fS(a,a,u);else for(;l!==null;){if(l.tag===3){fS(l,a,u);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xr===null||!Xr.has(f))){a=fi(u,a),u=mw(2),f=Gr(l,u,2),f!==null&&(yw(u,f,l,a),Pt(f,2),ds(f));break}}l=l.return}}function My(a,l,u){var f=a.pingCache;if(f===null){f=a.pingCache=new LM;var m=new Set;f.set(l,m)}else m=f.get(l),m===void 0&&(m=new Set,f.set(l,m));m.has(u)||(wy=!0,m.add(u),a=FM.bind(null,a,l,u),l.then(a,a))}function FM(a,l,u){var f=a.pingCache;f!==null&&f.delete(l),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,ht===a&&($e&u)===u&&(It===4||It===3&&($e&62914560)===$e&&300>zn()-Ty?!(St&2)&&Ol(a,0):Sy|=u,Ml===$e&&(Ml=0)),ds(a)}function gS(a,l){l===0&&(l=Tr()),a=Lr(a,l),a!==null&&(Pt(a,l),ds(a))}function qM(a){var l=a.memoizedState,u=0;l!==null&&(u=l.retryLane),gS(a,u)}function GM(a,l){var u=0;switch(a.tag){case 13:var f=a.stateNode,m=a.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(l),gS(a,u)}function WM(a,l){return Cs(a,l)}var df=null,Ll=null,Oy=!1,ff=!1,Py=!1,go=0;function ds(a){a!==Ll&&a.next===null&&(Ll===null?df=Ll=a:Ll=Ll.next=a),ff=!0,Oy||(Oy=!0,YM($M))}function Au(a,l){if(!Py&&ff){Py=!0;do for(var u=!1,f=df;f!==null;){if(a!==0){var m=f.pendingLanes;if(m===0)var v=0;else{var R=f.suspendedLanes,k=f.pingedLanes;v=(1<<31-On(42|a)+1)-1,v&=m&~(R&~k),v=v&201326677?v&201326677|1:v?v|2:0}v!==0&&(u=!0,yS(f,v))}else v=$e,v=ai(f,f===ht?v:0),!(v&3)||Ar(f,v)||(u=!0,yS(f,v));f=f.next}while(u);Py=!1}}function $M(){ff=Oy=!1;var a=0;go!==0&&(nO()&&(a=go),go=0);for(var l=zn(),u=null,f=df;f!==null;){var m=f.next,v=pS(f,l);v===0?(f.next=null,u===null?df=m:u.next=m,m===null&&(Ll=u)):(u=f,(a!==0||v&3)&&(ff=!0)),f=m}Au(a)}function pS(a,l){for(var u=a.suspendedLanes,f=a.pingedLanes,m=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var R=31-On(v),k=1<<R,U=m[R];U===-1?(!(k&u)||k&f)&&(m[R]=tl(k,l)):U<=l&&(a.expiredLanes|=k),v&=~k}if(l=ht,u=$e,u=ai(a,a===l?u:0),f=a.callbackNode,u===0||a===l&&dt===2||a.cancelPendingCommit!==null)return f!==null&&f!==null&&el(f),a.callbackNode=null,a.callbackPriority=0;if(!(u&3)||Ar(a,u)){if(l=u&-u,l===a.callbackPriority)return l;switch(f!==null&&el(f),fd(u)){case 2:case 8:u=tn;break;case 32:u=Ds;break;case 268435456:u=Nc;break;default:u=Ds}return f=mS.bind(null,a),u=Cs(u,f),a.callbackPriority=l,a.callbackNode=u,l}return f!==null&&f!==null&&el(f),a.callbackPriority=2,a.callbackNode=null,2}function mS(a,l){var u=a.callbackNode;if(jl()&&a.callbackNode!==u)return null;var f=$e;return f=ai(a,a===ht?f:0),f===0?null:(iS(a,f,l),pS(a,zn()),a.callbackNode!=null&&a.callbackNode===u?mS.bind(null,a):null)}function yS(a,l){if(jl())return null;iS(a,l,!0)}function YM(a){sO(function(){St&6?Cs(Gt,a):a()})}function jy(){return go===0&&(go=Pc()),go}function vS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ts(""+a)}function bS(a,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,a.id&&u.setAttribute("form",a.id),l.parentNode.insertBefore(u,l),a=new FormData(a),u.parentNode.removeChild(u),a}function QM(a,l,u,f,m){if(l==="submit"&&u&&u.stateNode===m){var v=vS((m[Wt]||null).action),R=f.submitter;R&&(l=(l=R[Wt]||null)?vS(l.formAction):R.getAttribute("formAction"),l!==null&&(v=l,R=null));var k=new ll("action","action",null,f,m);a.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(go!==0){var U=R?bS(m,R):new FormData(m);Gm(u,{pending:!0,data:U,method:m.method,action:v},null,U)}}else typeof v=="function"&&(k.preventDefault(),U=R?bS(m,R):new FormData(m),Gm(u,{pending:!0,data:U,method:m.method,action:v},v,U))},currentTarget:m}]})}}for(var Ly=0;Ly<hE.length;Ly++){var Vy=hE[Ly],KM=Vy.toLowerCase(),XM=Vy[0].toUpperCase()+Vy.slice(1);Pi(KM,"on"+XM)}Pi(aE,"onAnimationEnd"),Pi(oE,"onAnimationIteration"),Pi(lE,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(gM,"onTransitionRun"),Pi(pM,"onTransitionStart"),Pi(mM,"onTransitionCancel"),Pi(cE,"onTransitionEnd"),Bn("onMouseEnter",["mouseout","mouseover"]),Bn("onMouseLeave",["mouseout","mouseover"]),Bn("onPointerEnter",["pointerout","pointerover"]),Bn("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function _S(a,l){l=(l&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],m=f.event;f=f.listeners;e:{var v=void 0;if(l)for(var R=f.length-1;0<=R;R--){var k=f[R],U=k.instance,W=k.currentTarget;if(k=k.listener,U!==v&&m.isPropagationStopped())break e;v=k,m.currentTarget=W;try{v(m)}catch(ne){Zd(ne)}m.currentTarget=null,v=U}else for(R=0;R<f.length;R++){if(k=f[R],U=k.instance,W=k.currentTarget,k=k.listener,U!==v&&m.isPropagationStopped())break e;v=k,m.currentTarget=W;try{v(m)}catch(ne){Zd(ne)}m.currentTarget=null,v=U}}}}function He(a,l){var u=l[Va];u===void 0&&(u=l[Va]=new Set);var f=a+"__bubble";u.has(f)||(ES(l,a,2,!1),u.add(f))}function Uy(a,l,u){var f=0;l&&(f|=4),ES(u,a,f,l)}var gf="_reactListening"+Math.random().toString(36).slice(2);function zy(a){if(!a[gf]){a[gf]=!0,Lc.forEach(function(u){u!=="selectionchange"&&(ZM.has(u)||Uy(u,!1,a),Uy(u,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[gf]||(l[gf]=!0,Uy("selectionchange",!1,l))}}function ES(a,l,u,f){switch(qS(l)){case 2:var m=AO;break;case 8:m=TO;break;default:m=Jy}u=m.bind(null,l,u,a),m=void 0,!ui||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(m=!0),f?m!==void 0?a.addEventListener(l,u,{capture:!0,passive:m}):a.addEventListener(l,u,!0):m!==void 0?a.addEventListener(l,u,{passive:m}):a.addEventListener(l,u,!1)}function By(a,l,u,f,m){var v=f;if(!(l&1)&&!(l&2)&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var k=f.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(R===4)for(R=f.return;R!==null;){var U=R.tag;if((U===3||U===4)&&(U=R.stateNode.containerInfo,U===m||U.nodeType===8&&U.parentNode===m))return;R=R.return}for(;k!==null;){if(R=Oi(k),R===null)return;if(U=R.tag,U===5||U===6||U===26||U===27){f=v=R;continue e}k=k.parentNode}}f=f.return}vd(function(){var W=v,ne=ol(u),le=[];e:{var X=uE.get(a);if(X!==void 0){var te=ll,Ee=a;switch(a){case"keypress":if(is(u)===0)break e;case"keydown":case"keyup":te=gl;break;case"focusin":Ee="focus",te=hl;break;case"focusout":Ee="blur",te=hl;break;case"beforeblur":case"afterblur":te=hl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=fm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=xd;break;case aE:case oE:case lE:te=dl;break;case cE:te=Cd;break;case"scroll":case"scrollend":te=bd;break;case"wheel":te=pl;break;case"copy":case"cut":case"paste":te=fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Qc;break;case"toggle":case"beforetoggle":te=Id}var Me=(l&4)!==0,kt=!Me&&(a==="scroll"||a==="scrollend"),$=Me?X!==null?X+"Capture":null:X;Me=[];for(var G=W,K;G!==null;){var se=G;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||$===null||(se=Fa(G,$),se!=null&&Me.push(xu(G,se,K))),kt)break;G=G.return}0<Me.length&&(X=new te(X,Ee,null,u,ne),le.push({event:X,listeners:Me}))}}if(!(l&7)){e:{if(X=a==="mouseover"||a==="pointerover",te=a==="mouseout"||a==="pointerout",X&&u!==ci&&(Ee=u.relatedTarget||u.fromElement)&&(Oi(Ee)||Ee[Is]))break e;if((te||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,te?(Ee=u.relatedTarget||u.toElement,te=W,Ee=Ee?Oi(Ee):null,Ee!==null&&(kt=ge(Ee),Me=Ee.tag,Ee!==kt||Me!==5&&Me!==27&&Me!==6)&&(Ee=null)):(te=null,Ee=W),te!==Ee)){if(Me=hi,se="onMouseLeave",$="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Me=Qc,se="onPointerLeave",$="onPointerEnter",G="pointer"),kt=te==null?X:Ir(te),K=Ee==null?X:Ir(Ee),X=new Me(se,G+"leave",te,u,ne),X.target=kt,X.relatedTarget=K,se=null,Oi(ne)===W&&(Me=new Me($,G+"enter",Ee,u,ne),Me.target=K,Me.relatedTarget=kt,se=Me),kt=se,te&&Ee)t:{for(Me=te,$=Ee,G=0,K=Me;K;K=Vl(K))G++;for(K=0,se=$;se;se=Vl(se))K++;for(;0<G-K;)Me=Vl(Me),G--;for(;0<K-G;)$=Vl($),K--;for(;G--;){if(Me===$||$!==null&&Me===$.alternate)break t;Me=Vl(Me),$=Vl($)}Me=null}else Me=null;te!==null&&wS(le,X,te,Me,!1),Ee!==null&&kt!==null&&wS(le,kt,Ee,Me,!0)}}e:{if(X=W?Ir(W):window,te=X.nodeName&&X.nodeName.toLowerCase(),te==="select"||te==="input"&&X.type==="file")var ye=Q0;else if(Yt(X))if(K0)ye=uM;else{ye=lM;var Le=oM}else te=X.nodeName,!te||te.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&Hc(W.elementType)&&(ye=Q0):ye=cM;if(ye&&(ye=ye(a,W))){Vs(le,ye,u,ne);break e}Le&&Le(a,X,W),a==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&al(X,"number",X.value)}switch(Le=W?Ir(W):window,a){case"focusin":(Yt(Le)||Le.contentEditable==="true")&&(ml=Le,vm=W,Zc=null);break;case"focusout":Zc=vm=ml=null;break;case"mousedown":bm=!0;break;case"contextmenu":case"mouseup":case"dragend":bm=!1,sE(le,u,ne);break;case"selectionchange":if(fM)break;case"keydown":case"keyup":sE(le,u,ne)}var Se;if(as)e:{switch(a){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ge?J(a,u)&&(De="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(De="onCompositionStart");De&&(x&&u.locale!=="ko"&&(Ge||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ge&&(Se=qc()):(ns=ne,jr="value"in ns?ns.value:ns.textContent,Ge=!0)),Le=pf(W,De),0<Le.length&&(De=new $c(De,a,null,u,ne),le.push({event:De,listeners:Le}),Se?De.data=Se:(Se=ce(u),Se!==null&&(De.data=Se)))),(Se=w?$t(a,u):We(a,u))&&(De=pf(W,"onBeforeInput"),0<De.length&&(Le=new $c("onBeforeInput","beforeinput",null,u,ne),le.push({event:Le,listeners:De}),Le.data=Se)),QM(le,a,W,u,ne)}_S(le,l)})}function xu(a,l,u){return{instance:a,listener:l,currentTarget:u}}function pf(a,l){for(var u=l+"Capture",f=[];a!==null;){var m=a,v=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=Fa(a,u),m!=null&&f.unshift(xu(a,m,v)),m=Fa(a,l),m!=null&&f.push(xu(a,m,v))),a=a.return}return f}function Vl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function wS(a,l,u,f,m){for(var v=l._reactName,R=[];u!==null&&u!==f;){var k=u,U=k.alternate,W=k.stateNode;if(k=k.tag,U!==null&&U===f)break;k!==5&&k!==26&&k!==27||W===null||(U=W,m?(W=Fa(u,v),W!=null&&R.unshift(xu(u,W,U))):m||(W=Fa(u,v),W!=null&&R.push(xu(u,W,U)))),u=u.return}R.length!==0&&a.push({event:l,listeners:R})}var JM=/\r\n?/g,eO=/\u0000|\uFFFD/g;function SS(a){return(typeof a=="string"?a:""+a).replace(JM,`
`).replace(eO,"")}function AS(a,l){return l=SS(l),SS(a)===l}function mf(){}function lt(a,l,u,f,m,v){switch(u){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||li(a,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&li(a,""+f);break;case"className":Mr(a,"class",f);break;case"tabIndex":Mr(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Mr(a,u,f);break;case"style":yd(a,f,v);break;case"data":if(l!=="object"){Mr(a,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=ts(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(l!=="input"&&lt(a,l,"name",m.name,m,null),lt(a,l,"formEncType",m.formEncType,m,null),lt(a,l,"formMethod",m.formMethod,m,null),lt(a,l,"formTarget",m.formTarget,m,null)):(lt(a,l,"encType",m.encType,m,null),lt(a,l,"method",m.method,m,null),lt(a,l,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=ts(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=mf);break;case"onScroll":f!=null&&He("scroll",a);break;case"onScrollEnd":f!=null&&He("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=ts(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":He("beforetoggle",a),He("toggle",a),Nr(a,"popover",f);break;case"xlinkActuate":oi(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":oi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":oi(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":oi(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":oi(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":oi(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":oi(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":oi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":oi(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Nr(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=hm.get(u)||u,Nr(a,u,f))}}function Hy(a,l,u,f,m,v){switch(u){case"style":yd(a,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"children":typeof f=="string"?li(a,f):(typeof f=="number"||typeof f=="bigint")&&li(a,""+f);break;case"onScroll":f!=null&&He("scroll",a);break;case"onScrollEnd":f!=null&&He("scrollend",a);break;case"onClick":f!=null&&(a.onclick=mf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sl.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),l=u.slice(2,m?u.length-7:void 0),v=a[Wt]||null,v=v!=null?v[u]:null,typeof v=="function"&&a.removeEventListener(l,v,m),typeof f=="function")){typeof v!="function"&&v!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(l,f,m);break e}u in a?a[u]=f:f===!0?a.setAttribute(u,""):Nr(a,u,f)}}}function mn(a,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",a),He("load",a);var f=!1,m=!1,v;for(v in u)if(u.hasOwnProperty(v)){var R=u[v];if(R!=null)switch(v){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:lt(a,l,v,R,u,null)}}m&&lt(a,l,"srcSet",u.srcSet,u,null),f&&lt(a,l,"src",u.src,u,null);return;case"input":He("invalid",a);var k=v=R=m=null,U=null,W=null;for(f in u)if(u.hasOwnProperty(f)){var ne=u[f];if(ne!=null)switch(f){case"name":m=ne;break;case"type":R=ne;break;case"checked":U=ne;break;case"defaultChecked":W=ne;break;case"value":v=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,l));break;default:lt(a,l,f,ne,u,null)}}Ba(a,v,k,U,W,R,m,!1),za(a);return;case"select":He("invalid",a),f=R=v=null;for(m in u)if(u.hasOwnProperty(m)&&(k=u[m],k!=null))switch(m){case"value":v=k;break;case"defaultValue":R=k;break;case"multiple":f=k;default:lt(a,l,m,k,u,null)}l=v,u=R,a.multiple=!!f,l!=null?Xe(a,!!f,l,!1):u!=null&&Xe(a,!!f,u,!0);return;case"textarea":He("invalid",a),v=m=f=null;for(R in u)if(u.hasOwnProperty(R)&&(k=u[R],k!=null))switch(R){case"value":f=k;break;case"defaultValue":m=k;break;case"children":v=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:lt(a,l,R,k,u,null)}Pr(a,f,m,v),za(a);return;case"option":for(U in u)if(u.hasOwnProperty(U)&&(f=u[U],f!=null))switch(U){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:lt(a,l,U,f,u,null)}return;case"dialog":He("cancel",a),He("close",a);break;case"iframe":case"object":He("load",a);break;case"video":case"audio":for(f=0;f<Tu.length;f++)He(Tu[f],a);break;case"image":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"embed":case"source":case"link":He("error",a),He("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in u)if(u.hasOwnProperty(W)&&(f=u[W],f!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:lt(a,l,W,f,u,null)}return;default:if(Hc(l)){for(ne in u)u.hasOwnProperty(ne)&&(f=u[ne],f!==void 0&&Hy(a,l,ne,f,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(f=u[k],f!=null&&lt(a,l,k,f,u,null))}function tO(a,l,u,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,R=null,k=null,U=null,W=null,ne=null;for(te in u){var le=u[te];if(u.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":U=le;default:f.hasOwnProperty(te)||lt(a,l,te,null,f,le)}}for(var X in f){var te=f[X];if(le=u[X],f.hasOwnProperty(X)&&(te!=null||le!=null))switch(X){case"type":v=te;break;case"name":m=te;break;case"checked":W=te;break;case"defaultChecked":ne=te;break;case"value":R=te;break;case"defaultValue":k=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,l));break;default:te!==le&&lt(a,l,X,te,f,le)}}Or(a,R,k,U,W,ne,v,m);return;case"select":te=R=k=X=null;for(v in u)if(U=u[v],u.hasOwnProperty(v)&&U!=null)switch(v){case"value":break;case"multiple":te=U;default:f.hasOwnProperty(v)||lt(a,l,v,null,f,U)}for(m in f)if(v=f[m],U=u[m],f.hasOwnProperty(m)&&(v!=null||U!=null))switch(m){case"value":X=v;break;case"defaultValue":k=v;break;case"multiple":R=v;default:v!==U&&lt(a,l,m,v,f,U)}l=k,u=R,f=te,X!=null?Xe(a,!!u,X,!1):!!f!=!!u&&(l!=null?Xe(a,!!u,l,!0):Xe(a,!!u,u?[]:"",!1));return;case"textarea":te=X=null;for(k in u)if(m=u[k],u.hasOwnProperty(k)&&m!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:lt(a,l,k,null,f,m)}for(R in f)if(m=f[R],v=u[R],f.hasOwnProperty(R)&&(m!=null||v!=null))switch(R){case"value":X=m;break;case"defaultValue":te=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==v&&lt(a,l,R,m,f,v)}Ha(a,X,te);return;case"option":for(var Ee in u)if(X=u[Ee],u.hasOwnProperty(Ee)&&X!=null&&!f.hasOwnProperty(Ee))switch(Ee){case"selected":a.selected=!1;break;default:lt(a,l,Ee,null,f,X)}for(U in f)if(X=f[U],te=u[U],f.hasOwnProperty(U)&&X!==te&&(X!=null||te!=null))switch(U){case"selected":a.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:lt(a,l,U,X,f,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in u)X=u[Me],u.hasOwnProperty(Me)&&X!=null&&!f.hasOwnProperty(Me)&&lt(a,l,Me,null,f,X);for(W in f)if(X=f[W],te=u[W],f.hasOwnProperty(W)&&X!==te&&(X!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,l));break;default:lt(a,l,W,X,f,te)}return;default:if(Hc(l)){for(var kt in u)X=u[kt],u.hasOwnProperty(kt)&&X!==void 0&&!f.hasOwnProperty(kt)&&Hy(a,l,kt,void 0,f,X);for(ne in f)X=f[ne],te=u[ne],!f.hasOwnProperty(ne)||X===te||X===void 0&&te===void 0||Hy(a,l,ne,X,f,te);return}}for(var $ in u)X=u[$],u.hasOwnProperty($)&&X!=null&&!f.hasOwnProperty($)&&lt(a,l,$,null,f,X);for(le in f)X=f[le],te=u[le],!f.hasOwnProperty(le)||X===te||X==null&&te==null||lt(a,l,le,X,f,te)}var Fy=null,qy=null;function yf(a){return a.nodeType===9?a:a.ownerDocument}function TS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xS(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Gy(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Wy=null;function nO(){var a=window.event;return a&&a.type==="popstate"?a===Wy?!1:(Wy=a,!0):(Wy=null,!1)}var RS=typeof setTimeout=="function"?setTimeout:void 0,iO=typeof clearTimeout=="function"?clearTimeout:void 0,CS=typeof Promise=="function"?Promise:void 0,sO=typeof queueMicrotask=="function"?queueMicrotask:typeof CS<"u"?function(a){return CS.resolve(null).then(a).catch(rO)}:RS;function rO(a){setTimeout(function(){throw a})}function $y(a,l){var u=l,f=0;do{var m=u.nextSibling;if(a.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){a.removeChild(m),Ou(l);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Ou(l)}function Yy(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Yy(u),Ua(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function aO(a,l,u,f){for(;a.nodeType===1;){var m=u;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Dr])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==m.rel||a.getAttribute("href")!==(m.href==null?null:m.href)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||a.getAttribute("title")!==(m.title==null?null:m.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(m.src==null?null:m.src)||a.getAttribute("type")!==(m.type==null?null:m.type)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=Vi(a.nextSibling),a===null)break}return null}function oO(a,l,u){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Vi(a.nextSibling),a===null))return null;return a}function Vi(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}function DS(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return a;l--}else u==="/$"&&l++}a=a.previousSibling}return null}function IS(a,l,u){switch(l=yf(u),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}var Ei=new Map,kS=new Set;function vf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var Js=he.d;he.d={f:lO,r:cO,D:uO,C:hO,L:dO,m:fO,X:pO,S:gO,M:mO};function lO(){var a=Js.f(),l=uf();return a||l}function cO(a){var l=ks(a);l!==null&&l.tag===5&&l.type==="form"?sw(l):Js.r(a)}var Ul=typeof document>"u"?null:document;function NS(a,l,u){var f=Ul;if(f&&typeof l=="string"&&l){var m=Ct(l);m='link[rel="'+a+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),kS.has(m)||(kS.add(m),a={rel:a,crossOrigin:u,href:l},f.querySelector(m)===null&&(l=f.createElement("link"),mn(l,"link",a),Et(l),f.head.appendChild(l)))}}function uO(a){Js.D(a),NS("dns-prefetch",a,null)}function hO(a,l){Js.C(a,l),NS("preconnect",a,l)}function dO(a,l,u){Js.L(a,l,u);var f=Ul;if(f&&a&&l){var m='link[rel="preload"][as="'+Ct(l)+'"]';l==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+Ct(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+Ct(u.imageSizes)+'"]')):m+='[href="'+Ct(a)+'"]';var v=m;switch(l){case"style":v=zl(a);break;case"script":v=Bl(a)}Ei.has(v)||(a=O({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:a,as:l},u),Ei.set(v,a),f.querySelector(m)!==null||l==="style"&&f.querySelector(Ru(v))||l==="script"&&f.querySelector(Cu(v))||(l=f.createElement("link"),mn(l,"link",a),Et(l),f.head.appendChild(l)))}}function fO(a,l){Js.m(a,l);var u=Ul;if(u&&a){var f=l&&typeof l.as=="string"?l.as:"script",m='link[rel="modulepreload"][as="'+Ct(f)+'"][href="'+Ct(a)+'"]',v=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Bl(a)}if(!Ei.has(v)&&(a=O({rel:"modulepreload",href:a},l),Ei.set(v,a),u.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Cu(v)))return}f=u.createElement("link"),mn(f,"link",a),Et(f),u.head.appendChild(f)}}}function gO(a,l,u){Js.S(a,l,u);var f=Ul;if(f&&a){var m=kr(f).hoistableStyles,v=zl(a);l=l||"default";var R=m.get(v);if(!R){var k={loading:0,preload:null};if(R=f.querySelector(Ru(v)))k.loading=5;else{a=O({rel:"stylesheet",href:a,"data-precedence":l},u),(u=Ei.get(v))&&Qy(a,u);var U=R=f.createElement("link");Et(U),mn(U,"link",a),U._p=new Promise(function(W,ne){U.onload=W,U.onerror=ne}),U.addEventListener("load",function(){k.loading|=1}),U.addEventListener("error",function(){k.loading|=2}),k.loading|=4,bf(R,l,f)}R={type:"stylesheet",instance:R,count:1,state:k},m.set(v,R)}}}function pO(a,l){Js.X(a,l);var u=Ul;if(u&&a){var f=kr(u).hoistableScripts,m=Bl(a),v=f.get(m);v||(v=u.querySelector(Cu(m)),v||(a=O({src:a,async:!0},l),(l=Ei.get(m))&&Ky(a,l),v=u.createElement("script"),Et(v),mn(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(m,v))}}function mO(a,l){Js.M(a,l);var u=Ul;if(u&&a){var f=kr(u).hoistableScripts,m=Bl(a),v=f.get(m);v||(v=u.querySelector(Cu(m)),v||(a=O({src:a,async:!0,type:"module"},l),(l=Ei.get(m))&&Ky(a,l),v=u.createElement("script"),Et(v),mn(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(m,v))}}function MS(a,l,u,f){var m=(m=Re.current)?vf(m):null;if(!m)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=zl(u.href),u=kr(m).hoistableStyles,f=u.get(l),f||(f={type:"style",instance:null,count:0,state:null},u.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=zl(u.href);var v=kr(m).hoistableStyles,R=v.get(a);if(R||(m=m.ownerDocument||m,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,R),(v=m.querySelector(Ru(a)))&&!v._p&&(R.instance=v,R.state.loading=5),Ei.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ei.set(a,u),v||yO(m,a,u,R.state))),l&&f===null)throw Error(i(528,""));return R}if(l&&f!==null)throw Error(i(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Bl(u),u=kr(m).hoistableScripts,f=u.get(l),f||(f={type:"script",instance:null,count:0,state:null},u.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function zl(a){return'href="'+Ct(a)+'"'}function Ru(a){return'link[rel="stylesheet"]['+a+"]"}function OS(a){return O({},a,{"data-precedence":a.precedence,precedence:null})}function yO(a,l,u,f){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=a.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),mn(l,"link",u),Et(l),a.head.appendChild(l))}function Bl(a){return'[src="'+Ct(a)+'"]'}function Cu(a){return"script[async]"+a}function PS(a,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var f=a.querySelector('style[data-href~="'+Ct(u.href)+'"]');if(f)return l.instance=f,Et(f),f;var m=O({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),Et(f),mn(f,"style",m),bf(f,u.precedence,a),l.instance=f;case"stylesheet":m=zl(u.href);var v=a.querySelector(Ru(m));if(v)return l.state.loading|=4,l.instance=v,Et(v),v;f=OS(u),(m=Ei.get(m))&&Qy(f,m),v=(a.ownerDocument||a).createElement("link"),Et(v);var R=v;return R._p=new Promise(function(k,U){R.onload=k,R.onerror=U}),mn(v,"link",f),l.state.loading|=4,bf(v,u.precedence,a),l.instance=v;case"script":return v=Bl(u.src),(m=a.querySelector(Cu(v)))?(l.instance=m,Et(m),m):(f=u,(m=Ei.get(v))&&(f=O({},u),Ky(f,m)),a=a.ownerDocument||a,m=a.createElement("script"),Et(m),mn(m,"link",f),a.head.appendChild(m),l.instance=m);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&!(l.state.loading&4)&&(f=l.instance,l.state.loading|=4,bf(f,u.precedence,a));return l.instance}function bf(a,l,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,v=m,R=0;R<f.length;R++){var k=f[R];if(k.dataset.precedence===l)v=k;else if(v!==m)break}v?v.parentNode.insertBefore(a,v.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(a,l.firstChild))}function Qy(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Ky(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var _f=null;function jS(a,l,u){if(_f===null){var f=new Map,m=_f=new Map;m.set(u,f)}else m=_f,f=m.get(u),f||(f=new Map,m.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),m=0;m<u.length;m++){var v=u[m];if(!(v[Dr]||v[nn]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var R=v.getAttribute(l)||"";R=a+R;var k=f.get(R);k?k.push(v):f.set(R,[v])}}return f}function LS(a,l,u){a=a.ownerDocument||a,a.head.insertBefore(u,l==="title"?a.querySelector("head > title"):null)}function vO(a,l,u){if(u===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function VS(a){return!(a.type==="stylesheet"&&!(a.state.loading&3))}var Du=null;function bO(){}function _O(a,l,u){if(Du===null)throw Error(i(475));var f=Du;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&!(l.state.loading&4)){if(l.instance===null){var m=zl(u.href),v=a.querySelector(Ru(m));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=Ef.bind(f),a.then(f,f)),l.state.loading|=4,l.instance=v,Et(v);return}v=a.ownerDocument||a,u=OS(u),(m=Ei.get(m))&&Qy(u,m),v=v.createElement("link"),Et(v);var R=v;R._p=new Promise(function(k,U){R.onload=k,R.onerror=U}),mn(v,"link",u),l.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(l,a),(a=l.state.preload)&&!(l.state.loading&3)&&(f.count++,l=Ef.bind(f),a.addEventListener("load",l),a.addEventListener("error",l))}}function EO(){if(Du===null)throw Error(i(475));var a=Du;return a.stylesheets&&a.count===0&&Xy(a,a.stylesheets),0<a.count?function(l){var u=setTimeout(function(){if(a.stylesheets&&Xy(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(u)}}:null}function Ef(){if(this.count--,this.count===0){if(this.stylesheets)Xy(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var wf=null;function Xy(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,wf=new Map,l.forEach(wO,a),wf=null,Ef.call(a))}function wO(a,l){if(!(l.state.loading&4)){var u=wf.get(a);if(u)var f=u.get(null);else{u=new Map,wf.set(a,u);for(var m=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var R=m[v];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),f=R)}f&&u.set(null,f)}m=l.instance,R=m.getAttribute("data-precedence"),v=u.get(R)||f,v===f&&u.set(null,m),u.set(R,m),this.count++,f=Ef.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),v?v.parentNode.insertBefore(m,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(m,a.firstChild)),l.state.loading|=4}}var Iu={$$typeof:_,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function SO(a,l,u,f,m,v,R,k){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.hiddenUpdates=nl(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function US(a,l,u,f,m,v,R,k,U,W,ne,le){return a=new SO(a,l,u,R,k,U,W,le),l=1,v===!0&&(l|=24),v=bi(3,null,null,l),a.current=v,v.stateNode=a,l=Dm(),l.refCount++,a.pooledCache=l,l.refCount++,v.memoizedState={element:f,isDehydrated:u,cache:l},cy(v),a}function zS(a){return a?(a=bl,a):bl}function BS(a,l,u,f,m,v){m=zS(m),f.context===null?f.context=m:f.pendingContext=m,f=qr(l),f.payload={element:u},v=v===void 0?null:v,v!==null&&(f.callback=v),u=Gr(a,f,l),u!==null&&(Vn(u,a,l),fu(u,a,l))}function HS(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<l?u:l}}function Zy(a,l){HS(a,l),(a=a.alternate)&&HS(a,l)}function FS(a){if(a.tag===13){var l=Lr(a,67108864);l!==null&&Vn(l,a,67108864),Zy(a,67108864)}}var Sf=!0;function AO(a,l,u,f){var m=D.T;D.T=null;var v=he.p;try{he.p=2,Jy(a,l,u,f)}finally{he.p=v,D.T=m}}function TO(a,l,u,f){var m=D.T;D.T=null;var v=he.p;try{he.p=8,Jy(a,l,u,f)}finally{he.p=v,D.T=m}}function Jy(a,l,u,f){if(Sf){var m=ev(f);if(m===null)By(a,l,f,Af,u),GS(a,f);else if(RO(m,a,l,u,f))f.stopPropagation();else if(GS(a,f),l&4&&-1<xO.indexOf(a)){for(;m!==null;){var v=ks(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var R=Mi(v.pendingLanes);if(R!==0){var k=v;for(k.pendingLanes|=2,k.entangledLanes|=2;R;){var U=1<<31-On(R);k.entanglements[1]|=U,R&=~U}ds(v),!(St&6)&&(of=zn()+500,Au(0))}}break;case 13:k=Lr(v,2),k!==null&&Vn(k,v,2),uf(),Zy(v,2)}if(v=ev(f),v===null&&By(a,l,f,Af,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else By(a,l,f,null,u)}}function ev(a){return a=ol(a),tv(a)}var Af=null;function tv(a){if(Af=null,a=Oi(a),a!==null){var l=ge(a);if(l===null)a=null;else{var u=l.tag;if(u===13){if(a=_e(l),a!==null)return a;a=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Af=a,null}function qS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ld()){case Gt:return 2;case tn:return 8;case Ds:case cd:return 32;case Nc:return 268435456;default:return 32}default:return 32}}var nv=!1,Zr=null,Jr=null,ea=null,ku=new Map,Nu=new Map,ta=[],xO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GS(a,l){switch(a){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":ku.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(l.pointerId)}}function Mu(a,l,u,f,m,v){return a===null||a.nativeEvent!==v?(a={blockedOn:l,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},l!==null&&(l=ks(l),l!==null&&FS(l)),a):(a.eventSystemFlags|=f,l=a.targetContainers,m!==null&&l.indexOf(m)===-1&&l.push(m),a)}function RO(a,l,u,f,m){switch(l){case"focusin":return Zr=Mu(Zr,a,l,u,f,m),!0;case"dragenter":return Jr=Mu(Jr,a,l,u,f,m),!0;case"mouseover":return ea=Mu(ea,a,l,u,f,m),!0;case"pointerover":var v=m.pointerId;return ku.set(v,Mu(ku.get(v)||null,a,l,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Nu.set(v,Mu(Nu.get(v)||null,a,l,u,f,m)),!0}return!1}function WS(a){var l=Oi(a.target);if(l!==null){var u=ge(l);if(u!==null){if(l=u.tag,l===13){if(l=_e(u),l!==null){a.blockedOn=l,Cr(a.priority,function(){if(u.tag===13){var f=ni(),m=Lr(u,f);m!==null&&Vn(m,u,f),Zy(u,f)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Tf(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var u=ev(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);ci=f,u.target.dispatchEvent(f),ci=null}else return l=ks(u),l!==null&&FS(l),a.blockedOn=u,!1;l.shift()}return!0}function $S(a,l,u){Tf(a)&&u.delete(l)}function CO(){nv=!1,Zr!==null&&Tf(Zr)&&(Zr=null),Jr!==null&&Tf(Jr)&&(Jr=null),ea!==null&&Tf(ea)&&(ea=null),ku.forEach($S),Nu.forEach($S)}function xf(a,l){a.blockedOn===l&&(a.blockedOn=null,nv||(nv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,CO)))}var Rf=null;function YS(a){Rf!==a&&(Rf=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Rf===a&&(Rf=null);for(var l=0;l<a.length;l+=3){var u=a[l],f=a[l+1],m=a[l+2];if(typeof f!="function"){if(tv(f||u)===null)continue;break}var v=ks(u);v!==null&&(a.splice(l,3),l-=3,Gm(v,{pending:!0,data:m,method:u.method,action:f},f,m))}}))}function Ou(a){function l(U){return xf(U,a)}Zr!==null&&xf(Zr,a),Jr!==null&&xf(Jr,a),ea!==null&&xf(ea,a),ku.forEach(l),Nu.forEach(l);for(var u=0;u<ta.length;u++){var f=ta[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<ta.length&&(u=ta[0],u.blockedOn===null);)WS(u),u.blockedOn===null&&ta.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var m=u[f],v=u[f+1],R=m[Wt]||null;if(typeof v=="function")R||YS(u);else if(R){var k=null;if(v&&v.hasAttribute("formAction")){if(m=v,R=v[Wt]||null)k=R.formAction;else if(tv(m)!==null)continue}else k=R.action;typeof k=="function"?u[f+1]=k:(u.splice(f,3),f-=3),YS(u)}}}function iv(a){this._internalRoot=a}Cf.prototype.render=iv.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var u=l.current,f=ni();BS(u,f,a,l,null,null)},Cf.prototype.unmount=iv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;a.tag===0&&jl(),BS(a.current,2,null,a,null,null),uf(),l[Is]=null}};function Cf(a){this._internalRoot=a}Cf.prototype.unstable_scheduleHydration=function(a){if(a){var l=gd();a={blockedOn:null,target:a,priority:l};for(var u=0;u<ta.length&&l!==0&&l<ta[u].priority;u++);ta.splice(u,0,a),u===0&&WS(a)}};var QS=e.version;if(QS!=="19.0.0")throw Error(i(527,QS,"19.0.0"));he.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=oe(l),a=a!==null?ue(a):null,a=a===null?null:a.stateNode,a};var DO={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:D,findFiberByHostInstance:Oi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Df.isDisabled&&Df.supportsFiber)try{wr=Df.inject(DO),wn=Df}catch{}}return ju.createRoot=function(a,l){if(!s(a))throw Error(i(299));var u=!1,f="",m=dw,v=fw,R=gw,k=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks)),l=US(a,1,!1,null,null,u,f,m,v,R,k,null),a[Is]=l.current,zy(a.nodeType===8?a.parentNode:a),new iv(l)},ju.hydrateRoot=function(a,l,u){if(!s(a))throw Error(i(299));var f=!1,m="",v=dw,R=fw,k=gw,U=null,W=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(U=u.unstable_transitionCallbacks),u.formState!==void 0&&(W=u.formState)),l=US(a,1,!0,l,u??null,f,m,v,R,k,U,W),l.context=zS(null),u=l.current,f=ni(),m=qr(f),m.callback=null,Gr(u,m,f),l.current.lanes=f,Pt(l,f),ds(l),a[Is]=l.current,zy(a),new Cf(l)},ju.version="19.0.0",ju}var rA;function BO(){if(rA)return av.exports;rA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),av.exports=zO(),av.exports}var HO=BO(),Lu={},aA;function FO(){if(aA)return Lu;aA=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.parse=o,Lu.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,r=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function o(b,_){const S=new r,T=b.length;if(T<2)return S;const A=(_==null?void 0:_.decode)||g;let I=0;do{const M=b.indexOf("=",I);if(M===-1)break;const j=b.indexOf(";",I),H=j===-1?T:j;if(M>H){I=b.lastIndexOf(";",M-1)+1;continue}const q=c(b,I,M),Q=h(b,M,q),P=b.slice(q,Q);if(S[P]===void 0){let C=c(b,M+1,H),D=h(b,H,C);const O=A(b.slice(C,D));S[P]=O}I=H+1}while(I<T);return S}function c(b,_,S){do{const T=b.charCodeAt(_);if(T!==32&&T!==9)return _}while(++_<S);return S}function h(b,_,S){for(;_>S;){const T=b.charCodeAt(--_);if(T!==32&&T!==9)return _+1}return S}function d(b,_,S){const T=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const A=T(_);if(!e.test(A))throw new TypeError(`argument val is invalid: ${_}`);let I=b+"="+A;if(!S)return I;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);I+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);I+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);I+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);I+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(I+="; HttpOnly"),S.secure&&(I+="; Secure"),S.partitioned&&(I+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return I}function g(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return s.call(b)==="[object Date]"}return Lu}FO();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oA="popstate";function qO(n={}){function e(s,r){let{pathname:o="/",search:c="",hash:h=""}=Bo(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),tb("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(s,r){let o=s.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let h=s.location.href,d=h.indexOf("#");c=d===-1?h:h.slice(0,d)}return c+"#"+(typeof r=="string"?r:_h(r))}function i(s,r){Ci(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return WO(e,t,i,n)}function _t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ci(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GO(){return Math.random().toString(36).substring(2,10)}function lA(n,e){return{usr:n.state,key:n.key,idx:e}}function tb(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Bo(e):e,state:t,key:e&&e.key||i||GO()}}function _h({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Bo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function WO(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,c="POP",h=null,d=g();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function g(){return(o.state||{idx:null}).idx}function y(){c="POP";let A=g(),I=A==null?null:A-d;d=A,h&&h({action:c,location:T.location,delta:I})}function b(A,I){c="PUSH";let M=tb(T.location,A,I);t&&t(M,A),d=g()+1;let j=lA(M,d),H=T.createHref(M);try{o.pushState(j,"",H)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(H)}r&&h&&h({action:c,location:T.location,delta:1})}function _(A,I){c="REPLACE";let M=tb(T.location,A,I);t&&t(M,A),d=g();let j=lA(M,d),H=T.createHref(M);o.replaceState(j,"",H),r&&h&&h({action:c,location:T.location,delta:0})}function S(A){let I=s.location.origin!=="null"?s.location.origin:s.location.href,M=typeof A=="string"?A:_h(A);return M=M.replace(/ $/,"%20"),_t(I,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,I)}let T={get action(){return c},get location(){return n(s,o)},listen(A){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(oA,y),h=A,()=>{s.removeEventListener(oA,y),h=null}},createHref(A){return e(s,A)},createURL:S,encodeLocation(A){let I=S(A);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:b,replace:_,go(A){return o.go(A)}};return T}function yC(n,e,t="/"){return $O(n,e,t,!1)}function $O(n,e,t,i){let s=typeof e=="string"?Bo(e):e,r=wa(s.pathname||"/",t);if(r==null)return null;let o=vC(n);YO(o);let c=null;for(let h=0;c==null&&h<o.length;++h){let d=r2(r);c=i2(o[h],d,i)}return c}function vC(n,e=[],t=[],i=""){let s=(r,o,c)=>{let h={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};h.relativePath.startsWith("/")&&(_t(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=cr([i,h.relativePath]),g=t.concat(h);r.children&&r.children.length>0&&(_t(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),vC(r.children,e,g,d)),!(r.path==null&&!r.index)&&e.push({path:d,score:t2(d,r.index),routesMeta:g})};return n.forEach((r,o)=>{var c;if(r.path===""||!((c=r.path)!=null&&c.includes("?")))s(r,o);else for(let h of bC(r.path))s(r,o,h)}),e}function bC(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=bC(i.join("/")),c=[];return c.push(...o.map(h=>h===""?r:[r,h].join("/"))),s&&c.push(...o),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function YO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:n2(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var QO=/^:[\w-]+$/,KO=3,XO=2,ZO=1,JO=10,e2=-2,cA=n=>n==="*";function t2(n,e){let t=n.split("/"),i=t.length;return t.some(cA)&&(i+=e2),e&&(i+=XO),t.filter(s=>!cA(s)).reduce((s,r)=>s+(QO.test(r)?KO:r===""?ZO:JO),i)}function n2(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function i2(n,e,t=!1){let{routesMeta:i}=n,s={},r="/",o=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,g=r==="/"?e:e.slice(r.length)||"/",y=Cg({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},g),b=h.route;if(!y&&d&&t&&!i[i.length-1].route.index&&(y=Cg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),o.push({params:s,pathname:cr([r,y.pathname]),pathnameBase:c2(cr([r,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(r=cr([r,y.pathnameBase]))}return o}function Cg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=s2(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:y},b)=>{if(g==="*"){let S=c[b]||"";o=r.slice(0,r.length-S.length).replace(/(.)\/+$/,"$1")}const _=c[b];return y&&!_?d[g]=void 0:d[g]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:o,pattern:n}}function s2(n,e=!1,t=!0){Ci(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function r2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ci(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function wa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function a2(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Bo(n):n;return{pathname:t?t.startsWith("/")?t:o2(t,e):e,search:u2(i),hash:h2(s)}}function o2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function uv(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function e_(n){let e=l2(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function t_(n,e,t,i=!1){let s;typeof n=="string"?s=Bo(n):(s={...n},_t(!s.pathname||!s.pathname.includes("?"),uv("?","pathname","search",s)),_t(!s.pathname||!s.pathname.includes("#"),uv("#","pathname","hash",s)),_t(!s.search||!s.search.includes("#"),uv("#","search","hash",s)));let r=n===""||s.pathname==="",o=r?"/":s.pathname,c;if(o==null)c=t;else{let y=e.length-1;if(!i&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}c=y>=0?e[y]:"/"}let h=a2(s,c),d=o&&o!=="/"&&o.endsWith("/"),g=(r||o===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}var cr=n=>n.join("/").replace(/\/\/+/g,"/"),c2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),u2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,h2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function d2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var _C=["POST","PUT","PATCH","DELETE"];new Set(_C);var f2=["GET",..._C];new Set(f2);var bc=B.createContext(null);bc.displayName="DataRouter";var wp=B.createContext(null);wp.displayName="DataRouterState";var EC=B.createContext({isTransitioning:!1});EC.displayName="ViewTransition";var g2=B.createContext(new Map);g2.displayName="Fetchers";var p2=B.createContext(null);p2.displayName="Await";var Gi=B.createContext(null);Gi.displayName="Navigation";var Hh=B.createContext(null);Hh.displayName="Location";var ki=B.createContext({outlet:null,matches:[],isDataRoute:!1});ki.displayName="Route";var n_=B.createContext(null);n_.displayName="RouteError";function m2(n,{relative:e}={}){_t(_c(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(Gi),{hash:s,pathname:r,search:o}=qh(n,{relative:e}),c=r;return t!=="/"&&(c=r==="/"?t:cr([t,r])),i.createHref({pathname:c,search:o,hash:s})}function _c(){return B.useContext(Hh)!=null}function Wi(){return _t(_c(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Hh).location}var wC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SC(n){B.useContext(Gi).static||B.useLayoutEffect(n)}function Na(){let{isDataRoute:n}=B.useContext(ki);return n?k2():y2()}function y2(){_t(_c(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(bc),{basename:e,navigator:t}=B.useContext(Gi),{matches:i}=B.useContext(ki),{pathname:s}=Wi(),r=JSON.stringify(e_(i)),o=B.useRef(!1);return SC(()=>{o.current=!0}),B.useCallback((h,d={})=>{if(Ci(o.current,wC),!o.current)return;if(typeof h=="number"){t.go(h);return}let g=t_(h,JSON.parse(r),s,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:cr([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,r,s,n])}var AC=B.createContext(null);function Fh(){return B.useContext(AC)}function v2(n){let e=B.useContext(ki).outlet;return e&&B.createElement(AC.Provider,{value:n},e)}function b2(){let{matches:n}=B.useContext(ki),e=n[n.length-1];return e?e.params:{}}function qh(n,{relative:e}={}){let{matches:t}=B.useContext(ki),{pathname:i}=Wi(),s=JSON.stringify(e_(t));return B.useMemo(()=>t_(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function _2(n,e){return TC(n,e)}function TC(n,e,t,i){var M;_t(_c(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:r}=B.useContext(Gi),{matches:o}=B.useContext(ki),c=o[o.length-1],h=c?c.params:{},d=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let j=y&&y.path||"";xC(d,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=Wi(),_;if(e){let j=typeof e=="string"?Bo(e):e;_t(g==="/"||((M=j.pathname)==null?void 0:M.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),_=j}else _=b;let S=_.pathname||"/",T=S;if(g!=="/"){let j=g.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let A=!r&&t&&t.matches&&t.matches.length>0?t.matches:yC(n,{pathname:T});Ci(y||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ci(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=T2(A&&A.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:cr([g,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:cr([g,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,t,i);return e&&I?B.createElement(Hh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},I):I}function E2(){let n=I2(),e=d2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:r},"ErrorBoundary")," or"," ",B.createElement("code",{style:r},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:s},t):null,o)}var w2=B.createElement(E2,null),S2=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(ki.Provider,{value:this.props.routeContext},B.createElement(n_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function A2({routeContext:n,match:e,children:t}){let i=B.useContext(bc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(ki.Provider,{value:n},t)}function T2(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,r=t==null?void 0:t.errors;if(r!=null){let h=s.findIndex(d=>d.route.id&&(r==null?void 0:r[d.route.id])!==void 0);_t(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let o=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:g,errors:y}=t,b=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||b){o=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,d,g)=>{let y,b=!1,_=null,S=null;t&&(y=r&&d.route.id?r[d.route.id]:void 0,_=d.route.errorElement||w2,o&&(c<0&&g===0?(xC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):c===g&&(b=!0,S=d.route.hydrateFallbackElement||null)));let T=e.concat(s.slice(0,g+1)),A=()=>{let I;return y?I=_:b?I=S:d.route.Component?I=B.createElement(d.route.Component,null):d.route.element?I=d.route.element:I=h,B.createElement(A2,{match:d,routeContext:{outlet:h,matches:T,isDataRoute:t!=null},children:I})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?B.createElement(S2,{location:t.location,revalidation:t.revalidation,component:_,error:y,children:A(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):A()},null)}function i_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x2(n){let e=B.useContext(bc);return _t(e,i_(n)),e}function R2(n){let e=B.useContext(wp);return _t(e,i_(n)),e}function C2(n){let e=B.useContext(ki);return _t(e,i_(n)),e}function s_(n){let e=C2(n),t=e.matches[e.matches.length-1];return _t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function D2(){return s_("useRouteId")}function I2(){var i;let n=B.useContext(n_),e=R2("useRouteError"),t=s_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function k2(){let{router:n}=x2("useNavigate"),e=s_("useNavigate"),t=B.useRef(!1);return SC(()=>{t.current=!0}),B.useCallback(async(s,r={})=>{Ci(t.current,wC),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...r}))},[n,e])}var uA={};function xC(n,e,t){!e&&!uA[n]&&(uA[n]=!0,Ci(!1,t))}B.memo(N2);function N2({routes:n,future:e,state:t}){return TC(n,void 0,t,e)}function M2({to:n,replace:e,state:t,relative:i}){_t(_c(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=B.useContext(Gi);Ci(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=B.useContext(ki),{pathname:o}=Wi(),c=Na(),h=t_(n,e_(r),o,i==="path"),d=JSON.stringify(h);return B.useEffect(()=>{c(JSON.parse(d),{replace:e,state:t,relative:i})},[c,d,i,e,t]),null}function O2(n){return v2(n.context)}function yn(n){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P2({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:r=!1}){_t(!_c(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:o,navigator:s,static:r,future:{}}),[o,s,r]);typeof t=="string"&&(t=Bo(t));let{pathname:h="/",search:d="",hash:g="",state:y=null,key:b="default"}=t,_=B.useMemo(()=>{let S=wa(h,o);return S==null?null:{location:{pathname:S,search:d,hash:g,state:y,key:b},navigationType:i}},[o,h,d,g,y,b,i]);return Ci(_!=null,`<Router basename="${o}"> is not able to match the URL "${h}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:B.createElement(Gi.Provider,{value:c},B.createElement(Hh.Provider,{children:e,value:_}))}function j2({children:n,location:e}){return _2(nb(n),e)}function nb(n,e=[]){let t=[];return B.Children.forEach(n,(i,s)=>{if(!B.isValidElement(i))return;let r=[...e,s];if(i.type===B.Fragment){t.push.apply(t,nb(i.props.children,r));return}_t(i.type===yn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=nb(i.props.children,r)),t.push(o)}),t}var ag="get",og="application/x-www-form-urlencoded";function Sp(n){return n!=null&&typeof n.tagName=="string"}function L2(n){return Sp(n)&&n.tagName.toLowerCase()==="button"}function V2(n){return Sp(n)&&n.tagName.toLowerCase()==="form"}function U2(n){return Sp(n)&&n.tagName.toLowerCase()==="input"}function z2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function B2(n,e){return n.button===0&&(!e||e==="_self")&&!z2(n)}var If=null;function H2(){if(If===null)try{new FormData(document.createElement("form"),0),If=!1}catch{If=!0}return If}var F2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hv(n){return n!=null&&!F2.has(n)?(Ci(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${og}"`),null):n}function q2(n,e){let t,i,s,r,o;if(V2(n)){let c=n.getAttribute("action");i=c?wa(c,e):null,t=n.getAttribute("method")||ag,s=hv(n.getAttribute("enctype"))||og,r=new FormData(n)}else if(L2(n)||U2(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(i=h?wa(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||ag,s=hv(n.getAttribute("formenctype"))||hv(c.getAttribute("enctype"))||og,r=new FormData(c,n),!H2()){let{name:d,type:g,value:y}=n;if(g==="image"){let b=d?`${d}.`:"";r.append(`${b}x`,"0"),r.append(`${b}y`,"0")}else d&&r.append(d,y)}}else{if(Sp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ag,i=null,s=og,o=n}return r&&s==="text/plain"&&(o=r,r=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:r,body:o}}function r_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function G2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $2(n,e,t){let i=await Promise.all(n.map(async s=>{let r=e.routes[s.route.id];if(r){let o=await G2(r,t);return o.links?o.links():[]}return[]}));return X2(i.flat(1).filter(W2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function hA(n,e,t,i,s,r){let o=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,c=(h,d)=>{var g;return t[d].pathname!==h.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return r==="assets"?e.filter((h,d)=>o(h,d)||c(h,d)):r==="data"?e.filter((h,d)=>{var y;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(o(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Y2(n,e){return Q2(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let s=[i.module];return i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Q2(n){return[...new Set(n)]}function K2(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function X2(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let r=JSON.stringify(K2(s));return t.has(r)||(t.add(r),i.push({key:r,link:s})),i},[])}function Z2(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function J2(){let n=B.useContext(bc);return r_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function eP(){let n=B.useContext(wp);return r_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var a_=B.createContext(void 0);a_.displayName="FrameworkContext";function RC(){let n=B.useContext(a_);return r_(n,"You must render this element inside a <HydratedRouter> element"),n}function tP(n,e){let t=B.useContext(a_),[i,s]=B.useState(!1),[r,o]=B.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:g,onTouchStart:y}=e,b=B.useRef(null);B.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let T=I=>{I.forEach(M=>{o(M.isIntersecting)})},A=new IntersectionObserver(T,{threshold:.5});return b.current&&A.observe(b.current),()=>{A.disconnect()}}},[n]),B.useEffect(()=>{if(i){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[i]);let _=()=>{s(!0)},S=()=>{s(!1),o(!1)};return t?n!=="intent"?[r,b,{}]:[r,b,{onFocus:Vu(c,_),onBlur:Vu(h,S),onMouseEnter:Vu(d,_),onMouseLeave:Vu(g,S),onTouchStart:Vu(y,_)}]:[!1,b,{}]}function Vu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function nP({page:n,...e}){let{router:t}=J2(),i=B.useMemo(()=>yC(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?B.createElement(sP,{page:n,matches:i,...e}):null}function iP(n){let{manifest:e,routeModules:t}=RC(),[i,s]=B.useState([]);return B.useEffect(()=>{let r=!1;return $2(n,e,t).then(o=>{r||s(o)}),()=>{r=!0}},[n,e,t]),i}function sP({page:n,matches:e,...t}){let i=Wi(),{manifest:s,routeModules:r}=RC(),{loaderData:o,matches:c}=eP(),h=B.useMemo(()=>hA(n,e,c,s,i,"data"),[n,e,c,s,i]),d=B.useMemo(()=>hA(n,e,c,s,i,"assets"),[n,e,c,s,i]),g=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,S=!1;if(e.forEach(A=>{var M;let I=s.routes[A.route.id];!I||!I.hasLoader||(!h.some(j=>j.route.id===A.route.id)&&A.route.id in o&&((M=r[A.route.id])!=null&&M.shouldRevalidate)||I.hasClientLoader?S=!0:_.add(A.route.id))}),_.size===0)return[];let T=Z2(n);return S&&_.size>0&&T.searchParams.set("_routes",e.filter(A=>_.has(A.route.id)).map(A=>A.route.id).join(",")),[T.pathname+T.search]},[o,i,s,h,e,n,r]),y=B.useMemo(()=>Y2(d,s),[d,s]),b=iP(d);return B.createElement(B.Fragment,null,g.map(_=>B.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),y.map(_=>B.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),b.map(({key:_,link:S})=>B.createElement("link",{key:_,...S})))}function rP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var CC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CC&&(window.__reactRouterVersion="7.1.5")}catch{}function aP({basename:n,children:e,window:t}){let i=B.useRef();i.current==null&&(i.current=qO({window:t,v5Compat:!0}));let s=i.current,[r,o]=B.useState({action:s.action,location:s.location}),c=B.useCallback(h=>{B.startTransition(()=>o(h))},[o]);return B.useLayoutEffect(()=>s.listen(c),[s,c]),B.createElement(P2,{basename:n,children:e,location:r.location,navigationType:r.action,navigator:s})}var DC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:r,replace:o,state:c,target:h,to:d,preventScrollReset:g,viewTransition:y,...b},_){let{basename:S}=B.useContext(Gi),T=typeof d=="string"&&DC.test(d),A,I=!1;if(typeof d=="string"&&T&&(A=d,CC))try{let D=new URL(window.location.href),O=d.startsWith("//")?new URL(D.protocol+d):new URL(d),V=wa(O.pathname,S);O.origin===D.origin&&V!=null?d=V+O.search+O.hash:I=!0}catch{Ci(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=m2(d,{relative:s}),[j,H,q]=tP(i,b),Q=uP(d,{replace:o,state:c,target:h,preventScrollReset:g,relative:s,viewTransition:y});function P(D){e&&e(D),D.defaultPrevented||Q(D)}let C=B.createElement("a",{...b,...q,href:A||M,onClick:I||r?e:P,ref:rP(_,H),target:h,"data-discover":!T&&t==="render"?"true":void 0});return j&&!T?B.createElement(B.Fragment,null,C,B.createElement(nP,{page:M})):C});yt.displayName="Link";var oP=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:r,to:o,viewTransition:c,children:h,...d},g){let y=qh(o,{relative:d.relative}),b=Wi(),_=B.useContext(wp),{navigator:S,basename:T}=B.useContext(Gi),A=_!=null&&pP(y)&&c===!0,I=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,M=b.pathname,j=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(M=M.toLowerCase(),j=j?j.toLowerCase():null,I=I.toLowerCase()),j&&T&&(j=wa(j,T)||j);const H=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let q=M===I||!s&&M.startsWith(I)&&M.charAt(H)==="/",Q=j!=null&&(j===I||!s&&j.startsWith(I)&&j.charAt(I.length)==="/"),P={isActive:q,isPending:Q,isTransitioning:A},C=q?e:void 0,D;typeof i=="function"?D=i(P):D=[i,q?"active":null,Q?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let O=typeof r=="function"?r(P):r;return B.createElement(yt,{...d,"aria-current":C,className:D,ref:g,style:O,to:o,viewTransition:c},typeof h=="function"?h(P):h)});oP.displayName="NavLink";var lP=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:r,method:o=ag,action:c,onSubmit:h,relative:d,preventScrollReset:g,viewTransition:y,...b},_)=>{let S=fP(),T=gP(c,{relative:d}),A=o.toLowerCase()==="get"?"get":"post",I=typeof c=="string"&&DC.test(c),M=j=>{if(h&&h(j),j.defaultPrevented)return;j.preventDefault();let H=j.nativeEvent.submitter,q=(H==null?void 0:H.getAttribute("formmethod"))||o;S(H||j.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:s,state:r,relative:d,preventScrollReset:g,viewTransition:y})};return B.createElement("form",{ref:_,method:A,action:T,onSubmit:i?h:M,...b,"data-discover":!I&&n==="render"?"true":void 0})});lP.displayName="Form";function cP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IC(n){let e=B.useContext(bc);return _t(e,cP(n)),e}function uP(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:r,viewTransition:o}={}){let c=Na(),h=Wi(),d=qh(n,{relative:r});return B.useCallback(g=>{if(B2(g,e)){g.preventDefault();let y=t!==void 0?t:_h(h)===_h(d);c(n,{replace:y,state:i,preventScrollReset:s,relative:r,viewTransition:o})}},[h,c,d,t,i,e,n,s,r,o])}var hP=0,dP=()=>`__${String(++hP)}__`;function fP(){let{router:n}=IC("useSubmit"),{basename:e}=B.useContext(Gi),t=D2();return B.useCallback(async(i,s={})=>{let{action:r,method:o,encType:c,formData:h,body:d}=q2(i,e);if(s.navigate===!1){let g=s.fetcherKey||dP();await n.fetch(g,t,s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||o,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||o,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function gP(n,{relative:e}={}){let{basename:t}=B.useContext(Gi),i=B.useContext(ki);_t(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...qh(n||".",{relative:e})},o=Wi();if(n==null){r.search=o.search;let c=new URLSearchParams(r.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();r.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:cr([t,r.pathname])),_h(r)}function pP(n,e={}){let t=B.useContext(EC);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=IC("useViewTransitionState"),s=qh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let r=wa(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=wa(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Cg(s.pathname,o)!=null||Cg(s.pathname,r)!=null}new TextEncoder;var ib=mC(),kC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dA=Ti.createContext&&Ti.createContext(kC),mP=["attr","size","title"];function yP(n,e){if(n==null)return{};var t=vP(n,e),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function vP(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Dg(){return Dg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Dg.apply(this,arguments)}function fA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Ig(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(t),!0).forEach(function(i){bP(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function bP(n,e,t){return e=_P(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _P(n){var e=EP(n,"string");return typeof e=="symbol"?e:e+""}function EP(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function NC(n){return n&&n.map((e,t)=>Ti.createElement(e.tag,Ig({key:t},e.attr),NC(e.child)))}function MC(n){return e=>Ti.createElement(wP,Dg({attr:Ig({},n.attr)},e),NC(n.child))}function wP(n){var e=t=>{var{attr:i,size:s,title:r}=n,o=yP(n,mP),c=s||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Ti.createElement("svg",Dg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:h,style:Ig(Ig({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),r&&Ti.createElement("title",null,r),n.children)};return dA!==void 0?Ti.createElement(dA.Consumer,null,t=>e(t)):e(kC)}function SP(n){return MC({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function AP(n){return MC({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}var gA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},TP=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=n[t++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=n[t++],o=n[t++],c=n[t++],h=((s&7)<<18|(r&63)<<12|(o&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const r=n[t++],o=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},PC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const r=n[s],o=s+1<n.length,c=o?n[s+1]:0,h=s+2<n.length,d=h?n[s+2]:0,g=r>>2,y=(r&3)<<4|c>>4;let b=(c&15)<<2|d>>6,_=d&63;h||(_=64,o||(b=64)),i.push(t[g],t[y],t[b],t[_])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(OC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):TP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const r=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const y=s<n.length?t[n.charAt(s)]:64;if(++s,r==null||c==null||d==null||y==null)throw new xP;const b=r<<2|c>>4;if(i.push(b),d!==64){const _=c<<4&240|d>>2;if(i.push(_),y!==64){const S=d<<6&192|y;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RP=function(n){const e=OC(n);return PC.encodeByteArray(e,!0)},kg=function(n){return RP(n).replace(/\./g,"")},jC=function(n){try{return PC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=()=>CP().__FIREBASE_DEFAULTS__,IP=()=>{if(typeof process>"u"||typeof gA>"u")return;const n=gA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&jC(n[1]);return e&&JSON.parse(e)},Ap=()=>{try{return DP()||IP()||kP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},LC=n=>{var e,t;return(t=(e=Ap())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},NP=n=>{const e=LC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},VC=()=>{var n;return(n=Ap())===null||n===void 0?void 0:n.config},UC=n=>{var e;return(e=Ap())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[kg(JSON.stringify(t)),kg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function jP(){var n;const e=(n=Ap())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function VP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UP(){const n=Mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zP(){return!jP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BC(){try{return typeof indexedDB=="object"}catch{return!1}}function HC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}function BP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="FirebaseError";class $i extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=HP,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ho.prototype.create)}}class Ho{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?FP(r,i):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new $i(s,c,i)}}function FP(n,e){return n.replace(qP,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const qP=/\{\$([^}]+)}/g;function GP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Eh(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const r=n[s],o=e[s];if(pA(r)&&pA(o)){if(!Eh(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function pA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Wu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function $u(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function WP(n,e){const t=new $P(n,e);return t.subscribe.bind(t)}class $P{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");YP(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=dv),s.error===void 0&&(s.error=dv),s.complete===void 0&&(s.complete=dv);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function dv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=1e3,KP=2,XP=4*60*60*1e3,ZP=.5;function mA(n,e=QP,t=KP){const i=e*Math.pow(t,n),s=Math.round(ZP*i*(Math.random()-.5)*2);return Math.min(XP,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n){return n&&n._delegate?n._delegate:n}class zi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new MP;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tj(e))try{this.getOrInitializeService({instanceIdentifier:vo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vo){return this.instances.has(e)}getOptions(e=vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[r,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(r);i===c&&o.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ej(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=vo){return this.component?this.component.multipleInstances?e:vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ej(n){return n===vo?void 0:n}function tj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const ij={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},sj=ze.INFO,rj={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},aj=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=rj[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tp{constructor(e){this.name=e,this._logLevel=sj,this._logHandler=aj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ij[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const oj=(n,e)=>e.some(t=>n instanceof t);let yA,vA;function lj(){return yA||(yA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cj(){return vA||(vA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FC=new WeakMap,sb=new WeakMap,qC=new WeakMap,fv=new WeakMap,o_=new WeakMap;function uj(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",o)},r=()=>{t(ma(n.result)),s()},o=()=>{i(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&FC.set(t,n)}).catch(()=>{}),o_.set(e,n),e}function hj(n){if(sb.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",o),n.removeEventListener("abort",o)},r=()=>{t(),s()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",o),n.addEventListener("abort",o)});sb.set(n,e)}let rb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ma(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function dj(n){rb=n(rb)}function fj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(gv(this),e,...t);return qC.set(i,e.sort?e.sort():[e]),ma(i)}:cj().includes(n)?function(...e){return n.apply(gv(this),e),ma(FC.get(this))}:function(...e){return ma(n.apply(gv(this),e))}}function gj(n){return typeof n=="function"?fj(n):(n instanceof IDBTransaction&&hj(n),oj(n,lj())?new Proxy(n,rb):n)}function ma(n){if(n instanceof IDBRequest)return uj(n);if(fv.has(n))return fv.get(n);const e=gj(n);return e!==n&&(fv.set(n,e),o_.set(e,n)),e}const gv=n=>o_.get(n);function GC(n,e,{blocked:t,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(n,e),c=ma(o);return i&&o.addEventListener("upgradeneeded",h=>{i(ma(o.result),h.oldVersion,h.newVersion,ma(o.transaction),h)}),t&&o.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{r&&h.addEventListener("close",()=>r()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const pj=["get","getKey","getAll","getAllKeys","count"],mj=["put","add","delete","clear"],pv=new Map;function bA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pv.get(e))return pv.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=mj.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||pj.includes(t)))return;const r=async function(o,...c){const h=this.transaction(o,s?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),s&&h.done]))[0]};return pv.set(e,r),r}dj(n=>({...n,get:(e,t,i)=>bA(e,t)||n.get(e,t,i),has:(e,t)=>!!bA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vj(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function vj(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ab="@firebase/app",_A="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new Tp("@firebase/app"),bj="@firebase/app-compat",_j="@firebase/analytics-compat",Ej="@firebase/analytics",wj="@firebase/app-check-compat",Sj="@firebase/app-check",Aj="@firebase/auth",Tj="@firebase/auth-compat",xj="@firebase/database",Rj="@firebase/data-connect",Cj="@firebase/database-compat",Dj="@firebase/functions",Ij="@firebase/functions-compat",kj="@firebase/installations",Nj="@firebase/installations-compat",Mj="@firebase/messaging",Oj="@firebase/messaging-compat",Pj="@firebase/performance",jj="@firebase/performance-compat",Lj="@firebase/remote-config",Vj="@firebase/remote-config-compat",Uj="@firebase/storage",zj="@firebase/storage-compat",Bj="@firebase/firestore",Hj="@firebase/vertexai",Fj="@firebase/firestore-compat",qj="firebase",Gj="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="[DEFAULT]",Wj={[ab]:"fire-core",[bj]:"fire-core-compat",[Ej]:"fire-analytics",[_j]:"fire-analytics-compat",[Sj]:"fire-app-check",[wj]:"fire-app-check-compat",[Aj]:"fire-auth",[Tj]:"fire-auth-compat",[xj]:"fire-rtdb",[Rj]:"fire-data-connect",[Cj]:"fire-rtdb-compat",[Dj]:"fire-fn",[Ij]:"fire-fn-compat",[kj]:"fire-iid",[Nj]:"fire-iid-compat",[Mj]:"fire-fcm",[Oj]:"fire-fcm-compat",[Pj]:"fire-perf",[jj]:"fire-perf-compat",[Lj]:"fire-rc",[Vj]:"fire-rc-compat",[Uj]:"fire-gcs",[zj]:"fire-gcs-compat",[Bj]:"fire-fst",[Fj]:"fire-fst-compat",[Hj]:"fire-vertex","fire-js":"fire-js",[qj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=new Map,$j=new Map,lb=new Map;function EA(n,e){try{n.container.addComponent(e)}catch(t){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function As(n){const e=n.name;if(lb.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;lb.set(e,n);for(const t of Ng.values())EA(t,n);for(const t of $j.values())EA(t,n);return!0}function Fo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Si(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ya=new Ho("app","Firebase",Yj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ya.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=Gj;function WC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ob,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw ya.create("bad-app-name",{appName:String(s)});if(t||(t=VC()),!t)throw ya.create("no-options");const r=Ng.get(s);if(r){if(Eh(t,r.options)&&Eh(i,r.config))return r;throw ya.create("duplicate-app",{appName:s})}const o=new nj(s);for(const h of lb.values())o.addComponent(h);const c=new Qj(t,i,o);return Ng.set(s,c),c}function l_(n=ob){const e=Ng.get(n);if(!e&&n===ob&&VC())return WC();if(!e)throw ya.create("no-app",{appName:n});return e}function xi(n,e,t){var i;let s=(i=Wj[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const c=[`Unable to register library "${s}" with version "${e}":`];r&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(c.join(" "));return}As(new zi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="firebase-heartbeat-database",Xj=1,wh="firebase-heartbeat-store";let mv=null;function $C(){return mv||(mv=GC(Kj,Xj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wh)}catch(t){console.warn(t)}}}}).catch(n=>{throw ya.create("idb-open",{originalErrorMessage:n.message})})),mv}async function Zj(n){try{const t=(await $C()).transaction(wh),i=await t.objectStore(wh).get(YC(n));return await t.done,i}catch(e){if(e instanceof $i)pr.warn(e.message);else{const t=ya.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pr.warn(t.message)}}}async function wA(n,e){try{const i=(await $C()).transaction(wh,"readwrite");await i.objectStore(wh).put(e,YC(n)),await i.done}catch(t){if(t instanceof $i)pr.warn(t.message);else{const i=ya.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});pr.warn(i.message)}}}function YC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=1024,eL=30;class tL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iL(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=SA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>eL){const o=sL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){pr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=SA(),{heartbeatsToSend:i,unsentEntries:s}=nL(this._heartbeatsCache.heartbeats),r=kg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return pr.warn(t),""}}}function SA(){return new Date().toISOString().substring(0,10)}function nL(n,e=Jj){const t=[];let i=n.slice();for(const s of n){const r=t.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),AA(t)>e){r.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),AA(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class iL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BC()?HC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Zj(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return wA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return wA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function AA(n){return kg(JSON.stringify({version:2,heartbeats:n})).length}function sL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(n){As(new zi("platform-logger",e=>new yj(e),"PRIVATE")),As(new zi("heartbeat",e=>new tL(e),"PRIVATE")),xi(ab,_A,n),xi(ab,_A,"esm2017"),xi("fire-js","")}rL("");function c_(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function QC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aL=QC,KC=new Ho("auth","Firebase",QC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg=new Tp("@firebase/auth");function oL(n,...e){Mg.logLevel<=ze.WARN&&Mg.warn(`Auth (${Ec}): ${n}`,...e)}function lg(n,...e){Mg.logLevel<=ze.ERROR&&Mg.error(`Auth (${Ec}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(n,...e){throw u_(n,...e)}function bs(n,...e){return u_(n,...e)}function XC(n,e,t){const i=Object.assign(Object.assign({},aL()),{[e]:t});return new Ho("auth","Firebase",i).create(e,{appName:n.name})}function ur(n){return XC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return KC.create(n,...e)}function Ie(n,e,...t){if(!n)throw u_(e,...t)}function rr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lg(e),new Error(e)}function mr(n,e){n||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ZC(){return TA()==="http:"||TA()==="https:"}function TA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZC()||zC()||"connection"in navigator)?navigator.onLine:!0}function cL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this.shortDelay=e,this.longDelay=t,mr(t>e,"Short delay should be less than long delay!"),this.isMobile=PP()||VP()}get(){return lL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(n,e){mr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new Wh(3e4,6e4);function Rs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Yi(n,e,t,i,s={}){return eD(n,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const c=Gh(Object.assign({key:n.config.apiKey},o)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:h},r);return LP()||(d.referrerPolicy="no-referrer"),JC.fetch()(tD(n,n.config.apiHost,t,c),d)})}async function eD(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},uL),e);try{const s=new fL(n),r=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw kf(n,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const c=r.ok?o.errorMessage:o.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw kf(n,"credential-already-in-use",o);if(h==="EMAIL_EXISTS")throw kf(n,"email-already-in-use",o);if(h==="USER_DISABLED")throw kf(n,"user-disabled",o);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw XC(n,g,d);Bi(n,g)}}catch(s){if(s instanceof $i)throw s;Bi(n,"network-request-failed",{message:String(s)})}}async function $h(n,e,t,i,s={}){const r=await Yi(n,e,t,i,s);return"mfaPendingCredential"in r&&Bi(n,"multi-factor-auth-required",{_serverResponse:r}),r}function tD(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?h_(n.config,s):`${n.config.apiScheme}://${s}`}function dL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(bs(this.auth,"network-request-failed")),hL.get())})}}function kf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=bs(n,e,i);return s.customData._tokenResponse=t,s}function xA(n){return n!==void 0&&n.enterprise!==void 0}class gL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return dL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pL(n,e){return Yi(n,"GET","/v2/recaptchaConfig",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(n,e){return Yi(n,"POST","/v1/accounts:delete",e)}async function nD(n,e){return Yi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yL(n,e=!1){const t=Tt(n),i=await t.getIdToken(e),s=d_(i);Ie(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:sh(yv(s.auth_time)),issuedAtTime:sh(yv(s.iat)),expirationTime:sh(yv(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function yv(n){return Number(n)*1e3}function d_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return lg("JWT malformed, contained fewer than 3 sections"),null;try{const s=jC(t);return s?JSON.parse(s):(lg("Failed to decode base64 JWT payload"),null)}catch(s){return lg("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function RA(n){const e=d_(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof $i&&vL(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function vL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sh(this.lastLoginAt),this.creationTime=sh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pg(n){var e;const t=n.auth,i=await n.getIdToken(),s=await ac(n,nD(t,{idToken:i}));Ie(s==null?void 0:s.users.length,t,"internal-error");const r=s.users[0];n._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?iD(r.providerUserInfo):[],c=EL(n.providerData,o),h=n.isAnonymous,d=!(n.email&&r.passwordHash)&&!(c!=null&&c.length),g=h?d:!1,y={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new cb(r.createdAt,r.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function _L(n){const e=Tt(n);await Pg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EL(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function iD(n){return n.map(e=>{var{providerId:t}=e,i=c_(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(n,e){const t=await eD(n,{},async()=>{const i=Gh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=n.config,o=tD(n,s,"/v1/token",`key=${r}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",JC.fetch()(o,{method:"POST",headers:c,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function SL(n,e){return Yi(n,"POST","/v2/accounts:revokeToken",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=RA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:r}=await wL(e,t);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:r}=t,o=new Zl;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(Ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(Ie(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zl,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ar{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,r=c_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new cb(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await ac(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return yL(this,e)}reload(){return _L(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Pg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await ac(this,mL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,r,o,c,h,d,g;const y=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(s=t.email)!==null&&s!==void 0?s:void 0,_=(r=t.phoneNumber)!==null&&r!==void 0?r:void 0,S=(o=t.photoURL)!==null&&o!==void 0?o:void 0,T=(c=t.tenantId)!==null&&c!==void 0?c:void 0,A=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,I=(d=t.createdAt)!==null&&d!==void 0?d:void 0,M=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:j,emailVerified:H,isAnonymous:q,providerData:Q,stsTokenManager:P}=t;Ie(j&&P,e,"internal-error");const C=Zl.fromJSON(this.name,P);Ie(typeof j=="string",e,"internal-error"),ia(y,e.name),ia(b,e.name),Ie(typeof H=="boolean",e,"internal-error"),Ie(typeof q=="boolean",e,"internal-error"),ia(_,e.name),ia(S,e.name),ia(T,e.name),ia(A,e.name),ia(I,e.name),ia(M,e.name);const D=new ar({uid:j,auth:e,email:b,emailVerified:H,displayName:y,isAnonymous:q,photoURL:S,phoneNumber:_,tenantId:T,stsTokenManager:C,createdAt:I,lastLoginAt:M});return Q&&Array.isArray(Q)&&(D.providerData=Q.map(O=>Object.assign({},O))),A&&(D._redirectEventId=A),D}static async _fromIdTokenResponse(e,t,i=!1){const s=new Zl;s.updateFromServerResponse(t);const r=new ar({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Pg(r),r}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ie(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?iD(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),c=new Zl;c.updateFromIdToken(i);const h=new ar({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new cb(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new Map;function or(n){mr(n instanceof Function,"Expected a class definition");let e=CA.get(n);return e?(mr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,CA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}sD.type="NONE";const DA=sD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(n,e,t){return`firebase:${n}:${e}:${t}`}class Jl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=cg(this.userKey,s.apiKey,r),this.fullPersistenceKey=cg("persistence",s.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ar._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Jl(or(DA),e,i);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let r=s[0]||or(DA);const o=cg(i,e.config.apiKey,e.name);let c=null;for(const d of t)try{const g=await d._get(o);if(g){const y=ar._fromJSON(e,g);d!==r&&(c=y),r=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!r._shouldAllowMigration||!h.length?new Jl(r,e,i):(r=h[0],c&&await r._set(o,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==r)try{await d._remove(o)}catch{}})),new Jl(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uD(e))return"Blackberry";if(hD(e))return"Webos";if(aD(e))return"Safari";if((e.includes("chrome/")||oD(e))&&!e.includes("edge/"))return"Chrome";if(cD(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function rD(n=Mn()){return/firefox\//i.test(n)}function aD(n=Mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oD(n=Mn()){return/crios\//i.test(n)}function lD(n=Mn()){return/iemobile/i.test(n)}function cD(n=Mn()){return/android/i.test(n)}function uD(n=Mn()){return/blackberry/i.test(n)}function hD(n=Mn()){return/webos/i.test(n)}function f_(n=Mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function AL(n=Mn()){var e;return f_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TL(){return UP()&&document.documentMode===10}function dD(n=Mn()){return f_(n)||cD(n)||hD(n)||uD(n)||/windows phone/i.test(n)||lD(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(n,e=[]){let t;switch(n){case"Browser":t=IA(Mn());break;case"Worker":t=`${IA(Mn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ec}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=r=>new Promise((o,c)=>{try{const h=e(r);o(h)}catch(h){c(h)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(n,e={}){return Yi(n,"GET","/v2/passwordPolicy",Rs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=6;class DL{constructor(e){var t,i,s,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:CL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,r,o,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(r=h.containsUppercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsNumericCharacter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kA(this),this.idTokenSubscription=new kA(this),this.beforeStateQueue=new xL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=or(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Jl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nD(this,{idToken:e}),i=await ar._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Si(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&(h!=null&&h.user)&&(s=h.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Si(this.app))return Promise.reject(ur(this));const t=e?Tt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Si(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RL(this),t=new DL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ho("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await SL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&or(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Jl.create(this,[or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const r=typeof t=="function"?t:t.next.bind(t);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(c,this,"internal-error"),c.then(()=>{o||r(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,s);return()=>{o=!0,h()}}else{const h=e.addObserver(t);return()=>{o=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&oL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function qo(n){return Tt(n)}class kA{constructor(e){this.auth=e,this.observer=null,this.addObserver=WP(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kL(n){xp=n}function gD(n){return xp.loadJS(n)}function NL(){return xp.recaptchaEnterpriseScript}function ML(){return xp.gapiScript}function OL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class PL{constructor(){this.enterprise=new jL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class jL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const LL="recaptcha-enterprise",pD="NO_RECAPTCHA";class VL{constructor(e){this.type=LL,this.auth=qo(e)}async verify(e="verify",t=!1){async function i(r){if(!t){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,c)=>{pL(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new gL(h);return r.tenantId==null?r._agentRecaptchaConfig=d:r._tenantRecaptchaConfigs[r.tenantId]=d,o(d.siteKey)}}).catch(h=>{c(h)})})}function s(r,o,c){const h=window.grecaptcha;xA(h)?h.enterprise.ready(()=>{h.enterprise.execute(r,{action:e}).then(d=>{o(d)}).catch(()=>{o(pD)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PL().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{i(this.auth).then(c=>{if(!t&&xA(window.grecaptcha))s(c,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let h=NL();h.length!==0&&(h+=c),gD(h).then(()=>{s(c,r,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})}}async function NA(n,e,t,i=!1,s=!1){const r=new VL(n);let o;if(s)o=pD;else try{o=await r.verify(t)}catch{o=await r.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function ub(n,e,t,i,s){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await NA(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await NA(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(n,e){const t=Fo(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),r=t.getOptions();if(Eh(r,e??{}))return s;Bi(s,"already-initialized")}return t.initialize({options:e})}function zL(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(or);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function BL(n,e,t){const i=qo(n);Ie(i._canInitEmulator,i,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=mD(e),{host:o,port:c}=HL(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${r}//${o}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:c,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),FL()}function mD(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function HL(n){const e=mD(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:MA(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:MA(o)}}}function MA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function FL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,t){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function qL(n,e){return Yi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(n,e){return $h(n,"POST","/v1/accounts:signInWithPassword",Rs(n,e))}async function WL(n,e){return Yi(n,"POST","/v1/accounts:sendOobCode",Rs(n,e))}async function $L(n,e){return WL(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(n,e){return $h(n,"POST","/v1/accounts:signInWithEmailLink",Rs(n,e))}async function QL(n,e){return $h(n,"POST","/v1/accounts:signInWithEmailLink",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends g_{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Sh(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Sh(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ub(e,t,"signInWithPassword",GL);case"emailLink":return YL(e,{email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ub(e,i,"signUpPassword",qL);case"emailLink":return QL(e,{idToken:t,email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(n,e){return $h(n,"POST","/v1/accounts:signInWithIdp",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="http://localhost";class ko extends g_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,r=c_(t,["providerId","signInMethod"]);if(!i||!s)return null;const o=new ko(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return ec(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ec(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ec(e,t)}buildRequest(){const e={requestUri:KL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZL(n){const e=Wu($u(n)).link,t=e?Wu($u(e)).deep_link_id:null,i=Wu($u(n)).deep_link_id;return(i?Wu($u(i)).link:null)||i||t||e||n}class p_{constructor(e){var t,i,s,r,o,c;const h=Wu($u(e)),d=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(i=h.oobCode)!==null&&i!==void 0?i:null,y=XL((s=h.mode)!==null&&s!==void 0?s:null);Ie(d&&g&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=g,this.continueUrl=(r=h.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=h.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=ZL(e);try{return new p_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this.providerId=wc.PROVIDER_ID}static credential(e,t){return Sh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=p_.parseLink(t);return Ie(i,"argument-error"),Sh._fromEmailAndCode(e,i.code,i.tenantId)}}wc.PROVIDER_ID="password";wc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends yD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Yh{constructor(){super("facebook.com")}static credential(e){return ko._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends Yh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ko._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return sr.credential(t,i)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Yh{constructor(){super("github.com")}static credential(e){return ko._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.GITHUB_SIGN_IN_METHOD="github.com";oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends Yh{constructor(){super("twitter.com")}static credential(e,t){return ko._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return la.credential(t,i)}catch{return null}}}la.TWITTER_SIGN_IN_METHOD="twitter.com";la.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(n,e){return $h(n,"POST","/v1/accounts:signUp",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const r=await ar._fromIdTokenResponse(e,i,s),o=OA(i);return new No({user:r,providerId:o,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=OA(i);return new No({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function OA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg extends $i{constructor(e,t,i,s){var r;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,jg.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new jg(e,t,i,s)}}function vD(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?jg._fromErrorAndOperation(n,r,e,i):r})}async function eV(n,e,t=!1){const i=await ac(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return No._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(n,e,t=!1){const{auth:i}=n;if(Si(i.app))return Promise.reject(ur(i));const s="reauthenticate";try{const r=await ac(n,vD(i,s,e,n),t);Ie(r.idToken,i,"internal-error");const o=d_(r.idToken);Ie(o,i,"internal-error");const{sub:c}=o;return Ie(n.uid===c,i,"user-mismatch"),No._forOperation(n,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Bi(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(n,e,t=!1){if(Si(n.app))return Promise.reject(ur(n));const i="signIn",s=await vD(n,i,e),r=await No._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(r.user),r}async function nV(n,e){return bD(qo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(n){const e=qo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iV(n,e,t){if(Si(n.app))return Promise.reject(ur(n));const i=qo(n),o=await ub(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JL).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&_D(n),h}),c=await No._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(c.user),c}function sV(n,e,t){return Si(n.app)?Promise.reject(ur(n)):nV(Tt(n),wc.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&_D(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(n,e){return Yi(n,"POST","/v1/accounts:createAuthUri",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(n,e){const t=ZC()?Og():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:s}=await rV(Tt(n),i);return s||[]}async function oV(n,e){const t=Tt(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:r}=await $L(t.auth,s);r!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(n,e){return Yi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Tt(n),r={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await ac(i,lV(i.auth,r));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function uV(n,e,t,i){return Tt(n).onIdTokenChanged(e,t,i)}function hV(n,e,t){return Tt(n).beforeAuthStateChanged(e,t)}function ED(n,e,t,i){return Tt(n).onAuthStateChanged(e,t,i)}function dV(n){return Tt(n).signOut()}const Lg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lg,"1"),this.storage.removeItem(Lg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=1e3,gV=10;class SD extends wD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,c,h)=>{this.notifyListeners(o,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(i);!t&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);TL()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,gV):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},fV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}SD.type="LOCAL";const pV=SD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD extends wD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}AD.type="SESSION";const TD=AD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Rp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:r}=t.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(o).map(async d=>d(t.origin,r)),h=await mV(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((c,h)=>{const d=m_("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(y){const b=y;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(g),r=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),c(b.data.response);break;default:clearTimeout(g),clearTimeout(r),h(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return window}function vV(n){_s().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function bV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _V(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function EV(){return xD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firebaseLocalStorageDb",wV=1,Vg="firebaseLocalStorage",CD="fbase_key";class Qh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cp(n,e){return n.transaction([Vg],e?"readwrite":"readonly").objectStore(Vg)}function SV(){const n=indexedDB.deleteDatabase(RD);return new Qh(n).toPromise()}function hb(){const n=indexedDB.open(RD,wV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Vg,{keyPath:CD})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Vg)?e(i):(i.close(),await SV(),e(await hb()))})})}async function PA(n,e,t){const i=Cp(n,!0).put({[CD]:e,value:t});return new Qh(i).toPromise()}async function AV(n,e){const t=Cp(n,!1).get(e),i=await new Qh(t).toPromise();return i===void 0?null:i.value}function jA(n,e){const t=Cp(n,!0).delete(e);return new Qh(t).toPromise()}const TV=800,xV=3;class DD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hb(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>xV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rp._getInstance(EV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await bV(),!this.activeServiceWorker)return;this.sender=new yV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_V()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hb();return await PA(e,Lg,"1"),await jA(e,Lg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>PA(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>AV(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Cp(s,!1).getAll();return new Qh(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DD.type="LOCAL";const RV=DD;new Wh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(n,e){return e?or(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_ extends g_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ec(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ec(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ec(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function DV(n){return bD(n.auth,new y_(n),n.bypassAuthState)}function IV(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),tV(t,new y_(n),n.bypassAuthState)}async function kV(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),eV(t,new y_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,t,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:r,error:o,type:c}=e;if(o){this.reject(o);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DV;case"linkViaPopup":case"linkViaRedirect":return kV;case"reauthViaPopup":case"reauthViaRedirect":return IV;default:Bi(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=new Wh(2e3,1e4);class Kl extends ID{constructor(e,t,i,s,r){super(e,t,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Kl.currentPopupAction&&Kl.currentPopupAction.cancel(),Kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=m_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NV.get())};e()}}Kl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="pendingRedirect",ug=new Map;class OV extends ID{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ug.get(this.auth._key());if(!e){try{const i=await PV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ug.set(this.auth._key(),e)}return this.bypassAuthState||ug.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PV(n,e){const t=VV(e),i=LV(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function jV(n,e){ug.set(n._key(),e)}function LV(n){return or(n._redirectPersistence)}function VV(n){return cg(MV,n.config.apiKey,n.name)}async function UV(n,e,t=!1){if(Si(n.app))return Promise.reject(ur(n));const i=qo(n),s=CV(i,e),o=await new OV(i,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=10*60*1e3;class BV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!kD(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(bs(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zV&&this.cachedEventUids.clear(),this.cachedEventUids.has(LA(e))}saveEventToCache(e){this.cachedEventUids.add(LA(e)),this.lastProcessedEventTime=Date.now()}}function LA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function kD({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kD(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(n,e={}){return Yi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GV=/^https?/;async function WV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await FV(n);for(const t of e)try{if($V(t))return}catch{}Bi(n,"unauthorized-domain")}function $V(n){const e=Og(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!GV.test(t))return!1;if(qV.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=new Wh(3e4,6e4);function VA(){const n=_s().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function QV(n){return new Promise((e,t)=>{var i,s,r;function o(){VA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VA(),t(bs(n,"network-request-failed"))},timeout:YV.get()})}if(!((s=(i=_s().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=_s().gapi)===null||r===void 0)&&r.load)o();else{const c=OL("iframefcb");return _s()[c]=()=>{gapi.load?o():t(bs(n,"network-request-failed"))},gD(`${ML()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw hg=null,e})}let hg=null;function KV(n){return hg=hg||QV(n),hg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=new Wh(5e3,15e3),ZV="__/auth/iframe",JV="emulator/auth/iframe",eU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nU(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?h_(e,JV):`https://${n.config.authDomain}/${ZV}`,i={apiKey:e.apiKey,appName:n.name,v:Ec},s=tU.get(n.config.apiHost);s&&(i.eid=s);const r=n._getFrameworks();return r.length&&(i.fw=r.join(",")),`${t}?${Gh(i).slice(1)}`}async function iU(n){const e=await KV(n),t=_s().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:nU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eU,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=bs(n,"network-request-failed"),c=_s().setTimeout(()=>{r(o)},XV.get());function h(){_s().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rU=500,aU=600,oU="_blank",lU="http://localhost";class UA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cU(n,e,t,i=rU,s=aU){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},sU),{width:i.toString(),height:s.toString(),top:r,left:o}),d=Mn().toLowerCase();t&&(c=oD(d)?oU:t),rD(d)&&(e=e||lU,h.scrollbars="yes");const g=Object.entries(h).reduce((b,[_,S])=>`${b}${_}=${S},`,"");if(AL(d)&&c!=="_self")return uU(e||"",c),new UA(null);const y=window.open(e||"",c,g);Ie(y,n,"popup-blocked");try{y.focus()}catch{}return new UA(y)}function uU(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="__/auth/handler",dU="emulator/auth/handler",fU=encodeURIComponent("fac");async function zA(n,e,t,i,s,r){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ec,eventId:s};if(e instanceof yD){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",GP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))o[g]=y}if(e instanceof Yh){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(o.scopes=g.join(","))}n.tenantId&&(o.tid=n.tenantId);const c=o;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),d=h?`#${fU}=${encodeURIComponent(h)}`:"";return`${gU(n)}?${Gh(c).slice(1)}${d}`}function gU({config:n}){return n.emulator?h_(n,dU):`https://${n.authDomain}/${hU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="webStorageSupport";class pU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TD,this._completeRedirectFn=UV,this._overrideRedirectResult=jV}async _openPopup(e,t,i,s){var r;mr((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await zA(e,t,i,Og(),s);return cU(e,o,m_())}async _openRedirect(e,t,i,s){await this._originValidation(e);const r=await zA(e,t,i,Og(),s);return vV(r),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:r}=this.eventManagers[t];return s?Promise.resolve(s):(mr(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await iU(e),i=new BV(e);return t.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vv,{type:vv},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[vv];o!==void 0&&t(!!o),Bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dD()||aD()||f_()}}const mU=pU;var BA="@firebase/auth",HA="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bU(n){As(new zi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;Ie(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fD(n)},d=new IL(i,s,r,h);return zL(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),As(new zi("auth-internal",e=>{const t=qo(e.getProvider("auth").getImmediate());return(i=>new yU(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(BA,HA,vU(n)),xi(BA,HA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=5*60,EU=UC("authIdTokenMaxAge")||_U;let FA=null;const wU=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>EU)return;const s=t==null?void 0:t.token;FA!==s&&(FA=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function SU(n=l_()){const e=Fo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=UL(n,{popupRedirectResolver:mU,persistence:[RV,pV,TD]}),i=UC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const o=wU(r.toString());hV(t,o,()=>o(t.currentUser)),uV(t,c=>o(c))}}const s=LC("auth");return s&&BL(t,`http://${s}`),t}function AU(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}kL({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const r=bs("internal-error");r.customData=s,t(r)},i.type="text/javascript",i.charset="UTF-8",AU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bU("Browser");var TU="firebase",xU="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(TU,xU,"app");const ND="@firebase/installations",v_="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=1e4,OD=`w:${v_}`,PD="FIS_v2",RU="https://firebaseinstallations.googleapis.com/v1",CU=60*60*1e3,DU="installations",IU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Mo=new Ho(DU,IU,kU);function jD(n){return n instanceof $i&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD({projectId:n}){return`${RU}/projects/${n}/installations`}function VD(n){return{token:n.token,requestStatus:2,expiresIn:MU(n.expiresIn),creationTime:Date.now()}}async function UD(n,e){const i=(await e.json()).error;return Mo.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function zD({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function NU(n,{refreshToken:e}){const t=zD(n);return t.append("Authorization",OU(e)),t}async function BD(n){const e=await n();return e.status>=500&&e.status<600?n():e}function MU(n){return Number(n.replace("s","000"))}function OU(n){return`${PD} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PU({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=LD(n),s=zD(n),r=e.getImmediate({optional:!0});if(r){const d=await r.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:t,authVersion:PD,appId:n.appId,sdkVersion:OD},c={method:"POST",headers:s,body:JSON.stringify(o)},h=await BD(()=>fetch(i,c));if(h.ok){const d=await h.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:VD(d.authToken)}}else throw await UD("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=/^[cdef][\w-]{21}$/,db="";function VU(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=UU(n);return LU.test(t)?t:db}catch{return db}}function UU(n){return jU(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new Map;function qD(n,e){const t=Dp(n);GD(t,e),zU(t,e)}function GD(n,e){const t=FD.get(n);if(t)for(const i of t)i(e)}function zU(n,e){const t=BU();t&&t.postMessage({key:n,fid:e}),HU()}let Ao=null;function BU(){return!Ao&&"BroadcastChannel"in self&&(Ao=new BroadcastChannel("[Firebase] FID Change"),Ao.onmessage=n=>{GD(n.data.key,n.data.fid)}),Ao}function HU(){FD.size===0&&Ao&&(Ao.close(),Ao=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU="firebase-installations-database",qU=1,Oo="firebase-installations-store";let bv=null;function b_(){return bv||(bv=GC(FU,qU,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Oo)}}})),bv}async function Ug(n,e){const t=Dp(n),s=(await b_()).transaction(Oo,"readwrite"),r=s.objectStore(Oo),o=await r.get(t);return await r.put(e,t),await s.done,(!o||o.fid!==e.fid)&&qD(n,e.fid),e}async function WD(n){const e=Dp(n),i=(await b_()).transaction(Oo,"readwrite");await i.objectStore(Oo).delete(e),await i.done}async function Ip(n,e){const t=Dp(n),s=(await b_()).transaction(Oo,"readwrite"),r=s.objectStore(Oo),o=await r.get(t),c=e(o);return c===void 0?await r.delete(t):await r.put(c,t),await s.done,c&&(!o||o.fid!==c.fid)&&qD(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __(n){let e;const t=await Ip(n.appConfig,i=>{const s=GU(i),r=WU(n,s);return e=r.registrationPromise,r.installationEntry});return t.fid===db?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function GU(n){const e=n||{fid:VU(),registrationStatus:0};return $D(e)}function WU(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Mo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=$U(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:YU(n)}:{installationEntry:e}}async function $U(n,e){try{const t=await PU(n,e);return Ug(n.appConfig,t)}catch(t){throw jD(t)&&t.customData.serverCode===409?await WD(n.appConfig):await Ug(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function YU(n){let e=await qA(n.appConfig);for(;e.registrationStatus===1;)await HD(100),e=await qA(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await __(n);return i||t}return e}function qA(n){return Ip(n,e=>{if(!e)throw Mo.create("installation-not-found");return $D(e)})}function $D(n){return QU(n)?{fid:n.fid,registrationStatus:0}:n}function QU(n){return n.registrationStatus===1&&n.registrationTime+MD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU({appConfig:n,heartbeatServiceProvider:e},t){const i=XU(n,t),s=NU(n,t),r=e.getImmediate({optional:!0});if(r){const d=await r.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:OD,appId:n.appId}},c={method:"POST",headers:s,body:JSON.stringify(o)},h=await BD(()=>fetch(i,c));if(h.ok){const d=await h.json();return VD(d)}else throw await UD("Generate Auth Token",h)}function XU(n,{fid:e}){return`${LD(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E_(n,e=!1){let t;const i=await Ip(n.appConfig,r=>{if(!YD(r))throw Mo.create("not-registered");const o=r.authToken;if(!e&&ez(o))return r;if(o.requestStatus===1)return t=ZU(n,e),r;{if(!navigator.onLine)throw Mo.create("app-offline");const c=nz(r);return t=JU(n,c),c}});return t?await t:i.authToken}async function ZU(n,e){let t=await GA(n.appConfig);for(;t.authToken.requestStatus===1;)await HD(100),t=await GA(n.appConfig);const i=t.authToken;return i.requestStatus===0?E_(n,e):i}function GA(n){return Ip(n,e=>{if(!YD(e))throw Mo.create("not-registered");const t=e.authToken;return iz(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function JU(n,e){try{const t=await KU(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await Ug(n.appConfig,i),t}catch(t){if(jD(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await WD(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ug(n.appConfig,i)}throw t}}function YD(n){return n!==void 0&&n.registrationStatus===2}function ez(n){return n.requestStatus===2&&!tz(n)}function tz(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+CU}function nz(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function iz(n){return n.requestStatus===1&&n.requestTime+MD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz(n){const e=n,{installationEntry:t,registrationPromise:i}=await __(e);return i?i.catch(console.error):E_(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(n,e=!1){const t=n;return await az(t),(await E_(t,e)).token}async function az(n){const{registrationPromise:e}=await __(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(n){if(!n||!n.options)throw _v("App Configuration");if(!n.name)throw _v("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw _v(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function _v(n){return Mo.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="installations",lz="installations-internal",cz=n=>{const e=n.getProvider("app").getImmediate(),t=oz(e),i=Fo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},uz=n=>{const e=n.getProvider("app").getImmediate(),t=Fo(e,QD).getImmediate();return{getId:()=>sz(t),getToken:s=>rz(t,s)}};function hz(){As(new zi(QD,cz,"PUBLIC")),As(new zi(lz,uz,"PRIVATE"))}hz();xi(ND,v_);xi(ND,v_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="analytics",dz="firebase_id",fz="origin",gz=60*1e3,pz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",w_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new Tp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},si=new Ho("analytics","Analytics",mz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(n){if(!n.startsWith(w_)){const e=si.create("invalid-gtag-resource",{gtagURL:n});return Qn.warn(e.message),""}return n}function KD(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function vz(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function bz(n,e){const t=vz("firebase-js-sdk-policy",{createScriptURL:yz}),i=document.createElement("script"),s=`${w_}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function _z(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Ez(n,e,t,i,s,r){const o=i[s];try{if(o)await e[o];else{const h=(await KD(t)).find(d=>d.measurementId===s);h&&await e[h.appId]}}catch(c){Qn.error(c)}n("config",s,r)}async function wz(n,e,t,i,s){try{let r=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const c=await KD(t);for(const h of o){const d=c.find(y=>y.measurementId===h),g=d&&e[d.appId];if(g)r.push(g);else{r=[];break}}}r.length===0&&(r=Object.values(e)),await Promise.all(r),n("event",i,s||{})}catch(r){Qn.error(r)}}function Sz(n,e,t,i){async function s(r,...o){try{if(r==="event"){const[c,h]=o;await wz(n,e,t,c,h)}else if(r==="config"){const[c,h]=o;await Ez(n,e,t,i,c,h)}else if(r==="consent"){const[c,h]=o;n("consent",c,h)}else if(r==="get"){const[c,h,d]=o;n("get",c,h,d)}else if(r==="set"){const[c]=o;n("set",c)}else n(r,...o)}catch(c){Qn.error(c)}}return s}function Az(n,e,t,i,s){let r=function(...o){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=Sz(r,n,e,t),{gtagCore:r,wrappedGtag:window[s]}}function Tz(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(w_)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=30,Rz=1e3;class Cz{constructor(e={},t=Rz){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const XD=new Cz;function Dz(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Iz(n){var e;const{appId:t,apiKey:i}=n,s={method:"GET",headers:Dz(i)},r=pz.replace("{app-id}",t),o=await fetch(r,s);if(o.status!==200&&o.status!==304){let c="";try{const h=await o.json();!((e=h.error)===null||e===void 0)&&e.message&&(c=h.error.message)}catch{}throw si.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function kz(n,e=XD,t){const{appId:i,apiKey:s,measurementId:r}=n.options;if(!i)throw si.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw si.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Oz;return setTimeout(async()=>{c.abort()},gz),ZD({appId:i,apiKey:s,measurementId:r},o,c,e)}async function ZD(n,{throttleEndTimeMillis:e,backoffCount:t},i,s=XD){var r;const{appId:o,measurementId:c}=n;try{await Nz(i,e)}catch(h){if(c)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:o,measurementId:c};throw h}try{const h=await Iz(n);return s.deleteThrottleMetadata(o),h}catch(h){const d=h;if(!Mz(d)){if(s.deleteThrottleMetadata(o),c)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:c};throw h}const g=Number((r=d==null?void 0:d.customData)===null||r===void 0?void 0:r.httpStatus)===503?mA(t,s.intervalMillis,xz):mA(t,s.intervalMillis),y={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return s.setThrottleMetadata(o,y),Qn.debug(`Calling attemptFetch again in ${g} millis`),ZD(n,y,i,s)}}function Nz(n,e){return new Promise((t,i)=>{const s=Math.max(e-Date.now(),0),r=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(r),i(si.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Mz(n){if(!(n instanceof $i)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class Oz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Pz(n,e,t,i,s){if(s&&s.global){n("event",t,i);return}else{const r=await e,o=Object.assign(Object.assign({},i),{send_to:r});n("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jz(){if(BC())try{await HC()}catch(n){return Qn.warn(si.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Qn.warn(si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Lz(n,e,t,i,s,r,o){var c;const h=kz(n);h.then(_=>{t[_.measurementId]=_.appId,n.options.measurementId&&_.measurementId!==n.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>Qn.error(_)),e.push(h);const d=jz().then(_=>{if(_)return i.getId()}),[g,y]=await Promise.all([h,d]);Tz(r)||bz(r,g.measurementId),s("js",new Date);const b=(c=o==null?void 0:o.config)!==null&&c!==void 0?c:{};return b[fz]="firebase",b.update=!0,y!=null&&(b[dz]=y),s("config",g.measurementId,b),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.app=e}_delete(){return delete rh[this.app.options.appId],Promise.resolve()}}let rh={},WA=[];const $A={};let Ev="dataLayer",Uz="gtag",YA,JD,QA=!1;function zz(){const n=[];if(zC()&&n.push("This is a browser extension environment."),BP()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,s)=>`(${s+1}) ${i}`).join(" "),t=si.create("invalid-analytics-context",{errorInfo:e});Qn.warn(t.message)}}function Bz(n,e,t){zz();const i=n.options.appId;if(!i)throw si.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw si.create("no-api-key");if(rh[i]!=null)throw si.create("already-exists",{id:i});if(!QA){_z(Ev);const{wrappedGtag:r,gtagCore:o}=Az(rh,WA,$A,Ev,Uz);JD=r,YA=o,QA=!0}return rh[i]=Lz(n,WA,$A,e,YA,Ev,t),new Vz(n)}function Hz(n=l_()){n=Tt(n);const e=Fo(n,zg);return e.isInitialized()?e.getImmediate():Fz(n)}function Fz(n,e={}){const t=Fo(n,zg);if(t.isInitialized()){const s=t.getImmediate();if(Eh(e,t.getOptions()))return s;throw si.create("already-initialized")}return t.initialize({options:e})}function qz(n,e,t,i){n=Tt(n),Pz(JD,rh[n.app.options.appId],e,t,i).catch(s=>Qn.error(s))}const KA="@firebase/analytics",XA="0.10.11";function Gz(){As(new zi(zg,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Bz(i,s,t)},"PUBLIC")),As(new zi("analytics-internal",n,"PRIVATE")),xi(KA,XA),xi(KA,XA,"esm2017");function n(e){try{const t=e.getProvider(zg).getImmediate();return{logEvent:(i,s,r)=>qz(t,i,s,r)}}catch(t){throw si.create("interop-component-reg-failed",{reason:t})}}}Gz();var ZA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var va,eI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function D(){}D.prototype=C.prototype,P.D=C.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(O,V,z){for(var L=Array(arguments.length-2),we=2;we<arguments.length;we++)L[we-2]=arguments[we];return C.prototype[V].apply(O,L)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,C,D){D||(D=0);var O=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)O[V]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(V=0;16>V;++V)O[V]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=P.g[0],D=P.g[1],V=P.g[2];var z=P.g[3],L=C+(z^D&(V^z))+O[0]+3614090360&4294967295;C=D+(L<<7&4294967295|L>>>25),L=z+(V^C&(D^V))+O[1]+3905402710&4294967295,z=C+(L<<12&4294967295|L>>>20),L=V+(D^z&(C^D))+O[2]+606105819&4294967295,V=z+(L<<17&4294967295|L>>>15),L=D+(C^V&(z^C))+O[3]+3250441966&4294967295,D=V+(L<<22&4294967295|L>>>10),L=C+(z^D&(V^z))+O[4]+4118548399&4294967295,C=D+(L<<7&4294967295|L>>>25),L=z+(V^C&(D^V))+O[5]+1200080426&4294967295,z=C+(L<<12&4294967295|L>>>20),L=V+(D^z&(C^D))+O[6]+2821735955&4294967295,V=z+(L<<17&4294967295|L>>>15),L=D+(C^V&(z^C))+O[7]+4249261313&4294967295,D=V+(L<<22&4294967295|L>>>10),L=C+(z^D&(V^z))+O[8]+1770035416&4294967295,C=D+(L<<7&4294967295|L>>>25),L=z+(V^C&(D^V))+O[9]+2336552879&4294967295,z=C+(L<<12&4294967295|L>>>20),L=V+(D^z&(C^D))+O[10]+4294925233&4294967295,V=z+(L<<17&4294967295|L>>>15),L=D+(C^V&(z^C))+O[11]+2304563134&4294967295,D=V+(L<<22&4294967295|L>>>10),L=C+(z^D&(V^z))+O[12]+1804603682&4294967295,C=D+(L<<7&4294967295|L>>>25),L=z+(V^C&(D^V))+O[13]+4254626195&4294967295,z=C+(L<<12&4294967295|L>>>20),L=V+(D^z&(C^D))+O[14]+2792965006&4294967295,V=z+(L<<17&4294967295|L>>>15),L=D+(C^V&(z^C))+O[15]+1236535329&4294967295,D=V+(L<<22&4294967295|L>>>10),L=C+(V^z&(D^V))+O[1]+4129170786&4294967295,C=D+(L<<5&4294967295|L>>>27),L=z+(D^V&(C^D))+O[6]+3225465664&4294967295,z=C+(L<<9&4294967295|L>>>23),L=V+(C^D&(z^C))+O[11]+643717713&4294967295,V=z+(L<<14&4294967295|L>>>18),L=D+(z^C&(V^z))+O[0]+3921069994&4294967295,D=V+(L<<20&4294967295|L>>>12),L=C+(V^z&(D^V))+O[5]+3593408605&4294967295,C=D+(L<<5&4294967295|L>>>27),L=z+(D^V&(C^D))+O[10]+38016083&4294967295,z=C+(L<<9&4294967295|L>>>23),L=V+(C^D&(z^C))+O[15]+3634488961&4294967295,V=z+(L<<14&4294967295|L>>>18),L=D+(z^C&(V^z))+O[4]+3889429448&4294967295,D=V+(L<<20&4294967295|L>>>12),L=C+(V^z&(D^V))+O[9]+568446438&4294967295,C=D+(L<<5&4294967295|L>>>27),L=z+(D^V&(C^D))+O[14]+3275163606&4294967295,z=C+(L<<9&4294967295|L>>>23),L=V+(C^D&(z^C))+O[3]+4107603335&4294967295,V=z+(L<<14&4294967295|L>>>18),L=D+(z^C&(V^z))+O[8]+1163531501&4294967295,D=V+(L<<20&4294967295|L>>>12),L=C+(V^z&(D^V))+O[13]+2850285829&4294967295,C=D+(L<<5&4294967295|L>>>27),L=z+(D^V&(C^D))+O[2]+4243563512&4294967295,z=C+(L<<9&4294967295|L>>>23),L=V+(C^D&(z^C))+O[7]+1735328473&4294967295,V=z+(L<<14&4294967295|L>>>18),L=D+(z^C&(V^z))+O[12]+2368359562&4294967295,D=V+(L<<20&4294967295|L>>>12),L=C+(D^V^z)+O[5]+4294588738&4294967295,C=D+(L<<4&4294967295|L>>>28),L=z+(C^D^V)+O[8]+2272392833&4294967295,z=C+(L<<11&4294967295|L>>>21),L=V+(z^C^D)+O[11]+1839030562&4294967295,V=z+(L<<16&4294967295|L>>>16),L=D+(V^z^C)+O[14]+4259657740&4294967295,D=V+(L<<23&4294967295|L>>>9),L=C+(D^V^z)+O[1]+2763975236&4294967295,C=D+(L<<4&4294967295|L>>>28),L=z+(C^D^V)+O[4]+1272893353&4294967295,z=C+(L<<11&4294967295|L>>>21),L=V+(z^C^D)+O[7]+4139469664&4294967295,V=z+(L<<16&4294967295|L>>>16),L=D+(V^z^C)+O[10]+3200236656&4294967295,D=V+(L<<23&4294967295|L>>>9),L=C+(D^V^z)+O[13]+681279174&4294967295,C=D+(L<<4&4294967295|L>>>28),L=z+(C^D^V)+O[0]+3936430074&4294967295,z=C+(L<<11&4294967295|L>>>21),L=V+(z^C^D)+O[3]+3572445317&4294967295,V=z+(L<<16&4294967295|L>>>16),L=D+(V^z^C)+O[6]+76029189&4294967295,D=V+(L<<23&4294967295|L>>>9),L=C+(D^V^z)+O[9]+3654602809&4294967295,C=D+(L<<4&4294967295|L>>>28),L=z+(C^D^V)+O[12]+3873151461&4294967295,z=C+(L<<11&4294967295|L>>>21),L=V+(z^C^D)+O[15]+530742520&4294967295,V=z+(L<<16&4294967295|L>>>16),L=D+(V^z^C)+O[2]+3299628645&4294967295,D=V+(L<<23&4294967295|L>>>9),L=C+(V^(D|~z))+O[0]+4096336452&4294967295,C=D+(L<<6&4294967295|L>>>26),L=z+(D^(C|~V))+O[7]+1126891415&4294967295,z=C+(L<<10&4294967295|L>>>22),L=V+(C^(z|~D))+O[14]+2878612391&4294967295,V=z+(L<<15&4294967295|L>>>17),L=D+(z^(V|~C))+O[5]+4237533241&4294967295,D=V+(L<<21&4294967295|L>>>11),L=C+(V^(D|~z))+O[12]+1700485571&4294967295,C=D+(L<<6&4294967295|L>>>26),L=z+(D^(C|~V))+O[3]+2399980690&4294967295,z=C+(L<<10&4294967295|L>>>22),L=V+(C^(z|~D))+O[10]+4293915773&4294967295,V=z+(L<<15&4294967295|L>>>17),L=D+(z^(V|~C))+O[1]+2240044497&4294967295,D=V+(L<<21&4294967295|L>>>11),L=C+(V^(D|~z))+O[8]+1873313359&4294967295,C=D+(L<<6&4294967295|L>>>26),L=z+(D^(C|~V))+O[15]+4264355552&4294967295,z=C+(L<<10&4294967295|L>>>22),L=V+(C^(z|~D))+O[6]+2734768916&4294967295,V=z+(L<<15&4294967295|L>>>17),L=D+(z^(V|~C))+O[13]+1309151649&4294967295,D=V+(L<<21&4294967295|L>>>11),L=C+(V^(D|~z))+O[4]+4149444226&4294967295,C=D+(L<<6&4294967295|L>>>26),L=z+(D^(C|~V))+O[11]+3174756917&4294967295,z=C+(L<<10&4294967295|L>>>22),L=V+(C^(z|~D))+O[2]+718787259&4294967295,V=z+(L<<15&4294967295|L>>>17),L=D+(z^(V|~C))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(V+(L<<21&4294967295|L>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+z&4294967295}i.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var D=C-this.blockSize,O=this.B,V=this.h,z=0;z<C;){if(V==0)for(;z<=D;)s(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<C;)if(O[V++]=P.charCodeAt(z++),V==this.blockSize){s(this,O),V=0;break}}else for(;z<C;)if(O[V++]=P[z++],V==this.blockSize){s(this,O),V=0;break}}this.h=V,this.o+=C},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var D=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=D&255,D/=256;for(this.u(P),P=Array(16),C=D=0;4>C;++C)for(var O=0;32>O;O+=8)P[D++]=this.g[C]>>>O&255;return P};function r(P,C){var D=c;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=C(P)}function o(P,C){this.h=C;for(var D=[],O=!0,V=P.length-1;0<=V;V--){var z=P[V]|0;O&&z==C||(D[V]=z,O=!1)}this.g=D}var c={};function h(P){return-128<=P&&128>P?r(P,function(C){return new o([C|0],0>C?-1:0)}):new o([P|0],0>P?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return y;if(0>P)return A(d(-P));for(var C=[],D=1,O=0;P>=D;O++)C[O]=P/D|0,D*=4294967296;return new o(C,0)}function g(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return A(g(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=d(Math.pow(C,8)),O=y,V=0;V<P.length;V+=8){var z=Math.min(8,P.length-V),L=parseInt(P.substring(V,V+z),C);8>z?(z=d(Math.pow(C,z)),O=O.j(z).add(d(L))):(O=O.j(D),O=O.add(d(L)))}return O}var y=h(0),b=h(1),_=h(16777216);n=o.prototype,n.m=function(){if(T(this))return-A(this).m();for(var P=0,C=1,D=0;D<this.g.length;D++){var O=this.i(D);P+=(0<=O?O:4294967296+O)*C,C*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(S(this))return"0";if(T(this))return"-"+A(this).toString(P);for(var C=d(Math.pow(P,6)),D=this,O="";;){var V=H(D,C).g;D=I(D,V.j(C));var z=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=V,S(D))return z+O;for(;6>z.length;)z="0"+z;O=z+O}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function S(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function T(P){return P.h==-1}n.l=function(P){return P=I(this,P),T(P)?-1:S(P)?0:1};function A(P){for(var C=P.g.length,D=[],O=0;O<C;O++)D[O]=~P.g[O];return new o(D,~P.h).add(b)}n.abs=function(){return T(this)?A(this):this},n.add=function(P){for(var C=Math.max(this.g.length,P.g.length),D=[],O=0,V=0;V<=C;V++){var z=O+(this.i(V)&65535)+(P.i(V)&65535),L=(z>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);O=L>>>16,z&=65535,L&=65535,D[V]=L<<16|z}return new o(D,D[D.length-1]&-2147483648?-1:0)};function I(P,C){return P.add(A(C))}n.j=function(P){if(S(this)||S(P))return y;if(T(this))return T(P)?A(this).j(A(P)):A(A(this).j(P));if(T(P))return A(this.j(A(P)));if(0>this.l(_)&&0>P.l(_))return d(this.m()*P.m());for(var C=this.g.length+P.g.length,D=[],O=0;O<2*C;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<P.g.length;V++){var z=this.i(O)>>>16,L=this.i(O)&65535,we=P.i(V)>>>16,be=P.i(V)&65535;D[2*O+2*V]+=L*be,M(D,2*O+2*V),D[2*O+2*V+1]+=z*be,M(D,2*O+2*V+1),D[2*O+2*V+1]+=L*we,M(D,2*O+2*V+1),D[2*O+2*V+2]+=z*we,M(D,2*O+2*V+2)}for(O=0;O<C;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=C;O<2*C;O++)D[O]=0;return new o(D,0)};function M(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function j(P,C){this.g=P,this.h=C}function H(P,C){if(S(C))throw Error("division by zero");if(S(P))return new j(y,y);if(T(P))return C=H(A(P),C),new j(A(C.g),A(C.h));if(T(C))return C=H(P,A(C)),new j(A(C.g),C.h);if(30<P.g.length){if(T(P)||T(C))throw Error("slowDivide_ only works with positive integers.");for(var D=b,O=C;0>=O.l(P);)D=q(D),O=q(O);var V=Q(D,1),z=Q(O,1);for(O=Q(O,2),D=Q(D,2);!S(O);){var L=z.add(O);0>=L.l(P)&&(V=V.add(D),z=L),O=Q(O,1),D=Q(D,1)}return C=I(P,V.j(C)),new j(V,C)}for(V=y;0<=P.l(C);){for(D=Math.max(1,Math.floor(P.m()/C.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),z=d(D),L=z.j(C);T(L)||0<L.l(P);)D-=O,z=d(D),L=z.j(C);S(z)&&(z=b),V=V.add(z),P=I(P,L)}return new j(V,P)}n.A=function(P){return H(this,P).h},n.and=function(P){for(var C=Math.max(this.g.length,P.g.length),D=[],O=0;O<C;O++)D[O]=this.i(O)&P.i(O);return new o(D,this.h&P.h)},n.or=function(P){for(var C=Math.max(this.g.length,P.g.length),D=[],O=0;O<C;O++)D[O]=this.i(O)|P.i(O);return new o(D,this.h|P.h)},n.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),D=[],O=0;O<C;O++)D[O]=this.i(O)^P.i(O);return new o(D,this.h^P.h)};function q(P){for(var C=P.g.length+1,D=[],O=0;O<C;O++)D[O]=P.i(O)<<1|P.i(O-1)>>>31;return new o(D,P.h)}function Q(P,C){var D=C>>5;C%=32;for(var O=P.g.length-D,V=[],z=0;z<O;z++)V[z]=0<C?P.i(z+D)>>>C|P.i(z+D+1)<<32-C:P.i(z+D);return new o(V,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,eI=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=g,va=o}).apply(typeof ZA<"u"?ZA:typeof self<"u"?self:typeof window<"u"?window:{});var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tI,Yu,nI,dg,fb,iI,sI,rI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,w,x){return p==Array.prototype||p==Object.prototype||(p[w]=x.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nf=="object"&&Nf];for(var w=0;w<p.length;++w){var x=p[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=t(this);function s(p,w){if(w)e:{var x=i;p=p.split(".");for(var N=0;N<p.length-1;N++){var Y=p[N];if(!(Y in x))break e;x=x[Y]}p=p[p.length-1],N=x[p],w=w(N),w!=N&&w!=null&&e(x,p,{configurable:!0,writable:!0,value:w})}}function r(p,w){p instanceof String&&(p+="");var x=0,N=!1,Y={next:function(){if(!N&&x<p.length){var J=x++;return{value:w(J,p[J]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(p){return p||function(){return r(this,function(w,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(p){var w=typeof p;return w=w!="object"?w:p?Array.isArray(p)?"array":w:"null",w=="array"||w=="object"&&typeof p.length=="number"}function d(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function g(p,w,x){return p.call.apply(p.bind,arguments)}function y(p,w,x){if(!p)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,N),p.apply(w,Y)}}return function(){return p.apply(w,arguments)}}function b(p,w,x){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,b.apply(null,arguments)}function _(p,w){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),p.apply(this,N)}}function S(p,w){function x(){}x.prototype=w.prototype,p.aa=w.prototype,p.prototype=new x,p.prototype.constructor=p,p.Qb=function(N,Y,J){for(var ce=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ce[Ge-2]=arguments[Ge];return w.prototype[Y].apply(N,ce)}}function T(p){const w=p.length;if(0<w){const x=Array(w);for(let N=0;N<w;N++)x[N]=p[N];return x}return[]}function A(p,w){for(let x=1;x<arguments.length;x++){const N=arguments[x];if(h(N)){const Y=p.length||0,J=N.length||0;p.length=Y+J;for(let ce=0;ce<J;ce++)p[Y+ce]=N[ce]}else p.push(N)}}class I{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function M(p){return/^[\s\xa0]*$/.test(p)}function j(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function H(p){return H[" "](p),p}H[" "]=function(){};var q=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function Q(p,w,x){for(const N in p)w.call(x,p[N],N,p)}function P(p,w){for(const x in p)w.call(void 0,p[x],x,p)}function C(p){const w={};for(const x in p)w[x]=p[x];return w}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(p,w){let x,N;for(let Y=1;Y<arguments.length;Y++){N=arguments[Y];for(x in N)p[x]=N[x];for(let J=0;J<D.length;J++)x=D[J],Object.prototype.hasOwnProperty.call(N,x)&&(p[x]=N[x])}}function V(p){var w=1;p=p.split(":");const x=[];for(;0<w&&p.length;)x.push(p.shift()),w--;return p.length&&x.push(p.join(":")),x}function z(p){c.setTimeout(()=>{throw p},0)}function L(){var p=_e;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class we{constructor(){this.h=this.g=null}add(w,x){const N=be.get();N.set(w,x),this.h?this.h.next=N:this.g=N,this.h=N}}var be=new I(()=>new ie,p=>p.reset());class ie{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ge=!1,_e=new we,F=()=>{const p=c.Promise.resolve(void 0);de=()=>{p.then(oe)}};var oe=()=>{for(var p;p=L();){try{p.h.call(p.g)}catch(x){z(x)}var w=be;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}ge=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const x=()=>{};c.addEventListener("test",x,w),c.removeEventListener("test",x,w)}catch{}return p}();function Ce(p,w){if(fe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var x=this.type=p.type,N=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(q){e:{try{H(w.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(w=null)}}else x=="mouseover"?w=p.fromElement:x=="mouseout"&&(w=p.toElement);this.relatedTarget=w,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Te[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Ce.aa.h.call(this)}}S(Ce,fe);var Te={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),qe=0;function ft(p,w,x,N,Y){this.listener=p,this.proxy=null,this.src=w,this.type=x,this.capture=!!N,this.ha=Y,this.key=++qe,this.da=this.fa=!1}function et(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function hn(p){this.src=p,this.g={},this.h=0}hn.prototype.add=function(p,w,x,N,Y){var J=p.toString();p=this.g[J],p||(p=this.g[J]=[],this.h++);var ce=Re(p,w,N,Y);return-1<ce?(w=p[ce],x||(w.fa=!1)):(w=new ft(w,this.src,J,!!N,Y),w.fa=x,p.push(w)),w};function Ni(p,w){var x=w.type;if(x in p.g){var N=p.g[x],Y=Array.prototype.indexOf.call(N,w,void 0),J;(J=0<=Y)&&Array.prototype.splice.call(N,Y,1),J&&(et(w),p.g[x].length==0&&(delete p.g[x],p.h--))}}function Re(p,w,x,N){for(var Y=0;Y<p.length;++Y){var J=p[Y];if(!J.da&&J.listener==w&&J.capture==!!x&&J.ha==N)return Y}return-1}var En="closure_lm_"+(1e6*Math.random()|0),ut={};function gt(p,w,x,N,Y){if(Array.isArray(w)){for(var J=0;J<w.length;J++)gt(p,w[J],x,N,Y);return null}return x=ld(x),p&&p[Ke]?p.K(w,x,d(N)?!!N.capture:!1,Y):dn(p,w,x,!1,N,Y)}function dn(p,w,x,N,Y,J){if(!w)throw Error("Invalid event type");var ce=d(Y)?!!Y.capture:!!Y,Ge=kc(p);if(Ge||(p[En]=Ge=new hn(p)),x=Ge.add(w,x,N,ce,J),x.proxy)return x;if(N=Qi(),x.proxy=N,N.src=p,N.listener=x,p.addEventListener)he||(Y=ce),Y===void 0&&(Y=!1),p.addEventListener(w.toString(),N,Y);else if(p.attachEvent)p.attachEvent(el(w.toString()),N);else if(p.addListener&&p.removeListener)p.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Qi(){function p(x){return w.call(p.src,p.listener,x)}const w=am;return p}function Ki(p,w,x,N,Y){if(Array.isArray(w))for(var J=0;J<w.length;J++)Ki(p,w[J],x,N,Y);else N=d(N)?!!N.capture:!!N,x=ld(x),p&&p[Ke]?(p=p.i,w=String(w).toString(),w in p.g&&(J=p.g[w],x=Re(J,x,N,Y),-1<x&&(et(J[x]),Array.prototype.splice.call(J,x,1),J.length==0&&(delete p.g[w],p.h--)))):p&&(p=kc(p))&&(w=p.g[w.toString()],p=-1,w&&(p=Re(w,x,N,Y)),(x=-1<p?w[p]:null)&&Cs(x))}function Cs(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[Ke])Ni(w.i,p);else{var x=p.type,N=p.proxy;w.removeEventListener?w.removeEventListener(x,N,p.capture):w.detachEvent?w.detachEvent(el(x),N):w.addListener&&w.removeListener&&w.removeListener(N),(x=kc(w))?(Ni(x,p),x.h==0&&(x.src=null,w[En]=null)):et(p)}}}function el(p){return p in ut?ut[p]:ut[p]="on"+p}function am(p,w){if(p.da)p=!0;else{w=new Ce(w,this);var x=p.listener,N=p.ha||p.src;p.fa&&Cs(p),p=x.call(N,w)}return p}function kc(p){return p=p[En],p instanceof hn?p:null}var zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ld(p){return typeof p=="function"?p:(p[zn]||(p[zn]=function(w){return p.handleEvent(w)}),p[zn])}function Gt(){ue.call(this),this.i=new hn(this),this.M=this,this.F=null}S(Gt,ue),Gt.prototype[Ke]=!0,Gt.prototype.removeEventListener=function(p,w,x,N){Ki(this,p,w,x,N)};function tn(p,w){var x,N=p.F;if(N)for(x=[];N;N=N.F)x.push(N);if(p=p.M,N=w.type||w,typeof w=="string")w=new fe(w,p);else if(w instanceof fe)w.target=w.target||p;else{var Y=w;w=new fe(N,p),O(w,Y)}if(Y=!0,x)for(var J=x.length-1;0<=J;J--){var ce=w.g=x[J];Y=Ds(ce,N,!0,w)&&Y}if(ce=w.g=p,Y=Ds(ce,N,!0,w)&&Y,Y=Ds(ce,N,!1,w)&&Y,x)for(J=0;J<x.length;J++)ce=w.g=x[J],Y=Ds(ce,N,!1,w)&&Y}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var p=this.i,w;for(w in p.g){for(var x=p.g[w],N=0;N<x.length;N++)et(x[N]);delete p.g[w],p.h--}}this.F=null},Gt.prototype.K=function(p,w,x,N){return this.i.add(String(p),w,!1,x,N)},Gt.prototype.L=function(p,w,x,N){return this.i.add(String(p),w,!0,x,N)};function Ds(p,w,x,N){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();for(var Y=!0,J=0;J<w.length;++J){var ce=w[J];if(ce&&!ce.da&&ce.capture==x){var Ge=ce.listener,$t=ce.ha||ce.src;ce.fa&&Ni(p.i,ce),Y=Ge.call($t,N)!==!1&&Y}}return Y&&!N.defaultPrevented}function cd(p,w,x){if(typeof p=="function")x&&(p=b(p,x));else if(p&&typeof p.handleEvent=="function")p=b(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(p,w||0)}function Nc(p){p.g=cd(()=>{p.g=null,p.i&&(p.i=!1,Nc(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class om extends ue{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Nc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(p){ue.call(this),this.h=p,this.g={}}S(La,ue);var wr=[];function wn(p){Q(p.g,function(w,x){this.g.hasOwnProperty(x)&&Cs(w)},p),p.g={}}La.prototype.N=function(){La.aa.N.call(this),wn(this)},La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mc=c.JSON.stringify,Xi=c.JSON.parse,On=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Oc(){}Oc.prototype.h=null;function ud(p){return p.h||(p.h=p.i())}function hd(){}var Zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){fe.call(this,"d")}S(Sr,fe);function Mi(){fe.call(this,"c")}S(Mi,fe);var ai={},Ar=null;function tl(){return Ar=Ar||new Gt}ai.La="serverreachability";function Pc(p){fe.call(this,ai.La,p)}S(Pc,fe);function Tr(p){const w=tl();tn(w,new Pc(w))}ai.STAT_EVENT="statevent";function nl(p,w){fe.call(this,ai.STAT_EVENT,p),this.stat=w}S(nl,fe);function Pt(p){const w=tl();tn(w,new nl(w,p))}ai.Ma="timingevent";function dd(p,w){fe.call(this,ai.Ma,p),this.size=w}S(dd,fe);function xr(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},w)}function Rr(){this.g=!0}Rr.prototype.xa=function(){this.g=!1};function fd(p,w,x,N,Y,J){p.info(function(){if(p.g)if(J)for(var ce="",Ge=J.split("&"),$t=0;$t<Ge.length;$t++){var We=Ge[$t].split("=");if(1<We.length){var rn=We[0];We=We[1];var Yt=rn.split("_");ce=2<=Yt.length&&Yt[1]=="type"?ce+(rn+"="+We+"&"):ce+(rn+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+N+") [attempt "+Y+"]: "+w+`
`+x+`
`+ce})}function gd(p,w,x,N,Y,J,ce){p.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Y+"]: "+w+`
`+x+`
`+J+" "+ce})}function Cr(p,w,x,N){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+nn(p,x)+(N?" "+N:"")})}function Ji(p,w){p.info(function(){return"TIMEOUT: "+w})}Rr.prototype.info=function(){};function nn(p,w){if(!p.g)return w;if(!w)return null;try{var x=JSON.parse(w);if(x){for(p=0;p<x.length;p++)if(Array.isArray(x[p])){var N=x[p];if(!(2>N.length)){var Y=N[1];if(Array.isArray(Y)&&!(1>Y.length)){var J=Y[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<Y.length;ce++)Y[ce]=""}}}}return Mc(x)}catch{return w}}var Wt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Is={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Va;function il(){}S(il,Oc),il.prototype.g=function(){return new XMLHttpRequest},il.prototype.i=function(){return{}},Va=new il;function es(p,w,x,N){this.j=p,this.i=w,this.l=x,this.R=N||1,this.U=new La(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jc}function jc(){this.i=null,this.g="",this.h=!1}var Dr={},Ua={};function Oi(p,w,x){p.L=1,p.v=Ha(Ct(w)),p.m=x,p.P=!0,ks(p,null)}function ks(p,w){p.F=Date.now(),Et(p),p.A=Ct(p.v);var x=p.A,N=p.R;Array.isArray(N)||(N=[String(N)]),Os(x.i,"t",N),p.C=0,x=p.j.J,p.h=new jc,p.g=Cd(p.j,x?w:null,!p.m),0<p.O&&(p.M=new om(b(p.Y,p,p.g),p.O)),w=p.U,x=p.g,N=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(wr[0]=Y.toString()),Y=wr);for(var J=0;J<Y.length;J++){var ce=gt(x,Y[J],N||w.handleEvent,!1,w.h||w);if(!ce)break;w.g[ce.key]=ce}w=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),Tr(),fd(p.i,p.u,p.A,p.l,p.R,p.m)}es.prototype.ca=function(p){p=p.target;const w=this.M;w&&hi(p)==3?w.j():this.Y(p)},es.prototype.Y=function(p){try{if(p==this.g)e:{const Yt=hi(this.g);var w=this.g.Ba();const Vs=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||_d(this.g)))){this.J||Yt!=4||w==7||(w==8||0>=Vs?Tr(3):Tr(2)),sl(this);var x=this.g.Z();this.X=x;t:if(Ir(this)){var N=_d(this.g);p="";var Y=N.length,J=hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),Kn(this);var ce="";break t}this.h.i=new c.TextDecoder}for(w=0;w<Y;w++)this.h.h=!0,p+=this.h.i.decode(N[w],{stream:!(J&&w==Y-1)});N.length=0,this.h.g+=p,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=x==200,gd(this.i,this.u,this.A,this.l,this.R,Yt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,$t=this.g;if((Ge=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Ge)){var We=Ge;break t}}We=null}if(x=We)Cr(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xn(this,x);else{this.o=!1,this.s=3,Pt(12),Bn(this),Kn(this);break e}}if(this.P){x=!0;let fn;for(;!this.J&&this.C<ce.length;)if(fn=kr(this,ce),fn==Ua){Yt==4&&(this.s=4,Pt(14),x=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Dr){this.s=4,Pt(15),Cr(this.i,this.l,ce,"[Invalid Chunk]"),x=!1;break}else Cr(this.i,this.l,fn,null),Xn(this,fn);if(Ir(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||ce.length!=0||this.h.h||(this.s=1,Pt(16),x=!1),this.o=this.o&&x,!x)Cr(this.i,this.l,ce,"[Invalid Chunked Response]"),Bn(this),Kn(this);else if(0<ce.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Qa(rn),rn.M=!0,Pt(11))}}else Cr(this.i,this.l,ce,null),Xn(this,ce);Yt==4&&Bn(this),this.o&&!this.J&&(Yt==4?Td(this.j,this):(this.o=!1,Et(this)))}else fm(this.g),x==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Bn(this),Kn(this)}}}catch{}finally{}};function Ir(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function kr(p,w){var x=p.C,N=w.indexOf(`
`,x);return N==-1?Ua:(x=Number(w.substring(x,N)),isNaN(x)?Dr:(N+=1,N+x>w.length?Ua:(w=w.slice(N,N+x),p.C=N+x,w)))}es.prototype.cancel=function(){this.J=!0,Bn(this)};function Et(p){p.S=Date.now()+p.I,Lc(p,p.I)}function Lc(p,w){if(p.B!=null)throw Error("WatchDog timer not null");p.B=xr(b(p.ba,p),w)}function sl(p){p.B&&(c.clearTimeout(p.B),p.B=null)}es.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Ji(this.i,this.A),this.L!=2&&(Tr(),Pt(17)),Bn(this),this.s=2,Kn(this)):Lc(this,this.S-p)};function Kn(p){p.j.G==0||p.J||Td(p.j,p)}function Bn(p){sl(p);var w=p.M;w&&typeof w.ma=="function"&&w.ma(),p.M=null,wn(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function Xn(p,w){try{var x=p.j;if(x.G!=0&&(x.g==p||Nr(x.h,p))){if(!p.K&&Nr(x.h,p)&&x.G==3){try{var N=x.Da.g.parse(w)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Y=N;if(Y[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<p.F)gl(x),dl(x);else break e;Yc(x),Pt(18)}}else x.za=Y[1],0<x.za-x.T&&37500>Y[2]&&x.F&&x.v==0&&!x.C&&(x.C=xr(b(x.Za,x),6e3));if(1>=pd(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ls(x,11)}else if((p.K||x.g==p)&&gl(x),!M(w))for(Y=x.Da.g.parse(w),w=0;w<Y.length;w++){let We=Y[w];if(x.T=We[0],We=We[1],x.G==2)if(We[0]=="c"){x.K=We[1],x.ia=We[2];const rn=We[3];rn!=null&&(x.la=rn,x.j.info("VER="+x.la));const Yt=We[4];Yt!=null&&(x.Aa=Yt,x.j.info("SVER="+x.Aa));const Vs=We[5];Vs!=null&&typeof Vs=="number"&&0<Vs&&(N=1.5*Vs,x.L=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const fn=p.g;if(fn){const os=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var J=N.h;J.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Mr(J,J.h),J.h=null))}if(N.D){const Kc=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Kc&&(N.ya=Kc,Xe(N.I,N.D,Kc))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-p.F,x.j.info("Handshake RTT: "+x.R+"ms")),N=x;var ce=p;if(N.qa=Rd(N,N.J?N.ia:null,N.W),ce.K){oi(N.h,ce);var Ge=ce,$t=N.L;$t&&(Ge.I=$t),Ge.B&&(sl(Ge),Et(Ge)),N.g=ce}else Sd(N);0<x.i.length&&fl(x)}else We[0]!="stop"&&We[0]!="close"||Ls(x,7);else x.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Ls(x,7):Wc(x):We[0]!="noop"&&x.l&&x.l.ta(We),x.v=0)}}Tr(4)}catch{}}var lm=class{constructor(p,w){this.g=p,this.map=w}};function Vc(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Uc(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function pd(p){return p.h?1:p.g?p.g.size:0}function Nr(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function Mr(p,w){p.g?p.g.add(w):p.h=w}function oi(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}Vc.prototype.cancel=function(){if(this.i=Pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Pn(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const x of p.g.values())w=w.concat(x.D);return w}return T(p.i)}function md(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var w=[],x=p.length,N=0;N<x;N++)w.push(p[N]);return w}w=[],x=0;for(N in p)w[x++]=p[N];return w}function cm(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var w=[];p=p.length;for(var x=0;x<p;x++)w.push(x);return w}w=[],x=0;for(const N in p)w[x++]=N;return w}}}function za(p,w){if(p.forEach&&typeof p.forEach=="function")p.forEach(w,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,w,void 0);else for(var x=cm(p),N=md(p),Y=N.length,J=0;J<Y;J++)w.call(void 0,N[J],x&&x[J],p)}var zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rl(p,w){if(p){p=p.split("&");for(var x=0;x<p.length;x++){var N=p[x].indexOf("="),Y=null;if(0<=N){var J=p[x].substring(0,N);Y=p[x].substring(N+1)}else J=p[x];w(J,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ns(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ns){this.h=p.h,Or(this,p.j),this.o=p.o,this.g=p.g,Ba(this,p.s),this.l=p.l;var w=p.i,x=new ts;x.i=w.i,w.g&&(x.g=new Map(w.g),x.h=w.h),al(this,x),this.m=p.m}else p&&(w=String(p).match(zc))?(this.h=!1,Or(this,w[1]||"",!0),this.o=Pr(w[2]||""),this.g=Pr(w[3]||"",!0),Ba(this,w[4]),this.l=Pr(w[5]||"",!0),al(this,w[6]||"",!0),this.m=Pr(w[7]||"")):(this.h=!1,this.i=new ts(null,this.h))}Ns.prototype.toString=function(){var p=[],w=this.j;w&&p.push(li(w,Bc,!0),":");var x=this.g;return(x||w=="file")&&(p.push("//"),(w=this.o)&&p.push(li(w,Bc,!0),"@"),p.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&p.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&p.push("/"),p.push(li(x,x.charAt(0)=="/"?Hc:yd,!0))),(x=this.i.toString())&&p.push("?",x),(x=this.m)&&p.push("#",li(x,dm)),p.join("")};function Ct(p){return new Ns(p)}function Or(p,w,x){p.j=x?Pr(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function Ba(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function al(p,w,x){w instanceof ts?(p.i=w,Fc(p.i,p.h)):(x||(w=li(w,hm)),p.i=new ts(w,p.h))}function Xe(p,w,x){p.i.set(w,x)}function Ha(p){return Xe(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Pr(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function li(p,w,x){return typeof p=="string"?(p=encodeURI(p).replace(w,um),x&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function um(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Bc=/[#\/\?@]/g,yd=/[#\?:]/g,Hc=/[#\?]/g,hm=/[#\?@]/g,dm=/#/g;function ts(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function ci(p){p.g||(p.g=new Map,p.h=0,p.i&&rl(p.i,function(w,x){p.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}n=ts.prototype,n.add=function(p,w){ci(this),this.i=null,p=Ps(this,p);var x=this.g.get(p);return x||this.g.set(p,x=[]),x.push(w),this.h+=1,this};function ol(p,w){ci(p),w=Ps(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function Ms(p,w){return ci(p),w=Ps(p,w),p.g.has(w)}n.forEach=function(p,w){ci(this),this.g.forEach(function(x,N){x.forEach(function(Y){p.call(w,Y,N,this)},this)},this)},n.na=function(){ci(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),x=[];for(let N=0;N<w.length;N++){const Y=p[N];for(let J=0;J<Y.length;J++)x.push(w[N])}return x},n.V=function(p){ci(this);let w=[];if(typeof p=="string")Ms(this,p)&&(w=w.concat(this.g.get(Ps(this,p))));else{p=Array.from(this.g.values());for(let x=0;x<p.length;x++)w=w.concat(p[x])}return w},n.set=function(p,w){return ci(this),this.i=null,p=Ps(this,p),Ms(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},n.get=function(p,w){return p?(p=this.V(p),0<p.length?String(p[0]):w):w};function Os(p,w,x){ol(p,w),0<x.length&&(p.i=null,p.g.set(Ps(p,w),T(x)),p.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var x=0;x<w.length;x++){var N=w[x];const J=encodeURIComponent(String(N)),ce=this.V(N);for(N=0;N<ce.length;N++){var Y=J;ce[N]!==""&&(Y+="="+encodeURIComponent(String(ce[N]))),p.push(Y)}}return this.i=p.join("&")};function Ps(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function Fc(p,w){w&&!p.j&&(ci(p),p.i=null,p.g.forEach(function(x,N){var Y=N.toLowerCase();N!=Y&&(ol(this,N),Os(this,Y,x))},p)),p.j=w}function vd(p,w){const x=new Rr;if(c.Image){const N=new Image;N.onload=_(ui,x,"TestLoadImage: loaded",!0,w,N),N.onerror=_(ui,x,"TestLoadImage: error",!1,w,N),N.onabort=_(ui,x,"TestLoadImage: abort",!1,w,N),N.ontimeout=_(ui,x,"TestLoadImage: timeout",!1,w,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=p}else w(!1)}function Fa(p,w){const x=new Rr,N=new AbortController,Y=setTimeout(()=>{N.abort(),ui(x,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:N.signal}).then(J=>{clearTimeout(Y),J.ok?ui(x,"TestPingServer: ok",!0,w):ui(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),ui(x,"TestPingServer: error",!1,w)})}function ui(p,w,x,N,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),N(x)}catch{}}function qa(){this.g=new On}function ns(p,w,x){const N=x||"";try{za(p,function(Y,J){let ce=Y;d(Y)&&(ce=Mc(Y)),w.push(N+J+"="+encodeURIComponent(ce))})}catch(Y){throw w.push(N+"type="+encodeURIComponent("_badmap")),Y}}function jr(p){this.l=p.Ub||null,this.j=p.eb||!1}S(jr,Oc),jr.prototype.g=function(){return new js(this.l,this.j)},jr.prototype.i=function(p){return function(){return p}}({});function js(p,w){Gt.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(js,Gt),n=js.prototype,n.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,ss(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,is(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ss(this)),this.g&&(this.readyState=3,ss(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function qc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?is(this):ss(this),this.readyState==3&&qc(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,is(this))},n.Qa=function(p){this.g&&(this.response=p,is(this))},n.ga=function(){this.g&&is(this)};function is(p){p.readyState=4,p.l=null,p.j=null,p.v=null,ss(p)}n.setRequestHeader=function(p,w){this.u.append(p,w)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,p.push(x[0]+": "+x[1]),x=w.next();return p.join(`\r
`)};function ss(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Gc(p){let w="";return Q(p,function(x,N){w+=N,w+=":",w+=x,w+=`\r
`}),w}function sn(p,w,x){e:{for(N in x){var N=!1;break e}N=!0}N||(x=Gc(x),typeof p=="string"?x!=null&&encodeURIComponent(String(x)):Xe(p,w,x))}function it(p){Gt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(it,Gt);var ll=/^https?$/i,Ga=["POST","PUT"];n=it.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,w,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Va.g(),this.v=this.o?ud(this.o):ud(Va),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(J){bd(this,J);return}if(p=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Y in N)x.set(Y,N[Y]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const J of N.keys())x.set(J,N.get(J));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(J=>J.toLowerCase()=="content-type"),Y=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ga,w,void 0))||N||Y||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of x)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wa(this),this.u=!0,this.g.send(p),this.u=!1}catch(J){bd(this,J)}};function bd(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,cl(p),rs(p)}function cl(p){p.A||(p.A=!0,tn(p,"complete"),tn(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,tn(this,"complete"),tn(this,"abort"),rs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ul(this):this.bb())},n.bb=function(){ul(this)};function ul(p){if(p.h&&typeof o<"u"&&(!p.v[1]||hi(p)!=4||p.Z()!=2)){if(p.u&&hi(p)==4)cd(p.Ea,0,p);else if(tn(p,"readystatechange"),hi(p)==4){p.h=!1;try{const ce=p.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var x;if(!(x=w)){var N;if(N=ce===0){var Y=String(p.D).match(zc)[1]||null;!Y&&c.self&&c.self.location&&(Y=c.self.location.protocol.slice(0,-1)),N=!ll.test(Y?Y.toLowerCase():"")}x=N}if(x)tn(p,"complete"),tn(p,"success");else{p.m=6;try{var J=2<hi(p)?p.g.statusText:""}catch{J=""}p.l=J+" ["+p.Z()+"]",cl(p)}}finally{rs(p)}}}}function rs(p,w){if(p.g){Wa(p);const x=p.g,N=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||tn(p,"ready");try{x.onreadystatechange=N}catch{}}}function Wa(p){p.I&&(c.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function hi(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),Xi(w)}};function _d(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function fm(p){const w={};p=(p.g&&2<=hi(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<p.length;N++){if(M(p[N]))continue;var x=V(p[N]);const Y=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const J=w[Y]||[];w[Y]=J,J.push(x)}P(w,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(p,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[p]||w}function hl(p){this.Aa=0,this.i=[],this.j=new Rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$a("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$a("baseRetryDelayMs",5e3,p),this.cb=$a("retryDelaySeedMs",1e4,p),this.Wa=$a("forwardChannelMaxRetries",2,p),this.wa=$a("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Vc(p&&p.concurrentRequestLimit),this.Da=new qa,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=hl.prototype,n.la=8,n.G=1,n.connect=function(p,w,x,N){Pt(0),this.W=p,this.H=w||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.I=Rd(this,null,this.W),fl(this)};function Wc(p){if(Ed(p),p.G==3){var w=p.U++,x=Ct(p.I);if(Xe(x,"SID",p.K),Xe(x,"RID",w),Xe(x,"TYPE","terminate"),Ya(p,x),w=new es(p,p.j,w),w.L=2,w.v=Ha(Ct(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!x&&c.Image&&(new Image().src=w.v,x=!0),x||(w.g=Cd(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Et(w)}xd(p)}function dl(p){p.g&&(Qa(p),p.g.cancel(),p.g=null)}function Ed(p){dl(p),p.u&&(c.clearTimeout(p.u),p.u=null),gl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function fl(p){if(!Uc(p.h)&&!p.s){p.s=!0;var w=p.Ga;de||F(),ge||(de(),ge=!0),_e.add(w,p),p.B=0}}function gm(p,w){return pd(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=w.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=xr(b(p.Ga,p,w),Qc(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new es(this,this.j,p);let J=this.o;if(this.S&&(J?(J=C(J),O(J,this.S)):J=this.S),this.m!==null||this.O||(Y.H=J,J=null),this.P)e:{for(var w=0,x=0;x<this.i.length;x++){t:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(w+=N,4096<w){w=x;break e}if(w===4096||x===this.i.length-1){w=x+1;break e}}w=1e3}else w=1e3;w=wd(this,Y,w),x=Ct(this.I),Xe(x,"RID",p),Xe(x,"CVER",22),this.D&&Xe(x,"X-HTTP-Session-Id",this.D),Ya(this,x),J&&(this.O?w="headers="+encodeURIComponent(String(Gc(J)))+"&"+w:this.m&&sn(x,this.m,J)),Mr(this.h,Y),this.Ua&&Xe(x,"TYPE","init"),this.P?(Xe(x,"$req",w),Xe(x,"SID","null"),Y.T=!0,Oi(Y,x,null)):Oi(Y,x,w),this.G=2}}else this.G==3&&(p?$c(this,p):this.i.length==0||Uc(this.h)||$c(this))};function $c(p,w){var x;w?x=w.l:x=p.U++;const N=Ct(p.I);Xe(N,"SID",p.K),Xe(N,"RID",x),Xe(N,"AID",p.T),Ya(p,N),p.m&&p.o&&sn(N,p.m,p.o),x=new es(p,p.j,x,p.B+1),p.m===null&&(x.H=p.o),w&&(p.i=w.D.concat(p.i)),w=wd(p,x,1e3),x.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Mr(p.h,x),Oi(x,N,w)}function Ya(p,w){p.H&&Q(p.H,function(x,N){Xe(w,N,x)}),p.l&&za({},function(x,N){Xe(w,N,x)})}function wd(p,w,x){x=Math.min(p.i.length,x);var N=p.l?b(p.l.Na,p.l,p):null;e:{var Y=p.i;let J=-1;for(;;){const ce=["count="+x];J==-1?0<x?(J=Y[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let Ge=!0;for(let $t=0;$t<x;$t++){let We=Y[$t].g;const rn=Y[$t].map;if(We-=J,0>We)J=Math.max(0,Y[$t].g-100),Ge=!1;else try{ns(rn,ce,"req"+We+"_")}catch{N&&N(rn)}}if(Ge){N=ce.join("&");break e}}}return p=p.i.splice(0,x),w.D=p,N}function Sd(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;de||F(),ge||(de(),ge=!0),_e.add(w,p),p.v=0}}function Yc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=xr(b(p.Fa,p),Qc(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Ad(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=xr(b(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),dl(this),Ad(this))};function Qa(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function Ad(p){p.g=new es(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var w=Ct(p.qa);Xe(w,"RID","rpc"),Xe(w,"SID",p.K),Xe(w,"AID",p.T),Xe(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&Xe(w,"TO",p.ja),Xe(w,"TYPE","xmlhttp"),Ya(p,w),p.m&&p.o&&sn(w,p.m,p.o),p.L&&(p.g.I=p.L);var x=p.g;p=p.ia,x.L=1,x.v=Ha(Ct(w)),x.m=null,x.P=!0,ks(x,p)}n.Za=function(){this.C!=null&&(this.C=null,dl(this),Yc(this),Pt(19))};function gl(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Td(p,w){var x=null;if(p.g==w){gl(p),Qa(p),p.g=null;var N=2}else if(Nr(p.h,w))x=w.D,oi(p.h,w),N=1;else return;if(p.G!=0){if(w.o)if(N==1){x=w.m?w.m.length:0,w=Date.now()-w.F;var Y=p.B;N=tl(),tn(N,new dd(N,x)),fl(p)}else Sd(p);else if(Y=w.s,Y==3||Y==0&&0<w.X||!(N==1&&gm(p,w)||N==2&&Yc(p)))switch(x&&0<x.length&&(w=p.h,w.i=w.i.concat(x)),Y){case 1:Ls(p,5);break;case 4:Ls(p,10);break;case 3:Ls(p,6);break;default:Ls(p,2)}}}function Qc(p,w){let x=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(x*=2),x*w}function Ls(p,w){if(p.j.info("Error code "+w),w==2){var x=b(p.fb,p),N=p.Xa;const Y=!N;N=new Ns(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Or(N,"https"),Ha(N),Y?vd(N.toString(),x):Fa(N.toString(),x)}else Pt(2);p.G=0,p.l&&p.l.sa(w),xd(p),Ed(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function xd(p){if(p.G=0,p.ka=[],p.l){const w=Pn(p.h);(w.length!=0||p.i.length!=0)&&(A(p.ka,w),A(p.ka,p.i),p.h.i.length=0,T(p.i),p.i.length=0),p.l.ra()}}function Rd(p,w,x){var N=x instanceof Ns?Ct(x):new Ns(x);if(N.g!="")w&&(N.g=w+"."+N.g),Ba(N,N.s);else{var Y=c.location;N=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;var J=new Ns(null);N&&Or(J,N),w&&(J.g=w),Y&&Ba(J,Y),x&&(J.l=x),N=J}return x=p.D,w=p.ya,x&&w&&Xe(N,x,w),Xe(N,"VER",p.la),Ya(p,N),N}function Cd(p,w,x){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Ca&&!p.pa?new it(new jr({eb:x})):new it(p.pa),w.Ha(p.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dd(){}n=Dd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function pl(){}pl.prototype.g=function(p,w){return new jn(p,w)};function jn(p,w){Gt.call(this),this.g=new hl(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!M(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!M(w)&&(this.g.D=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new as(this)}S(jn,Gt),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Wc(this.g)},jn.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var x={};x.__data__=p,p=x}else this.u&&(x={},x.__data__=Mc(p),p=x);w.i.push(new lm(w.Ya++,p)),w.G==3&&fl(w)},jn.prototype.N=function(){this.g.l=null,delete this.j,Wc(this.g),delete this.g,jn.aa.N.call(this)};function Id(p){Sr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const x in w){p=x;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}S(Id,Sr);function kd(){Mi.call(this),this.status=1}S(kd,Mi);function as(p){this.g=p}S(as,Dd),as.prototype.ua=function(){tn(this.g,"a")},as.prototype.ta=function(p){tn(this.g,new Id(p))},as.prototype.sa=function(p){tn(this.g,new kd)},as.prototype.ra=function(){tn(this.g,"b")},pl.prototype.createWebChannel=pl.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,rI=function(){return new pl},sI=function(){return tl()},iI=ai,fb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wt.NO_ERROR=0,Wt.TIMEOUT=8,Wt.HTTP_ERROR=6,dg=Wt,Is.COMPLETE="complete",nI=Is,hd.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,Yu=hd,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,tI=it}).apply(typeof Nf<"u"?Nf:typeof self<"u"?self:typeof window<"u"?window:{});const JA="@firebase/firestore",eT="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new Tp("@firebase/firestore");function Gl(){return Po.logLevel}function pe(n,...e){if(Po.logLevel<=ze.DEBUG){const t=e.map(S_);Po.debug(`Firestore (${Sc}): ${n}`,...t)}}function yr(n,...e){if(Po.logLevel<=ze.ERROR){const t=e.map(S_);Po.error(`Firestore (${Sc}): ${n}`,...t)}}function oc(n,...e){if(Po.logLevel<=ze.WARN){const t=e.map(S_);Po.warn(`Firestore (${Sc}): ${n}`,...t)}}function S_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n="Unexpected state"){const e=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: `+n;throw yr(e),new Error(e)}function rt(n,e){n||ke()}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends $i{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rn.UNAUTHENTICATED))}shutdown(){}}class $z{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Yz{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0);let i=this.i;const s=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let r=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new hr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const h=r;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new hr)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rt(typeof i.accessToken=="string"),new aI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new Rn(e)}}class Qz{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Kz{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Qz(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xz{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Si(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0);const i=r=>{r.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.R;return this.R=r.token,pe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new tT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt(typeof t.token=="string"),this.R=t.token,new tT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=Zz(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<t&&(i+=e.charAt(s[r]%62))}return i}}function Fe(n,e){return n<e?-1:n>e?1:0}function lc(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=-62135596800,iT=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*iT);return new Jt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nT)throw new me(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iT}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-nT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Jt(0,0))}static max(){return new Ne(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="__name__";class ms{constructor(e,t,i){t===void 0?t=0:t>e.length&&ke(),i===void 0?i=e.length-t:i>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ms.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ms?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const r=ms.compareSegments(e.get(s),t.get(s));if(r!==0)return r}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=ms.isNumericId(e),s=ms.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?ms.extractNumericId(e).compare(ms.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return va.fromString(e.substring(4,e.length-2))}}class mt extends ms{construct(e,t,i){return new mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new mt(t)}static emptyPath(){return new mt([])}}const Jz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends ms{construct(e,t,i){return new bn(e,t,i)}static isValidIdentifier(e){return Jz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sT}static keyField(){return new bn([sT])}static fromServerFormat(e){const t=[];let i="",s=0;const r=()=>{if(i.length===0)throw new me(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new me(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(i+=c,s++):(r(),s++)}if(r(),o)throw new me(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(mt.fromString(e))}static fromName(e){return new Ae(mt.fromString(e).popFirst(5))}static empty(){return new Ae(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=-1;function e4(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(i===1e9?new Jt(t+1,0):new Jt(t,i));return new Sa(s,Ae.empty(),e)}function t4(n){return new Sa(n.readTime,n.key,Ah)}class Sa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Sa(Ne.min(),Ae.empty(),Ah)}static max(){return new Sa(Ne.max(),Ae.empty(),Ah)}}function n4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==i4)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(t,r).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,i)=>{t(e)})}static reject(e){return new re((t,i)=>{i(e)})}static waitFor(e){return new re((t,i)=>{let s=0,r=0,o=!1;e.forEach(c=>{++s,c.next(()=>{++r,o&&r===s&&t()},h=>i(h))}),o=!0,r===s&&t()})}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next(s=>s?re.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,r)=>{i.push(t.call(this,s,r))}),this.waitFor(i)}static mapArray(e,t){return new re((i,s)=>{const r=e.length,o=new Array(r);let c=0;for(let h=0;h<r;h++){const d=h;t(e[d]).next(g=>{o[d]=g,++c,c===r&&i(o)},g=>s(g))}})}static doWhile(e,t){return new re((i,s)=>{const r=()=>{e()===!0?t().next(()=>{r()},s):i()};r()})}}function r4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Tc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}kp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=-1;function Np(n){return n==null}function Bg(n){return n===0&&1/n==-1/0}function a4(n){return typeof n=="number"&&Number.isInteger(n)&&!Bg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="";function o4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rT(e)),e=l4(n.get(t),e);return rT(e)}function l4(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const r=n.charAt(s);switch(r){case"\0":t+="";break;case lI:t+="";break;default:t+=r}}return t}function rT(n){return n+lI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ma(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function cI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,t){this.comparator=e,this.root=t||vn.EMPTY}insert(e,t){return new xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mf(this.root,e,this.comparator,!0)}}class Mf{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?i(e.key,t):1,t&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,t,i,s,r){this.key=e,this.value=t,this.color=i??vn.RED,this.left=s??vn.EMPTY,this.right=r??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,r){return new vn(e??this.key,t??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,t,i),null):r===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return vn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,i,s,r){return this}insert(e,t,i){return new vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oT(this.data.getIterator())}getIteratorFrom(e){return new oT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new en(this.comparator);return t.data=e,t}}class oT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new ii([])}unionWith(e){let t=new en(bn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ii(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new uI("Invalid base64 string: "+r):r}}(e);return new _n(t)}static fromUint8Array(e){const t=function(s){let r="";for(let o=0;o<s.length;++o)r+=String.fromCharCode(s[o]);return r}(e);return new _n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const c4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(n){if(rt(!!n),typeof n=="string"){let e=0;const t=c4.exec(n);if(rt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(n.seconds),nanos:Lt(n.nanos)}}function Lt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ta(n){return typeof n=="string"?_n.fromBase64String(n):_n.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="server_timestamp",dI="__type__",fI="__previous_value__",gI="__local_write_time__";function T_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[dI])===null||t===void 0?void 0:t.stringValue)===hI}function Mp(n){const e=n.mapValue.fields[fI];return T_(e)?Mp(e):e}function Th(n){const e=Aa(n.mapValue.fields[gI].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,t,i,s,r,o,c,h,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d}}const Hg="(default)";class xh{constructor(e,t){this.projectId=e,this.database=t||Hg}static empty(){return new xh("","")}get isDefaultDatabase(){return this.database===Hg}isEqual(e){return e instanceof xh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="__type__",h4="__max__",Of={mapValue:{}},mI="__vector__",Fg="value";function xa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?T_(n)?4:f4(n)?9007199254740991:d4(n)?10:11:ke()}function Ts(n,e){if(n===e)return!0;const t=xa(n);if(t!==xa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Th(n).isEqual(Th(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const o=Aa(s.timestampValue),c=Aa(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,r){return Ta(s.bytesValue).isEqual(Ta(r.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,r){return Lt(s.geoPointValue.latitude)===Lt(r.geoPointValue.latitude)&&Lt(s.geoPointValue.longitude)===Lt(r.geoPointValue.longitude)}(n,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Lt(s.integerValue)===Lt(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const o=Lt(s.doubleValue),c=Lt(r.doubleValue);return o===c?Bg(o)===Bg(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return lc(n.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:case 11:return function(s,r){const o=s.mapValue.fields||{},c=r.mapValue.fields||{};if(aT(o)!==aT(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(c[h]===void 0||!Ts(o[h],c[h])))return!1;return!0}(n,e);default:return ke()}}function Rh(n,e){return(n.values||[]).find(t=>Ts(t,e))!==void 0}function cc(n,e){if(n===e)return 0;const t=xa(n),i=xa(e);if(t!==i)return Fe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(r,o){const c=Lt(r.integerValue||r.doubleValue),h=Lt(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return lT(n.timestampValue,e.timestampValue);case 4:return lT(Th(n),Th(e));case 5:return Fe(n.stringValue,e.stringValue);case 6:return function(r,o){const c=Ta(r),h=Ta(o);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const c=r.split("/"),h=o.split("/");for(let d=0;d<c.length&&d<h.length;d++){const g=Fe(c[d],h[d]);if(g!==0)return g}return Fe(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const c=Fe(Lt(r.latitude),Lt(o.latitude));return c!==0?c:Fe(Lt(r.longitude),Lt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return cT(n.arrayValue,e.arrayValue);case 10:return function(r,o){var c,h,d,g;const y=r.fields||{},b=o.fields||{},_=(c=y[Fg])===null||c===void 0?void 0:c.arrayValue,S=(h=b[Fg])===null||h===void 0?void 0:h.arrayValue,T=Fe(((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return T!==0?T:cT(_,S)}(n.mapValue,e.mapValue);case 11:return function(r,o){if(r===Of.mapValue&&o===Of.mapValue)return 0;if(r===Of.mapValue)return 1;if(o===Of.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),d=o.fields||{},g=Object.keys(d);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const b=Fe(h[y],g[y]);if(b!==0)return b;const _=cc(c[h[y]],d[g[y]]);if(_!==0)return _}return Fe(h.length,g.length)}(n.mapValue,e.mapValue);default:throw ke()}}function lT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=Aa(n),i=Aa(e),s=Fe(t.seconds,i.seconds);return s!==0?s:Fe(t.nanos,i.nanos)}function cT(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const r=cc(t[s],i[s]);if(r)return r}return Fe(t.length,i.length)}function uc(n){return gb(n)}function gb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Aa(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ta(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const r of t.values||[])s?s=!1:i+=",",i+=gb(r);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",r=!0;for(const o of i)r?r=!1:s+=",",s+=`${o}:${gb(t.fields[o])}`;return s+"}"}(n.mapValue):ke()}function fg(n){switch(xa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mp(n);return e?16+fg(e):16;case 5:return 2*n.stringValue.length;case 6:return Ta(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+fg(r),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Ma(i.fields,(r,o)=>{s+=r.length+fg(o)}),s}(n.mapValue);default:throw ke()}}function uT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pb(n){return!!n&&"integerValue"in n}function x_(n){return!!n&&"arrayValue"in n}function hT(n){return!!n&&"nullValue"in n}function dT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gg(n){return!!n&&"mapValue"in n}function d4(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[pI])===null||t===void 0?void 0:t.stringValue)===mI}function ah(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ma(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ah(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ah(n.arrayValue.values[t]);return e}return Object.assign({},n)}function f4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===h4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!gg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ah(t)}setAll(e){let t=bn.emptyPath(),i={},s=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,i,s),i={},s=[],t=c.popLast()}o?i[c.lastSegment()]=ah(o):s.push(c.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,i,s)}delete(e){const t=this.field(e.popLast());gg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];gg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Ma(t,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new Wn(ah(this.value))}}function yI(n){const e=[];return Ma(n.fields,(t,i)=>{const s=new bn([t]);if(gg(i)){const r=yI(i.mapValue).fields;if(r.length===0)e.push(s);else for(const o of r)e.push(s.child(o))}else e.push(s)}),new ii(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,t,i,s,r,o,c){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Cn(e,0,Ne.min(),Ne.min(),Ne.min(),Wn.empty(),0)}static newFoundDocument(e,t,i,s){return new Cn(e,1,t,Ne.min(),i,s,0)}static newNoDocument(e,t){return new Cn(e,2,t,Ne.min(),Ne.min(),Wn.empty(),0)}static newUnknownDocument(e,t){return new Cn(e,3,t,Ne.min(),Ne.min(),Wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,t){this.position=e,this.inclusive=t}}function fT(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const r=e[s],o=n.position[s];if(r.field.isKeyField()?i=Ae.comparator(Ae.fromName(o.referenceValue),t.key):i=cc(o,t.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function gT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ts(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,t="asc"){this.field=e,this.dir=t}}function g4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{}class qt extends vI{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new m4(e,t,i):t==="array-contains"?new b4(e,i):t==="in"?new _4(e,i):t==="not-in"?new E4(e,i):t==="array-contains-any"?new w4(e,i):new qt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new y4(e,i):new v4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(cc(t,this.value)):t!==null&&xa(this.value)===xa(t)&&this.matchesComparison(cc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends vI{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Hi(e,t)}matches(e){return bI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function bI(n){return n.op==="and"}function _I(n){return p4(n)&&bI(n)}function p4(n){for(const e of n.filters)if(e instanceof Hi)return!1;return!0}function mb(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+uc(n.value);if(_I(n))return n.filters.map(e=>mb(e)).join(",");{const e=n.filters.map(t=>mb(t)).join(",");return`${n.op}(${e})`}}function EI(n,e){return n instanceof qt?function(i,s){return s instanceof qt&&i.op===s.op&&i.field.isEqual(s.field)&&Ts(i.value,s.value)}(n,e):n instanceof Hi?function(i,s){return s instanceof Hi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,o,c)=>r&&EI(o,s.filters[c]),!0):!1}(n,e):void ke()}function wI(n){return n instanceof qt?function(t){return`${t.field.canonicalString()} ${t.op} ${uc(t.value)}`}(n):n instanceof Hi?function(t){return t.op.toString()+" {"+t.getFilters().map(wI).join(" ,")+"}"}(n):"Filter"}class m4 extends qt{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class y4 extends qt{constructor(e,t){super(e,"in",t),this.keys=SI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class v4 extends qt{constructor(e,t){super(e,"not-in",t),this.keys=SI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function SI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class b4 extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return x_(t)&&Rh(t.arrayValue,this.value)}}class _4 extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Rh(this.value.arrayValue,t)}}class E4 extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Rh(this.value.arrayValue,t)}}class w4 extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!x_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Rh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,t=null,i=[],s=[],r=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=c,this.le=null}}function pT(n,e=null,t=[],i=[],s=null,r=null,o=null){return new S4(n,e,t,i,s,r,o)}function R_(n){const e=Oe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>mb(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Np(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>uc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>uc(i)).join(",")),e.le=t}return e.le}function C_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!g4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!EI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gT(n.startAt,e.startAt)&&gT(n.endAt,e.endAt)}function yb(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t=null,i=[],s=[],r=null,o="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function A4(n,e,t,i,s,r,o,c){return new Kh(n,e,t,i,s,r,o,c)}function D_(n){return new Kh(n)}function mT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function AI(n){return n.collectionGroup!==null}function oh(n){const e=Oe(n);if(e.he===null){e.he=[];const t=new Set;for(const r of e.explicitOrderBy)e.he.push(r),t.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new en(bn.comparator);return o.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(r=>{t.has(r.canonicalString())||r.isKeyField()||e.he.push(new Gg(r,i))}),t.has(bn.keyField().canonicalString())||e.he.push(new Gg(bn.keyField(),i))}return e.he}function Es(n){const e=Oe(n);return e.Pe||(e.Pe=T4(e,oh(n))),e.Pe}function T4(n,e){if(n.limitType==="F")return pT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Gg(s.field,r)});const t=n.endAt?new qg(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new qg(n.startAt.position,n.startAt.inclusive):null;return pT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function vb(n,e){const t=n.filters.concat([e]);return new Kh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function bb(n,e,t){return new Kh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Op(n,e){return C_(Es(n),Es(e))&&n.limitType===e.limitType}function TI(n){return`${R_(Es(n))}|lt:${n.limitType}`}function Wl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>wI(s)).join(", ")}]`),Np(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>uc(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>uc(s)).join(",")),`Target(${i})`}(Es(n))}; limitType=${n.limitType})`}function Pp(n,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Ae.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(n,e)&&function(i,s){for(const r of oh(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(o,c,h){const d=fT(o,c,h);return o.inclusive?d<=0:d<0}(i.startAt,oh(i),s)||i.endAt&&!function(o,c,h){const d=fT(o,c,h);return o.inclusive?d>=0:d>0}(i.endAt,oh(i),s))}(n,e)}function x4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xI(n){return(e,t)=>{let i=!1;for(const s of oh(n)){const r=R4(s,e,t);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function R4(n,e,t){const i=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(r,o,c){const h=o.data.field(r),d=c.data.field(r);return h!==null&&d!==null?cc(h,d):ke()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,(t,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return cI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=new xt(Ae.comparator);function vr(){return C4}const RI=new xt(Ae.comparator);function Qu(...n){let e=RI;for(const t of n)e=e.insert(t.key,t);return e}function CI(n){let e=RI;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function To(){return lh()}function DI(){return lh()}function lh(){return new Go(n=>n.toString(),(n,e)=>n.isEqual(e))}const D4=new xt(Ae.comparator),I4=new en(Ae.comparator);function Be(...n){let e=I4;for(const t of n)e=e.add(t);return e}const k4=new en(Fe);function N4(){return k4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bg(e)?"-0":e}}function II(n){return{integerValue:""+n}}function M4(n,e){return a4(e)?II(e):I_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this._=void 0}}function O4(n,e,t){return n instanceof Wg?function(s,r){const o={fields:{[dI]:{stringValue:hI},[gI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&T_(r)&&(r=Mp(r)),r&&(o.fields[fI]=r),{mapValue:o}}(t,e):n instanceof Ch?NI(n,e):n instanceof Dh?MI(n,e):function(s,r){const o=kI(s,r),c=yT(o)+yT(s.Ie);return pb(o)&&pb(s.Ie)?II(c):I_(s.serializer,c)}(n,e)}function P4(n,e,t){return n instanceof Ch?NI(n,e):n instanceof Dh?MI(n,e):t}function kI(n,e){return n instanceof $g?function(i){return pb(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class Wg extends jp{}class Ch extends jp{constructor(e){super(),this.elements=e}}function NI(n,e){const t=OI(e);for(const i of n.elements)t.some(s=>Ts(s,i))||t.push(i);return{arrayValue:{values:t}}}class Dh extends jp{constructor(e){super(),this.elements=e}}function MI(n,e){let t=OI(e);for(const i of n.elements)t=t.filter(s=>!Ts(s,i));return{arrayValue:{values:t}}}class $g extends jp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function yT(n){return Lt(n.integerValue||n.doubleValue)}function OI(n){return x_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function j4(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Ch&&s instanceof Ch||i instanceof Dh&&s instanceof Dh?lc(i.elements,s.elements,Ts):i instanceof $g&&s instanceof $g?Ts(i.Ie,s.Ie):i instanceof Wg&&s instanceof Wg}(n.transform,e.transform)}class L4{constructor(e,t){this.version=e,this.transformResults=t}}class Ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Lp{}function PI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new k_(n.key,Ri.none()):new Xh(n.key,n.data,Ri.none());{const t=n.data,i=Wn.empty();let s=new en(bn.comparator);for(let r of e.fields)if(!s.has(r)){let o=t.field(r);o===null&&r.length>1&&(r=r.popLast(),o=t.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new Oa(n.key,i,new ii(s.toArray()),Ri.none())}}function V4(n,e,t){n instanceof Xh?function(s,r,o){const c=s.value.clone(),h=bT(s.fieldTransforms,r,o.transformResults);c.setAll(h),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Oa?function(s,r,o){if(!pg(s.precondition,r))return void r.convertToUnknownDocument(o.version);const c=bT(s.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(jI(s)),h.setAll(c),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):function(s,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function ch(n,e,t,i){return n instanceof Xh?function(r,o,c,h){if(!pg(r.precondition,o))return c;const d=r.value.clone(),g=_T(r.fieldTransforms,h,o);return d.setAll(g),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof Oa?function(r,o,c,h){if(!pg(r.precondition,o))return c;const d=_T(r.fieldTransforms,h,o),g=o.data;return g.setAll(jI(r)),g.setAll(d),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),c===null?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(y=>y.field))}(n,e,t,i):function(r,o,c){return pg(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,e,t)}function U4(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),r=kI(i.transform,s||null);r!=null&&(t===null&&(t=Wn.empty()),t.set(i.field,r))}return t||null}function vT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&lc(i,s,(r,o)=>j4(r,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xh extends Lp{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oa extends Lp{constructor(e,t,i,s,r=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function jI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function bT(n,e,t){const i=new Map;rt(n.length===t.length);for(let s=0;s<t.length;s++){const r=n[s],o=r.transform,c=e.data.field(r.field);i.set(r.field,P4(o,c,t[s]))}return i}function _T(n,e,t){const i=new Map;for(const s of n){const r=s.transform,o=t.data.field(s.field);i.set(s.field,O4(r,o,e))}return i}class k_ extends Lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z4 extends Lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&V4(r,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ch(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ch(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=DI();return this.mutations.forEach(s=>{const r=e.get(s.key),o=r.overlayedDocument;let c=this.applyToLocalView(o,r.mutatedFields);c=t.has(s.key)?null:c;const h=PI(o,c);h!==null&&i.set(s.key,h),o.isValidDocument()||o.convertToNoDocument(Ne.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&lc(this.mutations,e.mutations,(t,i)=>vT(t,i))&&lc(this.baseMutations,e.baseMutations,(t,i)=>vT(t,i))}}class N_{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){rt(e.mutations.length===i.length);let s=function(){return D4}();const r=e.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new N_(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Ye;function q4(n){switch(n){case ae.OK:return ke();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return ke()}}function LI(n){if(n===void 0)return yr("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Ft.OK:return ae.OK;case Ft.CANCELLED:return ae.CANCELLED;case Ft.UNKNOWN:return ae.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ae.INTERNAL;case Ft.UNAVAILABLE:return ae.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ae.NOT_FOUND;case Ft.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Ft.ABORTED:return ae.ABORTED;case Ft.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Ft.DATA_LOSS:return ae.DATA_LOSS;default:return ke()}}(Ye=Ft||(Ft={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=new va([4294967295,4294967295],0);function ET(n){const e=G4().encode(n),t=new eI;return t.update(e),new Uint8Array(t.digest())}function wT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new va([t,i],0),new va([s,r],0)]}class M_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ku(`Invalid padding: ${t}`);if(i<0)throw new Ku(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ku(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ku(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=va.fromNumber(this.Ee)}Ae(e,t,i){let s=e.add(t.multiply(va.fromNumber(i)));return s.compare(W4)===1&&(s=new va([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=ET(e),[i,s]=wT(t);for(let r=0;r<this.hashCount;r++){const o=this.Ae(i,s,r);if(!this.Re(o))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new M_(r,s,t);return i.forEach(c=>o.insert(c)),o}insert(e){if(this.Ee===0)return;const t=ET(e),[i,s]=wT(t);for(let r=0;r<this.hashCount;r++){const o=this.Ae(i,s,r);this.Ve(o)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t,i,s,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Zh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Vp(Ne.min(),s,new xt(Fe),vr(),Be())}}class Zh{constructor(e,t,i,s,r){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Zh(i,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t,i,s){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=s}}class VI{constructor(e,t){this.targetId=e,this.ge=t}}class UI{constructor(e,t,i=_n.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class ST{constructor(){this.pe=0,this.ye=AT(),this.we=_n.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Be(),t=Be(),i=Be();return this.ye.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:ke()}}),new Zh(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=AT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,rt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class $4{constructor(e){this.ke=e,this.qe=new Map,this.Qe=vr(),this.$e=Pf(),this.Ke=Pf(),this.Ue=new xt(Fe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,i=e.ge.count,s=this.Xe(t);if(s){const r=s.target;if(yb(r))if(i===0){const o=new Ae(r.path);this.ze(t,o,Cn.newNoDocument(o,Ne.min()))}else rt(i===1);else{const o=this.et(t);if(o!==i){const c=this.tt(e),h=c?this.nt(c,e,o):1;if(h!==0){this.Ye(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,d)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=t;let o,c;try{o=Ta(i).toUint8Array()}catch(h){if(h instanceof uI)return oc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new M_(o,s,r)}catch(h){return oc(h instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let s=0;return i.forEach(r=>{const o=this.ke.it(),c=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,r,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((r,o)=>{const c=this.Xe(o);if(c){if(r.current&&yb(c.target)){const h=new Ae(c.target.path);this._t(h).has(o)||this.ut(o,h)||this.ze(o,h,Cn.newNoDocument(h,e))}r.ve&&(t.set(o,r.Fe()),r.Me())}});let i=Be();this.Ke.forEach((r,o)=>{let c=!0;o.forEachWhile(h=>{const d=this.Xe(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(r))}),this.Qe.forEach((r,o)=>o.setReadTime(e));const s=new Vp(e,t,this.Ue,this.Qe,i);return this.Qe=vr(),this.$e=Pf(),this.Ke=Pf(),this.Ue=new xt(Fe),s}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new ST,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new en(Fe),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new en(Fe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new ST),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Pf(){return new xt(Ae.comparator)}function AT(){return new xt(Ae.comparator)}const Y4={asc:"ASCENDING",desc:"DESCENDING"},Q4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K4={and:"AND",or:"OR"};class X4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _b(n,e){return n.useProto3Json||Np(e)?e:{value:e}}function Yg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Z4(n,e){return Yg(n,e.toTimestamp())}function ws(n){return rt(!!n),Ne.fromTimestamp(function(t){const i=Aa(t);return new Jt(i.seconds,i.nanos)}(n))}function O_(n,e){return Eb(n,e).canonicalString()}function Eb(n,e){const t=function(s){return new mt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function BI(n){const e=mt.fromString(n);return rt(WI(e)),e}function wb(n,e){return O_(n.databaseId,e.path)}function wv(n,e){const t=BI(e);if(t.get(1)!==n.databaseId.projectId)throw new me(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(FI(t))}function HI(n,e){return O_(n.databaseId,e)}function J4(n){const e=BI(n);return e.length===4?mt.emptyPath():FI(e)}function Sb(n){return new mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function FI(n){return rt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function TT(n,e,t){return{name:wb(n,e),fields:t.value.mapValue.fields}}function eB(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(d,g){return d.useProto3Json?(rt(g===void 0||typeof g=="string"),_n.fromBase64String(g||"")):(rt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),_n.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(d){const g=d.code===void 0?ae.UNKNOWN:LI(d.code);return new me(g,d.message||"")}(o);t=new UI(i,s,r,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=wv(n,i.document.name),r=ws(i.document.updateTime),o=i.document.createTime?ws(i.document.createTime):Ne.min(),c=new Wn({mapValue:{fields:i.document.fields}}),h=Cn.newFoundDocument(s,r,o,c),d=i.targetIds||[],g=i.removedTargetIds||[];t=new mg(d,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=wv(n,i.document),r=i.readTime?ws(i.readTime):Ne.min(),o=Cn.newNoDocument(s,r),c=i.removedTargetIds||[];t=new mg([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=wv(n,i.document),r=i.removedTargetIds||[];t=new mg([],r,s,null)}else{if(!("filter"in e))return ke();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,o=new F4(s,r),c=i.targetId;t=new VI(c,o)}}return t}function tB(n,e){let t;if(e instanceof Xh)t={update:TT(n,e.key,e.value)};else if(e instanceof k_)t={delete:wb(n,e.key)};else if(e instanceof Oa)t={update:TT(n,e.key,e.data),updateMask:uB(e.fieldMask)};else{if(!(e instanceof z4))return ke();t={verify:wb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof Wg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ch)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Dh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof $g)return{fieldPath:o.field.canonicalString(),increment:c.Ie};throw ke()}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:Z4(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ke()}(n,e.precondition)),t}function nB(n,e){return n&&n.length>0?(rt(e!==void 0),n.map(t=>function(s,r){let o=s.updateTime?ws(s.updateTime):ws(r);return o.isEqual(Ne.min())&&(o=ws(r)),new L4(o,s.transformResults||[])}(t,e))):[]}function iB(n,e){return{documents:[HI(n,e.path)]}}function sB(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=HI(n,s);const r=function(d){if(d.length!==0)return GI(Hi.create(d,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(d){if(d.length!==0)return d.map(g=>function(b){return{field:$l(b.field),direction:oB(b.dir)}}(g))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=_b(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ht:t,parent:s}}function rB(n){let e=J4(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){rt(i===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let r=[];t.where&&(r=function(y){const b=qI(y);return b instanceof Hi&&_I(b)?b.getFilters():[b]}(t.where));let o=[];t.orderBy&&(o=function(y){return y.map(b=>function(S){return new Gg(Yl(S.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(b))}(t.orderBy));let c=null;t.limit&&(c=function(y){let b;return b=typeof y=="object"?y.value:y,Np(b)?null:b}(t.limit));let h=null;t.startAt&&(h=function(y){const b=!!y.before,_=y.values||[];return new qg(_,b)}(t.startAt));let d=null;return t.endAt&&(d=function(y){const b=!y.before,_=y.values||[];return new qg(_,b)}(t.endAt)),A4(e,s,o,r,c,"F",h,d)}function aB(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Yl(t.unaryFilter.field);return qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Yl(t.unaryFilter.field);return qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Yl(t.unaryFilter.field);return qt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yl(t.unaryFilter.field);return qt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(n):n.fieldFilter!==void 0?function(t){return qt.create(Yl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Hi.create(t.compositeFilter.filters.map(i=>qI(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ke()}}(t.compositeFilter.op))}(n):ke()}function oB(n){return Y4[n]}function lB(n){return Q4[n]}function cB(n){return K4[n]}function $l(n){return{fieldPath:n.canonicalString()}}function Yl(n){return bn.fromServerFormat(n.fieldPath)}function GI(n){return n instanceof qt?function(t){if(t.op==="=="){if(dT(t.value))return{unaryFilter:{field:$l(t.field),op:"IS_NAN"}};if(hT(t.value))return{unaryFilter:{field:$l(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(dT(t.value))return{unaryFilter:{field:$l(t.field),op:"IS_NOT_NAN"}};if(hT(t.value))return{unaryFilter:{field:$l(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$l(t.field),op:lB(t.op),value:t.value}}}(n):n instanceof Hi?function(t){const i=t.getFilters().map(s=>GI(s));return i.length===1?i[0]:{compositeFilter:{op:cB(t.op),filters:i}}}(n):ke()}function uB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function WI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t,i,s,r=Ne.min(),o=Ne.min(),c=_n.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.Tt=e}}function dB(n){const e=rB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?bb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(){this.Tn=new gB}addToCollectionParentIndex(e,t){return this.Tn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Sa.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Sa.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class gB{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new en(mt.comparator),r=!s.has(i);return this.index[t]=s.add(i),r}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new en(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$I=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn($I,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new hc(0)}static Un(){return new hc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="LruGarbageCollector",pB=1048576;function CT([n,e],[t,i]){const s=Fe(n,t);return s===0?Fe(e,i):s}class mB{constructor(e){this.Hn=e,this.buffer=new en(CT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();CT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yB{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(RT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Tc(t)?pe(RT,"Ignoring IndexedDB error during garbage collection: ",t):await Ac(t)}await this.er(3e5)})}}class vB{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return re.resolve(kp.ae);const i=new mB(t);return this.tr.forEachTarget(e,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(xT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,s,r,o,c,h,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,o=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(e,i,t))).next(y=>(r=y,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(y=>(d=Date.now(),Gl()<=ze.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-g}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${r} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-g}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:y})))}}function bB(n,e){return new vB(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this.changes=new Go(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&ch(i.mutation,s,ii.empty(),Jt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Be()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Be()){const s=To();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(r=>{let o=Qu();return r.forEach((c,h)=>{o=o.insert(c,h.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=To();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Be()))}populateOverlays(e,t,i){const s=[];return i.forEach(r=>{t.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,i,s){let r=vr();const o=lh(),c=function(){return lh()}();return t.forEach((h,d)=>{const g=i.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof Oa)?r=r.insert(d.key,d):g!==void 0?(o.set(d.key,g.mutation.getFieldMask()),ch(g.mutation,d,g.mutation.getFieldMask(),Jt.now())):o.set(d.key,ii.empty())}),this.recalculateAndSaveOverlays(e,r).next(h=>(h.forEach((d,g)=>o.set(d,g)),t.forEach((d,g)=>{var y;return c.set(d,new EB(g,(y=o.get(d))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,t){const i=lh();let s=new xt((o,c)=>o-c),r=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const c of o)c.keys().forEach(h=>{const d=t.get(h);if(d===null)return;let g=i.get(h)||ii.empty();g=c.applyToLocalView(d,g),i.set(h,g);const y=(s.get(c.batchId)||Be()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,g=h.value,y=DI();g.forEach(b=>{if(!r.has(b)){const _=PI(t.get(b),i.get(b));_!==null&&y.set(b,_),r=r.add(b)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,y))}return re.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(o){return Ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):AI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-r.size):re.resolve(To());let c=Ah,h=r;return o.next(d=>re.forEach(d,(g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),r.get(g)?re.resolve():this.remoteDocumentCache.getEntry(e,g).next(b=>{h=h.insert(g,b)}))).next(()=>this.populateOverlays(e,d,r)).next(()=>this.computeViews(e,h,d,Be())).next(g=>({batchId:c,changes:CI(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(i=>{let s=Qu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const r=t.collectionGroup;let o=Qu();return this.indexManager.getCollectionParents(e,r).next(c=>re.forEach(c,h=>{const d=function(y,b){return new Kh(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,h.child(r));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next(g=>{g.forEach((y,b)=>{o=o.insert(y,b)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r,s))).next(o=>{r.forEach((h,d)=>{const g=d.getKey();o.get(g)===null&&(o=o.insert(g,Cn.newInvalidDocument(g)))});let c=Qu();return o.forEach((h,d)=>{const g=r.get(h);g!==void 0&&ch(g.mutation,d,ii.empty(),Jt.now()),Pp(t,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return re.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ws(s.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:dB(s.bundledQuery),readTime:ws(s.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(){this.overlays=new xt(Ae.comparator),this.Rr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=To();return re.forEach(t,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,r)=>{this.Et(e,t,r)}),re.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Rr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const s=To(),r=t.length+1,o=new Ae(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===r&&h.largestBatchId>i&&s.set(h.getKey(),h)}return re.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let r=new xt((d,g)=>d-g);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let g=r.get(d.largestBatchId);g===null&&(g=To(),r=r.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=To(),h=r.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,g)=>c.set(d,g)),!(c.size()>=s)););return re.resolve(c)}Et(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new H4(t,i));let r=this.Rr.get(t);r===void 0&&(r=Be(),this.Rr.set(t,r)),this.Rr.set(t,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.Vr=new en(cn.mr),this.gr=new en(cn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new cn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new cn(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Ae(new mt([])),i=new cn(t,e),s=new cn(t,e+1),r=[];return this.gr.forEachInRange([i,s],o=>{this.wr(o),r.push(o.key)}),r}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ae(new mt([])),i=new cn(t,e),s=new cn(t,e+1);let r=Be();return this.gr.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(e){const t=new cn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class cn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ae.comparator(e.key,t.key)||Fe(e.Cr,t.Cr)}static pr(e,t){return Fe(e.Cr,t.Cr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new en(cn.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const r=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new B4(r,t,i,s);this.mutationQueue.push(o);for(const c of s)this.Mr=this.Mr.add(new cn(c.key,r)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return re.resolve(o)}lookupMutationBatch(e,t){return re.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Nr(i),r=s<0?0:s;return re.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?A_:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new cn(t,0),s=new cn(t,Number.POSITIVE_INFINITY),r=[];return this.Mr.forEachInRange([i,s],o=>{const c=this.Or(o.Cr);r.push(c)}),re.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new en(Fe);return t.forEach(s=>{const r=new cn(s,0),o=new cn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([r,o],c=>{i=i.add(c.Cr)})}),re.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let r=i;Ae.isDocumentKey(r)||(r=r.child(""));const o=new cn(new Ae(r),0);let c=new en(Fe);return this.Mr.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.Cr)),!0)},o),re.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(i=>{const s=this.Or(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){rt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return re.forEach(t.mutations,s=>{const r=new cn(s.key,t.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new cn(t,0),s=this.Mr.firstAfterOrEqual(i);return re.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e){this.kr=e,this.docs=function(){return new xt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),r=s?s.size:0,o=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():Cn.newInvalidDocument(t))}getEntries(e,t){let i=vr();return t.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Cn.newInvalidDocument(s))}),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let r=vr();const o=t.path,c=new Ae(o.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:g}}=h.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||n4(t4(g),i)<=0||(s.has(g.key)||Pp(t,g))&&(r=r.insert(g.key,g.mutableCopy()))}return re.resolve(r)}getAllFromCollectionGroup(e,t,i,s){ke()}qr(e,t){return re.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new CB(this)}getSize(e){return re.resolve(this.size)}}class CB extends _B{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(i)}),re.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.persistence=e,this.Qr=new Go(t=>R_(t),C_),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.$r=0,this.Kr=new P_,this.targetCount=0,this.Ur=hc.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,s)=>t(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),re.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new hc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.zn(t),re.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let s=0;const r=[];return this.Qr.forEach((o,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.Qr.delete(o),r.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),re.waitFor(r).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const s=this.persistence.referenceDelegate,r=[];return s&&t.forEach(o=>{r.push(s.markPotentiallyOrphaned(e,o))}),re.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new kp(0),this.zr=!1,this.zr=!0,this.jr=new TB,this.referenceDelegate=e(this),this.Hr=new DB(this),this.indexManager=new fB,this.remoteDocumentCache=function(s){return new RB(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new hB(t),this.Yr=new SB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new xB(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const s=new IB(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(r=>this.referenceDelegate.Xr(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}ei(e,t){return re.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class IB extends s4{constructor(e){super(),this.currentSequenceNumber=e}}class j_{constructor(e){this.persistence=e,this.ti=new P_,this.ni=null}static ri(e){return new j_(e)}get ii(){if(this.ni)return this.ni;throw ke()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),re.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(r=>this.ii.add(r.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,i=>{const s=Ae.fromPath(i);return this.si(e,s).next(r=>{r||t.removeEntry(s,Ne.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return re.or([()=>re.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Qg{constructor(e,t){this.persistence=e,this.oi=new Go(i=>o4(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=bB(this,t)}static ri(e,t){return new Qg(e,t)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return re.forEach(this.oi,(i,s)=>this.ar(e,i,s).next(r=>r?re.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,t).next(c=>{c||(i++,r.removeEntry(o,Ne.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fg(e.data.value)),t}ar(e,t,i){return re.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return re.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=s}static Yi(e,t){let i=Be(),s=Be();for(const r of t.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new L_(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return zP()?8:r4(Mn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,s){const r={result:null};return this.rs(e,t).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.ss(e,t,s,i).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new kB;return this._s(e,t,o).next(c=>{if(r.result=c,this.Xi)return this.us(e,t,o,c.size)})}).next(()=>r.result)}us(e,t,i,s){return i.documentReadCount<this.es?(Gl()<=ze.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Wl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(Gl()<=ze.DEBUG&&pe("QueryEngine","Query:",Wl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(Gl()<=ze.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Wl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Es(t))):re.resolve())}rs(e,t){if(mT(t))return re.resolve(null);let i=Es(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=bb(t,null,"F"),i=Es(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const o=Be(...r);return this.ns.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const d=this.cs(t,c);return this.ls(t,d,o,h.readTime)?this.rs(e,bb(t,null,"F")):this.hs(e,d,t,h)}))})))}ss(e,t,i,s){return mT(t)||s.isEqual(Ne.min())?re.resolve(null):this.ns.getDocuments(e,i).next(r=>{const o=this.cs(t,r);return this.ls(t,o,i,s)?re.resolve(null):(Gl()<=ze.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wl(t)),this.hs(e,o,t,e4(s,Ah)).next(c=>c))})}cs(e,t){let i=new en(xI(e));return t.forEach((s,r)=>{Pp(e,r)&&(i=i.add(r))}),i}ls(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const r=e.limitType==="F"?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}_s(e,t,i){return Gl()<=ze.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Wl(t)),this.ns.getDocumentsMatchingQuery(e,t,Sa.min(),i)}hs(e,t,i,s){return this.ns.getDocumentsMatchingQuery(e,i,s).next(r=>(t.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="LocalStore",MB=3e8;class OB{constructor(e,t,i,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new xt(Fe),this.Is=new Go(r=>R_(r),C_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wB(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function PB(n,e,t,i){return new OB(n,e,t,i)}async function QI(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],c=[];let h=Be();for(const d of s){o.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of r){c.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(i,h).next(d=>({Rs:d,removedBatchIds:o,addedBatchIds:c}))})})}function jB(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,d,g){const y=d.batch,b=y.keys();let _=re.resolve();return b.forEach(S=>{_=_.next(()=>g.getEntry(h,S)).next(T=>{const A=d.docVersions.get(S);rt(A!==null),T.version.compareTo(A)<0&&(y.applyToRemoteDocument(T,d),T.isValidDocument()&&(T.setReadTime(d.commitVersion),g.addEntry(T)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(t,i,e,r).next(()=>r.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Be();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function KI(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function LB(n,e){const t=Oe(n),i=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const c=[];e.targetChanges.forEach((g,y)=>{const b=s.get(y);if(!b)return;c.push(t.Hr.removeMatchingKeys(r,g.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(r,g.addedDocuments,y)));let _=b.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(y)!==null?_=_.withResumeToken(_n.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,i)),s=s.insert(y,_),function(T,A,I){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=MB?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(b,_,g)&&c.push(t.Hr.updateTargetData(r,_))});let h=vr(),d=Be();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(r,g))}),c.push(VB(r,o,e.documentUpdates).next(g=>{h=g.Vs,d=g.fs})),!i.isEqual(Ne.min())){const g=t.Hr.getLastRemoteSnapshotVersion(r).next(y=>t.Hr.setTargetsMetadata(r,r.currentSequenceNumber,i));c.push(g)}return re.waitFor(c).next(()=>o.apply(r)).next(()=>t.localDocuments.getLocalViewOfDocuments(r,h,d)).next(()=>h)}).then(r=>(t.Ts=s,r))}function VB(n,e,t){let i=Be(),s=Be();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let o=vr();return t.forEach((c,h)=>{const d=r.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Ne.min())?(e.removeEntry(c,h.readTime),o=o.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),o=o.insert(c,h)):pe(V_,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{Vs:o,fs:s}})}function UB(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=A_),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function zB(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Hr.getTargetData(i,e).next(r=>r?(s=r,re.resolve(s)):t.Hr.allocateTargetId(i).next(o=>(s=new ca(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Ab(n,e,t){const i=Oe(n),s=i.Ts.get(e),r=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Tc(o))throw o;pe(V_,`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ts=i.Ts.remove(e),i.Is.delete(s.target)}function DT(n,e,t){const i=Oe(n);let s=Ne.min(),r=Be();return i.persistence.runTransaction("Execute query","readwrite",o=>function(h,d,g){const y=Oe(h),b=y.Is.get(g);return b!==void 0?re.resolve(y.Ts.get(b)):y.Hr.getTargetData(d,g)}(i,o,Es(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(o,c.targetId).next(h=>{r=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(o,e,t?s:Ne.min(),t?r:Be())).next(c=>(BB(i,x4(e),c),{documents:c,gs:r})))}function BB(n,e,t){let i=n.Es.get(e)||Ne.min();t.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),n.Es.set(e,i)}class IT{constructor(){this.activeTargetIds=N4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HB{constructor(){this.ho=new IT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new IT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="ConnectivityMonitor";class NT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(kT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(kT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf=null;function Tb(){return jf===null?jf=function(){return 268435456+Math.round(2147483648*Math.random())}():jf++,"0x"+jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="RestConnection",qB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GB{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===Hg?`project_id=${i}`:`project_id=${i}&database_id=${s}`}So(e,t,i,s,r){const o=Tb(),c=this.bo(e,t.toUriEncodedString());pe(Sv,`Sending RPC '${e}' ${o}:`,c,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,r),this.vo(e,c,h,i).then(d=>(pe(Sv,`Received RPC '${e}' ${o}: `,d),d),d=>{throw oc(Sv,`RPC '${e}' ${o} failed with error: `,d,"url: ",c,"request:",i),d})}Co(e,t,i,s,r,o){return this.So(e,t,i,s,r)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}bo(e,t){const i=qB[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class $B extends GB{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,s){const r=Tb();return new Promise((o,c)=>{const h=new tI;h.setWithCredentials(!0),h.listenOnce(nI.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case dg.NO_ERROR:const g=h.getResponseJson();pe(Tn,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(g)),o(g);break;case dg.TIMEOUT:pe(Tn,`RPC '${e}' ${r} timed out`),c(new me(ae.DEADLINE_EXCEEDED,"Request time out"));break;case dg.HTTP_ERROR:const y=h.getStatus();if(pe(Tn,`RPC '${e}' ${r} failed with status:`,y,"response text:",h.getResponseText()),y>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const _=b==null?void 0:b.error;if(_&&_.status&&_.message){const S=function(A){const I=A.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(I)>=0?I:ae.UNKNOWN}(_.status);c(new me(S,_.message))}else c(new me(ae.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new me(ae.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{pe(Tn,`RPC '${e}' ${r} completed.`)}});const d=JSON.stringify(s);pe(Tn,`RPC '${e}' ${r} sending request:`,s),h.send(t,"POST",d,i,15)})}Wo(e,t,i){const s=Tb(),r=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rI(),c=sI(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const g=r.join("");pe(Tn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const y=o.createWebChannel(g,h);let b=!1,_=!1;const S=new WB({Fo:A=>{_?pe(Tn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(b||(pe(Tn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),b=!0),pe(Tn,`RPC '${e}' stream ${s} sending:`,A),y.send(A))},Mo:()=>y.close()}),T=(A,I,M)=>{A.listen(I,j=>{try{M(j)}catch(H){setTimeout(()=>{throw H},0)}})};return T(y,Yu.EventType.OPEN,()=>{_||(pe(Tn,`RPC '${e}' stream ${s} transport opened.`),S.Qo())}),T(y,Yu.EventType.CLOSE,()=>{_||(_=!0,pe(Tn,`RPC '${e}' stream ${s} transport closed`),S.Ko())}),T(y,Yu.EventType.ERROR,A=>{_||(_=!0,oc(Tn,`RPC '${e}' stream ${s} transport errored:`,A),S.Ko(new me(ae.UNAVAILABLE,"The operation could not be completed")))}),T(y,Yu.EventType.MESSAGE,A=>{var I;if(!_){const M=A.data[0];rt(!!M);const j=M,H=(j==null?void 0:j.error)||((I=j[0])===null||I===void 0?void 0:I.error);if(H){pe(Tn,`RPC '${e}' stream ${s} received error:`,H);const q=H.status;let Q=function(D){const O=Ft[D];if(O!==void 0)return LI(O)}(q),P=H.message;Q===void 0&&(Q=ae.INTERNAL,P="Unknown error status: "+q+" with message "+H.message),_=!0,S.Ko(new me(Q,P)),y.close()}else pe(Tn,`RPC '${e}' stream ${s} received:`,M),S.Uo(M)}}),T(c,iI.STAT_EVENT,A=>{A.stat===fb.PROXY?pe(Tn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===fb.NOPROXY&&pe(Tn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}}function Av(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n){return new X4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,t,i=1e3,s=1.5,r=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=s,this.jo=r,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-i);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="PersistentStream";class ZI{constructor(e,t,i,s,r,o,c,h){this.Ti=e,this.n_=i,this.r_=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new XI(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(yr(t.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===t&&this.V_(i,s)},i=>{e(()=>{const s=new me(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(MT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(MT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YB extends ZI{constructor(e,t,i,s,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,o),this.serializer=r}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=eB(this.serializer,e),i=function(r){if(!("targetChange"in r))return Ne.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?ws(o.readTime):Ne.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Sb(this.serializer),t.addTarget=function(r,o){let c;const h=o.target;if(c=yb(h)?{documents:iB(r,h)}:{query:sB(r,h).ht},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=zI(r,o.resumeToken);const d=_b(r,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ne.min())>0){c.readTime=Yg(r,o.snapshotVersion.toTimestamp());const d=_b(r,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const i=aB(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Sb(this.serializer),t.removeTarget=e,this.I_(t)}}class QB extends ZI{constructor(e,t,i,s,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,o),this.serializer=r}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return rt(!!e.streamToken),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=nB(e.writeResults,e.commitTime),i=ws(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Sb(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>tB(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{}class XB extends KB{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new me(ae.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.So(e,Eb(t,i),s,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new me(ae.UNKNOWN,r.toString())})}Co(e,t,i,s,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Co(e,Eb(t,i),s,o,c,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(ae.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ZB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(yr(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="RemoteStore";class JB{constructor(e,t,i,s,r){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=r,this.z_.To(o=>{i.enqueueAndForget(async()=>{Wo(this)&&(pe(jo,"Restarting streams for network reachability change."),await async function(h){const d=Oe(h);d.W_.add(4),await Jh(d),d.j_.set("Unknown"),d.W_.delete(4),await zp(d)}(this))})}),this.j_=new ZB(i,s)}}async function zp(n){if(Wo(n))for(const e of n.G_)await e(!0)}async function Jh(n){for(const e of n.G_)await e(!1)}function JI(n,e){const t=Oe(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),H_(t)?B_(t):xc(t).c_()&&z_(t,e))}function U_(n,e){const t=Oe(n),i=xc(t);t.U_.delete(e),i.c_()&&e1(t,e),t.U_.size===0&&(i.c_()?i.P_():Wo(t)&&t.j_.set("Unknown"))}function z_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xc(n).y_(e)}function e1(n,e){n.H_.Ne(e),xc(n).w_(e)}function B_(n){n.H_=new $4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),xc(n).start(),n.j_.B_()}function H_(n){return Wo(n)&&!xc(n).u_()&&n.U_.size>0}function Wo(n){return Oe(n).W_.size===0}function t1(n){n.H_=void 0}async function eH(n){n.j_.set("Online")}async function tH(n){n.U_.forEach((e,t)=>{z_(n,e)})}async function nH(n,e){t1(n),H_(n)?(n.j_.q_(e),B_(n)):n.j_.set("Unknown")}async function iH(n,e,t){if(n.j_.set("Online"),e instanceof UI&&e.state===2&&e.cause)try{await async function(s,r){const o=r.cause;for(const c of r.targetIds)s.U_.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.U_.delete(c),s.H_.removeTarget(c))}(n,e)}catch(i){pe(jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Kg(n,i)}else if(e instanceof mg?n.H_.We(e):e instanceof VI?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ne.min()))try{const i=await KI(n.localStore);t.compareTo(i)>=0&&await function(r,o){const c=r.H_.ot(o);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const g=r.U_.get(d);g&&r.U_.set(d,g.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach((h,d)=>{const g=r.U_.get(h);if(!g)return;r.U_.set(h,g.withResumeToken(_n.EMPTY_BYTE_STRING,g.snapshotVersion)),e1(r,h);const y=new ca(g.target,h,d,g.sequenceNumber);z_(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(i){pe(jo,"Failed to raise snapshot:",i),await Kg(n,i)}}async function Kg(n,e,t){if(!Tc(e))throw e;n.W_.add(1),await Jh(n),n.j_.set("Offline"),t||(t=()=>KI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(jo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await zp(n)})}function n1(n,e){return e().catch(t=>Kg(n,t,e))}async function Bp(n){const e=Oe(n),t=Ra(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:A_;for(;sH(e);)try{const s=await UB(e.localStore,i);if(s===null){e.K_.length===0&&t.P_();break}i=s.batchId,rH(e,s)}catch(s){await Kg(e,s)}i1(e)&&s1(e)}function sH(n){return Wo(n)&&n.K_.length<10}function rH(n,e){n.K_.push(e);const t=Ra(n);t.c_()&&t.S_&&t.b_(e.mutations)}function i1(n){return Wo(n)&&!Ra(n).u_()&&n.K_.length>0}function s1(n){Ra(n).start()}async function aH(n){Ra(n).C_()}async function oH(n){const e=Ra(n);for(const t of n.K_)e.b_(t.mutations)}async function lH(n,e,t){const i=n.K_.shift(),s=N_.from(i,e,t);await n1(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Bp(n)}async function cH(n,e){e&&Ra(n).S_&&await async function(i,s){if(function(o){return q4(o)&&o!==ae.ABORTED}(s.code)){const r=i.K_.shift();Ra(i).h_(),await n1(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Bp(i)}}(n,e),i1(n)&&s1(n)}async function OT(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),pe(jo,"RemoteStore received new credentials");const i=Wo(t);t.W_.add(3),await Jh(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await zp(t)}async function uH(n,e){const t=Oe(n);e?(t.W_.delete(2),await zp(t)):e||(t.W_.add(2),await Jh(t),t.j_.set("Unknown"))}function xc(n){return n.J_||(n.J_=function(t,i,s){const r=Oe(t);return r.M_(),new YB(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{xo:eH.bind(null,n),No:tH.bind(null,n),Lo:nH.bind(null,n),p_:iH.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),H_(n)?B_(n):n.j_.set("Unknown")):(await n.J_.stop(),t1(n))})),n.J_}function Ra(n){return n.Y_||(n.Y_=function(t,i,s){const r=Oe(t);return r.M_(),new QB(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:aH.bind(null,n),Lo:cH.bind(null,n),D_:oH.bind(null,n),v_:lH.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Bp(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(jo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,t,i,s,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,r){const o=Date.now()+i,c=new F_(e,t,o,s,r);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q_(n,e){if(yr("AsyncQueue",`${e}: ${n}`),Tc(n))return new me(ae.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{static emptySet(e){return new tc(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=Qu(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new tc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.Z_=new xt(Ae.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ke():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class dc{constructor(e,t,i,s,r,o,c,h,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,s,r){const o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new dc(e,t,tc.emptySet(t),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class dH{constructor(){this.queries=jT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const s=Oe(t),r=s.queries;s.queries=jT(),r.forEach((o,c)=>{for(const h of c.ta)h.onError(i)})})(this,new me(ae.ABORTED,"Firestore shutting down"))}}function jT(){return new Go(n=>TI(n),Op)}async function r1(n,e){const t=Oe(n);let i=3;const s=e.query;let r=t.queries.get(s);r?!r.na()&&e.ra()&&(i=2):(r=new hH,i=e.ra()?0:1);try{switch(i){case 0:r.ea=await t.onListen(s,!0);break;case 1:r.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(o){const c=q_(o,`Initialization of query '${Wl(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,r),r.ta.push(e),e.sa(t.onlineState),r.ea&&e.oa(r.ea)&&G_(t)}async function a1(n,e){const t=Oe(n),i=e.query;let s=3;const r=t.queries.get(i);if(r){const o=r.ta.indexOf(e);o>=0&&(r.ta.splice(o,1),r.ta.length===0?s=e.ra()?0:1:!r.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function fH(n,e){const t=Oe(n);let i=!1;for(const s of e){const r=s.query,o=t.queries.get(r);if(o){for(const c of o.ta)c.oa(s)&&(i=!0);o.ea=s}}i&&G_(t)}function gH(n,e,t){const i=Oe(n),s=i.queries.get(e);if(s)for(const r of s.ta)r.onError(t);i.queries.delete(e)}function G_(n){n.ia.forEach(e=>{e.next()})}var xb,LT;(LT=xb||(xb={}))._a="default",LT.Cache="cache";class o1{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new dc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==xb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.key=e}}class c1{constructor(e){this.key=e}}class pH{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Be(),this.mutatedKeys=Be(),this.ya=xI(e),this.wa=new tc(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new PT,s=t?t.wa:this.wa;let r=t?t.mutatedKeys:this.mutatedKeys,o=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,y)=>{const b=s.get(g),_=Pp(this.query,y)?y:null,S=!!b&&this.mutatedKeys.has(b.key),T=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;b&&_?b.data.isEqual(_.data)?S!==T&&(i.track({type:3,doc:_}),A=!0):this.va(b,_)||(i.track({type:2,doc:_}),A=!0,(h&&this.ya(_,h)>0||d&&this.ya(_,d)<0)&&(c=!0)):!b&&_?(i.track({type:0,doc:_}),A=!0):b&&!_&&(i.track({type:1,doc:b}),A=!0,(h||d)&&(c=!0)),A&&(_?(o=o.add(_),r=T?r.add(g):r.delete(g)):(o=o.delete(g),r=r.delete(g)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const g=this.query.limitType==="F"?o.last():o.first();o=o.delete(g.key),r=r.delete(g.key),i.track({type:1,doc:g})}return{wa:o,Da:i,ls:c,mutatedKeys:r}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const r=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((g,y)=>function(_,S){const T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return T(_)-T(S)}(g.type,y.type)||this.ya(g.doc,y.doc)),this.Ca(i),s=s!=null&&s;const c=t&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,d=h!==this.ga;return this.ga=h,o.length!==0||d?{snapshot:new dc(this.query,e.wa,r,o,e.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new PT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Be(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new c1(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new l1(i))}),t}Oa(e){this.fa=e.gs,this.pa=Be();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return dc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const W_="SyncEngine";class mH{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class yH{constructor(e){this.key=e,this.Ba=!1}}class vH{constructor(e,t,i,s,r,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Go(c=>TI(c),Op),this.qa=new Map,this.Qa=new Set,this.$a=new xt(Ae.comparator),this.Ka=new Map,this.Ua=new P_,this.Wa={},this.Ga=new Map,this.za=hc.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bH(n,e,t=!0){const i=p1(n);let s;const r=i.ka.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.Na()):s=await u1(i,e,t,!0),s}async function _H(n,e){const t=p1(n);await u1(t,e,!0,!1)}async function u1(n,e,t,i){const s=await zB(n.localStore,Es(e)),r=s.targetId,o=n.sharedClientState.addLocalQueryTarget(r,t);let c;return i&&(c=await EH(n,e,r,o==="current",s.resumeToken)),n.isPrimaryClient&&t&&JI(n.remoteStore,s),c}async function EH(n,e,t,i,s){n.Ha=(y,b,_)=>async function(T,A,I,M){let j=A.view.ba(I);j.ls&&(j=await DT(T.localStore,A.query,!1).then(({documents:P})=>A.view.ba(P,j)));const H=M&&M.targetChanges.get(A.targetId),q=M&&M.targetMismatches.get(A.targetId)!=null,Q=A.view.applyChanges(j,T.isPrimaryClient,H,q);return UT(T,A.targetId,Q.Ma),Q.snapshot}(n,y,b,_);const r=await DT(n.localStore,e,!0),o=new pH(e,r.gs),c=o.ba(r.documents),h=Zh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),d=o.applyChanges(c,n.isPrimaryClient,h);UT(n,t,d.Ma);const g=new mH(e,t,o);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),d.snapshot}async function wH(n,e,t){const i=Oe(n),s=i.ka.get(e),r=i.qa.get(s.targetId);if(r.length>1)return i.qa.set(s.targetId,r.filter(o=>!Op(o,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Ab(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&U_(i.remoteStore,s.targetId),Rb(i,s.targetId)}).catch(Ac)):(Rb(i,s.targetId),await Ab(i.localStore,s.targetId,!0))}async function SH(n,e){const t=Oe(n),i=t.ka.get(e),s=t.qa.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),U_(t.remoteStore,i.targetId))}async function AH(n,e,t){const i=kH(n);try{const s=await function(o,c){const h=Oe(o),d=Jt.now(),g=c.reduce((_,S)=>_.add(S.key),Be());let y,b;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=vr(),T=Be();return h.ds.getEntries(_,g).next(A=>{S=A,S.forEach((I,M)=>{M.isValidDocument()||(T=T.add(I))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,S)).next(A=>{y=A;const I=[];for(const M of c){const j=U4(M,y.get(M.key).overlayedDocument);j!=null&&I.push(new Oa(M.key,j,yI(j.value.mapValue),Ri.exists(!0)))}return h.mutationQueue.addMutationBatch(_,d,I,c)}).next(A=>{b=A;const I=A.applyToLocalDocumentSet(y,T);return h.documentOverlayCache.saveOverlays(_,A.batchId,I)})}).then(()=>({batchId:b.batchId,changes:CI(y)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(o,c,h){let d=o.Wa[o.currentUser.toKey()];d||(d=new xt(Fe)),d=d.insert(c,h),o.Wa[o.currentUser.toKey()]=d}(i,s.batchId,t),await ed(i,s.changes),await Bp(i.remoteStore)}catch(s){const r=q_(s,"Failed to persist write");t.reject(r)}}async function h1(n,e){const t=Oe(n);try{const i=await LB(t.localStore,e);e.targetChanges.forEach((s,r)=>{const o=t.Ka.get(r);o&&(rt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?rt(o.Ba):s.removedDocuments.size>0&&(rt(o.Ba),o.Ba=!1))}),await ed(t,i,e)}catch(i){await Ac(i)}}function VT(n,e,t){const i=Oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.ka.forEach((r,o)=>{const c=o.view.sa(e);c.snapshot&&s.push(c.snapshot)}),function(o,c){const h=Oe(o);h.onlineState=c;let d=!1;h.queries.forEach((g,y)=>{for(const b of y.ta)b.sa(c)&&(d=!0)}),d&&G_(h)}(i.eventManager,e),s.length&&i.La.p_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function TH(n,e,t){const i=Oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Ka.get(e),r=s&&s.key;if(r){let o=new xt(Ae.comparator);o=o.insert(r,Cn.newNoDocument(r,Ne.min()));const c=Be().add(r),h=new Vp(Ne.min(),new Map,new xt(Fe),o,c);await h1(i,h),i.$a=i.$a.remove(r),i.Ka.delete(e),$_(i)}else await Ab(i.localStore,e,!1).then(()=>Rb(i,e,t)).catch(Ac)}async function xH(n,e){const t=Oe(n),i=e.batch.batchId;try{const s=await jB(t.localStore,e);f1(t,i,null),d1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ed(t,s)}catch(s){await Ac(s)}}async function RH(n,e,t){const i=Oe(n);try{const s=await function(o,c){const h=Oe(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return h.mutationQueue.lookupMutationBatch(d,c).next(y=>(rt(y!==null),g=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>h.localDocuments.getDocuments(d,g))})}(i.localStore,e);f1(i,e,t),d1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ed(i,s)}catch(s){await Ac(s)}}function d1(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function f1(n,e,t){const i=Oe(n);let s=i.Wa[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(t?r.reject(t):r.resolve(),s=s.remove(e)),i.Wa[i.currentUser.toKey()]=s}}function Rb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||g1(n,i)})}function g1(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(U_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),$_(n))}function UT(n,e,t){for(const i of t)i instanceof l1?(n.Ua.addReference(i.key,e),CH(n,i)):i instanceof c1?(pe(W_,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||g1(n,i.key)):ke()}function CH(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(pe(W_,"New document in limbo: "+t),n.Qa.add(i),$_(n))}function $_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ae(mt.fromString(e)),i=n.za.next();n.Ka.set(i,new yH(t)),n.$a=n.$a.insert(t,i),JI(n.remoteStore,new ca(Es(D_(t.path)),i,"TargetPurposeLimboResolution",kp.ae))}}async function ed(n,e,t){const i=Oe(n),s=[],r=[],o=[];i.ka.isEmpty()||(i.ka.forEach((c,h)=>{o.push(i.Ha(h,e,t).then(d=>{var g;if((d||t)&&i.isPrimaryClient){const y=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){s.push(d);const y=L_.Yi(h.targetId,d);r.push(y)}}))}),await Promise.all(o),i.La.p_(s),await async function(h,d){const g=Oe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>re.forEach(d,b=>re.forEach(b.Hi,_=>g.persistence.referenceDelegate.addReference(y,b.targetId,_)).next(()=>re.forEach(b.Ji,_=>g.persistence.referenceDelegate.removeReference(y,b.targetId,_)))))}catch(y){if(!Tc(y))throw y;pe(V_,"Failed to update sequence numbers: "+y)}for(const y of d){const b=y.targetId;if(!y.fromCache){const _=g.Ts.get(b),S=_.snapshotVersion,T=_.withLastLimboFreeSnapshotVersion(S);g.Ts=g.Ts.insert(b,T)}}}(i.localStore,r))}async function DH(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){pe(W_,"User change. New user:",e.toKey());const i=await QI(t.localStore,e);t.currentUser=e,function(r,o){r.Ga.forEach(c=>{c.forEach(h=>{h.reject(new me(ae.CANCELLED,o))})}),r.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ed(t,i.Rs)}}function IH(n,e){const t=Oe(n),i=t.Ka.get(e);if(i&&i.Ba)return Be().add(i.key);{let s=Be();const r=t.qa.get(e);if(!r)return s;for(const o of r){const c=t.ka.get(o);s=s.unionWith(c.view.Sa)}return s}}function p1(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=h1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TH.bind(null,e),e.La.p_=fH.bind(null,e.eventManager),e.La.Ja=gH.bind(null,e.eventManager),e}function kH(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RH.bind(null,e),e}class Xg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Up(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return PB(this.persistence,new NB,e.initialUser,this.serializer)}Xa(e){return new YI(j_.ri,this.serializer)}Za(e){return new HB}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xg.provider={build:()=>new Xg};class NH extends Xg{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){rt(this.persistence.referenceDelegate instanceof Qg);const i=this.persistence.referenceDelegate.garbageCollector;return new yB(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new YI(i=>Qg.ri(i,t),this.serializer)}}class Cb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=DH.bind(null,this.syncEngine),await uH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dH}()}createDatastore(e){const t=Up(e.databaseInfo.databaseId),i=function(r){return new $B(r)}(e.databaseInfo);return function(r,o,c,h){return new XB(r,o,c,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,r,o,c){return new JB(i,s,r,o,c)}(this.localStore,this.datastore,e.asyncQueue,t=>VT(this.syncEngine,t,0),function(){return NT.D()?new NT:new FB}())}createSyncEngine(e,t){return function(s,r,o,c,h,d,g){const y=new vH(s,r,o,c,h,d);return g&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const r=Oe(s);pe(jo,"RemoteStore shutting down."),r.W_.add(5),await Jh(r),r.z_.shutdown(),r.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Cb.provider={build:()=>new Cb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="FirestoreClient";class MH{constructor(e,t,i,s,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Rn.UNAUTHENTICATED,this.clientId=oI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async o=>{pe(Ca,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(pe(Ca,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=q_(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Tv(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Ca,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await QI(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function zT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await OH(n);pe(Ca,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>OT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>OT(e.remoteStore,s)),n._onlineComponents=e}async function OH(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Ca,"Using user provided OfflineComponentProvider");try{await Tv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;oc("Error using user provided cache. Falling back to memory cache: "+t),await Tv(n,new Xg)}}else pe(Ca,"Using default OfflineComponentProvider"),await Tv(n,new NH(void 0));return n._offlineComponents}async function y1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Ca,"Using user provided OnlineComponentProvider"),await zT(n,n._uninitializedComponentsProvider._online)):(pe(Ca,"Using default OnlineComponentProvider"),await zT(n,new Cb))),n._onlineComponents}function PH(n){return y1(n).then(e=>e.syncEngine)}async function v1(n){const e=await y1(n),t=e.eventManager;return t.onListen=bH.bind(null,e.syncEngine),t.onUnlisten=wH.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_H.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=SH.bind(null,e.syncEngine),t}function jH(n,e,t={}){const i=new hr;return n.asyncQueue.enqueueAndForget(async()=>function(r,o,c,h,d){const g=new m1({next:b=>{g.su(),o.enqueueAndForget(()=>a1(r,y));const _=b.docs.has(c);!_&&b.fromCache?d.reject(new me(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&h&&h.source==="server"?d.reject(new me(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),y=new o1(D_(c.path),g,{includeMetadataChanges:!0,Ta:!0});return r1(r,y)}(await v1(n),n.asyncQueue,e,t,i)),i.promise}function LH(n,e,t={}){const i=new hr;return n.asyncQueue.enqueueAndForget(async()=>function(r,o,c,h,d){const g=new m1({next:b=>{g.su(),o.enqueueAndForget(()=>a1(r,y)),b.fromCache&&h.source==="server"?d.reject(new me(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),y=new o1(c,g,{includeMetadataChanges:!0,Ta:!0});return r1(r,y)}(await v1(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(n,e,t){if(!t)throw new me(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VH(n,e,t,i){if(e===!0&&i===!0)throw new me(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HT(n){if(!Ae.isDocumentKey(n))throw new me(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FT(n){if(Ae.isDocumentKey(n))throw new me(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke()}function Fi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hp(n);throw new me(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firestore.googleapis.com",qT=!0;class GT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E1,this.ssl=qT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:qT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$I;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pB)throw new me(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fp{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Wz;switch(i.type){case"firstParty":return new Kz(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=BT.get(t);i&&(pe("ComponentProvider","Removing Datastore"),BT.delete(t),i.terminate())}(this),Promise.resolve()}}function UH(n,e,t,i={}){var s;const r=(n=Fi(n,Fp))._getSettings(),o=`${e}:${t}`;if(r.host!==E1&&r.host!==o&&oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=Rn.MOCK_USER;else{c=OP(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new me(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Rn(d)}n._authCredentials=new $z(new aI(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Rc(this.firestore,e,this._query)}}class Un{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class ba extends Rc{constructor(e,t,i){super(e,t,D_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new Ae(e))}withConverter(e){return new ba(this.firestore,e,this._path)}}function Gn(n,e,...t){if(n=Tt(n),_1("collection","path",e),n instanceof Fp){const i=mt.fromString(e,...t);return FT(i),new ba(n,null,i)}{if(!(n instanceof Un||n instanceof ba))throw new me(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(e,...t));return FT(i),new ba(n.firestore,null,i)}}function vs(n,e,...t){if(n=Tt(n),arguments.length===1&&(e=oI.newId()),_1("doc","path",e),n instanceof Fp){const i=mt.fromString(e,...t);return HT(i),new Un(n,null,new Ae(i))}{if(!(n instanceof Un||n instanceof ba))throw new me(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(e,...t));return HT(i),new Un(n.firestore,n instanceof ba?n.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="AsyncQueue";class $T{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new XI(this,"async_queue_retry"),this.Su=()=>{const i=Av();i&&pe(WT,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Av();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Av();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new hr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Tc(e))throw e;pe(WT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const s=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(i);throw yr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=F_.createAndSchedule(this,e,t,i,r=>this.Fu(r));return this.fu.push(s),s}Du(){this.gu&&ke()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class $o extends Fp{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new $T,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $T(e),this._firestoreClient=void 0,await e}}}function zH(n,e){const t=typeof n=="object"?n:l_(),i=typeof n=="string"?n:Hg,s=Fo(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=NP("firestore");r&&UH(s,...r)}return s}function Y_(n){if(n._terminated)throw new me(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||BH(n),n._firestoreClient}function BH(n){var e,t,i;const s=n._freezeSettings(),r=function(c,h,d,g){return new u4(c,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,b1(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new MH(n._authCredentials,n._appCheckCredentials,n._queue,r,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fc(_n.fromBase64String(e))}catch(t){throw new me(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fc(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=/^__.*__$/;class FH{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xh(e,this.data,t,this.fieldTransforms)}}class w1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function S1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class Z_{constructor(e,t,i,s,r,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Bu(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Z_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.$u(e),s}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Zg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(S1(this.Lu)&&HH.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class qH{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Up(e)}ju(e,t,i,s=!1){return new Z_({Lu:e,methodName:t,zu:i,path:bn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gp(n){const e=n._freezeSettings(),t=Up(n._databaseId);return new qH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function A1(n,e,t,i,s,r={}){const o=n.ju(r.merge||r.mergeFields?2:0,e,t,s);J_("Data must be an object, but it was:",o,i);const c=T1(i,o);let h,d;if(r.merge)h=new ii(o.fieldMask),d=o.fieldTransforms;else if(r.mergeFields){const g=[];for(const y of r.mergeFields){const b=Db(e,y,t);if(!o.contains(b))throw new me(ae.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);R1(g,b)||g.push(b)}h=new ii(g),d=o.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=o.fieldTransforms;return new FH(new Wn(c),h,d)}class Wp extends Q_{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wp}}function GH(n,e,t,i){const s=n.ju(1,e,t);J_("Data must be an object, but it was:",s,i);const r=[],o=Wn.empty();Ma(i,(h,d)=>{const g=e0(e,h,t);d=Tt(d);const y=s.Ku(g);if(d instanceof Wp)r.push(g);else{const b=td(d,y);b!=null&&(r.push(g),o.set(g,b))}});const c=new ii(r);return new w1(o,c,s.fieldTransforms)}function WH(n,e,t,i,s,r){const o=n.ju(1,e,t),c=[Db(e,i,t)],h=[s];if(r.length%2!=0)throw new me(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<r.length;b+=2)c.push(Db(e,r[b])),h.push(r[b+1]);const d=[],g=Wn.empty();for(let b=c.length-1;b>=0;--b)if(!R1(d,c[b])){const _=c[b];let S=h[b];S=Tt(S);const T=o.Ku(_);if(S instanceof Wp)d.push(_);else{const A=td(S,T);A!=null&&(d.push(_),g.set(_,A))}}const y=new ii(d);return new w1(g,y,o.fieldTransforms)}function $H(n,e,t,i=!1){return td(t,n.ju(i?4:3,e))}function td(n,e){if(x1(n=Tt(n)))return J_("Unsupported field value:",e,n),T1(n,e);if(n instanceof Q_)return function(i,s){if(!S1(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,s){const r=[];let o=0;for(const c of i){let h=td(c,s.Uu(o));h==null&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,e)}return function(i,s){if((i=Tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return M4(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Jt.fromDate(i);return{timestampValue:Yg(s.serializer,r)}}if(i instanceof Jt){const r=new Jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yg(s.serializer,r)}}if(i instanceof K_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fc)return{bytesValue:zI(s.serializer,i._byteString)};if(i instanceof Un){const r=s.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:O_(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof X_)return function(o,c){return{mapValue:{fields:{[pI]:{stringValue:mI},[Fg]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.Wu("VectorValues must only contain numeric values.");return I_(c.serializer,d)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${Hp(i)}`)}(n,e)}function T1(n,e){const t={};return cI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(n,(i,s)=>{const r=td(s,e.qu(i));r!=null&&(t[i]=r)}),{mapValue:{fields:t}}}function x1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jt||n instanceof K_||n instanceof fc||n instanceof Un||n instanceof Q_||n instanceof X_)}function J_(n,e,t){if(!x1(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=Hp(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function Db(n,e,t){if((e=Tt(e))instanceof qp)return e._internalPath;if(typeof e=="string")return e0(n,e);throw Zg("Field path arguments must be of type string or ",n,!1,void 0,t)}const YH=new RegExp("[~\\*/\\[\\]]");function e0(n,e,t){if(e.search(YH)>=0)throw Zg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qp(...e.split("."))._internalPath}catch{throw Zg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zg(n,e,t,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(r||o)&&(h+=" (found",r&&(h+=` in field ${i}`),o&&(h+=` in document ${s}`),h+=")"),new me(ae.INVALID_ARGUMENT,c+n+h)}function R1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t,i,s,r){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(t0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class QH extends C1{data(){return super.data()}}function t0(n,e){return typeof e=="string"?e0(n,e):e instanceof qp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KH(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n0{}class XH extends n0{}function dr(n,e,...t){let i=[];e instanceof n0&&i.push(e),i=i.concat(t),function(r){const o=r.filter(h=>h instanceof i0).length,c=r.filter(h=>h instanceof $p).length;if(o>1||o>0&&c>0)throw new me(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class $p extends XH{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new $p(e,t,i)}_apply(e){const t=this._parse(e);return D1(e._query,t),new Rc(e.firestore,e.converter,vb(e._query,t))}_parse(e){const t=Gp(e.firestore);return function(r,o,c,h,d,g,y){let b;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new me(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){QT(y,g);const S=[];for(const T of y)S.push(YT(h,r,T));b={arrayValue:{values:S}}}else b=YT(h,r,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||QT(y,g),b=$H(c,o,y,g==="in"||g==="not-in");return qt.create(d,g,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fr(n,e,t){const i=e,s=t0("where",n);return $p._create(s,i,t)}class i0 extends n0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new i0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Hi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,r){let o=s;const c=r.getFlattenedFilters();for(const h of c)D1(o,h),o=vb(o,h)}(e._query,t),new Rc(e.firestore,e.converter,vb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function YT(n,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new me(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AI(e)&&t.indexOf("/")!==-1)throw new me(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(mt.fromString(t));if(!Ae.isDocumentKey(i))throw new me(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return uT(n,new Ae(i))}if(t instanceof Un)return uT(n,t._key);throw new me(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hp(t)}.`)}function QT(n,e){if(!Array.isArray(n)||n.length===0)throw new me(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D1(n,e){const t=function(s,r){for(const o of s)for(const c of o.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ZH{convertValue(e,t="none"){switch(xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ma(e,(s,r)=>{i[s]=this.convertValue(r,t)}),i}convertVectorValue(e){var t,i,s;const r=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Fg].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(o=>Lt(o.doubleValue));return new X_(r)}convertGeoPoint(e){return new K_(Lt(e.latitude),Lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Mp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Th(e));default:return null}}convertTimestamp(e){const t=Aa(e);return new Jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mt.fromString(e);rt(WI(i));const s=new xh(i.get(1),i.get(3)),r=new Ae(i.popFirst(5));return s.isEqual(t)||yr(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class k1 extends C1{constructor(e,t,i,s,r,o){super(e,t,i,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(t0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class yg extends k1{data(e={}){return super.data(e)}}class JH{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Xu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new yg(this._firestore,this._userDataWriter,i.key,i,new Xu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(c=>{const h=new yg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Xu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>r||c.type!==3).map(c=>{const h=new yg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Xu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),g=o.indexOf(c.doc.key)),{type:e6(c.type),doc:h,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function e6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(n){n=Fi(n,Un);const e=Fi(n.firestore,$o);return jH(Y_(e),n._key).then(t=>n6(e,n,t))}class M1 extends ZH{constructor(e){super(),this.firestore=e}convertBytes(e){return new fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,t)}}function gr(n){n=Fi(n,Rc);const e=Fi(n.firestore,$o),t=Y_(e),i=new M1(e);return KH(n._query),LH(t,n._query).then(s=>new JH(e,i,n,s))}function t6(n,e,t){n=Fi(n,Un);const i=Fi(n.firestore,$o),s=I1(n.converter,e);return Yp(i,[A1(Gp(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Ri.none())])}function KT(n,e,t,...i){n=Fi(n,Un);const s=Fi(n.firestore,$o),r=Gp(s);let o;return o=typeof(e=Tt(e))=="string"||e instanceof qp?WH(r,"updateDoc",n._key,e,t,i):GH(r,"updateDoc",n._key,e),Yp(s,[o.toMutation(n._key,Ri.exists(!0))])}function Jg(n){return Yp(Fi(n.firestore,$o),[new k_(n._key,Ri.none())])}function uh(n,e){const t=Fi(n.firestore,$o),i=vs(n),s=I1(n.converter,e);return Yp(t,[A1(Gp(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Ri.exists(!1))]).then(()=>i)}function Yp(n,e){return function(i,s){const r=new hr;return i.asyncQueue.enqueueAndForget(async()=>AH(await PH(i),s,r)),r.promise}(Y_(n),e)}function n6(n,e,t){const i=t.docs.get(e._key),s=new M1(n);return new k1(n,s,e._key,i,new Xu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Sc=s})(Ec),As(new zi("firestore",(i,{instanceIdentifier:s,options:r})=>{const o=i.getProvider("app").getImmediate(),c=new $o(new Yz(i.getProvider("auth-internal")),new Xz(o,i.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new me(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xh(d.options.projectId,g)}(o,s),o);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),xi(JA,eT,e),xi(JA,eT,"esm2017")})();const i6={apiKey:"AIzaSyDPgMa2cQIJJHAD5loZZrQOrn8oGyCtuXQ",authDomain:"getfit-79396.firebaseapp.com",projectId:"getfit-79396",storageBucket:"getfit-79396.appspot.com",messagingSenderId:"241827461493",appId:"1:241827461493:web:704bb4a0c2d368043ebb3c",measurementId:"G-J44KNXJ2BP"},s0=WC(i6);Hz(s0);const Nt=SU(s0),At=zH(s0);new sr;const s6=()=>{Na();const[n,e]=B.useState(!1),[t,i]=B.useState(null),s=()=>e(!n);B.useEffect(()=>ED(Nt,h=>{i(h)}),[]);const r=()=>{e(!1)},o=c=>t?t.emailVerified?E.jsxs(E.Fragment,{children:[E.jsx(yt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Domov"}),E.jsx(yt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Vyhľadávanie"}),E.jsx(yt,{to:"/profil",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Profil"}),E.jsx(yt,{to:"/dashboard",className:"pr-7 text-[#616161] cursor-pointer hover:underline",onClick:c,children:"Dashboard"}),E.jsx(yt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Odhlásiť sa"})]}):E.jsxs(E.Fragment,{children:[E.jsx(yt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Domov"}),E.jsx(yt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Vyhľadávanie"}),E.jsx(yt,{to:"/verify-email",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Over si email"}),E.jsx(yt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Odhlásiť sa"})]}):E.jsxs(E.Fragment,{children:[E.jsx(yt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Domov"}),E.jsx(yt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Vyhľadávanie"}),E.jsx(yt,{to:"/login",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Prihlásiť sa"}),E.jsx(yt,{to:"/register",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Registrácia"})]});return E.jsxs("nav",{className:"bg-white shadow-md fixed top-0 left-0 w-full py-4 px-10 flex justify-between items-center z-50",children:[E.jsx("span",{className:"text-2xl font-bold text-green-700",children:"GetFit"}),E.jsx("div",{className:"hidden md:flex space-x-6 text-gray-700 font-bold",children:o()}),E.jsx("div",{className:"md:hidden",children:E.jsx("button",{onClick:s,children:n?E.jsx(AP,{size:24}):E.jsx(SP,{size:24})})}),E.jsx("div",{className:`
          absolute top-full left-0 w-full bg-white shadow-md flex flex-col items-center py-4 space-y-4 
          md:hidden transition-all duration-300 overflow-hidden
          ${n?"max-h-96 opacity-100":"max-h-0 opacity-0"}
        `,children:o(r)})]})},r6=()=>E.jsxs("header",{className:"w-full text-center py-20 bg-gradient-to-r from-green-300 to-green-500 text-white",children:[E.jsx("h1",{className:"text-5xl font-bold",children:"Zdravý život je jednoduchý"}),E.jsx("p",{className:"text-lg mt-4",children:"Nájdite tie najlepšie jedlá, ktoré zodpovedajú vášmu životnému štýlu"}),E.jsx("button",{className:"mt-6 px-6 py-3 bg-white text-green-600 rounded-lg shadow-lg hover:shadow-xl transition",children:"Sign Up"})]}),a6=({query:n,setQuery:e,handleSearch:t,disabled:i})=>E.jsxs("section",{className:"max-w-5xl mx-auto py-16 px-6",children:[E.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"Prečo si vybrať našu platformu?"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[E.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Sledujte svoju výživu"}),E.jsx("p",{className:"text-gray-700 mt-3",children:"Ľahko zaznamenávajte svoje jedlá a sledujte makrá bez problémov."})]}),E.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[E.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Personalizované stravovacie plány"}),E.jsx("p",{className:"text-gray-700 mt-3",children:"Upravte svoj jedálniček na základe vašich fitness cieľov."})]})]}),E.jsxs("div",{className:"mt-12 text-center",children:[E.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Vyhľadajte informácie o výžive"}),E.jsxs("div",{className:"flex justify-center gap-4",children:[E.jsx("input",{type:"text",placeholder:"Zadajte názov jedla...",value:n,onChange:s=>e(s.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500"}),E.jsx("button",{onClick:t,disabled:i,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition disabled:bg-green-950",children:"Hľadať"})]})]})]}),O1=()=>E.jsxs("div",{role:"status",children:[E.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-indigo-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),E.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),E.jsx("span",{className:"sr-only",children:"Loading..."})]}),o6=({results:n=[],query:e,setQuery:t,handleSearch:i,searchTerm:s,error:r,isLoading:o})=>o?E.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:E.jsx(O1,{})}):E.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12",children:E.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[r&&E.jsxs("p",{className:"text-red-600 text-center mb-4",children:["Chyba pri načítaní dát: ",r.message]}),E.jsxs("h2",{className:"text-3xl font-semibold text-green-700 text-center mb-6 mt-6",children:["Výsledky pre: ",E.jsx("em",{className:"font-normal text-green-600",children:s})]}),E.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[E.jsx("input",{type:"text",placeholder:"Zadaj iné jedlo...",value:e,onChange:c=>t(c.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:ring-2 focus:ring-green-500"}),E.jsx("button",{onClick:i,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition",children:"Hľadať"})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map((c,h)=>{var A;const{food_name:d,nutrition:g}=c,y=((A=g==null?void 0:g.photo)==null?void 0:A.thumb)||"https://via.placeholder.com/300x150",b=(g==null?void 0:g.nf_calories)??0,_=(g==null?void 0:g.nf_total_fat)??0,S=(g==null?void 0:g.nf_protein)??0,T=(g==null?void 0:g.nf_total_carbohydrate)??0;return E.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition p-5",children:[E.jsx("img",{src:y,alt:d,className:"w-full h-40 object-cover rounded-md"}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-3",children:d}),(g==null?void 0:g.servingSize)&&E.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Nutričné hodnoty pre: ",E.jsx("strong",{children:g.servingSize})]}),E.jsxs("div",{className:"text-gray-600 text-sm leading-relaxed mt-2",children:[E.jsxs("p",{children:[E.jsx("strong",{className:"text-green-600",children:"Kalórie:"})," ",b," kcal"]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-green-600",children:"Tuky:"})," ",_," g"]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-green-600",children:"Bielkoviny:"})," ",S," g"]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-green-600",children:"Sacharidy:"})," ",T," g"]})]})]},h)}):E.jsx("p",{className:"col-span-full text-center text-gray-600",children:"Žiadne výsledky na zobrazenie."})})]})}),l6=[{id:1,title:"Top 5 zdravých potravín na spaľovanie tukov",excerpt:"Tieto potraviny ti pomôžu zrýchliť metabolizmus a efektívne spaľovať tuk.",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:"Celý článok o zdravých potravinách..."},{id:2,title:"Ako správne kombinovať sacharidy, tuky a bielkoviny?",excerpt:"Vyvážená strava je kľúčom k zdraviu. Pozri si, ako kombinovať makroživiny.",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:"Celý článok o kombinovaní makroživín..."},{id:3,title:"Prečo je hydratácia kľúčová pri chudnutí?",excerpt:"Pitný režim hrá obrovskú úlohu pri tvojom metabolizme a spaľovaní tukov.",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:"Celý článok o hydratácii a jej výhodách..."}],c6=()=>{const n=Wi();return B.useEffect(()=>{if(n.state&&n.state.scrollTo){const e=document.getElementById(`blog-${n.state.scrollTo}`);e&&e.scrollIntoView({behavior:"smooth"})}},[n]),E.jsx("div",{children:E.jsxs("section",{className:"max-w-6xl mx-auto pb-16 px-6",children:[E.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-10",children:"Najnovšie tipy a rady"}),E.jsx("div",{className:"grid gird-cols-1 md:grid-cols-3 gap-8",children:l6.map(e=>E.jsxs("div",{id:`blog-${e.id}`,className:"bg-white shadow-lg rounded-lg overflow-hidden hover:shadow-xl transition",children:[E.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),E.jsxs("div",{className:"p-6",children:[E.jsx("h3",{className:"text-2xl font-bold text-green-600",children:e.title}),E.jsx("p",{className:"text-gray-700 mt-3",children:e.excerpt}),E.jsx(yt,{to:`/blog/${e.id}`,className:"inline-block mt-4 text-green-700 font-semibold hover:underline",children:"Čítať viac →"})]})]},e.id))})]})})},u6=[{id:1,title:"Top 5 zdravých potravín na spaľovanie tukov",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Spaľovanie tukov nie je len o cvičení, ale aj o správnej výžive. Medzi najlepšie potraviny, ktoré ti pomôžu spaľovať tuky patria:"}),E.jsxs("ul",{className:"list-disc list-inside mt-4",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Avokádo"})," – obsahuje zdravé tuky, ktoré podporujú metabolizmus."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Losos"})," – bohatý na omega-3 mastné kyseliny, ktoré pomáhajú regulovať hladinu cukru v krvi."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Zelený čaj"})," – zrýchľuje spaľovanie kalórií a podporuje trávenie."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Chilli papričky"})," – obsahujú kapsaicín, ktorý podporuje spaľovanie tukov."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Orechy"})," – skvelý zdroj bielkovín a zdravých tukov."]})]}),E.jsxs("p",{className:"mt-6",children:[E.jsx("span",{className:"font-semibold text-green-600",children:"Záver:"})," Pravidelné konzumovanie týchto potravín v kombinácii s fyzickou aktivitou môže výrazne pomôcť pri spaľovaní tukov a udržiavaní zdravej hmotnosti."]})]})},{id:2,title:"Ako správne kombinovať sacharidy, tuky a bielkoviny?",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Vyvážená strava je základ zdravého životného štýlu. Dôležité je pochopiť, ako správne kombinovať makroživiny:"}),E.jsxs("ul",{className:"list-disc list-inside mt-4",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Sacharidy"})," – hlavný zdroj energie. Ideálne sú celozrnné potraviny, ovocie a zelenina."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Tuky"})," – esenciálne pre správne fungovanie organizmu. Uprednostni zdravé tuky ako olivový olej, orechy a avokádo."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Bielkoviny"})," – dôležité pre svalovú regeneráciu. Kvalitné zdroje sú kuracie mäso, ryby, tofu a strukoviny."]})]}),E.jsxs("p",{className:"mt-6",children:[E.jsx("span",{className:"font-semibold text-green-600",children:"Tip:"})," Správne jedlo by malo obsahovať vyvážený pomer všetkých troch makroživín. Napríklad:"]}),E.jsxs("ul",{className:"list-disc list-inside mt-4",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Raňajky:"})," Ovsená kaša s mandľami a banánom."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Obed:"})," Grilované kuracie mäso s quinoou a avokádovým šalátom."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Večera:"})," Pečený losos s dusenou zeleninou."]})]})]})},{id:3,title:"Prečo je hydratácia kľúčová pri chudnutí?",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Voda hrá zásadnú úlohu pri metabolizme a chudnutí. Je dôležité dodržiavať správny pitný režim:"}),E.jsxs("ul",{className:"list-disc list-inside mt-4",children:[E.jsx("li",{children:"Pomáha tráveniu a detoxikácii organizmu."}),E.jsx("li",{children:"Podporuje spaľovanie tukov."}),E.jsx("li",{children:"Znižuje pocit hladu – často si zamieňame smäd za hlad."})]}),E.jsx("p",{className:"mt-6",children:E.jsx("span",{className:"font-semibold text-green-600",children:"Koľko vody by si mal/a piť?"})}),E.jsxs("ul",{className:"list-disc list-inside mt-4",children:[E.jsxs("li",{children:["Minimálne ",E.jsx("strong",{children:"2-3 litre denne"}),"."]}),E.jsxs("li",{children:["Počas cvičenia doplň aspoň ",E.jsx("strong",{children:"0,5 L vody"})," na hodinu."]}),E.jsx("li",{children:"Ráno začni pohárom vody s citrónom pre lepší metabolizmus."})]})]})}],h6=()=>{const{id:n}=b2(),e=u6.find(t=>t.id===parseInt(n));return e?E.jsx("div",{children:E.jsxs("section",{className:"max-w-4xl mx-auto py-16 mt-8 px-6",children:[E.jsx("img",{src:e.image,alt:e.title,className:"w-full h-80 object-cover rounded-lg mb-6"}),E.jsx("h1",{className:"text-4xl font-bold text-green-700",children:e.title}),E.jsx("div",{className:"text-gray-700 mt-6 leading-fixed",children:e.content}),E.jsx(yt,{to:"/",state:{scrollTo:e.id},className:"inline-block mt-6 text-green-700 font-semibold hover:underline",children:" ← Späť na blog"})]})}):E.jsx("p",{className:"text-center text-red-600 text-xl mt-10",children:"Článok neexistuje!"})},d6=()=>{const[n,e]=B.useState(""),[t,i]=B.useState(""),[s,r]=B.useState(""),[o,c]=B.useState("male"),[h,d]=B.useState(1.2),[g,y]=B.useState("maintain"),[b,_]=B.useState(null),S=T=>{if(T.preventDefault(),!n||!t||!s){alert("Prosím, vyplň všetky polia.");return}let A;o==="male"?A=88.36+13.4*parseFloat(n)+4.8*parseFloat(t)-5.7*parseFloat(s):A=447.6+9.2*parseFloat(n)+3.1*parseFloat(t)-4.3*parseFloat(s);let I=A*parseFloat(h);g==="lose"?I-=500:g==="gain"&&(I+=500),_(Math.round(I))};return E.jsxs("section",{className:"max-w-4xl mx-auto py-16 px-6 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"BMR kalkulačka"}),E.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 sm:grid-cols-2 gap-6 bg-gray-50 p-6 rounded-lg shadow-md",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Váha (kg)"}),E.jsx("input",{type:"number",value:n,onChange:T=>e(T.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte váhu"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Výška (cm)"}),E.jsx("input",{type:"number",value:t,onChange:T=>i(T.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte výšku"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Vek"}),E.jsx("input",{type:"number",value:s,onChange:T=>r(T.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte vek"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Pohlavie"}),E.jsxs("select",{value:o,onChange:T=>c(T.target.value),className:" focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[E.jsx("option",{value:"male",children:"Muž"}),E.jsx("option",{value:"female",children:"Žena"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Úroveň aktivity"}),E.jsxs("select",{value:h,onChange:T=>d(T.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[E.jsx("option",{value:"1.2",children:"Sedavý životný štýl"}),E.jsx("option",{value:"1.375",children:"Ľahká aktivita (1-3x týždenne cvičenie)"}),E.jsx("option",{value:"1.55",children:"Stredná aktivita (3-5x týždenne cvičenie)"}),E.jsx("option",{value:"1.725",children:"Vysoká aktivita (6-7x týždenne cvičenie)"}),E.jsx("option",{value:"1.9",children:"Extrémna aktivita (ťažká fyzická práca + tréning)"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Cieľ"}),E.jsxs("select",{value:g,onChange:T=>y(T.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[E.jsx("option",{value:"lose",children:"Schudnúť"}),E.jsx("option",{value:"maintain",children:"Udržať váhu"}),E.jsx("option",{value:"gain",children:"Nabrať svaly"})]})]}),E.jsx("div",{className:"col-span-1 sm:col-span-2 flex justify-center",children:E.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition text-lg font-semibold shadow-md w-full sm:w-1/2",children:"Vypočítať kalórie"})})]}),b!==null&&E.jsxs("div",{className:"mt-8 p-6 bg-green-100 text-center rounded-lg shadow-md",children:[E.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Odporúčaný denný kalorický príjem:"}),E.jsxs("p",{className:"text-4xl font-bold text-green-700 mt-2",children:[b," kcal"]})]})]})},f6=()=>{const[n,e]=B.useState(1),[t,i]=B.useState(!1),[s,r]=B.useState(""),[o,c]=B.useState(""),[h,d]=B.useState(""),[g,y]=B.useState(""),[b,_]=B.useState(!1),[S,T]=B.useState(null),[A,I]=B.useState(""),[M,j]=B.useState(""),[H,q]=B.useState(""),[Q,P]=B.useState("male"),[C,D]=B.useState("1.2"),[O,V]=B.useState("maintain"),[z,L]=B.useState(null),[we,be]=B.useState(!1),[ie,de]=B.useState(!1),[ge,_e]=B.useState(null),[F,oe]=B.useState(null),[ue,fe]=B.useState(null),[he,Ce]=B.useState(null),[Te,Ke]=B.useState(null),qe=Na();if(t)return E.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:E.jsx(O1,{})});const ft=()=>{const Re=Number(M),En=Number(H),ut=Number(A);let gt;Q==="male"?gt=88.36+13.4*Re+4.8*En-5.7*ut:gt=447.6+9.2*Re+3.1*En-4.3*ut;let dn=gt*Number(C);O==="lose"?dn-=500:O==="gain"&&(dn+=500),dn=Math.round(dn),_e(dn);const Qi=Math.round(.3*dn/4),Ki=Math.round(.25*dn/9),Cs=Math.round(.45*dn/4);oe(Qi),fe(Ki),Ce(Cs),de(!0)},et=async()=>{const Re=s.trim().toLowerCase();if(!Re||!Re.includes("@"))return Ke("Prosím, zadaj platný email."),!1;if(o.length<8)return Ke("Heslo musí mať aspoň 8 znakov."),!1;if(!/[A-Z]/.test(o))return Ke("Heslo musí obsahovať aspoň 1 veľké písmeno (A-Z)."),!1;if(!/\d/.test(o))return Ke("Heslo musí obsahovať aspoň 1 číslicu."),!1;if(o!==h)return Ke("Heslá sa nezhodujú."),!1;if(!b)return Ke("Musíš súhlasiť s podmienkami používania a ochranou osobných údajov."),!1;const En=async ut=>{const gt=dr(Gn(At,"users"),fr("email","==",ut));return!(await gr(gt)).empty};try{if((await aV(Nt,Re)).length>0||await En(Re))return Ke("Tento email už existuje."),!1}catch(ut){return console.error("Chyba pri overovaní emailu:",ut),Ke("Nastala chyba pri overovaní emailu."),!1}return Ke(null),!0},hn=async()=>{await et()&&e(2)},Ni=async Re=>{Re.preventDefault(),i(!0);const En=s.trim().toLowerCase();if(ft(),!ge||!F||!ue||!he){let ut;Q==="male"?ut=88.36+13.4*Number(M)+4.8*Number(H)-5.7*Number(A):ut=447.6+9.2*Number(M)+3.1*Number(H)-4.3*Number(A);let gt=ut*Number(C);O==="lose"?gt-=500:O==="gain"&&(gt+=500),gt=Math.round(gt);const dn=Math.round(.3*gt/4),Qi=Math.round(.25*gt/9),Ki=Math.round(.45*gt/4);_e(gt),oe(dn),fe(Qi),Ce(Ki),de(!0)}try{const ut=await iV(Nt,En,o);await cV(ut.user,{displayName:g}),await oV(ut.user),await t6(vs(At,"users",ut.user.uid),{name:g,email:En,agreedToTerms:!0,age:Number(A),weight:Number(M),height:Number(H),gender:Q,activity:Number(C),goal:O,dailyCalories:ge,proteinGrams:F,fatGrams:ue,carbsGrams:he}),i(!1),qe("/verify-email")}catch(ut){Ke("Chyba pri registrácii: "+ut.message)}};return E.jsxs("section",{className:"max-w-md mt-30 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Registrácia"}),Te&&E.jsx("p",{className:"text-red-600 text-center mt-2",children:Te}),E.jsxs("form",{onSubmit:Ni,className:"mt-4",children:[n===1&&E.jsxs(E.Fragment,{children:[E.jsx("label",{className:"block mt-2",children:"Meno"}),E.jsx("input",{type:"text",placeholder:"Meno",value:g,onChange:Re=>y(Re.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Email"}),E.jsx("input",{type:"email",placeholder:"Email",value:s,onChange:Re=>r(Re.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Heslo"}),E.jsx("input",{type:"password",placeholder:"Heslo",value:o,onChange:Re=>c(Re.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Potvrdiť heslo"}),E.jsx("input",{type:"password",placeholder:"Potvrdiť heslo",value:h,onChange:Re=>d(Re.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsxs("div",{className:"mt-6 flex items-start",children:[E.jsx("input",{type:"checkbox",checked:b,onChange:()=>_(!b),className:"mr-2 ml-2 mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),E.jsxs("label",{className:"text-gray-600 mr-5",children:["Súhlasím s ",E.jsx(yt,{to:"/terms",className:"text-blue-600 underline",children:"podmienkami používania"})," a ",E.jsx(yt,{to:"/privacy",className:"text-blue-600 underline",children:"ochranou osobných údajov"}),"."]})]}),E.jsx("button",{type:"button",onClick:hn,className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Ďalej"})]}),n===2&&E.jsxs(E.Fragment,{children:[E.jsx("label",{className:"block mt-2",children:"Vek"}),E.jsx("input",{type:"number",placeholder:"Vek",value:A,onChange:Re=>I(Re.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Váha (kg)"}),E.jsx("input",{type:"number",placeholder:"Váha (kg)",value:M,onChange:Re=>j(Re.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Výška (cm)"}),E.jsx("input",{type:"number",placeholder:"Výška (cm)",value:H,onChange:Re=>q(Re.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Pohlavie"}),E.jsxs("select",{value:Q,onChange:Re=>P(Re.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[E.jsx("option",{value:"male",children:"Muž"}),E.jsx("option",{value:"female",children:"Žena"})]}),E.jsx("button",{type:"button",onClick:()=>e(3),className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Ďalej"})]}),n===3&&E.jsxs(E.Fragment,{children:[E.jsx("label",{className:"block mt-2",children:"Cieľ"}),E.jsxs("select",{value:O,onChange:Re=>V(Re.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[E.jsx("option",{value:"lose",children:"Schudnúť"}),E.jsx("option",{value:"maintain",children:"Udržať váhu"}),E.jsx("option",{value:"gain",children:"Nabrať svaly"})]}),E.jsx("label",{className:"block mt-2",children:"Úroveň aktivity"}),E.jsxs("select",{value:C,onChange:Re=>D(Re.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[E.jsx("option",{value:"1.2",children:"Sedavý životný štýl"}),E.jsx("option",{value:"1.375",children:"Ľahká aktivita (1-3x/týž)"}),E.jsx("option",{value:"1.55",children:"Stredná aktivita (3-5x/týž)"}),E.jsx("option",{value:"1.725",children:"Vysoká aktivita (6-7x/týž)"}),E.jsx("option",{value:"1.9",children:"Extrémna aktivita"})]}),E.jsx("label",{className:"block mt-2 font-semibold",children:"BMR / Kalórie"}),we?E.jsx("input",{type:"number",value:ge||"",onChange:Re=>_e(Number(Re.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):E.jsxs("p",{className:"mt-2 font-semibold text-center",children:[ge," kcal"]}),E.jsx("label",{className:"block mt-2 font-semibold",children:"Proteíny (g)"}),we?E.jsx("input",{type:"number",value:F||"",onChange:Re=>oe(Number(Re.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):E.jsxs("p",{className:"mt-2 font-semibold text-center",children:[F," g"]}),E.jsx("label",{className:"block mt-2 font-semibold",children:"Tuky (g)"}),we?E.jsx("input",{type:"number",value:ue||"",onChange:Re=>fe(Number(Re.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):E.jsxs("p",{className:"mt-2 font-semibold text-center",children:[ue," g"]}),E.jsx("label",{className:"block mt-2 font-semibold",children:"Sacharidy (g)"}),we?E.jsx("input",{type:"number",value:he||"",onChange:Re=>Ce(Number(Re.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):E.jsxs("p",{className:"mt-2 font-semibold text-center",children:[he," g"]}),E.jsxs("div",{className:"flex justify-between mt-4",children:[E.jsx("button",{type:"button",onClick:ft,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Vypočítať BMR a makrá"}),ie&&E.jsx("button",{type:"button",onClick:()=>be(!we),className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600",children:we?"Uložiť":"Upraviť"})]}),E.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Registrovať sa"})]})]})]})},g6=()=>{const n=Na(),e=async()=>{Nt.currentUser&&(await Nt.currentUser.reload(),Nt.currentUser.emailVerified?n("/dashboard"):alert("Email ešte nie je overený. Skontroluj schránku a skús znovu."))};return E.jsxs("section",{className:"pt-20 mt-30 max-w-md mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Overenie emailu"}),E.jsx("p",{className:"mt-4 text-center",children:"Na tvoj email bol odoslaný overovací odkaz. Prosím otvor si email, klikni na overovací link a potom sa vráť sem."}),E.jsx("button",{onClick:e,className:"bg-green-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-green-700",children:"Skontrolovať, či som email potvrdil"})]})},p6=()=>E.jsx("aside",{className:"w-full lg:w-1/5 bg-gray-100 p-4 rounded-lg shadow-md",children:E.jsxs("nav",{className:"flex flex-col space-y-4",children:[E.jsx(yt,{to:"/dashboard/calendar",className:"text-green-700 font-bold hover:underline",children:"Kalendár"}),E.jsx(yt,{to:"/dashboard/my-foods",className:"text-green-700 font-bold hover:underline",children:"Moje jedlá"}),E.jsx(yt,{to:"/dashboard/statistics",className:"text-green-700 font-bold hover:underline",children:"Štatistiky"}),E.jsx(yt,{to:"/dashboard/my-activites",className:"text-green-700 font-bold hover:underline",children:"Moje Aktivity"})]})}),m6=({onAddActivity:n})=>{const[e,t]=B.useState(""),[i,s]=B.useState(""),[r,o]=B.useState(""),[c,h]=B.useState(""),d=g=>{if(g.preventDefault(),!e.trim())return;const y={activityName:e,duration:Number(i),burnedCalories:Number(r),description:c,createdAt:new Date};n&&n(y),t(""),s(""),o(""),h("")};return E.jsxs("form",{onSubmit:d,className:"p-4 bg-white rounded-lg shadow-md mb-4",children:[E.jsx("h2",{className:"text-xl font-bold text-green-700 mb-4",children:"Pridať novú aktivitu"}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-gray-700",children:"Názov aktivity:"}),E.jsx("input",{type:"text",value:e,onChange:g=>t(g.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Zadaj názov aktivity (napr. beh, plávanie)"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700",children:"Dĺžka (min):"}),E.jsx("input",{type:"number",value:i,onChange:g=>s(g.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"napr. 30"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700",children:"Spálené kalórie:"}),E.jsx("input",{type:"number",value:r,onChange:g=>o(g.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"napr. 200"})]})]}),E.jsxs("div",{className:"mt-4",children:[E.jsx("label",{className:"block text-gray-700",children:"Popis (nepovinné):"}),E.jsx("textarea",{value:c,onChange:g=>h(g.target.value),className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Krátky opis, napr. intenzita behu, miesto atď."})]}),E.jsx("button",{type:"submit",className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať aktivitu"})]})},y6=()=>{const{handleEditActivity:n,handleAddActivity:e,savedActivities:t,handleDeleteActivity:i,handleAddEventToCalendar:s}=Fh(),[r,o]=B.useState(null),[c,h]=B.useState({activityName:"",duration:"",burnedCalories:"",description:""}),d=b=>{o(b.id),h({activityName:b.activityName,duration:b.duration,burnedCalories:b.burnedCalories,description:b.description||""})},g=()=>{o(null),h({activityName:"",duration:"",burnedCalories:"",description:""})},y=()=>{if(!r)return;const b={...c,duration:Number(c.duration),burnedCalories:Number(c.burnedCalories)};n(r,b),g()};return E.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[E.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Moje aktivity"}),E.jsx(m6,{onAddActivity:e}),E.jsx("div",{className:"mt-6",children:t&&t.length>0?E.jsx("ul",{className:"space-y-4",children:t.map(b=>E.jsx("li",{className:"p-4 bg-white rounded-lg shadow border-l-4 border-green-500 flex justify-between items-start",children:r===b.id?E.jsxs("div",{className:"flex-1",children:[E.jsx("input",{type:"text",value:c.activityName,onChange:_=>h({...c,activityName:_.target.value}),className:"border border-gray-300 rounded px-3 py-2 w-full mb-2",placeholder:"Názov aktivity"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[E.jsx("input",{type:"number",value:c.duration,onChange:_=>h({...c,duration:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Dĺžka (min)"}),E.jsx("input",{type:"number",value:c.burnedCalories,onChange:_=>h({...c,burnedCalories:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Spálené kalórie"})]}),E.jsx("textarea",{value:c.description,onChange:_=>h({...c,description:_.target.value}),className:"border border-gray-300 rounded px-3 py-2 w-full",placeholder:"Popis"}),E.jsxs("div",{className:"mt-2 flex space-x-2",children:[E.jsx("button",{onClick:y,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Uložiť"}),E.jsx("button",{onClick:g,className:"bg-gray-500 text-white px-3 py-1 rounded hover:bg-gray-600",children:"Zrušiť"})]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-800",children:b.activityName}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Dĺžka: ",b.duration," min"]}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Spálené kalórie: ",b.burnedCalories," kcal"]}),b.description&&E.jsxs("p",{className:"text-sm text-gray-700",children:["Popis: ",b.description]})]}),E.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[E.jsx("button",{onClick:()=>i(b.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Zmazať"}),E.jsx("button",{onClick:()=>d(b),className:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600",children:"Upraviť"})]})]})},b.id))}):E.jsx("p",{className:"text-gray-500 text-center",children:"Zatiaľ ste nepridali žiadne aktivity."})})]})},XT=()=>{const[n,e]=B.useState([]),[t,i]=B.useState(null);B.useEffect(()=>{(async()=>{const _=Nt.currentUser;if(_)try{const S=vs(At,"users",_.uid),T=await N1(S);T.exists()&&i(T.data())}catch(S){console.error("Chyba pri načítaní nutričných údajov:",S)}})()},[]);const s=async b=>{try{const _=vs(At,"foods",b);await Jg(_),e(S=>S.filter(T=>T.id!==b))}catch(_){console.error("Chyba pri mazaní jedla z Firestore:",_)}},r=async(b,_)=>{try{const S=vs(At,"foods",b);await KT(S,_),e(T=>T.map(A=>A.id===b?{...A,..._}:A))}catch(S){console.error("Chyba pri úprave jedla vo Firestore:",S)}},o=async b=>{try{const _=Nt.currentUser;if(!_){console.error("Používateľ nie je prihlásený");return}const S={...b,userId:_.uid,userName:_.displayName,createdAt:new Date},T=await uh(Gn(At,"foods"),S);console.log("Jedlo pridané s ID:",T.id),e(A=>[...A,{id:T.id,...S}])}catch(_){console.error("Chyba pri pridávaní jedla:",_)}};B.useEffect(()=>{(async()=>{try{const _=Nt.currentUser;if(!_)return;const S=dr(Gn(At,"foods"),fr("userId","==",_.uid)),A=(await gr(S)).docs.map(I=>({id:I.id,...I.data()}));e(A)}catch(_){console.error("Chyba pri načítaní jedál:",_)}})()},[]);const[c,h]=B.useState([]),d=async b=>{try{const _=Nt.currentUser;if(!_)return;const S={...b,userId:_.uid,userName:_.displayName},T=await uh(Gn(At,"activities"),S);h(A=>[...A,{id:T.id,...b}])}catch(_){console.error("Chyba pri načítaní aktivít:",_)}};B.useEffect(()=>{(async()=>{try{const _=Nt.currentUser;if(!_)return;const S=dr(Gn(At,"activities"),fr("userId","==",_.uid)),A=(await gr(S)).docs.map(I=>({id:I.id,...I.data()}));h(A)}catch{console.error("Vyskytla sa chyba")}})()},[]);const g=async b=>{try{const _=vs(At,"activities",b);await Jg(_),h(S=>S.filter(T=>T.id!==b))}catch{console.error("Vyskytla sa chyba")}},y=async(b,_)=>{try{const S=vs(At,"activities",b);await KT(S,_),h(T=>T.map(A=>A.id===b?{...A,..._}:A))}catch{console.error("Vyskytla sa chyba")}};return E.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4 mt-20",children:[E.jsx(p6,{}),E.jsx("div",{className:"flex-1",children:E.jsx(O2,{context:{savedFoods:n,handleAddCustomFood:o,handleDeleteFood:s,handleEditFood:r,nutritionGoal:t,handleEditActivity:y,handleAddActivity:d,savedActivities:c,handleDeleteActivity:g}})})]})},Hl=({children:n})=>{const[e,t]=B.useState(void 0),[i,s]=B.useState(!0);return B.useEffect(()=>{const r=ED(Nt,o=>{t(o),s(!1)});return()=>r()},[]),i?E.jsx("p",{children:"Načítavam..."}):!e||!e.emailVerified?E.jsx(M2,{to:"/login"}):n},v6=()=>{const n=Na(),e=async()=>{try{await dV(Nt),n("/")}catch(t){console.error("Chyba pri odhlasovaní:",t)}};return E.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg text-center",children:[E.jsx("h2",{className:"text-3xl font-semibold text-green-700",children:"Odhlásenie"}),E.jsx("p",{className:"mt-4 text-gray-600",children:"Si si istý, že sa chceš odhlásiť?"}),E.jsx("button",{onClick:e,className:"bg-red-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-red-700 transition",children:"Odhlásiť sa"})]})},b6=()=>{const[n,e]=B.useState(""),[t,i]=B.useState(""),[s,r]=B.useState(""),o=Na(),c=async h=>{h.preventDefault();try{await sV(Nt,n,t),o("/dashboard")}catch(d){r("Chyba pri prihlasovaní: "+d.message)}};return E.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Prihlásenie"}),s&&E.jsx("p",{className:"text-red-600 text-center mt-2",children:s}),E.jsxs("form",{onSubmit:c,className:"mt-4",children:[E.jsx("label",{className:"block mt-2",children:"Email"}),E.jsx("input",{value:n,onChange:h=>e(h.target.value),type:"email",placeholder:"Email",className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Heslo"}),E.jsx("input",{value:t,onChange:h=>i(h.target.value),type:"password",placeholder:"Heslo",className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mb-3 mt-4 w-full rounded-lg hover:bg-green-700",children:"Prihlásiť sa"}),E.jsx(yt,{to:"/register",className:"text-blue-600 underline",children:"Nemáš ešte účet ? Vytvor si ho"})]})]})},_6=()=>E.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky používania"}),E.jsx("p",{className:"mt-4 text-gray-600",children:"Posledná aktualizácia: 21. február 2025"}),E.jsxs("p",{className:"mt-4",children:["Vitajte v našej aplikácii ",E.jsx("strong",{children:"[Your App Name]"}),". Používaním tejto aplikácie súhlasíte s nasledujúcimi podmienkami."]}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptácia podmienok"}),E.jsx("p",{className:"mt-2",children:"Používaním našich služieb vyjadrujete súhlas s týmito podmienkami. Ak s nimi nesúhlasíte, nesmiete aplikáciu používať."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie účtu"}),E.jsx("p",{className:"mt-2",children:"Pri registrácii musíte poskytnúť pravdivé a aktuálne informácie. Ste zodpovedný za bezpečnosť vášho účtu."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakázané aktivity"}),E.jsxs("p",{className:"mt-2",children:["Používateľ nesmie:",E.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[E.jsx("li",{children:"Porušovať platné zákony alebo práva tretích strán."}),E.jsx("li",{children:"Vytvárať falošné účty alebo sa vydávať za iných."}),E.jsx("li",{children:"Zasahovať do bezpečnosti aplikácie."})]})]}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zrušenie účtu"}),E.jsx("p",{className:"mt-2",children:"Môžeme zablokovať alebo odstrániť váš účet v prípade porušenia podmienok alebo neaktivity."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednosť a obmedzenie"}),E.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednosť za akékoľvek priame alebo nepriame škody spôsobené používaním tejto aplikácie."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),E.jsx("p",{className:"mt-2",children:"Vyhradzujeme si právo kedykoľvek upraviť tieto podmienky. Pokračovanie v používaní aplikácie znamená súhlas so zmenami."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),E.jsxs("p",{className:"mt-2",children:["Ak máte otázky týkajúce sa týchto podmienok, kontaktujte nás na ",E.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),E6=()=>E.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky používania"}),E.jsx("p",{className:"mt-4 text-gray-600",children:"Posledná aktualizácia: 21. február 2025"}),E.jsxs("p",{className:"mt-4",children:["Vitajte v našej aplikácii ",E.jsx("strong",{children:"[Your App Name]"}),". Používaním tejto aplikácie súhlasíte s nasledujúcimi podmienkami."]}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptácia podmienok"}),E.jsx("p",{className:"mt-2",children:"Používaním našich služieb vyjadrujete súhlas s týmito podmienkami. Ak s nimi nesúhlasíte, nesmiete aplikáciu používať."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie účtu"}),E.jsx("p",{className:"mt-2",children:"Pri registrácii musíte poskytnúť pravdivé a aktuálne informácie. Ste zodpovedný za bezpečnosť vášho účtu."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakázané aktivity"}),E.jsxs("p",{className:"mt-2",children:["Používateľ nesmie:",E.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[E.jsx("li",{children:"Porušovať platné zákony alebo práva tretích strán."}),E.jsx("li",{children:"Vytvárať falošné účty alebo sa vydávať za iných."}),E.jsx("li",{children:"Zasahovať do bezpečnosti aplikácie."})]})]}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zrušenie účtu"}),E.jsx("p",{className:"mt-2",children:"Môžeme zablokovať alebo odstrániť váš účet v prípade porušenia podmienok alebo neaktivity."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednosť a obmedzenie"}),E.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednosť za akékoľvek priame alebo nepriame škody spôsobené používaním tejto aplikácie."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),E.jsx("p",{className:"mt-2",children:"Vyhradzujeme si právo kedykoľvek upraviť tieto podmienky. Pokračovanie v používaní aplikácie znamená súhlas so zmenami."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),E.jsxs("p",{className:"mt-2",children:["Ak máte otázky týkajúce sa týchto podmienok, kontaktujte nás na ",E.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),w6=({onAddCustomFood:n})=>{const[e,t]=B.useState(""),[i,s]=B.useState(""),[r,o]=B.useState(""),[c,h]=B.useState(""),[d,g]=B.useState(""),[y,b]=B.useState(""),[_,S]=B.useState(""),T=A=>{if(A.preventDefault(),!e.trim())return;const I={foodName:e,kcal:Number(i),protein:Number(r),fat:Number(c),carbs:Number(d),fiber:Number(y)};n(I),t(""),s(""),o(""),h(""),g(""),b("")};return E.jsxs("form",{onSubmit:T,className:"p-4 bg-white rounded-lg shadow-md mb-4",children:[E.jsx("h2",{className:"text-xl font-bold text-green-700 mb-4",children:"Pridať vlastné jedlo"}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-gray-700",children:"Názov jedla:"}),E.jsx("input",{type:"text",value:e,onChange:A=>t(A.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Názov jedla"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700",children:"Kalórie:"}),E.jsx("input",{type:"number",value:i,onChange:A=>s(A.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"kcal"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700",children:"Bielkoviny (g):"}),E.jsx("input",{type:"number",value:r,onChange:A=>o(A.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"bielkoviny"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700",children:"Tuky (g):"}),E.jsx("input",{type:"number",value:c,onChange:A=>h(A.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"tuky"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700",children:"Sacharidy (g):"}),E.jsx("input",{type:"number",value:d,onChange:A=>g(A.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"sacharidy"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 mt-2",children:"Vláknina (g):"}),E.jsx("input",{type:"number",value:y,onChange:A=>b(A.target.value),required:!0,className:"w-1/2 mx-auto border border-gray-300 rounded px-3 py-2",placeholder:"vláknina"})]}),E.jsx("button",{type:"submit",className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať jedlo"})]})},S6=()=>{const{savedFoods:n,handleAddCustomFood:e,handleDeleteFood:t,handleEditFood:i}=Fh(),[s,r]=B.useState(null),[o,c]=B.useState({foodName:"",kcal:"",protein:"",fat:"",carbs:"",fiber:""}),h=y=>{r(y.id),c({foodName:y.foodName,kcal:y.kcal,protein:y.protein,fat:y.fat,carbs:y.carbs,fiber:y.fiber})},d=()=>{r(null),c({foodName:"",kcal:"",protein:"",fat:"",carbs:"",fiber:""})},g=()=>{i(s,{foodName:o.foodName,kcal:Number(o.kcal),protein:Number(o.protein),fat:Number(o.fat),carbs:Number(o.carbs),fiber:Number(o.fiber)}),d()};return E.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[E.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Moje jedlá"}),E.jsx(w6,{onAddCustomFood:e}),E.jsx("div",{className:"mt-6",children:n.length>0?E.jsx("ul",{className:"space-y-4",children:n.map((y,b)=>E.jsx("li",{className:"p-4 bg-white rounded-lg shadow border-l-4 border-green-500 flex justify-between items-center",children:s===y.id?E.jsxs("div",{className:"flex-1",children:[E.jsx("input",{type:"text",value:o.foodName,onChange:_=>c({...o,foodName:_.target.value}),className:"border border-gray-300 rounded px-3 py-2 w-full mb-2",placeholder:"Názov jedla"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"number",value:o.kcal,onChange:_=>c({...o,kcal:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Kalórie"}),E.jsx("input",{type:"number",value:o.protein,onChange:_=>c({...o,protein:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Bielkoviny"}),E.jsx("input",{type:"number",value:o.fat,onChange:_=>c({...o,fat:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Tuky"}),E.jsx("input",{type:"number",value:o.carbs,onChange:_=>c({...o,carbs:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Sacharidy"}),E.jsx("input",{type:"number",value:o.fiber,onChange:_=>c({...o,fiber:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Vláknina"}),E.jsx("input",{type:"number",value:o.fluid,onChange:_=>c({...o,fluid:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Tekutiny"})]}),E.jsxs("div",{className:"mt-2 flex space-x-2",children:[E.jsx("button",{onClick:g,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Uložiť"}),E.jsx("button",{onClick:d,className:"bg-gray-500 text-white px-3 py-1 rounded hover:bg-gray-600",children:"Zrušiť"})]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-800",children:y.foodName}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Kalórie: ",y.kcal," kcal"]}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Bielkoviny: ",y.protein," g"]}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Tuky: ",y.fat," g"]}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Sacharidy: ",y.carbs," g"]}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Vláknina: ",y.fiber," g"]}),E.jsxs("p",{className:"text-sm text-gray-700",children:["Tekutiny: ",y.fluid," l"]})]}),E.jsxs("div",{className:"flex flex-col space-y-2",children:[E.jsx("button",{onClick:()=>t(y.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Zmazať"}),E.jsx("button",{onClick:()=>h(y),className:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600",children:"Upraviť"})]})]})},b))}):E.jsx("p",{className:"text-gray-500 text-center",children:"Zatiaľ ste nepridali žiadne jedlá."})})]})};var Qp,xe,P1,j1,gc,So,ZT,L1,V1,ep={},U1=[],A6=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ua(n,e){for(var t in e)n[t]=e[t];return n}function z1(n){var e=n.parentNode;e&&e.removeChild(n)}function ee(n,e,t){var i,s,r,o={};for(r in e)r=="key"?i=e[r]:r=="ref"?s=e[r]:o[r]=e[r];if(arguments.length>2&&(o.children=arguments.length>3?Qp.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(r in n.defaultProps)o[r]===void 0&&(o[r]=n.defaultProps[r]);return vg(n,o,i,s,null)}function vg(n,e,t,i,s){var r={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++P1};return s==null&&xe.vnode!=null&&xe.vnode(r),r}function br(){return{current:null}}function Vt(n){return n.children}function T6(n,e,t,i,s){var r;for(r in t)r==="children"||r==="key"||r in e||tp(n,r,null,t[r],i);for(r in e)s&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||t[r]===e[r]||tp(n,r,e[r],t[r],i)}function JT(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||A6.test(e)?t:t+"px"}function tp(n,e,t,i,s){var r;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||JT(n.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||JT(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+r]=t,t?i||n.addEventListener(e,r?tx:ex,r):n.removeEventListener(e,r?tx:ex,r);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function ex(n){gc=!0;try{return this.l[n.type+!1](xe.event?xe.event(n):n)}finally{gc=!1}}function tx(n){gc=!0;try{return this.l[n.type+!0](xe.event?xe.event(n):n)}finally{gc=!1}}function ri(n,e){this.props=n,this.context=e}function Ih(n,e){if(e==null)return n.__?Ih(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Ih(n):null}function B1(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return B1(n)}}function x6(n){gc?setTimeout(n):L1(n)}function Ib(n){(!n.__d&&(n.__d=!0)&&So.push(n)&&!np.__r++||ZT!==xe.debounceRendering)&&((ZT=xe.debounceRendering)||x6)(np)}function np(){var n,e,t,i,s,r,o,c;for(So.sort(function(h,d){return h.__v.__b-d.__v.__b});n=So.shift();)n.__d&&(e=So.length,i=void 0,s=void 0,o=(r=(t=n).__v).__e,(c=t.__P)&&(i=[],(s=ua({},r)).__v=r.__v+1,r0(c,r,s,t.__n,c.ownerSVGElement!==void 0,r.__h!=null?[o]:null,i,o??Ih(r),r.__h),W1(i,r),r.__e!=o&&B1(r)),So.length>e&&So.sort(function(h,d){return h.__v.__b-d.__v.__b}));np.__r=0}function H1(n,e,t,i,s,r,o,c,h,d){var g,y,b,_,S,T,A,I=i&&i.__k||U1,M=I.length;for(t.__k=[],g=0;g<e.length;g++)if((_=t.__k[g]=(_=e[g])==null||typeof _=="boolean"?null:typeof _=="string"||typeof _=="number"||typeof _=="bigint"?vg(null,_,null,null,_):Array.isArray(_)?vg(Vt,{children:_},null,null,null):_.__b>0?vg(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_)!=null){if(_.__=t,_.__b=t.__b+1,(b=I[g])===null||b&&_.key==b.key&&_.type===b.type)I[g]=void 0;else for(y=0;y<M;y++){if((b=I[y])&&_.key==b.key&&_.type===b.type){I[y]=void 0;break}b=null}r0(n,_,b=b||ep,s,r,o,c,h,d),S=_.__e,(y=_.ref)&&b.ref!=y&&(A||(A=[]),b.ref&&A.push(b.ref,null,_),A.push(y,_.__c||S,_)),S!=null?(T==null&&(T=S),typeof _.type=="function"&&_.__k===b.__k?_.__d=h=F1(_,h,n):h=q1(n,_,b,I,S,h),typeof t.type=="function"&&(t.__d=h)):h&&b.__e==h&&h.parentNode!=n&&(h=Ih(b))}for(t.__e=T,g=M;g--;)I[g]!=null&&(typeof t.type=="function"&&I[g].__e!=null&&I[g].__e==t.__d&&(t.__d=G1(i).nextSibling),Y1(I[g],I[g]));if(A)for(g=0;g<A.length;g++)$1(A[g],A[++g],A[++g])}function F1(n,e,t){for(var i,s=n.__k,r=0;s&&r<s.length;r++)(i=s[r])&&(i.__=n,e=typeof i.type=="function"?F1(i,e,t):q1(t,i,i,s,i.__e,e));return e}function ip(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){ip(t,e)}):e.push(n)),e}function q1(n,e,t,i,s,r){var o,c,h;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(t==null||s!=r||s.parentNode==null)e:if(r==null||r.parentNode!==n)n.appendChild(s),o=null;else{for(c=r,h=0;(c=c.nextSibling)&&h<i.length;h+=1)if(c==s)break e;n.insertBefore(s,r),o=r}return o!==void 0?o:s.nextSibling}function G1(n){var e,t,i;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(i=G1(t)))return i}return null}function r0(n,e,t,i,s,r,o,c,h){var d,g,y,b,_,S,T,A,I,M,j,H,q,Q,P,C=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(h=t.__h,c=e.__e=t.__e,e.__h=null,r=[c]),(d=xe.__b)&&d(e);try{e:if(typeof C=="function"){if(A=e.props,I=(d=C.contextType)&&i[d.__c],M=d?I?I.props.value:d.__:i,t.__c?T=(g=e.__c=t.__c).__=g.__E:("prototype"in C&&C.prototype.render?e.__c=g=new C(A,M):(e.__c=g=new ri(A,M),g.constructor=C,g.render=C6),I&&I.sub(g),g.props=A,g.state||(g.state={}),g.context=M,g.__n=i,y=g.__d=!0,g.__h=[],g._sb=[]),g.__s==null&&(g.__s=g.state),C.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=ua({},g.__s)),ua(g.__s,C.getDerivedStateFromProps(A,g.__s))),b=g.props,_=g.state,g.__v=e,y)C.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(C.getDerivedStateFromProps==null&&A!==b&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(A,M),!g.__e&&g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(A,g.__s,M)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(g.props=A,g.state=g.__s,g.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(D){D&&(D.__=e)}),j=0;j<g._sb.length;j++)g.__h.push(g._sb[j]);g._sb=[],g.__h.length&&o.push(g);break e}g.componentWillUpdate!=null&&g.componentWillUpdate(A,g.__s,M),g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(b,_,S)})}if(g.context=M,g.props=A,g.__P=n,H=xe.__r,q=0,"prototype"in C&&C.prototype.render){for(g.state=g.__s,g.__d=!1,H&&H(e),d=g.render(g.props,g.state,g.context),Q=0;Q<g._sb.length;Q++)g.__h.push(g._sb[Q]);g._sb=[]}else do g.__d=!1,H&&H(e),d=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++q<25);g.state=g.__s,g.getChildContext!=null&&(i=ua(ua({},i),g.getChildContext())),y||g.getSnapshotBeforeUpdate==null||(S=g.getSnapshotBeforeUpdate(b,_)),P=d!=null&&d.type===Vt&&d.key==null?d.props.children:d,H1(n,Array.isArray(P)?P:[P],e,t,i,s,r,o,c,h),g.base=e.__e,e.__h=null,g.__h.length&&o.push(g),T&&(g.__E=g.__=null),g.__e=!1}else r==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=R6(t.__e,e,t,i,s,r,o,h);(d=xe.diffed)&&d(e)}catch(D){e.__v=null,(h||r!=null)&&(e.__e=c,e.__h=!!h,r[r.indexOf(c)]=null),xe.__e(D,e,t)}}function W1(n,e){xe.__c&&xe.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){xe.__e(i,t.__v)}})}function R6(n,e,t,i,s,r,o,c){var h,d,g,y=t.props,b=e.props,_=e.type,S=0;if(_==="svg"&&(s=!0),r!=null){for(;S<r.length;S++)if((h=r[S])&&"setAttribute"in h==!!_&&(_?h.localName===_:h.nodeType===3)){n=h,r[S]=null;break}}if(n==null){if(_===null)return document.createTextNode(b);n=s?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,b.is&&b),r=null,c=!1}if(_===null)y===b||c&&n.data===b||(n.data=b);else{if(r=r&&Qp.call(n.childNodes),d=(y=t.props||ep).dangerouslySetInnerHTML,g=b.dangerouslySetInnerHTML,!c){if(r!=null)for(y={},S=0;S<n.attributes.length;S++)y[n.attributes[S].name]=n.attributes[S].value;(g||d)&&(g&&(d&&g.__html==d.__html||g.__html===n.innerHTML)||(n.innerHTML=g&&g.__html||""))}if(T6(n,b,y,s,c),g)e.__k=[];else if(S=e.props.children,H1(n,Array.isArray(S)?S:[S],e,t,i,s&&_!=="foreignObject",r,o,r?r[0]:t.__k&&Ih(t,0),c),r!=null)for(S=r.length;S--;)r[S]!=null&&z1(r[S]);c||("value"in b&&(S=b.value)!==void 0&&(S!==n.value||_==="progress"&&!S||_==="option"&&S!==y.value)&&tp(n,"value",S,y.value,!1),"checked"in b&&(S=b.checked)!==void 0&&S!==n.checked&&tp(n,"checked",S,y.checked,!1))}return n}function $1(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(i){xe.__e(i,t)}}function Y1(n,e,t){var i,s;if(xe.unmount&&xe.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||$1(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){xe.__e(r,e)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(s=0;s<i.length;s++)i[s]&&Y1(i[s],e,t||typeof n.type!="function");t||n.__e==null||z1(n.__e),n.__=n.__e=n.__d=void 0}function C6(n,e,t){return this.constructor(n,t)}function kh(n,e,t){var i,s,r;xe.__&&xe.__(n,e),s=(i=!1)?null:e.__k,r=[],r0(e,n=e.__k=ee(Vt,null,[n]),s||ep,ep,e.ownerSVGElement!==void 0,s?null:e.firstChild?Qp.call(e.childNodes):null,r,s?s.__e:e.firstChild,i),W1(r,n)}function D6(n,e){var t={__c:e="__cC"+V1++,__:n,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,r;return this.getChildContext||(s=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(c){c.__e=!0,Ib(c)})},this.sub=function(o){s.push(o);var c=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),c&&c.call(o)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}Qp=U1.slice,xe={__e:function(n,e,t,i){for(var s,r,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((r=s.constructor)&&r.getDerivedStateFromError!=null&&(s.setState(r.getDerivedStateFromError(n)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(n,i||{}),o=s.__d),o)return s.__E=s}catch(c){n=c}throw n}},P1=0,j1=function(n){return n!=null&&n.constructor===void 0},gc=!1,ri.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ua({},this.state),typeof n=="function"&&(n=n(ua({},t),this.props)),n&&ua(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),Ib(this))},ri.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Ib(this))},ri.prototype.render=Vt,So=[],L1=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,np.__r=0,V1=0;var ys,xv,nx,Q1=[],Rv=[],ix=xe.__b,sx=xe.__r,rx=xe.diffed,ax=xe.__c,ox=xe.unmount;function I6(){for(var n;n=Q1.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(bg),n.__H.__h.forEach(kb),n.__H.__h=[]}catch(e){n.__H.__h=[],xe.__e(e,n.__v)}}xe.__b=function(n){ys=null,ix&&ix(n)},xe.__r=function(n){sx&&sx(n);var e=(ys=n.__c).__H;e&&(xv===ys?(e.__h=[],ys.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=Rv,t.__N=t.i=void 0})):(e.__h.forEach(bg),e.__h.forEach(kb),e.__h=[])),xv=ys},xe.diffed=function(n){rx&&rx(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(Q1.push(e)!==1&&nx===xe.requestAnimationFrame||((nx=xe.requestAnimationFrame)||k6)(I6)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==Rv&&(t.__=t.__V),t.i=void 0,t.__V=Rv})),xv=ys=null},xe.__c=function(n,e){e.some(function(t){try{t.__h.forEach(bg),t.__h=t.__h.filter(function(i){return!i.__||kb(i)})}catch(i){e.some(function(s){s.__h&&(s.__h=[])}),e=[],xe.__e(i,t.__v)}}),ax&&ax(n,e)},xe.unmount=function(n){ox&&ox(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{bg(i)}catch(s){e=s}}),t.__H=void 0,e&&xe.__e(e,t.__v))};var lx=typeof requestAnimationFrame=="function";function k6(n){var e,t=function(){clearTimeout(i),lx&&cancelAnimationFrame(e),setTimeout(n)},i=setTimeout(t,100);lx&&(e=requestAnimationFrame(t))}function bg(n){var e=ys,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),ys=e}function kb(n){var e=ys;n.__c=n.__(),ys=e}function N6(n,e){for(var t in e)n[t]=e[t];return n}function cx(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&n[i]!==e[i])return!0;return!1}function ux(n){this.props=n}(ux.prototype=new ri).isPureReactComponent=!0,ux.prototype.shouldComponentUpdate=function(n,e){return cx(this.props,n)||cx(this.state,e)};var hx=xe.__b;xe.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),hx&&hx(n)};var M6=xe.__e;xe.__e=function(n,e,t,i){if(n.then){for(var s,r=e;r=r.__;)if((s=r.__c)&&s.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),s.__c(n,e)}M6(n,e,t,i)};var dx=xe.unmount;function K1(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=N6({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return K1(i,e,t)})),n}function X1(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return X1(i,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function Cv(){this.__u=0,this.t=null,this.__b=null}function Z1(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function Lf(){this.u=null,this.o=null}xe.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),dx&&dx(n)},(Cv.prototype=new ri).__c=function(n,e){var t=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(t);var s=Z1(i.__v),r=!1,o=function(){r||(r=!0,t.__R=null,s?s(c):c())};t.__R=o;var c=function(){if(!--i.__u){if(i.state.__a){var d=i.state.__a;i.__v.__k[0]=X1(d,d.__c.__P,d.__c.__O)}var g;for(i.setState({__a:i.__b=null});g=i.t.pop();)g.forceUpdate()}},h=e.__h===!0;i.__u++||h||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(o,o)},Cv.prototype.componentWillUnmount=function(){this.t=[]},Cv.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=K1(this.__b,t,i.__O=i.__P)}this.__b=null}var s=e.__a&&ee(Vt,null,n.fallback);return s&&(s.__h=null),[ee(Vt,null,e.__a?null:n.children),s]};var fx=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function O6(n){return this.getChildContext=function(){return n.context},n.children}function P6(n){var e=this,t=n.i;e.componentWillUnmount=function(){kh(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,s){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),kh(ee(O6,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function j6(n,e){var t=ee(P6,{__v:n,i:e});return t.containerInfo=e,t}(Lf.prototype=new ri).__a=function(n){var e=this,t=Z1(e.__v),i=e.o.get(n);return i[0]++,function(s){var r=function(){e.props.revealOrder?(i.push(s),fx(e,n,i)):s()};t?t(r):r()}},Lf.prototype.render=function(n){this.u=null,this.o=new Map;var e=ip(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},Lf.prototype.componentDidUpdate=Lf.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){fx(n,t,e)})};var L6=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,V6=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,U6=typeof document<"u",z6=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};ri.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(ri.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var gx=xe.event;function B6(){}function H6(){return this.cancelBubble}function F6(){return this.defaultPrevented}xe.event=function(n){return gx&&(n=gx(n)),n.persist=B6,n.isPropagationStopped=H6,n.isDefaultPrevented=F6,n.nativeEvent=n};var px={configurable:!0,get:function(){return this.class}},mx=xe.vnode;xe.vnode=function(n){var e=n.type,t=n.props,i=t;if(typeof e=="string"){var s=e.indexOf("-")===-1;for(var r in i={},t){var o=t[r];U6&&r==="children"&&e==="noscript"||r==="value"&&"defaultValue"in t&&o==null||(r==="defaultValue"&&"value"in t&&t.value==null?r="value":r==="download"&&o===!0?o="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+e)&&!z6(t.type)?r="oninput":/^onfocus$/i.test(r)?r="onfocusin":/^onblur$/i.test(r)?r="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(r)?r=r.toLowerCase():s&&V6.test(r)?r=r.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(r)&&(r=r.toLowerCase(),i[r]&&(r="oninputCapture")),i[r]=o)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=ip(t.children).forEach(function(c){c.props.selected=i.value.indexOf(c.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=ip(t.children).forEach(function(c){c.props.selected=i.multiple?i.defaultValue.indexOf(c.props.value)!=-1:i.defaultValue==c.props.value})),n.props=i,t.class!=t.className&&(px.enumerable="className"in t,t.className!=null&&(i.class=t.className),Object.defineProperty(i,"className",px))}n.$$typeof=L6,mx&&mx(n)};var yx=xe.__r;xe.__r=function(n){yx&&yx(n),n.__c};const J1=[],Nb=new Map;function ek(n){J1.push(n),Nb.forEach(e=>{nk(e,n)})}function q6(n){n.isConnected&&n.getRootNode&&tk(n.getRootNode())}function tk(n){let e=Nb.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=W6();t&&(e.nonce=t);const i=n===document?document.head:n,s=n===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,s)}Nb.set(n,e),G6(e)}}function G6(n){for(const e of J1)nk(n,e)}function nk(n,e){const{sheet:t}=n,i=t.cssRules.length;e.split("}").forEach((s,r)=>{s=s.trim(),s&&t.insertRule(s+"}",i+r)})}let Dv;function W6(){return Dv===void 0&&(Dv=$6()),Dv}function $6(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&tk(document);var Y6=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';ek(Y6);class a0{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:i}=this;e in i&&(t?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function o0(n){n.parentNode&&n.parentNode.removeChild(n)}function Dn(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(Q6(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function Q6(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function K6(n,e){let t=n instanceof HTMLElement?[n]:n,i=[];for(let s=0;s<t.length;s+=1){let r=t[s].querySelectorAll(e);for(let o=0;o<r.length;o+=1)i.push(r[o])}return i}const X6=/(top|left|right|bottom|width|height)$/i;function hh(n,e){for(let t in e)ik(n,t,e[t])}function ik(n,e,t){t==null?n.style[e]="":typeof t=="number"&&X6.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function sk(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let vx=0;function Kp(){return vx+=1,"fc-dom-"+vx}function Xp(n){n.preventDefault()}function Z6(n,e){return t=>{let i=Dn(t.target,n);i&&e.call(i,t,i)}}function rk(n,e,t,i){let s=Z6(t,i);return n.addEventListener(e,s),()=>{n.removeEventListener(e,s)}}function J6(n,e,t,i){let s;return rk(n,"mouseover",e,(r,o)=>{if(o!==s){s=o,t(r,o);let c=h=>{s=null,i(h,o),o.removeEventListener("mouseleave",c)};o.addEventListener("mouseleave",c)}})}const bx=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function e5(n,e){let t=i=>{e(i),bx.forEach(s=>{n.removeEventListener(s,t)})};bx.forEach(i=>{n.addEventListener(i,t)})}function ak(n){return Object.assign({onClick:n},ok(n))}function ok(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let _x=0;function Yo(){return _x+=1,String(_x)}function l0(){document.body.classList.add("fc-not-allowed")}function c0(){document.body.classList.remove("fc-not-allowed")}function t5(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",Xp)}function n5(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",Xp)}function i5(n){n.addEventListener("contextmenu",Xp)}function s5(n){n.removeEventListener("contextmenu",Xp)}function r5(n){let e=[],t=[],i,s;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)s=t[i],typeof s=="string"?e.push(s.charAt(0)==="-"?{field:s.substring(1),order:-1}:{field:s,order:1}):typeof s=="function"&&e.push({func:s});return e}function a5(n,e,t){let i,s;for(i=0;i<t.length;i+=1)if(s=o5(n,e,t[i]),s)return s;return 0}function o5(n,e,t){return t.func?t.func(n,e):l5(n[t.field],e[t.field])*(t.order||1)}function l5(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function Iv(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function dh(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((i,s,r)=>i.replace("$"+r,s||""),n):t}function c5(n,e){return n-e}function kv(n){return n%1===0}function u5(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const h5=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function tt(n,e){return typeof n=="string"?d5(n):typeof n=="object"&&n?Ex(n):typeof n=="number"?Ex({[e||"milliseconds"]:n}):null}function d5(n){let e=h5.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function Ex(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function f5(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function g5(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function p5(n){return nc(n)/365}function m5(n){return nc(n)/30}function nc(n){return Nh(n)/864e5}function Nh(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function Mb(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function Da(n,e,t){if(n===e)return!0;let i=n.length,s;if(i!==e.length)return!1;for(s=0;s<i;s+=1)if(!(t?t(n[s],e[s]):n[s]===e[s]))return!1;return!0}const y5=["sun","mon","tue","wed","thu","fri","sat"];function wx(n,e){let t=ha(n);return t[2]+=e*7,Yn(t)}function Nn(n,e){let t=ha(n);return t[2]+=e,Yn(t)}function Ia(n,e){let t=ha(n);return t[6]+=e,Yn(t)}function v5(n,e){return Cc(n,e)/7}function Cc(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function b5(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function _5(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function E5(n,e){return(e.valueOf()-n.valueOf())/1e3}function w5(n,e){let t=vt(n),i=vt(e);return{years:0,months:0,days:Math.round(Cc(t,i)),milliseconds:e.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}function S5(n,e){let t=sp(n,e);return t!==null&&t%7===0?t/7:null}function sp(n,e){return da(n)===da(e)?Math.round(Cc(n,e)):null}function vt(n){return Yn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function A5(n){return Yn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function T5(n){return Yn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function x5(n){return Yn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function R5(n,e,t){let i=n.getUTCFullYear(),s=Nv(n,i,e,t);if(s<1)return Nv(n,i-1,e,t);let r=Nv(n,i+1,e,t);return r>=1?Math.min(s,r):s}function Nv(n,e,t,i){let s=Yn([e,0,1+C5(e,t,i)]),r=vt(n),o=Math.round(Cc(s,r));return Math.floor(o/7)+1}function C5(n,e,t){let i=7+e-t;return-((7+Yn([n,0,i]).getUTCDay()-e)%7)+i-1}function Sx(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function Ax(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function ha(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Yn(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function lk(n){return!isNaN(n.valueOf())}function da(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function D5(n,e,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",h0(e,!0)))),i}function u0(n){return n.toISOString().replace(/T.*$/,"")}function I5(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function h0(n,e=!1){let t=n<0?"-":"+",i=Math.abs(n),s=Math.floor(i/60),r=Math.round(i%60);return e?`${t+Iv(s,2)}:${Iv(r,2)}`:`GMT${t}${s}${r?`:${Iv(r,2)}`:""}`}function nt(n,e,t){let i,s;return function(...r){if(!i)s=n.apply(this,r);else if(!Da(i,r)){let o=n.apply(this,r);(!e||!e(o,s))&&(s=o)}return i=r,s}}function _g(n,e,t){let i,s;return r=>(i?xs(i,r)||(s=n.call(this,r)):s=n.call(this,r),i=r,s)}const Tx={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},rp={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Vf=/\s*([ap])\.?m\.?/i,k5=/,/g,N5=/\s+/g,M5=/\u200e/g,O5=/UTC|GMT/;class P5{constructor(e){let t={},i={},s=0;for(let r in e)r in Tx?(i[r]=e[r],s=Math.max(Tx[r],s)):(t[r]=e[r],r in rp&&(s=Math.max(rp[r],s)));this.standardDateProps=t,this.extendedSettings=i,this.severity=s,this.buildFormattingFunc=nt(xx)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,i,s){let{standardDateProps:r,extendedSettings:o}=this,c=B5(e.marker,t.marker,i.calendarSystem);if(!c)return this.format(e,i);let h=c;h>1&&(r.year==="numeric"||r.year==="2-digit")&&(r.month==="numeric"||r.month==="2-digit")&&(r.day==="numeric"||r.day==="2-digit")&&(h=1);let d=this.format(e,i),g=this.format(t,i);if(d===g)return d;let y=H5(r,h),b=xx(y,o,i),_=b(e),S=b(t),T=F5(d,_,g,S),A=o.separator||s||i.defaultSeparator||"";return T?T.before+_+A+S+T.after:d+A+g}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function xx(n,e,t){let i=Object.keys(n).length;return i===1&&n.timeZoneName==="short"?s=>h0(s.timeZoneOffset):i===0&&e.week?s=>z5(t.computeWeekNumber(s.marker),t.weekText,t.weekTextLong,t.locale,e.week):j5(n,e,t)}function j5(n,e,t){n=Object.assign({},n),e=Object.assign({},e),L5(n,e),n.timeZone="UTC";let i=new Intl.DateTimeFormat(t.locale.codes,n),s;if(e.omitZeroMinute){let r=Object.assign({},n);delete r.minute,s=new Intl.DateTimeFormat(t.locale.codes,r)}return r=>{let{marker:o}=r,c;s&&!o.getUTCMinutes()?c=s:c=i;let h=c.format(o);return V5(h,r,n,e,t)}}function L5(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function V5(n,e,t,i,s){return n=n.replace(M5,""),t.timeZoneName==="short"&&(n=U5(n,s.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":h0(e.timeZoneOffset))),i.omitCommas&&(n=n.replace(k5,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),i.meridiem===!1?n=n.replace(Vf,"").trim():i.meridiem==="narrow"?n=n.replace(Vf,(r,o)=>o.toLocaleLowerCase()):i.meridiem==="short"?n=n.replace(Vf,(r,o)=>`${o.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(n=n.replace(Vf,r=>r.toLocaleLowerCase())),n=n.replace(N5," "),n=n.trim(),n}function U5(n,e){let t=!1;return n=n.replace(O5,()=>(t=!0,e)),t||(n+=` ${e}`),n}function z5(n,e,t,i,s){let r=[];return s==="long"?r.push(t):(s==="short"||s==="narrow")&&r.push(e),(s==="long"||s==="short")&&r.push(" "),r.push(i.simpleNumberFormat.format(n)),i.options.direction==="rtl"&&r.reverse(),r.join("")}function B5(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:da(n)!==da(e)?1:0}function H5(n,e){let t={};for(let i in n)(!(i in rp)||rp[i]<=e)&&(t[i]=n[i]);return t}function F5(n,e,t,i){let s=0;for(;s<n.length;){let r=n.indexOf(e,s);if(r===-1)break;let o=n.substr(0,r);s=r+e.length;let c=n.substr(s),h=0;for(;h<t.length;){let d=t.indexOf(i,h);if(d===-1)break;let g=t.substr(0,d);h=d+i.length;let y=t.substr(h);if(o===g&&c===y)return{before:o,after:c}}}return null}function Rx(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function ap(n,e,t,i){let s=Rx(n,t.calendarSystem),r=e?Rx(e,t.calendarSystem):null;return{date:s,start:s,end:r,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}class q5{constructor(e){this.cmdStr=e}format(e,t,i){return t.cmdFormatter(this.cmdStr,ap(e,null,t,i))}formatRange(e,t,i,s){return i.cmdFormatter(this.cmdStr,ap(e,t,i,s))}}class G5{constructor(e){this.func=e}format(e,t,i){return this.func(ap(e,null,t,i))}formatRange(e,t,i,s){return this.func(ap(e,t,i,s))}}function un(n){return typeof n=="object"&&n?new P5(n):typeof n=="string"?new q5(n):typeof n=="function"?new G5(n):null}const Cx={navLinkDayClick:Z,navLinkWeekClick:Z,duration:tt,bootstrapFontAwesome:Z,buttonIcons:Z,customButtons:Z,defaultAllDayEventDuration:tt,defaultTimedEventDuration:tt,nextDayThreshold:tt,scrollTime:tt,scrollTimeReset:Boolean,slotMinTime:tt,slotMaxTime:tt,dayPopoverFormat:un,slotDuration:tt,snapDuration:tt,headerToolbar:Z,footerToolbar:Z,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:un,dayHeaderClassNames:Z,dayHeaderContent:Z,dayHeaderDidMount:Z,dayHeaderWillUnmount:Z,dayCellClassNames:Z,dayCellContent:Z,dayCellDidMount:Z,dayCellWillUnmount:Z,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Z,weekNumbers:Boolean,weekNumberClassNames:Z,weekNumberContent:Z,weekNumberDidMount:Z,weekNumberWillUnmount:Z,editable:Boolean,viewClassNames:Z,viewDidMount:Z,viewWillUnmount:Z,nowIndicator:Boolean,nowIndicatorClassNames:Z,nowIndicatorContent:Z,nowIndicatorDidMount:Z,nowIndicatorWillUnmount:Z,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Z,locale:Z,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Z,eventOrder:r5,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Z,contentHeight:Z,direction:String,weekNumberFormat:un,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Z,initialDate:Z,now:Z,eventDataTransform:Z,stickyHeaderDates:Z,stickyFooterScrollbar:Z,viewHeight:Z,defaultAllDay:Boolean,eventSourceFailure:Z,eventSourceSuccess:Z,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Z,eventConstraint:Z,eventAllow:Z,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Z,eventContent:Z,eventDidMount:Z,eventWillUnmount:Z,selectConstraint:Z,selectOverlap:Z,selectAllow:Z,droppable:Boolean,unselectCancel:String,slotLabelFormat:Z,slotLaneClassNames:Z,slotLaneContent:Z,slotLaneDidMount:Z,slotLaneWillUnmount:Z,slotLabelClassNames:Z,slotLabelContent:Z,slotLabelDidMount:Z,slotLabelWillUnmount:Z,dayMaxEvents:Z,dayMaxEventRows:Z,dayMinWidth:Number,slotLabelInterval:tt,allDayText:String,allDayClassNames:Z,allDayContent:Z,allDayDidMount:Z,allDayWillUnmount:Z,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:un,rerenderDelay:Number,moreLinkText:Z,moreLinkHint:Z,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Z,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:tt,hiddenDays:Z,fixedWeekCount:Boolean,validRange:Z,visibleRange:Z,titleFormat:Z,eventInteractive:Boolean,noEventsText:String,viewHint:Z,navLinkHint:Z,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Z,moreLinkClassNames:Z,moreLinkContent:Z,moreLinkDidMount:Z,moreLinkWillUnmount:Z,monthStartFormat:un,handleCustomRendering:Z,customRenderingMetaMap:Z,customRenderingReplaces:Boolean},fh={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},Dx={datesSet:Z,eventsSet:Z,eventAdd:Z,eventChange:Z,eventRemove:Z,windowResize:Z,eventClick:Z,eventMouseEnter:Z,eventMouseLeave:Z,select:Z,unselect:Z,loading:Z,_unmount:Z,_beforeprint:Z,_afterprint:Z,_noEventDrop:Z,_noEventResize:Z,_resize:Z,_scrollRequest:Z},Ix={buttonText:Z,buttonHints:Z,views:Z,plugins:Z,initialEvents:Z,events:Z,eventSources:Z},bo={headerToolbar:_o,footerToolbar:_o,buttonText:_o,buttonHints:_o,buttonIcons:_o,dateIncrement:_o,plugins:Uf,events:Uf,eventSources:Uf,resources:Uf};function _o(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?xs(n,e):n===e}function Uf(n,e){return Array.isArray(n)&&Array.isArray(e)?Da(n,e):n===e}const W5={type:String,component:Z,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Z,usesMinMaxTime:Boolean,classNames:Z,content:Z,didMount:Z,willUnmount:Z};function Mv(n){return f0(n,bo)}function d0(n,e){let t={},i={};for(let s in e)s in n&&(t[s]=e[s](n[s]));for(let s in n)s in e||(i[s]=n[s]);return{refined:t,extra:i}}function Z(n){return n}const{hasOwnProperty:op}=Object.prototype;function f0(n,e){let t={};if(e){for(let i in e)if(e[i]===_o){let s=[];for(let r=n.length-1;r>=0;r-=1){let o=n[r][i];if(typeof o=="object"&&o)s.unshift(o);else if(o!==void 0){t[i]=o;break}}s.length&&(t[i]=f0(s))}}for(let i=n.length-1;i>=0;i-=1){let s=n[i];for(let r in s)r in t||(t[r]=s[r])}return t}function Lo(n,e){let t={};for(let i in n)e(n[i],i)&&(t[i]=n[i]);return t}function Qo(n,e){let t={};for(let i in n)t[i]=e(n[i],i);return t}function ck(n){let e={};for(let t of n)e[t]=!0;return e}function g0(n){let e=[];for(let t in n)e.push(n[t]);return e}function xs(n,e){if(n===e)return!0;for(let t in n)if(op.call(n,t)&&!(t in e))return!1;for(let t in e)if(op.call(e,t)&&n[t]!==e[t])return!1;return!0}const $5=/^on[A-Z]/;function Y5(n,e){const t=Ob(n,e);for(let i of t)if(!$5.test(i))return!1;return!0}function Ob(n,e){let t=[];for(let i in n)op.call(n,i)&&(i in e||t.push(i));for(let i in e)op.call(e,i)&&n[i]!==e[i]&&t.push(i);return t}function Ov(n,e,t={}){if(n===e)return!0;for(let i in e)if(!(i in n&&Q5(n[i],e[i],t[i])))return!1;for(let i in n)if(!(i in e))return!1;return!0}function Q5(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function K5(n,e=0,t,i=1){let s=[];t==null&&(t=Object.keys(n).length);for(let r=e;r<t;r+=i){let o=n[r];o!==void 0&&s.push(o)}return s}let uk={};function X5(n,e){uk[n]=e}function Z5(n){return new uk[n]}class J5{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Yn(e)}markerToArray(e){return ha(e)}}X5("gregory",J5);const eF=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function tF(n){let e=eF.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(lk(t)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}class nF{constructor(e){let t=this.timeZone=e.timeZone,i=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=Z5(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Yn(Sx(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Yn(e)),t===null||!lk(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=tF(e);if(t===null)return null;let{marker:i}=t,s=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-t.timeZoneOffset*60*1e3):s=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:s}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(e,t){let i=this.calendarSystem.markerToArray(e);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,t){let{calendarSystem:i}=this;return da(e)===da(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)&&i.getMarkerMonth(e)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:i}=this;return da(e)===da(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(e)+(i.getMarkerYear(t)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let i=this.diffWholeYears(e,t);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,t),i!==null?{unit:"month",value:i}:(i=S5(e,t),i!==null?{unit:"week",value:i}:(i=sp(e,t),i!==null?{unit:"day",value:i}:(i=b5(e,t),kv(i)?{unit:"hour",value:i}:(i=_5(e,t),kv(i)?{unit:"minute",value:i}:(i=E5(e,t),kv(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,i){let s;return i.years&&(s=this.diffWholeYears(e,t),s!==null)?s/p5(i):i.months&&(s=this.diffWholeMonths(e,t),s!==null)?s/m5(i):i.days&&(s=sp(e,t),s!==null)?s/nc(i):(t.valueOf()-e.valueOf())/Nh(i)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?vt(e):t==="hour"?A5(e):t==="minute"?T5(e):t==="second"?x5(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):R5(e,this.weekDow,this.weekDoy)}format(e,t,i={}){return t.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,i,s={}){return s.isEndExclusive&&(t=Ia(t,-1)),i.formatRange({marker:e,timeZoneOffset:s.forcedStartTzo!=null?s.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:s.forcedEndTzo!=null?s.forcedEndTzo:this.offsetForMarker(t)},this,s.defaultSeparator)}formatIso(e,t={}){let i=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?i=t.forcedTzo:i=this.offsetForMarker(e)),D5(e,i,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Yn(Sx(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Yn(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-Ax(ha(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(ha(e)):null}toDate(e,t){return this.timeZone==="local"?Ax(ha(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(ha(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class nd{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,i;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(i in e)t[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let i;return t&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}nd.prototype.classes={};nd.prototype.iconClasses={};nd.prototype.baseIconClass="";nd.prototype.iconOverridePrefix="";function lp(n){n();let e=xe.debounceRendering,t=[];function i(s){t.push(s)}for(xe.debounceRendering=i,kh(ee(iF,{}),document.createElement("div"));t.length;)t.shift()();xe.debounceRendering=e}class iF extends ri{render(){return ee("div",{})}componentDidMount(){this.setState({})}}function hk(n){let e=D6(n),t=e.Provider;return e.Provider=function(){let i=!this.getChildContext,s=t.apply(this,arguments);if(i){let r=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&r.forEach(c=>{c.context=o.value,c.forceUpdate()})},this.sub=o=>{r.push(o);let c=o.componentWillUnmount;o.componentWillUnmount=()=>{r.splice(r.indexOf(o),1),c&&c.call(o)}}}return s},e}class sF{constructor(e,t,i,s){this.execFunc=e,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=s,this.handleScrollRequest=r=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},r),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Ko=hk({});function rF(n,e,t,i,s,r,o,c,h,d,g,y,b){return{dateEnv:s,options:t,pluginHooks:o,emitter:d,dispatch:c,getCurrentData:h,calendarApi:g,viewSpec:n,viewApi:e,dateProfileGenerator:i,theme:r,isRtl:t.direction==="rtl",addResizeHandler(_){d.on("_resize",_)},removeResizeHandler(_){d.off("_resize",_)},createScrollResponder(_){return new sF(_,d,tt(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:y,unregisterInteractiveComponent:b}}class Xo extends ri{shouldComponentUpdate(e,t){return this.debug&&console.log(Ob(e,this.props),Ob(t,this.state)),!Ov(this.props,e,this.propEquality)||!Ov(this.state,t,this.stateEquality)}safeSetState(e){Ov(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Xo.addPropsEquality=aF;Xo.addStateEquality=oF;Xo.contextType=Ko;Xo.prototype.propEquality={};Xo.prototype.stateEquality={};class Rt extends Xo{}Rt.contextType=Ko;function aF(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function oF(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function _r(n,e){typeof n=="function"?n(e):n&&(n.current=e)}class p0 extends Rt{constructor(){super(...arguments),this.id=Yo(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:i}=this.props;(!t.customRenderingReplaces||!Pb(i,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&_r(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:i}=t,{customGenerator:s,defaultGenerator:r,renderProps:o}=e,c=dk(e,[],this.handleEl);let h=!1,d,g=[],y;if(s!=null){const b=typeof s=="function"?s(o,ee):s;if(b===!0)h=!0;else{const _=b&&typeof b=="object";_&&"html"in b?c.dangerouslySetInnerHTML={__html:b.html}:_&&"domNodes"in b?g=Array.prototype.slice.call(b.domNodes):(_?j1(b):typeof b!="function")?d=b:y=b}}else h=!Pb(e.generatorName,i);return h&&r&&(d=r(o)),this.queuedDomNodes=g,this.currentGeneratorMeta=y,ee(e.elTag,c,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:i,context:s}=this,{handleCustomRendering:r,customRenderingMetaMap:o}=s.options;if(r){const c=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:o==null?void 0:o[i.generatorName];c&&r(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:c},i),{elClasses:(i.elClasses||[]).filter(lF)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,i=this.base;if(!Da(e,t)){t.forEach(o0);for(let s of e)i.appendChild(s);this.currentDomNodes=e}}}p0.addPropsEquality({elClasses:Da,elStyle:xs,elAttrs:Y5,renderProps:xs});function Pb(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function dk(n,e,t){const i=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(i.className=(n.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),n.elStyle&&(i.style=n.elStyle),i}function lF(n){return!!n}const fk=hk(0);class Er extends ri{constructor(){super(...arguments),this.InnerContent=cF.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(_r(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=uF(e.classNameGenerator,e.renderProps);if(e.children){const i=dk(e,t,this.handleEl),s=e.children(this.InnerContent,e.renderProps,i);return e.elTag?ee(e.elTag,i,s):s}else return ee(p0,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Er.contextType=fk;function cF(n,e){const t=n.props;return ee(p0,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function uF(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}class kx extends Rt{render(){let{props:e,context:t}=this,{options:i}=t,s={view:t.viewApi};return ee(Er,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...gk(e.viewSpec),...e.elClasses||[]],renderProps:s,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>e.children)}}function gk(n){return[`fc-${n.type}-view`,"fc-view"]}function hF(n,e){let t=null,i=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(i=e.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}function Nx(n,e){let t=[],{start:i}=e,s,r;for(n.sort(dF),s=0;s<n.length;s+=1)r=n[s],r.start>i&&t.push({start:i,end:r.start}),r.end>i&&(i=r.end);return i<e.end&&t.push({start:i,end:e.end}),t}function dF(n,e){return n.start.valueOf()-e.start.valueOf()}function pc(n,e){let{start:t,end:i}=n,s=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(t===null||i===null||t<i)&&(s={start:t,end:i}),s}function fF(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function m0(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function Zp(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function _a(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function gF(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function pk(n){let e=Math.floor(Cc(n.start,n.end))||1,t=vt(n.start),i=Nn(t,e);return{start:t,end:i}}function mk(n,e=tt(0)){let t=null,i=null;if(n.end){i=vt(n.end);let s=n.end.valueOf()-i.valueOf();s&&s>=Nh(e)&&(i=Nn(i,1))}return n.start&&(t=vt(n.start),i&&i<=t&&(i=Nn(t,1))),{start:t,end:i}}function Xl(n,e,t,i){return i==="year"?tt(t.diffWholeYears(n,e),"year"):i==="month"?tt(t.diffWholeMonths(n,e),"month"):w5(n,e)}function pF(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function mF(n,e){let t=n.initialDate;return t!=null?e.createMarker(t):id(n.now,e)}function id(n,e){return typeof n=="function"&&(n=n()),n==null?e.createNowMarker():e.createMarker(n)}class yk{constructor(e){this.props=e,this.nowDate=id(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,i){let{dateEnv:s}=this.props,r=s.subtract(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(r,-1,i)}buildNext(e,t,i){let{dateEnv:s}=this.props,r=s.add(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(r,1,i)}build(e,t,i=!0){let{props:s}=this,r,o,c,h,d,g;return r=this.buildValidRange(),r=this.trimHiddenDays(r),i&&(e=gF(e,r)),o=this.buildCurrentRangeInfo(e,t),c=/^(year|month|week|day)$/.test(o.unit),h=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,c),h=this.trimHiddenDays(h),d=h,s.showNonCurrentDates||(d=pc(d,o.range)),d=this.adjustActiveRange(d),d=pc(d,r),g=m0(o.range,r),_a(h,e)||(e=h.start),{currentDate:e,validRange:r,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:c,activeRange:d,renderRange:h,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:g,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:i}=this,s=null,r=null,o=null,c;return i.duration?(s=i.duration,r=i.durationUnit,o=this.buildRangeFromDuration(e,t,s,r)):(c=this.props.dayCount)?(r="day",o=this.buildRangeFromDayCount(e,t,c)):(o=this.buildCustomVisibleRange(e))?r=i.dateEnv.greatestWholeUnit(o.start,o.end).unit:(s=this.getFallbackDuration(),r=Mb(s).unit,o=this.buildRangeFromDuration(e,t,s,r)),{duration:s,unit:r,range:o}}getFallbackDuration(){return tt({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:s,slotMaxTime:r}=this.props,{start:o,end:c}=e;return i&&(nc(s)<0&&(o=vt(o),o=t.add(o,s)),nc(r)>1&&(c=vt(c),c=Nn(c,-1),c=t.add(c,r))),{start:o,end:c}}buildRangeFromDuration(e,t,i,s){let{dateEnv:r,dateAlignment:o}=this.props,c,h,d;if(!o){let{dateIncrement:y}=this.props;y&&Nh(y)<Nh(i)?o=Mb(y).unit:o=s}nc(i)<=1&&this.isHiddenDay(c)&&(c=this.skipHiddenDays(c,t),c=vt(c));function g(){c=r.startOf(e,o),h=r.add(c,i),d={start:c,end:h}}return g(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,t),g()),d}buildRangeFromDayCount(e,t,i){let{dateEnv:s,dateAlignment:r}=this.props,o=0,c=e,h;r&&(c=s.startOf(c,r)),c=vt(c),c=this.skipHiddenDays(c,t),h=c;do h=Nn(h,1),this.isHiddenDay(h)||(o+=1);while(o<i);return{start:c,end:h}}buildCustomVisibleRange(e){let{props:t}=this,i=t.visibleRangeInput,s=typeof i=="function"?i.call(t.calendarApi,t.dateEnv.toDate(e)):i,r=this.refineRange(s);return r&&(r.start==null||r.end==null)?null:r}buildRenderRange(e,t,i){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,i;return t||((i=this.props.dateAlignment)?tt(1,i):e||tt({days:1}))}refineRange(e){if(e){let t=hF(e,this.props.dateEnv);return t&&(t=mk(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],i=0,s;for(this.props.weekends===!1&&e.push(0,6),s=0;s<7;s+=1)(t[s]=e.indexOf(s)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:i}=e;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),t==null||i==null||t<i?{start:t,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?t:0)+7)%7];)e=Nn(e,t);return e}}function y0(n,e,t,i){return{instanceId:Yo(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:i??null}}function yF(n,e,t,i){for(let s=0;s<i.length;s+=1){let r=i[s].parse(n,t);if(r){let{allDay:o}=n;return o==null&&(o=e,o==null&&(o=r.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:r.duration,typeData:r.typeData,typeId:s}}}return null}function Vo(n,e,t){let{dateEnv:i,pluginHooks:s,options:r}=t,{defs:o,instances:c}=n;c=Lo(c,h=>!o[h.defId].recurringDef);for(let h in o){let d=o[h];if(d.recurringDef){let{duration:g}=d.recurringDef;g||(g=d.allDay?r.defaultAllDayEventDuration:r.defaultTimedEventDuration);let y=vF(d,g,e,i,s.recurringTypes);for(let b of y){let _=y0(h,{start:b,end:i.add(b,g)});c[_.instanceId]=_}}}return{defs:o,instances:c}}function vF(n,e,t,i,s){let o=s[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,e),end:t.end},i);return n.allDay&&(o=o.map(vt)),o}const Eg={id:String,groupId:String,title:String,url:String,interactive:Boolean},vk={start:Z,end:Z,date:Z,allDay:Boolean},bF=Object.assign(Object.assign(Object.assign({},Eg),vk),{extendedProps:Z});function bk(n,e,t,i,s=v0(t),r,o){let{refined:c,extra:h}=_k(n,t,s),d=EF(e,t),g=yF(c,d,t.dateEnv,t.pluginHooks.recurringTypes);if(g){let b=jb(c,h,e?e.sourceId:"",g.allDay,!!g.duration,t,r);return b.recurringDef={typeId:g.typeId,typeData:g.typeData,duration:g.duration},{def:b,instance:null}}let y=_F(c,d,t,i);if(y){let b=jb(c,h,e?e.sourceId:"",y.allDay,y.hasEnd,t,r),_=y0(b.defId,y.range,y.forcedStartTzo,y.forcedEndTzo);return o&&b.publicId&&o[b.publicId]&&(_.instanceId=o[b.publicId]),{def:b,instance:_}}return null}function _k(n,e,t=v0(e)){return d0(n,t)}function v0(n){return Object.assign(Object.assign(Object.assign({},cp),bF),n.pluginHooks.eventRefiners)}function jb(n,e,t,i,s,r,o){let c={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(o&&n.id?o[n.id]:"")||Yo(),sourceId:t,allDay:i,hasEnd:s,interactive:n.interactive,ui:up(n,r),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let h of r.pluginHooks.eventDefMemberAdders)Object.assign(c,h(n));return Object.freeze(c.ui.classNames),Object.freeze(c.extendedProps),c}function _F(n,e,t,i){let{allDay:s}=n,r,o=null,c=!1,h,d=null,g=n.start!=null?n.start:n.date;if(r=t.dateEnv.createMarkerMeta(g),r)o=r.marker;else if(!i)return null;return n.end!=null&&(h=t.dateEnv.createMarkerMeta(n.end)),s==null&&(e!=null?s=e:s=(!r||r.isTimeUnspecified)&&(!h||h.isTimeUnspecified)),s&&o&&(o=vt(o)),h&&(d=h.marker,s&&(d=vt(d)),o&&d<=o&&(d=null)),d?c=!0:i||(c=t.options.forceEventDuration||!1,d=t.dateEnv.add(o,s?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:s,hasEnd:c,range:{start:o,end:d},forcedStartTzo:r?r.forcedTzo:null,forcedEndTzo:h?h.forcedTzo:null}}function EF(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function Mh(n,e,t,i,s,r){let o=Ui(),c=v0(t);for(let h of n){let d=bk(h,e,t,i,c,s,r);d&&Lb(d,o)}return o}function Lb(n,e=Ui()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function b0(n,e){let t=n.instances[e];if(t){let i=n.defs[t.defId],s=Jp(n,r=>wF(i,r));return s.defs[i.defId]=i,s.instances[t.instanceId]=t,s}return Ui()}function wF(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function Ui(){return{defs:{},instances:{}}}function _0(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function Jp(n,e){let t=Lo(n.defs,e),i=Lo(n.instances,s=>t[s.defId]);return{defs:t,instances:i}}function SF(n,e){let{defs:t,instances:i}=n,s={},r={};for(let o in t)e.defs[o]||(s[o]=t[o]);for(let o in i)!e.instances[o]&&s[i[o].defId]&&(r[o]=i[o]);return{defs:s,instances:r}}function AF(n,e){return Array.isArray(n)?Mh(n,null,e,!0):typeof n=="object"&&n?Mh([n],null,e,!0):n!=null?String(n):null}function Mx(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}const cp={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Z,overlap:Z,allow:Z,className:Mx,classNames:Mx,color:String,backgroundColor:String,borderColor:String,textColor:String},TF={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function up(n,e){let t=AF(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function xF(n){return n.reduce(RF,TF)}function RF(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const CF={id:String,defaultAllDay:Boolean,url:String,format:String,events:Z,eventDataTransform:Z,success:Z,failure:Z};function Ek(n,e,t=wk(e)){let i;if(typeof n=="string"?i={url:n}:typeof n=="function"||Array.isArray(n)?i={events:n}:typeof n=="object"&&n&&(i=n),i){let{refined:s,extra:r}=d0(i,t),o=DF(s,e);if(o)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:Yo(),sourceDefId:o.sourceDefId,meta:o.meta,ui:up(s,e),extendedProps:r}}return null}function wk(n){return Object.assign(Object.assign(Object.assign({},cp),CF),n.pluginHooks.eventSourceRefiners)}function DF(n,e){let t=e.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let r=t[i].parseMeta(n);if(r)return{sourceDefId:i,meta:r}}return null}function IF(n,e,t,i,s){switch(e.type){case"RECEIVE_EVENTS":return kF(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,s);case"RESET_RAW_EVENTS":return NF(n,t[e.sourceId],e.rawEvents,i.activeRange,s);case"ADD_EVENTS":return MF(n,e.eventStore,i?i.activeRange:null,s);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return _0(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?Vo(n,i.activeRange,s):n;case"REMOVE_EVENTS":return SF(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return Ak(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Jp(n,r=>!r.sourceId);case"REMOVE_ALL_EVENTS":return Ui();default:return n}}function kF(n,e,t,i,s,r){if(e&&t===e.latestFetchId){let o=Mh(Sk(s,e,r),e,r);return i&&(o=Vo(o,i,r)),_0(Ak(n,e.sourceId),o)}return n}function NF(n,e,t,i,s){const{defIdMap:r,instanceIdMap:o}=PF(n);let c=Mh(Sk(t,e,s),e,s,!1,r,o);return Vo(c,i,s)}function Sk(n,e,t){let i=t.options.eventDataTransform,s=e?e.eventDataTransform:null;return s&&(n=Ox(n,s)),i&&(n=Ox(n,i)),n}function Ox(n,e){let t;if(!e)t=n;else{t=[];for(let i of n){let s=e(i);s?t.push(s):s==null&&t.push(i)}}return t}function MF(n,e,t,i){return t&&(e=Vo(e,t,i)),_0(n,e)}function Px(n,e,t){let{defs:i}=n,s=Qo(n.instances,r=>i[r.defId].allDay?r:Object.assign(Object.assign({},r),{range:{start:t.createMarker(e.toDate(r.range.start,r.forcedStartTzo)),end:t.createMarker(e.toDate(r.range.end,r.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:r.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:r.forcedEndTzo}));return{defs:i,instances:s}}function Ak(n,e){return Jp(n,t=>t.sourceId!==e)}function OF(n,e){return{defs:n.defs,instances:Lo(n.instances,t=>!e[t.instanceId])}}function PF(n){const{defs:e,instances:t}=n,i={},s={};for(let r in e){const o=e[r],{publicId:c}=o;c&&(i[c]=r)}for(let r in t){const o=t[r],c=e[o.defId],{publicId:h}=c;h&&(s[h]=r)}return{defIdMap:i,instanceIdMap:s}}class em{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){jF(this.handlers,e,t)}off(e,t){LF(this.handlers,e,t)}trigger(e,...t){let i=this.handlers[e]||[],s=this.options&&this.options[e],r=[].concat(s||[],i);for(let o of r)o.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function jF(n,e,t){(n[e]||(n[e]=[])).push(t)}function LF(n,e,t){t?n[e]&&(n[e]=n[e].filter(i=>i!==t)):delete n[e]}const VF={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function UF(n,e){return Mh(zF(n),null,e)}function zF(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},VF),t)),e}function Tk(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},E0(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function BF(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function E0(n,e){let t={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,e));return Object.assign(t,n3(n,e.dateEnv)),t}function jx(n,e,t){let{dateEnv:i,options:s}=t,r=e;return n?(r=vt(r),r=i.add(r,s.defaultAllDayEventDuration)):r=i.add(r,s.defaultTimedEventDuration),r}function w0(n,e,t,i){let s=hp(n.defs,e),r=Ui();for(let o in n.defs){let c=n.defs[o];r.defs[o]=HF(c,s[o],t,i)}for(let o in n.instances){let c=n.instances[o],h=r.defs[c.defId];r.instances[o]=FF(c,h,s[c.defId],t,i)}return r}function HF(n,e,t,i){let s=t.standardProps||{};s.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(s.hasEnd=!0);let r=Object.assign(Object.assign(Object.assign({},n),s),{ui:Object.assign(Object.assign({},n.ui),s.ui)});t.extendedProps&&(r.extendedProps=Object.assign(Object.assign({},r.extendedProps),t.extendedProps));for(let o of i.pluginHooks.eventDefMutationAppliers)o(r,t,i);return!r.hasEnd&&i.options.forceEventDuration&&(r.hasEnd=!0),r}function FF(n,e,t,i,s){let{dateEnv:r}=s,o=i.standardProps&&i.standardProps.allDay===!0,c=i.standardProps&&i.standardProps.hasEnd===!1,h=Object.assign({},n);return o&&(h.range=pk(h.range)),i.datesDelta&&t.startEditable&&(h.range={start:r.add(h.range.start,i.datesDelta),end:r.add(h.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(h.range={start:r.add(h.range.start,i.startDelta),end:h.range.end}),i.endDelta&&t.durationEditable&&(h.range={start:h.range.start,end:r.add(h.range.end,i.endDelta)}),c&&(h.range={start:h.range.start,end:jx(e.allDay,h.range.start,s)}),e.allDay&&(h.range={start:vt(h.range.start),end:vt(h.range.end)}),h.range.end<h.range.start&&(h.range.end=jx(e.allDay,h.range.start,s)),h}class Ql{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class bt{constructor(e,t,i){this._context=e,this._def=t,this._instance=i||null}setProp(e,t){if(e in vk)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=Eg[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Eg)t=Eg[e](t),this.mutate({standardProps:{[e]:t}});else if(e in cp){let i=cp[e](t);e==="color"?i={backgroundColor:t,borderColor:t}:e==="editable"?i={startEditable:t,durationEditable:t}:i={[e]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:i}=this._context,s=i.createMarker(e);if(s&&this._instance){let r=this._instance.range,o=Xl(r.start,s,i,t.granularity);t.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,t={}){let{dateEnv:i}=this._context,s;if(!(e!=null&&(s=i.createMarker(e),!s))&&this._instance)if(s){let r=Xl(this._instance.range.end,s,i,t.granularity);this.mutate({endDelta:r})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,i={}){let{dateEnv:s}=this._context,r={allDay:i.allDay},o=s.createMarker(e),c;if(o&&!(t!=null&&(c=s.createMarker(t),!c))&&this._instance){let h=this._instance.range;i.allDay===!0&&(h=pk(h));let d=Xl(h.start,o,s,i.granularity);if(c){let g=Xl(h.end,c,s,i.granularity);f5(d,g)?this.mutate({datesDelta:d,standardProps:r}):this.mutate({startDelta:d,endDelta:g,standardProps:r})}else r.hasEnd=!1,this.mutate({datesDelta:d,standardProps:r})}}moveStart(e){let t=tt(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=tt(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=tt(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let i={allDay:e},{maintainDuration:s}=t;s==null&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=s),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:t}=this._context,i=this._instance,s=un(e);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,s,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,s,{forcedTzo:i.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let i=this._def,s=this._context,{eventStore:r}=s.getCurrentData(),o=b0(r,t.instanceId);o=w0(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,s);let h=new bt(s,i,t);this._def=o.defs[i.defId],this._instance=o.instances[t.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:o}),s.emitter.trigger("eventChange",{oldEvent:h,event:this,relatedEvents:Co(o,s,t),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:r})}})}}remove(){let e=this._context,t=xk(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new Ql(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:i}=t,{startStr:s,endStr:r}=this,o={allDay:t.allDay};return t.title&&(o.title=t.title),s&&(o.start=s),r&&(o.end=r),t.publicId&&(o.id=t.publicId),t.groupId&&(o.groupId=t.groupId),t.url&&(o.url=t.url),i.display&&i.display!=="auto"&&(o.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?o.color=i.backgroundColor:(i.backgroundColor&&(o.backgroundColor=i.backgroundColor),i.borderColor&&(o.borderColor=i.borderColor)),i.textColor&&(o.textColor=i.textColor),i.classNames.length&&(o.classNames=i.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,t.extendedProps):o.extendedProps=t.extendedProps),o}toJSON(){return this.toPlainObject()}}function xk(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function Co(n,e,t){let{defs:i,instances:s}=n,r=[],o=t?t.instanceId:"";for(let c in s){let h=s[c],d=i[h.defId];h.instanceId!==o&&r.push(new bt(e,d,h))}return r}function Lx(n,e,t,i){let s={},r={},o={},c=[],h=[],d=hp(n.defs,e);for(let g in n.defs){let y=n.defs[g];d[y.defId].display==="inverse-background"&&(y.groupId?(s[y.groupId]=[],o[y.groupId]||(o[y.groupId]=y)):r[g]=[])}for(let g in n.instances){let y=n.instances[g],b=n.defs[y.defId],_=d[b.defId],S=y.range,T=!b.allDay&&i?mk(S,i):S,A=pc(T,t);A&&(_.display==="inverse-background"?b.groupId?s[b.groupId].push(A):r[y.defId].push(A):_.display!=="none"&&(_.display==="background"?c:h).push({def:b,ui:_,instance:y,range:A,isStart:T.start&&T.start.valueOf()===A.start.valueOf(),isEnd:T.end&&T.end.valueOf()===A.end.valueOf()}))}for(let g in s){let y=s[g],b=Nx(y,t);for(let _ of b){let S=o[g],T=d[S.defId];c.push({def:S,ui:T,instance:null,range:_,isStart:!1,isEnd:!1})}}for(let g in r){let y=r[g],b=Nx(y,t);for(let _ of b)c.push({def:n.defs[g],ui:d[g],instance:null,range:_,isStart:!1,isEnd:!1})}return{bg:c,fg:h}}function Vx(n,e){n.fcSeg=e}function mc(n){return n.fcSeg||n.parentNode.fcSeg||null}function hp(n,e){return Qo(n,t=>Rk(t,e))}function Rk(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),xF(t)}function qF(n,e){let t=n.map(GF);return t.sort((i,s)=>a5(i,s,e)),t.map(i=>i._seg)}function GF(n){let{eventRange:e}=n,t=e.def,i=e.instance?e.instance.range:e.range,s=i.start?i.start.valueOf():0,r=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:s,end:r,duration:r-s,allDay:Number(t.allDay),_seg:n})}function WF(n,e){let{pluginHooks:t}=e,i=t.isDraggableTransformers,{def:s,ui:r}=n.eventRange,o=r.startEditable;for(let c of i)o=c(o,s,r,e);return o}function $F(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function YF(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function Ck(n,e,t,i,s,r,o){let{dateEnv:c,options:h}=t,{displayEventTime:d,displayEventEnd:g}=h,y=n.eventRange.def,b=n.eventRange.instance;d==null&&(d=i!==!1),g==null&&(g=s!==!1);let _=b.range.start,S=b.range.end,T=n.start||n.eventRange.range.start,A=n.end||n.eventRange.range.end,I=vt(_).valueOf()===vt(T).valueOf(),M=vt(Ia(S,-1)).valueOf()===vt(Ia(A,-1)).valueOf();return d&&!y.allDay&&(I||M)?(T=I?_:T,A=M?S:A,g&&y.hasEnd?c.formatRange(T,A,e,{forcedStartTzo:b.forcedStartTzo,forcedEndTzo:b.forcedEndTzo}):c.format(T,e,{forcedTzo:b.forcedStartTzo})):""}function gh(n,e,t){let i=n.eventRange.range;return{isPast:i.end<=e.start,isFuture:i.start>=e.end,isToday:e&&_a(e,i.start)}}function QF(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function KF(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function Dk(n,e){let{def:t,instance:i}=n.eventRange,{url:s}=t;if(s)return{href:s};let{emitter:r,options:o}=e,{eventInteractive:c}=o;return c==null&&(c=t.interactive,c==null&&(c=!!r.hasHandlers("eventClick"))),c?ok(h=>{r.trigger("eventClick",{el:h.target,event:new bt(e,t,i),jsEvent:h,view:e.viewApi})}):{}}const XF={start:Z,end:Z,allDay:Boolean};function ZF(n,e,t){let i=JF(n,e),{range:s}=i;if(!s.start)return null;if(!s.end){if(t==null)return null;s.end=e.add(s.start,t)}return i}function JF(n,e){let{refined:t,extra:i}=d0(n,XF),s=t.start?e.createMarkerMeta(t.start):null,r=t.end?e.createMarkerMeta(t.end):null,{allDay:o}=t;return o==null&&(o=s&&s.isTimeUnspecified&&(!r||r.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:r?r.marker:null},allDay:o},i)}function e3(n,e){return fF(n.range,e.range)&&n.allDay===e.allDay&&t3(n,e)}function t3(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function n3(n,e){return Object.assign(Object.assign({},kk(n.range,e,n.allDay)),{allDay:n.allDay})}function Ik(n,e,t){return Object.assign(Object.assign({},kk(n,e,t)),{timeZone:e.timeZone})}function kk(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function i3(n,e,t){let i=_k({editable:!1},t),s=jb(i.refined,i.extra,"",n.allDay,!0,t);return{def:s,ui:Rk(s,e),instance:y0(s.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function s3(n,e,t){let i=!1,s=function(c){i||(i=!0,e(c))},r=function(c){i||(i=!0,t(c))},o=n(s,r);o&&typeof o.then=="function"&&o.then(s,r)}class Ux extends Error{constructor(e,t){super(e),this.response=t}}function r3(n,e,t){n=n.toUpperCase();const i={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(s=>{if(s.ok)return s.json().then(r=>[r,s],()=>{throw new Ux("Failure parsing JSON",s)});throw new Ux("Request failed",s)})}let Pv;function Nk(){return Pv==null&&(Pv=a3()),Pv}function a3(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}class o3 extends Rt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{lp(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{lp(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:i}=this.state,s=i||t.height==="auto"||t.contentHeight==="auto",r=!s&&t.height!=null?t.height:"",o=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return Nk()||o.push("fc-liquid-hack"),e.children(o,r,s,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let Dc=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function l3(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function S0(n){return{[n.component.uid]:n}}const Vb={};class c3{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let i=this.getCurrentData(),s;t=t||"day",s=i.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),s?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),s=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),r,o;for(let c in t)s.push(c);for(r=0;r<s.length;r+=1)if(o=t[s[r]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:id(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),i=tt(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),un(t))}formatRange(e,t,i){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(e),s.createMarker(t),un(i),i)}formatIso(e,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:t})}select(e,t){let i;t==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:t};let s=this.getCurrentData(),r=ZF(i,s.dateEnv,tt({days:1}));r&&(this.dispatch({type:"SELECT_DATES",selection:r}),Tk(r,null,s))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),BF(e,t))}addEvent(e,t){if(e instanceof bt){let o=e._def,c=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Lb({def:o,instance:c})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),s;if(t instanceof Ql)s=t.internalEventSource;else if(typeof t=="boolean")t&&([s]=g0(i.eventSources));else if(t!=null){let o=this.getEventSourceById(t);if(!o)return console.warn(`Could not find an event source with ID "${t}"`),null;s=o.internalEventSource}let r=bk(e,s,i,!1);if(r){let o=new bt(i,r.def,r.def.recurringDef?null:r.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Lb(r)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:xk(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:i,instances:s}=t.eventStore;e=String(e);for(let r in i){let o=i[r];if(o.publicId===e){if(o.recurringDef)return new bt(t,o,null);for(let c in s){let h=s[c];if(h.defId===o.defId)return new bt(t,o,h)}}}return null}getEvents(){let e=this.getCurrentData();return Co(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,i=[];for(let s in t)i.push(new Ql(e,t[s]));return i}getEventSourceById(e){let t=this.getCurrentData(),i=t.eventSources;e=String(e);for(let s in i)if(i[s].publicId===e)return new Ql(t,i[s]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof Ql)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=Ek(e,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new Ql(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=tt(e);t&&this.trigger("_scrollRequest",{time:t})}}function u3(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function Mk(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function h3(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function d3(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function f3(n,e){return{left:n.left-e.left,top:n.top-e.top}}function Ok(n,e,t,i){return{dow:n.getUTCDay(),isDisabled:!!(i&&!_a(i.activeRange,n)),isOther:!!(i&&!_a(i.currentRange,n)),isToday:!!(e&&_a(e,n)),isPast:!!(e&&n<e.start),isFuture:!!(e&&n>=e.end)}}function A0(n,e){let t=["fc-day",`fc-day-${y5[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const g3=un({year:"numeric",month:"long",day:"numeric"}),p3=un({week:"long"});function Ub(n,e,t="day",i=!0){const{dateEnv:s,options:r,calendarApi:o}=n;let c=s.format(e,t==="week"?p3:g3);if(r.navLinks){let h=s.toDate(e);const d=g=>{let y=t==="day"?r.navLinkDayClick:t==="week"?r.navLinkWeekClick:null;typeof y=="function"?y.call(o,s.toDate(e),g):(typeof y=="string"&&(t=y),o.zoomTo(e,t))};return Object.assign({title:dh(r.navLinkHint,[c,h],c),"data-navlink":""},i?ak(d):{onClick:d})}return{"aria-label":c}}let jv=null;function m3(){return jv===null&&(jv=y3()),jv}function y3(){let n=document.createElement("div");hh(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return o0(n),t}let Lv;function v3(){return Lv||(Lv=b3()),Lv}function b3(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=Pk(n);return document.body.removeChild(n),e}function Pk(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function _3(n,e=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,s=parseInt(t.borderRightWidth,10)||0,r=parseInt(t.borderTopWidth,10)||0,o=parseInt(t.borderBottomWidth,10)||0,c=Pk(n),h=c.y-i-s,d=c.x-r-o,g={borderLeft:i,borderRight:s,borderTop:r,borderBottom:o,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return m3()&&t.direction==="rtl"?g.scrollbarLeft=h:g.scrollbarRight=h,e&&(g.paddingLeft=parseInt(t.paddingLeft,10)||0,g.paddingRight=parseInt(t.paddingRight,10)||0,g.paddingTop=parseInt(t.paddingTop,10)||0,g.paddingBottom=parseInt(t.paddingBottom,10)||0),g}function E3(n,e=!1,t){let i=T0(n),s=_3(n,e),r={left:i.left+s.borderLeft+s.scrollbarLeft,right:i.right-s.borderRight-s.scrollbarRight,top:i.top+s.borderTop,bottom:i.bottom-s.borderBottom-s.scrollbarBottom};return e&&(r.left+=s.paddingLeft,r.right-=s.paddingRight,r.top+=s.paddingTop,r.bottom-=s.paddingBottom),r}function T0(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function w3(n){let e=jk(n),t=n.getBoundingClientRect();for(let i of e){let s=Mk(t,i.getBoundingClientRect());if(s)t=s;else return null}return t}function jk(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}class dp{constructor(e,t,i,s){this.els=t;let r=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(r.left),s&&this.buildElVerticals(r.top)}buildElHorizontals(e){let t=[],i=[];for(let s of this.els){let r=s.getBoundingClientRect();t.push(r.left-e),i.push(r.right-e)}this.lefts=t,this.rights=i}buildElVerticals(e){let t=[],i=[];for(let s of this.els){let r=s.getBoundingClientRect();t.push(r.top-e),i.push(r.bottom-e)}this.tops=t,this.bottoms=i}leftToIndex(e){let{lefts:t,rights:i}=this,s=t.length,r;for(r=0;r<s;r+=1)if(e>=t[r]&&e<i[r])return r}topToIndex(e){let{tops:t,bottoms:i}=this,s=t.length,r;for(r=0;r<s;r+=1)if(e>=t[r]&&e<i[r])return r}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return zf(this.tops||[],e.tops||[])&&zf(this.bottoms||[],e.bottoms||[])&&zf(this.lefts||[],e.lefts||[])&&zf(this.rights||[],e.rights||[])}}function zf(n,e){const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(e[i]))return!1;return!0}class x0{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class S3 extends x0{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class A3 extends x0{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Zo extends Rt{constructor(){super(...arguments),this.uid=Yo()}prepareHits(){}queryHit(e,t,i,s){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Dn(e,".fc-event-mirror")}isValidDateDownEl(e){return!Dn(e,".fc-event:not(.fc-bg-event)")&&!Dn(e,".fc-more-link")&&!Dn(e,"a[data-navlink]")&&!Dn(e,".fc-popover")}}class T3{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let i of e)this.insertEntry(i,t);return t}insertEntry(e,t){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,i){if(this.allowReslicing&&e.touchingEntry){const s=Object.assign(Object.assign({},t),{span:Lk(t.span,e.touchingEntry.span)});i.push(s),this.splitEntry(t,e.touchingEntry,i)}else i.push(t)}splitEntry(e,t,i){let s=e.span,r=t.span;s.start<r.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:r.start}},i),s.end>r.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.end,end:s.end}},i)}insertEntryAt(e,t){let{entriesByLevel:i,levelCoords:s}=this;t.lateral===-1?(Vv(s,t.level,t.levelCoord),Vv(i,t.level,[e])):Vv(i[t.level],t.lateral,e),this.stackCnts[ph(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:i,strictOrder:s,stackCnts:r}=this,o=t.length,c=0,h=-1,d=-1,g=null,y=0;for(let S=0;S<o;S+=1){const T=t[S];if(!s&&T>=c+this.getEntryThickness(e))break;let A=i[S],I,M=Bx(A,e.span.start,zx),j=M[0]+M[1];for(;(I=A[j])&&I.span.start<e.span.end;){let H=T+this.getEntryThickness(I);H>c&&(c=H,g=I,h=S,d=j),H===c&&(y=Math.max(y,r[ph(I)]+1)),j+=1}}let b=0;if(g)for(b=h+1;b<o&&t[b]<c;)b+=1;let _=-1;return b<o&&t[b]===c&&(_=Bx(i[b],e.span.end,zx)[0]),{touchingLevel:h,touchingLateral:d,touchingEntry:g,stackCnt:y,levelCoord:c,level:b,lateral:_}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,i=e.length,s=[];for(let r=0;r<i;r+=1){let o=e[r],c=t[r];for(let h of o)s.push(Object.assign(Object.assign({},h),{thickness:this.getEntryThickness(h),levelCoord:c}))}return s}}function zx(n){return n.span.end}function ph(n){return n.index+":"+n.span.start}function Lk(n,e){let t=Math.max(n.start,e.start),i=Math.min(n.end,e.end);return t<i?{start:t,end:i}:null}function Vv(n,e,t){n.splice(e,0,t)}function Bx(n,e,t){let i=0,s=n.length;if(!s||e<t(n[i]))return[0,0];if(e>t(n[s-1]))return[s,0];for(;i<s;){let r=Math.floor(i+(s-i)/2),o=t(n[r]);if(e<o)s=r;else if(e>o)i=r+1;else return[r,1]}return[i,0]}class x3{constructor(e,t){this.emitter=new em}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const R0={};function R3(n,e){return!n||e>10?un({weekday:"short"}):e>1?un({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):un({weekday:"long"})}const Vk="fc-col-header-cell";function Uk(n){return n.text}class C3 extends Rt{render(){let{dateEnv:e,options:t,theme:i,viewApi:s}=this.context,{props:r}=this,{date:o,dateProfile:c}=r,h=Ok(o,r.todayRange,null,c),d=[Vk].concat(A0(h,i)),g=e.format(o,r.dayHeaderFormat),y=!h.isDisabled&&r.colCnt>1?Ub(this.context,o):{},b=Object.assign(Object.assign(Object.assign({date:e.toDate(o),view:s},r.extraRenderProps),{text:g}),h);return ee(Er,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:r.colSpan,"data-date":h.isDisabled?void 0:u0(o)},r.extraDataAttrs),renderProps:b,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:Uk,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},_=>ee("div",{className:"fc-scrollgrid-sync-inner"},!h.isDisabled&&ee(_,{elTag:"a",elAttrs:y,elClasses:["fc-col-header-cell-cushion",r.isSticky&&"fc-sticky"]})))}}const D3=un({weekday:"long"});class I3 extends Rt{render(){let{props:e}=this,{dateEnv:t,theme:i,viewApi:s,options:r}=this.context,o=Nn(new Date(2592e5),e.dow),c={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},h=t.format(o,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:o},c),{view:s}),e.extraRenderProps),{text:h});return ee(Er,{elTag:"th",elClasses:[Vk,...A0(c,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:Uk,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},g=>ee("div",{className:"fc-scrollgrid-sync-inner"},ee(g,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(o,D3)}})))}}class C0 extends ri{constructor(e,t){super(e,t),this.initialNowDate=id(t.options.now,t.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:t}=this,i=Ia(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),s=t.dateEnv.startOf(i,e.unit),r=t.dateEnv.add(s,tt(1,e.unit)),o=r.valueOf()-i.valueOf();return o=Math.min(1e3*60*60*24,o),{currentState:{nowDate:s,todayRange:Hx(s)},nextState:{nowDate:r,todayRange:Hx(r)},waitMs:o}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}C0.contextType=Ko;function Hx(n){let e=vt(n),t=Nn(e,1);return{start:e,end:t}}class k3 extends Rt{constructor(){super(...arguments),this.createDayHeaderFormatter=nt(N3)}render(){let{context:e}=this,{dates:t,dateProfile:i,datesRepDistinctDays:s,renderIntro:r}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,s,t.length);return ee(C0,{unit:"day"},(c,h)=>ee("tr",{role:"row"},r&&r("day"),t.map(d=>s?ee(C3,{key:d.toISOString(),date:d,dateProfile:i,todayRange:h,colCnt:t.length,dayHeaderFormat:o}):ee(I3,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:o}))))}}function N3(n,e,t){return n||R3(e,t)}class M3{constructor(e,t){let i=e.start,{end:s}=e,r=[],o=[],c=-1;for(;i<s;)t.isHiddenDay(i)?r.push(c+.5):(c+=1,r.push(c),o.push(i)),i=Nn(i,1);this.dates=o,this.indices=r,this.cnt=o.length}sliceRange(e){let t=this.getDateDayIndex(e.start),i=this.getDateDayIndex(Nn(e.end,-1)),s=Math.max(0,t),r=Math.min(this.cnt-1,i);return s=Math.ceil(s),r=Math.floor(r),s<=r?{firstIndex:s,lastIndex:r,isStart:t===s,isEnd:i===r}:null}getDateDayIndex(e){let{indices:t}=this,i=Math.floor(Cc(this.dates[0],e));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}}class O3{constructor(e,t){let{dates:i}=e,s,r,o;if(t){for(r=i[0].getUTCDay(),s=1;s<i.length&&i[s].getUTCDay()!==r;s+=1);o=Math.ceil(i.length/s)}else o=1,s=i.length;this.rowCnt=o,this.colCnt=s,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let s=0;s<this.colCnt;s+=1)i.push(this.buildCell(t,s));e.push(i)}return e}buildCell(e,t){let i=this.daySeries.dates[e*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,i=this.daySeries.sliceRange(e),s=[];if(i){let{firstIndex:r,lastIndex:o}=i,c=r;for(;c<=o;){let h=Math.floor(c/t),d=Math.min((h+1)*t,o+1);s.push({row:h,firstCol:c%t,lastCol:(d-1)%t,isStart:i.isStart&&c===r,isEnd:i.isEnd&&d-1===o}),c=d}}return s}}class P3{constructor(){this.sliceBusinessHours=nt(this._sliceBusinessHours),this.sliceDateSelection=nt(this._sliceDateSpan),this.sliceEventStore=nt(this._sliceEventStore),this.sliceEventDrag=nt(this._sliceInteraction),this.sliceEventResize=nt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,i,s,...r){let{eventUiBases:o}=e,c=this.sliceEventStore(e.eventStore,o,t,i,...r);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,i,o,s,...r),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,i,s,...r),fgEventSegs:c.fg,bgEventSegs:c.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,t,i,...r),eventResize:this.sliceEventResize(e.eventResize,o,t,i,...r),eventSelection:e.eventSelection}}sliceNowDate(e,t,i,s,...r){return this._sliceDateSpan({range:{start:e,end:Ia(e,1)},allDay:!1},t,i,{},s,...r)}_sliceBusinessHours(e,t,i,s,...r){return e?this._sliceEventStore(Vo(e,Bf(t,!!i),s),{},t,i,...r).bg:[]}_sliceEventStore(e,t,i,s,...r){if(e){let o=Lx(e,t,Bf(i,!!s),s);return{bg:this.sliceEventRanges(o.bg,r),fg:this.sliceEventRanges(o.fg,r)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,i,s,...r){if(!e)return null;let o=Lx(e.mutatedEvents,t,Bf(i,!!s),s);return{segs:this.sliceEventRanges(o.fg,r),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,i,s,r,...o){if(!e)return[];let c=Bf(t,!!i),h=pc(e.range,c);if(h){e=Object.assign(Object.assign({},e),{range:h});let d=i3(e,s,r),g=this.sliceRange(e.range,...o);for(let y of g)y.eventRange=d;return g}return[]}sliceEventRanges(e,t){let i=[];for(let s of e)i.push(...this.sliceEventRange(s,t));return i}sliceEventRange(e,t){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:Nn(i.start,1)});let s=this.sliceRange(i,...t);for(let r of s)r.eventRange=e,r.isStart=e.isStart&&r.isStart,r.isEnd=e.isEnd&&r.isEnd;return s}}function Bf(n,e){let t=n.activeRange;return e?t:{start:Ia(t.start,n.slotMinTime.milliseconds),end:Ia(t.end,n.slotMaxTime.milliseconds-864e5)}}function zk(n,e,t){let{instances:i}=n.mutatedEvents;for(let s in i)if(!Zp(e.validRange,i[s].range))return!1;return Bk({eventDrag:n},t)}function j3(n,e,t){return Zp(e.validRange,n.range)?Bk({dateSelection:n},t):!1}function Bk(n,e){let t=e.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||L3)(i,e)}function L3(n,e,t={},i){return!(n.eventDrag&&!V3(n,e,t,i)||n.dateSelection&&!U3(n,e,t,i))}function V3(n,e,t,i){let s=e.getCurrentData(),r=n.eventDrag,o=r.mutatedEvents,c=o.defs,h=o.instances,d=hp(c,r.isEvent?n.eventUiBases:{"":s.selectionConfig});i&&(d=Qo(d,i));let g=OF(n.eventStore,r.affectedEvents.instances),y=g.defs,b=g.instances,_=hp(y,n.eventUiBases);for(let S in h){let T=h[S],A=T.range,I=d[T.defId],M=c[T.defId];if(!Hk(I.constraints,A,g,n.businessHours,e))return!1;let{eventOverlap:j}=e.options,H=typeof j=="function"?j:null;for(let Q in b){let P=b[Q];if(m0(A,P.range)&&(_[P.defId].overlap===!1&&r.isEvent||I.overlap===!1||H&&!H(new bt(e,y[P.defId],P),new bt(e,M,T))))return!1}let q=s.eventStore;for(let Q of I.allows){let P=Object.assign(Object.assign({},t),{range:T.range,allDay:M.allDay}),C=q.defs[M.defId],D=q.instances[S],O;if(C?O=new bt(e,C,D):O=new bt(e,M),!Q(E0(P,e),O))return!1}}return!0}function U3(n,e,t,i){let s=n.eventStore,r=s.defs,o=s.instances,c=n.dateSelection,h=c.range,{selectionConfig:d}=e.getCurrentData();if(i&&(d=i(d)),!Hk(d.constraints,h,s,n.businessHours,e))return!1;let{selectOverlap:g}=e.options,y=typeof g=="function"?g:null;for(let b in o){let _=o[b];if(m0(h,_.range)&&(d.overlap===!1||y&&!y(new bt(e,r[_.defId],_),null)))return!1}for(let b of d.allows){let _=Object.assign(Object.assign({},t),c);if(!b(E0(_,e),null))return!1}return!0}function Hk(n,e,t,i,s){for(let r of n)if(!B3(z3(r,e,t,i,s),e))return!1;return!0}function z3(n,e,t,i,s){return n==="businessHours"?Uv(Vo(i,e,s)):typeof n=="string"?Uv(Jp(t,r=>r.groupId===n)):typeof n=="object"&&n?Uv(Vo(n,e,s)):[]}function Uv(n){let{instances:e}=n,t=[];for(let i in e)t.push(e[i].range);return t}function B3(n,e){for(let t of n)if(Zp(t,e))return!0;return!1}const Hf=/^(visible|hidden)$/;class H3 extends Rt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,_r(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:i}=e,s=t&&i,r=["fc-scroller"];return t&&(i?r.push("fc-scroller-liquid-absolute"):r.push("fc-scroller-liquid")),ee("div",{ref:this.handleEl,className:r.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:s&&-(e.overcomeLeft||0)||"",right:s&&-(e.overcomeRight||0)||"",bottom:s&&-(e.overcomeBottom||0)||"",marginLeft:!s&&-(e.overcomeLeft||0)||"",marginRight:!s&&-(e.overcomeRight||0)||"",marginBottom:!s&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Hf.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let s=0;s<i.length;s+=1)if(i[s].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Hf.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let s=0;s<i.length;s+=1)if(i[s].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Hf.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Hf.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class xo{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:s,currentMap:r}=this,o=!1,c=!1;t!==null?(o=i in r,r[i]=t,s[i]=(s[i]||0)+1,c=!0):(s[i]-=1,s[i]||(delete r[i],delete this.callbackMap[i],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(i)),c&&this.masterCallback(t,String(i)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),t}collect(e,t,i){return K5(this.currentMap,e,t,i)}getAll(){return g0(this.currentMap)}}function F3(n){let e=K6(n,".fc-scrollgrid-shrink"),t=0;for(let i of e)t=Math.max(t,u5(i));return Math.ceil(t)}function Fk(n,e){return n.liquid&&e.liquid}function q3(n,e){return e.maxHeight!=null||Fk(n,e)}function G3(n,e,t,i){let{expandRows:s}=t;return typeof e.content=="function"?e.content(t):ee("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:s?t.clientHeight:""}},t.tableColGroupNode,ee(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function W3(n,e){return Da(n,e,xs)}function $3(n,e){let t=[];for(let i of n){let s=i.span||1;for(let r=0;r<s;r+=1)t.push(ee("col",{style:{width:i.width==="shrink"?Y3(e):i.width||"",minWidth:i.minWidth||""}}))}return ee("colgroup",{},...t)}function Y3(n){return n??4}function Q3(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function K3(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function X3(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function Z3(n){return ee("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function Fx(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function J3(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}class qk extends Rt{constructor(){super(...arguments),this.processCols=nt(e=>e,W3),this.renderMicroColGroup=nt($3),this.scrollerRefs=new xo,this.scrollerElRefs=new xo(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:i}=this,s=e.sections||[],r=this.processCols(e.cols),o=this.renderMicroColGroup(r,t.shrinkWidth),c=K3(e.liquid,i);e.collapsibleWidth&&c.push("fc-scrollgrid-collapsible");let h=s.length,d=0,g,y=[],b=[],_=[];for(;d<h&&(g=s[d]).type==="header";)y.push(this.renderSection(g,o,!0)),d+=1;for(;d<h&&(g=s[d]).type==="body";)b.push(this.renderSection(g,o,!1)),d+=1;for(;d<h&&(g=s[d]).type==="footer";)_.push(this.renderSection(g,o,!0)),d+=1;let S=!Nk();const T={role:"rowgroup"};return ee("table",{role:"grid",className:c.join(" "),style:{height:e.height}},!!(!S&&y.length)&&ee("thead",T,...y),!!(!S&&b.length)&&ee("tbody",T,...b),!!(!S&&_.length)&&ee("tfoot",T,..._),S&&ee("tbody",T,...y,...b,..._))}renderSection(e,t,i){return"outerContent"in e?ee(Vt,{key:e.key},e.outerContent):ee("tr",{key:e.key,role:"presentation",className:X3(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,i))}renderChunkTd(e,t,i,s){if("outerContent"in i)return i.outerContent;let{props:r}=this,{forceYScrollbars:o,scrollerClientWidths:c,scrollerClientHeights:h}=this.state,d=q3(r,e),g=Fk(r,e),y=r.liquid?o?"scroll":d?"auto":"hidden":"visible",b=e.key,_=G3(e,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!r.collapsibleWidth&&c[b]!==void 0?c[b]:null,clientHeight:h[b]!==void 0?h[b]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return ee(s?"th":"td",{ref:i.elRef,role:"presentation"},ee("div",{className:`fc-scroller-harness${g?" fc-scroller-harness-liquid":""}`},ee(H3,{ref:this.scrollerRefs.createRef(b),elRef:this.scrollerElRefs.createRef(b),overflowY:y,overflowX:r.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:g,liquidIsAbsolute:!0},_)))}_handleScrollerEl(e,t){let i=e9(this.props.sections,t);i&&_r(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Q3(this.props.cols)?F3(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=v3(),{scrollerRefs:t,scrollerElRefs:i}=this,s=!1,r={},o={};for(let c in t.currentMap){let h=t.currentMap[c];if(h&&h.needsYScrolling()){s=!0;break}}for(let c of this.props.sections){let h=c.key,d=i.currentMap[h];if(d){let g=d.parentNode;r[h]=Math.floor(g.getBoundingClientRect().width-(s?e.y:0)),o[h]=Math.floor(g.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:r,scrollerClientHeights:o}}}qk.addStateEquality({scrollerClientWidths:xs,scrollerClientHeights:xs});function e9(n,e){for(let t of n)if(t.key===e)return t;return null}class D0 extends Rt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&Vx(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:i}=t,{seg:s}=e,{eventRange:r}=s,{ui:o}=r,c={event:new bt(t,r.def,r.instance),view:t.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&WF(s,t),isStartResizable:!e.disableResizing&&$F(s,t),isEndResizable:!e.disableResizing&&YF(s),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!s.isStart,isEnd:!!s.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return ee(Er,Object.assign({},e,{elRef:this.handleEl,elClasses:[...QF(c),...s.eventRange.ui.classNames,...e.elClasses||[]],renderProps:c,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&Vx(this.el,this.props.seg)}}class t9 extends Rt{render(){let{props:e,context:t}=this,{options:i}=t,{seg:s}=e,{ui:r}=s.eventRange,o=i.eventTimeFormat||e.defaultTimeFormat,c=Ck(s,o,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return ee(D0,Object.assign({},e,{elTag:"a",elStyle:{borderColor:r.borderColor,backgroundColor:r.backgroundColor},elAttrs:Dk(s,t),defaultGenerator:n9,timeText:c}),(h,d)=>ee(Vt,null,ee(h,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&ee("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&ee("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function n9(n){return ee("div",{className:"fc-event-main-frame"},n.timeText&&ee("div",{className:"fc-event-time"},n.timeText),ee("div",{className:"fc-event-title-container"},ee("div",{className:"fc-event-title fc-sticky"},n.event.title||ee(Vt,null," "))))}const i9=un({day:"numeric"});class Gk extends Rt{constructor(){super(...arguments),this.refineRenderProps=_g(s9)}render(){let{props:e,context:t}=this,{options:i}=t,s=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return ee(Er,Object.assign({},e,{elClasses:[...A0(s,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),s.isDisabled?{}:{"data-date":u0(e.date)}),renderProps:s,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:s.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}}function Wk(n){return!!(n.dayCellContent||Pb("dayCellContent",n))}function s9(n){let{date:e,dateEnv:t,dateProfile:i,isMonthStart:s}=n,r=Ok(e,n.todayRange,null,i),o=n.showDayNumber?t.format(e,s?n.monthStartFormat:i9):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},r),{isMonthStart:s,dayNumberText:o}),n.extraRenderProps)}class r9 extends Rt{render(){let{props:e}=this,{seg:t}=e;return ee(D0,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:a9,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function a9(n){let{title:e}=n.event;return e&&ee("div",{className:"fc-event-title"},n.event.title)}function o9(n){return ee("div",{className:`fc-${n}`})}const l9=n=>ee(Ko.Consumer,null,e=>{let{dateEnv:t,options:i}=e,{date:s}=n,r=i.weekNumberFormat||n.defaultFormat,o=t.computeWeekNumber(s),c=t.format(s,r);return ee(Er,Object.assign({},n,{renderProps:{num:o,text:c,date:s},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:c9,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function c9(n){return n.text}const zv=10;class u9 extends Rt{constructor(){super(...arguments),this.state={titleId:Kp()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&_r(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=sk(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:i,state:s}=this,r=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return j6(ee("div",Object.assign({},i.extraAttrs,{id:i.id,className:r.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),ee("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},ee("span",{className:"fc-popover-title",id:s.titleId},i.title),ee("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),ee("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:s}=this,r=w3(t);if(r){let o=s.getBoundingClientRect(),c=i?Dn(t,".fc-scrollgrid").getBoundingClientRect().top:r.top,h=e?r.right-o.width:r.left;c=Math.max(c,zv),h=Math.min(h,document.documentElement.clientWidth-zv-o.width),h=Math.max(h,zv);let d=s.offsetParent.getBoundingClientRect();hh(s,{top:c-d.top,left:h-d.left})}}}class h9 extends Zo{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:i}=this,{startDate:s,todayRange:r,dateProfile:o}=i,c=t.format(s,e.dayPopoverFormat);return ee(Gk,{elRef:this.handleRootEl,date:s,dateProfile:o,todayRange:r},(h,d,g)=>ee(u9,{elRef:g.ref,id:i.id,title:c,extraClassNames:["fc-more-popover"].concat(g.className||[]),extraAttrs:g,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},Wk(e)&&ee(h,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,t,i,s){let{rootEl:r,props:o}=this;return e>=0&&e<i&&t>=0&&t<s?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:r,rect:{left:0,top:0,right:i,bottom:s},layer:1}:null}}class d9 extends Rt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Kp()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&_r(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:i}=this,{moreLinkClick:s}=i.options,r=qx(t).start;function o(c){let{def:h,instance:d,range:g}=c.eventRange;return{event:new bt(i,h,d),start:i.dateEnv.toDate(g.start),end:i.dateEnv.toDate(g.end),isStart:c.isStart,isEnd:c.isEnd}}typeof s=="function"&&(s=s({date:r,allDay:!!t.allDayDate,allSegs:t.allSegs.map(o),hiddenSegs:t.hiddenSegs.map(o),jsEvent:e,view:i.viewApi})),!s||s==="popover"?this.setState({isPopoverOpen:!0}):typeof s=="string"&&i.calendarApi.zoomTo(r,s)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return ee(Ko.Consumer,null,i=>{let{viewApi:s,options:r,calendarApi:o}=i,{moreLinkText:c}=r,{moreCnt:h}=e,d=qx(e),g=typeof c=="function"?c.call(o,h):`+${h} ${c}`,y=dh(r.moreLinkHint,[h],g),b={num:h,shortText:`+${h}`,text:g,view:s};return ee(Vt,null,!!e.moreCnt&&ee(Er,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),ak(this.handleClick)),{title:y,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:b,generatorName:"moreLinkContent",customGenerator:r.moreLinkContent,defaultGenerator:e.defaultGenerator||f9,classNameGenerator:r.moreLinkClassNames,didMount:r.moreLinkDidMount,willUnmount:r.moreLinkWillUnmount},e.children),t.isPopoverOpen&&ee(h9,{id:t.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Dn(this.linkEl,".fc-view-harness"))}}function f9(n){return n.text}function qx(n){if(n.allDayDate)return{start:n.allDayDate,end:Nn(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:g9(e),end:m9(e)}}function g9(n){return n.reduce(p9).eventRange.range.start}function p9(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function m9(n){return n.reduce(y9).eventRange.range.end}function y9(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class v9{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class b9 extends v9{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let i=!1;e.isActive?(t.set(e.id,e),i=!0):t.has(e.id)&&(t.delete(e.id),i=!0),i&&this.set(t)}}const _9=[],$k={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Yk=Object.assign(Object.assign({},$k),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function E9(n){let e=n.length>0?n[0].code:"en",t=_9.concat(n),i={en:Yk};for(let s of t)i[s.code]=s;return{map:i,defaultCode:e}}function Qk(n,e){return typeof n=="object"&&!Array.isArray(n)?Kk(n.code,[n.code],n):w9(n,e)}function w9(n,e){let t=[].concat(n||[]),i=S9(t,e)||Yk;return Kk(n,t,i)}function S9(n,e){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let s=i.length;s>0;s-=1){let r=i.slice(0,s).join("-");if(e[r])return e[r]}}return null}function Kk(n,e,t){let i=f0([$k,t],["buttonText"]);delete i.code;let{week:s}=i;return delete i.week,{codeArg:n,codes:e,week:s,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function Pa(n){return{id:Yo(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function A9(n,e){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(r){for(let o of r){const c=o.name,h=t[c];h===void 0?(t[c]=o.id,s(o.deps),i=x9(i,o)):h!==o.id&&console.warn(`Duplicate plugin '${c}'`)}}return n&&s(n),s(e),i}function T9(){let n=[],e=[],t;return(i,s)=>((!t||!Da(i,n)||!Da(s,e))&&(t=A9(i,s)),n=i,e=s,t)}function x9(n,e){return{premiumReleaseDate:R9(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function R9(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class ja extends nd{}ja.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};ja.prototype.baseIconClass="fc-icon";ja.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};ja.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};ja.prototype.iconOverrideOption="buttonIcons";ja.prototype.iconOverrideCustomButtonOption="icon";ja.prototype.iconOverridePrefix="fc-icon-";function C9(n,e){let t={},i;for(i in n)zb(i,t,n,e);for(i in e)zb(i,t,n,e);return t}function zb(n,e,t,i){if(e[n])return e[n];let s=D9(n,e,t,i);return s&&(e[n]=s),s}function D9(n,e,t,i){let s=t[n],r=i[n],o=g=>s&&s[g]!==null?s[g]:r&&r[g]!==null?r[g]:null,c=o("component"),h=o("superType"),d=null;if(h){if(h===n)throw new Error("Can't have a custom view type that references itself");d=zb(h,e,t,i)}return!c&&d&&(c=d.component),c?{type:n,component:c,defaults:Object.assign(Object.assign({},d?d.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),r?r.rawOptions:{})}:null}function Gx(n){return Qo(n,I9)}function I9(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=Wx(e):t&&!(t.prototype instanceof Rt)&&(t=Wx(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function Wx(n){return e=>ee(Ko.Consumer,null,t=>ee(Er,{elTag:"div",elClasses:gk(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function k9(n,e,t,i){let s=Gx(n),r=Gx(e.views),o=C9(s,r);return Qo(o,c=>N9(c,r,e,t,i))}function N9(n,e,t,i,s){let r=n.overrides.duration||n.defaults.duration||i.duration||t.duration,o=null,c="",h="",d={};if(r&&(o=M9(r),o)){let b=Mb(o);c=b.unit,b.value===1&&(h=c,d=e[c]?e[c].rawOptions:{})}let g=b=>{let _=b.buttonText||{},S=n.defaults.buttonTextKey;return S!=null&&_[S]!=null?_[S]:_[n.type]!=null?_[n.type]:_[h]!=null?_[h]:null},y=b=>{let _=b.buttonHints||{},S=n.defaults.buttonTextKey;return S!=null&&_[S]!=null?_[S]:_[n.type]!=null?_[n.type]:_[h]!=null?_[h]:null};return{type:n.type,component:n.component,duration:o,durationUnit:c,singleUnit:h,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},d),n.overrides),buttonTextOverride:g(i)||g(t)||n.overrides.buttonText,buttonTextDefault:g(s)||n.defaults.buttonText||g(fh)||n.type,buttonTitleOverride:y(i)||y(t)||n.overrides.buttonHint,buttonTitleDefault:y(s)||n.defaults.buttonHint||y(fh)}}let $x={};function M9(n){let e=JSON.stringify(n),t=$x[e];return t===void 0&&(t=tt(n),$x[e]=t),t}function O9(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function P9(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function j9(n,e,t,i){let s;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||t);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(s=i.buildPrev(n,t),s.isValid)return s;break;case"NEXT":if(s=i.buildNext(n,t),s.isValid)return s;break}return n}function L9(n,e,t){let i=e?e.activeRange:null;return Zk({},q9(n,t),i,t)}function V9(n,e,t,i){let s=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return Zk(n,e.sources,s,i);case"REMOVE_EVENT_SOURCE":return z9(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?Jk(n,s,i):n;case"FETCH_EVENT_SOURCES":return I0(n,e.sourceIds?ck(e.sourceIds):eN(n,i),s,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return F9(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function U9(n,e,t){let i=e?e.activeRange:null;return I0(n,eN(n,t),i,!0,t)}function Xk(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function Zk(n,e,t,i){let s={};for(let r of e)s[r.sourceId]=r;return t&&(s=Jk(s,t,i)),Object.assign(Object.assign({},n),s)}function z9(n,e){return Lo(n,t=>t.sourceId!==e)}function Jk(n,e,t){return I0(n,Lo(n,i=>B9(i,e,t)),e,!1,t)}function B9(n,e,t){return tN(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function I0(n,e,t,i,s){let r={};for(let o in n){let c=n[o];e[o]?r[o]=H9(c,t,i,s):r[o]=c}return r}function H9(n,e,t,i){let{options:s,calendarApi:r}=i,o=i.pluginHooks.eventSourceDefs[n.sourceDefId],c=Yo();return o.fetch({eventSource:n,range:e,isRefetch:t,context:i},h=>{let{rawEvents:d}=h;s.eventSourceSuccess&&(d=s.eventSourceSuccess.call(r,d,h.response)||d),n.success&&(d=n.success.call(r,d,h.response)||d),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:c,fetchRange:e,rawEvents:d})},h=>{let d=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(r,h),d=!0),n.failure&&(n.failure(h),d=!0),d||console.warn(h.message,h),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:c,fetchRange:e,error:h})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:c})}function F9(n,e,t,i){let s=n[e];return s&&t===s.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:i})}):n}function eN(n,e){return Lo(n,t=>tN(t,e))}function q9(n,e){let t=wk(e),i=[].concat(n.eventSources||[]),s=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let r of i){let o=Ek(r,e,t);o&&s.push(o)}return s}function tN(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function G9(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function W9(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function $9(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function Y9(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function Q9(n,e,t,i,s){let r=n.headerToolbar?Yx(n.headerToolbar,n,e,t,i,s):null,o=n.footerToolbar?Yx(n.footerToolbar,n,e,t,i,s):null;return{header:r,footer:o}}function Yx(n,e,t,i,s,r){let o={},c=[],h=!1;for(let d in n){let g=n[d],y=K9(g,e,t,i,s,r);o[d]=y.widgets,c.push(...y.viewsWithButtons),h=h||y.hasTitle}return{sectionWidgets:o,viewsWithButtons:c,hasTitle:h}}function K9(n,e,t,i,s,r){let o=e.direction==="rtl",c=e.customButtons||{},h=t.buttonText||{},d=e.buttonText||{},g=t.buttonHints||{},y=e.buttonHints||{},b=n?n.split(" "):[],_=[],S=!1;return{widgets:b.map(A=>A.split(",").map(I=>{if(I==="title")return S=!0,{buttonName:I};let M,j,H,q,Q,P;if(M=c[I])H=C=>{M.click&&M.click.call(C.target,C,C.target)},(q=i.getCustomButtonIconClass(M))||(q=i.getIconClass(I,o))||(Q=M.text),P=M.hint||M.text;else if(j=s[I]){_.push(I),H=()=>{r.changeView(I)},(Q=j.buttonTextOverride)||(q=i.getIconClass(I,o))||(Q=j.buttonTextDefault);let C=j.buttonTextOverride||j.buttonTextDefault;P=dh(j.buttonTitleOverride||j.buttonTitleDefault||e.viewHint,[C,I],C)}else if(r[I])if(H=()=>{r[I]()},(Q=h[I])||(q=i.getIconClass(I,o))||(Q=d[I]),I==="prevYear"||I==="nextYear"){let C=I==="prevYear"?"prev":"next";P=dh(g[C]||y[C],[d.year||"year","year"],d[I])}else P=C=>dh(g[I]||y[I],[d[C]||C,C],d[I]);return{buttonName:I,buttonClick:H,buttonIcon:q,buttonText:Q,buttonHint:P}})),viewsWithButtons:_,hasTitle:S}}class X9{constructor(e,t,i){this.type=e,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let Z9={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const J9=Pa({name:"array-event-source",eventSourceDefs:[Z9]});let e7={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:i}=n.context,s=n.eventSource.meta;s3(s.bind(null,Ik(n.range,i)),r=>e({rawEvents:r}),t)}};const t7=Pa({name:"func-event-source",eventSourceDefs:[e7]}),n7={method:String,extraParams:Z,startParam:String,endParam:String,timeZoneParam:String};let i7={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:i}=n.eventSource,s=r7(i,n.range,n.context);r3(i.method,i.url,s).then(([r,o])=>{e({rawEvents:r,response:o})},t)}};const s7=Pa({name:"json-event-source",eventSourceRefiners:n7,eventSourceDefs:[i7]});function r7(n,e,t){let{dateEnv:i,options:s}=t,r,o,c,h,d={};return r=n.startParam,r==null&&(r=s.startParam),o=n.endParam,o==null&&(o=s.endParam),c=n.timeZoneParam,c==null&&(c=s.timeZoneParam),typeof n.extraParams=="function"?h=n.extraParams():h=n.extraParams||{},Object.assign(d,h),d[r]=i.formatIso(e.start),d[o]=i.formatIso(e.end),i.timeZone!=="local"&&(d[c]=i.timeZone),d}const a7={daysOfWeek:Z,startTime:tt,endTime:tt,duration:tt,startRecur:Z,endRecur:Z};let o7={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null},i;return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=g5(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:i,typeData:t}}return null},expand(n,e,t){let i=pc(e,{start:n.startRecur,end:n.endRecur});return i?c7(n.daysOfWeek,n.startTime,i,t):[]}};const l7=Pa({name:"simple-recurring-event",recurringTypes:[o7],eventRefiners:a7});function c7(n,e,t,i){let s=n?ck(n):null,r=vt(t.start),o=t.end,c=[];for(;r<o;){let h;(!s||s[r.getUTCDay()])&&(e?h=i.add(r,e):h=r,c.push(h)),r=Nn(r,1)}return c}const u7=Pa({name:"change-handler",optionChangeHandlers:{events(n,e){Qx([n],e)},eventSources:Qx}});function Qx(n,e){let t=g0(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let i=[];for(let s of n){let r=!1;for(let o=0;o<t.length;o+=1)if(t[o]._raw===s){t.splice(o,1),r=!0;break}r||i.push(s)}for(let s of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of i)e.calendarApi.addEventSource(s)}function h7(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},Ik(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function d7(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Co(n,e))}const f7=[J9,t7,s7,l7,u7,Pa({name:"misc",isLoadingFuncs:[n=>Xk(n.eventSources)],propSetHandlers:{dateProfile:h7,eventStore:d7}})];class g7{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new a0(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],i;for(;i=e.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function p7(n,e,t){let i;return/^(year|month)$/.test(n.currentRangeUnit)?i=n.currentRange:i=n.activeRange,t.formatRange(i.start,i.end,un(e.titleFormat||m7(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function m7(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=sp(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class y7{constructor(e){this.computeCurrentViewData=nt(this._computeCurrentViewData),this.organizeRawLocales=nt(E9),this.buildLocale=nt(Qk),this.buildPluginHooks=T9(),this.buildDateEnv=nt(v7),this.buildTheme=nt(b7),this.parseToolbars=nt(Q9),this.buildViewSpecs=nt(k9),this.buildDateProfileGenerator=_g(_7),this.buildViewApi=nt(E7),this.buildViewUiProps=_g(A7),this.buildEventUiBySource=nt(w7,xs),this.buildEventUiBases=nt(S7),this.parseContextBusinessHours=_g(T7),this.buildTitle=nt(p7),this.emitter=new em,this.actionRunner=new g7(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=b=>{this.actionRunner.request(b)},this.props=e,this.actionRunner.pause();let t={},i=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),s=i.calendarOptions.initialView||i.pluginHooks.initialView,r=this.computeCurrentViewData(s,i,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(r.options);let o=mF(i.calendarOptions,i.dateEnv),c=r.dateProfileGenerator.build(o);_a(c.activeRange,o)||(o=c.currentRange.start);let h={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let b of i.pluginHooks.contextInit)b(h);let d=L9(i.calendarOptions,c,h),g={dynamicOptionOverrides:t,currentViewType:s,currentDate:o,dateProfile:c,businessHours:this.parseContextBusinessHours(h),eventSources:d,eventUiBases:{},eventStore:Ui(),renderableEventStore:Ui(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(h).selectionConfig},y=Object.assign(Object.assign({},h),g);for(let b of i.pluginHooks.reducers)Object.assign(g,b(null,null,y));Bv(g,h)&&this.emitter.trigger("loading",!0),this.state=g,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:i}=this;t===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:i,emitter:s}=this,r=P9(i.dynamicOptionOverrides,e),o=this.computeOptionsData(t.optionOverrides,r,t.calendarApi),c=O9(i.currentViewType,e),h=this.computeCurrentViewData(c,o,t.optionOverrides,r);t.calendarApi.currentDataManager=this,s.setThisContext(t.calendarApi),s.setOptions(h.options);let d={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:g,dateProfile:y}=i;this.data&&this.data.dateProfileGenerator!==h.dateProfileGenerator&&(y=h.dateProfileGenerator.build(g)),g=pF(g,e),y=j9(y,e,g,h.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!_a(y.currentRange,g))&&(g=y.currentRange.start);let b=V9(i.eventSources,e,y,d),_=IF(i.eventStore,e,b,y,d),T=Xk(b)&&!h.options.progressiveEventRendering&&i.renderableEventStore||_,{eventUiSingleBase:A,selectionConfig:I}=this.buildViewUiProps(d),M=this.buildEventUiBySource(b),j=this.buildEventUiBases(T.defs,A,M),H={dynamicOptionOverrides:r,currentViewType:c,currentDate:g,dateProfile:y,eventSources:b,eventStore:_,renderableEventStore:T,selectionConfig:I,eventUiBases:j,businessHours:this.parseContextBusinessHours(d),dateSelection:G9(i.dateSelection,e),eventSelection:W9(i.eventSelection,e),eventDrag:$9(i.eventDrag,e),eventResize:Y9(i.eventResize,e)},q=Object.assign(Object.assign({},d),H);for(let C of o.pluginHooks.reducers)Object.assign(H,C(i,e,q));let Q=Bv(i,d),P=Bv(H,d);!Q&&P?s.trigger("loading",!0):Q&&!P&&s.trigger("loading",!1),this.state=H,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,i=this.data,s=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),r=this.computeCurrentViewData(t.currentViewType,s,e.optionOverrides,t.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,r.options,s.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),r),t),c=s.pluginHooks.optionChangeHandlers,h=i&&i.calendarOptions,d=s.calendarOptions;if(h&&h!==d){h.timeZone!==d.timeZone&&(t.eventSources=o.eventSources=U9(o.eventSources,t.dateProfile,o),t.eventStore=o.eventStore=Px(o.eventStore,i.dateEnv,o.dateEnv),t.renderableEventStore=o.renderableEventStore=Px(o.renderableEventStore,i.dateEnv,o.dateEnv));for(let g in c)(this.optionsForHandling.indexOf(g)!==-1||h[g]!==d[g])&&c[g](d[g],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,t,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:r,localeDefaults:o,availableLocaleData:c,extra:h}=this.processRawCalendarOptions(e,t);Kx(h);let d=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,r,c,s.defaultRangeSeparator),g=this.buildViewSpecs(r.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),y=this.buildTheme(s,r),b=this.parseToolbars(s,this.stableOptionOverrides,y,g,i);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:r,dateEnv:d,viewSpecs:g,theme:y,toolbarConfig:b,localeDefaults:o,availableRawLocales:c.map}}processRawCalendarOptions(e,t){let{locales:i,locale:s}=Mv([fh,e,t]),r=this.organizeRawLocales(i),o=r.map,c=this.buildLocale(s||r.defaultCode,o).options,h=this.buildPluginHooks(e.plugins||[],f7),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Cx),Dx),Ix),h.listenerRefiners),h.optionRefiners),g={},y=Mv([fh,c,e,t]),b={},_=this.currentCalendarOptionsInput,S=this.currentCalendarOptionsRefined,T=!1;for(let A in y)this.optionsForRefining.indexOf(A)===-1&&(y[A]===_[A]||bo[A]&&A in _&&bo[A](_[A],y[A]))?b[A]=S[A]:d[A]?(b[A]=d[A](y[A]),T=!0):g[A]=_[A];return T&&(this.currentCalendarOptionsInput=y,this.currentCalendarOptionsRefined=b,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:h,availableLocaleData:r,localeDefaults:c,extra:g}}_computeCurrentViewData(e,t,i,s){let r=t.viewSpecs[e];if(!r)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:c}=this.processRawViewOptions(r,t.pluginHooks,t.localeDefaults,i,s);Kx(c);let h=this.buildDateProfileGenerator({dateProfileGeneratorClass:r.optionDefaults.dateProfileGeneratorClass,duration:r.duration,durationUnit:r.durationUnit,usesMinMaxTime:r.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,nowInput:o.now,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:r,options:o,dateProfileGenerator:h,viewApi:d}}processRawViewOptions(e,t,i,s,r){let o=Mv([fh,e.optionDefaults,i,s,e.optionOverrides,r]),c=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Cx),Dx),Ix),W5),t.listenerRefiners),t.optionRefiners),h={},d=this.currentViewOptionsInput,g=this.currentViewOptionsRefined,y=!1,b={};for(let _ in o)o[_]===d[_]||bo[_]&&bo[_](o[_],d[_])?h[_]=g[_]:(o[_]===this.currentCalendarOptionsInput[_]||bo[_]&&bo[_](o[_],this.currentCalendarOptionsInput[_])?_ in this.currentCalendarOptionsRefined&&(h[_]=this.currentCalendarOptionsRefined[_]):c[_]?h[_]=c[_](o[_]):b[_]=o[_],y=!0);return y&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=h),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:b}}}function v7(n,e,t,i,s,r,o,c){let h=Qk(e||o.defaultCode,o.map);return new nF({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:r.namedTimeZonedImpl,locale:h,weekNumberCalculation:t,firstDay:i,weekText:s,cmdFormatter:r.cmdFormatter,defaultSeparator:c})}function b7(n,e){let t=e.themeClasses[n.themeSystem]||ja;return new t(n)}function _7(n){let e=n.dateProfileGeneratorClass||yk;return new e(n)}function E7(n,e,t){return new X9(n,e,t)}function w7(n){return Qo(n,e=>e.ui)}function S7(n,e,t){let i={"":e};for(let s in n){let r=n[s];r.sourceId&&t[r.sourceId]&&(i[s]=t[r.sourceId])}return i}function A7(n){let{options:e}=n;return{eventUiSingleBase:up({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:up({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function Bv(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function T7(n){return UF(n.options.businessHours,n)}function Kx(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class x7 extends Rt{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return ee("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:i}=this.context,s=[],r=!0;for(let o of e){let{buttonName:c,buttonClick:h,buttonText:d,buttonIcon:g,buttonHint:y}=o;if(c==="title")r=!1,s.push(ee("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let b=c===t.activeButton,_=!t.isTodayEnabled&&c==="today"||!t.isPrevEnabled&&c==="prev"||!t.isNextEnabled&&c==="next",S=[`fc-${c}-button`,i.getClass("button")];b&&S.push(i.getClass("buttonActive")),s.push(ee("button",{type:"button",title:typeof y=="function"?y(t.navUnit):y,disabled:_,"aria-pressed":b,className:S.join(" "),onClick:h},d||(g?ee("span",{className:g,role:"img"}):"")))}}if(s.length>1){let o=r&&i.getClass("buttonGroup")||"";return ee("div",{className:o},...s)}return s[0]}}class Xx extends Rt{render(){let{model:e,extraClassName:t}=this.props,i=!1,s,r,o=e.sectionWidgets,c=o.center;return o.left?(i=!0,s=o.left):s=o.start,o.right?(i=!0,r=o.right):r=o.end,ee("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",c||[]),this.renderSection("end",r||[]))}renderSection(e,t){let{props:i}=this;return ee(x7,{key:e,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class R7 extends Rt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,_r(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:i}=e,s=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],r="",o="";return i?t.availableWidth!==null?r=t.availableWidth/i:o=`${1/i*100}%`:r=e.height||"",ee("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:s.join(" "),style:{height:r,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class C7 extends Dc{constructor(e){super(e),this.handleSegClick=(t,i)=>{let{component:s}=this,{context:r}=s,o=mc(i);if(o&&s.isValidSegDownEl(t.target)){let c=Dn(t.target,".fc-event-forced-url"),h=c?c.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:i,event:new bt(s.context,o.eventRange.def,o.eventRange.instance),jsEvent:t,view:r.viewApi}),h&&!t.defaultPrevented&&(window.location.href=h)}},this.destroy=rk(e.el,"click",".fc-event",this.handleSegClick)}}class D7 extends Dc{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{mc(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=J6(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,i){let{component:s}=this,{context:r}=s,o=mc(i);(!t||s.isValidSegDownEl(t.target))&&r.emitter.trigger(e,{el:i,event:new bt(r,o.eventRange.def,o.eventRange.instance),jsEvent:t,view:r.viewApi})}}class I7 extends Xo{constructor(){super(...arguments),this.buildViewContext=nt(rF),this.buildViewPropTransformers=nt(N7),this.buildToolbarProps=nt(k7),this.headerRef=br(),this.footerRef=br(),this.interactionsStore={},this.state={viewLabelId:Kp()},this.registerInteractiveComponent=(e,t)=>{let i=l3(e,t),o=[C7,D7].concat(this.props.pluginHooks.componentInteractions).map(c=>new c(i));this.interactionsStore[e.uid]=o,Vb[e.uid]=i},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[e.uid]}delete Vb[e.uid]},this.resizeRunner=new a0(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:i}=e,s=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,id(e.options.now,e.dateEnv),e.viewTitle),r=!1,o="",c;e.isHeightAuto||e.forPrint?o="":i.height!=null?r=!0:i.contentHeight!=null?o=i.contentHeight:c=Math.max(i.aspectRatio,.5);let h=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),d=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return ee(Ko.Provider,{value:h},t.header&&ee(Xx,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:d},s)),ee(R7,{liquid:r,height:o,aspectRatio:c,labeledById:d},this.renderView(e),this.buildAppendContent()),t.footer&&ee(Xx,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},s)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let i in t)t[i](e[i],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let s in i)t[s]!==e[s]&&i[s](t[s],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(i=>i(e));return ee(Vt,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:i}=e,s={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},r=this.buildViewPropTransformers(t.viewPropsTransformers);for(let c of r)Object.assign(s,c.transform(s,e));let o=i.component;return ee(o,Object.assign({},s))}}function k7(n,e,t,i,s,r){let o=t.build(s,void 0,!1),c=t.buildPrev(e,i,!1),h=t.buildNext(e,i,!1);return{title:r,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:o.isValid&&!_a(e.currentRange,s),isPrevEnabled:c.isValid,isNextEnabled:h.isValid}}function N7(n){return n.map(e=>new e)}class M7 extends c3{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;lp(()=>{kh(ee(o3,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(s,r,o,c)=>(this.setClassNames(s),this.setHeight(r),ee(fk.Provider,{value:this.customContentRenderId},ee(I7,Object.assign({isHeightAuto:o,forPrint:c},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,kh(null,this.el),this.setClassNames([]),this.setHeight(""))},q6(e),this.el=e,this.renderRunner=new a0(this.handleRenderRequest),new y7({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){lp(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!Da(e,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of e)t.add(i);this.currentClassNames=e}}setHeight(e){ik(this.el,"height",e)}}const O7=parseInt(String(Ti.version).split(".")[0]),P7=O7<18;class nN extends B.Component{constructor(){super(...arguments),this.elRef=B.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(Ti.createElement(j7,{key:t.id,customRendering:t}));return Ti.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new b9;this.handleCustomRendering=e.handle.bind(e),this.calendar=new M7(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{ib.flushSync(()=>{})});let t;e.subscribe(i=>{const s=Date.now(),r=!t;(P7||r||this.isUpdating||this.isUnmounting||s-t<100?iN:ib.flushSync)(()=>{this.setState({customRenderingMap:i},()=>{t=s,r?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}nN.act=iN;class j7 extends B.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,i=typeof t=="function"?t(e.renderProps):t;return ib.createPortal(i,e.containerEl)}}function iN(n){n()}class L7 extends Zo{constructor(){super(...arguments),this.headerElRef=br()}renderSimpleLayout(e,t){let{props:i,context:s}=this,r=[],o=Fx(s.options);return e&&r.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),ee(kx,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},ee(qk,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:r}))}renderHScrollLayout(e,t,i,s){let r=this.context.pluginHooks.scrollGridImpl;if(!r)throw new Error("No ScrollGrid implementation");let{props:o,context:c}=this,h=!o.forPrint&&Fx(c.options),d=!o.forPrint&&J3(c.options),g=[];return e&&g.push({type:"header",key:"header",isSticky:h,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),g.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),d&&g.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Z3}]}),ee(kx,{elClasses:["fc-daygrid"],viewSpec:c.viewSpec},ee(r,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:i,minWidth:s}]}],sections:g}))}}function Ff(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function qf(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function Zx(n,e){let t=[];if(n){for(let i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}const sN=un({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function rN(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class aN extends Rt{render(){let{props:e}=this;return ee(t9,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:sN,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class oN extends Rt{render(){let{props:e,context:t}=this,{options:i}=t,{seg:s}=e,r=i.eventTimeFormat||sN,o=Ck(s,r,t,!0,e.defaultDisplayEventEnd);return ee(D0,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Dk(e.seg,t),defaultGenerator:V7,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function V7(n){return ee(Vt,null,ee("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&ee("div",{className:"fc-event-time"},n.timeText),ee("div",{className:"fc-event-title"},n.event.title||ee(Vt,null," ")))}class U7 extends Rt{constructor(){super(...arguments),this.compileSegs=nt(z7)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return ee(d9,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let s=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return ee(Vt,null,t.map(r=>{let o=r.eventRange.instance.instanceId;return ee("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:s[o]?"hidden":""}},rN(r)?ee(oN,Object.assign({seg:r,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},gh(r,e.todayRange))):ee(aN,Object.assign({seg:r,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},gh(r,e.todayRange))))}))}})}}function z7(n){let e=[],t=[];for(let i of n)e.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:e,invisibleSegs:t}}const B7=un({week:"narrow"});class H7 extends Zo{constructor(){super(...arguments),this.rootElRef=br(),this.state={dayNumberId:Kp()},this.handleRootEl=e=>{_r(this.rootElRef,e),_r(this.props.elRef,e)}}render(){let{context:e,props:t,state:i,rootElRef:s}=this,{options:r,dateEnv:o}=e,{date:c,dateProfile:h}=t;const d=t.showDayNumber&&q7(c,h.currentRange,o);return ee(Gk,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:F7,date:c,dateProfile:h,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:d,extraRenderProps:t.extraRenderProps},(g,y)=>ee("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&ee(l9,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Ub(e,c,"week"),date:c,defaultFormat:B7}),!y.isDisabled&&(t.showDayNumber||Wk(r)||t.forceDayTop)?ee("div",{className:"fc-daygrid-day-top"},ee(g,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Ub(e,c)),{id:i.dayNumberId})})):t.showDayNumber?ee("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},ee("a",{className:"fc-daygrid-day-number"}," ")):void 0,ee("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,ee("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},ee(U7,{allDayDate:c,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:s,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),ee("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function F7(n){return n.dayNumberText||ee(Vt,null," ")}function q7(n,e,t){const{start:i,end:s}=e,r=Ia(s,-1),o=t.getYear(i),c=t.getMonth(i),h=t.getYear(r),d=t.getMonth(r);return!(o===h&&c===d)&&(n.valueOf()===i.valueOf()||t.getDay(n)===1&&n.valueOf()<s.valueOf())}function lN(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function cN(n){return lN(n)+":"+n.lastCol}function G7(n,e,t,i,s,r,o){let c=new Y7(I=>{let M=n[I.index].eventRange.instance.instanceId+":"+I.span.start+":"+(I.span.end-1);return s[M]||1});c.allowReslicing=!0,c.strictOrder=i,e===!0||t===!0?(c.maxCoord=r,c.hiddenConsumes=!0):typeof e=="number"?c.maxStackCnt=e:typeof t=="number"&&(c.maxStackCnt=t,c.hiddenConsumes=!0);let h=[],d=[];for(let I=0;I<n.length;I+=1){let M=n[I],j=cN(M);s[j]!=null?h.push({index:I,span:{start:M.firstCol,end:M.lastCol+1}}):d.push(M)}let g=c.addSegs(h),y=c.toRects(),{singleColPlacements:b,multiColPlacements:_,leftoverMargins:S}=W7(y,n,o),T=[],A=[];for(let I of d){_[I.firstCol].push({seg:I,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let M=I.firstCol;M<=I.lastCol;M+=1)b[M].push({seg:ic(I,M,M+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let I=0;I<o.length;I+=1)T.push(0);for(let I of g){let M=n[I.index],j=I.span;_[j.start].push({seg:ic(M,j.start,j.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let H=j.start;H<j.end;H+=1)T[H]+=1,b[H].push({seg:ic(M,H,H+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let I=0;I<o.length;I+=1)A.push(S[I]);return{singleColPlacements:b,multiColPlacements:_,moreCnts:T,moreMarginTops:A}}function W7(n,e,t){let i=$7(n,t.length),s=[],r=[],o=[];for(let c=0;c<t.length;c+=1){let h=i[c],d=[],g=0,y=0;for(let _ of h){let S=e[_.index];d.push({seg:ic(S,c,c+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:_.levelCoord,marginTop:_.levelCoord-g}),g=_.levelCoord+_.thickness}let b=[];g=0,y=0;for(let _ of h){let S=e[_.index],T=_.span.end-_.span.start>1,A=_.span.start===c;y+=_.levelCoord-g,g=_.levelCoord+_.thickness,T?(y+=_.thickness,A&&b.push({seg:ic(S,_.span.start,_.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:_.levelCoord,marginTop:0})):A&&(b.push({seg:ic(S,_.span.start,_.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:_.levelCoord,marginTop:y}),y=0)}s.push(d),r.push(b),o.push(y)}return{singleColPlacements:s,multiColPlacements:r,leftoverMargins:o}}function $7(n,e){let t=[];for(let i=0;i<e;i+=1)t.push([]);for(let i of n)for(let s=i.span.start;s<i.span.end;s+=1)t[s].push(i);return t}function ic(n,e,t,i){if(n.firstCol===e&&n.lastCol===t-1)return n;let s=n.eventRange,r=s.range,o=pc(r,{start:i[e].date,end:Nn(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:o},isStart:n.isStart&&o.start.valueOf()===r.start.valueOf(),isEnd:n.isEnd&&o.end.valueOf()===r.end.valueOf()})}class Y7 extends T3{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:i}=this,s=r=>!this.forceHidden[ph(r)];for(let r=0;r<i.length;r+=1)i[r]=i[r].filter(s);return t}handleInvalidInsertion(e,t,i){const{entriesByLevel:s,forceHidden:r}=this,{touchingEntry:o,touchingLevel:c,touchingLateral:h}=e;if(this.hiddenConsumes&&o){const d=ph(o);if(!r[d])if(this.allowReslicing){const g=Object.assign(Object.assign({},o),{span:Lk(o.span,t.span)}),y=ph(g);r[y]=!0,s[c][h]=g,i.push(g),this.splitEntry(o,t,i)}else r[d]=!0,i.push(o)}super.handleInvalidInsertion(e,t,i)}}class uN extends Zo{constructor(){super(...arguments),this.cellElRefs=new xo,this.frameElRefs=new xo,this.fgElRefs=new xo,this.segHarnessRefs=new xo,this.rootElRef=br(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:i}=this,{options:s}=i,r=e.cells.length,o=qf(e.businessHourSegs,r),c=qf(e.bgEventSegs,r),h=qf(this.getHighlightSegs(),r),d=qf(this.getMirrorSegs(),r),{singleColPlacements:g,multiColPlacements:y,moreCnts:b,moreMarginTops:_}=G7(qF(e.fgEventSegs,s.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,s.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),S=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return ee("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((T,A)=>{let I=this.renderFgSegs(A,e.forPrint?g[A]:y[A],e.todayRange,S),M=this.renderFgSegs(A,Q7(d[A],y),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return ee(H7,{key:T.key,elRef:this.cellElRefs.createRef(T.key),innerElRef:this.frameElRefs.createRef(T.key),dateProfile:e.dateProfile,date:T.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&A===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:T.extraRenderProps,extraDataAttrs:T.extraDataAttrs,extraClassNames:T.extraClassNames,extraDateSpan:T.extraDateSpan,moreCnt:b[A],moreMarginTop:_[A],singlePlacements:g[A],fgContentElRef:this.fgElRefs.createRef(T.key),fgContent:ee(Vt,null,ee(Vt,null,I),ee(Vt,null,M)),bgContent:ee(Vt,null,this.renderFillSegs(h[A],"highlight"),this.renderFillSegs(o[A],"non-business"),this.renderFillSegs(c[A],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let i=this.props;this.updateSizing(!xs(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,i,s,r,o,c){let{context:h}=this,{eventSelection:d}=this.props,{framePositions:g}=this.state,y=this.props.cells.length===1,b=r||o||c,_=[];if(g)for(let S of t){let{seg:T}=S,{instanceId:A}=T.eventRange.instance,I=S.isVisible&&!s[A],M=S.isAbsolute,j="",H="";M&&(h.isRtl?(H=0,j=g.lefts[T.lastCol]-g.lefts[T.firstCol]):(j=0,H=g.rights[T.firstCol]-g.rights[T.lastCol])),_.push(ee("div",{className:"fc-daygrid-event-harness"+(M?" fc-daygrid-event-harness-abs":""),key:lN(T),ref:b?null:this.segHarnessRefs.createRef(cN(T)),style:{visibility:I?"":"hidden",marginTop:M?"":S.marginTop,top:M?S.absoluteTop:"",left:j,right:H}},rN(T)?ee(oN,Object.assign({seg:T,isDragging:r,isSelected:A===d,defaultDisplayEventEnd:y},gh(T,i))):ee(aN,Object.assign({seg:T,isDragging:r,isResizing:o,isDateSelecting:c,isSelected:A===d,defaultDisplayEventEnd:y},gh(T,i)))))}return _}renderFillSegs(e,t){let{isRtl:i}=this.context,{todayRange:s}=this.props,{framePositions:r}=this.state,o=[];if(r)for(let c of e){let h=i?{right:0,left:r.lefts[c.lastCol]-r.lefts[c.firstCol]}:{left:0,right:r.rights[c.firstCol]-r.rights[c.lastCol]};o.push(ee("div",{key:KF(c.eventRange),className:"fc-daygrid-bg-harness",style:h},t==="bg-event"?ee(r9,Object.assign({seg:c},gh(c,s))):o9(t)))}return ee(Vt,{},...o)}updateSizing(e){let{props:t,state:i,frameElRefs:s}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let h=t.cells.map(d=>s.currentMap[d.key]);if(h.length){let d=this.rootElRef.current,g=new dp(d,h,!0,!1);(!i.framePositions||!i.framePositions.similarTo(g))&&this.setState({framePositions:new dp(d,h,!0,!1)})}}const r=this.state.segHeights,o=this.querySegHeights(),c=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},r),o),maxContentHeight:c?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let i in e){let s=Math.round(e[i].getBoundingClientRect().height);t[i]=Math.max(t[i]||0,s)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}uN.addStateEquality({segHeights:xs});function Q7(n,e){if(!n.length)return[];let t=K7(e);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}function K7(n){let e={};for(let t of n)for(let i of t)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}class X7 extends Zo{constructor(){super(...arguments),this.splitBusinessHourSegs=nt(Ff),this.splitBgEventSegs=nt(Ff),this.splitFgEventSegs=nt(Ff),this.splitDateSelectionSegs=nt(Ff),this.splitEventDrag=nt(Zx),this.splitEventResize=nt(Zx),this.rowRefs=new xo}render(){let{props:e,context:t}=this,i=e.cells.length,s=this.splitBusinessHourSegs(e.businessHourSegs,i),r=this.splitBgEventSegs(e.bgEventSegs,i),o=this.splitFgEventSegs(e.fgEventSegs,i),c=this.splitDateSelectionSegs(e.dateSelectionSegs,i),h=this.splitEventDrag(e.eventDrag,i),d=this.splitEventResize(e.eventResize,i),g=i>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return ee(C0,{unit:"day"},(y,b)=>ee(Vt,null,e.cells.map((_,S)=>ee(uN,{ref:this.rowRefs.createRef(S),key:_.length?_[0].date.toISOString():S,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:b,dateProfile:e.dateProfile,cells:_,renderIntro:e.renderRowIntro,businessHourSegs:s[S],eventSelection:e.eventSelection,bgEventSegs:r[S].filter(Z7),fgEventSegs:o[S],dateSelectionSegs:c[S],eventDrag:h[S],eventResize:d[S],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:g,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new dp(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new dp(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:i,rowPositions:s}=this,r=i.leftToIndex(e),o=s.topToIndex(t);if(o!=null&&r!=null){let c=this.props.cells[o][r];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,r),allDay:!0},c.extraDateSpan),dayEl:this.getCellEl(o,r),rect:{left:i.lefts[r],right:i.rights[r],top:s.tops[o],bottom:s.bottoms[o]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let i=this.props.cells[e][t].date,s=Nn(i,1);return{start:i,end:s}}}function Z7(n){return n.eventRange.def.allDay}class J7 extends Zo{constructor(){super(...arguments),this.elRef=br(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:s}=e,r=i===!0||t===!0;r&&!s&&(r=!1,t=null,i=null);let o=["fc-daygrid-body",r?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return ee("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},ee("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:s?e.clientHeight:""}},e.colGroupNode,ee("tbody",{role:"presentation"},ee(X7,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=eq(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),s=e.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}function eq(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${I5(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${u0(e.currentDate)}"]`)),t}class tq extends P3{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class nq extends Zo{constructor(){super(...arguments),this.slicer=new tq,this.tableRef=br()}render(){let{props:e,context:t}=this;return ee(J7,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class iq extends L7{constructor(){super(...arguments),this.buildDayTableModel=nt(sq),this.headerRef=br(),this.tableRef=br()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:i}=this,s=this.buildDayTableModel(i.dateProfile,t),r=e.dayHeaders&&ee(k3,{ref:this.headerRef,dateProfile:i.dateProfile,dates:s.headerDates,datesRepDistinctDays:s.rowCnt===1}),o=c=>ee(nq,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:s,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:c.tableColGroupNode,tableMinWidth:c.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:c.clientWidth,clientHeight:c.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(r,o,s.colCnt,e.dayMinWidth):this.renderSimpleLayout(r,o)}}function sq(n,e){let t=new M3(n.renderRange,e);return new O3(t,/year|month|week/.test(n.currentRangeUnit))}class rq extends yk{buildRenderRange(e,t,i){let s=super.buildRenderRange(e,t,i),{props:r}=this;return aq({currentRange:s,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:r.fixedWeekCount,dateEnv:r.dateEnv})}}function aq(n){let{dateEnv:e,currentRange:t}=n,{start:i,end:s}=t,r;if(n.snapToWeek&&(i=e.startOfWeek(i),r=e.startOfWeek(s),r.valueOf()!==s.valueOf()&&(s=wx(r,1))),n.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(Nn(t.end,-1))),c=Math.ceil(v5(o,s));s=wx(s,6-c)}return{start:i,end:s}}var oq=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';ek(oq);var lq=Pa({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:iq,dateProfileGeneratorClass:rq},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});R0.touchMouseIgnoreWait=500;let Bb=0,fp=0,Hb=!1;class hN{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&cq(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let s=t.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,uq()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,s=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:i-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new em,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),hq()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),dq()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||Dn(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Hb=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Dn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Bb||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Hb=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,s=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:s}}createEventFromTouch(e,t){let i=e.touches,s,r,o=0,c=0;return i&&i.length?(s=i[0].pageX,r=i[0].pageY):(s=e.pageX,r=e.pageY),t?(this.origPageX=s,this.origPageY=r):(o=s-this.origPageX,c=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:r,deltaX:o,deltaY:c}}}function cq(n){return n.button===0&&!n.ctrlKey}function uq(){Bb+=1,setTimeout(()=>{Bb-=1},R0.touchMouseIgnoreWait)}function hq(){fp+=1,fp===1&&window.addEventListener("touchmove",dN,{passive:!1})}function dq(){fp-=1,fp||window.removeEventListener("touchmove",dN,{passive:!1})}function dN(n){Hb&&n.preventDefault()}class fq{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",hh(i,{left:s.left,top:s.top}),e5(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(o0(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&hh(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),hh(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class fN extends x0{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class gN extends fN{constructor(e,t){super(new S3(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return E3(this.scrollController.el)}}class gq extends fN{constructor(e){super(new A3,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Jx=typeof performance=="function"?performance.now:Date.now;class pq{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=Jx();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,s=t-window.scrollY,r=this.pointerScreenY===null?0:s-this.pointerScreenY,o=this.pointerScreenX===null?0:i-this.pointerScreenX;r<0?this.everMovedUp=!0:r>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Jx()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:s}=this,r=s-e.distance,o=r*r/(s*s)*this.maxVelocity*t,c=1;switch(e.name){case"left":c=-1;case"right":i.setScrollLeft(i.getScrollLeft()+o*c);break;case"top":c=-1;case"bottom":i.setScrollTop(i.getScrollTop()+o*c);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,s=null,r=this.scrollCaches||[];for(let o of r){let c=o.clientRect,h=e-c.left,d=c.right-e,g=t-c.top,y=c.bottom-t;h>=0&&d>=0&&g>=0&&y>=0&&(g<=i&&this.everMovedUp&&o.canScrollUp()&&(!s||s.distance>g)&&(s={scrollCache:o,name:"top",distance:g}),y<=i&&this.everMovedDown&&o.canScrollDown()&&(!s||s.distance>y)&&(s={scrollCache:o,name:"bottom",distance:y}),h<=i&&this.everMovedLeft&&o.canScrollLeft()&&(!s||s.distance>h)&&(s={scrollCache:o,name:"left",distance:h}),d<=i&&this.everMovedRight&&o.canScrollRight()&&(!s||s.distance>d)&&(s={scrollCache:o,name:"right",distance:d}))}return s}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new gq(!1):new gN(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}}class sd extends x3{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,t5(document.body),i5(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let r=this.minDistance,o,{deltaX:c,deltaY:h}=s;o=c*c+h*h,o>=r*r&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,n5(document.body),s5(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new hN(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new fq,this.autoScroller=new pq}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class mq{constructor(e){this.el=e,this.origRect=T0(e),this.scrollCaches=jk(e).map(t=>new gN(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let s of this.scrollCaches)if(!yq(s.getEventTarget())&&!u3(i,s.clientRect))return!1;return!0}}function yq(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class tm{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):s.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new em}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,s=e.subjectEl,r;s instanceof HTMLElement&&(r=T0(s),i=h3(i,r));let o=this.initialHit=this.queryHitForOffset(i.left,i.top);if(o){if(this.useSubjectCenter&&r){let c=Mk(r,o.rect);c&&(i=d3(c))}this.coordAdjust=f3(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!nm(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=Qo(this.droppableStore,e=>(e.component.prepareHits(),new mq(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:s}=this,r=null;for(let o in i){let c=i[o].component,h=s[o];if(h&&h.isWithinClipping(e,t)){let d=h.computeLeft(),g=h.computeTop(),y=e-d,b=t-g,{origRect:_}=h,S=_.right-_.left,T=_.bottom-_.top;if(y>=0&&y<S&&b>=0&&b<T){let A=c.queryHit(y,b,S,T);A&&Zp(A.dateProfile.activeRange,A.dateSpan.range)&&(this.disablePointCheck||h.el.contains(h.el.getRootNode().elementFromPoint(y+d-window.scrollX,b+g-window.scrollY)))&&(!r||A.layer>r.layer)&&(A.componentId=o,A.context=c.context,A.rect.left+=d,A.rect.right+=d,A.rect.top+=g,A.rect.bottom+=g,r=A)}}}return r}}function nm(n,e){return!n&&!e?!0:!!n!=!!e?!1:e3(n.dateSpan,e.dateSpan)}function pN(n,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(n,e));return Object.assign(t,vq(n,e.dateEnv)),t}function vq(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class bq extends Dc{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:s}=this,r=i.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(r))},this.handleDragEnd=i=>{let{component:s}=this,{pointer:r}=this.dragging;if(!r.wasTouchScroll){let{initialHit:o,finalHit:c}=this.hitDragging;if(o&&c&&nm(o,c)){let{context:h}=s,d=Object.assign(Object.assign({},pN(o.dateSpan,h)),{dayEl:o.dayEl,jsEvent:i.origEvent,view:h.viewApi||h.calendarApi.view});h.emitter.trigger("dateClick",d)}}},this.dragging=new sd(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new tm(this.dragging,S0(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class _q extends Dc{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:c,dragging:h}=this,{options:d}=c.context,g=d.selectable&&c.isValidDateDownEl(o.origEvent.target);h.setIgnoreMove(!g),h.delay=o.isTouch?Eq(c):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,c)=>{let{context:h}=this.component,d=null,g=!1;if(o){let y=this.hitDragging.initialHit;o.componentId===y.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(y,o)||(d=wq(y,o,h.pluginHooks.dateSelectionTransformers)),(!d||!j3(d,o.dateProfile,h))&&(g=!0,d=null)}d?h.dispatch({type:"SELECT_DATES",selection:d}):c||h.dispatch({type:"UNSELECT_DATES"}),g?l0():c0(),c||(this.dragSelection=d)},this.handlePointerUp=o=>{this.dragSelection&&(Tk(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,s=this.dragging=new sd(e.el);s.touchScrollAllowed=!1,s.minDistance=i.selectMinDistance||0,s.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new tm(this.dragging,S0(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Eq(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function wq(n,e,t){let i=n.dateSpan,s=e.dateSpan,r=[i.range.start,i.range.end,s.range.start,s.range.end];r.sort(c5);let o={};for(let c of t){let h=c(n,e);if(h===!1)return null;h&&Object.assign(o,h)}return o.range={start:r[0],end:r[3]},o.allDay=i.allDay,o}class rd extends Dc{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let c=o.origEvent.target,{component:h,dragging:d}=this,{mirror:g}=d,{options:y}=h.context,b=h.context;this.subjectEl=o.subjectEl;let _=this.subjectSeg=mc(o.subjectEl),T=(this.eventRange=_.eventRange).instance.instanceId;this.relevantEvents=b0(b.getCurrentData().eventStore,T),d.minDistance=o.isTouch?0:y.eventDragMinDistance,d.delay=o.isTouch&&T!==h.props.eventSelection?Aq(h):null,y.fixedMirrorParent?g.parentNode=y.fixedMirrorParent:g.parentNode=Dn(c,".fc"),g.revertDuration=y.dragRevertDuration;let A=h.isValidSegDownEl(c)&&!Dn(c,".fc-event-resizer");d.setIgnoreMove(!A),this.isDragging=A&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let c=this.component.context,h=this.eventRange,d=h.instance.instanceId;o.isTouch?d!==this.component.props.eventSelection&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):c.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(c.calendarApi.unselect(o),c.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new bt(c,h.def,h.instance),jsEvent:o.origEvent,view:c.viewApi}))},this.handleHitUpdate=(o,c)=>{if(!this.isDragging)return;let h=this.relevantEvents,d=this.hitDragging.initialHit,g=this.component.context,y=null,b=null,_=null,S=!1,T={affectedEvents:h,mutatedEvents:Ui(),isEvent:!0};if(o){y=o.context;let A=y.options;g===y||A.editable&&A.droppable?(b=Sq(d,o,this.eventRange.instance.range.start,y.getCurrentData().pluginHooks.eventDragMutationMassagers),b&&(_=w0(h,y.getCurrentData().eventUiBases,b,y),T.mutatedEvents=_,zk(T,o.dateProfile,y)||(S=!0,b=null,_=null,T.mutatedEvents=Ui()))):y=null}this.displayDrag(y,T),S?l0():c0(),c||(g===y&&nm(d,o)&&(b=null),this.dragging.setMirrorNeedsRevert(!b),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=y,this.validMutation=b,this.mutatedRelevantEvents=_)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let c=this.component.context,h=c.viewApi,{receivingContext:d,validMutation:g}=this,y=this.eventRange.def,b=this.eventRange.instance,_=new bt(c,y,b),S=this.relevantEvents,T=this.mutatedRelevantEvents,{finalHit:A}=this.hitDragging;if(this.clearDrag(),c.emitter.trigger("eventDragStop",{el:this.subjectEl,event:_,jsEvent:o.origEvent,view:h}),g){if(d===c){let I=new bt(c,T.defs[y.defId],b?T.instances[b.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:T});let M={oldEvent:_,event:I,relatedEvents:Co(T,c,b),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:S})}},j={};for(let H of c.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(j,H(g,c));c.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},M),j),{el:o.subjectEl,delta:g.datesDelta,jsEvent:o.origEvent,view:h})),c.emitter.trigger("eventChange",M)}else if(d){let I={event:_,relatedEvents:Co(S,c,b),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:S})}};c.emitter.trigger("eventLeave",Object.assign(Object.assign({},I),{draggedEl:o.subjectEl,view:h})),c.dispatch({type:"REMOVE_EVENTS",eventStore:S}),c.emitter.trigger("eventRemove",I);let M=T.defs[y.defId],j=T.instances[b.instanceId],H=new bt(d,M,j);d.dispatch({type:"MERGE_EVENTS",eventStore:T});let q={event:H,relatedEvents:Co(T,d,j),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:T})}};d.emitter.trigger("eventAdd",q),o.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:b.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},pN(A.dateSpan,d)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:A.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},q),{draggedEl:o.subjectEl,view:A.context.viewApi}))}}else c.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:i}=t.context,s=this.dragging=new sd(e.el);s.pointer.selector=rd.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new tm(this.dragging,Vb);r.useSubjectCenter=e.useEventCenter,r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let i=this.component.context,s=this.receivingContext;s&&s!==e&&(s===i?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Ui(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}rd.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Sq(n,e,t,i){let s=n.dateSpan,r=e.dateSpan,o=s.range.start,c=r.range.start,h={};s.allDay!==r.allDay&&(h.allDay=r.allDay,h.hasEnd=e.context.options.allDayMaintainDuration,r.allDay?o=vt(t):o=t);let d=Xl(o,c,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);d.milliseconds&&(h.allDay=!1);let g={datesDelta:d,standardProps:h};for(let y of i)y(g,n,e);return g}function Aq(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class Tq extends Dc{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=r=>{let{component:o}=this,c=this.querySegEl(r),h=mc(c),d=this.eventRange=h.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(r.origEvent.target)||r.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=r=>{let{context:o}=this.component,c=this.eventRange;this.relevantEvents=b0(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let h=this.querySegEl(r);this.draggingSegEl=h,this.draggingSeg=mc(h),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:h,event:new bt(o,c.def,c.instance),jsEvent:r.origEvent,view:o.viewApi})},this.handleHitUpdate=(r,o,c)=>{let{context:h}=this.component,d=this.relevantEvents,g=this.hitDragging.initialHit,y=this.eventRange.instance,b=null,_=null,S=!1,T={affectedEvents:d,mutatedEvents:Ui(),isEvent:!0};r&&(r.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,r)||(b=xq(g,r,c.subjectEl.classList.contains("fc-event-resizer-start"),y.range))),b&&(_=w0(d,h.getCurrentData().eventUiBases,b,h),T.mutatedEvents=_,zk(T,r.dateProfile,h)||(S=!0,b=null,_=null,T.mutatedEvents=null)),_?h.dispatch({type:"SET_EVENT_RESIZE",state:T}):h.dispatch({type:"UNSET_EVENT_RESIZE"}),S?l0():c0(),o||(b&&nm(g,r)&&(b=null),this.validMutation=b,this.mutatedRelevantEvents=_)},this.handleDragEnd=r=>{let{context:o}=this.component,c=this.eventRange.def,h=this.eventRange.instance,d=new bt(o,c,h),g=this.relevantEvents,y=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:r.origEvent,view:o.viewApi}),this.validMutation){let b=new bt(o,y.defs[c.defId],h?y.instances[h.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:y});let _={oldEvent:d,event:b,relatedEvents:Co(y,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:g})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},_),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||tt(0),endDelta:this.validMutation.endDelta||tt(0),jsEvent:r.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",_)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new sd(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let s=this.hitDragging=new tm(this.dragging,S0(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Dn(e.subjectEl,".fc-event")}}function xq(n,e,t,i){let s=n.context.dateEnv,r=n.dateSpan.range.start,o=e.dateSpan.range.start,c=Xl(r,o,s,n.largeUnit);if(t){if(s.add(i.start,c)<i.end)return{startDelta:c}}else if(s.add(i.end,c)>i.start)return{endDelta:c};return null}class Rq{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let s=this.context.options.unselectCancel,r=sk(i.origEvent);this.matchesCancel=!!Dn(r,s),this.matchesEvent=!!Dn(r,rd.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:s}=this,{documentPointer:r}=this,o=s.getCurrentData();if(!r.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let c=s.options.unselectAuto;c&&(!c||!this.matchesCancel)&&s.calendarApi.unselect(i)}o.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new hN(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Cq={fixedMirrorParent:Z},Dq={dateClick:Z,eventDragStart:Z,eventDragStop:Z,eventDrop:Z,eventResizeStart:Z,eventResizeStop:Z,eventResize:Z,drop:Z,eventReceive:Z,eventLeave:Z};R0.dataAttrPrefix="";var Iq=Pa({name:"@fullcalendar/interaction",componentInteractions:[bq,_q,rd,Tq],calendarInteractions:[Rq],elementDraggingImpl:sd,optionRefiners:Cq,listenerRefiners:Dq});const kq=({events:n,onDateClick:e})=>{const[t,i]=B.useState(window.innerWidth<768);B.useEffect(()=>{const r=()=>i(window.innerWidth<768);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);const s=t?{left:"prev,next",center:"title",right:""}:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek"};return E.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-lg p-4",children:E.jsx(nN,{plugins:[lq,Iq],initialView:"dayGridMonth",headerToolbar:s,events:n,dateClick:e,height:"auto"})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ad(n){return n+.5|0}const fa=(n,e,t)=>Math.max(Math.min(n,t),e);function Zu(n){return fa(ad(n*2.55),0,255)}function Ea(n){return fa(ad(n*255),0,255)}function ir(n){return fa(ad(n/2.55)/100,0,1)}function eR(n){return fa(ad(n*100),0,100)}const wi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fb=[..."0123456789ABCDEF"],Nq=n=>Fb[n&15],Mq=n=>Fb[(n&240)>>4]+Fb[n&15],Gf=n=>(n&240)>>4===(n&15),Oq=n=>Gf(n.r)&&Gf(n.g)&&Gf(n.b)&&Gf(n.a);function Pq(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&wi[n[1]]*17,g:255&wi[n[2]]*17,b:255&wi[n[3]]*17,a:e===5?wi[n[4]]*17:255}:(e===7||e===9)&&(t={r:wi[n[1]]<<4|wi[n[2]],g:wi[n[3]]<<4|wi[n[4]],b:wi[n[5]]<<4|wi[n[6]],a:e===9?wi[n[7]]<<4|wi[n[8]]:255})),t}const jq=(n,e)=>n<255?e(n):"";function Lq(n){var e=Oq(n)?Nq:Mq;return n?"#"+e(n.r)+e(n.g)+e(n.b)+jq(n.a,e):void 0}const Vq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function mN(n,e,t){const i=e*Math.min(t,1-t),s=(r,o=(r+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function Uq(n,e,t){const i=(s,r=(s+n/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function zq(n,e,t){const i=mN(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)i[s]*=1-e-t,i[s]+=e;return i}function Bq(n,e,t,i,s){return n===s?(e-t)/i+(e<t?6:0):e===s?(t-n)/i+2:(n-e)/i+4}function k0(n){const t=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(t,i,s),o=Math.min(t,i,s),c=(r+o)/2;let h,d,g;return r!==o&&(g=r-o,d=c>.5?g/(2-r-o):g/(r+o),h=Bq(t,i,s,g,r),h=h*60+.5),[h|0,d||0,c]}function N0(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Ea)}function M0(n,e,t){return N0(mN,n,e,t)}function Hq(n,e,t){return N0(zq,n,e,t)}function Fq(n,e,t){return N0(Uq,n,e,t)}function yN(n){return(n%360+360)%360}function qq(n){const e=Vq.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Zu(+e[5]):Ea(+e[5]));const s=yN(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=Hq(s,r,o):e[1]==="hsv"?i=Fq(s,r,o):i=M0(s,r,o),{r:i[0],g:i[1],b:i[2],a:t}}function Gq(n,e){var t=k0(n);t[0]=yN(t[0]+e),t=M0(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Wq(n){if(!n)return;const e=k0(n),t=e[0],i=eR(e[1]),s=eR(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${s}%, ${ir(n.a)})`:`hsl(${t}, ${i}%, ${s}%)`}const tR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nR={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $q(){const n={},e=Object.keys(nR),t=Object.keys(tR);let i,s,r,o,c;for(i=0;i<e.length;i++){for(o=c=e[i],s=0;s<t.length;s++)r=t[s],c=c.replace(r,tR[r]);r=parseInt(nR[o],16),n[c]=[r>>16&255,r>>8&255,r&255]}return n}let Wf;function Yq(n){Wf||(Wf=$q(),Wf.transparent=[0,0,0,0]);const e=Wf[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Qq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Kq(n){const e=Qq.exec(n);let t=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?Zu(o):fa(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?Zu(i):fa(i,0,255)),s=255&(e[4]?Zu(s):fa(s,0,255)),r=255&(e[6]?Zu(r):fa(r,0,255)),{r:i,g:s,b:r,a:t}}}function Xq(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ir(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Hv=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Fl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Zq(n,e,t){const i=Fl(ir(n.r)),s=Fl(ir(n.g)),r=Fl(ir(n.b));return{r:Ea(Hv(i+t*(Fl(ir(e.r))-i))),g:Ea(Hv(s+t*(Fl(ir(e.g))-s))),b:Ea(Hv(r+t*(Fl(ir(e.b))-r))),a:n.a+t*(e.a-n.a)}}function $f(n,e,t){if(n){let i=k0(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=M0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function vN(n,e){return n&&Object.assign(e||{},n)}function iR(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ea(n[3]))):(e=vN(n,{r:0,g:0,b:0,a:1}),e.a=Ea(e.a)),e}function Jq(n){return n.charAt(0)==="r"?Kq(n):qq(n)}class Oh{constructor(e){if(e instanceof Oh)return e;const t=typeof e;let i;t==="object"?i=iR(e):t==="string"&&(i=Pq(e)||Yq(e)||Jq(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=vN(this._rgb);return e&&(e.a=ir(e.a)),e}set rgb(e){this._rgb=iR(e)}rgbString(){return this._valid?Xq(this._rgb):void 0}hexString(){return this._valid?Lq(this._rgb):void 0}hslString(){return this._valid?Wq(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let r;const o=t===r?.5:t,c=2*o-1,h=i.a-s.a,d=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;r=1-d,i.r=255&d*i.r+r*s.r+.5,i.g=255&d*i.g+r*s.g+.5,i.b=255&d*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=Zq(this._rgb,e._rgb,t)),this}clone(){return new Oh(this.rgb)}alpha(e){return this._rgb.a=Ea(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=ad(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return $f(this._rgb,2,e),this}darken(e){return $f(this._rgb,2,-e),this}saturate(e){return $f(this._rgb,1,e),this}desaturate(e){return $f(this._rgb,1,-e),this}rotate(e){return Gq(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function er(){}const e8=(()=>{let n=0;return()=>n++})();function st(n){return n==null}function Xt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Qe(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Di(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function fs(n,e){return Di(n)?n:e}function Ue(n,e){return typeof n>"u"?e:n}const t8=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,bN=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function pt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function at(n,e,t,i){let s,r,o;if(Xt(n))for(r=n.length,s=0;s<r;s++)e.call(t,n[s],s);else if(Qe(n))for(o=Object.keys(n),r=o.length,s=0;s<r;s++)e.call(t,n[o[s]],o[s])}function gp(n,e){let t,i,s,r;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(s=n[t],r=e[t],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function pp(n){if(Xt(n))return n.map(pp);if(Qe(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let s=0;for(;s<i;++s)e[t[s]]=pp(n[t[s]]);return e}return n}function _N(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function n8(n,e,t,i){if(!_N(n))return;const s=e[n],r=t[n];Qe(s)&&Qe(r)?Ph(s,r,i):e[n]=pp(r)}function Ph(n,e,t){const i=Xt(e)?e:[e],s=i.length;if(!Qe(n))return n;t=t||{};const r=t.merger||n8;let o;for(let c=0;c<s;++c){if(o=i[c],!Qe(o))continue;const h=Object.keys(o);for(let d=0,g=h.length;d<g;++d)r(h[d],n,o,t)}return n}function mh(n,e){return Ph(n,e,{merger:i8})}function i8(n,e,t){if(!_N(n))return;const i=e[n],s=t[n];Qe(i)&&Qe(s)?mh(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=pp(s))}const sR={"":n=>n,x:n=>n.x,y:n=>n.y};function s8(n){const e=n.split("."),t=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function r8(n){const e=s8(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Uo(n,e){return(sR[e]||(sR[e]=r8(e)))(n)}function O0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const jh=n=>typeof n<"u",ka=n=>typeof n=="function",rR=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function a8(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ot=Math.PI,Mt=2*Ot,o8=Mt+Ot,mp=Number.POSITIVE_INFINITY,l8=Ot/180,Zt=Ot/2,po=Ot/4,aR=Ot*2/3,EN=Math.log10,Ss=Math.sign;function yh(n,e,t){return Math.abs(n-e)<t}function oR(n){const e=Math.round(n);n=yh(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(EN(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function c8(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((s,r)=>s-r).pop(),e}function u8(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Lh(n){return!u8(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function h8(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function d8(n,e,t){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function lr(n){return n*(Ot/180)}function f8(n){return n*(180/Ot)}function lR(n){if(!Di(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function wN(n,e){const t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);let r=Math.atan2(i,t);return r<-.5*Ot&&(r+=Mt),{angle:r,distance:s}}function qb(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function g8(n,e){return(n-e+o8)%Mt-Ot}function ra(n){return(n%Mt+Mt)%Mt}function Vh(n,e,t,i){const s=ra(n),r=ra(e),o=ra(t),c=ra(r-s),h=ra(o-s),d=ra(s-r),g=ra(s-o);return s===r||s===o||i&&r===o||c>h&&d<g}function In(n,e,t){return Math.max(e,Math.min(t,n))}function p8(n){return In(n,-32768,32767)}function ga(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function P0(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,t(r)?s=r:i=r;return{lo:s,hi:i}}const Ro=(n,e,t,i)=>P0(n,t,i?s=>{const r=n[s][e];return r<t||r===t&&n[s+1][e]===t}:s=>n[s][e]<t),m8=(n,e,t)=>P0(n,t,i=>n[i][e]>=t);function y8(n,e,t){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>t;)s--;return i>0||s<n.length?n.slice(i,s):n}const SN=["push","pop","shift","splice","unshift"];function v8(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),SN.forEach(t=>{const i="_onData"+O0(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...r)}),o}})})}function cR(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(SN.forEach(r=>{delete n[r]}),delete n._chartjs)}function AN(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const TN=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function xN(n,e){let t=[],i=!1;return function(...s){t=s,i||(i=!0,TN.call(window,()=>{i=!1,n.apply(e,t)}))}}function b8(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const j0=n=>n==="start"?"left":n==="end"?"right":"center",xn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,_8=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function E8(n,e,t){const i=e.length;let s=0,r=i;if(n._sorted){const{iScale:o,vScale:c,_parsed:h}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=o.axis,{min:y,max:b,minDefined:_,maxDefined:S}=o.getUserBounds();if(_){if(s=Math.min(Ro(h,g,y).lo,t?i:Ro(e,g,o.getPixelForValue(y)).lo),d){const T=h.slice(0,s+1).reverse().findIndex(A=>!st(A[c.axis]));s-=Math.max(0,T)}s=In(s,0,i-1)}if(S){let T=Math.max(Ro(h,o.axis,b,!0).hi+1,t?0:Ro(e,g,o.getPixelForValue(b),!0).hi+1);if(d){const A=h.slice(T-1).findIndex(I=>!st(I[c.axis]));T+=Math.max(0,A)}r=In(T,s,i)-s}else r=i-s}return{start:s,count:r}}function w8(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),r}const Yf=n=>n===0||n===1,uR=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Mt/t)),hR=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Mt/t)+1,vh={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Zt)+1,easeOutSine:n=>Math.sin(n*Zt),easeInOutSine:n=>-.5*(Math.cos(Ot*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Yf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Yf(n)?n:uR(n,.075,.3),easeOutElastic:n=>Yf(n)?n:hR(n,.075,.3),easeInOutElastic(n){return Yf(n)?n:n<.5?.5*uR(n*2,.1125,.45):.5+.5*hR(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-vh.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?vh.easeInBounce(n*2)*.5:vh.easeOutBounce(n*2-1)*.5+.5};function L0(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function dR(n){return L0(n)?n:new Oh(n)}function Fv(n){return L0(n)?n:new Oh(n).saturate(.5).darken(.1).hexString()}const S8=["x","y","borderWidth","radius","tension"],A8=["color","borderColor","backgroundColor"];function T8(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:A8},numbers:{type:"number",properties:S8}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function x8(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const fR=new Map;function R8(n,e){e=e||{};const t=n+JSON.stringify(e);let i=fR.get(t);return i||(i=new Intl.NumberFormat(n,e),fR.set(t,i)),i}function V0(n,e,t){return R8(e,t).format(n)}const C8={values(n){return Xt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let s,r=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),r=D8(n,t)}const o=EN(Math.abs(r)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),V0(n,i,h)}};function D8(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var RN={formatters:C8};function I8(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:RN.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const zo=Object.create(null),Gb=Object.create(null);function bh(n,e){if(!e)return n;const t=e.split(".");for(let i=0,s=t.length;i<s;++i){const r=t[i];n=n[r]||(n[r]=Object.create(null))}return n}function qv(n,e,t){return typeof e=="string"?Ph(bh(n,e),t):Ph(bh(n,""),e)}class k8{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Fv(s.backgroundColor),this.hoverBorderColor=(i,s)=>Fv(s.borderColor),this.hoverColor=(i,s)=>Fv(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return qv(this,e,t)}get(e){return bh(this,e)}describe(e,t){return qv(Gb,e,t)}override(e,t){return qv(zo,e,t)}route(e,t,i,s){const r=bh(this,e),o=bh(this,i),c="_"+t;Object.defineProperties(r,{[c]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],d=o[s];return Qe(h)?Object.assign({},d,h):Ue(h,d)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var Ut=new k8({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[T8,x8,I8]);function N8(n){return!n||st(n.size)||st(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function gR(n,e,t,i,s){let r=e[s];return r||(r=e[s]=n.measureText(s).width,t.push(s)),r>i&&(i=r),i}function mo(n,e,t){const i=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*i)/i+s}function pR(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Wb(n,e,t,i){CN(n,e,t,i,null)}function CN(n,e,t,i,s){let r,o,c,h,d,g,y,b;const _=e.pointStyle,S=e.rotation,T=e.radius;let A=(S||0)*l8;if(_&&typeof _=="object"&&(r=_.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(A),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(T)||T<=0)){switch(n.beginPath(),_){default:s?n.ellipse(t,i,s/2,T,0,0,Mt):n.arc(t,i,T,0,Mt),n.closePath();break;case"triangle":g=s?s/2:T,n.moveTo(t+Math.sin(A)*g,i-Math.cos(A)*T),A+=aR,n.lineTo(t+Math.sin(A)*g,i-Math.cos(A)*T),A+=aR,n.lineTo(t+Math.sin(A)*g,i-Math.cos(A)*T),n.closePath();break;case"rectRounded":d=T*.516,h=T-d,o=Math.cos(A+po)*h,y=Math.cos(A+po)*(s?s/2-d:h),c=Math.sin(A+po)*h,b=Math.sin(A+po)*(s?s/2-d:h),n.arc(t-y,i-c,d,A-Ot,A-Zt),n.arc(t+b,i-o,d,A-Zt,A),n.arc(t+y,i+c,d,A,A+Zt),n.arc(t-b,i+o,d,A+Zt,A+Ot),n.closePath();break;case"rect":if(!S){h=Math.SQRT1_2*T,g=s?s/2:h,n.rect(t-g,i-h,2*g,2*h);break}A+=po;case"rectRot":y=Math.cos(A)*(s?s/2:T),o=Math.cos(A)*T,c=Math.sin(A)*T,b=Math.sin(A)*(s?s/2:T),n.moveTo(t-y,i-c),n.lineTo(t+b,i-o),n.lineTo(t+y,i+c),n.lineTo(t-b,i+o),n.closePath();break;case"crossRot":A+=po;case"cross":y=Math.cos(A)*(s?s/2:T),o=Math.cos(A)*T,c=Math.sin(A)*T,b=Math.sin(A)*(s?s/2:T),n.moveTo(t-y,i-c),n.lineTo(t+y,i+c),n.moveTo(t+b,i-o),n.lineTo(t-b,i+o);break;case"star":y=Math.cos(A)*(s?s/2:T),o=Math.cos(A)*T,c=Math.sin(A)*T,b=Math.sin(A)*(s?s/2:T),n.moveTo(t-y,i-c),n.lineTo(t+y,i+c),n.moveTo(t+b,i-o),n.lineTo(t-b,i+o),A+=po,y=Math.cos(A)*(s?s/2:T),o=Math.cos(A)*T,c=Math.sin(A)*T,b=Math.sin(A)*(s?s/2:T),n.moveTo(t-y,i-c),n.lineTo(t+y,i+c),n.moveTo(t+b,i-o),n.lineTo(t-b,i+o);break;case"line":o=s?s/2:Math.cos(A)*T,c=Math.sin(A)*T,n.moveTo(t-o,i-c),n.lineTo(t+o,i+c);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(A)*(s?s/2:T),i+Math.sin(A)*T);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Uh(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function U0(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function z0(n){n.restore()}function M8(n,e,t,i,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const r=(e.x+t.x)/2;n.lineTo(r,e.y),n.lineTo(r,t.y)}else s==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function O8(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function P8(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),st(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function j8(n,e,t,i,s){if(s.strikethrough||s.underline){const r=n.measureText(i),o=e-r.actualBoundingBoxLeft,c=e+r.actualBoundingBoxRight,h=t-r.actualBoundingBoxAscent,d=t+r.actualBoundingBoxDescent,g=s.strikethrough?(h+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(o,g),n.lineTo(c,g),n.stroke()}}function L8(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function zh(n,e,t,i,s,r={}){const o=Xt(e)?e:[e],c=r.strokeWidth>0&&r.strokeColor!=="";let h,d;for(n.save(),n.font=s.string,P8(n,r),h=0;h<o.length;++h)d=o[h],r.backdrop&&L8(n,r.backdrop),c&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),st(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(d,t,i,r.maxWidth)),n.fillText(d,t,i,r.maxWidth),j8(n,t,i,d,r),i+=Number(s.lineHeight);n.restore()}function yp(n,e){const{x:t,y:i,w:s,h:r,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*Ot,Ot,!0),n.lineTo(t,i+r-o.bottomLeft),n.arc(t+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Ot,Zt,!0),n.lineTo(t+s-o.bottomRight,i+r),n.arc(t+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Zt,0,!0),n.lineTo(t+s,i+o.topRight),n.arc(t+s-o.topRight,i+o.topRight,o.topRight,0,-Zt,!0),n.lineTo(t+o.topLeft,i)}const V8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,U8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function z8(n,e){const t=(""+n).match(V8);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const B8=n=>+n||0;function B0(n,e){const t={},i=Qe(e),s=i?Object.keys(e):e,r=Qe(n)?i?o=>Ue(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of s)t[o]=B8(r(o));return t}function DN(n){return B0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function sc(n){return B0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ii(n){const e=DN(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function kn(n,e){n=n||{},e=e||Ut.font;let t=Ue(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Ue(n.style,e.style);i&&!(""+i).match(U8)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Ue(n.family,e.family),lineHeight:z8(Ue(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Ue(n.weight,e.weight),string:""};return s.string=N8(s),s}function Qf(n,e,t,i){let s,r,o;for(s=0,r=n.length;s<r;++s)if(o=n[s],o!==void 0&&o!==void 0)return o}function H8(n,e,t){const{min:i,max:s}=n,r=bN(e,(s-i)/2),o=(c,h)=>t&&c===0?0:c+h;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function Jo(n,e){return Object.assign(Object.create(n),e)}function H0(n,e=[""],t,i,s=()=>n[0]){const r=t||n;typeof i>"u"&&(i=MN("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:s,override:c=>H0([c,...n],e,r,i)};return new Proxy(o,{deleteProperty(c,h){return delete c[h],delete c._keys,delete n[0][h],!0},get(c,h){return kN(c,h,()=>K8(h,e,n,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,h){return yR(c).includes(h)},ownKeys(c){return yR(c)},set(c,h,d){const g=c._storage||(c._storage=s());return c[h]=g[h]=d,delete c._keys,!0}})}function yc(n,e,t,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:IN(n,i),setContext:r=>yc(n,r,t,i),override:r=>yc(n.override(r),e,t,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,c){return kN(r,o,()=>q8(r,o,c))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,c){return n[o]=c,delete r[o],!0}})}function IN(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:i,isScriptable:ka(t)?t:()=>t,isIndexable:ka(i)?i:()=>i}}const F8=(n,e)=>n?n+O0(e):e,F0=(n,e)=>Qe(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function kN(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function q8(n,e,t){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=n;let c=i[e];return ka(c)&&o.isScriptable(e)&&(c=G8(e,c,n,t)),Xt(c)&&c.length&&(c=W8(e,c,n,o.isIndexable)),F0(e,c)&&(c=yc(c,s,r&&r[e],o)),c}function G8(n,e,t,i){const{_proxy:s,_context:r,_subProxy:o,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=e(r,o||i);return c.delete(n),F0(n,h)&&(h=q0(s._scopes,s,n,h)),h}function W8(n,e,t,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:c}=t;if(typeof r.index<"u"&&i(n))return e[r.index%e.length];if(Qe(e[0])){const h=e,d=s._scopes.filter(g=>g!==h);e=[];for(const g of h){const y=q0(d,s,n,g);e.push(yc(y,r,o&&o[n],c))}}return e}function NN(n,e,t){return ka(n)?n(e,t):n}const $8=(n,e)=>n===!0?e:typeof n=="string"?Uo(e,n):void 0;function Y8(n,e,t,i,s){for(const r of e){const o=$8(t,r);if(o){n.add(o);const c=NN(o._fallback,t,s);if(typeof c<"u"&&c!==t&&c!==i)return c}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function q0(n,e,t,i){const s=e._rootScopes,r=NN(e._fallback,t,i),o=[...n,...s],c=new Set;c.add(i);let h=mR(c,o,t,r||t,i);return h===null||typeof r<"u"&&r!==t&&(h=mR(c,o,r,h,i),h===null)?!1:H0(Array.from(c),[""],s,r,()=>Q8(e,t,i))}function mR(n,e,t,i,s){for(;t;)t=Y8(n,e,t,i,s);return t}function Q8(n,e,t){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return Xt(s)&&Qe(t)?t:s||{}}function K8(n,e,t,i){let s;for(const r of e)if(s=MN(F8(r,n),t),typeof s<"u")return F0(n,s)?q0(t,i,n,s):s}function MN(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function yR(n){let e=n._keys;return e||(e=n._keys=X8(n._scopes)),e}function X8(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const Z8=Number.EPSILON||1e-14,vc=(n,e)=>e<n.length&&!n[e].skip&&n[e],ON=n=>n==="x"?"y":"x";function J8(n,e,t,i){const s=n.skip?e:n,r=e,o=t.skip?e:t,c=qb(r,s),h=qb(o,r);let d=c/(c+h),g=h/(c+h);d=isNaN(d)?0:d,g=isNaN(g)?0:g;const y=i*d,b=i*g;return{previous:{x:r.x-y*(o.x-s.x),y:r.y-y*(o.y-s.y)},next:{x:r.x+b*(o.x-s.x),y:r.y+b*(o.y-s.y)}}}function eG(n,e,t){const i=n.length;let s,r,o,c,h,d=vc(n,0);for(let g=0;g<i-1;++g)if(h=d,d=vc(n,g+1),!(!h||!d)){if(yh(e[g],0,Z8)){t[g]=t[g+1]=0;continue}s=t[g]/e[g],r=t[g+1]/e[g],c=Math.pow(s,2)+Math.pow(r,2),!(c<=9)&&(o=3/Math.sqrt(c),t[g]=s*o*e[g],t[g+1]=r*o*e[g])}}function tG(n,e,t="x"){const i=ON(t),s=n.length;let r,o,c,h=vc(n,0);for(let d=0;d<s;++d){if(o=c,c=h,h=vc(n,d+1),!c)continue;const g=c[t],y=c[i];o&&(r=(g-o[t])/3,c[`cp1${t}`]=g-r,c[`cp1${i}`]=y-r*e[d]),h&&(r=(h[t]-g)/3,c[`cp2${t}`]=g+r,c[`cp2${i}`]=y+r*e[d])}}function nG(n,e="x"){const t=ON(e),i=n.length,s=Array(i).fill(0),r=Array(i);let o,c,h,d=vc(n,0);for(o=0;o<i;++o)if(c=h,h=d,d=vc(n,o+1),!!h){if(d){const g=d[e]-h[e];s[o]=g!==0?(d[t]-h[t])/g:0}r[o]=c?d?Ss(s[o-1])!==Ss(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}eG(n,s,r),tG(n,r,e)}function Kf(n,e,t){return Math.max(Math.min(n,t),e)}function iG(n,e){let t,i,s,r,o,c=Uh(n[0],e);for(t=0,i=n.length;t<i;++t)o=r,r=c,c=t<i-1&&Uh(n[t+1],e),r&&(s=n[t],o&&(s.cp1x=Kf(s.cp1x,e.left,e.right),s.cp1y=Kf(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=Kf(s.cp2x,e.left,e.right),s.cp2y=Kf(s.cp2y,e.top,e.bottom)))}function sG(n,e,t,i,s){let r,o,c,h;if(e.spanGaps&&(n=n.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")nG(n,s);else{let d=i?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)c=n[r],h=J8(d,c,n[Math.min(r+1,o-(i?0:1))%o],e.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,d=c}e.capBezierPoints&&iG(n,t)}function G0(){return typeof window<"u"&&typeof document<"u"}function W0(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function vp(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const im=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function rG(n,e){return im(n).getPropertyValue(e)}const aG=["top","right","bottom","left"];function Do(n,e,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const r=aG[s];i[r]=parseFloat(n[e+"-"+r+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const oG=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function lG(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:s,offsetY:r}=i;let o=!1,c,h;if(oG(s,r,n.target))c=s,h=r;else{const d=e.getBoundingClientRect();c=i.clientX-d.left,h=i.clientY-d.top,o=!0}return{x:c,y:h,box:o}}function Eo(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,s=im(t),r=s.boxSizing==="border-box",o=Do(s,"padding"),c=Do(s,"border","width"),{x:h,y:d,box:g}=lG(n,t),y=o.left+(g&&c.left),b=o.top+(g&&c.top);let{width:_,height:S}=e;return r&&(_-=o.width+c.width,S-=o.height+c.height),{x:Math.round((h-y)/_*t.width/i),y:Math.round((d-b)/S*t.height/i)}}function cG(n,e,t){let i,s;if(e===void 0||t===void 0){const r=n&&W0(n);if(!r)e=n.clientWidth,t=n.clientHeight;else{const o=r.getBoundingClientRect(),c=im(r),h=Do(c,"border","width"),d=Do(c,"padding");e=o.width-d.width-h.width,t=o.height-d.height-h.height,i=vp(c.maxWidth,r,"clientWidth"),s=vp(c.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:i||mp,maxHeight:s||mp}}const Xf=n=>Math.round(n*10)/10;function uG(n,e,t,i){const s=im(n),r=Do(s,"margin"),o=vp(s.maxWidth,n,"clientWidth")||mp,c=vp(s.maxHeight,n,"clientHeight")||mp,h=cG(n,e,t);let{width:d,height:g}=h;if(s.boxSizing==="content-box"){const b=Do(s,"border","width"),_=Do(s,"padding");d-=_.width+b.width,g-=_.height+b.height}return d=Math.max(0,d-r.width),g=Math.max(0,i?d/i:g-r.height),d=Xf(Math.min(d,o,h.maxWidth)),g=Xf(Math.min(g,c,h.maxHeight)),d&&!g&&(g=Xf(d/2)),(e!==void 0||t!==void 0)&&i&&h.height&&g>h.height&&(g=h.height,d=Xf(Math.floor(g*i))),{width:d,height:g}}function vR(n,e,t){const i=e||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(n.currentDevicePixelRatio=i,o.height=s,o.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const hG=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};G0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function bR(n,e){const t=rG(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function wo(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function dG(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function fG(n,e,t,i){const s={x:n.cp2x,y:n.cp2y},r={x:e.cp1x,y:e.cp1y},o=wo(n,s,t),c=wo(s,r,t),h=wo(r,e,t),d=wo(o,c,t),g=wo(c,h,t);return wo(d,g,t)}const gG=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},pG=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function rc(n,e,t){return n?gG(e,t):pG()}function PN(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function jN(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function LN(n){return n==="angle"?{between:Vh,compare:g8,normalize:ra}:{between:ga,compare:(e,t)=>e-t,normalize:e=>e}}function _R({start:n,end:e,count:t,loop:i,style:s}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:s}}function mG(n,e,t){const{property:i,start:s,end:r}=t,{between:o,normalize:c}=LN(i),h=e.length;let{start:d,end:g,loop:y}=n,b,_;if(y){for(d+=h,g+=h,b=0,_=h;b<_&&o(c(e[d%h][i]),s,r);++b)d--,g--;d%=h,g%=h}return g<d&&(g+=h),{start:d,end:g,loop:y,style:n.style}}function yG(n,e,t){if(!t)return[n];const{property:i,start:s,end:r}=t,o=e.length,{compare:c,between:h,normalize:d}=LN(i),{start:g,end:y,loop:b,style:_}=mG(n,e,t),S=[];let T=!1,A=null,I,M,j;const H=()=>h(s,j,I)&&c(s,j)!==0,q=()=>c(r,I)===0||h(r,j,I),Q=()=>T||H(),P=()=>!T||q();for(let C=g,D=g;C<=y;++C)M=e[C%o],!M.skip&&(I=d(M[i]),I!==j&&(T=h(I,s,r),A===null&&Q()&&(A=c(I,s)===0?C:D),A!==null&&P()&&(S.push(_R({start:A,end:C,loop:b,count:o,style:_})),A=null),D=C,j=I));return A!==null&&S.push(_R({start:A,end:y,loop:b,count:o,style:_})),S}function vG(n,e){const t=[],i=n.segments;for(let s=0;s<i.length;s++){const r=yG(i[s],n.points,e);r.length&&t.push(...r)}return t}function bG(n,e,t,i){let s=0,r=e-1;if(t&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(r+=s);r>s&&n[r%e].skip;)r--;return r%=e,{start:s,end:r}}function _G(n,e,t,i){const s=n.length,r=[];let o=e,c=n[e],h;for(h=e+1;h<=t;++h){const d=n[h%s];d.skip||d.stop?c.skip||(i=!1,r.push({start:e%s,end:(h-1)%s,loop:i}),e=o=d.stop?h:null):(o=h,c.skip&&(e=h)),c=d}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function EG(n,e){const t=n.points,i=n.options.spanGaps,s=t.length;if(!s)return[];const r=!!n._loop,{start:o,end:c}=bG(t,s,r,i);if(i===!0)return ER(n,[{start:o,end:c,loop:r}],t,e);const h=c<o?c+s:c,d=!!n._fullLoop&&o===0&&c===s-1;return ER(n,_G(t,o,h,d),t,e)}function ER(n,e,t,i){return!i||!i.setContext||!t?e:wG(n,e,t,i)}function wG(n,e,t,i){const s=n._chart.getContext(),r=wR(n.options),{_datasetIndex:o,options:{spanGaps:c}}=n,h=t.length,d=[];let g=r,y=e[0].start,b=y;function _(S,T,A,I){const M=c?-1:1;if(S!==T){for(S+=h;t[S%h].skip;)S-=M;for(;t[T%h].skip;)T+=M;S%h!==T%h&&(d.push({start:S%h,end:T%h,loop:A,style:I}),g=I,y=T%h)}}for(const S of e){y=c?y:S.start;let T=t[y%h],A;for(b=y+1;b<=S.end;b++){const I=t[b%h];A=wR(i.setContext(Jo(s,{type:"segment",p0:T,p1:I,p0DataIndex:(b-1)%h,p1DataIndex:b%h,datasetIndex:o}))),SG(A,g)&&_(y,b-1,S.loop,g),T=I,g=A}y<b-1&&_(y,b-1,S.loop,g)}return d}function wR(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function SG(n,e){if(!e)return!1;const t=[],i=function(s,r){return L0(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class AG{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const r=t.listeners[s],o=t.duration;r.forEach(c=>c({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=TN.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,c=!1,h;for(;o>=0;--o)h=r[o],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),c=!0):(r[o]=r[r.length-1],r.pop());c&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var tr=new AG;const SR="transparent",TG={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=dR(n||SR),s=i.valid&&dR(e||SR);return s&&s.valid?s.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class xG{constructor(e,t,i,s){const r=t[i];s=Qf([e.to,s,r,e.from]);const o=Qf([e.from,r,s]);this._active=!0,this._fn=e.fn||TG[e.type||typeof o],this._easing=vh[e.easing]||vh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Qf([e.to,t,s,e.from]),this._from=Qf([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,c=this._to;let h;if(this._active=r!==c&&(o||t<i),!this._active){this._target[s]=c,this._notify(!0);return}if(t<0){this._target[s]=r;return}h=t/i%2,h=o&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(r,c,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}class VN{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Qe(e))return;const t=Object.keys(Ut.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!Qe(r))return;const o={};for(const c of t)o[c]=r[c];(Xt(r.properties)&&r.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,o)})})}_animateOptions(e,t){const i=t.options,s=CG(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&RG(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,t){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(t),c=Date.now();let h;for(h=o.length-1;h>=0;--h){const d=o[h];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,t));continue}const g=t[d];let y=r[d];const b=i.get(d);if(y)if(b&&y.active()){y.update(b,g,c);continue}else y.cancel();if(!b||!b.duration){e[d]=g;continue}r[d]=y=new xG(b,e,d,g),s.push(y)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return tr.add(this._chart,i),!0}}function RG(n,e){const t=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=n[i[s]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function CG(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function AR(n,e){const t=n&&n.options||{},i=t.reverse,s=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function DG(n,e,t){if(t===!1)return!1;const i=AR(n,t),s=AR(e,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function IG(n){let e,t,i,s;return Qe(n)?(e=n.top,t=n.right,i=n.bottom,s=n.left):e=t=i=s=n,{top:e,right:t,bottom:i,left:s,disabled:n===!1}}function UN(n,e){const t=[],i=n._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)t.push(i[s].index);return t}function TR(n,e,t,i={}){const s=n.keys,r=i.mode==="single";let o,c,h,d;if(e===null)return;let g=!1;for(o=0,c=s.length;o<c;++o){if(h=+s[o],h===t){if(g=!0,i.all)continue;break}d=n.values[h],Di(d)&&(r||e===0||Ss(e)===Ss(d))&&(e+=d)}return!g&&!i.all?0:e}function kG(n,e){const{iScale:t,vScale:i}=e,s=t.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(n),c=new Array(o.length);let h,d,g;for(h=0,d=o.length;h<d;++h)g=o[h],c[h]={[s]:g,[r]:n[g]};return c}function Gv(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function NG(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function MG(n){const{min:e,max:t,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function OG(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function xR(n,e,t,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=n[s.index];if(t&&r>0||!t&&r<0)return s.index}return null}function RR(n,e){const{chart:t,_cachedMeta:i}=n,s=t._stacks||(t._stacks={}),{iScale:r,vScale:o,index:c}=i,h=r.axis,d=o.axis,g=NG(r,o,i),y=e.length;let b;for(let _=0;_<y;++_){const S=e[_],{[h]:T,[d]:A}=S,I=S._stacks||(S._stacks={});b=I[d]=OG(s,g,T),b[c]=A,b._top=xR(b,o,!0,i.type),b._bottom=xR(b,o,!1,i.type);const M=b._visualValues||(b._visualValues={});M[c]=A}}function Wv(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function PG(n,e){return Jo(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function jG(n,e,t){return Jo(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Uu(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][t]===void 0)return;delete r[i][t],r[i]._visualValues!==void 0&&r[i]._visualValues[t]!==void 0&&delete r[i]._visualValues[t]}}}const $v=n=>n==="reset"||n==="none",CR=(n,e)=>e?n:Object.assign({},n),LG=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:UN(t,!0),values:null};class Io{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Gv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Uu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(y,b,_,S)=>y==="x"?b:y==="r"?S:_,r=t.xAxisID=Ue(i.xAxisID,Wv(e,"x")),o=t.yAxisID=Ue(i.yAxisID,Wv(e,"y")),c=t.rAxisID=Ue(i.rAxisID,Wv(e,"r")),h=t.indexAxis,d=t.iAxisID=s(h,r,o,c),g=t.vAxisID=s(h,o,r,c);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&cR(this._data,this),e._stacked&&Uu(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Qe(t)){const s=this._cachedMeta;this._data=kG(t,s)}else if(i!==t){if(i){cR(i,this);const s=this._cachedMeta;Uu(s),s._parsed=[]}t&&Object.isExtensible(t)&&v8(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=t._stacked;t._stacked=Gv(t.vScale,t),t.stack!==i.stack&&(s=!0,Uu(t),t.stack=i.stack),this._resyncElements(e),(s||r!==t._stacked)&&(RR(this,t._parsed),t._stacked=Gv(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,c=r.axis;let h=e===0&&t===s.length?!0:i._sorted,d=e>0&&i._parsed[e-1],g,y,b;if(this._parsing===!1)i._parsed=s,i._sorted=!0,b=s;else{Xt(s[e])?b=this.parseArrayData(i,s,e,t):Qe(s[e])?b=this.parseObjectData(i,s,e,t):b=this.parsePrimitiveData(i,s,e,t);const _=()=>y[c]===null||d&&y[c]<d[c];for(g=0;g<t;++g)i._parsed[g+e]=y=b[g],h&&(_()&&(h=!1),d=y);i._sorted=h}o&&RR(this,b)}parsePrimitiveData(e,t,i,s){const{iScale:r,vScale:o}=e,c=r.axis,h=o.axis,d=r.getLabels(),g=r===o,y=new Array(s);let b,_,S;for(b=0,_=s;b<_;++b)S=b+i,y[b]={[c]:g||r.parse(d[S],S),[h]:o.parse(t[S],S)};return y}parseArrayData(e,t,i,s){const{xScale:r,yScale:o}=e,c=new Array(s);let h,d,g,y;for(h=0,d=s;h<d;++h)g=h+i,y=t[g],c[h]={x:r.parse(y[0],g),y:o.parse(y[1],g)};return c}parseObjectData(e,t,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=new Array(s);let g,y,b,_;for(g=0,y=s;g<y;++g)b=g+i,_=t[b],d[g]={x:r.parse(Uo(_,c),b),y:o.parse(Uo(_,h),b)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,r=this._cachedMeta,o=t[e.axis],c={keys:UN(s,!0),values:t._stacks[e.axis]._visualValues};return TR(c,o,r.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const r=i[t.axis];let o=r===null?NaN:r;const c=s&&i._stacks[t.axis];s&&c&&(s.values=c,o=TR(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,c=this._getOtherScale(e),h=LG(t,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=MG(c);let b,_;function S(){_=s[b];const T=_[c.axis];return!Di(_[e.axis])||g>T||y<T}for(b=0;b<o&&!(!S()&&(this.updateRangeFromParsed(d,e,_,h),r));++b);if(r){for(b=o-1;b>=0;--b)if(!S()){this.updateRangeFromParsed(d,e,_,h);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=t.length;s<r;++s)o=t[s][e.axis],Di(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=IG(Ue(this.options.clip,DG(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],r=t.chartArea,o=[],c=this._drawStart||0,h=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,r,c,h),g=c;g<c+h;++g){const y=s[g];y.hidden||(y.active&&d?o.push(y):y.draw(e,r))}for(g=0;g<o.length;++g)o[g].draw(e,r)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=jG(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=PG(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s=t==="active",r=this._cachedDataOpts,o=e+"-"+t,c=r[o],h=this.enableOptionSharing&&jh(i);if(c)return CR(c,h);const d=this.chart.config,g=d.datasetElementScopeKeys(this._type,e),y=s?[`${e}Hover`,"hover",e,""]:[e,""],b=d.getOptionScopes(this.getDataset(),g),_=Object.keys(Ut.elements[e]),S=()=>this.getContext(i,s,t),T=d.resolveNamedOptions(b,_,S,y);return T.$shared&&(T.$shared=h,r[o]=Object.freeze(CR(T,h))),T}_resolveAnimations(e,t,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${t}`,c=r[o];if(c)return c;let h;if(s.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,t),b=g.getOptionScopes(this.getDataset(),y);h=g.createResolver(b,this.getContext(e,i,t))}const d=new VN(s,h&&h.animations);return h&&h._cacheable&&(r[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||$v(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(t,r)||r!==s;return this.updateSharedOptions(r,t,i),{sharedOptions:r,includeOptions:o}}updateElement(e,t,i,s){$v(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!$v(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const r=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[c,h,d]of this._syncList)this[c](h,d);this._syncList=[];const s=i.length,r=t.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,t,i=!0){const s=this._cachedMeta,r=s.data,o=e+t;let c;const h=d=>{for(d.length+=t,c=d.length-1;c>=o;c--)d[c]=d[c-t]};for(h(r),c=e;c<o;++c)r[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(e,t),i&&this.updateElements(r,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&Uu(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ve(Io,"defaults",{}),ve(Io,"datasetElementType",null),ve(Io,"dataElementType",null);function VG(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=t.length;s<r;s++)i=i.concat(t[s].controller.getAllParsedValues(n));n._cache.$bar=AN(i.sort((s,r)=>s-r))}return n._cache.$bar}function UG(n){const e=n.iScale,t=VG(e,n.type);let i=e._length,s,r,o,c;const h=()=>{o===32767||o===-32768||(jh(c)&&(i=Math.min(i,Math.abs(o-c)||i)),c=o)};for(s=0,r=t.length;s<r;++s)o=e.getPixelForValue(t[s]),h();for(c=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),h();return i}function zG(n,e,t,i){const s=t.barThickness;let r,o;return st(s)?(r=e.min*t.categoryPercentage,o=t.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[n]-r/2}}function BG(n,e,t,i){const s=e.pixels,r=s[n];let o=n>0?s[n-1]:null,c=n<s.length-1?s[n+1]:null;const h=t.categoryPercentage;o===null&&(o=r-(c===null?e.end-e.start:c-r)),c===null&&(c=r+r-o);const d=r-(r-Math.min(o,c))/2*h;return{chunk:Math.abs(c-o)/2*h/i,ratio:t.barPercentage,start:d}}function HG(n,e,t,i){const s=t.parse(n[0],i),r=t.parse(n[1],i),o=Math.min(s,r),c=Math.max(s,r);let h=o,d=c;Math.abs(o)>Math.abs(c)&&(h=c,d=o),e[t.axis]=d,e._custom={barStart:h,barEnd:d,start:s,end:r,min:o,max:c}}function zN(n,e,t,i){return Xt(n)?HG(n,e,t,i):e[t.axis]=t.parse(n,i),e}function DR(n,e,t,i){const s=n.iScale,r=n.vScale,o=s.getLabels(),c=s===r,h=[];let d,g,y,b;for(d=t,g=t+i;d<g;++d)b=e[d],y={},y[s.axis]=c||s.parse(o[d],d),h.push(zN(b,y,r,d));return h}function Yv(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function FG(n,e,t){return n!==0?Ss(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function qG(n){let e,t,i,s,r;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:t,end:i,reverse:e,top:s,bottom:r}}function GG(n,e,t,i){let s=e.borderSkipped;const r={};if(!s){n.borderSkipped=r;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:h,top:d,bottom:g}=qG(n);s==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?s=d:(t._bottom||0)===i?s=g:(r[IR(g,o,c,h)]=!0,s=d)),r[IR(s,o,c,h)]=!0,n.borderSkipped=r}function IR(n,e,t,i){return i?(n=WG(n,e,t),n=kR(n,t,e)):n=kR(n,e,t),n}function WG(n,e,t){return n===e?t:n===t?e:n}function kR(n,e,t){return n==="start"?e:n==="end"?t:n}function $G(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class wg extends Io{parsePrimitiveData(e,t,i,s){return DR(e,t,i,s)}parseArrayData(e,t,i,s){return DR(e,t,i,s)}parseObjectData(e,t,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=r.axis==="x"?c:h,g=o.axis==="x"?c:h,y=[];let b,_,S,T;for(b=i,_=i+s;b<_;++b)T=t[b],S={},S[r.axis]=r.parse(Uo(T,d),b),y.push(zN(Uo(T,g),S,o,b));return y}updateRangeFromParsed(e,t,i,s){super.updateRangeFromParsed(e,t,i,s);const r=i._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:s}=t,r=this.getParsed(e),o=r._custom,c=Yv(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),d=c.isHorizontal(),g=this._getRuler(),{sharedOptions:y,includeOptions:b}=this._getSharedOptions(t,s);for(let _=t;_<t+i;_++){const S=this.getParsed(_),T=r||st(S[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(_),A=this._calculateBarIndexPixels(_,g),I=(S._stacks||{})[c.axis],M={horizontal:d,base:T.base,enableBorderRadius:!I||Yv(S._custom)||o===I._top||o===I._bottom,x:d?T.head:A.center,y:d?A.center:T.head,height:d?A.size:Math.abs(T.size),width:d?Math.abs(T.size):A.size};b&&(M.options=y||this.resolveDataElementOptions(_,e[_].active?"active":s));const j=M.options||e[_].options;GG(M,j,I,o),$G(M,j,g.ratio),this.updateElement(e[_],_,M,s)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),r=i.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(t),h=c&&c[i.axis],d=g=>{const y=g._parsed.find(_=>_[i.axis]===h),b=y&&y[g.vScale.axis];if(st(b)||isNaN(b))return!0};for(const g of s)if(!(t!==void 0&&d(g))&&((r===!1||o.indexOf(g.stack)===-1||r===void 0&&g.stack===void 0)&&o.push(g.stack),g.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const s=this._getStacks(e,i),r=t!==void 0?s.indexOf(t):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,s=[];let r,o;for(r=0,o=t.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const c=e.barThickness;return{min:c||UG(t),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,c=r||0,h=this.getParsed(e),d=h._custom,g=Yv(d);let y=h[t.axis],b=0,_=i?this.applyStack(t,h,i):y,S,T;_!==y&&(b=_-y,_=y),g&&(y=d.barStart,_=d.barEnd-d.barStart,y!==0&&Ss(y)!==Ss(d.barEnd)&&(b=0),b+=y);const A=!st(r)&&!g?r:b;let I=t.getPixelForValue(A);if(this.chart.getDataVisibility(e)?S=t.getPixelForValue(b+_):S=I,T=S-I,Math.abs(T)<o){T=FG(T,t,c)*o,y===c&&(I-=T/2);const M=t.getPixelForDecimal(0),j=t.getPixelForDecimal(1),H=Math.min(M,j),q=Math.max(M,j);I=Math.max(Math.min(I,q),H),S=I+T,i&&!g&&(h._stacks[t.axis]._visualValues[s]=t.getValueForPixel(S)-t.getValueForPixel(I))}if(I===t.getPixelForValue(c)){const M=Ss(T)*t.getLineWidthForValue(c)/2;I+=M,T-=M}return{size:T,base:I,head:S,center:S+T/2}}_calculateBarIndexPixels(e,t){const i=t.scale,s=this.options,r=s.skipNull,o=Ue(s.maxBarThickness,1/0);let c,h;if(t.grouped){const d=r?this._getStackCount(e):t.stackCount,g=s.barThickness==="flex"?BG(e,t,s,d):zG(e,t,s,d),y=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);c=g.start+g.chunk*y+g.chunk/2,h=Math.min(o,g.chunk*g.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(o,t.min*t.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[t.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}ve(wg,"id","bar"),ve(wg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ve(wg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function YG(n,e,t){let i=1,s=1,r=0,o=0;if(e<Mt){const c=n,h=c+e,d=Math.cos(c),g=Math.sin(c),y=Math.cos(h),b=Math.sin(h),_=(j,H,q)=>Vh(j,c,h,!0)?1:Math.max(H,H*t,q,q*t),S=(j,H,q)=>Vh(j,c,h,!0)?-1:Math.min(H,H*t,q,q*t),T=_(0,d,y),A=_(Zt,g,b),I=S(Ot,d,y),M=S(Ot+Zt,g,b);i=(T-I)/2,s=(A-M)/2,r=-(T+I)/2,o=-(A+M)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class Ju extends Io{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=h=>+i[h];if(Qe(i[e])){const{key:h="value"}=this._parsing;r=d=>+Uo(i[d],h)}let o,c;for(o=e,c=e+t;o<c;++o)s._parsed[o]=r(o)}}_getRotation(){return lr(this.options.rotation-90)}_getCircumference(){return lr(this.options.circumference)}_getRotationExtents(){let e=Mt,t=-Mt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),t=Math.max(t,r+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-o)/2,0),h=Math.min(t8(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:g,rotation:y}=this._getRotationExtents(),{ratioX:b,ratioY:_,offsetX:S,offsetY:T}=YG(y,g,h),A=(i.width-o)/b,I=(i.height-o)/_,M=Math.max(Math.min(A,I)/2,0),j=bN(this.options.radius,M),H=Math.max(j*h,0),q=(j-H)/this._getVisibleDatasetWeightTotal();this.offsetX=S*j,this.offsetY=T*j,s.total=this.calculateTotal(),this.outerRadius=j-q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-q*d,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/Mt)}updateElements(e,t,i,s){const r=s==="reset",o=this.chart,c=o.chartArea,d=o.options.animation,g=(c.left+c.right)/2,y=(c.top+c.bottom)/2,b=r&&d.animateScale,_=b?0:this.innerRadius,S=b?0:this.outerRadius,{sharedOptions:T,includeOptions:A}=this._getSharedOptions(t,s);let I=this._getRotation(),M;for(M=0;M<t;++M)I+=this._circumference(M,r);for(M=t;M<t+i;++M){const j=this._circumference(M,r),H=e[M],q={x:g+this.offsetX,y:y+this.offsetY,startAngle:I,endAngle:I+j,circumference:j,outerRadius:S,innerRadius:_};A&&(q.options=T||this.resolveDataElementOptions(M,H.active?"active":s)),I+=j,this.updateElement(H,M,q,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,s;for(s=0;s<t.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Mt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=V0(t._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const i=this.chart;let s,r,o,c,h;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,c=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)h=c.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(Ue(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ve(Ju,"id","doughnut"),ve(Ju,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ve(Ju,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ve(Ju,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return t.labels.map((r,o)=>{const h=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class Sg extends Io{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=t,o=this.chart._animationsDisabled;let{start:c,count:h}=E8(t,s,o);this._drawStart=c,this._drawCount=h,w8(t)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:d},e),this.updateElements(s,c,h,e)}updateElements(e,t,i,s){const r=s==="reset",{iScale:o,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(t,s),b=o.axis,_=c.axis,{spanGaps:S,segment:T}=this.options,A=Lh(S)?S:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||r||s==="none",M=t+i,j=e.length;let H=t>0&&this.getParsed(t-1);for(let q=0;q<j;++q){const Q=e[q],P=I?Q:{};if(q<t||q>=M){P.skip=!0;continue}const C=this.getParsed(q),D=st(C[_]),O=P[b]=o.getPixelForValue(C[b],q),V=P[_]=r||D?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,C,h):C[_],q);P.skip=isNaN(O)||isNaN(V)||D,P.stop=q>0&&Math.abs(C[b]-H[b])>A,T&&(P.parsed=C,P.raw=d.data[q]),y&&(P.options=g||this.resolveDataElementOptions(q,Q.active?"active":s)),I||this.updateElement(Q,q,P,s),H=C}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ve(Sg,"id","line"),ve(Sg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ve(Sg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function yo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class $0{constructor(e){ve(this,"options");this.options=e||{}}static override(e){Object.assign($0.prototype,e)}init(){}formats(){return yo()}parse(){return yo()}format(){return yo()}add(){return yo()}diff(){return yo()}startOf(){return yo()}endOf(){return yo()}}var QG={_date:$0};function KG(n,e,t,i){const{controller:s,data:r,_sorted:o}=n,c=s._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&r.length){const d=c._reversePixels?m8:Ro;if(i){if(s._sharedOptions){const g=r[0],y=typeof g.getRange=="function"&&g.getRange(e);if(y){const b=d(r,e,t-y),_=d(r,e,t+y);return{lo:b.lo,hi:_.hi}}}}else{const g=d(r,e,t);if(h){const{vScale:y}=s._cachedMeta,{_parsed:b}=n,_=b.slice(0,g.lo+1).reverse().findIndex(T=>!st(T[y.axis]));g.lo-=Math.max(0,_);const S=b.slice(g.hi).findIndex(T=>!st(T[y.axis]));g.hi+=Math.max(0,S)}return g}}return{lo:0,hi:r.length-1}}function sm(n,e,t,i,s){const r=n.getSortedVisibleDatasetMetas(),o=t[e];for(let c=0,h=r.length;c<h;++c){const{index:d,data:g}=r[c],{lo:y,hi:b}=KG(r[c],e,o,s);for(let _=y;_<=b;++_){const S=g[_];S.skip||i(S,d,_)}}}function XG(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Qv(n,e,t,i,s){const r=[];return!s&&!n.isPointInArea(e)||sm(n,t,e,function(c,h,d){!s&&!Uh(c,n.chartArea,0)||c.inRange(e.x,e.y,i)&&r.push({element:c,datasetIndex:h,index:d})},!0),r}function ZG(n,e,t,i){let s=[];function r(o,c,h){const{startAngle:d,endAngle:g}=o.getProps(["startAngle","endAngle"],i),{angle:y}=wN(o,{x:e.x,y:e.y});Vh(y,d,g)&&s.push({element:o,datasetIndex:c,index:h})}return sm(n,t,e,r),s}function JG(n,e,t,i,s,r){let o=[];const c=XG(t);let h=Number.POSITIVE_INFINITY;function d(g,y,b){const _=g.inRange(e.x,e.y,s);if(i&&!_)return;const S=g.getCenterPoint(s);if(!(!!r||n.isPointInArea(S))&&!_)return;const A=c(e,S);A<h?(o=[{element:g,datasetIndex:y,index:b}],h=A):A===h&&o.push({element:g,datasetIndex:y,index:b})}return sm(n,t,e,d),o}function Kv(n,e,t,i,s,r){return!r&&!n.isPointInArea(e)?[]:t==="r"&&!i?ZG(n,e,t,s):JG(n,e,t,i,s,r)}function NR(n,e,t,i,s){const r=[],o=t==="x"?"inXRange":"inYRange";let c=!1;return sm(n,t,e,(h,d,g)=>{h[o]&&h[o](e[t],s)&&(r.push({element:h,datasetIndex:d,index:g}),c=c||h.inRange(e.x,e.y,s))}),i&&!c?[]:r}var eW={modes:{index(n,e,t,i){const s=Eo(e,n),r=t.axis||"x",o=t.includeInvisible||!1,c=t.intersect?Qv(n,s,r,i,o):Kv(n,s,r,!1,i,o),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const g=c[0].index,y=d.data[g];y&&!y.skip&&h.push({element:y,datasetIndex:d.index,index:g})}),h):[]},dataset(n,e,t,i){const s=Eo(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;let c=t.intersect?Qv(n,s,r,i,o):Kv(n,s,r,!1,i,o);if(c.length>0){const h=c[0].datasetIndex,d=n.getDatasetMeta(h).data;c=[];for(let g=0;g<d.length;++g)c.push({element:d[g],datasetIndex:h,index:g})}return c},point(n,e,t,i){const s=Eo(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return Qv(n,s,r,i,o)},nearest(n,e,t,i){const s=Eo(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return Kv(n,s,r,t.intersect,i,o)},x(n,e,t,i){const s=Eo(e,n);return NR(n,s,"x",t.intersect,i)},y(n,e,t,i){const s=Eo(e,n);return NR(n,s,"y",t.intersect,i)}}};const BN=["left","top","right","bottom"];function zu(n,e){return n.filter(t=>t.pos===e)}function MR(n,e){return n.filter(t=>BN.indexOf(t.pos)===-1&&t.box.axis===e)}function Bu(n,e){return n.sort((t,i)=>{const s=e?i:t,r=e?t:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function tW(n){const e=[];let t,i,s,r,o,c;for(t=0,i=(n||[]).length;t<i;++t)s=n[t],{position:r,options:{stack:o,stackWeight:c=1}}=s,e.push({index:t,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:c});return e}function nW(n){const e={};for(const t of n){const{stack:i,pos:s,stackWeight:r}=t;if(!i||!BN.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function iW(n,e){const t=nW(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,c;for(r=0,o=n.length;r<o;++r){c=n[r];const{fullSize:h}=c.box,d=t[c.stack],g=d&&c.stackWeight/d.weight;c.horizontal?(c.width=g?g*i:h&&e.availableWidth,c.height=s):(c.width=i,c.height=g?g*s:h&&e.availableHeight)}return t}function sW(n){const e=tW(n),t=Bu(e.filter(d=>d.box.fullSize),!0),i=Bu(zu(e,"left"),!0),s=Bu(zu(e,"right")),r=Bu(zu(e,"top"),!0),o=Bu(zu(e,"bottom")),c=MR(e,"x"),h=MR(e,"y");return{fullSize:t,leftAndTop:i.concat(r),rightAndBottom:s.concat(h).concat(o).concat(c),chartArea:zu(e,"chartArea"),vertical:i.concat(s).concat(h),horizontal:r.concat(o).concat(c)}}function OR(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function HN(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function rW(n,e,t,i){const{pos:s,box:r}=t,o=n.maxPadding;if(!Qe(s)){t.size&&(n[s]-=t.size);const y=i[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?r.height:r.width),t.size=y.size/y.count,n[s]+=t.size}r.getPadding&&HN(o,r.getPadding());const c=Math.max(0,e.outerWidth-OR(o,n,"left","right")),h=Math.max(0,e.outerHeight-OR(o,n,"top","bottom")),d=c!==n.w,g=h!==n.h;return n.w=c,n.h=h,t.horizontal?{same:d,other:g}:{same:g,other:d}}function aW(n){const e=n.maxPadding;function t(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function oW(n,e){const t=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],t[o])}),r}return i(n?["left","right"]:["top","bottom"])}function eh(n,e,t,i){const s=[];let r,o,c,h,d,g;for(r=0,o=n.length,d=0;r<o;++r){c=n[r],h=c.box,h.update(c.width||e.w,c.height||e.h,oW(c.horizontal,e));const{same:y,other:b}=rW(e,t,c,i);d|=y&&s.length,g=g||b,h.fullSize||s.push(c)}return d&&eh(s,e,t,i)||g}function Zf(n,e,t,i,s){n.top=t,n.left=e,n.right=e+i,n.bottom=t+s,n.width=i,n.height=s}function PR(n,e,t,i){const s=t.padding;let{x:r,y:o}=e;for(const c of n){const h=c.box,d=i[c.stack]||{placed:0,weight:1},g=c.stackWeight/d.weight||1;if(c.horizontal){const y=e.w*g,b=d.size||h.height;jh(d.start)&&(o=d.start),h.fullSize?Zf(h,s.left,o,t.outerWidth-s.right-s.left,b):Zf(h,e.left+d.placed,o,y,b),d.start=o,d.placed+=y,o=h.bottom}else{const y=e.h*g,b=d.size||h.width;jh(d.start)&&(r=d.start),h.fullSize?Zf(h,r,s.top,b,t.outerHeight-s.bottom-s.top):Zf(h,r,e.top+d.placed,b,y),d.start=r,d.placed+=y,r=h.right}}e.x=r,e.y=o}var Ai={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const s=Ii(n.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(t-s.height,0),c=sW(n.boxes),h=c.vertical,d=c.horizontal;at(n.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const g=h.reduce((T,A)=>A.box.options&&A.box.options.display===!1?T:T+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/g,hBoxMaxHeight:o/2}),b=Object.assign({},s);HN(b,Ii(i));const _=Object.assign({maxPadding:b,w:r,h:o,x:s.left,y:s.top},s),S=iW(h.concat(d),y);eh(c.fullSize,_,y,S),eh(h,_,y,S),eh(d,_,y,S)&&eh(h,_,y,S),aW(_),PR(c.leftAndTop,_,y,S),_.x+=_.w,_.y+=_.h,PR(c.rightAndBottom,_,y,S),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},at(c.chartArea,T=>{const A=T.box;Object.assign(A,n.chartArea),A.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class FN{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class lW extends FN{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ag="$chartjs",cW={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jR=n=>n===null||n==="";function uW(n,e){const t=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Ag]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",jR(s)){const r=bR(n,"width");r!==void 0&&(n.width=r)}if(jR(i))if(n.style.height==="")n.height=n.width/(e||2);else{const r=bR(n,"height");r!==void 0&&(n.height=r)}return n}const qN=hG?{passive:!0}:!1;function hW(n,e,t){n&&n.addEventListener(e,t,qN)}function dW(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,qN)}function fW(n,e){const t=cW[n.type]||n.type,{x:i,y:s}=Eo(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function bp(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function gW(n,e,t){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const c of r)o=o||bp(c.addedNodes,i),o=o&&!bp(c.removedNodes,i);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function pW(n,e,t){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const c of r)o=o||bp(c.removedNodes,i),o=o&&!bp(c.addedNodes,i);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const Bh=new Map;let LR=0;function GN(){const n=window.devicePixelRatio;n!==LR&&(LR=n,Bh.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function mW(n,e){Bh.size||window.addEventListener("resize",GN),Bh.set(n,e)}function yW(n){Bh.delete(n),Bh.size||window.removeEventListener("resize",GN)}function vW(n,e,t){const i=n.canvas,s=i&&W0(i);if(!s)return;const r=xN((c,h)=>{const d=s.clientWidth;t(c,h),d<s.clientWidth&&t()},window),o=new ResizeObserver(c=>{const h=c[0],d=h.contentRect.width,g=h.contentRect.height;d===0&&g===0||r(d,g)});return o.observe(s),mW(n,r),o}function Xv(n,e,t){t&&t.disconnect(),e==="resize"&&yW(n)}function bW(n,e,t){const i=n.canvas,s=xN(r=>{n.ctx!==null&&t(fW(r,n))},n);return hW(i,e,s),s}class _W extends FN{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(uW(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Ag])return!1;const i=t[Ag].initial;["height","width"].forEach(r=>{const o=i[r];st(o)?t.removeAttribute(r):t.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{t.style[r]=s[r]}),t.width=t.width,delete t[Ag],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),o={attach:gW,detach:pW,resize:vW}[t]||bW;s[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];if(!s)return;({attach:Xv,detach:Xv,resize:Xv}[t]||dW)(e,t,s),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return uG(e,t,i,s)}isAttached(e){const t=e&&W0(e);return!!(t&&t.isConnected)}}function EW(n){return!G0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?lW:_W}class qi{constructor(){ve(this,"x");ve(this,"y");ve(this,"active",!1);ve(this,"options");ve(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Lh(this.x)&&Lh(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}ve(qi,"defaults",{}),ve(qi,"defaultRoutes");function wW(n,e){const t=n.options.ticks,i=SW(n),s=Math.min(t.maxTicksLimit||i,i),r=t.major.enabled?TW(e):[],o=r.length,c=r[0],h=r[o-1],d=[];if(o>s)return xW(e,d,r,o/s),d;const g=AW(r,e,s);if(o>0){let y,b;const _=o>1?Math.round((h-c)/(o-1)):null;for(Jf(e,d,g,st(_)?0:c-_,c),y=0,b=o-1;y<b;y++)Jf(e,d,g,r[y],r[y+1]);return Jf(e,d,g,h,st(_)?e.length:h+_),d}return Jf(e,d,g),d}function SW(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(i,s))}function AW(n,e,t){const i=RW(n),s=e.length/t;if(!i)return Math.max(s,1);const r=c8(i);for(let o=0,c=r.length-1;o<c;o++){const h=r[o];if(h>s)return h}return Math.max(s,1)}function TW(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function xW(n,e,t,i){let s=0,r=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===r&&(e.push(n[o]),s++,r=t[s*i])}function Jf(n,e,t,i,s){const r=Ue(i,0),o=Math.min(Ue(s,n.length),n.length);let c=0,h,d,g;for(t=Math.ceil(t),s&&(h=s-i,t=h/Math.floor(h/t)),g=r;g<0;)c++,g=Math.round(r+c*t);for(d=Math.max(r,0);d<o;d++)d===g&&(e.push(n[d]),c++,g=Math.round(r+c*t))}function RW(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const CW=n=>n==="left"?"right":n==="right"?"left":n,VR=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,UR=(n,e)=>Math.min(e||n,n);function zR(n,e){const t=[],i=n.length/e,s=n.length;let r=0;for(;r<s;r+=i)t.push(n[Math.floor(r)]);return t}function DW(n,e,t){const i=n.ticks.length,s=Math.min(e,i-1),r=n._startPixel,o=n._endPixel,c=1e-6;let h=n.getPixelForTick(s),d;if(!(t&&(i===1?d=Math.max(h-r,o-h):e===0?d=(n.getPixelForTick(1)-h)/2:d=(h-n.getPixelForTick(s-1))/2,h+=s<e?d:-d,h<r-c||h>o+c)))return h}function IW(n,e){at(n,t=>{const i=t.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete t.data[i[r]];i.splice(0,s)}})}function Hu(n){return n.drawTicks?n.tickLength:0}function BR(n,e){if(!n.display)return 0;const t=kn(n.font,e),i=Ii(n.padding);return(Xt(n.text)?n.text.length:1)*t.lineHeight+i.height}function kW(n,e){return Jo(n,{scale:e,type:"scale"})}function NW(n,e,t){return Jo(n,{tick:t,index:e,type:"tick"})}function MW(n,e,t){let i=j0(n);return(t&&e!=="right"||!t&&e==="right")&&(i=CW(i)),i}function OW(n,e,t,i){const{top:s,left:r,bottom:o,right:c,chart:h}=n,{chartArea:d,scales:g}=h;let y=0,b,_,S;const T=o-s,A=c-r;if(n.isHorizontal()){if(_=xn(i,r,c),Qe(t)){const I=Object.keys(t)[0],M=t[I];S=g[I].getPixelForValue(M)+T-e}else t==="center"?S=(d.bottom+d.top)/2+T-e:S=VR(n,t,e);b=c-r}else{if(Qe(t)){const I=Object.keys(t)[0],M=t[I];_=g[I].getPixelForValue(M)-A+e}else t==="center"?_=(d.left+d.right)/2-A+e:_=VR(n,t,e);S=xn(i,o,s),y=t==="left"?-Zt:Zt}return{titleX:_,titleY:S,maxWidth:b,rotation:y}}class Ic extends qi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=fs(e,Number.POSITIVE_INFINITY),t=fs(t,Number.NEGATIVE_INFINITY),i=fs(i,Number.POSITIVE_INFINITY),s=fs(s,Number.NEGATIVE_INFINITY),{min:fs(e,i),max:fs(t,s),minDefined:Di(e),maxDefined:Di(t)}}getMinMax(e){let{min:t,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:t,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,d=c.length;h<d;++h)o=c[h].controller.getMinMax(this,e),s||(t=Math.min(t,o.min)),r||(i=Math.max(i,o.max));return t=r&&t>i?i:t,i=s&&t>i?t:i,{min:fs(t,fs(i,t)),max:fs(i,fs(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pt(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=H8(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?zR(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=wW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pt(this.options.afterUpdate,[this])}beforeSetDimensions(){pt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),pt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=pt(t.callback,[r.value,i,e],this)}afterTickToLabelConversion(){pt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=UR(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,r=t.maxRotation;let o=s,c,h,d;if(!this._isVisible()||!t.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const g=this._getLabelSizes(),y=g.widest.width,b=g.highest.height,_=In(this.chart.width-y,0,this.maxWidth);c=e.offset?this.maxWidth/i:_/(i-1),y+6>c&&(c=_/(i-(e.offset?.5:1)),h=this.maxHeight-Hu(e.grid)-t.padding-BR(e.title,this.chart.options.font),d=Math.sqrt(y*y+b*b),o=f8(Math.min(Math.asin(In((g.highest.height+6)/c,-1,1)),Math.asin(In(h/d,-1,1))-Math.asin(In(b/d,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){pt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const h=BR(s,t.options.font);if(c?(e.width=this.maxWidth,e.height=Hu(r)+h):(e.height=this.maxHeight,e.width=Hu(r)+h),i.display&&this.ticks.length){const{first:d,last:g,widest:y,highest:b}=this._getLabelSizes(),_=i.padding*2,S=lr(this.labelRotation),T=Math.cos(S),A=Math.sin(S);if(c){const I=i.mirror?0:A*y.width+T*b.height;e.height=Math.min(this.maxHeight,e.height+I+_)}else{const I=i.mirror?0:T*y.width+A*b.height;e.width=Math.min(this.maxWidth,e.width+I+_)}this._calculatePadding(d,g,A,T)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:r,padding:o},position:c}=this.options,h=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,_=0;h?d?(b=s*e.width,_=i*t.height):(b=i*e.height,_=s*t.width):r==="start"?_=t.width:r==="end"?b=e.width:r!=="inner"&&(b=e.width/2,_=t.width/2),this.paddingLeft=Math.max((b-g+o)*this.width/(this.width-g),0),this.paddingRight=Math.max((_-y+o)*this.width/(this.width-y),0)}else{let g=t.height/2,y=e.height/2;r==="start"?(g=0,y=e.height):r==="end"&&(g=t.height,y=0),this.paddingTop=g+o,this.paddingBottom=y+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)st(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=zR(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:s,_longestTextCache:r}=this,o=[],c=[],h=Math.floor(t/UR(t,i));let d=0,g=0,y,b,_,S,T,A,I,M,j,H,q;for(y=0;y<t;y+=h){if(S=e[y].label,T=this._resolveTickFontOptions(y),s.font=A=T.string,I=r[A]=r[A]||{data:{},gc:[]},M=T.lineHeight,j=H=0,!st(S)&&!Xt(S))j=gR(s,I.data,I.gc,j,S),H=M;else if(Xt(S))for(b=0,_=S.length;b<_;++b)q=S[b],!st(q)&&!Xt(q)&&(j=gR(s,I.data,I.gc,j,q),H+=M);o.push(j),c.push(H),d=Math.max(j,d),g=Math.max(H,g)}IW(r,t);const Q=o.indexOf(d),P=c.indexOf(g),C=D=>({width:o[D]||0,height:c[D]||0});return{first:C(0),last:C(t-1),widest:C(Q),highest:C(P),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return p8(this._alignToPixels?mo(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=NW(this.getContext(),e,i))}return this.$context||(this.$context=kW(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=lr(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,c=r?r.widest.width+o:0,h=r?r.highest.height+o:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:c}=s,h=r.offset,d=this.isHorizontal(),y=this.ticks.length+(h?1:0),b=Hu(r),_=[],S=c.setContext(this.getContext()),T=S.display?S.width:0,A=T/2,I=function(ie){return mo(i,ie,T)};let M,j,H,q,Q,P,C,D,O,V,z,L;if(o==="top")M=I(this.bottom),P=this.bottom-b,D=M-A,V=I(e.top)+A,L=e.bottom;else if(o==="bottom")M=I(this.top),V=e.top,L=I(e.bottom)-A,P=M+A,D=this.top+b;else if(o==="left")M=I(this.right),Q=this.right-b,C=M-A,O=I(e.left)+A,z=e.right;else if(o==="right")M=I(this.left),O=e.left,z=I(e.right)-A,Q=M+A,C=this.left+b;else if(t==="x"){if(o==="center")M=I((e.top+e.bottom)/2+.5);else if(Qe(o)){const ie=Object.keys(o)[0],de=o[ie];M=I(this.chart.scales[ie].getPixelForValue(de))}V=e.top,L=e.bottom,P=M+A,D=P+b}else if(t==="y"){if(o==="center")M=I((e.left+e.right)/2);else if(Qe(o)){const ie=Object.keys(o)[0],de=o[ie];M=I(this.chart.scales[ie].getPixelForValue(de))}Q=M-A,C=Q-b,O=e.left,z=e.right}const we=Ue(s.ticks.maxTicksLimit,y),be=Math.max(1,Math.ceil(y/we));for(j=0;j<y;j+=be){const ie=this.getContext(j),de=r.setContext(ie),ge=c.setContext(ie),_e=de.lineWidth,F=de.color,oe=ge.dash||[],ue=ge.dashOffset,fe=de.tickWidth,he=de.tickColor,Ce=de.tickBorderDash||[],Te=de.tickBorderDashOffset;H=DW(this,j,h),H!==void 0&&(q=mo(i,H,_e),d?Q=C=O=z=q:P=D=V=L=q,_.push({tx1:Q,ty1:P,tx2:C,ty2:D,x1:O,y1:V,x2:z,y2:L,width:_e,color:F,borderDash:oe,borderDashOffset:ue,tickWidth:fe,tickColor:he,tickBorderDash:Ce,tickBorderDashOffset:Te}))}return this._ticksLength=y,this._borderValue=M,_}_computeLabelItems(e){const t=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:d,padding:g,mirror:y}=r,b=Hu(i.grid),_=b+g,S=y?-g:_,T=-lr(this.labelRotation),A=[];let I,M,j,H,q,Q,P,C,D,O,V,z,L="middle";if(s==="top")Q=this.bottom-S,P=this._getXAxisLabelAlignment();else if(s==="bottom")Q=this.top+S,P=this._getXAxisLabelAlignment();else if(s==="left"){const be=this._getYAxisLabelAlignment(b);P=be.textAlign,q=be.x}else if(s==="right"){const be=this._getYAxisLabelAlignment(b);P=be.textAlign,q=be.x}else if(t==="x"){if(s==="center")Q=(e.top+e.bottom)/2+_;else if(Qe(s)){const be=Object.keys(s)[0],ie=s[be];Q=this.chart.scales[be].getPixelForValue(ie)+_}P=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")q=(e.left+e.right)/2-_;else if(Qe(s)){const be=Object.keys(s)[0],ie=s[be];q=this.chart.scales[be].getPixelForValue(ie)}P=this._getYAxisLabelAlignment(b).textAlign}t==="y"&&(h==="start"?L="top":h==="end"&&(L="bottom"));const we=this._getLabelSizes();for(I=0,M=c.length;I<M;++I){j=c[I],H=j.label;const be=r.setContext(this.getContext(I));C=this.getPixelForTick(I)+r.labelOffset,D=this._resolveTickFontOptions(I),O=D.lineHeight,V=Xt(H)?H.length:1;const ie=V/2,de=be.color,ge=be.textStrokeColor,_e=be.textStrokeWidth;let F=P;o?(q=C,P==="inner"&&(I===M-1?F=this.options.reverse?"left":"right":I===0?F=this.options.reverse?"right":"left":F="center"),s==="top"?d==="near"||T!==0?z=-V*O+O/2:d==="center"?z=-we.highest.height/2-ie*O+O:z=-we.highest.height+O/2:d==="near"||T!==0?z=O/2:d==="center"?z=we.highest.height/2-ie*O:z=we.highest.height-V*O,y&&(z*=-1),T!==0&&!be.showLabelBackdrop&&(q+=O/2*Math.sin(T))):(Q=C,z=(1-V)*O/2);let oe;if(be.showLabelBackdrop){const ue=Ii(be.backdropPadding),fe=we.heights[I],he=we.widths[I];let Ce=z-ue.top,Te=0-ue.left;switch(L){case"middle":Ce-=fe/2;break;case"bottom":Ce-=fe;break}switch(P){case"center":Te-=he/2;break;case"right":Te-=he;break;case"inner":I===M-1?Te-=he:I>0&&(Te-=he/2);break}oe={left:Te,top:Ce,width:he+ue.width,height:fe+ue.height,color:be.backdropColor}}A.push({label:H,font:D,textOffset:z,options:{rotation:T,color:de,strokeColor:ge,strokeWidth:_e,textAlign:F,textBaseline:L,translation:[q,Q],backdrop:oe}})}return A}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-lr(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),c=e+r,h=o.widest.width;let d,g;return t==="left"?s?(g=this.right+r,i==="near"?d="left":i==="center"?(d="center",g+=h/2):(d="right",g+=h)):(g=this.right-c,i==="near"?d="right":i==="center"?(d="center",g-=h/2):(d="left",g=this.left)):t==="right"?s?(g=this.left+r,i==="near"?d="right":i==="center"?(d="center",g-=h/2):(d="left",g-=h)):(g=this.left+c,i==="near"?d="left":i==="center"?(d="center",g+=h/2):(d="right",g=this.right)):d="right",{textAlign:d,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:r,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const c=(h,d,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(r=0,o=s.length;r<o;++r){const h=s[r];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,g,y,b;this.isHorizontal()?(d=mo(e,this.left,o)-o/2,g=mo(e,this.right,c)+c/2,y=b=h):(y=mo(e,this.top,o)-o/2,b=mo(e,this.bottom,c)+c/2,d=g=h),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(d,y),t.lineTo(g,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&U0(i,s);const r=this.getLabelItems(e);for(const o of r){const c=o.options,h=o.font,d=o.label,g=o.textOffset;zh(i,d,0,g,h,c)}s&&z0(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const r=kn(i.font),o=Ii(i.padding),c=i.align;let h=r.lineHeight/2;t==="bottom"||t==="center"||Qe(t)?(h+=o.bottom,Xt(i.text)&&(h+=r.lineHeight*(i.text.length-1))):h+=o.top;const{titleX:d,titleY:g,maxWidth:y,rotation:b}=OW(this,h,t,c);zh(e,i.text,0,0,r,{color:i.color,maxWidth:y,rotation:b,textAlign:MW(c,t,s),textBaseline:"middle",translation:[d,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Ue(e.grid&&e.grid.z,-1),s=Ue(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ic.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=t.length;r<o;++r){const c=t[r];c[i]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return kn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class eg{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;LW(t)&&(i=this.register(t));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,PW(e,o,i),this.override&&Ut.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in Ut[s]&&(delete Ut[s][i],this.override&&delete zo[i])}}function PW(n,e,t){const i=Ph(Object.create(null),[t?Ut.get(t):{},Ut.get(e),n.defaults]);Ut.set(e,i),n.defaultRoutes&&jW(e,n.defaultRoutes),n.descriptors&&Ut.describe(e,n.descriptors)}function jW(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),s=i.pop(),r=[n].concat(i).join("."),o=e[t].split("."),c=o.pop(),h=o.join(".");Ut.route(r,s,h,c)})}function LW(n){return"id"in n&&"defaults"in n}class VW{constructor(){this.controllers=new eg(Io,"datasets",!0),this.elements=new eg(qi,"elements"),this.plugins=new eg(Object,"plugins"),this.scales=new eg(Ic,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):at(s,o=>{const c=i||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,t,i){const s=O0(e);pt(i["before"+s],[],i),t[e](i),pt(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var ps=new VW;class UW{constructor(){this._init=[]}notify(e,t,i,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,t,i);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,s){s=s||{};for(const r of e){const o=r.plugin,c=o[i],h=[t,s,r.options];if(pt(c,h,o)===!1&&s.cancelable)return!1}return!0}invalidate(){st(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=Ue(i.options&&i.options.plugins,{}),r=zW(i);return s===!1&&!t?[]:HW(e,r,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(c=>!o.some(h=>c.plugin.id===h.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function zW(n){const e={},t=[],i=Object.keys(ps.plugins.items);for(let r=0;r<i.length;r++)t.push(ps.getPlugin(i[r]));const s=n.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function BW(n,e){return!e&&n===!1?null:n===!0?{}:n}function HW(n,{plugins:e,localIds:t},i,s){const r=[],o=n.getContext();for(const c of e){const h=c.id,d=BW(i[h],s);d!==null&&r.push({plugin:c,options:FW(n.config,{plugin:c,local:t[h]},d,o)})}return r}function FW(n,{plugin:e,local:t},i,s){const r=n.pluginScopeKeys(e),o=n.getOptionScopes(i,r);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function $b(n,e){const t=Ut.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function qW(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function GW(n,e){return n===e?"_index_":"_value_"}function HR(n){if(n==="x"||n==="y"||n==="r")return n}function WW(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Yb(n,...e){if(HR(n))return n;for(const t of e){const i=t.axis||WW(t.position)||n.length>1&&HR(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function FR(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function $W(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return FR(n,"x",t[0])||FR(n,"y",t[0])}return{}}function YW(n,e){const t=zo[n.type]||{scales:{}},i=e.scales||{},s=$b(n.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const c=i[o];if(!Qe(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const h=Yb(o,c,$W(o,n),Ut.scales[c.type]),d=GW(h,s),g=t.scales||{};r[o]=mh(Object.create(null),[{axis:h},c,g[h],g[d]])}),n.data.datasets.forEach(o=>{const c=o.type||n.type,h=o.indexAxis||$b(c,e),g=(zo[c]||{}).scales||{};Object.keys(g).forEach(y=>{const b=qW(y,h),_=o[b+"AxisID"]||b;r[_]=r[_]||Object.create(null),mh(r[_],[{axis:b},i[_],g[y]])})}),Object.keys(r).forEach(o=>{const c=r[o];mh(c,[Ut.scales[c.type],Ut.scale])}),r}function WN(n){const e=n.options||(n.options={});e.plugins=Ue(e.plugins,{}),e.scales=YW(n,e)}function $N(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function QW(n){return n=n||{},n.data=$N(n.data),WN(n),n}const qR=new Map,YN=new Set;function tg(n,e){let t=qR.get(n);return t||(t=e(),qR.set(n,t),YN.add(t)),t}const Fu=(n,e,t)=>{const i=Uo(e,t);i!==void 0&&n.add(i)};class KW{constructor(e){this._config=QW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=$N(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),WN(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return tg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return tg(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return tg(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return tg(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return(!s||t)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),c=o.get(t);if(c)return c;const h=new Set;t.forEach(g=>{e&&(h.add(e),g.forEach(y=>Fu(h,e,y))),g.forEach(y=>Fu(h,s,y)),g.forEach(y=>Fu(h,zo[r]||{},y)),g.forEach(y=>Fu(h,Ut,y)),g.forEach(y=>Fu(h,Gb,y))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),YN.has(t)&&o.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,zo[t]||{},Ut.datasets[t]||{},{type:t},Ut,Gb]}resolveNamedOptions(e,t,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:c}=GR(this._resolverCache,e,s);let h=o;if(ZW(o,t)){r.$shared=!1,i=ka(i)?i():i;const d=this.createResolver(e,i,c);h=yc(o,i,d)}for(const d of t)r[d]=h[d];return r}createResolver(e,t,i=[""],s){const{resolver:r}=GR(this._resolverCache,e,i);return Qe(t)?yc(r,t,void 0,s):r}}function GR(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=t.join();let r=i.get(s);return r||(r={resolver:H0(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,r)),r}const XW=n=>Qe(n)&&Object.getOwnPropertyNames(n).some(e=>ka(n[e]));function ZW(n,e){const{isScriptable:t,isIndexable:i}=IN(n);for(const s of e){const r=t(s),o=i(s),c=(o||r)&&n[s];if(r&&(ka(c)||XW(c))||o&&Xt(c))return!0}return!1}var JW="4.4.8";const e$=["top","bottom","left","right","chartArea"];function WR(n,e){return n==="top"||n==="bottom"||e$.indexOf(n)===-1&&e==="x"}function $R(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function YR(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),pt(t&&t.onComplete,[n],e)}function t$(n){const e=n.chart,t=e.options.animation;pt(t&&t.onProgress,[n],e)}function QN(n){return G0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Tg={},QR=n=>{const e=QN(n);return Object.values(Tg).filter(t=>t.canvas===e).pop()};function n$(n,e,t){const i=Object.keys(n);for(const s of i){const r=+s;if(r>=e){const o=n[s];delete n[s],(t>0||r>e)&&(n[r+t]=o)}}}function i$(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}function ng(n,e,t){return n.options.clip?n[t]:e[t]}function s$(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:ng(t,e,"left"),right:ng(t,e,"right"),top:ng(i,e,"top"),bottom:ng(i,e,"bottom")}:e}var sa;let od=(sa=class{static register(...e){ps.add(...e),KR()}static unregister(...e){ps.remove(...e),KR()}constructor(e,t){const i=this.config=new KW(t),s=QN(e),r=QR(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||EW(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,o.aspectRatio),h=c&&c.canvas,d=h&&h.height,g=h&&h.width;if(this.id=e8(),this.ctx=c,this.canvas=h,this.width=g,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new UW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=b8(y=>this.update(y),o.resizeDelay||0),this._dataChanges=[],Tg[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}tr.listen(this,"complete",YR),tr.listen(this,"progress",t$),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:s,_aspectRatio:r}=this;return st(e)?t&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ps}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pR(this.canvas,this.ctx),this}stop(){return tr.stop(this),this}resize(e,t){tr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,t,r),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,vR(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),pt(i.onResize,[this,o],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};at(t,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((o,c)=>(o[c]=!1,o),{});let r=[];t&&(r=r.concat(Object.keys(t).map(o=>{const c=t[o],h=Yb(o,c),d=h==="r",g=h==="x";return{options:c,dposition:d?"chartArea":g?"bottom":"left",dtype:d?"radialLinear":g?"category":"linear"}}))),at(r,o=>{const c=o.options,h=c.id,d=Yb(h,c),g=Ue(c.type,o.dtype);(c.position===void 0||WR(c.position,d)!==WR(o.dposition))&&(c.position=o.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===g)y=i[h];else{const b=ps.getScale(g);y=new b({id:h,type:g,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,e)}),at(s,(o,c)=>{o||delete i[c]}),at(i,o=>{Ai.configure(this,o,o.options),Ai.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort($R("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,s)=>{t.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const r=t[i];let o=this.getDatasetMeta(i);const c=r.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=c,o.indexAxis=r.indexAxis||$b(c,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const h=ps.getController(c),{datasetElementType:d,dataElementType:g}=Ut.datasets[c];Object.assign(h,{dataElementType:ps.getElement(g),datasetElementType:d&&ps.getElement(d)}),o.controller=new h(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){at(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,g=this.data.datasets.length;d<g;d++){const{controller:y}=this.getDatasetMeta(d),b=!s&&r.indexOf(y)===-1;y.buildOrUpdateElements(b),o=Math.max(+y.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||at(r,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort($R("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){at(this.scales,e=>{Ai.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!rR(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of t){const o=i==="_removeElements"?-r:r;n$(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,c)=>c+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<t;r++)if(!rR(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ai.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],at(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,ka(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(tr.has(this)?this.attached&&!tr.running(this)&&tr.start(this):(this.draw(),YR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,r;for(s=0,r=t.length;s<r;++s){const o=t[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,s=!i.disabled,r=s$(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&U0(t,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&z0(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Uh(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const r=eW.modes[t];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Jo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);jh(t)?(r.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),tr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),pR(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Tg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(r,o)=>{t.addEventListener(this,r,o),e[r]=o},s=(r,o,c)=>{r.offsetX=o,r.offsetY=c,this._eventHandler(r)};at(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,d)=>{t.addEventListener(this,h,d),e[h]=d},s=(h,d)=>{e[h]&&(t.removeEventListener(this,h,d),delete e[h])},r=(h,d)=>{this.canvas&&this.resize(h,d)};let o;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",c)},t.isAttached(this.canvas)?c():o()}unbindEvents(){at(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},at(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let r,o,c,h;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){o=e[c];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const c=this.getDatasetMeta(r);if(!c)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:c.data[o],index:o}});!gp(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const s=this.options.hover,r=(h,d)=>h.filter(g=>!d.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),o=r(t,e),c=i?e:r(e,t);o.length&&this.updateHoverStyle(o,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:r}=this,o=t,c=this._getActiveElements(e,s,i,o),h=a8(e),d=i$(e,this._lastEvent,i,h);i&&(this._lastEvent=null,pt(r.onHover,[e,c,this],this),h&&pt(r.onClick,[e,c,this],this));const g=!gp(c,s);return(g||t)&&(this._active=c,this._updateHoverStyles(c,s,t)),this._lastEvent=d,g}_getActiveElements(e,t,i,s){if(e.type==="mouseout")return[];if(!i)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},ve(sa,"defaults",Ut),ve(sa,"instances",Tg),ve(sa,"overrides",zo),ve(sa,"registry",ps),ve(sa,"version",JW),ve(sa,"getChart",QR),sa);function KR(){return at(od.instances,n=>n._plugins.invalidate())}function r$(n,e,t){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:c,innerRadius:h}=e;let d=s/c;n.beginPath(),n.arc(r,o,c,i-d,t+d),h>s?(d=s/h,n.arc(r,o,h,t+d,i-d,!0)):n.arc(r,o,s,t+Zt,i-Zt),n.closePath(),n.clip()}function a$(n){return B0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function o$(n,e,t,i){const s=a$(n.options.borderRadius),r=(t-e)/2,o=Math.min(r,i*e/2),c=h=>{const d=(t-Math.min(r,h))*i/2;return In(h,0,Math.min(r,d))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:In(s.innerStart,0,o),innerEnd:In(s.innerEnd,0,o)}}function ql(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function _p(n,e,t,i,s,r){const{x:o,y:c,startAngle:h,pixelMargin:d,innerRadius:g}=e,y=Math.max(e.outerRadius+i+t-d,0),b=g>0?g+i+t+d:0;let _=0;const S=s-h;if(i){const be=g>0?g-i:0,ie=y>0?y-i:0,de=(be+ie)/2,ge=de!==0?S*de/(de+i):S;_=(S-ge)/2}const T=Math.max(.001,S*y-t/Ot)/y,A=(S-T)/2,I=h+A+_,M=s-A-_,{outerStart:j,outerEnd:H,innerStart:q,innerEnd:Q}=o$(e,b,y,M-I),P=y-j,C=y-H,D=I+j/P,O=M-H/C,V=b+q,z=b+Q,L=I+q/V,we=M-Q/z;if(n.beginPath(),r){const be=(D+O)/2;if(n.arc(o,c,y,D,be),n.arc(o,c,y,be,O),H>0){const _e=ql(C,O,o,c);n.arc(_e.x,_e.y,H,O,M+Zt)}const ie=ql(z,M,o,c);if(n.lineTo(ie.x,ie.y),Q>0){const _e=ql(z,we,o,c);n.arc(_e.x,_e.y,Q,M+Zt,we+Math.PI)}const de=(M-Q/b+(I+q/b))/2;if(n.arc(o,c,b,M-Q/b,de,!0),n.arc(o,c,b,de,I+q/b,!0),q>0){const _e=ql(V,L,o,c);n.arc(_e.x,_e.y,q,L+Math.PI,I-Zt)}const ge=ql(P,I,o,c);if(n.lineTo(ge.x,ge.y),j>0){const _e=ql(P,D,o,c);n.arc(_e.x,_e.y,j,I-Zt,D)}}else{n.moveTo(o,c);const be=Math.cos(D)*y+o,ie=Math.sin(D)*y+c;n.lineTo(be,ie);const de=Math.cos(O)*y+o,ge=Math.sin(O)*y+c;n.lineTo(de,ge)}n.closePath()}function l$(n,e,t,i,s){const{fullCircles:r,startAngle:o,circumference:c}=e;let h=e.endAngle;if(r){_p(n,e,t,i,h,s);for(let d=0;d<r;++d)n.fill();isNaN(c)||(h=o+(c%Mt||Mt))}return _p(n,e,t,i,h,s),n.fill(),h}function c$(n,e,t,i,s){const{fullCircles:r,startAngle:o,circumference:c,options:h}=e,{borderWidth:d,borderJoinStyle:g,borderDash:y,borderDashOffset:b}=h,_=h.borderAlign==="inner";if(!d)return;n.setLineDash(y||[]),n.lineDashOffset=b,_?(n.lineWidth=d*2,n.lineJoin=g||"round"):(n.lineWidth=d,n.lineJoin=g||"bevel");let S=e.endAngle;if(r){_p(n,e,t,i,S,s);for(let T=0;T<r;++T)n.stroke();isNaN(c)||(S=o+(c%Mt||Mt))}_&&r$(n,e,S),r||(_p(n,e,t,i,S,s),n.stroke())}class th extends qi{constructor(t){super();ve(this,"circumference");ve(this,"endAngle");ve(this,"fullCircles");ve(this,"innerRadius");ve(this,"outerRadius");ve(this,"pixelMargin");ve(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:c}=wN(r,{x:t,y:i}),{startAngle:h,endAngle:d,innerRadius:g,outerRadius:y,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),_=(this.options.spacing+this.options.borderWidth)/2,S=Ue(b,d-h),T=Vh(o,h,d)&&h!==d,A=S>=Mt||T,I=ga(c,g+_,y+_);return A&&I}getCenterPoint(t){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:g}=this.options,y=(r+o)/2,b=(c+h+g+d)/2;return{x:i+Math.cos(y)*b,y:s+Math.sin(y)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Mt?Math.floor(s/Mt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const d=1-Math.sin(Math.min(Ot,s||0)),g=r*d;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,l$(t,this,g,o,c),c$(t,this,g,o,c),t.restore()}}ve(th,"id","arc"),ve(th,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ve(th,"defaultRoutes",{backgroundColor:"backgroundColor"}),ve(th,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function KN(n,e,t=e){n.lineCap=Ue(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Ue(t.borderDash,e.borderDash)),n.lineDashOffset=Ue(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Ue(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Ue(t.borderWidth,e.borderWidth),n.strokeStyle=Ue(t.borderColor,e.borderColor)}function u$(n,e,t){n.lineTo(t.x,t.y)}function h$(n){return n.stepped?M8:n.tension||n.cubicInterpolationMode==="monotone"?O8:u$}function XN(n,e,t={}){const i=n.length,{start:s=0,end:r=i-1}=t,{start:o,end:c}=e,h=Math.max(s,o),d=Math.min(r,c),g=s<o&&r<o||s>c&&r>c;return{count:i,start:h,loop:e.loop,ilen:d<h&&!g?i+d-h:d-h}}function d$(n,e,t,i){const{points:s,options:r}=e,{count:o,start:c,loop:h,ilen:d}=XN(s,t,i),g=h$(r);let{move:y=!0,reverse:b}=i||{},_,S,T;for(_=0;_<=d;++_)S=s[(c+(b?d-_:_))%o],!S.skip&&(y?(n.moveTo(S.x,S.y),y=!1):g(n,T,S,b,r.stepped),T=S);return h&&(S=s[(c+(b?d:0))%o],g(n,T,S,b,r.stepped)),!!h}function f$(n,e,t,i){const s=e.points,{count:r,start:o,ilen:c}=XN(s,t,i),{move:h=!0,reverse:d}=i||{};let g=0,y=0,b,_,S,T,A,I;const M=H=>(o+(d?c-H:H))%r,j=()=>{T!==A&&(n.lineTo(g,A),n.lineTo(g,T),n.lineTo(g,I))};for(h&&(_=s[M(0)],n.moveTo(_.x,_.y)),b=0;b<=c;++b){if(_=s[M(b)],_.skip)continue;const H=_.x,q=_.y,Q=H|0;Q===S?(q<T?T=q:q>A&&(A=q),g=(y*g+H)/++y):(j(),n.lineTo(H,q),S=Q,y=0,T=A=q),I=q}j()}function Qb(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?f$:d$}function g$(n){return n.stepped?dG:n.tension||n.cubicInterpolationMode==="monotone"?fG:wo}function p$(n,e,t,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,i)&&s.closePath()),KN(n,e.options),n.stroke(s)}function m$(n,e,t,i){const{segments:s,options:r}=e,o=Qb(e);for(const c of s)KN(n,r,c.style),n.beginPath(),o(n,e,c,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const y$=typeof Path2D=="function";function v$(n,e,t,i){y$&&!e.options.segment?p$(n,e,t,i):m$(n,e,t,i)}class nh extends qi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;sG(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=EG(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],r=this.points,o=vG(this,{property:t,start:s,end:s});if(!o.length)return;const c=[],h=g$(i);let d,g;for(d=0,g=o.length;d<g;++d){const{start:y,end:b}=o[d],_=r[y],S=r[b];if(_===S){c.push(_);continue}const T=Math.abs((s-_[t])/(S[t]-_[t])),A=h(_,S,T,i.stepped);A[t]=e[t],c.push(A)}return c.length===1?c[0]:c}pathSegment(e,t,i){return Qb(this)(e,this,t,i)}path(e,t,i){const s=this.segments,r=Qb(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const c of s)o&=r(e,this,c,{start:t,end:t+i-1});return!!o}draw(e,t,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),v$(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ve(nh,"id","line"),ve(nh,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ve(nh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ve(nh,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function XR(n,e,t,i){const s=n.options,{[t]:r}=n.getProps([t],i);return Math.abs(e-r)<s.radius+s.hitRadius}class xg extends qi{constructor(t){super();ve(this,"parsed");ve(this,"skip");ve(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,s){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],s);return Math.pow(t-o,2)+Math.pow(i-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,i){return XR(this,t,"x",i)}inYRange(t,i){return XR(this,t,"y",i)}getCenterPoint(t){const{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const s=i&&t.borderWidth||0;return(i+s)*2}draw(t,i){const s=this.options;this.skip||s.radius<.1||!Uh(this,i,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,Wb(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}ve(xg,"id","point"),ve(xg,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ve(xg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ZN(n,e){const{x:t,y:i,base:s,width:r,height:o}=n.getProps(["x","y","base","width","height"],e);let c,h,d,g,y;return n.horizontal?(y=o/2,c=Math.min(t,s),h=Math.max(t,s),d=i-y,g=i+y):(y=r/2,c=t-y,h=t+y,d=Math.min(i,s),g=Math.max(i,s)),{left:c,top:d,right:h,bottom:g}}function pa(n,e,t,i){return n?0:In(e,t,i)}function b$(n,e,t){const i=n.options.borderWidth,s=n.borderSkipped,r=DN(i);return{t:pa(s.top,r.top,0,t),r:pa(s.right,r.right,0,e),b:pa(s.bottom,r.bottom,0,t),l:pa(s.left,r.left,0,e)}}function _$(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,r=sc(s),o=Math.min(e,t),c=n.borderSkipped,h=i||Qe(s);return{topLeft:pa(!h||c.top||c.left,r.topLeft,0,o),topRight:pa(!h||c.top||c.right,r.topRight,0,o),bottomLeft:pa(!h||c.bottom||c.left,r.bottomLeft,0,o),bottomRight:pa(!h||c.bottom||c.right,r.bottomRight,0,o)}}function E$(n){const e=ZN(n),t=e.right-e.left,i=e.bottom-e.top,s=b$(n,t/2,i/2),r=_$(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Zv(n,e,t,i){const s=e===null,r=t===null,c=n&&!(s&&r)&&ZN(n,i);return c&&(s||ga(e,c.left,c.right))&&(r||ga(t,c.top,c.bottom))}function w$(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function S$(n,e){n.rect(e.x,e.y,e.w,e.h)}function Jv(n,e,t={}){const i=n.x!==t.x?-e:0,s=n.y!==t.y?-e:0,r=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+r,h:n.h+o,radius:n.radius}}class Rg extends qi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=E$(this),c=w$(o.radius)?yp:S$;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),c(e,Jv(o,t,r)),e.clip(),c(e,Jv(r,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,Jv(r,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,i){return Zv(this,e,t,i)}inXRange(e,t){return Zv(this,e,null,t)}inYRange(e,t){return Zv(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+s)/2:t,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ve(Rg,"id","bar"),ve(Rg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ve(Rg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const ZR=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},A$=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class JR extends qi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=pt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=kn(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=ZR(i,r);let d,g;t.font=s.string,this.isHorizontal()?(d=this.maxWidth,g=this._fitRows(o,r,c,h)+10):(g=this.maxHeight,d=this._fitCols(o,s,c,h)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],g=s+c;let y=e;r.textAlign="left",r.textBaseline="middle";let b=-1,_=-g;return this.legendItems.forEach((S,T)=>{const A=i+t/2+r.measureText(S.text).width;(T===0||d[d.length-1]+A+2*c>o)&&(y+=g,d[d.length-(T>0?0:1)]=0,_+=g,b++),h[T]={left:0,top:_,row:b,width:A,height:s},d[d.length-1]+=A+c}),y}_fitCols(e,t,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],g=o-e;let y=c,b=0,_=0,S=0,T=0;return this.legendItems.forEach((A,I)=>{const{itemWidth:M,itemHeight:j}=T$(i,t,r,A,s);I>0&&_+j+2*c>g&&(y+=b+c,d.push({width:b,height:_}),S+=b+c,T++,b=_=0),h[I]={left:S,top:_,col:T,width:M,height:j},b=Math.max(b,M),_+=j+c}),y+=b,d.push({width:b,height:_}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:s},rtl:r}}=this,o=rc(r,this.left,this.width);if(this.isHorizontal()){let c=0,h=xn(i,this.left+s,this.right-this.lineWidths[c]);for(const d of t)c!==d.row&&(c=d.row,h=xn(i,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+e+s,d.left=o.leftForLtr(o.x(h),d.width),h+=d.width+s}else{let c=0,h=xn(i,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const d of t)d.col!==c&&(c=d.col,h=xn(i,this.top+e+s,this.bottom-this.columnSizes[c].height)),d.top=h,d.left+=this.left+s,d.left=o.leftForLtr(o.x(d.left),d.width),h+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;U0(e,this),this._draw(),z0(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,c=Ut.color,h=rc(e.rtl,this.left,this.width),d=kn(o.font),{padding:g}=o,y=d.size,b=y/2;let _;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:S,boxHeight:T,itemHeight:A}=ZR(o,y),I=function(Q,P,C){if(isNaN(S)||S<=0||isNaN(T)||T<0)return;s.save();const D=Ue(C.lineWidth,1);if(s.fillStyle=Ue(C.fillStyle,c),s.lineCap=Ue(C.lineCap,"butt"),s.lineDashOffset=Ue(C.lineDashOffset,0),s.lineJoin=Ue(C.lineJoin,"miter"),s.lineWidth=D,s.strokeStyle=Ue(C.strokeStyle,c),s.setLineDash(Ue(C.lineDash,[])),o.usePointStyle){const O={radius:T*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:D},V=h.xPlus(Q,S/2),z=P+b;CN(s,O,V,z,o.pointStyleWidth&&S)}else{const O=P+Math.max((y-T)/2,0),V=h.leftForLtr(Q,S),z=sc(C.borderRadius);s.beginPath(),Object.values(z).some(L=>L!==0)?yp(s,{x:V,y:O,w:S,h:T,radius:z}):s.rect(V,O,S,T),s.fill(),D!==0&&s.stroke()}s.restore()},M=function(Q,P,C){zh(s,C.text,Q,P+A/2,d,{strikethrough:C.hidden,textAlign:h.textAlign(C.textAlign)})},j=this.isHorizontal(),H=this._computeTitleHeight();j?_={x:xn(r,this.left+g,this.right-i[0]),y:this.top+g+H,line:0}:_={x:this.left+g,y:xn(r,this.top+H+g,this.bottom-t[0].height),line:0},PN(this.ctx,e.textDirection);const q=A+g;this.legendItems.forEach((Q,P)=>{s.strokeStyle=Q.fontColor,s.fillStyle=Q.fontColor;const C=s.measureText(Q.text).width,D=h.textAlign(Q.textAlign||(Q.textAlign=o.textAlign)),O=S+b+C;let V=_.x,z=_.y;h.setWidth(this.width),j?P>0&&V+O+g>this.right&&(z=_.y+=q,_.line++,V=_.x=xn(r,this.left+g,this.right-i[_.line])):P>0&&z+q>this.bottom&&(V=_.x=V+t[_.line].width+g,_.line++,z=_.y=xn(r,this.top+H+g,this.bottom-t[_.line].height));const L=h.x(V);if(I(L,z,Q),V=_8(D,V+S+b,j?V+O:this.right,e.rtl),M(h.x(V),z,Q),j)_.x+=O+g;else if(typeof Q.text!="string"){const we=d.lineHeight;_.y+=JN(Q,we)+g}else _.y+=q}),jN(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=kn(t.font),s=Ii(t.padding);if(!t.display)return;const r=rc(e.rtl,this.left,this.width),o=this.ctx,c=t.position,h=i.size/2,d=s.top+h;let g,y=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),g=this.top+d,y=xn(e.align,y,this.right-b);else{const S=this.columnSizes.reduce((T,A)=>Math.max(T,A.height),0);g=d+xn(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const _=xn(c,y,y+b);o.textAlign=r.textAlign(j0(c)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,zh(o,t.text,_,g,i)}_computeTitleHeight(){const e=this.options.title,t=kn(e.font),i=Ii(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,s,r;if(ga(e,this.left,this.right)&&ga(t,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],ga(e,s.left,s.left+s.width)&&ga(t,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!C$(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=A$(s,i);s&&!r&&pt(t.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&pt(t.onHover,[e,i,this],this)}else i&&pt(t.onClick,[e,i,this],this)}}function T$(n,e,t,i,s){const r=x$(i,n,e,t),o=R$(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function x$(n,e,t,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+t.size/2+i.measureText(s).width}function R$(n,e,t){let i=n;return typeof e.text!="string"&&(i=JN(e,t)),i}function JN(n,e){const t=n.text?n.text.length:0;return e*t}function C$(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var eM={id:"legend",_element:JR,start(n,e,t){const i=n.legend=new JR({ctx:n.ctx,options:t,chart:n});Ai.configure(n,i,t),Ai.addBox(n,i)},stop(n){Ai.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Ai.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,s=t.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(t?0:void 0),g=Ii(d.borderWidth);return{text:e[h.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:o&&(c||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class tM extends qi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=Xt(i.text)?i.text.length:1;this._padding=Ii(i.padding);const r=s*kn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:s,right:r,options:o}=this,c=o.align;let h=0,d,g,y;return this.isHorizontal()?(g=xn(c,i,r),y=t+e,d=r-i):(o.position==="left"?(g=i+e,y=xn(c,s,t),h=Ot*-.5):(g=r-e,y=xn(c,t,s),h=Ot*.5),d=s-t),{titleX:g,titleY:y,maxWidth:d,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=kn(t.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:h,rotation:d}=this._drawArgs(r);zh(e,t.text,0,0,i,{color:t.color,maxWidth:h,rotation:d,textAlign:j0(t.align),textBaseline:"middle",translation:[o,c]})}}function D$(n,e){const t=new tM({ctx:n.ctx,options:e,chart:n});Ai.configure(n,t,e),Ai.addBox(n,t),n.titleBlock=t}var I$={id:"title",_element:tM,start(n,e,t){D$(n,t)},stop(n){const e=n.titleBlock;Ai.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Ai.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ih={average(n){if(!n.length)return!1;let e,t,i=new Set,s=0,r=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/r}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,c;for(r=0,o=n.length;r<o;++r){const h=n[r].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),g=qb(e,d);g<s&&(s=g,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function gs(n,e){return e&&(Xt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function nr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function k$(n,e){const{element:t,datasetIndex:i,index:s}=e,r=n.getDatasetMeta(i).controller,{label:o,value:c}=r.getLabelAndValue(s);return{chart:n,label:o,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:c,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function eC(n,e){const t=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:o,boxHeight:c}=e,h=kn(e.bodyFont),d=kn(e.titleFont),g=kn(e.footerFont),y=r.length,b=s.length,_=i.length,S=Ii(e.padding);let T=S.height,A=0,I=i.reduce((H,q)=>H+q.before.length+q.lines.length+q.after.length,0);if(I+=n.beforeBody.length+n.afterBody.length,y&&(T+=y*d.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),I){const H=e.displayColors?Math.max(c,h.lineHeight):h.lineHeight;T+=_*H+(I-_)*h.lineHeight+(I-1)*e.bodySpacing}b&&(T+=e.footerMarginTop+b*g.lineHeight+(b-1)*e.footerSpacing);let M=0;const j=function(H){A=Math.max(A,t.measureText(H).width+M)};return t.save(),t.font=d.string,at(n.title,j),t.font=h.string,at(n.beforeBody.concat(n.afterBody),j),M=e.displayColors?o+2+e.boxPadding:0,at(i,H=>{at(H.before,j),at(H.lines,j),at(H.after,j)}),M=0,t.font=g.string,at(n.footer,j),t.restore(),A+=S.width,{width:A,height:T}}function N$(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function M$(n,e,t,i){const{x:s,width:r}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&s+r+o>e.width||n==="right"&&s-r-o<0)return!0}function O$(n,e,t,i){const{x:s,width:r}=t,{width:o,chartArea:{left:c,right:h}}=n;let d="center";return i==="center"?d=s<=(c+h)/2?"left":"right":s<=r/2?d="left":s>=o-r/2&&(d="right"),M$(d,n,e,t)&&(d="center"),d}function tC(n,e,t){const i=t.yAlign||e.yAlign||N$(n,t);return{xAlign:t.xAlign||e.xAlign||O$(n,e,t,i),yAlign:i}}function P$(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function j$(n,e,t){let{y:i,height:s}=n;return e==="top"?i+=t:e==="bottom"?i-=s+t:i-=s/2,i}function nC(n,e,t,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=n,{xAlign:c,yAlign:h}=t,d=s+r,{topLeft:g,topRight:y,bottomLeft:b,bottomRight:_}=sc(o);let S=P$(e,c);const T=j$(e,h,d);return h==="center"?c==="left"?S+=d:c==="right"&&(S-=d):c==="left"?S-=Math.max(g,b)+s:c==="right"&&(S+=Math.max(y,_)+s),{x:In(S,0,i.width-e.width),y:In(T,0,i.height-e.height)}}function ig(n,e,t){const i=Ii(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function iC(n){return gs([],nr(n))}function L$(n,e,t){return Jo(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function sC(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const nM={beforeTitle:er,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:er,beforeBody:er,beforeLabel:er,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return st(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:er,afterBody:er,beforeFooter:er,footer:er,afterFooter:er};function Fn(n,e,t,i){const s=n[e].call(t,i);return typeof s>"u"?nM[e].call(t,i):s}class Kb extends qi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,r=new VN(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=L$(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,s=Fn(i,"beforeTitle",this,e),r=Fn(i,"title",this,e),o=Fn(i,"afterTitle",this,e);let c=[];return c=gs(c,nr(s)),c=gs(c,nr(r)),c=gs(c,nr(o)),c}getBeforeBody(e,t){return iC(Fn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,s=[];return at(e,r=>{const o={before:[],lines:[],after:[]},c=sC(i,r);gs(o.before,nr(Fn(c,"beforeLabel",this,r))),gs(o.lines,Fn(c,"label",this,r)),gs(o.after,nr(Fn(c,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,t){return iC(Fn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,s=Fn(i,"beforeFooter",this,e),r=Fn(i,"footer",this,e),o=Fn(i,"afterFooter",this,e);let c=[];return c=gs(c,nr(s)),c=gs(c,nr(r)),c=gs(c,nr(o)),c}_createItems(e){const t=this._active,i=this.chart.data,s=[],r=[],o=[];let c=[],h,d;for(h=0,d=t.length;h<d;++h)c.push(k$(this.chart,t[h]));return e.filter&&(c=c.filter((g,y,b)=>e.filter(g,y,b,i))),e.itemSort&&(c=c.sort((g,y)=>e.itemSort(g,y,i))),at(c,g=>{const y=sC(e.callbacks,g);s.push(Fn(y,"labelColor",this,g)),r.push(Fn(y,"labelPointStyle",this,g)),o.push(Fn(y,"labelTextColor",this,g))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=c,c}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const c=ih[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const h=this._size=eC(this,i),d=Object.assign({},c,h),g=tC(this.chart,i,d),y=nC(i,d,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,r={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const r=this.getCaretPosition(e,i,s);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:c}=i,{topLeft:h,topRight:d,bottomLeft:g,bottomRight:y}=sc(c),{x:b,y:_}=e,{width:S,height:T}=t;let A,I,M,j,H,q;return r==="center"?(H=_+T/2,s==="left"?(A=b,I=A-o,j=H+o,q=H-o):(A=b+S,I=A+o,j=H-o,q=H+o),M=A):(s==="left"?I=b+Math.max(h,g)+o:s==="right"?I=b+S-Math.max(d,y)-o:I=this.caretX,r==="top"?(j=_,H=j-o,A=I-o,M=I+o):(j=_+T,H=j+o,A=I+o,M=I-o),q=j),{x1:A,x2:I,x3:M,y1:j,y2:H,y3:q}}drawTitle(e,t,i){const s=this.title,r=s.length;let o,c,h;if(r){const d=rc(i.rtl,this.x,this.width);for(e.x=ig(this,i.titleAlign,i),t.textAlign=d.textAlign(i.titleAlign),t.textBaseline="middle",o=kn(i.titleFont),c=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,h=0;h<r;++h)t.fillText(s[h],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,h+1===r&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,t,i,s,r){const o=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:d}=r,g=kn(r.bodyFont),y=ig(this,"left",r),b=s.x(y),_=h<g.lineHeight?(g.lineHeight-h)/2:0,S=t.y+_;if(r.usePointStyle){const T={radius:Math.min(d,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},A=s.leftForLtr(b,d)+d/2,I=S+h/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Wb(e,T,A,I),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Wb(e,T,A,I)}else{e.lineWidth=Qe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const T=s.leftForLtr(b,d),A=s.leftForLtr(s.xPlus(b,1),d-2),I=sc(o.borderRadius);Object.values(I).some(M=>M!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,yp(e,{x:T,y:S,w:d,h,radius:I}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),yp(e,{x:A,y:S+1,w:d-2,h:h-2,radius:I}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(T,S,d,h),e.strokeRect(T,S,d,h),e.fillStyle=o.backgroundColor,e.fillRect(A,S+1,d-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:c,boxHeight:h,boxWidth:d,boxPadding:g}=i,y=kn(i.bodyFont);let b=y.lineHeight,_=0;const S=rc(i.rtl,this.x,this.width),T=function(C){t.fillText(C,S.x(e.x+_),e.y+b/2),e.y+=b+r},A=S.textAlign(o);let I,M,j,H,q,Q,P;for(t.textAlign=o,t.textBaseline="middle",t.font=y.string,e.x=ig(this,A,i),t.fillStyle=i.bodyColor,at(this.beforeBody,T),_=c&&A!=="right"?o==="center"?d/2+g:d+2+g:0,H=0,Q=s.length;H<Q;++H){for(I=s[H],M=this.labelTextColors[H],t.fillStyle=M,at(I.before,T),j=I.lines,c&&j.length&&(this._drawColorBox(t,e,H,S,i),b=Math.max(y.lineHeight,h)),q=0,P=j.length;q<P;++q)T(j[q]),b=y.lineHeight;at(I.after,T)}_=0,b=y.lineHeight,at(this.afterBody,T),e.y-=r}drawFooter(e,t,i){const s=this.footer,r=s.length;let o,c;if(r){const h=rc(i.rtl,this.x,this.width);for(e.x=ig(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",o=kn(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,c=0;c<r;++c)t.fillText(s[c],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:r,yAlign:o}=this,{x:c,y:h}=e,{width:d,height:g}=i,{topLeft:y,topRight:b,bottomLeft:_,bottomRight:S}=sc(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(c+y,h),o==="top"&&this.drawCaret(e,t,i,s),t.lineTo(c+d-b,h),t.quadraticCurveTo(c+d,h,c+d,h+b),o==="center"&&r==="right"&&this.drawCaret(e,t,i,s),t.lineTo(c+d,h+g-S),t.quadraticCurveTo(c+d,h+g,c+d-S,h+g),o==="bottom"&&this.drawCaret(e,t,i,s),t.lineTo(c+_,h+g),t.quadraticCurveTo(c,h+g,c,h+g-_),o==="center"&&r==="left"&&this.drawCaret(e,t,i,s),t.lineTo(c,h+y),t.quadraticCurveTo(c,h,c+y,h),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=ih[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=eC(this,e),h=Object.assign({},o,this._size),d=tC(t,e,h),g=nC(e,h,d,t);(s._to!==g.x||r._to!==g.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ii(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,t),PN(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),jN(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:c,index:h})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[h],index:h}}),r=!gp(i,s),o=this._positionChanged(s,t);(r||o)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,t,i),c=this._positionChanged(o,e),h=t||!gp(o,r)||c;return h&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:s,options:r}=this,o=ih[r.position].call(this,e,t);return o!==!1&&(i!==o.x||s!==o.y)}}ve(Kb,"positioners",ih);var iM={id:"tooltip",_element:Kb,positioners:ih,afterInit(n,e,t){t&&(n.tooltip=new Kb({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const V$=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function U$(n,e,t,i){const s=n.indexOf(e);if(s===-1)return V$(n,e,t,i);const r=n.lastIndexOf(e);return s!==r?t:s}const z$=(n,e)=>n===null?null:In(Math.round(n),0,e);function rC(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Xb extends Ic{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:r}of t)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(st(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:U$(i,e,Ue(t,e),this._addedLabels),z$(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)s.push({value:o});return s}getLabelForValue(e){return rC.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ve(Xb,"id","category"),ve(Xb,"defaults",{ticks:{callback:rC}});function B$(n,e){const t=[],{bounds:s,step:r,min:o,max:c,precision:h,count:d,maxTicks:g,maxDigits:y,includeBounds:b}=n,_=r||1,S=g-1,{min:T,max:A}=e,I=!st(o),M=!st(c),j=!st(d),H=(A-T)/(y+1);let q=oR((A-T)/S/_)*_,Q,P,C,D;if(q<1e-14&&!I&&!M)return[{value:T},{value:A}];D=Math.ceil(A/q)-Math.floor(T/q),D>S&&(q=oR(D*q/S/_)*_),st(h)||(Q=Math.pow(10,h),q=Math.ceil(q*Q)/Q),s==="ticks"?(P=Math.floor(T/q)*q,C=Math.ceil(A/q)*q):(P=T,C=A),I&&M&&r&&h8((c-o)/r,q/1e3)?(D=Math.round(Math.min((c-o)/q,g)),q=(c-o)/D,P=o,C=c):j?(P=I?o:P,C=M?c:C,D=d-1,q=(C-P)/D):(D=(C-P)/q,yh(D,Math.round(D),q/1e3)?D=Math.round(D):D=Math.ceil(D));const O=Math.max(lR(q),lR(P));Q=Math.pow(10,st(h)?O:h),P=Math.round(P*Q)/Q,C=Math.round(C*Q)/Q;let V=0;for(I&&(b&&P!==o?(t.push({value:o}),P<o&&V++,yh(Math.round((P+V*q)*Q)/Q,o,aC(o,H,n))&&V++):P<o&&V++);V<D;++V){const z=Math.round((P+V*q)*Q)/Q;if(M&&z>c)break;t.push({value:z})}return M&&b&&C!==c?t.length&&yh(t[t.length-1].value,c,aC(c,H,n))?t[t.length-1].value=c:t.push({value:c}):(!M||C===c)&&t.push({value:C}),t}function aC(n,e,{horizontal:t,minRotation:i}){const s=lr(i),r=(t?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+n).length;return Math.min(e/r,o)}class H$ extends Ic{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return st(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=h=>s=t?s:h,c=h=>r=i?r:h;if(e){const h=Ss(s),d=Ss(r);h<0&&d<0?c(0):h>0&&d>0&&o(0)}if(s===r){let h=r===0?1:Math.abs(r*.05);c(r+h),e||o(s-h)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,o=B$(s,r);return e.bounds==="ticks"&&d8(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return V0(e,this.chart.options.locale,this.options.ticks.format)}}class Zb extends H${determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Di(e)?e:0,this.max=Di(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=lr(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ve(Zb,"id","linear"),ve(Zb,"defaults",{ticks:{callback:RN.formatters.numeric}});const rm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$n=Object.keys(rm);function oC(n,e){return n-e}function lC(n,e){if(st(e))return null;const t=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Di(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(s&&(o=s==="week"&&(Lh(r)||r===!0)?t.startOf(o,"isoWeek",r):t.startOf(o,s)),+o)}function cC(n,e,t,i){const s=$n.length;for(let r=$n.indexOf(n);r<s-1;++r){const o=rm[$n[r]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(c*o.size))<=i)return $n[r]}return $n[s-1]}function F$(n,e,t,i,s){for(let r=$n.length-1;r>=$n.indexOf(t);r--){const o=$n[r];if(rm[o].common&&n._adapter.diff(s,i,o)>=e-1)return o}return $n[t?$n.indexOf(t):0]}function q$(n){for(let e=$n.indexOf(n)+1,t=$n.length;e<t;++e)if(rm[$n[e]].common)return $n[e]}function uC(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:s}=P0(t,e),r=t[i]>=e?t[i]:t[s];n[r]=!0}}function G$(n,e,t,i){const s=n._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let c,h;for(c=r;c<=o;c=+s.add(c,1,i))h=t[c],h>=0&&(e[h].major=!0);return e}function hC(n,e,t){const i=[],s={},r=e.length;let o,c;for(o=0;o<r;++o)c=e[o],s[c]=o,i.push({value:c,major:!1});return r===0||!t?i:G$(n,i,s,t)}class Ep extends Ic{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),s=this._adapter=new QG._date(e.adapters.date);s.init(t),mh(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:lC(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:c}=this.getUserBounds();function h(d){!o&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!o||!c)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Di(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),r=Di(r)&&!isNaN(r)?r:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,c=y8(s,r,o);return this._unit=t.unit||(i.autoSkip?cC(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):F$(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:q$(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),hC(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=In(t,0,o),i=In(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||cC(r.minUnit,t,i,this._getLabelCapacity(t)),c=Ue(s.ticks.stepSize,1),h=o==="week"?r.isoWeekday:!1,d=Lh(h)||h===!0,g={};let y=t,b,_;if(d&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,d?"day":o),e.diff(i,t,o)>1e5*c)throw new Error(t+" and "+i+" are too far apart with stepSize of "+c+" "+o);const S=s.ticks.source==="data"&&this.getDataTimestamps();for(b=y,_=0;b<i;b=+e.add(b,c,o),_++)uC(g,b,S);return(b===i||s.bounds==="ticks"||_===1)&&uC(g,b,S),Object.keys(g).sort(oC).map(T=>+T)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,r=this._unit,o=t||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,s){const r=this.options,o=r.ticks.callback;if(o)return pt(o,[e,t,i],this);const c=r.time.displayFormats,h=this._unit,d=this._majorUnit,g=h&&c[h],y=d&&c[d],b=i[t],_=d&&y&&b&&b.major;return this._adapter.format(e,s||(_?y:g))}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=lr(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(s),o=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*r+c*o,h:i*o+c*r}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,r=this._tickFormatFunction(e,0,hC(this,[e],this._majorUnit),s),o=this._getLabelSize(r),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,i=s.length;t<i;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(lC(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return AN(e.sort(oC))}}ve(Ep,"id","time"),ve(Ep,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function sg(n,e,t){let i=0,s=n.length-1,r,o,c,h;t?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=Ro(n,"pos",e)),{pos:r,time:c}=n[i],{pos:o,time:h}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=Ro(n,"time",e)),{time:r,pos:c}=n[i],{time:o,pos:h}=n[s]);const d=o-r;return d?c+(h-c)*(e-r)/d:c}class dC extends Ep{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=sg(t,this.min),this._tableRange=sg(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],r=[];let o,c,h,d,g;for(o=0,c=e.length;o<c;++o)d=e[o],d>=t&&d<=i&&s.push(d);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,c=s.length;o<c;++o)g=s[o+1],h=s[o-1],d=s[o],Math.round((g+h)/2)!==d&&r.push({time:d,pos:o/(c-1)});return r}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(sg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return sg(this._table,i*this._tableRange+this._minPos,!0)}}ve(dC,"id","timeseries"),ve(dC,"defaults",Ep.defaults);const sM="label";function fC(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function W$(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function rM(n,e){n.labels=e}function aM(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sM;const i=[];n.datasets=e.map(s=>{const r=n.datasets.find(o=>o[t]===s[t]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function $$(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sM;const t={labels:[],datasets:[]};return rM(t,n.labels),aM(t,n.datasets,e),t}function Y$(n,e){const{height:t=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:c,options:h,plugins:d=[],fallbackContent:g,updateMode:y,...b}=n,_=B.useRef(null),S=B.useRef(null),T=()=>{_.current&&(S.current=new od(_.current,{type:o,data:$$(c,r),options:h&&{...h},plugins:d}),fC(e,S.current))},A=()=>{fC(e,null),S.current&&(S.current.destroy(),S.current=null)};return B.useEffect(()=>{!s&&S.current&&h&&W$(S.current,h)},[s,h]),B.useEffect(()=>{!s&&S.current&&rM(S.current.config.data,c.labels)},[s,c.labels]),B.useEffect(()=>{!s&&S.current&&c.datasets&&aM(S.current.config.data,c.datasets,r)},[s,c.datasets]),B.useEffect(()=>{S.current&&(s?(A(),setTimeout(T)):S.current.update(y))},[s,h,c.labels,c.datasets,y]),B.useEffect(()=>{S.current&&(A(),setTimeout(T))},[o]),B.useEffect(()=>(T(),()=>A()),[]),Ti.createElement("canvas",{ref:_,role:"img",height:t,width:i,...b},g)}const Q$=B.forwardRef(Y$);function Y0(n,e){return od.register(e),B.forwardRef((t,i)=>Ti.createElement(Q$,{...t,ref:i,type:n}))}const gC=Y0("line",Sg),K$=Y0("bar",wg),qu=Y0("doughnut",Ju);od.register(th,iM,eM);const Gu={responzive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},rg=(n,e,t)=>({datasets:[{data:[n,Math.max(e-n,0)],backgroundColor:[t,"#E5E5E5"],borderWidth:0,cutout:"80%"}]}),X$=({data:n})=>{const{currentKcal:e,goalKcal:t,protein:i,carbs:s,fat:r,fiber:o,fluid:c,burned:h}=n,d=(T,A)=>A>0?Math.min((T/A*100).toFixed(0),100):0,g=d(i.current,i.goal),y=d(s.current,s.goal),b=d(r.current,r.goal),_=d(o.current,o.goal),S={datasets:[{data:[e,Math.max(t-e,0)],backgroundColor:["#F7941D","#E5E5E5"],borderWidth:0,cutout:"80%"}]};return E.jsxs("div",{className:"p-4",children:[E.jsxs("div",{className:"relative w-40 h-40 mx-auto",children:[E.jsx(qu,{data:S,options:Gu}),E.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[E.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[e," kcal"]}),E.jsxs("div",{className:"text-sm text-gray-500",children:["z ",t," kcal"]})]})]}),E.jsxs("div",{className:"flex justify-around mt-6",children:[E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsxs("div",{className:"relative w-12 h-12",children:[E.jsx(qu,{data:rg(i.current,i.goal,"#69C267"),options:Gu}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[g,"%"]})})]}),E.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Bielkoviny"}),E.jsxs("div",{className:"text-xs text-gray-700",children:[i.current," g z ",i.goal," g"]})]}),E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsxs("div",{className:"relative w-12 h-12",children:[E.jsx(qu,{data:rg(s.current,s.goal,"#F7941D"),options:Gu}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[y,"%"]})})]}),E.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Sacharidy"}),E.jsxs("div",{className:"text-xs text-gray-700",children:[s.current," g z ",s.goal," g"]})]}),E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsxs("div",{className:"relative w-12 h-12",children:[E.jsx(qu,{data:rg(r.current,r.goal,"#F16664"),options:Gu}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[b,"%"]})})]}),E.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Tuky"}),E.jsxs("div",{className:"text-xs text-gray-700",children:[r.current," g z ",r.goal," g"]})]}),E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsxs("div",{className:"relative w-12 h-12",children:[E.jsx(qu,{data:rg(o.current,o.goal,"#8E8E93"),options:Gu}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[_,"%"]})})]}),E.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Vláknina"}),E.jsxs("div",{className:"text-xs text-gray-700",children:[o.current," g z ",o.goal," g"]})]})]}),E.jsxs("div",{className:"mt-4 text-center text-sm text-gray-700",children:[E.jsxs("p",{children:["Tekutiny: ",c.current," l z ",c.goal," l"]}),E.jsxs("p",{children:["Spálené: ",h," kcal"]})]})]})},Z$=({selectedDate:n,overviewData:e,eventsForDay:t,onDeleteEvent:i})=>E.jsx("div",{className:"w-full lg:w-3/3 bg-white rounded-lg shadow p-4",children:n&&e?E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3",children:n}),E.jsx(X$,{data:e}),E.jsxs("div",{className:"mt-4",children:[E.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-2",children:"Jedlá a aktivity dňa"}),E.jsx("ul",{className:"space-y-2 text-sm",children:t.map((s,r)=>E.jsxs("li",{className:"p-2 bg-green-100 rounded shadow border-l-4 border-green-500",children:[s.title,E.jsx("button",{onClick:()=>i(s.id,s.type),className:"bg-red-500 text-white px-2 py-1 ml-5 rounded hover:bg-red-600",children:"Zmazať"})]},r))})]})]}):E.jsx("div",{className:"text-gray-500 text-center",children:"Kliknite na deň v kalendári pre zobrazenie detailov."})}),J$=({selectedDate:n,onAddFood:e})=>{const[t,i]=B.useState("custom"),[s,r]=B.useState(""),{savedFoods:o}=Fh(),[c,h]=B.useState([]),d=B.useRef(null);B.useEffect(()=>{const C=D=>{d.current&&!d.current.contains(D.target)&&h([])};return document.addEventListener("click",C,!0),()=>{document.removeEventListener("click",C,!0)}},[]);const g=C=>{const D=C.target.value;if(r(D),D.trim().length>0){const O=o.filter(V=>V.foodName.toLowerCase().includes(D.toLowerCase()));h(O)}else h([])},y=C=>{const D={title:C.foodName,start:n,extendedProps:{kcal:C.kcal,protein:C.protein,fat:C.fat,carbs:C.carbs,fiber:C.fiber}};e(D),r(""),h([])},b=C=>{if(C.preventDefault(),!s||!n)return;const D=o.find(V=>V.foodName.toLowerCase()===s.toLowerCase()),O=D?{title:D.foodName,start:n,extendedProps:{kcal:D.kcal,protein:D.protein,fat:D.fat,carbs:D.carbs,fiber:D.fiber}}:{title:s,start:n,extendedProps:{kcal:0,protein:0,fat:0,carbs:0,fiber:0}};e(O),r(""),h([])},[_,S]=B.useState(""),[T,A]=B.useState([]),[I,M]=B.useState(null),[j,H]=B.useState(!1),q=C=>{const D=C.target.value;S(D),D.trim()||(A([]),M(null))},Q=async()=>{if(_.trim()){H(!0),M(null);try{const C=`https://api.spoonacular.com/food/ingredients/search?query=${encodeURIComponent(_)}&number=10&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,D=await fetch(C);if(!D.ok)throw new Error(`Chyba pri volaní spoonacular: ${D.status}`);const V=(await D.json()).results||[],z=await Promise.all(V.map(async L=>{var be;const we=`https://api.spoonacular.com/food/ingredients/${L.id}/information?amount=100&unit=grams&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`;try{const ie=await fetch(we);if(!ie.ok)return{...L,nutrition:null};const de=await ie.json(),ge=((be=de.nutrition)==null?void 0:be.nutrients)||[],_e=oe=>{const ue=ge.find(fe=>fe.name.toLowerCase()===oe.toLowerCase());return ue?ue.amount:0},F={kcal:_e("Calories"),protein:_e("Protein"),fat:_e("Fat"),carbs:_e("Carbohydrates"),fiber:_e("Fiber"),image:de.image};return{id:L.id,name:L.name,nutrition:F}}catch(ie){return console.error("Detail fetch error",ie),{...L,nutrition:null}}}));A(z)}catch(C){M(C.message),A([])}finally{H(!1)}}},P=C=>{const{name:D,nutrition:O}=C,{kcal:V,protein:z,fat:L,carbs:we,fiber:be}=O||{};e({title:D,start:n,extendedProps:{kcal:V||0,protein:z||0,fat:L||0,carbs:we||0,fiber:be||0}}),S(""),A([])};return E.jsxs("div",{className:"p-4 bg-white rounded-lg shadow mb-4",children:[E.jsx("h3",{className:"text-lg font-bold text-green-700 mb-4",children:"Pridať jedlo"}),E.jsxs("div",{className:"flex space-x-4 mb-4",children:[E.jsx("button",{className:`px-4 py-2 rounded ${t==="custom"?"bg-green-600 text-white":"bg-gray-200"}`,onClick:()=>i("custom"),children:"Moje jedlá"}),E.jsx("button",{className:`px-4 py-2 rounded ${t==="api"?"bg-green-600 text-white":"bg-gray-200"}`,onClick:()=>i("api"),children:"API"})]}),t==="custom"&&E.jsxs("form",{onSubmit:b,ref:d,children:[E.jsx("label",{className:"block text-gray-700",children:"Názov jedla:"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",value:s,onChange:g,className:"w-full border border-gray-300 rounded-lg px-4 py-2 mt-1",placeholder:"Zadaj názov jedla"}),c.length>0&&E.jsx("ul",{className:"absolute top-full left-0 z-10 w-full bg-white border border-gray-300 rounded-lg mt-1 max-h-40 overflow-y-auto shadow-lg",children:c.map(C=>E.jsx("li",{onClick:()=>y(C),className:"px-4 py-2 border-b border-gray-200 last:border-0 hover:bg-green-200 hover:text-green-900 transition-colors duration-200 cursor-pointer",children:C.foodName},C.id))})]}),E.jsx("button",{type:"submit",className:"mt-3 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať"})]}),t==="api"&&E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 mb-1",children:"Vyhľadaj v Spoonacular:"}),E.jsxs("div",{className:"flex space-x-2 mb-4",children:[E.jsx("input",{type:"text",value:_,onChange:q,className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Napíš názov (napr. 'apple', 'chicken'...)"}),E.jsx("button",{onClick:Q,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Hľadať"})]}),j&&E.jsx("p",{children:"Načítavam..."}),I&&E.jsxs("p",{className:"text-red-500",children:["Chyba: ",I]}),T.map(C=>{const{id:D,name:O,nutrition:V}=C,z=(V==null?void 0:V.kcal)||0;return E.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-100 rounded my-2",children:[E.jsxs("div",{children:[E.jsx("strong",{children:O})," | ",Math.round(z)," kcal / 100g"]}),E.jsx("button",{onClick:()=>P(C),className:"bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700",children:"Pridať"})]},D)})]})]})},eY=({selectedDate:n,onAddFluid:e})=>{const[t,i]=B.useState(""),s=r=>{r.preventDefault(),t&&(e(Number(t)),i(""))};return E.jsxs("form",{onSubmit:s,className:"p-4 bg-white rounded-lg shadow mb-4",children:[E.jsx("h3",{className:"text-lg font-bold text-blue-700 mb-2",children:"Pridať tekutiny"}),E.jsxs("div",{className:"mb-2",children:[E.jsx("label",{className:"block text-gray-700",children:"Množstvo (l):"}),E.jsx("input",{type:"number",value:t,onChange:r=>i(r.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Zadaj množstvo v litroch"})]}),E.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Pridať tekutiny"})]})},tY=({selectedDate:n,onAddActivityEvent:e})=>{const{savedActivities:t}=Fh(),[i,s]=B.useState(""),[r,o]=B.useState(n||""),c=h=>{h.preventDefault();const d=t.find(y=>y.id===i);if(!d)return;const g={title:d.activityName,start:r,type:"activity",extendedProps:{burned:d.burnedCalories}};e(g),s("")};return E.jsxs("form",{onSubmit:c,className:"p-4 bg-white rounded-lg shadow mb-4",children:[E.jsx("h3",{className:"text-lg font-bold text-green-700 mb-2",children:"Pridať aktivitu do kalendára"}),E.jsxs("div",{className:"mb-2",children:[E.jsx("label",{className:"block text-gray-700",children:"Vyber aktivitu:"}),E.jsxs("select",{value:i,onChange:h=>s(h.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[E.jsx("option",{value:"",children:"--Vybrať--"}),t.map(h=>E.jsxs("option",{value:h.id,children:[h.activityName," (spálené ",h.burnedCalories," kcal)"]},h.id))]})]}),E.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Pridať"})]})};function eb(n){return n.toISOString().split("T")[0]}async function nY(n,e){const t=Nt.currentUser;if(!t)return{};const i=eb(n),s=eb(e),r=dr(Gn(At,"calendarEvents"),fr("userId","==",t.uid)),o=await gr(r),c=dr(Gn(At,"calendarActivities"),fr("userId","==",t.uid)),h=await gr(c),d=dr(Gn(At,"calendarFluids"),fr("userId","==",t.uid)),g=await gr(d),y={},b=new Date(n);for(;b<=e;){const _=eb(b);y[_]={kcal:0,protein:0,fat:0,carbs:0,fiber:0,fluid:0,burned:0},b.setDate(b.getDate()+1)}return o.forEach(_=>{const S=_.data(),T=S.start;if(T>=i&&T<=s){const{kcal:A=0,protein:I=0,fat:M=0,carbs:j=0,fiber:H=0,burned:q=0}=S.extendedProps||{};y[T]&&(y[T].kcal+=Number(A),y[T].protein+=Number(I),y[T].fat+=Number(M),y[T].carbs+=Number(j),y[T].fiber+=Number(H),y[T].burned+=Number(q))}}),h.forEach(_=>{const S=_.data(),T=S.start;if(T>=i&&T<=s){const{burned:A=0}=S.extendedProps||{};y[T]&&(y[T].burned+=Number(A))}}),g.forEach(_=>{const S=_.data(),T=S.start;T>=i&&T<=s&&y[T]&&(y[T].fluid+=Number(S.amount||0))}),y}const pC=()=>{const{nutritionGoal:n}=Fh(),[e,t]=B.useState([]),[i,s]=B.useState(null),[r,o]=B.useState(null),[c,h]=B.useState({});B.useEffect(()=>{(async()=>{const j=Nt.currentUser;if(j)try{const H=dr(Gn(At,"calendarEvents"),fr("userId","==",j.uid)),Q=(await gr(H)).docs.map(P=>({id:P.id,...P.data()}));t(P=>[...P,...Q])}catch(H){console.error("Chyba pri načítaní udalostí:",H)}})()},[]),B.useEffect(()=>{(async()=>{const j=Nt.currentUser;if(j)try{const H=dr(Gn(At,"calendarFluids"),fr("userId","==",j.uid)),q=await gr(H),Q={};q.docs.forEach(P=>{const C=P.data(),{date:D,amount:O}=C;Q[D]=(Q[D]||0)+O}),h(Q)}catch(H){console.error("Chyba pri načítaní údajov o tekutinách:",H)}})()},[]),B.useEffect(()=>{(async()=>{const j=Nt.currentUser;if(j)try{const H=dr(Gn(At,"calendarActivities"),fr("userId","==",j.uid)),Q=(await gr(H)).docs.map(P=>({id:P.id,...P.data()}));t(P=>[...P,...Q])}catch(H){console.error("Chyba pri načítaní udalostí:",H)}})()},[]),B.useEffect(()=>{if(i){const M=e.filter(j=>j.start===i);d(M)}},[e,i,c]);const d=M=>{let j=0,H=0,q=0,Q=0,P=0,C=0;M.forEach(V=>{const{kcal:z,protein:L,fat:we,carbs:be,fiber:ie,burned:de}=V.extendedProps;j+=Number(z)||0,H+=Number(L)||0,q+=Number(we)||0,Q+=Number(be)||0,P+=Number(ie)||0,C+=Number(de)||0}),j=Math.round(j);const D=c[i]||0,O={currentKcal:Math.max(j,0),goalKcal:(n==null?void 0:n.dailyCalories)||1500,protein:{current:H,goal:(n==null?void 0:n.proteinGrams)||79},carbs:{current:Q,goal:(n==null?void 0:n.carbsGrams)||192},fat:{current:q,goal:(n==null?void 0:n.fatGrams)||43},fiber:{current:P,goal:(n==null?void 0:n.fiber)||28},fluid:{current:D,goal:(n==null?void 0:n.fluid)||3},burned:C};o(O)},g=M=>{s(M.dateStr)},y=async M=>{const j=Nt.currentUser;if(!j){console.error("Používateľ nie je prihlásený");return}const H={...M,type:"food",userId:j.uid,createdAt:new Date,userName:j.displayName};try{const q=await uh(Gn(At,"calendarEvents"),H);H.id=q.id,t(Q=>[...Q,H])}catch(q){console.error("Chyba pri pridávaní udalosti:",q)}},b=async M=>{const j=Nt.currentUser;if(!j)return;const H={...M,type:"activity",userId:j.uid,createdAt:new Date,userName:j.displayName};try{const q=await uh(Gn(At,"calendarActivities"),H);H.id=q.id,t(Q=>[...Q,H])}catch(q){console.error("Chyba pri pridávaní udalosti:",q)}},_=async M=>{try{await Jg(vs(At,"calendarEvents",M)),t(j=>j.filter(H=>H.id!==M))}catch(j){console.error("Chyba pri mazaní udalosti:",j)}},S=async M=>{try{await Jg(vs(At,"calendarActivities",M)),t(j=>j.filter(H=>H.id!==M))}catch(j){console.error("Chyba pri mazaní udalosti:",j)}},T=async(M,j)=>{j==="activity"?await S(M):await _(M)},A=async(M,j)=>{const H=Nt.currentUser;if(!H)return;const q={userId:H.uid,userName:H.displayName,date:M,amount:j,createdAt:new Date};try{const Q=await uh(Gn(At,"calendarFluids"),q);q.id=Q.id,h(P=>({...P,[M]:(P[M]||0)+j}))}catch(Q){console.error("Chyba pri pridávaní udalosti:",Q)}},I=i?e.filter(M=>M.start===i):[];return E.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4",children:[E.jsx(kq,{events:e,onDateClick:g}),E.jsxs("div",{className:"w-full lg:w-1/3",children:[i&&E.jsx(J$,{selectedDate:i,onAddFood:y}),i&&E.jsxs(E.Fragment,{children:[E.jsx(eY,{selectedDate:i,onAddFluid:M=>A(i,M)}),E.jsx(tY,{selectedDate:i,onAddActivityEvent:b})]}),E.jsx(Z$,{selectedDate:i,overviewData:r,eventsForDay:I,onDeleteEvent:T})]})]})};od.register(Xb,Zb,xg,nh,Rg,I$,iM,eM);const iY=()=>{var P,C,D;const[n,e]=B.useState({}),[t,i]=B.useState({}),[s,r]=B.useState({}),[o,c]=B.useState(null),[h,d]=B.useState("7days"),[g,y]=B.useState({});function b(O){const V=new Date,z=new Date(V);return O==="7days"?z.setDate(z.getDate()-6):O==="30days"?z.setDate(z.getDate()-29):O==="90days"&&z.setDate(z.getDate()-89),z}B.useEffect(()=>{async function O(){const V=Nt.currentUser;if(V)try{const z=vs(At,"users",V.uid),L=await N1(z),we=L.data();L.exists()?c({dailyCalories:we.dailyCalories||2e3,proteinGrams:we.proteinGrams||100,carbsGrams:we.carbsGrams||200,fatGrams:we.fatGrams||50}):(console.warn("Dokument s cieľmi neexistuje, použijem default hodnoty."),c({dailyCalories:2e3,proteinGrams:100,carbsGrams:200,fatGrams:50}))}catch(z){console.error("Chyba pri načítaní goal z Firestore:",z),c({dailyCalories:2e3,proteinGrams:100,carbsGrams:200,fatGrams:50})}}O()},[]),B.useEffect(()=>{async function O(){const V=new Date,z=b(h),L=await nY(z,V);e(L)}O()},[h]);const _=Object.keys(n).sort();B.useEffect(()=>{if(!o||!n||Object.keys(n).length===0)return;const O=_.map(ue=>n[ue].kcal),V=_.map(()=>o.dailyCalories);i({labels:_,datasets:[{label:"Daily Kcal",data:O,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.2},{label:"Goal Kcal",data:V,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",borderDash:[5,5],tension:.2}]});const L=_.map(ue=>n[ue].protein),we=_.map(ue=>n[ue].carbs),be=_.map(ue=>n[ue].fat),ie=_.map(()=>o.proteinGrams),de=_.map(()=>o.carbsGrams),ge=_.map(()=>o.fatGrams),_e={labels:_,datasets:[{label:"Protein (g)",data:L,borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",tension:.2},{label:"Protein Goal (g)",data:ie,borderColor:"rgba(54, 162, 235, 0.7)",backgroundColor:"rgba(54, 162, 235, 0.1)",borderDash:[5,5],tension:.2},{label:"Carbs (g)",data:we,borderColor:"rgba(255, 206, 86, 1)",backgroundColor:"rgba(255, 206, 86, 0.2)",tension:.2},{label:"Carbs Goal (g)",data:de,borderColor:"rgba(255, 206, 86, 0.7)",backgroundColor:"rgba(255, 206, 86, 0.1)",borderDash:[5,5],tension:.2},{label:"Fat (g)",data:be,borderColor:"rgba(153, 102, 255, 1)",backgroundColor:"rgba(153, 102, 255, 0.2)",tension:.2},{label:"Fat Goal (g)",data:ge,borderColor:"rgba(153, 102, 255, 0.7)",backgroundColor:"rgba(153, 102, 255, 0.1)",borderDash:[5,5],tension:.2}]},F=_.map(ue=>n[ue].burned||0),oe={labels:_,datasets:[{label:"Prijaté kalórie",data:O,backgroundColor:"rgba(75,192,192,0.5)"},{label:"Spálené kalórie",data:F,backgroundColor:"rgba(255,99,132,0.5)"}]};r(_e),y(oe)},[n,o]);const S=_.length;let T=0,A=0,I=0,M=0;_.forEach(O=>{const{kcal:V=0,protein:z=0,carbs:L=0,fat:we=0}=n[O];V<=o.dailyCalories&&T++,z>=o.proteinGrams&&A++,L<=o.carbsGrams&&I++,we<=o.fatGrams&&M++});const j=Math.round(T/S*100),H=Math.round(A/S*100),q=Math.round(I/S*100),Q=Math.round(M/S*100);return E.jsxs("div",{className:"mt-4",children:[E.jsx("h2",{className:"text-xl font-bold mb-4",children:"Štatistiky – Kalórie a Makrá vs. Ciele"}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"font-semibold mr-2",children:"Zobraziť za:"}),E.jsxs("select",{value:h,onChange:O=>d(O.target.value),className:"border rounded px-2 py-1",children:[E.jsx("option",{value:"7days",children:"Posledných 7 dní"}),E.jsx("option",{value:"30days",children:"Posledných 30 dní"}),E.jsx("option",{value:"90days",children:"Posledné 3 mesiace"})]})]}),E.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow p-4",children:[E.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Denný príjem kalórií (posledných 7 dní)"}),((P=t==null?void 0:t.labels)==null?void 0:P.length)>0?E.jsx(gC,{data:t}):E.jsx("p",{children:"Načítavam graf kalórií..."})]}),E.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow p-4",children:[E.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Denný príjem bielkovín, sacharidov, tukov (posledných 7 dní)"}),((C=s==null?void 0:s.labels)==null?void 0:C.length)>0?E.jsx(gC,{data:s}):E.jsx("p",{children:"Načítavam graf makier..."})]}),E.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow p-4",children:[E.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Bilancia príjem vs. výdaj"}),((D=g==null?void 0:g.labels)==null?void 0:D.length)>0?E.jsx(K$,{data:g}):E.jsx("p",{children:"Načítavam graf bilancie..."})]}),E.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mt-4",children:[E.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Pokrok voči denným cieľom"}),E.jsxs("div",{className:"mb-3",children:[E.jsxs("div",{className:"flex items-center justify-between mb-1",children:[E.jsx("span",{className:"font-medium text-gray-700",children:"Kalórie"}),E.jsxs("span",{className:"text-sm text-gray-600",children:[T," / ",S," dní (",j,"%)"]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded h-3 overflow-hidden",children:E.jsx("div",{className:"bg-green-500 h-3 transition-all duration-300",style:{width:`${j}%`}})})]}),E.jsxs("div",{className:"mb-3",children:[E.jsxs("div",{className:"flex items-center justify-between mb-1",children:[E.jsx("span",{className:"font-medium text-gray-700",children:"Bielkoviny"}),E.jsxs("span",{className:"text-sm text-gray-600",children:[A," / ",S," dní (",H,"%)"]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded h-3 overflow-hidden",children:E.jsx("div",{className:"bg-blue-500 h-3 transition-all duration-300",style:{width:`${H}%`}})})]}),E.jsxs("div",{className:"mb-3",children:[E.jsxs("div",{className:"flex items-center justify-between mb-1",children:[E.jsx("span",{className:"font-medium text-gray-700",children:"Sacharidy"}),E.jsxs("span",{className:"text-sm text-gray-600",children:[I," / ",S," dní (",q,"%)"]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded h-3 overflow-hidden",children:E.jsx("div",{className:"bg-yellow-400 h-3 transition-all duration-300",style:{width:`${q}%`}})})]}),E.jsxs("div",{className:"mb-1",children:[E.jsxs("div",{className:"flex items-center justify-between mb-1",children:[E.jsx("span",{className:"font-medium text-gray-700",children:"Tuky"}),E.jsxs("span",{className:"text-sm text-gray-600",children:[M," / ",S," dní (",Q,"%)"]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded h-3 overflow-hidden",children:E.jsx("div",{className:"bg-purple-500 h-3 transition-all duration-300",style:{width:`${Q}%`}})})]})]})]})},sY=()=>{const{pathname:n}=Wi();return B.useEffect(()=>{window.scrollTo(0,0)},[n]),null};function rY(){B.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")},[]);const[n,e]=B.useState(""),[t,i]=B.useState([]),[s,r]=B.useState(null),[o,c]=B.useState(!1),[h,d]=B.useState(!1),[g,y]=B.useState(""),b=Na(),_=Wi();B.useEffect(()=>{_.pathname==="/"&&d(!1)},[_.pathname]);const S=async()=>{b("/results"),e(""),c(!0),d(!0),y(n),setTimeout(async()=>{console.log(`Sending request to Nutritionix API: ${new Date().toISOString()}`);try{const T=`https://api.spoonacular.com/food/ingredients/search?query=${encodeURIComponent(n)}&number=10&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,A=await fetch(T);if(!A.ok)throw new Error(`Instant API HTTP error: ${A.status}`);const M=(await A.json()).results||[],j=await Promise.all(M.map(async H=>{var V;const q=`https://api.spoonacular.com/food/ingredients/${H.id}/information?amount=100&unit=grams&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,Q=await fetch(q);if(!Q.ok){const z=await Q.text();return console.error("Nutrients fetch error:",Q.status,z),{...H,nutrition:null}}const C=((V=(await Q.json()).nutrition)==null?void 0:V.nutrients)||[],D=z=>{const L=C.find(we=>we.name.toLowerCase()===z.toLowerCase());return L?L.amount:0},O={servingSize:"100g",photo:{thumb:`https://spoonacular.com/cdn/ingredients_500x500/${H.image}`},nf_calories:D("Calories"),nf_total_fat:D("Fat"),nf_protein:D("Protein"),nf_total_carbohydrate:D("Carbohydrates")};return{...H,food_name:H.name,nutrition:O}}));i(j),r(null)}catch(T){console.error("Fetch error:",T),r(T),i([])}finally{c(!1)}},500)};return E.jsxs("div",{children:[E.jsx(s6,{}),E.jsx(sY,{}),E.jsxs(j2,{children:[E.jsx(yn,{path:"/register",element:E.jsx(f6,{})}),E.jsx(yn,{path:"/terms",element:E.jsx(_6,{})}),E.jsx(yn,{path:"/privacy",element:E.jsx(E6,{})}),E.jsx(yn,{path:"/verify-email",element:E.jsx(g6,{})}),E.jsx(yn,{path:"/login",element:E.jsx(b6,{})}),E.jsx(yn,{path:"/logout",element:E.jsx(v6,{})}),E.jsx(yn,{path:"/dashboard",element:E.jsxs(Hl,{children:[" ",E.jsx(XT,{})," "]})}),E.jsx(yn,{path:"/",element:E.jsxs(E.Fragment,{children:[E.jsx(r6,{}),E.jsx(a6,{query:n,setQuery:e,handleSearch:S,disabled:h}),E.jsx(c6,{}),E.jsx(d6,{})]})}),E.jsx(yn,{path:"/results",element:E.jsx(o6,{results:t,searchTerm:g,error:s,query:n,setQuery:e,handleSearch:S,isLoading:o})}),E.jsx(yn,{path:"/blog/:id",element:E.jsx(h6,{})}),E.jsxs(yn,{path:"/dashboard",element:E.jsxs(Hl,{children:[" ",E.jsx(XT,{})," "]}),children:[E.jsx(yn,{index:!0,element:E.jsx(pC,{})}),E.jsx(yn,{path:"calendar",element:E.jsxs(Hl,{children:[" ",E.jsx(pC,{})," "]})}),E.jsx(yn,{path:"my-foods",element:E.jsxs(Hl,{children:[" ",E.jsx(S6,{})," "]})}),E.jsx(yn,{path:"my-activites",element:E.jsxs(Hl,{children:[" ",E.jsx(y6,{})," "]})}),E.jsx(yn,{path:"statistics",element:E.jsxs(Hl,{children:[" ",E.jsx(iY,{})," "]})})]})]})]})}HO.createRoot(document.getElementById("root")).render(E.jsx(aP,{children:E.jsx(rY,{})}));
