var LN=Object.defineProperty;var jN=(n,e,t)=>e in n?LN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var je=(n,e,t)=>jN(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function VN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jy={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bA;function UN(){if(bA)return _u;bA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var l=null;if(a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),"key"in r){a={};for(var u in r)u!=="key"&&(a[u]=r[u])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:a}}return _u.Fragment=e,_u.jsx=t,_u.jsxs=t,_u}var EA;function zN(){return EA||(EA=1,jy.exports=UN()),jy.exports}var w=zN(),Vy={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wA;function BN(){if(wA)return Oe;wA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function _(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function x(U,ae,ge){this.props=U,this.context=ae,this.refs=R,this.updater=ge||b}x.prototype.isReactComponent={},x.prototype.setState=function(U,ae){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ae,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function M(){}M.prototype=x.prototype;function j(U,ae,ge){this.props=U,this.context=ae,this.refs=R,this.updater=ge||b}var z=j.prototype=new M;z.constructor=j,T(z,x.prototype),z.isPureReactComponent=!0;var $=Array.isArray,J={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function O(U,ae,ge,he,ue,xe){return ge=xe.ref,{$$typeof:n,type:U,key:ae,ref:ge!==void 0?ge:null,props:xe}}function D(U,ae){return O(U.type,ae,void 0,void 0,void 0,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function N(U){var ae={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ge){return ae[ge]})}var V=/\/+/g;function B(U,ae){return typeof U=="object"&&U!==null&&U.key!=null?N(""+U.key):ae.toString(36)}function P(){}function Ne(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(P,P):(U.status="pending",U.then(function(ae){U.status==="pending"&&(U.status="fulfilled",U.value=ae)},function(ae){U.status==="pending"&&(U.status="rejected",U.reason=ae)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Ae(U,ae,ge,he,ue){var xe=typeof U;(xe==="undefined"||xe==="boolean")&&(U=null);var Ee=!1;if(U===null)Ee=!0;else switch(xe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(U.$$typeof){case n:case e:Ee=!0;break;case p:return Ee=U._init,Ae(Ee(U._payload),ae,ge,he,ue)}}if(Ee)return ue=ue(U),Ee=he===""?"."+B(U,0):he,$(ue)?(ge="",Ee!=null&&(ge=Ee.replace(V,"$&/")+"/"),Ae(ue,ae,ge,"",function(dt){return dt})):ue!=null&&(I(ue)&&(ue=D(ue,ge+(ue.key==null||U&&U.key===ue.key?"":(""+ue.key).replace(V,"$&/")+"/")+Ee)),ae.push(ue)),1;Ee=0;var Ye=he===""?".":he+":";if($(U))for(var Fe=0;Fe<U.length;Fe++)he=U[Fe],xe=Ye+B(he,Fe),Ee+=Ae(he,ae,ge,xe,ue);else if(Fe=_(U),typeof Fe=="function")for(U=Fe.call(U),Fe=0;!(he=U.next()).done;)he=he.value,xe=Ye+B(he,Fe++),Ee+=Ae(he,ae,ge,xe,ue);else if(xe==="object"){if(typeof U.then=="function")return Ae(Ne(U),ae,ge,he,ue);throw ae=String(U),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function le(U,ae,ge){if(U==null)return U;var he=[],ue=0;return Ae(U,he,"","",function(xe){return ae.call(ge,xe,ue++)}),he}function de(U){if(U._status===-1){var ae=U._result;ae=ae(),ae.then(function(ge){(U._status===0||U._status===-1)&&(U._status=1,U._result=ge)},function(ge){(U._status===0||U._status===-1)&&(U._status=2,U._result=ge)}),U._status===-1&&(U._status=0,U._result=ae)}if(U._status===1)return U._result.default;throw U._result}var fe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Se(){}return Oe.Children={map:le,forEach:function(U,ae,ge){le(U,function(){ae.apply(this,arguments)},ge)},count:function(U){var ae=0;return le(U,function(){ae++}),ae},toArray:function(U){return le(U,function(ae){return ae})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Oe.Component=x,Oe.Fragment=t,Oe.Profiler=r,Oe.PureComponent=j,Oe.StrictMode=i,Oe.Suspense=h,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Oe.cache=function(U){return function(){return U.apply(null,arguments)}},Oe.cloneElement=function(U,ae,ge){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var he=T({},U.props),ue=U.key,xe=void 0;if(ae!=null)for(Ee in ae.ref!==void 0&&(xe=void 0),ae.key!==void 0&&(ue=""+ae.key),ae)!ne.call(ae,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ae.ref===void 0||(he[Ee]=ae[Ee]);var Ee=arguments.length-2;if(Ee===1)he.children=ge;else if(1<Ee){for(var Ye=Array(Ee),Fe=0;Fe<Ee;Fe++)Ye[Fe]=arguments[Fe+2];he.children=Ye}return O(U.type,ue,void 0,void 0,xe,he)},Oe.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},Oe.createElement=function(U,ae,ge){var he,ue={},xe=null;if(ae!=null)for(he in ae.key!==void 0&&(xe=""+ae.key),ae)ne.call(ae,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ue[he]=ae[he]);var Ee=arguments.length-2;if(Ee===1)ue.children=ge;else if(1<Ee){for(var Ye=Array(Ee),Fe=0;Fe<Ee;Fe++)Ye[Fe]=arguments[Fe+2];ue.children=Ye}if(U&&U.defaultProps)for(he in Ee=U.defaultProps,Ee)ue[he]===void 0&&(ue[he]=Ee[he]);return O(U,xe,void 0,void 0,null,ue)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(U){return{$$typeof:u,render:U}},Oe.isValidElement=I,Oe.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:de}},Oe.memo=function(U,ae){return{$$typeof:f,type:U,compare:ae===void 0?null:ae}},Oe.startTransition=function(U){var ae=J.T,ge={};J.T=ge;try{var he=U(),ue=J.S;ue!==null&&ue(ge,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Se,fe)}catch(xe){fe(xe)}finally{J.T=ae}},Oe.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Oe.use=function(U){return J.H.use(U)},Oe.useActionState=function(U,ae,ge){return J.H.useActionState(U,ae,ge)},Oe.useCallback=function(U,ae){return J.H.useCallback(U,ae)},Oe.useContext=function(U){return J.H.useContext(U)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(U,ae){return J.H.useDeferredValue(U,ae)},Oe.useEffect=function(U,ae){return J.H.useEffect(U,ae)},Oe.useId=function(){return J.H.useId()},Oe.useImperativeHandle=function(U,ae,ge){return J.H.useImperativeHandle(U,ae,ge)},Oe.useInsertionEffect=function(U,ae){return J.H.useInsertionEffect(U,ae)},Oe.useLayoutEffect=function(U,ae){return J.H.useLayoutEffect(U,ae)},Oe.useMemo=function(U,ae){return J.H.useMemo(U,ae)},Oe.useOptimistic=function(U,ae){return J.H.useOptimistic(U,ae)},Oe.useReducer=function(U,ae,ge){return J.H.useReducer(U,ae,ge)},Oe.useRef=function(U){return J.H.useRef(U)},Oe.useState=function(U){return J.H.useState(U)},Oe.useSyncExternalStore=function(U,ae,ge){return J.H.useSyncExternalStore(U,ae,ge)},Oe.useTransition=function(){return J.H.useTransition()},Oe.version="19.0.0",Oe}var AA;function x_(){return AA||(AA=1,Vy.exports=BN()),Vy.exports}var H=x_();const Ei=VN(H);var Uy={exports:{}},bu={},zy={exports:{}},By={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SA;function HN(){return SA||(SA=1,function(n){function e(le,de){var fe=le.length;le.push(de);e:for(;0<fe;){var Se=fe-1>>>1,U=le[Se];if(0<r(U,de))le[Se]=de,le[fe]=U,fe=Se;else break e}}function t(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var de=le[0],fe=le.pop();if(fe!==de){le[0]=fe;e:for(var Se=0,U=le.length,ae=U>>>1;Se<ae;){var ge=2*(Se+1)-1,he=le[ge],ue=ge+1,xe=le[ue];if(0>r(he,fe))ue<U&&0>r(xe,he)?(le[Se]=xe,le[ue]=fe,Se=ue):(le[Se]=he,le[ge]=fe,Se=ge);else if(ue<U&&0>r(xe,fe))le[Se]=xe,le[ue]=fe,Se=ue;else break e}}return de}function r(le,de){var fe=le.sortIndex-de.sortIndex;return fe!==0?fe:le.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,v=null,_=3,b=!1,T=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function z(le){for(var de=t(f);de!==null;){if(de.callback===null)i(f);else if(de.startTime<=le)i(f),de.sortIndex=de.expirationTime,e(h,de);else break;de=t(f)}}function $(le){if(R=!1,z(le),!T)if(t(h)!==null)T=!0,Ne();else{var de=t(f);de!==null&&Ae($,de.startTime-le)}}var J=!1,ne=-1,O=5,D=-1;function I(){return!(n.unstable_now()-D<O)}function N(){if(J){var le=n.unstable_now();D=le;var de=!0;try{e:{T=!1,R&&(R=!1,M(ne),ne=-1),b=!0;var fe=_;try{t:{for(z(le),v=t(h);v!==null&&!(v.expirationTime>le&&I());){var Se=v.callback;if(typeof Se=="function"){v.callback=null,_=v.priorityLevel;var U=Se(v.expirationTime<=le);if(le=n.unstable_now(),typeof U=="function"){v.callback=U,z(le),de=!0;break t}v===t(h)&&i(h),z(le)}else i(h);v=t(h)}if(v!==null)de=!0;else{var ae=t(f);ae!==null&&Ae($,ae.startTime-le),de=!1}}break e}finally{v=null,_=fe,b=!1}de=void 0}}finally{de?V():J=!1}}}var V;if(typeof j=="function")V=function(){j(N)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,P=B.port2;B.port1.onmessage=N,V=function(){P.postMessage(null)}}else V=function(){x(N,0)};function Ne(){J||(J=!0,V())}function Ae(le,de){ne=x(function(){le(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){T||b||(T=!0,Ne())},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(le){switch(_){case 1:case 2:case 3:var de=3;break;default:de=_}var fe=_;_=de;try{return le()}finally{_=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,de){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var fe=_;_=le;try{return de()}finally{_=fe}},n.unstable_scheduleCallback=function(le,de,fe){var Se=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Se+fe:Se):fe=Se,le){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=fe+U,le={id:p++,callback:de,priorityLevel:le,startTime:fe,expirationTime:U,sortIndex:-1},fe>Se?(le.sortIndex=fe,e(f,le),t(h)===null&&le===t(f)&&(R?(M(ne),ne=-1):R=!0,Ae($,fe-Se))):(le.sortIndex=U,e(h,le),T||b||(T=!0,Ne())),le},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(le){var de=_;return function(){var fe=_;_=de;try{return le.apply(this,arguments)}finally{_=fe}}}}(By)),By}var TA;function FN(){return TA||(TA=1,zy.exports=HN()),zy.exports}var Hy={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xA;function qN(){if(xA)return bn;xA=1;var n=x_();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:h,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,bn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(h,f,null,p)},bn.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},bn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},bn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},bn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:b}):p==="script"&&i.d.X(h,{crossOrigin:v,integrity:_,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},bn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},bn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},bn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},bn.requestFormReset=function(h){i.d.r(h)},bn.unstable_batchedUpdates=function(h,f){return h(f)},bn.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},bn.useFormStatus=function(){return l.H.useHostTransitionStatus()},bn.version="19.0.0",bn}var RA;function DR(){if(RA)return Hy.exports;RA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hy.exports=qN(),Hy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA;function WN(){if(CA)return bu;CA=1;var n=FN(),e=x_(),t=DR();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var a=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),b=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),$=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function ne(s){return s===null||typeof s!="object"?null:(s=J&&s[J]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function D(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case h:return"Fragment";case u:return"Portal";case p:return"Profiler";case f:return"StrictMode";case R:return"Suspense";case x:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case b:return(s.displayName||"Context")+".Provider";case _:return(s._context.displayName||"Context")+".Consumer";case T:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return o=s.displayName||null,o!==null?o:D(s.type)||"Memo";case j:o=s._payload,s=s._init;try{return D(s(o))}catch{}}return null}var I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,V,B;function P(s){if(V===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||"",B=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+s+B}var Ne=!1;function Ae(s,o){if(!s||Ne)return"";Ne=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var Q=ee}Reflect.construct(s,[],oe)}else{try{oe.call()}catch(ee){Q=ee}s.call(oe.prototype)}}else{try{throw Error()}catch(ee){Q=ee}(oe=s())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&Q&&typeof ee.stack=="string")return[ee.stack,Q.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),S=y[0],C=y[1];if(S&&C){var L=S.split(`
`),q=C.split(`
`);for(m=d=0;d<L.length&&!L[d].includes("DetermineComponentFrameRoot");)d++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(d===L.length||m===q.length)for(d=L.length-1,m=q.length-1;1<=d&&0<=m&&L[d]!==q[m];)m--;for(;1<=d&&0<=m;d--,m--)if(L[d]!==q[m]){if(d!==1||m!==1)do if(d--,m--,0>m||L[d]!==q[m]){var te=`
`+L[d].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=d&&0<=m);break}}}finally{Ne=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?P(c):""}function le(s){switch(s.tag){case 26:case 27:case 5:return P(s.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return s=Ae(s.type,!1),s;case 11:return s=Ae(s.type.render,!1),s;case 1:return s=Ae(s.type,!0),s;default:return""}}function de(s){try{var o="";do o+=le(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function fe(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Se(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function U(s){if(fe(s)!==s)throw Error(i(188))}function ae(s){var o=s.alternate;if(!o){if(o=fe(s),o===null)throw Error(i(188));return o!==s?null:s}for(var c=s,d=o;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){c=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return U(m),s;if(y===d)return U(m),o;y=y.sibling}throw Error(i(188))}if(c.return!==d.return)c=m,d=y;else{for(var S=!1,C=m.child;C;){if(C===c){S=!0,c=m,d=y;break}if(C===d){S=!0,d=m,c=y;break}C=C.sibling}if(!S){for(C=y.child;C;){if(C===c){S=!0,c=y,d=m;break}if(C===d){S=!0,d=y,c=m;break}C=C.sibling}if(!S)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:o}function ge(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=ge(s),o!==null)return o;s=s.sibling}return null}var he=Array.isArray,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Ee=[],Ye=-1;function Fe(s){return{current:s}}function dt(s){0>Ye||(s.current=Ee[Ye],Ee[Ye]=null,Ye--)}function Je(s,o){Ye++,Ee[Ye]=s.current,s.current=o}var on=Fe(null),Ri=Fe(null),Te=Fe(null),yn=Fe(null);function ct(s,o){switch(Je(Te,o),Je(Ri,s),Je(on,null),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?Qw(o):0;break;default:if(s=s===8?o.parentNode:o,o=s.tagName,s=s.namespaceURI)s=Qw(s),o=Kw(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}dt(on),Je(on,o)}function ft(){dt(on),dt(Ri),dt(Te)}function ln(s){s.memoizedState!==null&&Je(yn,s);var o=on.current,c=Kw(o,s.type);o!==c&&(Je(Ri,s),Je(on,c))}function qi(s){Ri.current===s&&(dt(on),dt(Ri)),yn.current===s&&(dt(yn),gu._currentValue=xe)}var Wi=Object.prototype.hasOwnProperty,Er=n.unstable_scheduleCallback,Bo=n.unstable_cancelCallback,Up=n.unstable_shouldYield,pc=n.unstable_requestPaint,Pn=n.unstable_now,Bh=n.unstable_getCurrentPriorityLevel,Bt=n.unstable_ImmediatePriority,Kt=n.unstable_UserBlockingPriority,wr=n.unstable_NormalPriority,Hh=n.unstable_LowPriority,mc=n.unstable_IdlePriority,zp=n.log,Ta=n.unstable_setDisableYieldValue,ds=null,vn=null;function yc(s){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(ds,s,void 0,(s.current.flags&128)===128)}catch{}}function Gi(s){if(typeof zp=="function"&&Ta(s),vn&&typeof vn.setStrictMode=="function")try{vn.setStrictMode(ds,s)}catch{}}var Cn=Math.clz32?Math.clz32:qh,vc=Math.log,Fh=Math.LN2;function qh(s){return s>>>=0,s===0?32:31-(vc(s)/Fh|0)|0}var $i=128,fs=4194304;function Ci(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ni(s,o){var c=s.pendingLanes;if(c===0)return 0;var d=0,m=s.suspendedLanes,y=s.pingedLanes,S=s.warmLanes;s=s.finishedLanes!==0;var C=c&134217727;return C!==0?(c=C&~m,c!==0?d=Ci(c):(y&=C,y!==0?d=Ci(y):s||(S=C&~S,S!==0&&(d=Ci(S))))):(C=c&~m,C!==0?d=Ci(C):y!==0?d=Ci(y):s||(S=c&~S,S!==0&&(d=Ci(S)))),d===0?0:o!==0&&o!==d&&!(o&m)&&(m=d&-d,S=o&-o,m>=S||m===32&&(S&4194176)!==0)?o:d}function gs(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Ho(s,o){switch(s){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _c(){var s=$i;return $i<<=1,!($i&4194176)&&($i=128),s}function ps(){var s=fs;return fs<<=1,!(fs&62914560)&&(fs=4194304),s}function Fo(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function It(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Wh(s,o,c,d,m,y){var S=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var C=s.entanglements,L=s.expirationTimes,q=s.hiddenUpdates;for(c=S&~c;0<c;){var te=31-Cn(c),oe=1<<te;C[te]=0,L[te]=-1;var Q=q[te];if(Q!==null)for(q[te]=null,te=0;te<Q.length;te++){var ee=Q[te];ee!==null&&(ee.lane&=-536870913)}c&=~oe}d!==0&&ms(s,d,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(S&~o))}function ms(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-Cn(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|c&4194218}function ys(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var d=31-Cn(c),m=1<<d;m&o|s[d]&o&&(s[d]|=o),c&=~m}}function Gh(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function $h(){var s=ue.p;return s!==0?s:(s=window.event,s===void 0?32:gA(s.type))}function vs(s,o){var c=ue.p;try{return ue.p=s,o()}finally{ue.p=c}}var Yi=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Yi,Ht="__reactProps$"+Yi,Ar="__reactContainer$"+Yi,xa="__reactEvents$"+Yi,qo="__reactListeners$"+Yi,Qi="__reactHandles$"+Yi,bc="__reactResources$"+Yi,_s="__reactMarker$"+Yi;function Ra(s){delete s[Xt],delete s[Ht],delete s[xa],delete s[qo],delete s[Qi]}function Di(s){var o=s[Xt];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Ar]||c[Xt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=Jw(s);s!==null;){if(c=s[Xt])return c;s=Jw(s)}return o}s=c,c=s.parentNode}return null}function Sr(s){if(s=s[Xt]||s[Ar]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function bs(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Es(s){var o=s[bc];return o||(o=s[bc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function _t(s){s[_s]=!0}var Ec=new Set,Wo={};function Wn(s,o){Ln(s,o),Ln(s+"Capture",o)}function Ln(s,o){for(Wo[s]=o,s=0;s<o.length;s++)Ec.add(o[s])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wc={},Ac={};function Yh(s){return Wi.call(Ac,s)?!0:Wi.call(wc,s)?!1:Bp.test(s)?Ac[s]=!0:(wc[s]=!0,!1)}function ws(s,o,c){if(Yh(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function As(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function ii(s,o,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+d)}}function Dn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qh(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Hp(s){var o=Qh(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,y.call(this,S)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ca(s){s._valueTracker||(s._valueTracker=Hp(s))}function Sc(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return s&&(d=Qh(s)?s.checked?"true":"false":s.value),s=d,s!==c?(o.setValue(s),!0):!1}function Go(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Tr=/[\n"\\]/g;function xt(s){return s.replace(Tr,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ss(s,o,c,d,m,y,S,C){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),o!=null?S==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Dn(o)):s.value!==""+Dn(o)&&(s.value=""+Dn(o)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),o!=null?$o(s,S,Dn(o)):c!=null?$o(s,S,Dn(c)):d!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+Dn(C):s.removeAttribute("name")}function Da(s,o,c,d,m,y,S,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),o!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;c=c!=null?""+Dn(c):"",o=o!=null?""+Dn(o):c,C||o===s.value||(s.value=o),s.defaultValue=o}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=C?s.checked:!!d,s.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S)}function $o(s,o,c){o==="number"&&Go(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Qe(s,o,c,d){if(s=s.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=o.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&d&&(s[c].defaultSelected=!0)}else{for(c=""+Dn(c),o=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Ia(s,o,c){if(o!=null&&(o=""+Dn(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+Dn(c):""}function Ts(s,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(i(92));if(he(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=Dn(o),s.defaultValue=c,d=s.textContent,d===c&&d!==""&&d!==null&&(s.value=d)}function ri(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Fp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(s,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,c):typeof c!="number"||c===0||Fp.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function Kh(s,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var m in o)d=o[m],o.hasOwnProperty(m)&&c[m]!==d&&Tc(s,m,d)}else for(var y in o)o.hasOwnProperty(y)&&Tc(s,y,o[y])}function xc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ki(s){return Wp.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var si=null;function Yo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var xr=null,Rr=null;function Cr(s){var o=Sr(s);if(o&&(s=o.stateNode)){var c=s[Ht]||null;e:switch(s=o.stateNode,o.type){case"input":if(Ss(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+xt(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==s&&d.form===s.form){var m=d[Ht]||null;if(!m)throw Error(i(90));Ss(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===s.form&&Sc(d)}break e;case"textarea":Ia(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Qe(s,!!c.multiple,o,!1)}}}var Rc=!1;function Xh(s,o,c){if(Rc)return s(o,c);Rc=!0;try{var d=s(o);return d}finally{if(Rc=!1,(xr!==null||Rr!==null)&&(Hd(),xr&&(o=xr,s=Rr,Rr=xr=null,Cr(o),s)))for(o=0;o<s.length;o++)Cr(s[o])}}function ka(s,o){var c=s.stateNode;if(c===null)return null;var d=c[Ht]||null;if(d===null)return null;c=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var ai=!1;if(Gn)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){ai=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{ai=!1}var Xi=null,xs=null,Dr=null;function Cc(){if(Dr)return Dr;var s,o=xs,c=o.length,d,m="value"in Xi?Xi.value:Xi.textContent,y=m.length;for(s=0;s<c&&o[s]===m[s];s++);var S=c-s;for(d=1;d<=S&&o[c-d]===m[y-d];d++);return Dr=m.slice(s,1<d?1-d:void 0)}function Zi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ji(){return!0}function Dc(){return!1}function Zt(s){function o(c,d,m,y,S){this._reactName=c,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(c=s[C],this[C]=c?c(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ji:Dc,this.isPropagationStopped=Dc,this}return N(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),o}var nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qo=Zt(nt),Na=N({},nt,{view:0,detail:0}),Zh=Zt(Na),Ko,Xo,er,Oa=N({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ja,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==er&&(er&&s.type==="mousemove"?(Ko=s.screenX-er.screenX,Xo=s.screenY-er.screenY):Xo=Ko=0,er=s),Ko)},movementY:function(s){return"movementY"in s?s.movementY:Xo}}),oi=Zt(Oa),Jh=N({},Oa,{dataTransfer:0}),Gp=Zt(Jh),Pa=N({},Na,{relatedTarget:0}),Zo=Zt(Pa),Ic=N({},nt,{animationName:0,elapsedTime:0,pseudoElement:0}),Jo=Zt(Ic),ed=N({},nt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),el=Zt(ed),$p=N({},nt,{data:0}),kc=Zt($p),La={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=nd[s])?!!o[s]:!1}function ja(){return Mc}var id=N({},Na,{key:function(s){if(s.key){var o=La[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Zi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?td[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ja,charCode:function(s){return s.type==="keypress"?Zi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Zi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),tl=Zt(id),rd=N({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nc=Zt(rd),Ir=N({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ja}),sd=Zt(Ir),ad=N({},nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),od=Zt(ad),ld=N({},Oa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),nl=Zt(ld),In=N({},nt,{newState:0,oldState:0}),cd=Zt(In),ud=[9,13,27,32],tr=Gn&&"CompositionEvent"in window,g=null;Gn&&"documentMode"in document&&(g=document.documentMode);var E=Gn&&"TextEvent"in window&&!g,A=Gn&&(!tr||g&&8<g&&11>=g),k=" ",G=!1;function X(s,o){switch(s){case"keyup":return ud.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qe=!1;function Ft(s,o){switch(s){case"compositionend":return ce(o);case"keypress":return o.which!==32?null:(G=!0,k);case"textInput":return s=o.data,s===k&&G?null:s;default:return null}}function We(s,o){if(qe)return s==="compositionend"||!tr&&X(s,o)?(s=Cc(),Dr=xs=Xi=null,qe=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return A&&o.locale!=="ko"?null:o.data;default:return null}}var Jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qt(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Jt[s.type]:o==="textarea"}function kr(s,o,c,d){xr?Rr?Rr.push(d):Rr=[d]:xr=d,o=$d(o,"onChange"),0<o.length&&(c=new Qo("onChange","change",null,c,d),s.push({event:c,listeners:o}))}var cn=null,nr=null;function Oc(s){qw(s,0)}function hd(s){var o=bs(s);if(Sc(o))return s}function _0(s,o){if(s==="change")return o}var b0=!1;if(Gn){var Yp;if(Gn){var Qp="oninput"in document;if(!Qp){var E0=document.createElement("div");E0.setAttribute("oninput","return;"),Qp=typeof E0.oninput=="function"}Yp=Qp}else Yp=!1;b0=Yp&&(!document.documentMode||9<document.documentMode)}function w0(){cn&&(cn.detachEvent("onpropertychange",A0),nr=cn=null)}function A0(s){if(s.propertyName==="value"&&hd(nr)){var o=[];kr(o,nr,s,Yo(s)),Xh(Oc,o)}}function dM(s,o,c){s==="focusin"?(w0(),cn=o,nr=c,cn.attachEvent("onpropertychange",A0)):s==="focusout"&&w0()}function fM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return hd(nr)}function gM(s,o){if(s==="click")return hd(o)}function pM(s,o){if(s==="input"||s==="change")return hd(o)}function mM(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var $n=typeof Object.is=="function"?Object.is:mM;function Pc(s,o){if($n(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var m=c[d];if(!Wi.call(o,m)||!$n(s[m],o[m]))return!1}return!0}function S0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function T0(s,o){var c=S0(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=o&&d>=o)return{node:c,offset:o-s};s=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=S0(c)}}function x0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?x0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function R0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Go(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Go(s.document)}return o}function Kp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function yM(s,o){var c=R0(o);o=s.focusedElem;var d=s.selectionRange;if(c!==o&&o&&o.ownerDocument&&x0(o.ownerDocument.documentElement,o)){if(d!==null&&Kp(o)){if(s=d.start,c=d.end,c===void 0&&(c=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(c,o.value.length);else if(c=(s=o.ownerDocument||document)&&s.defaultView||window,c.getSelection){c=c.getSelection();var m=o.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!c.extend&&y>d&&(m=d,d=y,y=m),m=T0(o,y);var S=T0(o,d);m&&S&&(c.rangeCount!==1||c.anchorNode!==m.node||c.anchorOffset!==m.offset||c.focusNode!==S.node||c.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),c.removeAllRanges(),y>d?(c.addRange(s),c.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),c.addRange(s)))}}for(s=[],c=o;c=c.parentNode;)c.nodeType===1&&s.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)c=s[o],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var vM=Gn&&"documentMode"in document&&11>=document.documentMode,il=null,Xp=null,Lc=null,Zp=!1;function C0(s,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Zp||il==null||il!==Go(d)||(d=il,"selectionStart"in d&&Kp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Lc&&Pc(Lc,d)||(Lc=d,d=$d(Xp,"onSelect"),0<d.length&&(o=new Qo("onSelect","select",null,o,c),s.push({event:o,listeners:d}),o.target=il)))}function Va(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var rl={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},Jp={},D0={};Gn&&(D0=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function Ua(s){if(Jp[s])return Jp[s];if(!rl[s])return s;var o=rl[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in D0)return Jp[s]=o[c];return s}var I0=Ua("animationend"),k0=Ua("animationiteration"),M0=Ua("animationstart"),_M=Ua("transitionrun"),bM=Ua("transitionstart"),EM=Ua("transitioncancel"),N0=Ua("transitionend"),O0=new Map,P0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ii(s,o){O0.set(s,o),Wn(o,[s])}var li=[],sl=0,em=0;function dd(){for(var s=sl,o=em=sl=0;o<s;){var c=li[o];li[o++]=null;var d=li[o];li[o++]=null;var m=li[o];li[o++]=null;var y=li[o];if(li[o++]=null,d!==null&&m!==null){var S=d.pending;S===null?m.next=m:(m.next=S.next,S.next=m),d.pending=m}y!==0&&L0(c,m,y)}}function fd(s,o,c,d){li[sl++]=s,li[sl++]=o,li[sl++]=c,li[sl++]=d,em|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function tm(s,o,c,d){return fd(s,o,c,d),gd(s)}function Rs(s,o){return fd(s,null,null,o),gd(s)}function L0(s,o,c){s.lanes|=c;var d=s.alternate;d!==null&&(d.lanes|=c);for(var m=!1,y=s.return;y!==null;)y.childLanes|=c,d=y.alternate,d!==null&&(d.childLanes|=c),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;m&&o!==null&&s.tag===3&&(y=s.stateNode,m=31-Cn(c),y=y.hiddenUpdates,s=y[m],s===null?y[m]=[o]:s.push(o),o.lane=c|536870912)}function gd(s){if(50<ou)throw ou=0,oy=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var al={},j0=new WeakMap;function ci(s,o){if(typeof s=="object"&&s!==null){var c=j0.get(s);return c!==void 0?c:(o={value:s,source:o,stack:de(o)},j0.set(s,o),o)}return{value:s,source:o,stack:de(o)}}var ol=[],ll=0,pd=null,md=0,ui=[],hi=0,za=null,Mr=1,Nr="";function Ba(s,o){ol[ll++]=md,ol[ll++]=pd,pd=s,md=o}function V0(s,o,c){ui[hi++]=Mr,ui[hi++]=Nr,ui[hi++]=za,za=s;var d=Mr;s=Nr;var m=32-Cn(d)-1;d&=~(1<<m),c+=1;var y=32-Cn(o)+m;if(30<y){var S=m-m%5;y=(d&(1<<S)-1).toString(32),d>>=S,m-=S,Mr=1<<32-Cn(o)+m|c<<m|d,Nr=y+s}else Mr=1<<y|c<<m|d,Nr=s}function nm(s){s.return!==null&&(Ba(s,1),V0(s,1,0))}function im(s){for(;s===pd;)pd=ol[--ll],ol[ll]=null,md=ol[--ll],ol[ll]=null;for(;s===za;)za=ui[--hi],ui[hi]=null,Nr=ui[--hi],ui[hi]=null,Mr=ui[--hi],ui[hi]=null}var kn=null,un=null,Ke=!1,ki=null,ir=!1,rm=Error(i(519));function Ha(s){var o=Error(i(418,""));throw Uc(ci(o,s)),rm}function U0(s){var o=s.stateNode,c=s.type,d=s.memoizedProps;switch(o[Xt]=s,o[Ht]=d,c){case"dialog":Be("cancel",o),Be("close",o);break;case"iframe":case"object":case"embed":Be("load",o);break;case"video":case"audio":for(c=0;c<cu.length;c++)Be(cu[c],o);break;case"source":Be("error",o);break;case"img":case"image":case"link":Be("error",o),Be("load",o);break;case"details":Be("toggle",o);break;case"input":Be("invalid",o),Da(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ca(o);break;case"select":Be("invalid",o);break;case"textarea":Be("invalid",o),Ts(o,d.value,d.defaultValue,d.children),Ca(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||Yw(o.textContent,c)?(d.popover!=null&&(Be("beforetoggle",o),Be("toggle",o)),d.onScroll!=null&&Be("scroll",o),d.onScrollEnd!=null&&Be("scrollend",o),d.onClick!=null&&(o.onclick=Yd),o=!0):o=!1,o||Ha(s)}function z0(s){for(kn=s.return;kn;)switch(kn.tag){case 3:case 27:ir=!0;return;case 5:case 13:ir=!1;return;default:kn=kn.return}}function jc(s){if(s!==kn)return!1;if(!Ke)return z0(s),Ke=!0,!1;var o=!1,c;if((c=s.tag!==3&&s.tag!==27)&&((c=s.tag===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Sy(s.type,s.memoizedProps)),c=!c),c&&(o=!0),o&&un&&Ha(s),z0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){un=Ni(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}un=null}}else un=kn?Ni(s.stateNode.nextSibling):null;return!0}function Vc(){un=kn=null,Ke=!1}function Uc(s){ki===null?ki=[s]:ki.push(s)}var zc=Error(i(460)),B0=Error(i(474)),sm={then:function(){}};function H0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function yd(){}function F0(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(yd,yd),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,s===zc?Error(i(483)):s;default:if(typeof o.status=="string")o.then(yd,yd);else{if(s=ut,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=d}},function(d){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,s===zc?Error(i(483)):s}throw Bc=o,zc}}var Bc=null;function q0(){if(Bc===null)throw Error(i(459));var s=Bc;return Bc=null,s}var cl=null,Hc=0;function vd(s){var o=Hc;return Hc+=1,cl===null&&(cl=[]),F0(cl,s,o)}function Fc(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function _d(s,o){throw o.$$typeof===a?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function W0(s){var o=s._init;return o(s._payload)}function G0(s){function o(W,F){if(s){var Y=W.deletions;Y===null?(W.deletions=[F],W.flags|=16):Y.push(F)}}function c(W,F){if(!s)return null;for(;F!==null;)o(W,F),F=F.sibling;return null}function d(W){for(var F=new Map;W!==null;)W.key!==null?F.set(W.key,W):F.set(W.index,W),W=W.sibling;return F}function m(W,F){return W=Us(W,F),W.index=0,W.sibling=null,W}function y(W,F,Y){return W.index=Y,s?(Y=W.alternate,Y!==null?(Y=Y.index,Y<F?(W.flags|=33554434,F):Y):(W.flags|=33554434,F)):(W.flags|=1048576,F)}function S(W){return s&&W.alternate===null&&(W.flags|=33554434),W}function C(W,F,Y,ie){return F===null||F.tag!==6?(F=Jm(Y,W.mode,ie),F.return=W,F):(F=m(F,Y),F.return=W,F)}function L(W,F,Y,ie){var ye=Y.type;return ye===h?te(W,F,Y.props.children,ie,Y.key):F!==null&&(F.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===j&&W0(ye)===F.type)?(F=m(F,Y.props),Fc(F,Y),F.return=W,F):(F=jd(Y.type,Y.key,Y.props,null,W.mode,ie),Fc(F,Y),F.return=W,F)}function q(W,F,Y,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=ey(Y,W.mode,ie),F.return=W,F):(F=m(F,Y.children||[]),F.return=W,F)}function te(W,F,Y,ie,ye){return F===null||F.tag!==7?(F=Za(Y,W.mode,ie,ye),F.return=W,F):(F=m(F,Y),F.return=W,F)}function oe(W,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Jm(""+F,W.mode,Y),F.return=W,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case l:return Y=jd(F.type,F.key,F.props,null,W.mode,Y),Fc(Y,F),Y.return=W,Y;case u:return F=ey(F,W.mode,Y),F.return=W,F;case j:var ie=F._init;return F=ie(F._payload),oe(W,F,Y)}if(he(F)||ne(F))return F=Za(F,W.mode,Y,null),F.return=W,F;if(typeof F.then=="function")return oe(W,vd(F),Y);if(F.$$typeof===b)return oe(W,Od(W,F),Y);_d(W,F)}return null}function Q(W,F,Y,ie){var ye=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ye!==null?null:C(W,F,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:return Y.key===ye?L(W,F,Y,ie):null;case u:return Y.key===ye?q(W,F,Y,ie):null;case j:return ye=Y._init,Y=ye(Y._payload),Q(W,F,Y,ie)}if(he(Y)||ne(Y))return ye!==null?null:te(W,F,Y,ie,null);if(typeof Y.then=="function")return Q(W,F,vd(Y),ie);if(Y.$$typeof===b)return Q(W,F,Od(W,Y),ie);_d(W,Y)}return null}function ee(W,F,Y,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return W=W.get(Y)||null,C(F,W,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case l:return W=W.get(ie.key===null?Y:ie.key)||null,L(F,W,ie,ye);case u:return W=W.get(ie.key===null?Y:ie.key)||null,q(F,W,ie,ye);case j:var Le=ie._init;return ie=Le(ie._payload),ee(W,F,Y,ie,ye)}if(he(ie)||ne(ie))return W=W.get(Y)||null,te(F,W,ie,ye,null);if(typeof ie.then=="function")return ee(W,F,Y,vd(ie),ye);if(ie.$$typeof===b)return ee(W,F,Y,Od(F,ie),ye);_d(F,ie)}return null}function ve(W,F,Y,ie){for(var ye=null,Le=null,_e=F,Re=F=0,nn=null;_e!==null&&Re<Y.length;Re++){_e.index>Re?(nn=_e,_e=null):nn=_e.sibling;var Xe=Q(W,_e,Y[Re],ie);if(Xe===null){_e===null&&(_e=nn);break}s&&_e&&Xe.alternate===null&&o(W,_e),F=y(Xe,F,Re),Le===null?ye=Xe:Le.sibling=Xe,Le=Xe,_e=nn}if(Re===Y.length)return c(W,_e),Ke&&Ba(W,Re),ye;if(_e===null){for(;Re<Y.length;Re++)_e=oe(W,Y[Re],ie),_e!==null&&(F=y(_e,F,Re),Le===null?ye=_e:Le.sibling=_e,Le=_e);return Ke&&Ba(W,Re),ye}for(_e=d(_e);Re<Y.length;Re++)nn=ee(_e,W,Re,Y[Re],ie),nn!==null&&(s&&nn.alternate!==null&&_e.delete(nn.key===null?Re:nn.key),F=y(nn,F,Re),Le===null?ye=nn:Le.sibling=nn,Le=nn);return s&&_e.forEach(function(Gs){return o(W,Gs)}),Ke&&Ba(W,Re),ye}function ke(W,F,Y,ie){if(Y==null)throw Error(i(151));for(var ye=null,Le=null,_e=F,Re=F=0,nn=null,Xe=Y.next();_e!==null&&!Xe.done;Re++,Xe=Y.next()){_e.index>Re?(nn=_e,_e=null):nn=_e.sibling;var Gs=Q(W,_e,Xe.value,ie);if(Gs===null){_e===null&&(_e=nn);break}s&&_e&&Gs.alternate===null&&o(W,_e),F=y(Gs,F,Re),Le===null?ye=Gs:Le.sibling=Gs,Le=Gs,_e=nn}if(Xe.done)return c(W,_e),Ke&&Ba(W,Re),ye;if(_e===null){for(;!Xe.done;Re++,Xe=Y.next())Xe=oe(W,Xe.value,ie),Xe!==null&&(F=y(Xe,F,Re),Le===null?ye=Xe:Le.sibling=Xe,Le=Xe);return Ke&&Ba(W,Re),ye}for(_e=d(_e);!Xe.done;Re++,Xe=Y.next())Xe=ee(_e,W,Re,Xe.value,ie),Xe!==null&&(s&&Xe.alternate!==null&&_e.delete(Xe.key===null?Re:Xe.key),F=y(Xe,F,Re),Le===null?ye=Xe:Le.sibling=Xe,Le=Xe);return s&&_e.forEach(function(PN){return o(W,PN)}),Ke&&Ba(W,Re),ye}function Dt(W,F,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===h&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:e:{for(var ye=Y.key;F!==null;){if(F.key===ye){if(ye=Y.type,ye===h){if(F.tag===7){c(W,F.sibling),ie=m(F,Y.props.children),ie.return=W,W=ie;break e}}else if(F.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===j&&W0(ye)===F.type){c(W,F.sibling),ie=m(F,Y.props),Fc(ie,Y),ie.return=W,W=ie;break e}c(W,F);break}else o(W,F);F=F.sibling}Y.type===h?(ie=Za(Y.props.children,W.mode,ie,Y.key),ie.return=W,W=ie):(ie=jd(Y.type,Y.key,Y.props,null,W.mode,ie),Fc(ie,Y),ie.return=W,W=ie)}return S(W);case u:e:{for(ye=Y.key;F!==null;){if(F.key===ye)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){c(W,F.sibling),ie=m(F,Y.children||[]),ie.return=W,W=ie;break e}else{c(W,F);break}else o(W,F);F=F.sibling}ie=ey(Y,W.mode,ie),ie.return=W,W=ie}return S(W);case j:return ye=Y._init,Y=ye(Y._payload),Dt(W,F,Y,ie)}if(he(Y))return ve(W,F,Y,ie);if(ne(Y)){if(ye=ne(Y),typeof ye!="function")throw Error(i(150));return Y=ye.call(Y),ke(W,F,Y,ie)}if(typeof Y.then=="function")return Dt(W,F,vd(Y),ie);if(Y.$$typeof===b)return Dt(W,F,Od(W,Y),ie);_d(W,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(c(W,F.sibling),ie=m(F,Y),ie.return=W,W=ie):(c(W,F),ie=Jm(Y,W.mode,ie),ie.return=W,W=ie),S(W)):c(W,F)}return function(W,F,Y,ie){try{Hc=0;var ye=Dt(W,F,Y,ie);return cl=null,ye}catch(_e){if(_e===zc)throw _e;var Le=pi(29,_e,null,W.mode);return Le.lanes=ie,Le.return=W,Le}finally{}}}var Fa=G0(!0),$0=G0(!1),ul=Fe(null),bd=Fe(0);function Y0(s,o){s=qr,Je(bd,s),Je(ul,o),qr=s|o.baseLanes}function am(){Je(bd,qr),Je(ul,ul.current)}function om(){qr=bd.current,dt(ul),dt(bd)}var di=Fe(null),rr=null;function Cs(s){var o=s.alternate;Je(Wt,Wt.current&1),Je(di,s),rr===null&&(o===null||ul.current!==null||o.memoizedState!==null)&&(rr=s)}function Q0(s){if(s.tag===22){if(Je(Wt,Wt.current),Je(di,s),rr===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(rr=s)}}else Ds()}function Ds(){Je(Wt,Wt.current),Je(di,di.current)}function Or(s){dt(di),rr===s&&(rr=null),dt(Wt)}var Wt=Fe(0);function Ed(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var wM=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},AM=n.unstable_scheduleCallback,SM=n.unstable_NormalPriority,Gt={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new wM,data:new Map,refCount:0}}function qc(s){s.refCount--,s.refCount===0&&AM(SM,function(){s.controller.abort()})}var Wc=null,cm=0,hl=0,dl=null;function TM(s,o){if(Wc===null){var c=Wc=[];cm=0,hl=py(),dl={status:"pending",value:void 0,then:function(d){c.push(d)}}}return cm++,o.then(K0,K0),o}function K0(){if(--cm===0&&Wc!==null){dl!==null&&(dl.status="fulfilled");var s=Wc;Wc=null,hl=0,dl=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function xM(s,o){var c=[],d={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var m=0;m<c.length;m++)(0,c[m])(o)},function(m){for(d.status="rejected",d.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),d}var X0=I.S;I.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&TM(s,o),X0!==null&&X0(s,o)};var qa=Fe(null);function um(){var s=qa.current;return s!==null?s:ut.pooledCache}function wd(s,o){o===null?Je(qa,qa.current):Je(qa,o.pool)}function Z0(){var s=um();return s===null?null:{parent:Gt._currentValue,pool:s}}var Is=0,Pe=null,at=null,Pt=null,Ad=!1,fl=!1,Wa=!1,Sd=0,Gc=0,gl=null,RM=0;function kt(){throw Error(i(321))}function hm(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!$n(s[c],o[c]))return!1;return!0}function dm(s,o,c,d,m,y){return Is=y,Pe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,I.H=s===null||s.memoizedState===null?Ga:ks,Wa=!1,y=c(d,m),Wa=!1,fl&&(y=eE(o,c,d,m)),J0(s),y}function J0(s){I.H=sr;var o=at!==null&&at.next!==null;if(Is=0,Pt=at=Pe=null,Ad=!1,Gc=0,gl=null,o)throw Error(i(300));s===null||en||(s=s.dependencies,s!==null&&Nd(s)&&(en=!0))}function eE(s,o,c,d){Pe=s;var m=0;do{if(fl&&(gl=null),Gc=0,fl=!1,25<=m)throw Error(i(301));if(m+=1,Pt=at=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}I.H=$a,y=o(c,d)}while(fl);return y}function CM(){var s=I.H,o=s.useState()[0];return o=typeof o.then=="function"?$c(o):o,s=s.useState()[0],(at!==null?at.memoizedState:null)!==s&&(Pe.flags|=1024),o}function fm(){var s=Sd!==0;return Sd=0,s}function gm(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function pm(s){if(Ad){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Ad=!1}Is=0,Pt=at=Pe=null,fl=!1,Gc=Sd=0,gl=null}function jn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Pe.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function Lt(){if(at===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=at.next;var o=Pt===null?Pe.memoizedState:Pt.next;if(o!==null)Pt=o,at=s;else{if(s===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));at=s,s={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Pt===null?Pe.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}var Td;Td=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function $c(s){var o=Gc;return Gc+=1,gl===null&&(gl=[]),s=F0(gl,s,o),o=Pe,(Pt===null?o.memoizedState:Pt.next)===null&&(o=o.alternate,I.H=o===null||o.memoizedState===null?Ga:ks),s}function xd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return $c(s);if(s.$$typeof===b)return _n(s)}throw Error(i(438,String(s)))}function mm(s){var o=null,c=Pe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=Pe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Td(),Pe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),d=0;d<s;d++)c[d]=$;return o.index++,c}function Pr(s,o){return typeof o=="function"?o(s):o}function Rd(s){var o=Lt();return ym(o,at,s)}function ym(s,o,c){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var m=s.baseQueue,y=d.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}o.baseQueue=m=y,d.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{o=m.next;var C=S=null,L=null,q=o,te=!1;do{var oe=q.lane&-536870913;if(oe!==q.lane?(Ge&oe)===oe:(Is&oe)===oe){var Q=q.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),oe===hl&&(te=!0);else if((Is&Q)===Q){q=q.next,Q===hl&&(te=!0);continue}else oe={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(C=L=oe,S=y):L=L.next=oe,Pe.lanes|=Q,zs|=Q;oe=q.action,Wa&&c(y,oe),y=q.hasEagerState?q.eagerState:c(y,oe)}else Q={lane:oe,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(C=L=Q,S=y):L=L.next=Q,Pe.lanes|=oe,zs|=oe;q=q.next}while(q!==null&&q!==o);if(L===null?S=y:L.next=C,!$n(y,s.memoizedState)&&(en=!0,te&&(c=dl,c!==null)))throw c;s.memoizedState=y,s.baseState=S,s.baseQueue=L,d.lastRenderedState=y}return m===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function vm(s){var o=Lt(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var d=c.dispatch,m=c.pending,y=o.memoizedState;if(m!==null){c.pending=null;var S=m=m.next;do y=s(y,S.action),S=S.next;while(S!==m);$n(y,o.memoizedState)||(en=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),c.lastRenderedState=y}return[y,d]}function tE(s,o,c){var d=Pe,m=Lt(),y=Ke;if(y){if(c===void 0)throw Error(i(407));c=c()}else c=o();var S=!$n((at||m).memoizedState,c);if(S&&(m.memoizedState=c,en=!0),m=m.queue,Em(rE.bind(null,d,m,s),[s]),m.getSnapshot!==o||S||Pt!==null&&Pt.memoizedState.tag&1){if(d.flags|=2048,pl(9,iE.bind(null,d,m,c,o),{destroy:void 0},null),ut===null)throw Error(i(349));y||Is&60||nE(d,o,c)}return c}function nE(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Pe.updateQueue,o===null?(o=Td(),Pe.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function iE(s,o,c,d){o.value=c,o.getSnapshot=d,sE(o)&&aE(s)}function rE(s,o,c){return c(function(){sE(o)&&aE(s)})}function sE(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!$n(s,c)}catch{return!0}}function aE(s){var o=Rs(s,2);o!==null&&Mn(o,s,2)}function _m(s){var o=jn();if(typeof s=="function"){var c=s;if(s=c(),Wa){Gi(!0);try{c()}finally{Gi(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:s},o}function oE(s,o,c,d){return s.baseState=c,ym(s,at,typeof d=="function"?d:Pr)}function DM(s,o,c,d,m){if(Id(s))throw Error(i(485));if(s=o.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};I.T!==null?c(!0):y.isTransition=!1,d(y),c=o.pending,c===null?(y.next=o.pending=y,lE(o,y)):(y.next=c.next,o.pending=c.next=y)}}function lE(s,o){var c=o.action,d=o.payload,m=s.state;if(o.isTransition){var y=I.T,S={};I.T=S;try{var C=c(m,d),L=I.S;L!==null&&L(S,C),cE(s,o,C)}catch(q){bm(s,o,q)}finally{I.T=y}}else try{y=c(m,d),cE(s,o,y)}catch(q){bm(s,o,q)}}function cE(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){uE(s,o,d)},function(d){return bm(s,o,d)}):uE(s,o,c)}function uE(s,o,c){o.status="fulfilled",o.value=c,hE(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,lE(s,c)))}function bm(s,o,c){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,hE(o),o=o.next;while(o!==d)}s.action=null}function hE(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function dE(s,o){return o}function fE(s,o){if(Ke){var c=ut.formState;if(c!==null){e:{var d=Pe;if(Ke){if(un){t:{for(var m=un,y=ir;m.nodeType!==8;){if(!y){m=null;break t}if(m=Ni(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){un=Ni(m.nextSibling),d=m.data==="F!";break e}}Ha(d)}d=!1}d&&(o=c[0])}}return c=jn(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dE,lastRenderedState:o},c.queue=d,c=kE.bind(null,Pe,d),d.dispatch=c,d=_m(!1),y=xm.bind(null,Pe,!1,d.queue),d=jn(),m={state:o,dispatch:null,action:s,pending:null},d.queue=m,c=DM.bind(null,Pe,m,y,c),m.dispatch=c,d.memoizedState=s,[o,c,!1]}function gE(s){var o=Lt();return pE(o,at,s)}function pE(s,o,c){o=ym(s,o,dE)[0],s=Rd(Pr)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?$c(o):o;var d=Lt(),m=d.queue,y=m.dispatch;return c!==d.memoizedState&&(Pe.flags|=2048,pl(9,IM.bind(null,m,c),{destroy:void 0},null)),[o,y,s]}function IM(s,o){s.action=o}function mE(s){var o=Lt(),c=at;if(c!==null)return pE(o,c,s);Lt(),o=o.memoizedState,c=Lt();var d=c.queue.dispatch;return c.memoizedState=s,[o,d,!1]}function pl(s,o,c,d){return s={tag:s,create:o,inst:c,deps:d,next:null},o=Pe.updateQueue,o===null&&(o=Td(),Pe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,o.lastEffect=s),s}function yE(){return Lt().memoizedState}function Cd(s,o,c,d){var m=jn();Pe.flags|=s,m.memoizedState=pl(1|o,c,{destroy:void 0},d===void 0?null:d)}function Dd(s,o,c,d){var m=Lt();d=d===void 0?null:d;var y=m.memoizedState.inst;at!==null&&d!==null&&hm(d,at.memoizedState.deps)?m.memoizedState=pl(o,c,y,d):(Pe.flags|=s,m.memoizedState=pl(1|o,c,y,d))}function vE(s,o){Cd(8390656,8,s,o)}function Em(s,o){Dd(2048,8,s,o)}function _E(s,o){return Dd(4,2,s,o)}function bE(s,o){return Dd(4,4,s,o)}function EE(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function wE(s,o,c){c=c!=null?c.concat([s]):null,Dd(4,4,EE.bind(null,o,s),c)}function wm(){}function AE(s,o){var c=Lt();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&hm(o,d[1])?d[0]:(c.memoizedState=[s,o],s)}function SE(s,o){var c=Lt();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&hm(o,d[1]))return d[0];if(d=s(),Wa){Gi(!0);try{s()}finally{Gi(!1)}}return c.memoizedState=[d,o],d}function Am(s,o,c){return c===void 0||Is&1073741824?s.memoizedState=o:(s.memoizedState=c,s=xw(),Pe.lanes|=s,zs|=s,c)}function TE(s,o,c,d){return $n(c,o)?c:ul.current!==null?(s=Am(s,c,d),$n(s,o)||(en=!0),s):Is&42?(s=xw(),Pe.lanes|=s,zs|=s,o):(en=!0,s.memoizedState=c)}function xE(s,o,c,d,m){var y=ue.p;ue.p=y!==0&&8>y?y:8;var S=I.T,C={};I.T=C,xm(s,!1,o,c);try{var L=m(),q=I.S;if(q!==null&&q(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var te=xM(L,d);Yc(s,o,te,Xn(s))}else Yc(s,o,d,Xn(s))}catch(oe){Yc(s,o,{then:function(){},status:"rejected",reason:oe},Xn())}finally{ue.p=y,I.T=S}}function kM(){}function Sm(s,o,c,d){if(s.tag!==5)throw Error(i(476));var m=RE(s).queue;xE(s,m,o,xe,c===null?kM:function(){return CE(s),c(d)})}function RE(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:xe},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function CE(s){var o=RE(s).next.queue;Yc(s,o,{},Xn())}function Tm(){return _n(gu)}function DE(){return Lt().memoizedState}function IE(){return Lt().memoizedState}function MM(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=Xn();s=Os(c);var d=Ps(o,s,c);d!==null&&(Mn(d,o,c),Xc(d,o,c)),o={cache:lm()},s.payload=o;return}o=o.return}}function NM(s,o,c){var d=Xn();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Id(s)?ME(o,c):(c=tm(s,o,c,d),c!==null&&(Mn(c,s,d),NE(c,o,d)))}function kE(s,o,c){var d=Xn();Yc(s,o,c,d)}function Yc(s,o,c,d){var m={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Id(s))ME(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,C=y(S,c);if(m.hasEagerState=!0,m.eagerState=C,$n(C,S))return fd(s,o,m,0),ut===null&&dd(),!1}catch{}finally{}if(c=tm(s,o,m,d),c!==null)return Mn(c,s,d),NE(c,o,d),!0}return!1}function xm(s,o,c,d){if(d={lane:2,revertLane:py(),action:d,hasEagerState:!1,eagerState:null,next:null},Id(s)){if(o)throw Error(i(479))}else o=tm(s,c,d,2),o!==null&&Mn(o,s,2)}function Id(s){var o=s.alternate;return s===Pe||o!==null&&o===Pe}function ME(s,o){fl=Ad=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function NE(s,o,c){if(c&4194176){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,ys(s,c)}}var sr={readContext:_n,use:xd,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt};sr.useCacheRefresh=kt,sr.useMemoCache=kt,sr.useHostTransitionStatus=kt,sr.useFormState=kt,sr.useActionState=kt,sr.useOptimistic=kt;var Ga={readContext:_n,use:xd,useCallback:function(s,o){return jn().memoizedState=[s,o===void 0?null:o],s},useContext:_n,useEffect:vE,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,Cd(4194308,4,EE.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Cd(4194308,4,s,o)},useInsertionEffect:function(s,o){Cd(4,2,s,o)},useMemo:function(s,o){var c=jn();o=o===void 0?null:o;var d=s();if(Wa){Gi(!0);try{s()}finally{Gi(!1)}}return c.memoizedState=[d,o],d},useReducer:function(s,o,c){var d=jn();if(c!==void 0){var m=c(o);if(Wa){Gi(!0);try{c(o)}finally{Gi(!1)}}}else m=o;return d.memoizedState=d.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},d.queue=s,s=s.dispatch=NM.bind(null,Pe,s),[d.memoizedState,s]},useRef:function(s){var o=jn();return s={current:s},o.memoizedState=s},useState:function(s){s=_m(s);var o=s.queue,c=kE.bind(null,Pe,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:wm,useDeferredValue:function(s,o){var c=jn();return Am(c,s,o)},useTransition:function(){var s=_m(!1);return s=xE.bind(null,Pe,s.queue,!0,!1),jn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var d=Pe,m=jn();if(Ke){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),ut===null)throw Error(i(349));Ge&60||nE(d,o,c)}m.memoizedState=c;var y={value:c,getSnapshot:o};return m.queue=y,vE(rE.bind(null,d,y,s),[s]),d.flags|=2048,pl(9,iE.bind(null,d,y,c,o),{destroy:void 0},null),c},useId:function(){var s=jn(),o=ut.identifierPrefix;if(Ke){var c=Nr,d=Mr;c=(d&~(1<<32-Cn(d)-1)).toString(32)+c,o=":"+o+"R"+c,c=Sd++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=RM++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},useCacheRefresh:function(){return jn().memoizedState=MM.bind(null,Pe)}};Ga.useMemoCache=mm,Ga.useHostTransitionStatus=Tm,Ga.useFormState=fE,Ga.useActionState=fE,Ga.useOptimistic=function(s){var o=jn();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=xm.bind(null,Pe,!0,c),c.dispatch=o,[s,o]};var ks={readContext:_n,use:xd,useCallback:AE,useContext:_n,useEffect:Em,useImperativeHandle:wE,useInsertionEffect:_E,useLayoutEffect:bE,useMemo:SE,useReducer:Rd,useRef:yE,useState:function(){return Rd(Pr)},useDebugValue:wm,useDeferredValue:function(s,o){var c=Lt();return TE(c,at.memoizedState,s,o)},useTransition:function(){var s=Rd(Pr)[0],o=Lt().memoizedState;return[typeof s=="boolean"?s:$c(s),o]},useSyncExternalStore:tE,useId:DE};ks.useCacheRefresh=IE,ks.useMemoCache=mm,ks.useHostTransitionStatus=Tm,ks.useFormState=gE,ks.useActionState=gE,ks.useOptimistic=function(s,o){var c=Lt();return oE(c,at,s,o)};var $a={readContext:_n,use:xd,useCallback:AE,useContext:_n,useEffect:Em,useImperativeHandle:wE,useInsertionEffect:_E,useLayoutEffect:bE,useMemo:SE,useReducer:vm,useRef:yE,useState:function(){return vm(Pr)},useDebugValue:wm,useDeferredValue:function(s,o){var c=Lt();return at===null?Am(c,s,o):TE(c,at.memoizedState,s,o)},useTransition:function(){var s=vm(Pr)[0],o=Lt().memoizedState;return[typeof s=="boolean"?s:$c(s),o]},useSyncExternalStore:tE,useId:DE};$a.useCacheRefresh=IE,$a.useMemoCache=mm,$a.useHostTransitionStatus=Tm,$a.useFormState=mE,$a.useActionState=mE,$a.useOptimistic=function(s,o){var c=Lt();return at!==null?oE(c,at,s,o):(c.baseState=s,[s,c.queue.dispatch])};function Rm(s,o,c,d){o=s.memoizedState,c=c(d,o),c=c==null?o:N({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Cm={isMounted:function(s){return(s=s._reactInternals)?fe(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var d=Xn(),m=Os(d);m.payload=o,c!=null&&(m.callback=c),o=Ps(s,m,d),o!==null&&(Mn(o,s,d),Xc(o,s,d))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var d=Xn(),m=Os(d);m.tag=1,m.payload=o,c!=null&&(m.callback=c),o=Ps(s,m,d),o!==null&&(Mn(o,s,d),Xc(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Xn(),d=Os(c);d.tag=2,o!=null&&(d.callback=o),o=Ps(s,d,c),o!==null&&(Mn(o,s,c),Xc(o,s,c))}};function OE(s,o,c,d,m,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,S):o.prototype&&o.prototype.isPureReactComponent?!Pc(c,d)||!Pc(m,y):!0}function PE(s,o,c,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==s&&Cm.enqueueReplaceState(o,o.state,null)}function Ya(s,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(s=s.defaultProps){c===o&&(c=N({},c));for(var m in s)c[m]===void 0&&(c[m]=s[m])}return c}var kd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function LE(s){kd(s)}function jE(s){console.error(s)}function VE(s){kd(s)}function Md(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function UE(s,o,c){try{var d=s.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Dm(s,o,c){return c=Os(c),c.tag=3,c.payload={element:null},c.callback=function(){Md(s,o)},c}function zE(s){return s=Os(s),s.tag=3,s}function BE(s,o,c,d){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var y=d.value;s.payload=function(){return m(y)},s.callback=function(){UE(o,c,d)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){UE(o,c,d),typeof m!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var C=d.stack;this.componentDidCatch(d.value,{componentStack:C!==null?C:""})})}function OM(s,o,c,d,m){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&Kc(o,c,m,!0),c=di.current,c!==null){switch(c.tag){case 13:return rr===null?uy():c.alternate===null&&Ct===0&&(Ct=3),c.flags&=-257,c.flags|=65536,c.lanes=m,d===sm?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),dy(s,d,m)),!1;case 22:return c.flags|=65536,d===sm?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),dy(s,d,m)),!1}throw Error(i(435,c.tag))}return dy(s,d,m),uy(),!1}if(Ke)return o=di.current,o!==null?(!(o.flags&65536)&&(o.flags|=256),o.flags|=65536,o.lanes=m,d!==rm&&(s=Error(i(422),{cause:d}),Uc(ci(s,c)))):(d!==rm&&(o=Error(i(423),{cause:d}),Uc(ci(o,c))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,d=ci(d,c),m=Dm(s.stateNode,d,m),qm(s,m),Ct!==4&&(Ct=2)),!1;var y=Error(i(520),{cause:d});if(y=ci(y,c),su===null?su=[y]:su.push(y),Ct!==4&&(Ct=2),o===null)return!0;d=ci(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=m&-m,c.lanes|=s,s=Dm(c.stateNode,d,s),qm(c,s),!1;case 1:if(o=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Bs===null||!Bs.has(y))))return c.flags|=65536,m&=-m,c.lanes|=m,m=zE(m),BE(m,s,c,d),qm(c,m),!1}c=c.return}while(c!==null);return!1}var HE=Error(i(461)),en=!1;function hn(s,o,c,d){o.child=s===null?$0(o,null,c,d):Fa(o,s.child,c,d)}function FE(s,o,c,d,m){c=c.render;var y=o.ref;if("ref"in d){var S={};for(var C in d)C!=="ref"&&(S[C]=d[C])}else S=d;return Ka(o),d=dm(s,o,c,S,y,m),C=fm(),s!==null&&!en?(gm(s,o,m),Lr(s,o,m)):(Ke&&C&&nm(o),o.flags|=1,hn(s,o,d,m),o.child)}function qE(s,o,c,d,m){if(s===null){var y=c.type;return typeof y=="function"&&!Zm(y)&&y.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=y,WE(s,o,y,d,m)):(s=jd(c.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,!Vm(s,m)){var S=y.memoizedProps;if(c=c.compare,c=c!==null?c:Pc,c(S,d)&&s.ref===o.ref)return Lr(s,o,m)}return o.flags|=1,s=Us(y,d),s.ref=o.ref,s.return=o,o.child=s}function WE(s,o,c,d,m){if(s!==null){var y=s.memoizedProps;if(Pc(y,d)&&s.ref===o.ref)if(en=!1,o.pendingProps=d=y,Vm(s,m))s.flags&131072&&(en=!0);else return o.lanes=s.lanes,Lr(s,o,m)}return Im(s,o,c,d,m)}function GE(s,o,c){var d=o.pendingProps,m=d.children,y=(o.stateNode._pendingVisibility&2)!==0,S=s!==null?s.memoizedState:null;if(Qc(s,o),d.mode==="hidden"||y){if(o.flags&128){if(d=S!==null?S.baseLanes|c:c,s!==null){for(m=o.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;o.childLanes=y&~d}else o.childLanes=0,o.child=null;return $E(s,o,d,c)}if(c&536870912)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&wd(o,S!==null?S.cachePool:null),S!==null?Y0(o,S):am(),Q0(o);else return o.lanes=o.childLanes=536870912,$E(s,o,S!==null?S.baseLanes|c:c,c)}else S!==null?(wd(o,S.cachePool),Y0(o,S),Ds(),o.memoizedState=null):(s!==null&&wd(o,null),am(),Ds());return hn(s,o,m,c),o.child}function $E(s,o,c,d){var m=um();return m=m===null?null:{parent:Gt._currentValue,pool:m},o.memoizedState={baseLanes:c,cachePool:m},s!==null&&wd(o,null),am(),Q0(o),s!==null&&Kc(s,o,d,!0),null}function Qc(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(o.flags|=2097664)}}function Im(s,o,c,d,m){return Ka(o),c=dm(s,o,c,d,void 0,m),d=fm(),s!==null&&!en?(gm(s,o,m),Lr(s,o,m)):(Ke&&d&&nm(o),o.flags|=1,hn(s,o,c,m),o.child)}function YE(s,o,c,d,m,y){return Ka(o),o.updateQueue=null,c=eE(o,d,c,m),J0(s),d=fm(),s!==null&&!en?(gm(s,o,y),Lr(s,o,y)):(Ke&&d&&nm(o),o.flags|=1,hn(s,o,c,y),o.child)}function QE(s,o,c,d,m){if(Ka(o),o.stateNode===null){var y=al,S=c.contextType;typeof S=="object"&&S!==null&&(y=_n(S)),y=new c(d,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Cm,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=d,y.state=o.memoizedState,y.refs={},Hm(o),S=c.contextType,y.context=typeof S=="object"&&S!==null?_n(S):al,y.state=o.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(Rm(o,c,S,d),y.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Cm.enqueueReplaceState(y,y.state,null),Jc(o,d,y,m),Zc(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){y=o.stateNode;var C=o.memoizedProps,L=Ya(c,C);y.props=L;var q=y.context,te=c.contextType;S=al,typeof te=="object"&&te!==null&&(S=_n(te));var oe=c.getDerivedStateFromProps;te=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||q!==S)&&PE(o,y,d,S),Ns=!1;var Q=o.memoizedState;y.state=Q,Jc(o,d,y,m),Zc(),q=o.memoizedState,C||Q!==q||Ns?(typeof oe=="function"&&(Rm(o,c,oe,d),q=o.memoizedState),(L=Ns||OE(o,c,L,d,Q,q,S))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=q),y.props=d,y.state=q,y.context=S,d=L):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{y=o.stateNode,Fm(s,o),S=o.memoizedProps,te=Ya(c,S),y.props=te,oe=o.pendingProps,Q=y.context,q=c.contextType,L=al,typeof q=="object"&&q!==null&&(L=_n(q)),C=c.getDerivedStateFromProps,(q=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==oe||Q!==L)&&PE(o,y,d,L),Ns=!1,Q=o.memoizedState,y.state=Q,Jc(o,d,y,m),Zc();var ee=o.memoizedState;S!==oe||Q!==ee||Ns||s!==null&&s.dependencies!==null&&Nd(s.dependencies)?(typeof C=="function"&&(Rm(o,c,C,d),ee=o.memoizedState),(te=Ns||OE(o,c,te,d,Q,ee,L)||s!==null&&s.dependencies!==null&&Nd(s.dependencies))?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,ee,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,ee,L)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ee),y.props=d,y.state=ee,y.context=L,d=te):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(o.flags|=1024),d=!1)}return y=d,Qc(s,o),d=(o.flags&128)!==0,y||d?(y=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,s!==null&&d?(o.child=Fa(o,s.child,null,m),o.child=Fa(o,null,c,m)):hn(s,o,c,m),o.memoizedState=y.state,s=o.child):s=Lr(s,o,m),s}function KE(s,o,c,d){return Vc(),o.flags|=256,hn(s,o,c,d),o.child}var km={dehydrated:null,treeContext:null,retryLane:0};function Mm(s){return{baseLanes:s,cachePool:Z0()}}function Nm(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=mi),s}function XE(s,o,c){var d=o.pendingProps,m=!1,y=(o.flags&128)!==0,S;if((S=y)||(S=s!==null&&s.memoizedState===null?!1:(Wt.current&2)!==0),S&&(m=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,s===null){if(Ke){if(m?Cs(o):Ds(),Ke){var C=un,L;if(L=C){e:{for(L=C,C=ir;L.nodeType!==8;){if(!C){C=null;break e}if(L=Ni(L.nextSibling),L===null){C=null;break e}}C=L}C!==null?(o.memoizedState={dehydrated:C,treeContext:za!==null?{id:Mr,overflow:Nr}:null,retryLane:536870912},L=pi(18,null,null,0),L.stateNode=C,L.return=o,o.child=L,kn=o,un=null,L=!0):L=!1}L||Ha(o)}if(C=o.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return C.data==="$!"?o.lanes=16:o.lanes=536870912,null;Or(o)}return C=d.children,d=d.fallback,m?(Ds(),m=o.mode,C=Pm({mode:"hidden",children:C},m),d=Za(d,m,c,null),C.return=o,d.return=o,C.sibling=d,o.child=C,m=o.child,m.memoizedState=Mm(c),m.childLanes=Nm(s,S,c),o.memoizedState=km,d):(Cs(o),Om(o,C))}if(L=s.memoizedState,L!==null&&(C=L.dehydrated,C!==null)){if(y)o.flags&256?(Cs(o),o.flags&=-257,o=Lm(s,o,c)):o.memoizedState!==null?(Ds(),o.child=s.child,o.flags|=128,o=null):(Ds(),m=d.fallback,C=o.mode,d=Pm({mode:"visible",children:d.children},C),m=Za(m,C,c,null),m.flags|=2,d.return=o,m.return=o,d.sibling=m,o.child=d,Fa(o,s.child,null,c),d=o.child,d.memoizedState=Mm(c),d.childLanes=Nm(s,S,c),o.memoizedState=km,o=m);else if(Cs(o),C.data==="$!"){if(S=C.nextSibling&&C.nextSibling.dataset,S)var q=S.dgst;S=q,d=Error(i(419)),d.stack="",d.digest=S,Uc({value:d,source:null,stack:null}),o=Lm(s,o,c)}else if(en||Kc(s,o,c,!1),S=(c&s.childLanes)!==0,en||S){if(S=ut,S!==null){if(d=c&-c,d&42)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=d&(S.suspendedLanes|c)?0:d,d!==0&&d!==L.retryLane)throw L.retryLane=d,Rs(s,d),Mn(S,s,d),HE}C.data==="$?"||uy(),o=Lm(s,o,c)}else C.data==="$?"?(o.flags|=128,o.child=s.child,o=QM.bind(null,s),C._reactRetry=o,o=null):(s=L.treeContext,un=Ni(C.nextSibling),kn=o,Ke=!0,ki=null,ir=!1,s!==null&&(ui[hi++]=Mr,ui[hi++]=Nr,ui[hi++]=za,Mr=s.id,Nr=s.overflow,za=o),o=Om(o,d.children),o.flags|=4096);return o}return m?(Ds(),m=d.fallback,C=o.mode,L=s.child,q=L.sibling,d=Us(L,{mode:"hidden",children:d.children}),d.subtreeFlags=L.subtreeFlags&31457280,q!==null?m=Us(q,m):(m=Za(m,C,c,null),m.flags|=2),m.return=o,d.return=o,d.sibling=m,o.child=d,d=m,m=o.child,C=s.child.memoizedState,C===null?C=Mm(c):(L=C.cachePool,L!==null?(q=Gt._currentValue,L=L.parent!==q?{parent:q,pool:q}:L):L=Z0(),C={baseLanes:C.baseLanes|c,cachePool:L}),m.memoizedState=C,m.childLanes=Nm(s,S,c),o.memoizedState=km,d):(Cs(o),c=s.child,s=c.sibling,c=Us(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,s!==null&&(S=o.deletions,S===null?(o.deletions=[s],o.flags|=16):S.push(s)),o.child=c,o.memoizedState=null,c)}function Om(s,o){return o=Pm({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Pm(s,o){return Aw(s,o,0,null)}function Lm(s,o,c){return Fa(o,s.child,null,c),s=Om(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function ZE(s,o,c){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),zm(s.return,o,c)}function jm(s,o,c,d,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=c,y.tailMode=m)}function JE(s,o,c){var d=o.pendingProps,m=d.revealOrder,y=d.tail;if(hn(s,o,d.children,c),d=Wt.current,d&2)d=d&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ZE(s,c,o);else if(s.tag===19)ZE(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(Je(Wt,d),m){case"forwards":for(c=o.child,m=null;c!==null;)s=c.alternate,s!==null&&Ed(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),jm(o,!1,m,c,y);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Ed(s)===null){o.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}jm(o,!0,c,null,y);break;case"together":jm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Lr(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),zs|=o.lanes,!(c&o.childLanes))if(s!==null){if(Kc(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,c=Us(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Us(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function Vm(s,o){return s.lanes&o?!0:(s=s.dependencies,!!(s!==null&&Nd(s)))}function PM(s,o,c){switch(o.tag){case 3:ct(o,o.stateNode.containerInfo),Ms(o,Gt,s.memoizedState.cache),Vc();break;case 27:case 5:ln(o);break;case 4:ct(o,o.stateNode.containerInfo);break;case 10:Ms(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Cs(o),o.flags|=128,null):c&o.child.childLanes?XE(s,o,c):(Cs(o),s=Lr(s,o,c),s!==null?s.sibling:null);Cs(o);break;case 19:var m=(s.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(Kc(s,o,c,!1),d=(c&o.childLanes)!==0),m){if(d)return JE(s,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Je(Wt,Wt.current),d)break;return null;case 22:case 23:return o.lanes=0,GE(s,o,c);case 24:Ms(o,Gt,s.memoizedState.cache)}return Lr(s,o,c)}function ew(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)en=!0;else{if(!Vm(s,c)&&!(o.flags&128))return en=!1,PM(s,o,c);en=!!(s.flags&131072)}else en=!1,Ke&&o.flags&1048576&&V0(o,md,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var d=o.elementType,m=d._init;if(d=m(d._payload),o.type=d,typeof d=="function")Zm(d)?(s=Ya(d,s),o.tag=1,o=QE(null,o,d,s,c)):(o.tag=0,o=Im(null,o,d,s,c));else{if(d!=null){if(m=d.$$typeof,m===T){o.tag=11,o=FE(null,o,d,s,c);break e}else if(m===M){o.tag=14,o=qE(null,o,d,s,c);break e}}throw o=D(d)||d,Error(i(306,o,""))}}return o;case 0:return Im(s,o,o.type,o.pendingProps,c);case 1:return d=o.type,m=Ya(d,o.pendingProps),QE(s,o,d,m,c);case 3:e:{if(ct(o,o.stateNode.containerInfo),s===null)throw Error(i(387));var y=o.pendingProps;m=o.memoizedState,d=m.element,Fm(s,o),Jc(o,y,null,c);var S=o.memoizedState;if(y=S.cache,Ms(o,Gt,y),y!==m.cache&&Bm(o,[Gt],c,!0),Zc(),y=S.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=m,o.memoizedState=m,o.flags&256){o=KE(s,o,y,c);break e}else if(y!==d){d=ci(Error(i(424)),o),Uc(d),o=KE(s,o,y,c);break e}else for(un=Ni(o.stateNode.containerInfo.firstChild),kn=o,Ke=!0,ki=null,ir=!0,c=$0(o,null,y,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Vc(),y===d){o=Lr(s,o,c);break e}hn(s,o,y,c)}o=o.child}return o;case 26:return Qc(s,o),s===null?(c=iA(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ke||(c=o.type,s=o.pendingProps,d=Qd(Te.current).createElement(c),d[Xt]=o,d[Ht]=s,dn(d,c,s),_t(d),o.stateNode=d):o.memoizedState=iA(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return ln(o),s===null&&Ke&&(d=o.stateNode=eA(o.type,o.pendingProps,Te.current),kn=o,ir=!0,un=Ni(d.firstChild)),d=o.pendingProps.children,s!==null||Ke?hn(s,o,d,c):o.child=Fa(o,null,d,c),Qc(s,o),o.child;case 5:return s===null&&Ke&&((m=d=un)&&(d=hN(d,o.type,o.pendingProps,ir),d!==null?(o.stateNode=d,kn=o,un=Ni(d.firstChild),ir=!1,m=!0):m=!1),m||Ha(o)),ln(o),m=o.type,y=o.pendingProps,S=s!==null?s.memoizedProps:null,d=y.children,Sy(m,y)?d=null:S!==null&&Sy(m,S)&&(o.flags|=32),o.memoizedState!==null&&(m=dm(s,o,CM,null,null,c),gu._currentValue=m),Qc(s,o),hn(s,o,d,c),o.child;case 6:return s===null&&Ke&&((s=c=un)&&(c=dN(c,o.pendingProps,ir),c!==null?(o.stateNode=c,kn=o,un=null,s=!0):s=!1),s||Ha(o)),null;case 13:return XE(s,o,c);case 4:return ct(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Fa(o,null,d,c):hn(s,o,d,c),o.child;case 11:return FE(s,o,o.type,o.pendingProps,c);case 7:return hn(s,o,o.pendingProps,c),o.child;case 8:return hn(s,o,o.pendingProps.children,c),o.child;case 12:return hn(s,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,Ms(o,o.type,d.value),hn(s,o,d.children,c),o.child;case 9:return m=o.type._context,d=o.pendingProps.children,Ka(o),m=_n(m),d=d(m),o.flags|=1,hn(s,o,d,c),o.child;case 14:return qE(s,o,o.type,o.pendingProps,c);case 15:return WE(s,o,o.type,o.pendingProps,c);case 19:return JE(s,o,c);case 22:return GE(s,o,c);case 24:return Ka(o),d=_n(Gt),s===null?(m=um(),m===null&&(m=ut,y=lm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=c),m=y),o.memoizedState={parent:d,cache:m},Hm(o),Ms(o,Gt,m)):(s.lanes&c&&(Fm(s,o),Jc(o,null,null,c),Zc()),m=s.memoizedState,y=o.memoizedState,m.parent!==d?(m={parent:d,cache:d},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Ms(o,Gt,d)):(d=y.cache,Ms(o,Gt,d),d!==m.cache&&Bm(o,[Gt],c,!0))),hn(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}var Um=Fe(null),Qa=null,jr=null;function Ms(s,o,c){Je(Um,o._currentValue),o._currentValue=c}function Vr(s){s._currentValue=Um.current,dt(Um)}function zm(s,o,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===c)break;s=s.return}}function Bm(s,o,c,d){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=m;for(var L=0;L<o.length;L++)if(C.context===o[L]){y.lanes|=c,C=y.alternate,C!==null&&(C.lanes|=c),zm(y.return,c,s),d||(S=null);break e}y=C.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=c,y=S.alternate,y!==null&&(y.lanes|=c),zm(S,c,s),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===s){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Kc(s,o,c,d){s=null;for(var m=o,y=!1;m!==null;){if(!y){if(m.flags&524288)y=!0;else if(m.flags&262144)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var C=m.type;$n(m.pendingProps.value,S.value)||(s!==null?s.push(C):s=[C])}}else if(m===yn.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(gu):s=[gu])}m=m.return}s!==null&&Bm(o,s,c,d),o.flags|=262144}function Nd(s){for(s=s.firstContext;s!==null;){if(!$n(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ka(s){Qa=s,jr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function _n(s){return tw(Qa,s)}function Od(s,o){return Qa===null&&Ka(s),tw(s,o)}function tw(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},jr===null){if(s===null)throw Error(i(308));jr=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else jr=jr.next=o;return c}var Ns=!1;function Hm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fm(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Os(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ps(s,o,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,Et&2){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,o=gd(s),L0(s,null,c),o}return fd(s,d,o,c),gd(s)}function Xc(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194176)!==0)){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,ys(s,c)}}function qm(s,o){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,c=c.next}while(c!==null);y===null?m=y=o:y=y.next=o}else m=y=o;c={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var Wm=!1;function Zc(){if(Wm){var s=dl;if(s!==null)throw s}}function Jc(s,o,c,d){Wm=!1;var m=s.updateQueue;Ns=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var L=C,q=L.next;L.next=null,S===null?y=q:S.next=q,S=L;var te=s.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==S&&(C===null?te.firstBaseUpdate=q:C.next=q,te.lastBaseUpdate=L))}if(y!==null){var oe=m.baseState;S=0,te=q=L=null,C=y;do{var Q=C.lane&-536870913,ee=Q!==C.lane;if(ee?(Ge&Q)===Q:(d&Q)===Q){Q!==0&&Q===hl&&(Wm=!0),te!==null&&(te=te.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ve=s,ke=C;Q=o;var Dt=c;switch(ke.tag){case 1:if(ve=ke.payload,typeof ve=="function"){oe=ve.call(Dt,oe,Q);break e}oe=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ke.payload,Q=typeof ve=="function"?ve.call(Dt,oe,Q):ve,Q==null)break e;oe=N({},oe,Q);break e;case 2:Ns=!0}}Q=C.callback,Q!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[Q]:ee.push(Q))}else ee={lane:Q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(q=te=ee,L=oe):te=te.next=ee,S|=Q;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);te===null&&(L=oe),m.baseState=L,m.firstBaseUpdate=q,m.lastBaseUpdate=te,y===null&&(m.shared.lanes=0),zs|=S,s.lanes=S,s.memoizedState=oe}}function nw(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function iw(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)nw(c[s],o)}function eu(s,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&s)===s){d=void 0;var y=c.create,S=c.inst;d=y(),S.destroy=d}c=c.next}while(c!==m)}}catch(C){lt(o,o.return,C)}}function Ls(s,o,c){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&s)===s){var S=d.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,m=o;var L=c;try{C()}catch(q){lt(m,L,q)}}}d=d.next}while(d!==y)}}catch(q){lt(o,o.return,q)}}function rw(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{iw(o,c)}catch(d){lt(s,s.return,d)}}}function sw(s,o,c){c.props=Ya(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(d){lt(s,o,d)}}function Xa(s,o){try{var c=s.ref;if(c!==null){var d=s.stateNode;switch(s.tag){case 26:case 27:case 5:var m=d;break;default:m=d}typeof c=="function"?s.refCleanup=c(m):c.current=m}}catch(y){lt(s,o,y)}}function Yn(s,o){var c=s.ref,d=s.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(m){lt(s,o,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){lt(s,o,m)}else c.current=null}function aw(s){var o=s.type,c=s.memoizedProps,d=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(m){lt(s,s.return,m)}}function ow(s,o,c){try{var d=s.stateNode;aN(d,s.type,c,o),d[Ht]=o}catch(m){lt(s,s.return,m)}}function lw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function Gm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||lw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $m(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Yd));else if(d!==4&&d!==27&&(s=s.child,s!==null))for($m(s,o,c),s=s.sibling;s!==null;)$m(s,o,c),s=s.sibling}function Pd(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(d!==4&&d!==27&&(s=s.child,s!==null))for(Pd(s,o,c),s=s.sibling;s!==null;)Pd(s,o,c),s=s.sibling}var Ur=!1,Rt=!1,Ym=!1,cw=typeof WeakSet=="function"?WeakSet:Set,tn=null,uw=!1;function LM(s,o){if(s=s.containerInfo,wy=tf,s=R0(s),Kp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var S=0,C=-1,L=-1,q=0,te=0,oe=s,Q=null;t:for(;;){for(var ee;oe!==c||m!==0&&oe.nodeType!==3||(C=S+m),oe!==y||d!==0&&oe.nodeType!==3||(L=S+d),oe.nodeType===3&&(S+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)Q=oe,oe=ee;for(;;){if(oe===s)break t;if(Q===c&&++q===m&&(C=S),Q===y&&++te===d&&(L=S),(ee=oe.nextSibling)!==null)break;oe=Q,Q=oe.parentNode}oe=ee}c=C===-1||L===-1?null:{start:C,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ay={focusedElem:s,selectionRange:c},tf=!1,tn=o;tn!==null;)if(o=tn,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,tn=s;else for(;tn!==null;){switch(o=tn,y=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&y!==null){s=void 0,c=o,m=y.memoizedProps,y=y.memoizedState,d=c.stateNode;try{var ve=Ya(c.type,m,c.elementType===c.type);s=d.getSnapshotBeforeUpdate(ve,y),d.__reactInternalSnapshotBeforeUpdate=s}catch(ke){lt(c,c.return,ke)}}break;case 3:if(s&1024){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)Ry(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ry(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,tn=s;break}tn=o.return}return ve=uw,uw=!1,ve}function hw(s,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Br(s,c),d&4&&eu(5,c);break;case 1:if(Br(s,c),d&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(C){lt(c,c.return,C)}else{var m=Ya(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(m,o,s.__reactInternalSnapshotBeforeUpdate)}catch(C){lt(c,c.return,C)}}d&64&&rw(c),d&512&&Xa(c,c.return);break;case 3:if(Br(s,c),d&64&&(d=c.updateQueue,d!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{iw(d,s)}catch(C){lt(c,c.return,C)}}break;case 26:Br(s,c),d&512&&Xa(c,c.return);break;case 27:case 5:Br(s,c),o===null&&d&4&&aw(c),d&512&&Xa(c,c.return);break;case 12:Br(s,c);break;case 13:Br(s,c),d&4&&gw(s,c);break;case 22:if(m=c.memoizedState!==null||Ur,!m){o=o!==null&&o.memoizedState!==null||Rt;var y=Ur,S=Rt;Ur=m,(Rt=o)&&!S?js(s,c,(c.subtreeFlags&8772)!==0):Br(s,c),Ur=y,Rt=S}d&512&&(c.memoizedProps.mode==="manual"?Xa(c,c.return):Yn(c,c.return));break;default:Br(s,c)}}function dw(s){var o=s.alternate;o!==null&&(s.alternate=null,dw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Ra(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var jt=null,Qn=!1;function zr(s,o,c){for(c=c.child;c!==null;)fw(s,o,c),c=c.sibling}function fw(s,o,c){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(ds,c)}catch{}switch(c.tag){case 26:Rt||Yn(c,o),zr(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Rt||Yn(c,o);var d=jt,m=Qn;for(jt=c.stateNode,zr(s,o,c),c=c.stateNode,o=c.attributes;o.length;)c.removeAttributeNode(o[0]);Ra(c),jt=d,Qn=m;break;case 5:Rt||Yn(c,o);case 6:m=jt;var y=Qn;if(jt=null,zr(s,o,c),jt=m,Qn=y,jt!==null)if(Qn)try{s=jt,d=c.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)}catch(S){lt(c,o,S)}else try{jt.removeChild(c.stateNode)}catch(S){lt(c,o,S)}break;case 18:jt!==null&&(Qn?(o=jt,c=c.stateNode,o.nodeType===8?xy(o.parentNode,c):o.nodeType===1&&xy(o,c),vu(o)):xy(jt,c.stateNode));break;case 4:d=jt,m=Qn,jt=c.stateNode.containerInfo,Qn=!0,zr(s,o,c),jt=d,Qn=m;break;case 0:case 11:case 14:case 15:Rt||Ls(2,c,o),Rt||Ls(4,c,o),zr(s,o,c);break;case 1:Rt||(Yn(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&sw(c,o,d)),zr(s,o,c);break;case 21:zr(s,o,c);break;case 22:Rt||Yn(c,o),Rt=(d=Rt)||c.memoizedState!==null,zr(s,o,c),Rt=d;break;default:zr(s,o,c)}}function gw(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{vu(s)}catch(c){lt(o,o.return,c)}}function jM(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new cw),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new cw),o;default:throw Error(i(435,s.tag))}}function Qm(s,o){var c=jM(s);o.forEach(function(d){var m=KM.bind(null,s,d);c.has(d)||(c.add(d),d.then(m,m))})}function fi(s,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var m=c[d],y=s,S=o,C=S;e:for(;C!==null;){switch(C.tag){case 27:case 5:jt=C.stateNode,Qn=!1;break e;case 3:jt=C.stateNode.containerInfo,Qn=!0;break e;case 4:jt=C.stateNode.containerInfo,Qn=!0;break e}C=C.return}if(jt===null)throw Error(i(160));fw(y,S,m),jt=null,Qn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)pw(o,s),o=o.sibling}var Mi=null;function pw(s,o){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:fi(o,s),gi(s),d&4&&(Ls(3,s,s.return),eu(3,s),Ls(5,s,s.return));break;case 1:fi(o,s),gi(s),d&512&&(Rt||c===null||Yn(c,c.return)),d&64&&Ur&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var m=Mi;if(fi(o,s),gi(s),d&512&&(Rt||c===null||Yn(c,c.return)),d&4){var y=c!==null?c.memoizedState:null;if(d=s.memoizedState,c===null)if(d===null)if(s.stateNode===null){e:{d=s.type,c=s.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":y=m.getElementsByTagName("title")[0],(!y||y[_s]||y[Xt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(d),m.head.insertBefore(y,m.querySelector("head > title"))),dn(y,d,c),y[Xt]=s,_t(y),d=y;break e;case"link":var S=aA("link","href",m).get(d+(c.href||""));if(S){for(var C=0;C<S.length;C++)if(y=S[C],y.getAttribute("href")===(c.href==null?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(C,1);break t}}y=m.createElement(d),dn(y,d,c),m.head.appendChild(y);break;case"meta":if(S=aA("meta","content",m).get(d+(c.content||""))){for(C=0;C<S.length;C++)if(y=S[C],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(C,1);break t}}y=m.createElement(d),dn(y,d,c),m.head.appendChild(y);break;default:throw Error(i(468,d))}y[Xt]=s,_t(y),d=y}s.stateNode=d}else oA(m,s.type,s.stateNode);else s.stateNode=sA(m,d,s.memoizedProps);else y!==d?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,d===null?oA(m,s.type,s.stateNode):sA(m,d,s.memoizedProps)):d===null&&s.stateNode!==null&&ow(s,s.memoizedProps,c.memoizedProps)}break;case 27:if(d&4&&s.alternate===null){m=s.stateNode,y=s.memoizedProps;try{for(var L=m.firstChild;L;){var q=L.nextSibling,te=L.nodeName;L[_s]||te==="HEAD"||te==="BODY"||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&L.rel.toLowerCase()==="stylesheet"||m.removeChild(L),L=q}for(var oe=s.type,Q=m.attributes;Q.length;)m.removeAttributeNode(Q[0]);dn(m,oe,y),m[Xt]=s,m[Ht]=y}catch(ve){lt(s,s.return,ve)}}case 5:if(fi(o,s),gi(s),d&512&&(Rt||c===null||Yn(c,c.return)),s.flags&32){m=s.stateNode;try{ri(m,"")}catch(ve){lt(s,s.return,ve)}}d&4&&s.stateNode!=null&&(m=s.memoizedProps,ow(s,m,c!==null?c.memoizedProps:m)),d&1024&&(Ym=!0);break;case 6:if(fi(o,s),gi(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,c=s.stateNode;try{c.nodeValue=d}catch(ve){lt(s,s.return,ve)}}break;case 3:if(Zd=null,m=Mi,Mi=Kd(o.containerInfo),fi(o,s),Mi=m,gi(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{vu(o.containerInfo)}catch(ve){lt(s,s.return,ve)}Ym&&(Ym=!1,mw(s));break;case 4:d=Mi,Mi=Kd(s.stateNode.containerInfo),fi(o,s),gi(s),Mi=d;break;case 12:fi(o,s),gi(s);break;case 13:fi(o,s),gi(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(ry=Pn()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Qm(s,d)));break;case 22:if(d&512&&(Rt||c===null||Yn(c,c.return)),L=s.memoizedState!==null,q=c!==null&&c.memoizedState!==null,te=Ur,oe=Rt,Ur=te||L,Rt=oe||q,fi(o,s),Rt=oe,Ur=te,gi(s),o=s.stateNode,o._current=s,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,d&8192&&(o._visibility=L?o._visibility&-2:o._visibility|1,L&&(o=Ur||Rt,c===null||q||o||ml(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(c=null,o=s;;){if(o.tag===5||o.tag===26||o.tag===27){if(c===null){q=c=o;try{if(m=q.stateNode,L)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=q.stateNode,C=q.memoizedProps.style;var ee=C!=null&&C.hasOwnProperty("display")?C.display:null;S.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ve){lt(q,q.return,ve)}}}else if(o.tag===6){if(c===null){q=o;try{q.stateNode.nodeValue=L?"":q.memoizedProps}catch(ve){lt(q,q.return,ve)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Qm(s,c))));break;case 19:fi(o,s),gi(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Qm(s,d)));break;case 21:break;default:fi(o,s),gi(s)}}function gi(s){var o=s.flags;if(o&2){try{if(s.tag!==27){e:{for(var c=s.return;c!==null;){if(lw(c)){var d=c;break e}c=c.return}throw Error(i(160))}switch(d.tag){case 27:var m=d.stateNode,y=Gm(s);Pd(s,y,m);break;case 5:var S=d.stateNode;d.flags&32&&(ri(S,""),d.flags&=-33);var C=Gm(s);Pd(s,C,S);break;case 3:case 4:var L=d.stateNode.containerInfo,q=Gm(s);$m(s,q,L);break;default:throw Error(i(161))}}}catch(te){lt(s,s.return,te)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function mw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;mw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Br(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)hw(s,o.alternate,o),o=o.sibling}function ml(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ls(4,o,o.return),ml(o);break;case 1:Yn(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&sw(o,o.return,c),ml(o);break;case 26:case 27:case 5:Yn(o,o.return),ml(o);break;case 22:Yn(o,o.return),o.memoizedState===null&&ml(o);break;default:ml(o)}s=s.sibling}}function js(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,m=s,y=o,S=y.flags;switch(y.tag){case 0:case 11:case 15:js(m,y,c),eu(4,y);break;case 1:if(js(m,y,c),d=y,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){lt(d,d.return,q)}if(d=y,m=d.updateQueue,m!==null){var C=d.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)nw(L[m],C)}catch(q){lt(d,d.return,q)}}c&&S&64&&rw(y),Xa(y,y.return);break;case 26:case 27:case 5:js(m,y,c),c&&d===null&&S&4&&aw(y),Xa(y,y.return);break;case 12:js(m,y,c);break;case 13:js(m,y,c),c&&S&4&&gw(m,y);break;case 22:y.memoizedState===null&&js(m,y,c),Xa(y,y.return);break;default:js(m,y,c)}o=o.sibling}}function Km(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&qc(c))}function Xm(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&qc(s))}function Vs(s,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)yw(s,o,c,d),o=o.sibling}function yw(s,o,c,d){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Vs(s,o,c,d),m&2048&&eu(9,o);break;case 3:Vs(s,o,c,d),m&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&qc(s)));break;case 12:if(m&2048){Vs(s,o,c,d),s=o.stateNode;try{var y=o.memoizedProps,S=y.id,C=y.onPostCommit;typeof C=="function"&&C(S,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){lt(o,o.return,L)}}else Vs(s,o,c,d);break;case 23:break;case 22:y=o.stateNode,o.memoizedState!==null?y._visibility&4?Vs(s,o,c,d):tu(s,o):y._visibility&4?Vs(s,o,c,d):(y._visibility|=4,yl(s,o,c,d,(o.subtreeFlags&10256)!==0)),m&2048&&Km(o.alternate,o);break;case 24:Vs(s,o,c,d),m&2048&&Xm(o.alternate,o);break;default:Vs(s,o,c,d)}}function yl(s,o,c,d,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=s,S=o,C=c,L=d,q=S.flags;switch(S.tag){case 0:case 11:case 15:yl(y,S,C,L,m),eu(8,S);break;case 23:break;case 22:var te=S.stateNode;S.memoizedState!==null?te._visibility&4?yl(y,S,C,L,m):tu(y,S):(te._visibility|=4,yl(y,S,C,L,m)),m&&q&2048&&Km(S.alternate,S);break;case 24:yl(y,S,C,L,m),m&&q&2048&&Xm(S.alternate,S);break;default:yl(y,S,C,L,m)}o=o.sibling}}function tu(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,d=o,m=d.flags;switch(d.tag){case 22:tu(c,d),m&2048&&Km(d.alternate,d);break;case 24:tu(c,d),m&2048&&Xm(d.alternate,d);break;default:tu(c,d)}o=o.sibling}}var nu=8192;function vl(s){if(s.subtreeFlags&nu)for(s=s.child;s!==null;)vw(s),s=s.sibling}function vw(s){switch(s.tag){case 26:vl(s),s.flags&nu&&s.memoizedState!==null&&TN(Mi,s.memoizedState,s.memoizedProps);break;case 5:vl(s);break;case 3:case 4:var o=Mi;Mi=Kd(s.stateNode.containerInfo),vl(s),Mi=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=nu,nu=16777216,vl(s),nu=o):vl(s));break;default:vl(s)}}function _w(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function iu(s){var o=s.deletions;if(s.flags&16){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];tn=d,Ew(d,s)}_w(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bw(s),s=s.sibling}function bw(s){switch(s.tag){case 0:case 11:case 15:iu(s),s.flags&2048&&Ls(9,s,s.return);break;case 3:iu(s);break;case 12:iu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&4&&(s.return===null||s.return.tag!==13)?(o._visibility&=-5,Ld(s)):iu(s);break;default:iu(s)}}function Ld(s){var o=s.deletions;if(s.flags&16){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];tn=d,Ew(d,s)}_w(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ls(8,o,o.return),Ld(o);break;case 22:c=o.stateNode,c._visibility&4&&(c._visibility&=-5,Ld(o));break;default:Ld(o)}s=s.sibling}}function Ew(s,o){for(;tn!==null;){var c=tn;switch(c.tag){case 0:case 11:case 15:Ls(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:qc(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,tn=d;else e:for(c=s;tn!==null;){d=tn;var m=d.sibling,y=d.return;if(dw(d),d===c){tn=null;break e}if(m!==null){m.return=y,tn=m;break e}tn=y}}}function VM(s,o,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(s,o,c,d){return new VM(s,o,c,d)}function Zm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Us(s,o){var c=s.alternate;return c===null?(c=pi(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&31457280,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function ww(s,o){s.flags&=31457282;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function jd(s,o,c,d,m,y){var S=0;if(d=s,typeof s=="function")Zm(s)&&(S=1);else if(typeof s=="string")S=AN(s,c,on.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case h:return Za(c.children,m,y,o);case f:S=8,m|=24;break;case p:return s=pi(12,c,o,m|2),s.elementType=p,s.lanes=y,s;case R:return s=pi(13,c,o,m),s.elementType=R,s.lanes=y,s;case x:return s=pi(19,c,o,m),s.elementType=x,s.lanes=y,s;case z:return Aw(c,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case v:case b:S=10;break e;case _:S=9;break e;case T:S=11;break e;case M:S=14;break e;case j:S=16,d=null;break e}S=29,c=Error(i(130,s===null?"null":typeof s,"")),d=null}return o=pi(S,c,o,m),o.elementType=s,o.type=d,o.lanes=y,o}function Za(s,o,c,d){return s=pi(7,s,d,o),s.lanes=c,s}function Aw(s,o,c,d){s=pi(22,s,d,o),s.elementType=z,s.lanes=c;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(i(456));if(!(m._pendingVisibility&2)){var S=Rs(y,2);S!==null&&(m._pendingVisibility|=2,Mn(S,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(i(456));if(m._pendingVisibility&2){var S=Rs(y,2);S!==null&&(m._pendingVisibility&=-3,Mn(S,y,2))}}};return s.stateNode=m,s}function Jm(s,o,c){return s=pi(6,s,null,o),s.lanes=c,s}function ey(s,o,c){return o=pi(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Hr(s){s.flags|=4}function Sw(s,o){if(o.type!=="stylesheet"||o.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!lA(o)){if(o=di.current,o!==null&&((Ge&4194176)===Ge?rr!==null:(Ge&62914560)!==Ge&&!(Ge&536870912)||o!==rr))throw Bc=sm,B0;s.flags|=8192}}function Vd(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?ps():536870912,s.lanes|=o,bl|=o)}function ru(s,o){if(!Ke)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function bt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(o)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags&31457280,d|=m.flags&31457280,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=c,o}function UM(s,o,c){var d=o.pendingProps;switch(im(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(o),null;case 1:return bt(o),null;case 3:return c=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Vr(Gt),ft(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(jc(o)?Hr(o):s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,ki!==null&&(ly(ki),ki=null))),bt(o),null;case 26:return c=o.memoizedState,s===null?(Hr(o),c!==null?(bt(o),Sw(o,c)):(bt(o),o.flags&=-16777217)):c?c!==s.memoizedState?(Hr(o),bt(o),Sw(o,c)):(bt(o),o.flags&=-16777217):(s.memoizedProps!==d&&Hr(o),bt(o),o.flags&=-16777217),null;case 27:qi(o),c=Te.current;var m=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Hr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return bt(o),null}s=on.current,jc(o)?U0(o):(s=eA(m,d,c),o.stateNode=s,Hr(o))}return bt(o),null;case 5:if(qi(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Hr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return bt(o),null}if(s=on.current,jc(o))U0(o);else{switch(m=Qd(Te.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?m.createElement(c,{is:d.is}):m.createElement(c)}}s[Xt]=o,s[Ht]=d;e:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break e;for(;m.sibling===null;){if(m.return===null||m.return===o)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=s;e:switch(dn(s,c,d),c){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Hr(o)}}return bt(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&Hr(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(s=Te.current,jc(o)){if(s=o.stateNode,c=o.memoizedProps,d=null,m=kn,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}s[Xt]=o,s=!!(s.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||Yw(s.nodeValue,c)),s||Ha(o)}else s=Qd(s).createTextNode(d),s[Xt]=o,o.stateNode=s}return bt(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=jc(o),d!==null&&d.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Xt]=o}else Vc(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;bt(o),m=!1}else ki!==null&&(ly(ki),ki=null),m=!0;if(!m)return o.flags&256?(Or(o),o):(Or(o),null)}if(Or(o),o.flags&128)return o.lanes=c,o;if(c=d!==null,s=s!==null&&s.memoizedState!==null,c){d=o.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),Vd(o,o.updateQueue),bt(o),null;case 4:return ft(),s===null&&_y(o.stateNode.containerInfo),bt(o),null;case 10:return Vr(o.type),bt(o),null;case 19:if(dt(Wt),m=o.memoizedState,m===null)return bt(o),null;if(d=(o.flags&128)!==0,y=m.rendering,y===null)if(d)ru(m,!1);else{if(Ct!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(y=Ed(s),y!==null){for(o.flags|=128,ru(m,!1),s=y.updateQueue,o.updateQueue=s,Vd(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)ww(c,s),c=c.sibling;return Je(Wt,Wt.current&1|2),o.child}s=s.sibling}m.tail!==null&&Pn()>Ud&&(o.flags|=128,d=!0,ru(m,!1),o.lanes=4194304)}else{if(!d)if(s=Ed(y),s!==null){if(o.flags|=128,d=!0,s=s.updateQueue,o.updateQueue=s,Vd(o,s),ru(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ke)return bt(o),null}else 2*Pn()-m.renderingStartTime>Ud&&c!==536870912&&(o.flags|=128,d=!0,ru(m,!1),o.lanes=4194304);m.isBackwards?(y.sibling=o.child,o.child=y):(s=m.last,s!==null?s.sibling=y:o.child=y,m.last=y)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Pn(),o.sibling=null,s=Wt.current,Je(Wt,d?s&1|2:s&1),o):(bt(o),null);case 22:case 23:return Or(o),om(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?c&536870912&&!(o.flags&128)&&(bt(o),o.subtreeFlags&6&&(o.flags|=8192)):bt(o),c=o.updateQueue,c!==null&&Vd(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),s!==null&&dt(qa),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Vr(Gt),bt(o),null;case 25:return null}throw Error(i(156,o.tag))}function zM(s,o){switch(im(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Vr(Gt),ft(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return qi(o),null;case 13:if(Or(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Vc()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return dt(Wt),null;case 4:return ft(),null;case 10:return Vr(o.type),null;case 22:case 23:return Or(o),om(),s!==null&&dt(qa),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Vr(Gt),null;case 25:return null;default:return null}}function Tw(s,o){switch(im(o),o.tag){case 3:Vr(Gt),ft();break;case 26:case 27:case 5:qi(o);break;case 4:ft();break;case 13:Or(o);break;case 19:dt(Wt);break;case 10:Vr(o.type);break;case 22:case 23:Or(o),om(),s!==null&&dt(qa);break;case 24:Vr(Gt)}}var BM={getCacheForType:function(s){var o=_n(Gt),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},HM=typeof WeakMap=="function"?WeakMap:Map,Et=0,ut=null,Ve=null,Ge=0,ht=0,Kn=null,Fr=!1,_l=!1,ty=!1,qr=0,Ct=0,zs=0,Ja=0,ny=0,mi=0,bl=0,su=null,ar=null,iy=!1,ry=0,Ud=1/0,zd=null,Bs=null,Bd=!1,eo=null,au=0,sy=0,ay=null,ou=0,oy=null;function Xn(){if(Et&2&&Ge!==0)return Ge&-Ge;if(I.T!==null){var s=hl;return s!==0?s:py()}return $h()}function xw(){mi===0&&(mi=!(Ge&536870912)||Ke?_c():536870912);var s=di.current;return s!==null&&(s.flags|=32),mi}function Mn(s,o,c){(s===ut&&ht===2||s.cancelPendingCommit!==null)&&(El(s,0),Wr(s,Ge,mi,!1)),It(s,c),(!(Et&2)||s!==ut)&&(s===ut&&(!(Et&2)&&(Ja|=c),Ct===4&&Wr(s,Ge,mi,!1)),or(s))}function Rw(s,o,c){if(Et&6)throw Error(i(327));var d=!c&&(o&60)===0&&(o&s.expiredLanes)===0||gs(s,o),m=d?WM(s,o):hy(s,o,!0),y=d;do{if(m===0){_l&&!d&&Wr(s,o,0,!1);break}else if(m===6)Wr(s,o,0,!Fr);else{if(c=s.current.alternate,y&&!FM(c)){m=hy(s,o,!1),y=!1;continue}if(m===2){if(y=o,s.errorRecoveryDisabledLanes&y)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var C=s;m=su;var L=C.current.memoizedState.isDehydrated;if(L&&(El(C,S).flags|=256),S=hy(C,S,!1),S!==2){if(ty&&!L){C.errorRecoveryDisabledLanes|=y,Ja|=y,m=4;break e}y=ar,ar=m,y!==null&&ly(y)}m=S}if(y=!1,m!==2)continue}}if(m===1){El(s,0),Wr(s,o,0,!0);break}e:{switch(d=s,m){case 0:case 1:throw Error(i(345));case 4:if((o&4194176)===o){Wr(d,o,mi,!Fr);break e}break;case 2:ar=null;break;case 3:case 5:break;default:throw Error(i(329))}if(d.finishedWork=c,d.finishedLanes=o,(o&62914560)===o&&(y=ry+300-Pn(),10<y)){if(Wr(d,o,mi,!Fr),ni(d,0)!==0)break e;d.timeoutHandle=Xw(Cw.bind(null,d,c,ar,zd,iy,o,mi,Ja,bl,Fr,2,-0,0),y);break e}Cw(d,c,ar,zd,iy,o,mi,Ja,bl,Fr,0,-0,0)}}break}while(!0);or(s)}function ly(s){ar===null?ar=s:ar.push.apply(ar,s)}function Cw(s,o,c,d,m,y,S,C,L,q,te,oe,Q){var ee=o.subtreeFlags;if((ee&8192||(ee&16785408)===16785408)&&(fu={stylesheets:null,count:0,unsuspend:SN},vw(o),o=xN(),o!==null)){s.cancelPendingCommit=o(Pw.bind(null,s,c,d,m,S,C,L,1,oe,Q)),Wr(s,y,S,!q);return}Pw(s,c,d,m,S,C,L,te,oe,Q)}function FM(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var m=c[d],y=m.getSnapshot;m=m.value;try{if(!$n(y(),m))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Wr(s,o,c,d){o&=~ny,o&=~Ja,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var m=o;0<m;){var y=31-Cn(m),S=1<<y;d[y]=-1,m&=~S}c!==0&&ms(s,c,o)}function Hd(){return Et&6?!0:(lu(0),!1)}function cy(){if(Ve!==null){if(ht===0)var s=Ve.return;else s=Ve,jr=Qa=null,pm(s),cl=null,Hc=0,s=Ve;for(;s!==null;)Tw(s.alternate,s),s=s.return;Ve=null}}function El(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,lN(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),cy(),ut=s,Ve=c=Us(s.current,null),Ge=o,ht=0,Kn=null,Fr=!1,_l=gs(s,o),ty=!1,bl=mi=ny=Ja=zs=Ct=0,ar=su=null,iy=!1,o&8&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var m=31-Cn(d),y=1<<m;o|=s[m],d&=~y}return qr=o,dd(),c}function Dw(s,o){Pe=null,I.H=sr,o===zc?(o=q0(),ht=3):o===B0?(o=q0(),ht=4):ht=o===HE?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Kn=o,Ve===null&&(Ct=1,Md(s,ci(o,s.current)))}function Iw(){var s=I.H;return I.H=sr,s===null?sr:s}function kw(){var s=I.A;return I.A=BM,s}function uy(){Ct=4,Fr||(Ge&4194176)!==Ge&&di.current!==null||(_l=!0),!(zs&134217727)&&!(Ja&134217727)||ut===null||Wr(ut,Ge,mi,!1)}function hy(s,o,c){var d=Et;Et|=2;var m=Iw(),y=kw();(ut!==s||Ge!==o)&&(zd=null,El(s,o)),o=!1;var S=Ct;e:do try{if(ht!==0&&Ve!==null){var C=Ve,L=Kn;switch(ht){case 8:cy(),S=6;break e;case 3:case 2:case 6:di.current===null&&(o=!0);var q=ht;if(ht=0,Kn=null,wl(s,C,L,q),c&&_l){S=0;break e}break;default:q=ht,ht=0,Kn=null,wl(s,C,L,q)}}qM(),S=Ct;break}catch(te){Dw(s,te)}while(!0);return o&&s.shellSuspendCounter++,jr=Qa=null,Et=d,I.H=m,I.A=y,Ve===null&&(ut=null,Ge=0,dd()),S}function qM(){for(;Ve!==null;)Mw(Ve)}function WM(s,o){var c=Et;Et|=2;var d=Iw(),m=kw();ut!==s||Ge!==o?(zd=null,Ud=Pn()+500,El(s,o)):_l=gs(s,o);e:do try{if(ht!==0&&Ve!==null){o=Ve;var y=Kn;t:switch(ht){case 1:ht=0,Kn=null,wl(s,o,y,1);break;case 2:if(H0(y)){ht=0,Kn=null,Nw(o);break}o=function(){ht===2&&ut===s&&(ht=7),or(s)},y.then(o,o);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:H0(y)?(ht=0,Kn=null,Nw(o)):(ht=0,Kn=null,wl(s,o,y,7));break;case 5:var S=null;switch(Ve.tag){case 26:S=Ve.memoizedState;case 5:case 27:var C=Ve;if(!S||lA(S)){ht=0,Kn=null;var L=C.sibling;if(L!==null)Ve=L;else{var q=C.return;q!==null?(Ve=q,Fd(q)):Ve=null}break t}}ht=0,Kn=null,wl(s,o,y,5);break;case 6:ht=0,Kn=null,wl(s,o,y,6);break;case 8:cy(),Ct=6;break e;default:throw Error(i(462))}}GM();break}catch(te){Dw(s,te)}while(!0);return jr=Qa=null,I.H=d,I.A=m,Et=c,Ve!==null?0:(ut=null,Ge=0,dd(),Ct)}function GM(){for(;Ve!==null&&!Up();)Mw(Ve)}function Mw(s){var o=ew(s.alternate,s,qr);s.memoizedProps=s.pendingProps,o===null?Fd(s):Ve=o}function Nw(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=YE(c,o,o.pendingProps,o.type,void 0,Ge);break;case 11:o=YE(c,o,o.pendingProps,o.type.render,o.ref,Ge);break;case 5:pm(o);default:Tw(c,o),o=Ve=ww(o,qr),o=ew(c,o,qr)}s.memoizedProps=s.pendingProps,o===null?Fd(s):Ve=o}function wl(s,o,c,d){jr=Qa=null,pm(o),cl=null,Hc=0;var m=o.return;try{if(OM(s,m,o,c,Ge)){Ct=1,Md(s,ci(c,s.current)),Ve=null;return}}catch(y){if(m!==null)throw Ve=m,y;Ct=1,Md(s,ci(c,s.current)),Ve=null;return}o.flags&32768?(Ke||d===1?s=!0:_l||Ge&536870912?s=!1:(Fr=s=!0,(d===2||d===3||d===6)&&(d=di.current,d!==null&&d.tag===13&&(d.flags|=16384))),Ow(o,s)):Fd(o)}function Fd(s){var o=s;do{if(o.flags&32768){Ow(o,Fr);return}s=o.return;var c=UM(o.alternate,o,qr);if(c!==null){Ve=c;return}if(o=o.sibling,o!==null){Ve=o;return}Ve=o=s}while(o!==null);Ct===0&&(Ct=5)}function Ow(s,o){do{var c=zM(s.alternate,s);if(c!==null){c.flags&=32767,Ve=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){Ve=s;return}Ve=s=c}while(s!==null);Ct=6,Ve=null}function Pw(s,o,c,d,m,y,S,C,L,q){var te=I.T,oe=ue.p;try{ue.p=2,I.T=null,$M(s,o,c,d,oe,m,y,S,C,L,q)}finally{I.T=te,ue.p=oe}}function $M(s,o,c,d,m,y,S,C){do Al();while(eo!==null);if(Et&6)throw Error(i(327));var L=s.finishedWork;if(d=s.finishedLanes,L===null)return null;if(s.finishedWork=null,s.finishedLanes=0,L===s.current)throw Error(i(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var q=L.lanes|L.childLanes;if(q|=em,Wh(s,d,q,y,S,C),s===ut&&(Ve=ut=null,Ge=0),!(L.subtreeFlags&10256)&&!(L.flags&10256)||Bd||(Bd=!0,sy=q,ay=c,XM(wr,function(){return Al(),null})),c=(L.flags&15990)!==0,L.subtreeFlags&15990||c?(c=I.T,I.T=null,y=ue.p,ue.p=2,S=Et,Et|=4,LM(s,L),pw(L,s),yM(Ay,s.containerInfo),tf=!!wy,Ay=wy=null,s.current=L,hw(s,L.alternate,L),pc(),Et=S,ue.p=y,I.T=c):s.current=L,Bd?(Bd=!1,eo=s,au=d):Lw(s,q),q=s.pendingLanes,q===0&&(Bs=null),yc(L.stateNode),or(s),o!==null)for(m=s.onRecoverableError,L=0;L<o.length;L++)q=o[L],m(q.value,{componentStack:q.stack});return au&3&&Al(),q=s.pendingLanes,d&4194218&&q&42?s===oy?ou++:(ou=0,oy=s):ou=0,lu(0),null}function Lw(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,qc(o)))}function Al(){if(eo!==null){var s=eo,o=sy;sy=0;var c=Gh(au),d=I.T,m=ue.p;try{if(ue.p=32>c?32:c,I.T=null,eo===null)var y=!1;else{c=ay,ay=null;var S=eo,C=au;if(eo=null,au=0,Et&6)throw Error(i(331));var L=Et;if(Et|=4,bw(S.current),yw(S,S.current,C,c),Et=L,lu(0,!1),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(ds,S)}catch{}y=!0}return y}finally{ue.p=m,I.T=d,Lw(s,o)}}return!1}function jw(s,o,c){o=ci(c,o),o=Dm(s.stateNode,o,2),s=Ps(s,o,2),s!==null&&(It(s,2),or(s))}function lt(s,o,c){if(s.tag===3)jw(s,s,c);else for(;o!==null;){if(o.tag===3){jw(o,s,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Bs===null||!Bs.has(d))){s=ci(c,s),c=zE(2),d=Ps(o,c,2),d!==null&&(BE(c,d,o,s),It(d,2),or(d));break}}o=o.return}}function dy(s,o,c){var d=s.pingCache;if(d===null){d=s.pingCache=new HM;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(c)||(ty=!0,m.add(c),s=YM.bind(null,s,o,c),o.then(s,s))}function YM(s,o,c){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,ut===s&&(Ge&c)===c&&(Ct===4||Ct===3&&(Ge&62914560)===Ge&&300>Pn()-ry?!(Et&2)&&El(s,0):ny|=c,bl===Ge&&(bl=0)),or(s)}function Vw(s,o){o===0&&(o=ps()),s=Rs(s,o),s!==null&&(It(s,o),or(s))}function QM(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Vw(s,c)}function KM(s,o){var c=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),Vw(s,c)}function XM(s,o){return Er(s,o)}var qd=null,Sl=null,fy=!1,Wd=!1,gy=!1,to=0;function or(s){s!==Sl&&s.next===null&&(Sl===null?qd=Sl=s:Sl=Sl.next=s),Wd=!0,fy||(fy=!0,JM(ZM))}function lu(s,o){if(!gy&&Wd){gy=!0;do for(var c=!1,d=qd;d!==null;){if(s!==0){var m=d.pendingLanes;if(m===0)var y=0;else{var S=d.suspendedLanes,C=d.pingedLanes;y=(1<<31-Cn(42|s)+1)-1,y&=m&~(S&~C),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(c=!0,Bw(d,y))}else y=Ge,y=ni(d,d===ut?y:0),!(y&3)||gs(d,y)||(c=!0,Bw(d,y));d=d.next}while(c);gy=!1}}function ZM(){Wd=fy=!1;var s=0;to!==0&&(oN()&&(s=to),to=0);for(var o=Pn(),c=null,d=qd;d!==null;){var m=d.next,y=Uw(d,o);y===0?(d.next=null,c===null?qd=m:c.next=m,m===null&&(Sl=c)):(c=d,(s!==0||y&3)&&(Wd=!0)),d=m}lu(s)}function Uw(s,o){for(var c=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var S=31-Cn(y),C=1<<S,L=m[S];L===-1?(!(C&c)||C&d)&&(m[S]=Ho(C,o)):L<=o&&(s.expiredLanes|=C),y&=~C}if(o=ut,c=Ge,c=ni(s,s===o?c:0),d=s.callbackNode,c===0||s===o&&ht===2||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Bo(d),s.callbackNode=null,s.callbackPriority=0;if(!(c&3)||gs(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(d!==null&&Bo(d),Gh(c)){case 2:case 8:c=Kt;break;case 32:c=wr;break;case 268435456:c=mc;break;default:c=wr}return d=zw.bind(null,s),c=Er(c,d),s.callbackPriority=o,s.callbackNode=c,o}return d!==null&&d!==null&&Bo(d),s.callbackPriority=2,s.callbackNode=null,2}function zw(s,o){var c=s.callbackNode;if(Al()&&s.callbackNode!==c)return null;var d=Ge;return d=ni(s,s===ut?d:0),d===0?null:(Rw(s,d,o),Uw(s,Pn()),s.callbackNode!=null&&s.callbackNode===c?zw.bind(null,s):null)}function Bw(s,o){if(Al())return null;Rw(s,o,!0)}function JM(s){cN(function(){Et&6?Er(Bt,s):s()})}function py(){return to===0&&(to=_c()),to}function Hw(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ki(""+s)}function Fw(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function eN(s,o,c,d,m){if(o==="submit"&&c&&c.stateNode===m){var y=Hw((m[Ht]||null).action),S=d.submitter;S&&(o=(o=S[Ht]||null)?Hw(o.formAction):S.getAttribute("formAction"),o!==null&&(y=o,S=null));var C=new Qo("action","action",null,d,m);s.push({event:C,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(to!==0){var L=S?Fw(m,S):new FormData(m);Sm(c,{pending:!0,data:L,method:m.method,action:y},null,L)}}else typeof y=="function"&&(C.preventDefault(),L=S?Fw(m,S):new FormData(m),Sm(c,{pending:!0,data:L,method:m.method,action:y},y,L))},currentTarget:m}]})}}for(var my=0;my<P0.length;my++){var yy=P0[my],tN=yy.toLowerCase(),nN=yy[0].toUpperCase()+yy.slice(1);Ii(tN,"on"+nN)}Ii(I0,"onAnimationEnd"),Ii(k0,"onAnimationIteration"),Ii(M0,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(_M,"onTransitionRun"),Ii(bM,"onTransitionStart"),Ii(EM,"onTransitionCancel"),Ii(N0,"onTransitionEnd"),Ln("onMouseEnter",["mouseout","mouseover"]),Ln("onMouseLeave",["mouseout","mouseover"]),Ln("onPointerEnter",["pointerout","pointerover"]),Ln("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function qw(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],m=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var S=d.length-1;0<=S;S--){var C=d[S],L=C.instance,q=C.currentTarget;if(C=C.listener,L!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=q;try{y(m)}catch(te){kd(te)}m.currentTarget=null,y=L}else for(S=0;S<d.length;S++){if(C=d[S],L=C.instance,q=C.currentTarget,C=C.listener,L!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=q;try{y(m)}catch(te){kd(te)}m.currentTarget=null,y=L}}}}function Be(s,o){var c=o[xa];c===void 0&&(c=o[xa]=new Set);var d=s+"__bubble";c.has(d)||(Ww(o,s,2,!1),c.add(d))}function vy(s,o,c){var d=0;o&&(d|=4),Ww(c,s,d,o)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function _y(s){if(!s[Gd]){s[Gd]=!0,Ec.forEach(function(c){c!=="selectionchange"&&(iN.has(c)||vy(c,!1,s),vy(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Gd]||(o[Gd]=!0,vy("selectionchange",!1,o))}}function Ww(s,o,c,d){switch(gA(o)){case 2:var m=DN;break;case 8:m=IN;break;default:m=My}c=m.bind(null,o,c,s),m=void 0,!ai||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,c,{capture:!0,passive:m}):s.addEventListener(o,c,!0):m!==void 0?s.addEventListener(o,c,{passive:m}):s.addEventListener(o,c,!1)}function by(s,o,c,d,m){var y=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var C=d.stateNode.containerInfo;if(C===m||C.nodeType===8&&C.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var L=S.tag;if((L===3||L===4)&&(L=S.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;S=S.return}for(;C!==null;){if(S=Di(C),S===null)return;if(L=S.tag,L===5||L===6||L===26||L===27){d=y=S;continue e}C=C.parentNode}}d=d.return}Xh(function(){var q=y,te=Yo(c),oe=[];e:{var Q=O0.get(s);if(Q!==void 0){var ee=Qo,ve=s;switch(s){case"keypress":if(Zi(c)===0)break e;case"keydown":case"keyup":ee=tl;break;case"focusin":ve="focus",ee=Zo;break;case"focusout":ve="blur",ee=Zo;break;case"beforeblur":case"afterblur":ee=Zo;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=oi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Gp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=sd;break;case I0:case k0:case M0:ee=Jo;break;case N0:ee=od;break;case"scroll":case"scrollend":ee=Zh;break;case"wheel":ee=nl;break;case"copy":case"cut":case"paste":ee=el;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Nc;break;case"toggle":case"beforetoggle":ee=cd}var ke=(o&4)!==0,Dt=!ke&&(s==="scroll"||s==="scrollend"),W=ke?Q!==null?Q+"Capture":null:Q;ke=[];for(var F=q,Y;F!==null;){var ie=F;if(Y=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Y===null||W===null||(ie=ka(F,W),ie!=null&&ke.push(uu(F,ie,Y))),Dt)break;F=F.return}0<ke.length&&(Q=new ee(Q,ve,null,c,te),oe.push({event:Q,listeners:ke}))}}if(!(o&7)){e:{if(Q=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",Q&&c!==si&&(ve=c.relatedTarget||c.fromElement)&&(Di(ve)||ve[Ar]))break e;if((ee||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,ee?(ve=c.relatedTarget||c.toElement,ee=q,ve=ve?Di(ve):null,ve!==null&&(Dt=fe(ve),ke=ve.tag,ve!==Dt||ke!==5&&ke!==27&&ke!==6)&&(ve=null)):(ee=null,ve=q),ee!==ve)){if(ke=oi,ie="onMouseLeave",W="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(ke=Nc,ie="onPointerLeave",W="onPointerEnter",F="pointer"),Dt=ee==null?Q:bs(ee),Y=ve==null?Q:bs(ve),Q=new ke(ie,F+"leave",ee,c,te),Q.target=Dt,Q.relatedTarget=Y,ie=null,Di(te)===q&&(ke=new ke(W,F+"enter",ve,c,te),ke.target=Y,ke.relatedTarget=Dt,ie=ke),Dt=ie,ee&&ve)t:{for(ke=ee,W=ve,F=0,Y=ke;Y;Y=Tl(Y))F++;for(Y=0,ie=W;ie;ie=Tl(ie))Y++;for(;0<F-Y;)ke=Tl(ke),F--;for(;0<Y-F;)W=Tl(W),Y--;for(;F--;){if(ke===W||W!==null&&ke===W.alternate)break t;ke=Tl(ke),W=Tl(W)}ke=null}else ke=null;ee!==null&&Gw(oe,Q,ee,ke,!1),ve!==null&&Dt!==null&&Gw(oe,Dt,ve,ke,!0)}}e:{if(Q=q?bs(q):window,ee=Q.nodeName&&Q.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Q.type==="file")var ye=_0;else if(qt(Q))if(b0)ye=pM;else{ye=fM;var Le=dM}else ee=Q.nodeName,!ee||ee.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?q&&xc(q.elementType)&&(ye=_0):ye=gM;if(ye&&(ye=ye(s,q))){kr(oe,ye,c,te);break e}Le&&Le(s,Q,q),s==="focusout"&&q&&Q.type==="number"&&q.memoizedProps.value!=null&&$o(Q,"number",Q.value)}switch(Le=q?bs(q):window,s){case"focusin":(qt(Le)||Le.contentEditable==="true")&&(il=Le,Xp=q,Lc=null);break;case"focusout":Lc=Xp=il=null;break;case"mousedown":Zp=!0;break;case"contextmenu":case"mouseup":case"dragend":Zp=!1,C0(oe,c,te);break;case"selectionchange":if(vM)break;case"keydown":case"keyup":C0(oe,c,te)}var _e;if(tr)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else qe?X(s,c)&&(Re="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Re="onCompositionStart");Re&&(A&&c.locale!=="ko"&&(qe||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&qe&&(_e=Cc()):(Xi=te,xs="value"in Xi?Xi.value:Xi.textContent,qe=!0)),Le=$d(q,Re),0<Le.length&&(Re=new kc(Re,s,null,c,te),oe.push({event:Re,listeners:Le}),_e?Re.data=_e:(_e=ce(c),_e!==null&&(Re.data=_e)))),(_e=E?Ft(s,c):We(s,c))&&(Re=$d(q,"onBeforeInput"),0<Re.length&&(Le=new kc("onBeforeInput","beforeinput",null,c,te),oe.push({event:Le,listeners:Re}),Le.data=_e)),eN(oe,s,q,c,te)}qw(oe,o)})}function uu(s,o,c){return{instance:s,listener:o,currentTarget:c}}function $d(s,o){for(var c=o+"Capture",d=[];s!==null;){var m=s,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=ka(s,c),m!=null&&d.unshift(uu(s,m,y)),m=ka(s,o),m!=null&&d.push(uu(s,m,y))),s=s.return}return d}function Tl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Gw(s,o,c,d,m){for(var y=o._reactName,S=[];c!==null&&c!==d;){var C=c,L=C.alternate,q=C.stateNode;if(C=C.tag,L!==null&&L===d)break;C!==5&&C!==26&&C!==27||q===null||(L=q,m?(q=ka(c,y),q!=null&&S.unshift(uu(c,q,L))):m||(q=ka(c,y),q!=null&&S.push(uu(c,q,L)))),c=c.return}S.length!==0&&s.push({event:o,listeners:S})}var rN=/\r\n?/g,sN=/\u0000|\uFFFD/g;function $w(s){return(typeof s=="string"?s:""+s).replace(rN,`
`).replace(sN,"")}function Yw(s,o){return o=$w(o),$w(s)===o}function Yd(){}function ot(s,o,c,d,m,y){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||ri(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&ri(s,""+d);break;case"className":As(s,"class",d);break;case"tabIndex":As(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":As(s,c,d);break;case"style":Kh(s,d,y);break;case"data":if(o!=="object"){As(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=Ki(""+d),s.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(o!=="input"&&ot(s,o,"name",m.name,m,null),ot(s,o,"formEncType",m.formEncType,m,null),ot(s,o,"formMethod",m.formMethod,m,null),ot(s,o,"formTarget",m.formTarget,m,null)):(ot(s,o,"encType",m.encType,m,null),ot(s,o,"method",m.method,m,null),ot(s,o,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=Ki(""+d),s.setAttribute(c,d);break;case"onClick":d!=null&&(s.onclick=Yd);break;case"onScroll":d!=null&&Be("scroll",s);break;case"onScrollEnd":d!=null&&Be("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}c=Ki(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""+d):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":d===!0?s.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,d):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(c,d):s.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(c):s.setAttribute(c,d);break;case"popover":Be("beforetoggle",s),Be("toggle",s),ws(s,"popover",d);break;case"xlinkActuate":ii(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ii(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ii(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ii(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ii(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ii(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ii(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ii(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ii(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ws(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=qp.get(c)||c,ws(s,c,d))}}function Ey(s,o,c,d,m,y){switch(c){case"style":Kh(s,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof d=="string"?ri(s,d):(typeof d=="number"||typeof d=="bigint")&&ri(s,""+d);break;case"onScroll":d!=null&&Be("scroll",s);break;case"onScrollEnd":d!=null&&Be("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Yd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wo.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),o=c.slice(2,m?c.length-7:void 0),y=s[Ht]||null,y=y!=null?y[c]:null,typeof y=="function"&&s.removeEventListener(o,y,m),typeof d=="function")){typeof y!="function"&&y!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,d,m);break e}c in s?s[c]=d:d===!0?s.setAttribute(c,""):ws(s,c,d)}}}function dn(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",s),Be("load",s);var d=!1,m=!1,y;for(y in c)if(c.hasOwnProperty(y)){var S=c[y];if(S!=null)switch(y){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ot(s,o,y,S,c,null)}}m&&ot(s,o,"srcSet",c.srcSet,c,null),d&&ot(s,o,"src",c.src,c,null);return;case"input":Be("invalid",s);var C=y=S=m=null,L=null,q=null;for(d in c)if(c.hasOwnProperty(d)){var te=c[d];if(te!=null)switch(d){case"name":m=te;break;case"type":S=te;break;case"checked":L=te;break;case"defaultChecked":q=te;break;case"value":y=te;break;case"defaultValue":C=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,o));break;default:ot(s,o,d,te,c,null)}}Da(s,y,C,L,q,S,m,!1),Ca(s);return;case"select":Be("invalid",s),d=S=y=null;for(m in c)if(c.hasOwnProperty(m)&&(C=c[m],C!=null))switch(m){case"value":y=C;break;case"defaultValue":S=C;break;case"multiple":d=C;default:ot(s,o,m,C,c,null)}o=y,c=S,s.multiple=!!d,o!=null?Qe(s,!!d,o,!1):c!=null&&Qe(s,!!d,c,!0);return;case"textarea":Be("invalid",s),y=m=d=null;for(S in c)if(c.hasOwnProperty(S)&&(C=c[S],C!=null))switch(S){case"value":d=C;break;case"defaultValue":m=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:ot(s,o,S,C,c,null)}Ts(s,d,m,y),Ca(s);return;case"option":for(L in c)if(c.hasOwnProperty(L)&&(d=c[L],d!=null))switch(L){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ot(s,o,L,d,c,null)}return;case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":Be("load",s);break;case"video":case"audio":for(d=0;d<cu.length;d++)Be(cu[d],s);break;case"image":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"embed":case"source":case"link":Be("error",s),Be("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in c)if(c.hasOwnProperty(q)&&(d=c[q],d!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ot(s,o,q,d,c,null)}return;default:if(xc(o)){for(te in c)c.hasOwnProperty(te)&&(d=c[te],d!==void 0&&Ey(s,o,te,d,c,void 0));return}}for(C in c)c.hasOwnProperty(C)&&(d=c[C],d!=null&&ot(s,o,C,d,c,null))}function aN(s,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,C=null,L=null,q=null,te=null;for(ee in c){var oe=c[ee];if(c.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":L=oe;default:d.hasOwnProperty(ee)||ot(s,o,ee,null,d,oe)}}for(var Q in d){var ee=d[Q];if(oe=c[Q],d.hasOwnProperty(Q)&&(ee!=null||oe!=null))switch(Q){case"type":y=ee;break;case"name":m=ee;break;case"checked":q=ee;break;case"defaultChecked":te=ee;break;case"value":S=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,o));break;default:ee!==oe&&ot(s,o,Q,ee,d,oe)}}Ss(s,S,C,L,q,te,y,m);return;case"select":ee=S=C=Q=null;for(y in c)if(L=c[y],c.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":ee=L;default:d.hasOwnProperty(y)||ot(s,o,y,null,d,L)}for(m in d)if(y=d[m],L=c[m],d.hasOwnProperty(m)&&(y!=null||L!=null))switch(m){case"value":Q=y;break;case"defaultValue":C=y;break;case"multiple":S=y;default:y!==L&&ot(s,o,m,y,d,L)}o=C,c=S,d=ee,Q!=null?Qe(s,!!c,Q,!1):!!d!=!!c&&(o!=null?Qe(s,!!c,o,!0):Qe(s,!!c,c?[]:"",!1));return;case"textarea":ee=Q=null;for(C in c)if(m=c[C],c.hasOwnProperty(C)&&m!=null&&!d.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ot(s,o,C,null,d,m)}for(S in d)if(m=d[S],y=c[S],d.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":Q=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&ot(s,o,S,m,d,y)}Ia(s,Q,ee);return;case"option":for(var ve in c)if(Q=c[ve],c.hasOwnProperty(ve)&&Q!=null&&!d.hasOwnProperty(ve))switch(ve){case"selected":s.selected=!1;break;default:ot(s,o,ve,null,d,Q)}for(L in d)if(Q=d[L],ee=c[L],d.hasOwnProperty(L)&&Q!==ee&&(Q!=null||ee!=null))switch(L){case"selected":s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ot(s,o,L,Q,d,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in c)Q=c[ke],c.hasOwnProperty(ke)&&Q!=null&&!d.hasOwnProperty(ke)&&ot(s,o,ke,null,d,Q);for(q in d)if(Q=d[q],ee=c[q],d.hasOwnProperty(q)&&Q!==ee&&(Q!=null||ee!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,o));break;default:ot(s,o,q,Q,d,ee)}return;default:if(xc(o)){for(var Dt in c)Q=c[Dt],c.hasOwnProperty(Dt)&&Q!==void 0&&!d.hasOwnProperty(Dt)&&Ey(s,o,Dt,void 0,d,Q);for(te in d)Q=d[te],ee=c[te],!d.hasOwnProperty(te)||Q===ee||Q===void 0&&ee===void 0||Ey(s,o,te,Q,d,ee);return}}for(var W in c)Q=c[W],c.hasOwnProperty(W)&&Q!=null&&!d.hasOwnProperty(W)&&ot(s,o,W,null,d,Q);for(oe in d)Q=d[oe],ee=c[oe],!d.hasOwnProperty(oe)||Q===ee||Q==null&&ee==null||ot(s,o,oe,Q,d,ee)}var wy=null,Ay=null;function Qd(s){return s.nodeType===9?s:s.ownerDocument}function Qw(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kw(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Sy(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ty=null;function oN(){var s=window.event;return s&&s.type==="popstate"?s===Ty?!1:(Ty=s,!0):(Ty=null,!1)}var Xw=typeof setTimeout=="function"?setTimeout:void 0,lN=typeof clearTimeout=="function"?clearTimeout:void 0,Zw=typeof Promise=="function"?Promise:void 0,cN=typeof queueMicrotask=="function"?queueMicrotask:typeof Zw<"u"?function(s){return Zw.resolve(null).then(s).catch(uN)}:Xw;function uN(s){setTimeout(function(){throw s})}function xy(s,o){var c=o,d=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(d===0){s.removeChild(m),vu(o);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=m}while(c);vu(o)}function Ry(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Ry(c),Ra(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function hN(s,o,c,d){for(;s.nodeType===1;){var m=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[_s])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Ni(s.nextSibling),s===null)break}return null}function dN(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Ni(s.nextSibling),s===null))return null;return s}function Ni(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}function Jw(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function eA(s,o,c){switch(o=Qd(c),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}var yi=new Map,tA=new Set;function Kd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Gr=ue.d;ue.d={f:fN,r:gN,D:pN,C:mN,L:yN,m:vN,X:bN,S:_N,M:EN};function fN(){var s=Gr.f(),o=Hd();return s||o}function gN(s){var o=Sr(s);o!==null&&o.tag===5&&o.type==="form"?CE(o):Gr.r(s)}var xl=typeof document>"u"?null:document;function nA(s,o,c){var d=xl;if(d&&typeof o=="string"&&o){var m=xt(o);m='link[rel="'+s+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),tA.has(m)||(tA.add(m),s={rel:s,crossOrigin:c,href:o},d.querySelector(m)===null&&(o=d.createElement("link"),dn(o,"link",s),_t(o),d.head.appendChild(o)))}}function pN(s){Gr.D(s),nA("dns-prefetch",s,null)}function mN(s,o){Gr.C(s,o),nA("preconnect",s,o)}function yN(s,o,c){Gr.L(s,o,c);var d=xl;if(d&&s&&o){var m='link[rel="preload"][as="'+xt(o)+'"]';o==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+xt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+xt(c.imageSizes)+'"]')):m+='[href="'+xt(s)+'"]';var y=m;switch(o){case"style":y=Rl(s);break;case"script":y=Cl(s)}yi.has(y)||(s=N({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),yi.set(y,s),d.querySelector(m)!==null||o==="style"&&d.querySelector(hu(y))||o==="script"&&d.querySelector(du(y))||(o=d.createElement("link"),dn(o,"link",s),_t(o),d.head.appendChild(o)))}}function vN(s,o){Gr.m(s,o);var c=xl;if(c&&s){var d=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+xt(d)+'"][href="'+xt(s)+'"]',y=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Cl(s)}if(!yi.has(y)&&(s=N({rel:"modulepreload",href:s},o),yi.set(y,s),c.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(du(y)))return}d=c.createElement("link"),dn(d,"link",s),_t(d),c.head.appendChild(d)}}}function _N(s,o,c){Gr.S(s,o,c);var d=xl;if(d&&s){var m=Es(d).hoistableStyles,y=Rl(s);o=o||"default";var S=m.get(y);if(!S){var C={loading:0,preload:null};if(S=d.querySelector(hu(y)))C.loading=5;else{s=N({rel:"stylesheet",href:s,"data-precedence":o},c),(c=yi.get(y))&&Cy(s,c);var L=S=d.createElement("link");_t(L),dn(L,"link",s),L._p=new Promise(function(q,te){L.onload=q,L.onerror=te}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Xd(S,o,d)}S={type:"stylesheet",instance:S,count:1,state:C},m.set(y,S)}}}function bN(s,o){Gr.X(s,o);var c=xl;if(c&&s){var d=Es(c).hoistableScripts,m=Cl(s),y=d.get(m);y||(y=c.querySelector(du(m)),y||(s=N({src:s,async:!0},o),(o=yi.get(m))&&Dy(s,o),y=c.createElement("script"),_t(y),dn(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function EN(s,o){Gr.M(s,o);var c=xl;if(c&&s){var d=Es(c).hoistableScripts,m=Cl(s),y=d.get(m);y||(y=c.querySelector(du(m)),y||(s=N({src:s,async:!0,type:"module"},o),(o=yi.get(m))&&Dy(s,o),y=c.createElement("script"),_t(y),dn(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function iA(s,o,c,d){var m=(m=Te.current)?Kd(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Rl(c.href),c=Es(m).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Rl(c.href);var y=Es(m).hoistableStyles,S=y.get(s);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,S),(y=m.querySelector(hu(s)))&&!y._p&&(S.instance=y,S.state.loading=5),yi.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},yi.set(s,c),y||wN(m,s,c,S.state))),o&&d===null)throw Error(i(528,""));return S}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Cl(c),c=Es(m).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Rl(s){return'href="'+xt(s)+'"'}function hu(s){return'link[rel="stylesheet"]['+s+"]"}function rA(s){return N({},s,{"data-precedence":s.precedence,precedence:null})}function wN(s,o,c,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),dn(o,"link",c),_t(o),s.head.appendChild(o))}function Cl(s){return'[src="'+xt(s)+'"]'}function du(s){return"script[async]"+s}function sA(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+xt(c.href)+'"]');if(d)return o.instance=d,_t(d),d;var m=N({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),_t(d),dn(d,"style",m),Xd(d,c.precedence,s),o.instance=d;case"stylesheet":m=Rl(c.href);var y=s.querySelector(hu(m));if(y)return o.state.loading|=4,o.instance=y,_t(y),y;d=rA(c),(m=yi.get(m))&&Cy(d,m),y=(s.ownerDocument||s).createElement("link"),_t(y);var S=y;return S._p=new Promise(function(C,L){S.onload=C,S.onerror=L}),dn(y,"link",d),o.state.loading|=4,Xd(y,c.precedence,s),o.instance=y;case"script":return y=Cl(c.src),(m=s.querySelector(du(y)))?(o.instance=m,_t(m),m):(d=c,(m=yi.get(y))&&(d=N({},c),Dy(d,m)),s=s.ownerDocument||s,m=s.createElement("script"),_t(m),dn(m,"link",d),s.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&!(o.state.loading&4)&&(d=o.instance,o.state.loading|=4,Xd(d,c.precedence,s));return o.instance}function Xd(s,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,y=m,S=0;S<d.length;S++){var C=d[S];if(C.dataset.precedence===o)y=C;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function Cy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Dy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Zd=null;function aA(s,o,c){if(Zd===null){var d=new Map,m=Zd=new Map;m.set(c,d)}else m=Zd,d=m.get(c),d||(d=new Map,m.set(c,d));if(d.has(s))return d;for(d.set(s,null),c=c.getElementsByTagName(s),m=0;m<c.length;m++){var y=c[m];if(!(y[_s]||y[Xt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(o)||"";S=s+S;var C=d.get(S);C?C.push(y):d.set(S,[y])}}return d}function oA(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function AN(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function lA(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}var fu=null;function SN(){}function TN(s,o,c){if(fu===null)throw Error(i(475));var d=fu;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&!(o.state.loading&4)){if(o.instance===null){var m=Rl(c.href),y=s.querySelector(hu(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=Jd.bind(d),s.then(d,d)),o.state.loading|=4,o.instance=y,_t(y);return}y=s.ownerDocument||s,c=rA(c),(m=yi.get(m))&&Cy(c,m),y=y.createElement("link"),_t(y);var S=y;S._p=new Promise(function(C,L){S.onload=C,S.onerror=L}),dn(y,"link",c),o.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,s),(s=o.state.preload)&&!(o.state.loading&3)&&(d.count++,o=Jd.bind(d),s.addEventListener("load",o),s.addEventListener("error",o))}}function xN(){if(fu===null)throw Error(i(475));var s=fu;return s.stylesheets&&s.count===0&&Iy(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&Iy(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Jd(){if(this.count--,this.count===0){if(this.stylesheets)Iy(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ef=null;function Iy(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ef=new Map,o.forEach(RN,s),ef=null,Jd.call(s))}function RN(s,o){if(!(o.state.loading&4)){var c=ef.get(s);if(c)var d=c.get(null);else{c=new Map,ef.set(s,c);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),d=S)}d&&c.set(null,d)}m=o.instance,S=m.getAttribute("data-precedence"),y=c.get(S)||d,y===d&&c.set(null,m),c.set(S,m),this.count++,d=Jd.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),o.state.loading|=4}}var gu={$$typeof:b,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function CN(s,o,c,d,m,y,S,C){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fo(0),this.hiddenUpdates=Fo(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function cA(s,o,c,d,m,y,S,C,L,q,te,oe){return s=new CN(s,o,c,S,C,L,q,oe),o=1,y===!0&&(o|=24),y=pi(3,null,null,o),s.current=y,y.stateNode=s,o=lm(),o.refCount++,s.pooledCache=o,o.refCount++,y.memoizedState={element:d,isDehydrated:c,cache:o},Hm(y),s}function uA(s){return s?(s=al,s):al}function hA(s,o,c,d,m,y){m=uA(m),d.context===null?d.context=m:d.pendingContext=m,d=Os(o),d.payload={element:c},y=y===void 0?null:y,y!==null&&(d.callback=y),c=Ps(s,d,o),c!==null&&(Mn(c,s,o),Xc(c,s,o))}function dA(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function ky(s,o){dA(s,o),(s=s.alternate)&&dA(s,o)}function fA(s){if(s.tag===13){var o=Rs(s,67108864);o!==null&&Mn(o,s,67108864),ky(s,67108864)}}var tf=!0;function DN(s,o,c,d){var m=I.T;I.T=null;var y=ue.p;try{ue.p=2,My(s,o,c,d)}finally{ue.p=y,I.T=m}}function IN(s,o,c,d){var m=I.T;I.T=null;var y=ue.p;try{ue.p=8,My(s,o,c,d)}finally{ue.p=y,I.T=m}}function My(s,o,c,d){if(tf){var m=Ny(d);if(m===null)by(s,o,d,nf,c),pA(s,d);else if(MN(m,s,o,c,d))d.stopPropagation();else if(pA(s,d),o&4&&-1<kN.indexOf(s)){for(;m!==null;){var y=Sr(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Ci(y.pendingLanes);if(S!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var L=1<<31-Cn(S);C.entanglements[1]|=L,S&=~L}or(y),!(Et&6)&&(Ud=Pn()+500,lu(0))}}break;case 13:C=Rs(y,2),C!==null&&Mn(C,y,2),Hd(),ky(y,2)}if(y=Ny(d),y===null&&by(s,o,d,nf,c),y===m)break;m=y}m!==null&&d.stopPropagation()}else by(s,o,d,null,c)}}function Ny(s){return s=Yo(s),Oy(s)}var nf=null;function Oy(s){if(nf=null,s=Di(s),s!==null){var o=fe(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=Se(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return nf=s,null}function gA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bh()){case Bt:return 2;case Kt:return 8;case wr:case Hh:return 32;case mc:return 268435456;default:return 32}default:return 32}}var Py=!1,Hs=null,Fs=null,qs=null,pu=new Map,mu=new Map,Ws=[],kN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pA(s,o){switch(s){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":pu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(o.pointerId)}}function yu(s,o,c,d,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Sr(o),o!==null&&fA(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function MN(s,o,c,d,m){switch(o){case"focusin":return Hs=yu(Hs,s,o,c,d,m),!0;case"dragenter":return Fs=yu(Fs,s,o,c,d,m),!0;case"mouseover":return qs=yu(qs,s,o,c,d,m),!0;case"pointerover":var y=m.pointerId;return pu.set(y,yu(pu.get(y)||null,s,o,c,d,m)),!0;case"gotpointercapture":return y=m.pointerId,mu.set(y,yu(mu.get(y)||null,s,o,c,d,m)),!0}return!1}function mA(s){var o=Di(s.target);if(o!==null){var c=fe(o);if(c!==null){if(o=c.tag,o===13){if(o=Se(c),o!==null){s.blockedOn=o,vs(s.priority,function(){if(c.tag===13){var d=Xn(),m=Rs(c,d);m!==null&&Mn(m,c,d),ky(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function rf(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Ny(s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);si=d,c.target.dispatchEvent(d),si=null}else return o=Sr(c),o!==null&&fA(o),s.blockedOn=c,!1;o.shift()}return!0}function yA(s,o,c){rf(s)&&c.delete(o)}function NN(){Py=!1,Hs!==null&&rf(Hs)&&(Hs=null),Fs!==null&&rf(Fs)&&(Fs=null),qs!==null&&rf(qs)&&(qs=null),pu.forEach(yA),mu.forEach(yA)}function sf(s,o){s.blockedOn===o&&(s.blockedOn=null,Py||(Py=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,NN)))}var af=null;function vA(s){af!==s&&(af=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){af===s&&(af=null);for(var o=0;o<s.length;o+=3){var c=s[o],d=s[o+1],m=s[o+2];if(typeof d!="function"){if(Oy(d||c)===null)continue;break}var y=Sr(c);y!==null&&(s.splice(o,3),o-=3,Sm(y,{pending:!0,data:m,method:c.method,action:d},d,m))}}))}function vu(s){function o(L){return sf(L,s)}Hs!==null&&sf(Hs,s),Fs!==null&&sf(Fs,s),qs!==null&&sf(qs,s),pu.forEach(o),mu.forEach(o);for(var c=0;c<Ws.length;c++){var d=Ws[c];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Ws.length&&(c=Ws[0],c.blockedOn===null);)mA(c),c.blockedOn===null&&Ws.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var m=c[d],y=c[d+1],S=m[Ht]||null;if(typeof y=="function")S||vA(c);else if(S){var C=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[Ht]||null)C=S.formAction;else if(Oy(m)!==null)continue}else C=S.action;typeof C=="function"?c[d+1]=C:(c.splice(d,3),d-=3),vA(c)}}}function Ly(s){this._internalRoot=s}of.prototype.render=Ly.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,d=Xn();hA(c,d,s,o,null,null)},of.prototype.unmount=Ly.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;s.tag===0&&Al(),hA(s.current,2,null,s,null,null),Hd(),o[Ar]=null}};function of(s){this._internalRoot=s}of.prototype.unstable_scheduleHydration=function(s){if(s){var o=$h();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Ws.length&&o!==0&&o<Ws[c].priority;c++);Ws.splice(c,0,s),c===0&&mA(s)}};var _A=e.version;if(_A!=="19.0.0")throw Error(i(527,_A,"19.0.0"));ue.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=ae(o),s=s!==null?ge(s):null,s=s===null?null:s.stateNode,s};var ON={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:Di,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{ds=lf.inject(ON),vn=lf}catch{}}return bu.createRoot=function(s,o){if(!r(s))throw Error(i(299));var c=!1,d="",m=LE,y=jE,S=VE,C=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks)),o=cA(s,1,!1,null,null,c,d,m,y,S,C,null),s[Ar]=o.current,_y(s.nodeType===8?s.parentNode:s),new Ly(o)},bu.hydrateRoot=function(s,o,c){if(!r(s))throw Error(i(299));var d=!1,m="",y=LE,S=jE,C=VE,L=null,q=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(C=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(L=c.unstable_transitionCallbacks),c.formState!==void 0&&(q=c.formState)),o=cA(s,1,!0,o,c??null,d,m,y,S,C,L,q),o.context=uA(null),c=o.current,d=Xn(),m=Os(d),m.callback=null,Ps(c,m,d),o.current.lanes=d,It(o,d),or(o),s[Ar]=o.current,_y(s),new of(o)},bu.version="19.0.0",bu}var DA;function GN(){if(DA)return Uy.exports;DA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Uy.exports=WN(),Uy.exports}var $N=GN(),Eu={},IA;function YN(){if(IA)return Eu;IA=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.parse=l,Eu.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,a=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,b){const T=new a,R=_.length;if(R<2)return T;const x=(b==null?void 0:b.decode)||p;let M=0;do{const j=_.indexOf("=",M);if(j===-1)break;const z=_.indexOf(";",M),$=z===-1?R:z;if(j>$){M=_.lastIndexOf(";",j-1)+1;continue}const J=u(_,M,j),ne=h(_,j,J),O=_.slice(J,ne);if(T[O]===void 0){let D=u(_,j+1,$),I=h(_,$,D);const N=x(_.slice(D,I));T[O]=N}M=$+1}while(M<R);return T}function u(_,b,T){do{const R=_.charCodeAt(b);if(R!==32&&R!==9)return b}while(++b<T);return T}function h(_,b,T){for(;b>T;){const R=_.charCodeAt(--b);if(R!==32&&R!==9)return b+1}return T}function f(_,b,T){const R=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const x=R(b);if(!e.test(x))throw new TypeError(`argument val is invalid: ${b}`);let M=_+"="+x;if(!T)return M;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);M+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);M+="; Domain="+T.domain}if(T.path){if(!i.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);M+="; Path="+T.path}if(T.expires){if(!v(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);M+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(M+="; HttpOnly"),T.secure&&(M+="; Secure"),T.partitioned&&(M+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return M}function p(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return r.call(_)==="[object Date]"}return Eu}YN();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kA="popstate";function QN(n={}){function e(r,a){let{pathname:l="/",search:u="",hash:h=""}=Do(r.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Iv("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){let l=r.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=r.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof a=="string"?a:sh(a))}function i(r,a){Ti(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return XN(e,t,i,n)}function vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ti(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KN(){return Math.random().toString(36).substring(2,10)}function MA(n,e){return{usr:n.state,key:n.key,idx:e}}function Iv(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Do(e):e,state:t,key:e&&e.key||i||KN()}}function sh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Do(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function XN(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,l=r.history,u="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function v(){u="POP";let x=p(),M=x==null?null:x-f;f=x,h&&h({action:u,location:R.location,delta:M})}function _(x,M){u="PUSH";let j=Iv(R.location,x,M);t&&t(j,x),f=p()+1;let z=MA(j,f),$=R.createHref(j);try{l.pushState(z,"",$)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;r.location.assign($)}a&&h&&h({action:u,location:R.location,delta:1})}function b(x,M){u="REPLACE";let j=Iv(R.location,x,M);t&&t(j,x),f=p();let z=MA(j,f),$=R.createHref(j);l.replaceState(z,"",$),a&&h&&h({action:u,location:R.location,delta:0})}function T(x){let M=r.location.origin!=="null"?r.location.origin:r.location.href,j=typeof x=="string"?x:sh(x);return j=j.replace(/ $/,"%20"),vt(M,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,M)}let R={get action(){return u},get location(){return n(r,l)},listen(x){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(kA,v),h=x,()=>{r.removeEventListener(kA,v),h=null}},createHref(x){return e(r,x)},createURL:T,encodeLocation(x){let M=T(x);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:b,go(x){return l.go(x)}};return R}function IR(n,e,t="/"){return ZN(n,e,t,!1)}function ZN(n,e,t,i){let r=typeof e=="string"?Do(e):e,a=ua(r.pathname||"/",t);if(a==null)return null;let l=kR(n);JN(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=uO(a);u=lO(l[h],f,i)}return u}function kR(n,e=[],t=[],i=""){let r=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(vt(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=ts([i,h.relativePath]),p=t.concat(h);a.children&&a.children.length>0&&(vt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),kR(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:aO(f,a.index),routesMeta:p})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))r(a,l);else for(let h of MR(a.path))r(a,l,h)}),e}function MR(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let l=MR(i.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),r&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function JN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:oO(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var eO=/^:[\w-]+$/,tO=3,nO=2,iO=1,rO=10,sO=-2,NA=n=>n==="*";function aO(n,e){let t=n.split("/"),i=t.length;return t.some(NA)&&(i+=sO),e&&(i+=nO),t.filter(r=>!NA(r)).reduce((r,a)=>r+(eO.test(a)?tO:a===""?iO:rO),i)}function oO(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function lO(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,p=a==="/"?e:e.slice(a.length)||"/",v=ig({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),_=h.route;if(!v&&f&&t&&!i[i.length-1].route.index&&(v=ig({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(r,v.params),l.push({params:r,pathname:ts([a,v.pathname]),pathnameBase:gO(ts([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=ts([a,v.pathnameBase]))}return l}function ig(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=cO(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:v},_)=>{if(p==="*"){let T=u[_]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const b=u[_];return v&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function cO(n,e=!1,t=!0){Ti(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function uO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ti(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ua(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function hO(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Do(n):n;return{pathname:t?t.startsWith("/")?t:dO(t,e):e,search:pO(i),hash:mO(r)}}function dO(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Fy(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function R_(n){let e=fO(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function C_(n,e,t,i=!1){let r;typeof n=="string"?r=Do(n):(r={...n},vt(!r.pathname||!r.pathname.includes("?"),Fy("?","pathname","search",r)),vt(!r.pathname||!r.pathname.includes("#"),Fy("#","pathname","hash",r)),vt(!r.search||!r.search.includes("#"),Fy("#","search","hash",r)));let a=n===""||r.pathname==="",l=a?"/":r.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;r.pathname=_.join("/")}u=v>=0?e[v]:"/"}let h=hO(r,u),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var ts=n=>n.join("/").replace(/\/\/+/g,"/"),gO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),pO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function yO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var NR=["POST","PUT","PATCH","DELETE"];new Set(NR);var vO=["GET",...NR];new Set(vO);var ic=H.createContext(null);ic.displayName="DataRouter";var Jg=H.createContext(null);Jg.displayName="DataRouterState";var OR=H.createContext({isTransitioning:!1});OR.displayName="ViewTransition";var _O=H.createContext(new Map);_O.displayName="Fetchers";var bO=H.createContext(null);bO.displayName="Await";var zi=H.createContext(null);zi.displayName="Navigation";var Ah=H.createContext(null);Ah.displayName="Location";var xi=H.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var D_=H.createContext(null);D_.displayName="RouteError";function EO(n,{relative:e}={}){vt(rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=H.useContext(zi),{hash:r,pathname:a,search:l}=Sh(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:ts([t,a])),i.createHref({pathname:u,search:l,hash:r})}function rc(){return H.useContext(Ah)!=null}function Bi(){return vt(rc(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Ah).location}var PR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LR(n){H.useContext(zi).static||H.useLayoutEffect(n)}function ba(){let{isDataRoute:n}=H.useContext(xi);return n?LO():wO()}function wO(){vt(rc(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(ic),{basename:e,navigator:t}=H.useContext(zi),{matches:i}=H.useContext(xi),{pathname:r}=Bi(),a=JSON.stringify(R_(i)),l=H.useRef(!1);return LR(()=>{l.current=!0}),H.useCallback((h,f={})=>{if(Ti(l.current,PR),!l.current)return;if(typeof h=="number"){t.go(h);return}let p=C_(h,JSON.parse(a),r,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ts([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,r,n])}var jR=H.createContext(null);function I_(){return H.useContext(jR)}function AO(n){let e=H.useContext(xi).outlet;return e&&H.createElement(jR.Provider,{value:n},e)}function SO(){let{matches:n}=H.useContext(xi),e=n[n.length-1];return e?e.params:{}}function Sh(n,{relative:e}={}){let{matches:t}=H.useContext(xi),{pathname:i}=Bi(),r=JSON.stringify(R_(t));return H.useMemo(()=>C_(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function TO(n,e){return VR(n,e)}function VR(n,e,t,i){var j;vt(rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:a}=H.useContext(zi),{matches:l}=H.useContext(xi),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let z=v&&v.path||"";UR(f,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let _=Bi(),b;if(e){let z=typeof e=="string"?Do(e):e;vt(p==="/"||((j=z.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${z.pathname}" was given in the \`location\` prop.`),b=z}else b=_;let T=b.pathname||"/",R=T;if(p!=="/"){let z=p.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(z.length).join("/")}let x=!a&&t&&t.matches&&t.matches.length>0?t.matches:IR(n,{pathname:R});Ti(v||x!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ti(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=IO(x&&x.map(z=>Object.assign({},z,{params:Object.assign({},h,z.params),pathname:ts([p,r.encodeLocation?r.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?p:ts([p,r.encodeLocation?r.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,t,i);return e&&M?H.createElement(Ah.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function xO(){let n=PO(),e=yO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:a},"ErrorBoundary")," or"," ",H.createElement("code",{style:a},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:r},t):null,l)}var RO=H.createElement(xO,null),CO=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?H.createElement(xi.Provider,{value:this.props.routeContext},H.createElement(D_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DO({routeContext:n,match:e,children:t}){let i=H.useContext(ic);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(xi.Provider,{value:n},t)}function IO(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,a=t==null?void 0:t.errors;if(a!=null){let h=r.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);vt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<r.length;h++){let f=r[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:v}=t,_=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((h,f,p)=>{let v,_=!1,b=null,T=null;t&&(v=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||RO,l&&(u<0&&p===0?(UR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):u===p&&(_=!0,T=f.route.hydrateFallbackElement||null)));let R=e.concat(r.slice(0,p+1)),x=()=>{let M;return v?M=b:_?M=T:f.route.Component?M=H.createElement(f.route.Component,null):f.route.element?M=f.route.element:M=h,H.createElement(DO,{match:f,routeContext:{outlet:h,matches:R,isDataRoute:t!=null},children:M})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?H.createElement(CO,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:x(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):x()},null)}function k_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kO(n){let e=H.useContext(ic);return vt(e,k_(n)),e}function MO(n){let e=H.useContext(Jg);return vt(e,k_(n)),e}function NO(n){let e=H.useContext(xi);return vt(e,k_(n)),e}function M_(n){let e=NO(n),t=e.matches[e.matches.length-1];return vt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function OO(){return M_("useRouteId")}function PO(){var i;let n=H.useContext(D_),e=MO("useRouteError"),t=M_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function LO(){let{router:n}=kO("useNavigate"),e=M_("useNavigate"),t=H.useRef(!1);return LR(()=>{t.current=!0}),H.useCallback(async(r,a={})=>{Ti(t.current,PR),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var OA={};function UR(n,e,t){!e&&!OA[n]&&(OA[n]=!0,Ti(!1,t))}H.memo(jO);function jO({routes:n,future:e,state:t}){return VR(n,void 0,t,e)}function VO({to:n,replace:e,state:t,relative:i}){vt(rc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=H.useContext(zi);Ti(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=H.useContext(xi),{pathname:l}=Bi(),u=ba(),h=C_(n,R_(a),l,i==="path"),f=JSON.stringify(h);return H.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:i})},[u,f,i,e,t]),null}function UO(n){return AO(n.context)}function Nn(n){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zO({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){vt(!rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=H.useMemo(()=>({basename:l,navigator:r,static:a,future:{}}),[l,r,a]);typeof t=="string"&&(t=Do(t));let{pathname:h="/",search:f="",hash:p="",state:v=null,key:_="default"}=t,b=H.useMemo(()=>{let T=ua(h,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:v,key:_},navigationType:i}},[l,h,f,p,v,_,i]);return Ti(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:H.createElement(zi.Provider,{value:u},H.createElement(Ah.Provider,{children:e,value:b}))}function BO({children:n,location:e}){return TO(kv(n),e)}function kv(n,e=[]){let t=[];return H.Children.forEach(n,(i,r)=>{if(!H.isValidElement(i))return;let a=[...e,r];if(i.type===H.Fragment){t.push.apply(t,kv(i.props.children,a));return}vt(i.type===Nn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=kv(i.props.children,a)),t.push(l)}),t}var Uf="get",zf="application/x-www-form-urlencoded";function ep(n){return n!=null&&typeof n.tagName=="string"}function HO(n){return ep(n)&&n.tagName.toLowerCase()==="button"}function FO(n){return ep(n)&&n.tagName.toLowerCase()==="form"}function qO(n){return ep(n)&&n.tagName.toLowerCase()==="input"}function WO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function GO(n,e){return n.button===0&&(!e||e==="_self")&&!WO(n)}var cf=null;function $O(){if(cf===null)try{new FormData(document.createElement("form"),0),cf=!1}catch{cf=!0}return cf}var YO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qy(n){return n!=null&&!YO.has(n)?(Ti(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zf}"`),null):n}function QO(n,e){let t,i,r,a,l;if(FO(n)){let u=n.getAttribute("action");i=u?ua(u,e):null,t=n.getAttribute("method")||Uf,r=qy(n.getAttribute("enctype"))||zf,a=new FormData(n)}else if(HO(n)||qO(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?ua(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Uf,r=qy(n.getAttribute("formenctype"))||qy(u.getAttribute("enctype"))||zf,a=new FormData(u,n),!$O()){let{name:f,type:p,value:v}=n;if(p==="image"){let _=f?`${f}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else f&&a.append(f,v)}}else{if(ep(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Uf,i=null,r=zf,l=n}return a&&r==="text/plain"&&(l=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:l}}function N_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function KO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ZO(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let l=await KO(a,t);return l.links?l.links():[]}return[]}));return n2(i.flat(1).filter(XO).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function PA(n,e,t,i,r,a){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,u=(h,f)=>{var p;return t[f].pathname!==h.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):a==="data"?e.filter((h,f)=>{var v;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function JO(n,e){return e2(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function e2(n){return[...new Set(n)]}function t2(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function n2(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(t2(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function i2(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function r2(){let n=H.useContext(ic);return N_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function s2(){let n=H.useContext(Jg);return N_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var O_=H.createContext(void 0);O_.displayName="FrameworkContext";function zR(){let n=H.useContext(O_);return N_(n,"You must render this element inside a <HydratedRouter> element"),n}function a2(n,e){let t=H.useContext(O_),[i,r]=H.useState(!1),[a,l]=H.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,_=H.useRef(null);H.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=M=>{M.forEach(j=>{l(j.isIntersecting)})},x=new IntersectionObserver(R,{threshold:.5});return _.current&&x.observe(_.current),()=>{x.disconnect()}}},[n]),H.useEffect(()=>{if(i){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[i]);let b=()=>{r(!0)},T=()=>{r(!1),l(!1)};return t?n!=="intent"?[a,_,{}]:[a,_,{onFocus:wu(u,b),onBlur:wu(h,T),onMouseEnter:wu(f,b),onMouseLeave:wu(p,T),onTouchStart:wu(v,b)}]:[!1,_,{}]}function wu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function o2({page:n,...e}){let{router:t}=r2(),i=H.useMemo(()=>IR(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?H.createElement(c2,{page:n,matches:i,...e}):null}function l2(n){let{manifest:e,routeModules:t}=zR(),[i,r]=H.useState([]);return H.useEffect(()=>{let a=!1;return ZO(n,e,t).then(l=>{a||r(l)}),()=>{a=!0}},[n,e,t]),i}function c2({page:n,matches:e,...t}){let i=Bi(),{manifest:r,routeModules:a}=zR(),{loaderData:l,matches:u}=s2(),h=H.useMemo(()=>PA(n,e,u,r,i,"data"),[n,e,u,r,i]),f=H.useMemo(()=>PA(n,e,u,r,i,"assets"),[n,e,u,r,i]),p=H.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,T=!1;if(e.forEach(x=>{var j;let M=r.routes[x.route.id];!M||!M.hasLoader||(!h.some(z=>z.route.id===x.route.id)&&x.route.id in l&&((j=a[x.route.id])!=null&&j.shouldRevalidate)||M.hasClientLoader?T=!0:b.add(x.route.id))}),b.size===0)return[];let R=i2(n);return T&&b.size>0&&R.searchParams.set("_routes",e.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[R.pathname+R.search]},[l,i,r,h,e,n,a]),v=H.useMemo(()=>JO(f,r),[f,r]),_=l2(f);return H.createElement(H.Fragment,null,p.map(b=>H.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>H.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),_.map(({key:b,link:T})=>H.createElement("link",{key:b,...T})))}function u2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var BR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BR&&(window.__reactRouterVersion="7.1.5")}catch{}function h2({basename:n,children:e,window:t}){let i=H.useRef();i.current==null&&(i.current=QN({window:t,v5Compat:!0}));let r=i.current,[a,l]=H.useState({action:r.action,location:r.location}),u=H.useCallback(h=>{H.startTransition(()=>l(h))},[l]);return H.useLayoutEffect(()=>r.listen(u),[r,u]),H.createElement(zO,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}var HR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=H.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:l,state:u,target:h,to:f,preventScrollReset:p,viewTransition:v,..._},b){let{basename:T}=H.useContext(zi),R=typeof f=="string"&&HR.test(f),x,M=!1;if(typeof f=="string"&&R&&(x=f,BR))try{let I=new URL(window.location.href),N=f.startsWith("//")?new URL(I.protocol+f):new URL(f),V=ua(N.pathname,T);N.origin===I.origin&&V!=null?f=V+N.search+N.hash:M=!0}catch{Ti(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=EO(f,{relative:r}),[z,$,J]=a2(i,_),ne=p2(f,{replace:l,state:u,target:h,preventScrollReset:p,relative:r,viewTransition:v});function O(I){e&&e(I),I.defaultPrevented||ne(I)}let D=H.createElement("a",{..._,...J,href:x||j,onClick:M||a?e:O,ref:u2(b,$),target:h,"data-discover":!R&&t==="render"?"true":void 0});return z&&!R?H.createElement(H.Fragment,null,D,H.createElement(o2,{page:j})):D});wt.displayName="Link";var d2=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:l,viewTransition:u,children:h,...f},p){let v=Sh(l,{relative:f.relative}),_=Bi(),b=H.useContext(Jg),{navigator:T,basename:R}=H.useContext(zi),x=b!=null&&b2(v)&&u===!0,M=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,j=_.pathname,z=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(j=j.toLowerCase(),z=z?z.toLowerCase():null,M=M.toLowerCase()),z&&R&&(z=ua(z,R)||z);const $=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let J=j===M||!r&&j.startsWith(M)&&j.charAt($)==="/",ne=z!=null&&(z===M||!r&&z.startsWith(M)&&z.charAt(M.length)==="/"),O={isActive:J,isPending:ne,isTransitioning:x},D=J?e:void 0,I;typeof i=="function"?I=i(O):I=[i,J?"active":null,ne?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(O):a;return H.createElement(wt,{...f,"aria-current":D,className:I,ref:p,style:N,to:l,viewTransition:u},typeof h=="function"?h(O):h)});d2.displayName="NavLink";var f2=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:l=Uf,action:u,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:v,..._},b)=>{let T=v2(),R=_2(u,{relative:f}),x=l.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&HR.test(u),j=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let $=z.nativeEvent.submitter,J=($==null?void 0:$.getAttribute("formmethod"))||l;T($||z.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:r,state:a,relative:f,preventScrollReset:p,viewTransition:v})};return H.createElement("form",{ref:b,method:x,action:R,onSubmit:i?h:j,..._,"data-discover":!M&&n==="render"?"true":void 0})});f2.displayName="Form";function g2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FR(n){let e=H.useContext(ic);return vt(e,g2(n)),e}function p2(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:l}={}){let u=ba(),h=Bi(),f=Sh(n,{relative:a});return H.useCallback(p=>{if(GO(p,e)){p.preventDefault();let v=t!==void 0?t:sh(h)===sh(f);u(n,{replace:v,state:i,preventScrollReset:r,relative:a,viewTransition:l})}},[h,u,f,t,i,e,n,r,a,l])}var m2=0,y2=()=>`__${String(++m2)}__`;function v2(){let{router:n}=FR("useSubmit"),{basename:e}=H.useContext(zi),t=OO();return H.useCallback(async(i,r={})=>{let{action:a,method:l,encType:u,formData:h,body:f}=QO(i,e);if(r.navigate===!1){let p=r.fetcherKey||y2();await n.fetch(p,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function _2(n,{relative:e}={}){let{basename:t}=H.useContext(zi),i=H.useContext(xi);vt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...Sh(n||".",{relative:e})},l=Bi();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let p=u.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ts([t,a.pathname])),sh(a)}function b2(n,e={}){let t=H.useContext(OR);vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=FR("useViewTransitionState"),r=Sh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ua(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=ua(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ig(r.pathname,l)!=null||ig(r.pathname,a)!=null}new TextEncoder;var Mv=DR(),qR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},LA=Ei.createContext&&Ei.createContext(qR),E2=["attr","size","title"];function w2(n,e){if(n==null)return{};var t=A2(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function A2(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function rg(){return rg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rg.apply(this,arguments)}function jA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function sg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jA(Object(t),!0).forEach(function(i){S2(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function S2(n,e,t){return e=T2(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function T2(n){var e=x2(n,"string");return typeof e=="symbol"?e:e+""}function x2(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function WR(n){return n&&n.map((e,t)=>Ei.createElement(e.tag,sg({key:t},e.attr),WR(e.child)))}function GR(n){return e=>Ei.createElement(R2,rg({attr:sg({},n.attr)},e),WR(n.child))}function R2(n){var e=t=>{var{attr:i,size:r,title:a}=n,l=w2(n,E2),u=r||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Ei.createElement("svg",rg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:h,style:sg(sg({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&Ei.createElement("title",null,a),n.children)};return LA!==void 0?Ei.createElement(LA.Consumer,null,t=>e(t)):e(qR)}function C2(n){return GR({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function D2(n){return GR({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}var VA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},I2=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],l=n[t++],u=n[t++],h=((r&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return e.join("")},YR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],l=r+1<n.length,u=l?n[r+1]:0,h=r+2<n.length,f=h?n[r+2]:0,p=a>>2,v=(a&3)<<4|u>>4;let _=(u&15)<<2|f>>6,b=f&63;h||(b=64,l||(_=64)),i.push(t[p],t[v],t[_],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($R(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):I2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],u=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const v=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||u==null||f==null||v==null)throw new k2;const _=a<<2|u>>4;if(i.push(_),f!==64){const b=u<<4&240|f>>2;if(i.push(b),v!==64){const T=f<<6&192|v;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class k2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M2=function(n){const e=$R(n);return YR.encodeByteArray(e,!0)},ag=function(n){return M2(n).replace(/\./g,"")},QR=function(n){try{return YR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=()=>N2().__FIREBASE_DEFAULTS__,P2=()=>{if(typeof process>"u"||typeof VA>"u")return;const n=VA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},L2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&QR(n[1]);return e&&JSON.parse(e)},tp=()=>{try{return O2()||P2()||L2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},KR=n=>{var e,t;return(t=(e=tp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},j2=n=>{const e=KR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},XR=()=>{var n;return(n=tp())===null||n===void 0?void 0:n.config},ZR=n=>{var e;return(e=tp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ag(JSON.stringify(t)),ag(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function B2(){var n;const e=(n=tp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function F2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q2(){const n=Rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function W2(){return!B2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eC(){try{return typeof indexedDB=="object"}catch{return!1}}function tC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function G2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="FirebaseError";class Hi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=$2,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Io.prototype.create)}}class Io{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],l=a?Y2(a,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new Hi(r,u,i)}}function Y2(n,e){return n.replace(Q2,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Q2=/\{\$([^}]+)}/g;function K2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ah(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],l=e[r];if(UA(a)&&UA(l)){if(!ah(a,l))return!1}else if(a!==l)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function UA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Iu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function ku(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function X2(n,e){const t=new Z2(n,e);return t.subscribe.bind(t)}class Z2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");J2(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Wy),r.error===void 0&&(r.error=Wy),r.complete===void 0&&(r.complete=Wy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function J2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=1e3,tP=2,nP=4*60*60*1e3,iP=.5;function zA(n,e=eP,t=tP){const i=e*Math.pow(t,n),r=Math.round(iP*i*(Math.random()-.5)*2);return Math.min(nP,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n){return n&&n._delegate?n._delegate:n}class Pi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new V2;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aP(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sP(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sP(n){return n===ao?void 0:n}function aP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const lP={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},cP=Ue.INFO,uP={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},hP=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=uP[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class np{constructor(e){this.name=e,this._logLevel=cP,this._logHandler=hP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const dP=(n,e)=>e.some(t=>n instanceof t);let BA,HA;function fP(){return BA||(BA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gP(){return HA||(HA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nC=new WeakMap,Nv=new WeakMap,iC=new WeakMap,Gy=new WeakMap,P_=new WeakMap;function pP(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(ra(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&nC.set(t,n)}).catch(()=>{}),P_.set(e,n),e}function mP(n){if(Nv.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Nv.set(n,e)}let Ov={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Nv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||iC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ra(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function yP(n){Ov=n(Ov)}function vP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call($y(this),e,...t);return iC.set(i,e.sort?e.sort():[e]),ra(i)}:gP().includes(n)?function(...e){return n.apply($y(this),e),ra(nC.get(this))}:function(...e){return ra(n.apply($y(this),e))}}function _P(n){return typeof n=="function"?vP(n):(n instanceof IDBTransaction&&mP(n),dP(n,fP())?new Proxy(n,Ov):n)}function ra(n){if(n instanceof IDBRequest)return pP(n);if(Gy.has(n))return Gy.get(n);const e=_P(n);return e!==n&&(Gy.set(n,e),P_.set(e,n)),e}const $y=n=>P_.get(n);function rC(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const l=indexedDB.open(n,e),u=ra(l);return i&&l.addEventListener("upgradeneeded",h=>{i(ra(l.result),h.oldVersion,h.newVersion,ra(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const bP=["get","getKey","getAll","getAllKeys","count"],EP=["put","add","delete","clear"],Yy=new Map;function FA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Yy.get(e))return Yy.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=EP.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||bP.includes(t)))return;const a=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),r&&h.done]))[0]};return Yy.set(e,a),a}yP(n=>({...n,get:(e,t,i)=>FA(e,t)||n.get(e,t,i),has:(e,t)=>!!FA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AP(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function AP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pv="@firebase/app",qA="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new np("@firebase/app"),SP="@firebase/app-compat",TP="@firebase/analytics-compat",xP="@firebase/analytics",RP="@firebase/app-check-compat",CP="@firebase/app-check",DP="@firebase/auth",IP="@firebase/auth-compat",kP="@firebase/database",MP="@firebase/data-connect",NP="@firebase/database-compat",OP="@firebase/functions",PP="@firebase/functions-compat",LP="@firebase/installations",jP="@firebase/installations-compat",VP="@firebase/messaging",UP="@firebase/messaging-compat",zP="@firebase/performance",BP="@firebase/performance-compat",HP="@firebase/remote-config",FP="@firebase/remote-config-compat",qP="@firebase/storage",WP="@firebase/storage-compat",GP="@firebase/firestore",$P="@firebase/vertexai",YP="@firebase/firestore-compat",QP="firebase",KP="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="[DEFAULT]",XP={[Pv]:"fire-core",[SP]:"fire-core-compat",[xP]:"fire-analytics",[TP]:"fire-analytics-compat",[CP]:"fire-app-check",[RP]:"fire-app-check-compat",[DP]:"fire-auth",[IP]:"fire-auth-compat",[kP]:"fire-rtdb",[MP]:"fire-data-connect",[NP]:"fire-rtdb-compat",[OP]:"fire-fn",[PP]:"fire-fn-compat",[LP]:"fire-iid",[jP]:"fire-iid-compat",[VP]:"fire-fcm",[UP]:"fire-fcm-compat",[zP]:"fire-perf",[BP]:"fire-perf-compat",[HP]:"fire-rc",[FP]:"fire-rc-compat",[qP]:"fire-gcs",[WP]:"fire-gcs-compat",[GP]:"fire-fst",[YP]:"fire-fst-compat",[$P]:"fire-vertex","fire-js":"fire-js",[QP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=new Map,ZP=new Map,jv=new Map;function WA(n,e){try{n.container.addComponent(e)}catch(t){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yr(n){const e=n.name;if(jv.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;jv.set(e,n);for(const t of og.values())WA(t,n);for(const t of ZP.values())WA(t,n);return!0}function ko(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _i(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sa=new Io("app","Firebase",JP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=KP;function sC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Lv,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw sa.create("bad-app-name",{appName:String(r)});if(t||(t=XR()),!t)throw sa.create("no-options");const a=og.get(r);if(a){if(ah(t,a.options)&&ah(i,a.config))return a;throw sa.create("duplicate-app",{appName:r})}const l=new oP(r);for(const h of jv.values())l.addComponent(h);const u=new eL(t,i,l);return og.set(r,u),u}function L_(n=Lv){const e=og.get(n);if(!e&&n===Lv&&XR())return sC();if(!e)throw sa.create("no-app",{appName:n});return e}function wi(n,e,t){var i;let r=(i=XP[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(u.join(" "));return}yr(new Pi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="firebase-heartbeat-database",nL=1,oh="firebase-heartbeat-store";let Qy=null;function aC(){return Qy||(Qy=rC(tL,nL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(oh)}catch(t){console.warn(t)}}}}).catch(n=>{throw sa.create("idb-open",{originalErrorMessage:n.message})})),Qy}async function iL(n){try{const t=(await aC()).transaction(oh),i=await t.objectStore(oh).get(oC(n));return await t.done,i}catch(e){if(e instanceof Hi)rs.warn(e.message);else{const t=sa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rs.warn(t.message)}}}async function GA(n,e){try{const i=(await aC()).transaction(oh,"readwrite");await i.objectStore(oh).put(e,oC(n)),await i.done}catch(t){if(t instanceof Hi)rs.warn(t.message);else{const i=sa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});rs.warn(i.message)}}}function oC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=1024,sL=30;class aL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lL(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$A();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>sL){const l=cL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){rs.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$A(),{heartbeatsToSend:i,unsentEntries:r}=oL(this._heartbeatsCache.heartbeats),a=ag(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return rs.warn(t),""}}}function $A(){return new Date().toISOString().substring(0,10)}function oL(n,e=rL){const t=[];let i=n.slice();for(const r of n){const a=t.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),YA(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),YA(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class lL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eC()?tC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await iL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return GA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return GA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function YA(n){return ag(JSON.stringify({version:2,heartbeats:n})).length}function cL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(n){yr(new Pi("platform-logger",e=>new wP(e),"PRIVATE")),yr(new Pi("heartbeat",e=>new aL(e),"PRIVATE")),wi(Pv,qA,n),wi(Pv,qA,"esm2017"),wi("fire-js","")}uL("");function j_(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function lC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hL=lC,cC=new Io("auth","Firebase",lC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=new np("@firebase/auth");function dL(n,...e){lg.logLevel<=Ue.WARN&&lg.warn(`Auth (${sc}): ${n}`,...e)}function Bf(n,...e){lg.logLevel<=Ue.ERROR&&lg.error(`Auth (${sc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(n,...e){throw V_(n,...e)}function fr(n,...e){return V_(n,...e)}function uC(n,e,t){const i=Object.assign(Object.assign({},hL()),{[e]:t});return new Io("auth","Firebase",i).create(e,{appName:n.name})}function ns(n){return uC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return cC.create(n,...e)}function Ce(n,e,...t){if(!n)throw V_(e,...t)}function Zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bf(e),new Error(e)}function ss(n,e){n||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function hC(){return QA()==="http:"||QA()==="https:"}function QA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hC()||JR()||"connection"in navigator)?navigator.onLine:!0}function gL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ss(t>e,"Short delay should be less than long delay!"),this.isMobile=z2()||F2()}get(){return fL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(n,e){ss(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=new xh(3e4,6e4);function br(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Fi(n,e,t,i,r={}){return fC(n,r,async()=>{let a={},l={};i&&(e==="GET"?l=i:a={body:JSON.stringify(i)});const u=Th(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},a);return H2()||(f.referrerPolicy="no-referrer"),dC.fetch()(gC(n,n.config.apiHost,t,u),f)})}async function fC(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},pL),e);try{const r=new vL(n),a=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw uf(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw uf(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw uf(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw uf(n,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw uC(n,p,f);Li(n,p)}}catch(r){if(r instanceof Hi)throw r;Li(n,"network-request-failed",{message:String(r)})}}async function Rh(n,e,t,i,r={}){const a=await Fi(n,e,t,i,r);return"mfaPendingCredential"in a&&Li(n,"multi-factor-auth-required",{_serverResponse:a}),a}function gC(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?U_(n.config,r):`${n.config.apiScheme}://${r}`}function yL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(fr(this.auth,"network-request-failed")),mL.get())})}}function uf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=fr(n,e,i);return r.customData._tokenResponse=t,r}function KA(n){return n!==void 0&&n.enterprise!==void 0}class _L{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bL(n,e){return Fi(n,"GET","/v2/recaptchaConfig",br(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(n,e){return Fi(n,"POST","/v1/accounts:delete",e)}async function pC(n,e){return Fi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wL(n,e=!1){const t=At(n),i=await t.getIdToken(e),r=z_(i);Ce(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:Hu(Ky(r.auth_time)),issuedAtTime:Hu(Ky(r.iat)),expirationTime:Hu(Ky(r.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ky(n){return Number(n)*1e3}function z_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Bf("JWT malformed, contained fewer than 3 sections"),null;try{const r=QR(t);return r?JSON.parse(r):(Bf("Failed to decode base64 JWT payload"),null)}catch(r){return Bf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function XA(n){const e=z_(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Hi&&AL(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function AL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ug(n){var e;const t=n.auth,i=await n.getIdToken(),r=await Wl(n,pC(t,{idToken:i}));Ce(r==null?void 0:r.users.length,t,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?mC(a.providerUserInfo):[],u=xL(n.providerData,l),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),p=h?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Vv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function TL(n){const e=At(n);await ug(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xL(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function mC(n){return n.map(e=>{var{providerId:t}=e,i=j_(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(n,e){const t=await fC(n,{},async()=>{const i=Th({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,l=gC(n,r,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",dC.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function CL(n,e){return Fi(n,"POST","/v2/accounts:revokeToken",br(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=XA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:a}=await RL(e,t);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:a}=t,l=new Vl;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),a&&(Ce(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jr{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,a=j_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Vv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return wL(this,e)}reload(){return TL(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ug(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(ns(this.auth));const e=await this.getIdToken();return await Wl(this,EL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,a,l,u,h,f,p;const v=(i=t.displayName)!==null&&i!==void 0?i:void 0,_=(r=t.email)!==null&&r!==void 0?r:void 0,b=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,T=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,x=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,M=(f=t.createdAt)!==null&&f!==void 0?f:void 0,j=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:z,emailVerified:$,isAnonymous:J,providerData:ne,stsTokenManager:O}=t;Ce(z&&O,e,"internal-error");const D=Vl.fromJSON(this.name,O);Ce(typeof z=="string",e,"internal-error"),$s(v,e.name),$s(_,e.name),Ce(typeof $=="boolean",e,"internal-error"),Ce(typeof J=="boolean",e,"internal-error"),$s(b,e.name),$s(T,e.name),$s(R,e.name),$s(x,e.name),$s(M,e.name),$s(j,e.name);const I=new Jr({uid:z,auth:e,email:_,emailVerified:$,displayName:v,isAnonymous:J,photoURL:T,phoneNumber:b,tenantId:R,stsTokenManager:D,createdAt:M,lastLoginAt:j});return ne&&Array.isArray(ne)&&(I.providerData=ne.map(N=>Object.assign({},N))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,t,i=!1){const r=new Vl;r.updateFromServerResponse(t);const a=new Jr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await ug(a),a}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Ce(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?mC(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),u=new Vl;u.updateFromIdToken(i);const h=new Jr({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Vv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Map;function es(n){ss(n instanceof Function,"Expected a class definition");let e=ZA.get(n);return e?(ss(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ZA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yC.type="NONE";const JA=yC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ul{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Hf(this.userKey,r.apiKey,a),this.fullPersistenceKey=Hf("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ul(es(JA),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=r[0]||es(JA);const l=Hf(i,e.config.apiKey,e.name);let u=null;for(const f of t)try{const p=await f._get(l);if(p){const v=Jr._fromJSON(e,p);f!==a&&(u=v),a=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ul(a,e,i):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Ul(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AC(e))return"Blackberry";if(SC(e))return"Webos";if(_C(e))return"Safari";if((e.includes("chrome/")||bC(e))&&!e.includes("edge/"))return"Chrome";if(wC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function vC(n=Rn()){return/firefox\//i.test(n)}function _C(n=Rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bC(n=Rn()){return/crios\//i.test(n)}function EC(n=Rn()){return/iemobile/i.test(n)}function wC(n=Rn()){return/android/i.test(n)}function AC(n=Rn()){return/blackberry/i.test(n)}function SC(n=Rn()){return/webos/i.test(n)}function B_(n=Rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function DL(n=Rn()){var e;return B_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IL(){return q2()&&document.documentMode===10}function TC(n=Rn()){return B_(n)||wC(n)||SC(n)||AC(n)||/windows phone/i.test(n)||EC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(n,e=[]){let t;switch(n){case"Browser":t=eS(Rn());break;case"Worker":t=`${eS(Rn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(n,e={}){return Fi(n,"GET","/v2/passwordPolicy",br(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=6;class OL{constructor(e){var t,i,r,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:NL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,a,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tS(this),this.idTokenSubscription=new tS(this),this.beforeStateQueue=new kL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=es(t)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Ul.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await pC(this,{idToken:e}),i=await Jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_i(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ug(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_i(this.app))return Promise.reject(ns(this));const t=e?At(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _i(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ML(this),t=new OL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Io("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await CL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&es(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Ul.create(this,[es(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&dL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Mo(n){return At(n)}class tS{constructor(e){this.auth=e,this.observer=null,this.addObserver=X2(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LL(n){ip=n}function RC(n){return ip.loadJS(n)}function jL(){return ip.recaptchaEnterpriseScript}function VL(){return ip.gapiScript}function UL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class zL{constructor(){this.enterprise=new BL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class BL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const HL="recaptcha-enterprise",CC="NO_RECAPTCHA";class FL{constructor(e){this.type=HL,this.auth=Mo(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{bL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new _L(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function r(a,l,u){const h=window.grecaptcha;KA(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(CC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zL().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(u=>{if(!t&&KA(window.grecaptcha))r(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=jL();h.length!==0&&(h+=u),RC(h).then(()=>{r(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function nS(n,e,t,i=!1,r=!1){const a=new FL(n);let l;if(r)l=CC;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Uv(n,e,t,i,r){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await nS(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await nS(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(n,e){const t=ko(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),a=t.getOptions();if(ah(a,e??{}))return r;Li(r,"already-initialized")}return t.initialize({options:e})}function WL(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(es);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function GL(n,e,t){const i=Mo(n);Ce(i._canInitEmulator,i,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=DC(e),{host:l,port:u}=$L(e),h=u===null?"":`:${u}`;i.config.emulator={url:`${a}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})}),YL()}function DC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function $L(n){const e=DC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:iS(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:iS(l)}}}function iS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function YL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function QL(n,e){return Fi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(n,e){return Rh(n,"POST","/v1/accounts:signInWithPassword",br(n,e))}async function XL(n,e){return Fi(n,"POST","/v1/accounts:sendOobCode",br(n,e))}async function ZL(n,e){return XL(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(n,e){return Rh(n,"POST","/v1/accounts:signInWithEmailLink",br(n,e))}async function ej(n,e){return Rh(n,"POST","/v1/accounts:signInWithEmailLink",br(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends H_{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new lh(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new lh(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uv(e,t,"signInWithPassword",KL);case"emailLink":return JL(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uv(e,i,"signUpPassword",QL);case"emailLink":return ej(e,{idToken:t,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(n,e){return Rh(n,"POST","/v1/accounts:signInWithIdp",br(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="http://localhost";class _o extends H_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,a=j_(t,["providerId","signInMethod"]);if(!i||!r)return null;const l=new _o(i,r);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return zl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,zl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zl(e,t)}buildRequest(){const e={requestUri:tj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Th(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ij(n){const e=Iu(ku(n)).link,t=e?Iu(ku(e)).deep_link_id:null,i=Iu(ku(n)).deep_link_id;return(i?Iu(ku(i)).link:null)||i||t||e||n}class F_{constructor(e){var t,i,r,a,l,u;const h=Iu(ku(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,p=(i=h.oobCode)!==null&&i!==void 0?i:null,v=nj((r=h.mode)!==null&&r!==void 0?r:null);Ce(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=ij(e);try{return new F_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.providerId=ac.PROVIDER_ID}static credential(e,t){return lh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=F_.parseLink(t);return Ce(i,"argument-error"),lh._fromEmailAndCode(e,i.code,i.tenantId)}}ac.PROVIDER_ID="password";ac.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ac.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends IC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Ch{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Ch{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _o._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Xr.credential(t,i)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Ch{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Ch{constructor(){super("twitter.com")}static credential(e,t){return _o._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Xs.credential(t,i)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(n,e){return Rh(n,"POST","/v1/accounts:signUp",br(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const a=await Jr._fromIdTokenResponse(e,i,r),l=rS(i);return new bo({user:a,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=rS(i);return new bo({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function rS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends Hi{constructor(e,t,i,r){var a;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,hg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new hg(e,t,i,r)}}function kC(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?hg._fromErrorAndOperation(n,a,e,i):a})}async function sj(n,e,t=!1){const i=await Wl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return bo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(n,e,t=!1){const{auth:i}=n;if(_i(i.app))return Promise.reject(ns(i));const r="reauthenticate";try{const a=await Wl(n,kC(i,r,e,n),t);Ce(a.idToken,i,"internal-error");const l=z_(a.idToken);Ce(l,i,"internal-error");const{sub:u}=l;return Ce(n.uid===u,i,"user-mismatch"),bo._forOperation(n,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Li(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(n,e,t=!1){if(_i(n.app))return Promise.reject(ns(n));const i="signIn",r=await kC(n,i,e),a=await bo._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(a.user),a}async function oj(n,e){return MC(Mo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(n){const e=Mo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lj(n,e,t){if(_i(n.app))return Promise.reject(ns(n));const i=Mo(n),l=await Uv(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rj).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&NC(n),h}),u=await bo._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function cj(n,e,t){return _i(n.app)?Promise.reject(ns(n)):oj(At(n),ac.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&NC(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(n,e){return Fi(n,"POST","/v1/accounts:createAuthUri",br(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(n,e){const t=hC()?cg():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:r}=await uj(At(n),i);return r||[]}async function dj(n,e){const t=At(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await ZL(t.auth,r);a!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(n,e){return Fi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=At(n),a={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Wl(i,fj(i.auth,a));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const u=i.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function pj(n,e,t,i){return At(n).onIdTokenChanged(e,t,i)}function mj(n,e,t){return At(n).beforeAuthStateChanged(e,t)}function OC(n,e,t,i){return At(n).onAuthStateChanged(e,t,i)}function yj(n){return At(n).signOut()}const dg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dg,"1"),this.storage.removeItem(dg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=1e3,_j=10;class LC extends PC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);IL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,_j):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},vj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}LC.type="LOCAL";const bj=LC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC extends PC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jC.type="SESSION";const VC=jC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new rp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:a}=t.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(t.origin,a)),h=await Ej(u);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const f=q_("",20);r.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(_.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function Aj(n){gr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function Sj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Tj(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function xj(){return UC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="firebaseLocalStorageDb",Rj=1,fg="firebaseLocalStorage",BC="fbase_key";class Dh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sp(n,e){return n.transaction([fg],e?"readwrite":"readonly").objectStore(fg)}function Cj(){const n=indexedDB.deleteDatabase(zC);return new Dh(n).toPromise()}function zv(){const n=indexedDB.open(zC,Rj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(fg,{keyPath:BC})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(fg)?e(i):(i.close(),await Cj(),e(await zv()))})})}async function sS(n,e,t){const i=sp(n,!0).put({[BC]:e,value:t});return new Dh(i).toPromise()}async function Dj(n,e){const t=sp(n,!1).get(e),i=await new Dh(t).toPromise();return i===void 0?null:i.value}function aS(n,e){const t=sp(n,!0).delete(e);return new Dh(t).toPromise()}const Ij=800,kj=3;class HC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>kj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rp._getInstance(xj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Sj(),!this.activeServiceWorker)return;this.sender=new wj(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Tj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zv();return await sS(e,dg,"1"),await aS(e,dg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>sS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Dj(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=sp(r,!1).getAll();return new Dh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ij)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HC.type="LOCAL";const Mj=HC;new xh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(n,e){return e?es(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_ extends H_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Oj(n){return MC(n.auth,new W_(n),n.bypassAuthState)}function Pj(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),aj(t,new W_(n),n.bypassAuthState)}async function Lj(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),sj(t,new W_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Oj;case"linkViaPopup":case"linkViaRedirect":return Lj;case"reauthViaPopup":case"reauthViaRedirect":return Pj;default:Li(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new xh(2e3,1e4);class Ll extends FC{constructor(e,t,i,r,a){super(e,t,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Ll.currentPopupAction&&Ll.currentPopupAction.cancel(),Ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jj.get())};e()}}Ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="pendingRedirect",Ff=new Map;class Uj extends FC{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const i=await zj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zj(n,e){const t=Fj(e),i=Hj(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function Bj(n,e){Ff.set(n._key(),e)}function Hj(n){return es(n._redirectPersistence)}function Fj(n){return Hf(Vj,n.config.apiKey,n.name)}async function qj(n,e,t=!1){if(_i(n.app))return Promise.reject(ns(n));const i=Mo(n),r=Nj(i,e),l=await new Uj(i,r,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=10*60*1e3;class Gj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$j(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!qC(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(fr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Wj&&this.cachedEventUids.clear(),this.cachedEventUids.has(oS(e))}saveEventToCache(e){this.cachedEventUids.add(oS(e)),this.lastProcessedEventTime=Date.now()}}function oS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function qC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $j(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj(n,e={}){return Fi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kj=/^https?/;async function Xj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Yj(n);for(const t of e)try{if(Zj(t))return}catch{}Li(n,"unauthorized-domain")}function Zj(n){const e=cg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!Kj.test(t))return!1;if(Qj.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=new xh(3e4,6e4);function lS(){const n=gr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function eV(n){return new Promise((e,t)=>{var i,r,a;function l(){lS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lS(),t(fr(n,"network-request-failed"))},timeout:Jj.get()})}if(!((r=(i=gr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((a=gr().gapi)===null||a===void 0)&&a.load)l();else{const u=UL("iframefcb");return gr()[u]=()=>{gapi.load?l():t(fr(n,"network-request-failed"))},RC(`${VL()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw qf=null,e})}let qf=null;function tV(n){return qf=qf||eV(n),qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=new xh(5e3,15e3),iV="__/auth/iframe",rV="emulator/auth/iframe",sV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oV(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?U_(e,rV):`https://${n.config.authDomain}/${iV}`,i={apiKey:e.apiKey,appName:n.name,v:sc},r=aV.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Th(i).slice(1)}`}async function lV(n){const e=await tV(n),t=gr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:oV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sV,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const l=fr(n,"network-request-failed"),u=gr().setTimeout(()=>{a(l)},nV.get());function h(){gr().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uV=500,hV=600,dV="_blank",fV="http://localhost";class cS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gV(n,e,t,i=uV,r=hV){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},cV),{width:i.toString(),height:r.toString(),top:a,left:l}),f=Rn().toLowerCase();t&&(u=bC(f)?dV:t),vC(f)&&(e=e||fV,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[b,T])=>`${_}${b}=${T},`,"");if(DL(f)&&u!=="_self")return pV(e||"",u),new cS(null);const v=window.open(e||"",u,p);Ce(v,n,"popup-blocked");try{v.focus()}catch{}return new cS(v)}function pV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV="__/auth/handler",yV="emulator/auth/handler",vV=encodeURIComponent("fac");async function uS(n,e,t,i,r,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:sc,eventId:r};if(e instanceof IC){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",K2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))l[p]=v}if(e instanceof Ch){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const h=await n._getAppCheckToken(),f=h?`#${vV}=${encodeURIComponent(h)}`:"";return`${_V(n)}?${Th(u).slice(1)}${f}`}function _V({config:n}){return n.emulator?U_(n,yV):`https://${n.authDomain}/${mV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="webStorageSupport";class bV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VC,this._completeRedirectFn=qj,this._overrideRedirectResult=Bj}async _openPopup(e,t,i,r){var a;ss((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await uS(e,t,i,cg(),r);return gV(e,l,q_())}async _openRedirect(e,t,i,r){await this._originValidation(e);const a=await uS(e,t,i,cg(),r);return Aj(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:a}=this.eventManagers[t];return r?Promise.resolve(r):(ss(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await lV(e),i=new Gj(e);return t.register("authEvent",r=>(Ce(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xy,{type:Xy},r=>{var a;const l=(a=r==null?void 0:r[0])===null||a===void 0?void 0:a[Xy];l!==void 0&&t(!!l),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Xj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return TC()||_C()||B_()}}const EV=bV;var hS="@firebase/auth",dS="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SV(n){yr(new Pi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xC(n)},f=new PL(i,r,a,h);return WL(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),yr(new Pi("auth-internal",e=>{const t=Mo(e.getProvider("auth").getImmediate());return(i=>new wV(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(hS,dS,AV(n)),wi(hS,dS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=5*60,xV=ZR("authIdTokenMaxAge")||TV;let fS=null;const RV=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>xV)return;const r=t==null?void 0:t.token;fS!==r&&(fS=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function CV(n=L_()){const e=ko(n,"auth");if(e.isInitialized())return e.getImmediate();const t=qL(n,{popupRedirectResolver:EV,persistence:[Mj,bj,VC]}),i=ZR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=RV(a.toString());mj(t,l,()=>l(t.currentUser)),pj(t,u=>l(u))}}const r=KR("auth");return r&&GL(t,`http://${r}`),t}function DV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}LL({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const a=fr("internal-error");a.customData=r,t(a)},i.type="text/javascript",i.charset="UTF-8",DV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SV("Browser");var IV="firebase",kV="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(IV,kV,"app");const WC="@firebase/installations",G_="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=1e4,$C=`w:${G_}`,YC="FIS_v2",MV="https://firebaseinstallations.googleapis.com/v1",NV=60*60*1e3,OV="installations",PV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Eo=new Io(OV,PV,LV);function QC(n){return n instanceof Hi&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC({projectId:n}){return`${MV}/projects/${n}/installations`}function XC(n){return{token:n.token,requestStatus:2,expiresIn:VV(n.expiresIn),creationTime:Date.now()}}async function ZC(n,e){const i=(await e.json()).error;return Eo.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function JC({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function jV(n,{refreshToken:e}){const t=JC(n);return t.append("Authorization",UV(e)),t}async function eD(n){const e=await n();return e.status>=500&&e.status<600?n():e}function VV(n){return Number(n.replace("s","000"))}function UV(n){return`${YC} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=KC(n),r=JC(n),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={fid:t,authVersion:YC,appId:n.appId,sdkVersion:$C},u={method:"POST",headers:r,body:JSON.stringify(l)},h=await eD(()=>fetch(i,u));if(h.ok){const f=await h.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:XC(f.authToken)}}else throw await ZC("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=/^[cdef][\w-]{21}$/,Bv="";function FV(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=qV(n);return HV.test(t)?t:Bv}catch{return Bv}}function qV(n){return BV(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new Map;function iD(n,e){const t=ap(n);rD(t,e),WV(t,e)}function rD(n,e){const t=nD.get(n);if(t)for(const i of t)i(e)}function WV(n,e){const t=GV();t&&t.postMessage({key:n,fid:e}),$V()}let fo=null;function GV(){return!fo&&"BroadcastChannel"in self&&(fo=new BroadcastChannel("[Firebase] FID Change"),fo.onmessage=n=>{rD(n.data.key,n.data.fid)}),fo}function $V(){nD.size===0&&fo&&(fo.close(),fo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV="firebase-installations-database",QV=1,wo="firebase-installations-store";let Zy=null;function $_(){return Zy||(Zy=rC(YV,QV,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(wo)}}})),Zy}async function gg(n,e){const t=ap(n),r=(await $_()).transaction(wo,"readwrite"),a=r.objectStore(wo),l=await a.get(t);return await a.put(e,t),await r.done,(!l||l.fid!==e.fid)&&iD(n,e.fid),e}async function sD(n){const e=ap(n),i=(await $_()).transaction(wo,"readwrite");await i.objectStore(wo).delete(e),await i.done}async function op(n,e){const t=ap(n),r=(await $_()).transaction(wo,"readwrite"),a=r.objectStore(wo),l=await a.get(t),u=e(l);return u===void 0?await a.delete(t):await a.put(u,t),await r.done,u&&(!l||l.fid!==u.fid)&&iD(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y_(n){let e;const t=await op(n.appConfig,i=>{const r=KV(i),a=XV(n,r);return e=a.registrationPromise,a.installationEntry});return t.fid===Bv?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function KV(n){const e=n||{fid:FV(),registrationStatus:0};return aD(e)}function XV(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Eo.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=ZV(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:JV(n)}:{installationEntry:e}}async function ZV(n,e){try{const t=await zV(n,e);return gg(n.appConfig,t)}catch(t){throw QC(t)&&t.customData.serverCode===409?await sD(n.appConfig):await gg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function JV(n){let e=await gS(n.appConfig);for(;e.registrationStatus===1;)await tD(100),e=await gS(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await Y_(n);return i||t}return e}function gS(n){return op(n,e=>{if(!e)throw Eo.create("installation-not-found");return aD(e)})}function aD(n){return eU(n)?{fid:n.fid,registrationStatus:0}:n}function eU(n){return n.registrationStatus===1&&n.registrationTime+GC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU({appConfig:n,heartbeatServiceProvider:e},t){const i=nU(n,t),r=jV(n,t),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={installation:{sdkVersion:$C,appId:n.appId}},u={method:"POST",headers:r,body:JSON.stringify(l)},h=await eD(()=>fetch(i,u));if(h.ok){const f=await h.json();return XC(f)}else throw await ZC("Generate Auth Token",h)}function nU(n,{fid:e}){return`${KC(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q_(n,e=!1){let t;const i=await op(n.appConfig,a=>{if(!oD(a))throw Eo.create("not-registered");const l=a.authToken;if(!e&&sU(l))return a;if(l.requestStatus===1)return t=iU(n,e),a;{if(!navigator.onLine)throw Eo.create("app-offline");const u=oU(a);return t=rU(n,u),u}});return t?await t:i.authToken}async function iU(n,e){let t=await pS(n.appConfig);for(;t.authToken.requestStatus===1;)await tD(100),t=await pS(n.appConfig);const i=t.authToken;return i.requestStatus===0?Q_(n,e):i}function pS(n){return op(n,e=>{if(!oD(e))throw Eo.create("not-registered");const t=e.authToken;return lU(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function rU(n,e){try{const t=await tU(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await gg(n.appConfig,i),t}catch(t){if(QC(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await sD(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await gg(n.appConfig,i)}throw t}}function oD(n){return n!==void 0&&n.registrationStatus===2}function sU(n){return n.requestStatus===2&&!aU(n)}function aU(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+NV}function oU(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function lU(n){return n.requestStatus===1&&n.requestTime+GC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(n){const e=n,{installationEntry:t,registrationPromise:i}=await Y_(e);return i?i.catch(console.error):Q_(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uU(n,e=!1){const t=n;return await hU(t),(await Q_(t,e)).token}async function hU(n){const{registrationPromise:e}=await Y_(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(n){if(!n||!n.options)throw Jy("App Configuration");if(!n.name)throw Jy("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Jy(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Jy(n){return Eo.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="installations",fU="installations-internal",gU=n=>{const e=n.getProvider("app").getImmediate(),t=dU(e),i=ko(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},pU=n=>{const e=n.getProvider("app").getImmediate(),t=ko(e,lD).getImmediate();return{getId:()=>cU(t),getToken:r=>uU(t,r)}};function mU(){yr(new Pi(lD,gU,"PUBLIC")),yr(new Pi(fU,pU,"PRIVATE"))}mU();wi(WC,G_);wi(WC,G_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="analytics",yU="firebase_id",vU="origin",_U=60*1e3,bU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",K_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new np("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ei=new Io("analytics","Analytics",EU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(n){if(!n.startsWith(K_)){const e=ei.create("invalid-gtag-resource",{gtagURL:n});return qn.warn(e.message),""}return n}function cD(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function AU(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function SU(n,e){const t=AU("firebase-js-sdk-policy",{createScriptURL:wU}),i=document.createElement("script"),r=`${K_}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function TU(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function xU(n,e,t,i,r,a){const l=i[r];try{if(l)await e[l];else{const h=(await cD(t)).find(f=>f.measurementId===r);h&&await e[h.appId]}}catch(u){qn.error(u)}n("config",r,a)}async function RU(n,e,t,i,r){try{let a=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const u=await cD(t);for(const h of l){const f=u.find(v=>v.measurementId===h),p=f&&e[f.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,r||{})}catch(a){qn.error(a)}}function CU(n,e,t,i){async function r(a,...l){try{if(a==="event"){const[u,h]=l;await RU(n,e,t,u,h)}else if(a==="config"){const[u,h]=l;await xU(n,e,t,i,u,h)}else if(a==="consent"){const[u,h]=l;n("consent",u,h)}else if(a==="get"){const[u,h,f]=l;n("get",u,h,f)}else if(a==="set"){const[u]=l;n("set",u)}else n(a,...l)}catch(u){qn.error(u)}}return r}function DU(n,e,t,i,r){let a=function(...l){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(a=window[r]),window[r]=CU(a,n,e,t),{gtagCore:a,wrappedGtag:window[r]}}function IU(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(K_)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=30,MU=1e3;class NU{constructor(e={},t=MU){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const uD=new NU;function OU(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function PU(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:OU(i)},a=bU.replace("{app-id}",t),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(u=h.error.message)}catch{}throw ei.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function LU(n,e=uD,t){const{appId:i,apiKey:r,measurementId:a}=n.options;if(!i)throw ei.create("no-app-id");if(!r){if(a)return{measurementId:a,appId:i};throw ei.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new UU;return setTimeout(async()=>{u.abort()},_U),hD({appId:i,apiKey:r,measurementId:a},l,u,e)}async function hD(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=uD){var a;const{appId:l,measurementId:u}=n;try{await jU(i,e)}catch(h){if(u)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:u};throw h}try{const h=await PU(n);return r.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!VU(f)){if(r.deleteThrottleMetadata(l),u)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:u};throw h}const p=Number((a=f==null?void 0:f.customData)===null||a===void 0?void 0:a.httpStatus)===503?zA(t,r.intervalMillis,kU):zA(t,r.intervalMillis),v={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return r.setThrottleMetadata(l,v),qn.debug(`Calling attemptFetch again in ${p} millis`),hD(n,v,i,r)}}function jU(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),a=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(a),i(ei.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function VU(n){if(!(n instanceof Hi)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class UU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zU(n,e,t,i,r){if(r&&r.global){n("event",t,i);return}else{const a=await e,l=Object.assign(Object.assign({},i),{send_to:a});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BU(){if(eC())try{await tC()}catch(n){return qn.warn(ei.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return qn.warn(ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function HU(n,e,t,i,r,a,l){var u;const h=LU(n);h.then(b=>{t[b.measurementId]=b.appId,n.options.measurementId&&b.measurementId!==n.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>qn.error(b)),e.push(h);const f=BU().then(b=>{if(b)return i.getId()}),[p,v]=await Promise.all([h,f]);IU(a)||SU(a,p.measurementId),r("js",new Date);const _=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return _[vU]="firebase",_.update=!0,v!=null&&(_[yU]=v),r("config",p.measurementId,_),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e){this.app=e}_delete(){return delete Fu[this.app.options.appId],Promise.resolve()}}let Fu={},mS=[];const yS={};let ev="dataLayer",qU="gtag",vS,dD,_S=!1;function WU(){const n=[];if(JR()&&n.push("This is a browser extension environment."),G2()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=ei.create("invalid-analytics-context",{errorInfo:e});qn.warn(t.message)}}function GU(n,e,t){WU();const i=n.options.appId;if(!i)throw ei.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ei.create("no-api-key");if(Fu[i]!=null)throw ei.create("already-exists",{id:i});if(!_S){TU(ev);const{wrappedGtag:a,gtagCore:l}=DU(Fu,mS,yS,ev,qU);dD=a,vS=l,_S=!0}return Fu[i]=HU(n,mS,yS,e,vS,ev,t),new FU(n)}function $U(n=L_()){n=At(n);const e=ko(n,pg);return e.isInitialized()?e.getImmediate():YU(n)}function YU(n,e={}){const t=ko(n,pg);if(t.isInitialized()){const r=t.getImmediate();if(ah(e,t.getOptions()))return r;throw ei.create("already-initialized")}return t.initialize({options:e})}function QU(n,e,t,i){n=At(n),zU(dD,Fu[n.app.options.appId],e,t,i).catch(r=>qn.error(r))}const bS="@firebase/analytics",ES="0.10.11";function KU(){yr(new Pi(pg,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return GU(i,r,t)},"PUBLIC")),yr(new Pi("analytics-internal",n,"PRIVATE")),wi(bS,ES),wi(bS,ES,"esm2017");function n(e){try{const t=e.getProvider(pg).getImmediate();return{logEvent:(i,r,a)=>QU(t,i,r,a)}}catch(t){throw ei.create("interop-component-reg-failed",{reason:t})}}}KU();var wS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aa,fD;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,D){function I(){}I.prototype=D.prototype,O.D=D.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(N,V,B){for(var P=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)P[Ne-2]=arguments[Ne];return D.prototype[V].apply(N,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,D,I){I||(I=0);var N=Array(16);if(typeof D=="string")for(var V=0;16>V;++V)N[V]=D.charCodeAt(I++)|D.charCodeAt(I++)<<8|D.charCodeAt(I++)<<16|D.charCodeAt(I++)<<24;else for(V=0;16>V;++V)N[V]=D[I++]|D[I++]<<8|D[I++]<<16|D[I++]<<24;D=O.g[0],I=O.g[1],V=O.g[2];var B=O.g[3],P=D+(B^I&(V^B))+N[0]+3614090360&4294967295;D=I+(P<<7&4294967295|P>>>25),P=B+(V^D&(I^V))+N[1]+3905402710&4294967295,B=D+(P<<12&4294967295|P>>>20),P=V+(I^B&(D^I))+N[2]+606105819&4294967295,V=B+(P<<17&4294967295|P>>>15),P=I+(D^V&(B^D))+N[3]+3250441966&4294967295,I=V+(P<<22&4294967295|P>>>10),P=D+(B^I&(V^B))+N[4]+4118548399&4294967295,D=I+(P<<7&4294967295|P>>>25),P=B+(V^D&(I^V))+N[5]+1200080426&4294967295,B=D+(P<<12&4294967295|P>>>20),P=V+(I^B&(D^I))+N[6]+2821735955&4294967295,V=B+(P<<17&4294967295|P>>>15),P=I+(D^V&(B^D))+N[7]+4249261313&4294967295,I=V+(P<<22&4294967295|P>>>10),P=D+(B^I&(V^B))+N[8]+1770035416&4294967295,D=I+(P<<7&4294967295|P>>>25),P=B+(V^D&(I^V))+N[9]+2336552879&4294967295,B=D+(P<<12&4294967295|P>>>20),P=V+(I^B&(D^I))+N[10]+4294925233&4294967295,V=B+(P<<17&4294967295|P>>>15),P=I+(D^V&(B^D))+N[11]+2304563134&4294967295,I=V+(P<<22&4294967295|P>>>10),P=D+(B^I&(V^B))+N[12]+1804603682&4294967295,D=I+(P<<7&4294967295|P>>>25),P=B+(V^D&(I^V))+N[13]+4254626195&4294967295,B=D+(P<<12&4294967295|P>>>20),P=V+(I^B&(D^I))+N[14]+2792965006&4294967295,V=B+(P<<17&4294967295|P>>>15),P=I+(D^V&(B^D))+N[15]+1236535329&4294967295,I=V+(P<<22&4294967295|P>>>10),P=D+(V^B&(I^V))+N[1]+4129170786&4294967295,D=I+(P<<5&4294967295|P>>>27),P=B+(I^V&(D^I))+N[6]+3225465664&4294967295,B=D+(P<<9&4294967295|P>>>23),P=V+(D^I&(B^D))+N[11]+643717713&4294967295,V=B+(P<<14&4294967295|P>>>18),P=I+(B^D&(V^B))+N[0]+3921069994&4294967295,I=V+(P<<20&4294967295|P>>>12),P=D+(V^B&(I^V))+N[5]+3593408605&4294967295,D=I+(P<<5&4294967295|P>>>27),P=B+(I^V&(D^I))+N[10]+38016083&4294967295,B=D+(P<<9&4294967295|P>>>23),P=V+(D^I&(B^D))+N[15]+3634488961&4294967295,V=B+(P<<14&4294967295|P>>>18),P=I+(B^D&(V^B))+N[4]+3889429448&4294967295,I=V+(P<<20&4294967295|P>>>12),P=D+(V^B&(I^V))+N[9]+568446438&4294967295,D=I+(P<<5&4294967295|P>>>27),P=B+(I^V&(D^I))+N[14]+3275163606&4294967295,B=D+(P<<9&4294967295|P>>>23),P=V+(D^I&(B^D))+N[3]+4107603335&4294967295,V=B+(P<<14&4294967295|P>>>18),P=I+(B^D&(V^B))+N[8]+1163531501&4294967295,I=V+(P<<20&4294967295|P>>>12),P=D+(V^B&(I^V))+N[13]+2850285829&4294967295,D=I+(P<<5&4294967295|P>>>27),P=B+(I^V&(D^I))+N[2]+4243563512&4294967295,B=D+(P<<9&4294967295|P>>>23),P=V+(D^I&(B^D))+N[7]+1735328473&4294967295,V=B+(P<<14&4294967295|P>>>18),P=I+(B^D&(V^B))+N[12]+2368359562&4294967295,I=V+(P<<20&4294967295|P>>>12),P=D+(I^V^B)+N[5]+4294588738&4294967295,D=I+(P<<4&4294967295|P>>>28),P=B+(D^I^V)+N[8]+2272392833&4294967295,B=D+(P<<11&4294967295|P>>>21),P=V+(B^D^I)+N[11]+1839030562&4294967295,V=B+(P<<16&4294967295|P>>>16),P=I+(V^B^D)+N[14]+4259657740&4294967295,I=V+(P<<23&4294967295|P>>>9),P=D+(I^V^B)+N[1]+2763975236&4294967295,D=I+(P<<4&4294967295|P>>>28),P=B+(D^I^V)+N[4]+1272893353&4294967295,B=D+(P<<11&4294967295|P>>>21),P=V+(B^D^I)+N[7]+4139469664&4294967295,V=B+(P<<16&4294967295|P>>>16),P=I+(V^B^D)+N[10]+3200236656&4294967295,I=V+(P<<23&4294967295|P>>>9),P=D+(I^V^B)+N[13]+681279174&4294967295,D=I+(P<<4&4294967295|P>>>28),P=B+(D^I^V)+N[0]+3936430074&4294967295,B=D+(P<<11&4294967295|P>>>21),P=V+(B^D^I)+N[3]+3572445317&4294967295,V=B+(P<<16&4294967295|P>>>16),P=I+(V^B^D)+N[6]+76029189&4294967295,I=V+(P<<23&4294967295|P>>>9),P=D+(I^V^B)+N[9]+3654602809&4294967295,D=I+(P<<4&4294967295|P>>>28),P=B+(D^I^V)+N[12]+3873151461&4294967295,B=D+(P<<11&4294967295|P>>>21),P=V+(B^D^I)+N[15]+530742520&4294967295,V=B+(P<<16&4294967295|P>>>16),P=I+(V^B^D)+N[2]+3299628645&4294967295,I=V+(P<<23&4294967295|P>>>9),P=D+(V^(I|~B))+N[0]+4096336452&4294967295,D=I+(P<<6&4294967295|P>>>26),P=B+(I^(D|~V))+N[7]+1126891415&4294967295,B=D+(P<<10&4294967295|P>>>22),P=V+(D^(B|~I))+N[14]+2878612391&4294967295,V=B+(P<<15&4294967295|P>>>17),P=I+(B^(V|~D))+N[5]+4237533241&4294967295,I=V+(P<<21&4294967295|P>>>11),P=D+(V^(I|~B))+N[12]+1700485571&4294967295,D=I+(P<<6&4294967295|P>>>26),P=B+(I^(D|~V))+N[3]+2399980690&4294967295,B=D+(P<<10&4294967295|P>>>22),P=V+(D^(B|~I))+N[10]+4293915773&4294967295,V=B+(P<<15&4294967295|P>>>17),P=I+(B^(V|~D))+N[1]+2240044497&4294967295,I=V+(P<<21&4294967295|P>>>11),P=D+(V^(I|~B))+N[8]+1873313359&4294967295,D=I+(P<<6&4294967295|P>>>26),P=B+(I^(D|~V))+N[15]+4264355552&4294967295,B=D+(P<<10&4294967295|P>>>22),P=V+(D^(B|~I))+N[6]+2734768916&4294967295,V=B+(P<<15&4294967295|P>>>17),P=I+(B^(V|~D))+N[13]+1309151649&4294967295,I=V+(P<<21&4294967295|P>>>11),P=D+(V^(I|~B))+N[4]+4149444226&4294967295,D=I+(P<<6&4294967295|P>>>26),P=B+(I^(D|~V))+N[11]+3174756917&4294967295,B=D+(P<<10&4294967295|P>>>22),P=V+(D^(B|~I))+N[2]+718787259&4294967295,V=B+(P<<15&4294967295|P>>>17),P=I+(B^(V|~D))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+D&4294967295,O.g[1]=O.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+B&4294967295}i.prototype.u=function(O,D){D===void 0&&(D=O.length);for(var I=D-this.blockSize,N=this.B,V=this.h,B=0;B<D;){if(V==0)for(;B<=I;)r(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<D;)if(N[V++]=O.charCodeAt(B++),V==this.blockSize){r(this,N),V=0;break}}else for(;B<D;)if(N[V++]=O[B++],V==this.blockSize){r(this,N),V=0;break}}this.h=V,this.o+=D},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var D=1;D<O.length-8;++D)O[D]=0;var I=8*this.o;for(D=O.length-8;D<O.length;++D)O[D]=I&255,I/=256;for(this.u(O),O=Array(16),D=I=0;4>D;++D)for(var N=0;32>N;N+=8)O[I++]=this.g[D]>>>N&255;return O};function a(O,D){var I=u;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=D(O)}function l(O,D){this.h=D;for(var I=[],N=!0,V=O.length-1;0<=V;V--){var B=O[V]|0;N&&B==D||(I[V]=B,N=!1)}this.g=I}var u={};function h(O){return-128<=O&&128>O?a(O,function(D){return new l([D|0],0>D?-1:0)}):new l([O|0],0>O?-1:0)}function f(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return x(f(-O));for(var D=[],I=1,N=0;O>=I;N++)D[N]=O/I|0,I*=4294967296;return new l(D,0)}function p(O,D){if(O.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O.charAt(0)=="-")return x(p(O.substring(1),D));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=f(Math.pow(D,8)),N=v,V=0;V<O.length;V+=8){var B=Math.min(8,O.length-V),P=parseInt(O.substring(V,V+B),D);8>B?(B=f(Math.pow(D,B)),N=N.j(B).add(f(P))):(N=N.j(I),N=N.add(f(P)))}return N}var v=h(0),_=h(1),b=h(16777216);n=l.prototype,n.m=function(){if(R(this))return-x(this).m();for(var O=0,D=1,I=0;I<this.g.length;I++){var N=this.i(I);O+=(0<=N?N:4294967296+N)*D,D*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(T(this))return"0";if(R(this))return"-"+x(this).toString(O);for(var D=f(Math.pow(O,6)),I=this,N="";;){var V=$(I,D).g;I=M(I,V.j(D));var B=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=V,T(I))return B+N;for(;6>B.length;)B="0"+B;N=B+N}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function T(O){if(O.h!=0)return!1;for(var D=0;D<O.g.length;D++)if(O.g[D]!=0)return!1;return!0}function R(O){return O.h==-1}n.l=function(O){return O=M(this,O),R(O)?-1:T(O)?0:1};function x(O){for(var D=O.g.length,I=[],N=0;N<D;N++)I[N]=~O.g[N];return new l(I,~O.h).add(_)}n.abs=function(){return R(this)?x(this):this},n.add=function(O){for(var D=Math.max(this.g.length,O.g.length),I=[],N=0,V=0;V<=D;V++){var B=N+(this.i(V)&65535)+(O.i(V)&65535),P=(B>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);N=P>>>16,B&=65535,P&=65535,I[V]=P<<16|B}return new l(I,I[I.length-1]&-2147483648?-1:0)};function M(O,D){return O.add(x(D))}n.j=function(O){if(T(this)||T(O))return v;if(R(this))return R(O)?x(this).j(x(O)):x(x(this).j(O));if(R(O))return x(this.j(x(O)));if(0>this.l(b)&&0>O.l(b))return f(this.m()*O.m());for(var D=this.g.length+O.g.length,I=[],N=0;N<2*D;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<O.g.length;V++){var B=this.i(N)>>>16,P=this.i(N)&65535,Ne=O.i(V)>>>16,Ae=O.i(V)&65535;I[2*N+2*V]+=P*Ae,j(I,2*N+2*V),I[2*N+2*V+1]+=B*Ae,j(I,2*N+2*V+1),I[2*N+2*V+1]+=P*Ne,j(I,2*N+2*V+1),I[2*N+2*V+2]+=B*Ne,j(I,2*N+2*V+2)}for(N=0;N<D;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=D;N<2*D;N++)I[N]=0;return new l(I,0)};function j(O,D){for(;(O[D]&65535)!=O[D];)O[D+1]+=O[D]>>>16,O[D]&=65535,D++}function z(O,D){this.g=O,this.h=D}function $(O,D){if(T(D))throw Error("division by zero");if(T(O))return new z(v,v);if(R(O))return D=$(x(O),D),new z(x(D.g),x(D.h));if(R(D))return D=$(O,x(D)),new z(x(D.g),D.h);if(30<O.g.length){if(R(O)||R(D))throw Error("slowDivide_ only works with positive integers.");for(var I=_,N=D;0>=N.l(O);)I=J(I),N=J(N);var V=ne(I,1),B=ne(N,1);for(N=ne(N,2),I=ne(I,2);!T(N);){var P=B.add(N);0>=P.l(O)&&(V=V.add(I),B=P),N=ne(N,1),I=ne(I,1)}return D=M(O,V.j(D)),new z(V,D)}for(V=v;0<=O.l(D);){for(I=Math.max(1,Math.floor(O.m()/D.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),B=f(I),P=B.j(D);R(P)||0<P.l(O);)I-=N,B=f(I),P=B.j(D);T(B)&&(B=_),V=V.add(B),O=M(O,P)}return new z(V,O)}n.A=function(O){return $(this,O).h},n.and=function(O){for(var D=Math.max(this.g.length,O.g.length),I=[],N=0;N<D;N++)I[N]=this.i(N)&O.i(N);return new l(I,this.h&O.h)},n.or=function(O){for(var D=Math.max(this.g.length,O.g.length),I=[],N=0;N<D;N++)I[N]=this.i(N)|O.i(N);return new l(I,this.h|O.h)},n.xor=function(O){for(var D=Math.max(this.g.length,O.g.length),I=[],N=0;N<D;N++)I[N]=this.i(N)^O.i(N);return new l(I,this.h^O.h)};function J(O){for(var D=O.g.length+1,I=[],N=0;N<D;N++)I[N]=O.i(N)<<1|O.i(N-1)>>>31;return new l(I,O.h)}function ne(O,D){var I=D>>5;D%=32;for(var N=O.g.length-I,V=[],B=0;B<N;B++)V[B]=0<D?O.i(B+I)>>>D|O.i(B+I+1)<<32-D:O.i(B+I);return new l(V,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,fD=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,aa=l}).apply(typeof wS<"u"?wS:typeof self<"u"?self:typeof window<"u"?window:{});var hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gD,Mu,pD,Wf,Hv,mD,yD,vD;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,E,A){return g==Array.prototype||g==Object.prototype||(g[E]=A.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof hf=="object"&&hf];for(var E=0;E<g.length;++E){var A=g[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var i=t(this);function r(g,E){if(E)e:{var A=i;g=g.split(".");for(var k=0;k<g.length-1;k++){var G=g[k];if(!(G in A))break e;A=A[G]}g=g[g.length-1],k=A[g],E=E(k),E!=k&&E!=null&&e(A,g,{configurable:!0,writable:!0,value:E})}}function a(g,E){g instanceof String&&(g+="");var A=0,k=!1,G={next:function(){if(!k&&A<g.length){var X=A++;return{value:E(X,g[X]),done:!1}}return k=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}r("Array.prototype.values",function(g){return g||function(){return a(this,function(E,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(g){var E=typeof g;return E=E!="object"?E:g?Array.isArray(g)?"array":E:"null",E=="array"||E=="object"&&typeof g.length=="number"}function f(g){var E=typeof g;return E=="object"&&g!=null||E=="function"}function p(g,E,A){return g.call.apply(g.bind,arguments)}function v(g,E,A){if(!g)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,k),g.apply(E,G)}}return function(){return g.apply(E,arguments)}}function _(g,E,A){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,_.apply(null,arguments)}function b(g,E){var A=Array.prototype.slice.call(arguments,1);return function(){var k=A.slice();return k.push.apply(k,arguments),g.apply(this,k)}}function T(g,E){function A(){}A.prototype=E.prototype,g.aa=E.prototype,g.prototype=new A,g.prototype.constructor=g,g.Qb=function(k,G,X){for(var ce=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ce[qe-2]=arguments[qe];return E.prototype[G].apply(k,ce)}}function R(g){const E=g.length;if(0<E){const A=Array(E);for(let k=0;k<E;k++)A[k]=g[k];return A}return[]}function x(g,E){for(let A=1;A<arguments.length;A++){const k=arguments[A];if(h(k)){const G=g.length||0,X=k.length||0;g.length=G+X;for(let ce=0;ce<X;ce++)g[G+ce]=k[ce]}else g.push(k)}}class M{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function j(g){return/^[\s\xa0]*$/.test(g)}function z(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function $(g){return $[" "](g),g}$[" "]=function(){};var J=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ne(g,E,A){for(const k in g)E.call(A,g[k],k,g)}function O(g,E){for(const A in g)E.call(void 0,g[A],A,g)}function D(g){const E={};for(const A in g)E[A]=g[A];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(g,E){let A,k;for(let G=1;G<arguments.length;G++){k=arguments[G];for(A in k)g[A]=k[A];for(let X=0;X<I.length;X++)A=I[X],Object.prototype.hasOwnProperty.call(k,A)&&(g[A]=k[A])}}function V(g){var E=1;g=g.split(":");const A=[];for(;0<E&&g.length;)A.push(g.shift()),E--;return g.length&&A.push(g.join(":")),A}function B(g){u.setTimeout(()=>{throw g},0)}function P(){var g=Se;let E=null;return g.g&&(E=g.g,g.g=g.g.next,g.g||(g.h=null),E.next=null),E}class Ne{constructor(){this.h=this.g=null}add(E,A){const k=Ae.get();k.set(E,A),this.h?this.h.next=k:this.g=k,this.h=k}}var Ae=new M(()=>new le,g=>g.reset());class le{constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let de,fe=!1,Se=new Ne,U=()=>{const g=u.Promise.resolve(void 0);de=()=>{g.then(ae)}};var ae=()=>{for(var g;g=P();){try{g.h.call(g.g)}catch(A){B(A)}var E=Ae;E.j(g),100>E.h&&(E.h++,g.next=E.g,E.g=g)}fe=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(g,E){this.type=g,this.g=this.target=E,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,E=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const A=()=>{};u.addEventListener("test",A,E),u.removeEventListener("test",A,E)}catch{}return g}();function xe(g,E){if(he.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var A=this.type=g.type,k=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=E,E=g.relatedTarget){if(J){e:{try{$(E.nodeName);var G=!0;break e}catch{}G=!1}G||(E=null)}}else A=="mouseover"?E=g.fromElement:A=="mouseout"&&(E=g.toElement);this.relatedTarget=E,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ee[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&xe.aa.h.call(this)}}T(xe,he);var Ee={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function dt(g,E,A,k,G){this.listener=g,this.proxy=null,this.src=E,this.type=A,this.capture=!!k,this.ha=G,this.key=++Fe,this.da=this.fa=!1}function Je(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function on(g){this.src=g,this.g={},this.h=0}on.prototype.add=function(g,E,A,k,G){var X=g.toString();g=this.g[X],g||(g=this.g[X]=[],this.h++);var ce=Te(g,E,k,G);return-1<ce?(E=g[ce],A||(E.fa=!1)):(E=new dt(E,this.src,X,!!k,G),E.fa=A,g.push(E)),E};function Ri(g,E){var A=E.type;if(A in g.g){var k=g.g[A],G=Array.prototype.indexOf.call(k,E,void 0),X;(X=0<=G)&&Array.prototype.splice.call(k,G,1),X&&(Je(E),g.g[A].length==0&&(delete g.g[A],g.h--))}}function Te(g,E,A,k){for(var G=0;G<g.length;++G){var X=g[G];if(!X.da&&X.listener==E&&X.capture==!!A&&X.ha==k)return G}return-1}var yn="closure_lm_"+(1e6*Math.random()|0),ct={};function ft(g,E,A,k,G){if(Array.isArray(E)){for(var X=0;X<E.length;X++)ft(g,E[X],A,k,G);return null}return A=Bh(A),g&&g[Ye]?g.K(E,A,f(k)?!!k.capture:!1,G):ln(g,E,A,!1,k,G)}function ln(g,E,A,k,G,X){if(!E)throw Error("Invalid event type");var ce=f(G)?!!G.capture:!!G,qe=pc(g);if(qe||(g[yn]=qe=new on(g)),A=qe.add(E,A,k,ce,X),A.proxy)return A;if(k=qi(),A.proxy=k,k.src=g,k.listener=A,g.addEventListener)ue||(G=ce),G===void 0&&(G=!1),g.addEventListener(E.toString(),k,G);else if(g.attachEvent)g.attachEvent(Bo(E.toString()),k);else if(g.addListener&&g.removeListener)g.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return A}function qi(){function g(A){return E.call(g.src,g.listener,A)}const E=Up;return g}function Wi(g,E,A,k,G){if(Array.isArray(E))for(var X=0;X<E.length;X++)Wi(g,E[X],A,k,G);else k=f(k)?!!k.capture:!!k,A=Bh(A),g&&g[Ye]?(g=g.i,E=String(E).toString(),E in g.g&&(X=g.g[E],A=Te(X,A,k,G),-1<A&&(Je(X[A]),Array.prototype.splice.call(X,A,1),X.length==0&&(delete g.g[E],g.h--)))):g&&(g=pc(g))&&(E=g.g[E.toString()],g=-1,E&&(g=Te(E,A,k,G)),(A=-1<g?E[g]:null)&&Er(A))}function Er(g){if(typeof g!="number"&&g&&!g.da){var E=g.src;if(E&&E[Ye])Ri(E.i,g);else{var A=g.type,k=g.proxy;E.removeEventListener?E.removeEventListener(A,k,g.capture):E.detachEvent?E.detachEvent(Bo(A),k):E.addListener&&E.removeListener&&E.removeListener(k),(A=pc(E))?(Ri(A,g),A.h==0&&(A.src=null,E[yn]=null)):Je(g)}}}function Bo(g){return g in ct?ct[g]:ct[g]="on"+g}function Up(g,E){if(g.da)g=!0;else{E=new xe(E,this);var A=g.listener,k=g.ha||g.src;g.fa&&Er(g),g=A.call(k,E)}return g}function pc(g){return g=g[yn],g instanceof on?g:null}var Pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bh(g){return typeof g=="function"?g:(g[Pn]||(g[Pn]=function(E){return g.handleEvent(E)}),g[Pn])}function Bt(){ge.call(this),this.i=new on(this),this.M=this,this.F=null}T(Bt,ge),Bt.prototype[Ye]=!0,Bt.prototype.removeEventListener=function(g,E,A,k){Wi(this,g,E,A,k)};function Kt(g,E){var A,k=g.F;if(k)for(A=[];k;k=k.F)A.push(k);if(g=g.M,k=E.type||E,typeof E=="string")E=new he(E,g);else if(E instanceof he)E.target=E.target||g;else{var G=E;E=new he(k,g),N(E,G)}if(G=!0,A)for(var X=A.length-1;0<=X;X--){var ce=E.g=A[X];G=wr(ce,k,!0,E)&&G}if(ce=E.g=g,G=wr(ce,k,!0,E)&&G,G=wr(ce,k,!1,E)&&G,A)for(X=0;X<A.length;X++)ce=E.g=A[X],G=wr(ce,k,!1,E)&&G}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var g=this.i,E;for(E in g.g){for(var A=g.g[E],k=0;k<A.length;k++)Je(A[k]);delete g.g[E],g.h--}}this.F=null},Bt.prototype.K=function(g,E,A,k){return this.i.add(String(g),E,!1,A,k)},Bt.prototype.L=function(g,E,A,k){return this.i.add(String(g),E,!0,A,k)};function wr(g,E,A,k){if(E=g.i.g[String(E)],!E)return!0;E=E.concat();for(var G=!0,X=0;X<E.length;++X){var ce=E[X];if(ce&&!ce.da&&ce.capture==A){var qe=ce.listener,Ft=ce.ha||ce.src;ce.fa&&Ri(g.i,ce),G=qe.call(Ft,k)!==!1&&G}}return G&&!k.defaultPrevented}function Hh(g,E,A){if(typeof g=="function")A&&(g=_(g,A));else if(g&&typeof g.handleEvent=="function")g=_(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(g,E||0)}function mc(g){g.g=Hh(()=>{g.g=null,g.i&&(g.i=!1,mc(g))},g.l);const E=g.h;g.h=null,g.m.apply(null,E)}class zp extends ge{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:mc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ta(g){ge.call(this),this.h=g,this.g={}}T(Ta,ge);var ds=[];function vn(g){ne(g.g,function(E,A){this.g.hasOwnProperty(A)&&Er(E)},g),g.g={}}Ta.prototype.N=function(){Ta.aa.N.call(this),vn(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yc=u.JSON.stringify,Gi=u.JSON.parse,Cn=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function vc(){}vc.prototype.h=null;function Fh(g){return g.h||(g.h=g.i())}function qh(){}var $i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fs(){he.call(this,"d")}T(fs,he);function Ci(){he.call(this,"c")}T(Ci,he);var ni={},gs=null;function Ho(){return gs=gs||new Bt}ni.La="serverreachability";function _c(g){he.call(this,ni.La,g)}T(_c,he);function ps(g){const E=Ho();Kt(E,new _c(E))}ni.STAT_EVENT="statevent";function Fo(g,E){he.call(this,ni.STAT_EVENT,g),this.stat=E}T(Fo,he);function It(g){const E=Ho();Kt(E,new Fo(E,g))}ni.Ma="timingevent";function Wh(g,E){he.call(this,ni.Ma,g),this.size=E}T(Wh,he);function ms(g,E){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},E)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function Gh(g,E,A,k,G,X){g.info(function(){if(g.g)if(X)for(var ce="",qe=X.split("&"),Ft=0;Ft<qe.length;Ft++){var We=qe[Ft].split("=");if(1<We.length){var Jt=We[0];We=We[1];var qt=Jt.split("_");ce=2<=qt.length&&qt[1]=="type"?ce+(Jt+"="+We+"&"):ce+(Jt+"=redacted&")}}else ce=null;else ce=X;return"XMLHTTP REQ ("+k+") [attempt "+G+"]: "+E+`
`+A+`
`+ce})}function $h(g,E,A,k,G,X,ce){g.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+G+"]: "+E+`
`+A+`
`+X+" "+ce})}function vs(g,E,A,k){g.info(function(){return"XMLHTTP TEXT ("+E+"): "+Xt(g,A)+(k?" "+k:"")})}function Yi(g,E){g.info(function(){return"TIMEOUT: "+E})}ys.prototype.info=function(){};function Xt(g,E){if(!g.g)return E;if(!E)return null;try{var A=JSON.parse(E);if(A){for(g=0;g<A.length;g++)if(Array.isArray(A[g])){var k=A[g];if(!(2>k.length)){var G=k[1];if(Array.isArray(G)&&!(1>G.length)){var X=G[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ce=1;ce<G.length;ce++)G[ce]=""}}}}return yc(A)}catch{return E}}var Ht={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ar={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xa;function qo(){}T(qo,vc),qo.prototype.g=function(){return new XMLHttpRequest},qo.prototype.i=function(){return{}},xa=new qo;function Qi(g,E,A,k){this.j=g,this.i=E,this.l=A,this.R=k||1,this.U=new Ta(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bc}function bc(){this.i=null,this.g="",this.h=!1}var _s={},Ra={};function Di(g,E,A){g.L=1,g.v=Ia(xt(E)),g.m=A,g.P=!0,Sr(g,null)}function Sr(g,E){g.F=Date.now(),_t(g),g.A=xt(g.v);var A=g.A,k=g.R;Array.isArray(k)||(k=[String(k)]),Rr(A.i,"t",k),g.C=0,A=g.j.J,g.h=new bc,g.g=od(g.j,A?E:null,!g.m),0<g.O&&(g.M=new zp(_(g.Y,g,g.g),g.O)),E=g.U,A=g.g,k=g.ca;var G="readystatechange";Array.isArray(G)||(G&&(ds[0]=G.toString()),G=ds);for(var X=0;X<G.length;X++){var ce=ft(A,G[X],k||E.handleEvent,!1,E.h||E);if(!ce)break;E.g[ce.key]=ce}E=g.H?D(g.H):{},g.m?(g.u||(g.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,E)):(g.u="GET",g.g.ea(g.A,g.u,null,E)),ps(),Gh(g.i,g.u,g.A,g.l,g.R,g.m)}Qi.prototype.ca=function(g){g=g.target;const E=this.M;E&&oi(g)==3?E.j():this.Y(g)},Qi.prototype.Y=function(g){try{if(g==this.g)e:{const qt=oi(this.g);var E=this.g.Ba();const kr=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||Jh(this.g)))){this.J||qt!=4||E==7||(E==8||0>=kr?ps(3):ps(2)),Wo(this);var A=this.g.Z();this.X=A;t:if(bs(this)){var k=Jh(this.g);g="";var G=k.length,X=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ln(this),Wn(this);var ce="";break t}this.h.i=new u.TextDecoder}for(E=0;E<G;E++)this.h.h=!0,g+=this.h.i.decode(k[E],{stream:!(X&&E==G-1)});k.length=0,this.h.g+=g,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=A==200,$h(this.i,this.u,this.A,this.l,this.R,qt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Ft=this.g;if((qe=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(qe)){var We=qe;break t}}We=null}if(A=We)vs(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gn(this,A);else{this.o=!1,this.s=3,It(12),Ln(this),Wn(this);break e}}if(this.P){A=!0;let cn;for(;!this.J&&this.C<ce.length;)if(cn=Es(this,ce),cn==Ra){qt==4&&(this.s=4,It(14),A=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==_s){this.s=4,It(15),vs(this.i,this.l,ce,"[Invalid Chunk]"),A=!1;break}else vs(this.i,this.l,cn,null),Gn(this,cn);if(bs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||ce.length!=0||this.h.h||(this.s=1,It(16),A=!1),this.o=this.o&&A,!A)vs(this.i,this.l,ce,"[Invalid Chunked Response]"),Ln(this),Wn(this);else if(0<ce.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),ja(Jt),Jt.M=!0,It(11))}}else vs(this.i,this.l,ce,null),Gn(this,ce);qt==4&&Ln(this),this.o&&!this.J&&(qt==4?rd(this.j,this):(this.o=!1,_t(this)))}else Gp(this.g),A==400&&0<ce.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Ln(this),Wn(this)}}}catch{}finally{}};function bs(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Es(g,E){var A=g.C,k=E.indexOf(`
`,A);return k==-1?Ra:(A=Number(E.substring(A,k)),isNaN(A)?_s:(k+=1,k+A>E.length?Ra:(E=E.slice(k,k+A),g.C=k+A,E)))}Qi.prototype.cancel=function(){this.J=!0,Ln(this)};function _t(g){g.S=Date.now()+g.I,Ec(g,g.I)}function Ec(g,E){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ms(_(g.ba,g),E)}function Wo(g){g.B&&(u.clearTimeout(g.B),g.B=null)}Qi.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Yi(this.i,this.A),this.L!=2&&(ps(),It(17)),Ln(this),this.s=2,Wn(this)):Ec(this,this.S-g)};function Wn(g){g.j.G==0||g.J||rd(g.j,g)}function Ln(g){Wo(g);var E=g.M;E&&typeof E.ma=="function"&&E.ma(),g.M=null,vn(g.U),g.g&&(E=g.g,g.g=null,E.abort(),E.ma())}function Gn(g,E){try{var A=g.j;if(A.G!=0&&(A.g==g||ws(A.h,g))){if(!g.K&&ws(A.h,g)&&A.G==3){try{var k=A.Da.g.parse(E)}catch{k=null}if(Array.isArray(k)&&k.length==3){var G=k;if(G[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<g.F)tl(A),Jo(A);else break e;Mc(A),It(18)}}else A.za=G[1],0<A.za-A.T&&37500>G[2]&&A.F&&A.v==0&&!A.C&&(A.C=ms(_(A.Za,A),6e3));if(1>=Yh(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ir(A,11)}else if((g.K||A.g==g)&&tl(A),!j(E))for(G=A.Da.g.parse(E),E=0;E<G.length;E++){let We=G[E];if(A.T=We[0],We=We[1],A.G==2)if(We[0]=="c"){A.K=We[1],A.ia=We[2];const Jt=We[3];Jt!=null&&(A.la=Jt,A.j.info("VER="+A.la));const qt=We[4];qt!=null&&(A.Aa=qt,A.j.info("SVER="+A.Aa));const kr=We[5];kr!=null&&typeof kr=="number"&&0<kr&&(k=1.5*kr,A.L=k,A.j.info("backChannelRequestTimeoutMs_="+k)),k=A;const cn=g.g;if(cn){const nr=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nr){var X=k.h;X.g||nr.indexOf("spdy")==-1&&nr.indexOf("quic")==-1&&nr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(As(X,X.h),X.h=null))}if(k.D){const Oc=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Oc&&(k.ya=Oc,Qe(k.I,k.D,Oc))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-g.F,A.j.info("Handshake RTT: "+A.R+"ms")),k=A;var ce=g;if(k.qa=ad(k,k.J?k.ia:null,k.W),ce.K){ii(k.h,ce);var qe=ce,Ft=k.L;Ft&&(qe.I=Ft),qe.B&&(Wo(qe),_t(qe)),k.g=ce}else nd(k);0<A.i.length&&el(A)}else We[0]!="stop"&&We[0]!="close"||Ir(A,7);else A.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Ir(A,7):Ic(A):We[0]!="noop"&&A.l&&A.l.ta(We),A.v=0)}}ps(4)}catch{}}var Bp=class{constructor(g,E){this.g=g,this.map=E}};function wc(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ac(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Yh(g){return g.h?1:g.g?g.g.size:0}function ws(g,E){return g.h?g.h==E:g.g?g.g.has(E):!1}function As(g,E){g.g?g.g.add(E):g.h=E}function ii(g,E){g.h&&g.h==E?g.h=null:g.g&&g.g.has(E)&&g.g.delete(E)}wc.prototype.cancel=function(){if(this.i=Dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Dn(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let E=g.i;for(const A of g.g.values())E=E.concat(A.D);return E}return R(g.i)}function Qh(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var E=[],A=g.length,k=0;k<A;k++)E.push(g[k]);return E}E=[],A=0;for(k in g)E[A++]=g[k];return E}function Hp(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var E=[];g=g.length;for(var A=0;A<g;A++)E.push(A);return E}E=[],A=0;for(const k in g)E[A++]=k;return E}}}function Ca(g,E){if(g.forEach&&typeof g.forEach=="function")g.forEach(E,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,E,void 0);else for(var A=Hp(g),k=Qh(g),G=k.length,X=0;X<G;X++)E.call(void 0,k[X],A&&A[X],g)}var Sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Go(g,E){if(g){g=g.split("&");for(var A=0;A<g.length;A++){var k=g[A].indexOf("="),G=null;if(0<=k){var X=g[A].substring(0,k);G=g[A].substring(k+1)}else X=g[A];E(X,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Tr(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Tr){this.h=g.h,Ss(this,g.j),this.o=g.o,this.g=g.g,Da(this,g.s),this.l=g.l;var E=g.i,A=new Ki;A.i=E.i,E.g&&(A.g=new Map(E.g),A.h=E.h),$o(this,A),this.m=g.m}else g&&(E=String(g).match(Sc))?(this.h=!1,Ss(this,E[1]||"",!0),this.o=Ts(E[2]||""),this.g=Ts(E[3]||"",!0),Da(this,E[4]),this.l=Ts(E[5]||"",!0),$o(this,E[6]||"",!0),this.m=Ts(E[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}Tr.prototype.toString=function(){var g=[],E=this.j;E&&g.push(ri(E,Tc,!0),":");var A=this.g;return(A||E=="file")&&(g.push("//"),(E=this.o)&&g.push(ri(E,Tc,!0),"@"),g.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&g.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&g.push("/"),g.push(ri(A,A.charAt(0)=="/"?xc:Kh,!0))),(A=this.i.toString())&&g.push("?",A),(A=this.m)&&g.push("#",ri(A,Wp)),g.join("")};function xt(g){return new Tr(g)}function Ss(g,E,A){g.j=A?Ts(E,!0):E,g.j&&(g.j=g.j.replace(/:$/,""))}function Da(g,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);g.s=E}else g.s=null}function $o(g,E,A){E instanceof Ki?(g.i=E,Rc(g.i,g.h)):(A||(E=ri(E,qp)),g.i=new Ki(E,g.h))}function Qe(g,E,A){g.i.set(E,A)}function Ia(g){return Qe(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Ts(g,E){return g?E?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ri(g,E,A){return typeof g=="string"?(g=encodeURI(g).replace(E,Fp),A&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Fp(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Tc=/[#\/\?@]/g,Kh=/[#\?:]/g,xc=/[#\?]/g,qp=/[#\?@]/g,Wp=/#/g;function Ki(g,E){this.h=this.g=null,this.i=g||null,this.j=!!E}function si(g){g.g||(g.g=new Map,g.h=0,g.i&&Go(g.i,function(E,A){g.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}n=Ki.prototype,n.add=function(g,E){si(this),this.i=null,g=Cr(this,g);var A=this.g.get(g);return A||this.g.set(g,A=[]),A.push(E),this.h+=1,this};function Yo(g,E){si(g),E=Cr(g,E),g.g.has(E)&&(g.i=null,g.h-=g.g.get(E).length,g.g.delete(E))}function xr(g,E){return si(g),E=Cr(g,E),g.g.has(E)}n.forEach=function(g,E){si(this),this.g.forEach(function(A,k){A.forEach(function(G){g.call(E,G,k,this)},this)},this)},n.na=function(){si(this);const g=Array.from(this.g.values()),E=Array.from(this.g.keys()),A=[];for(let k=0;k<E.length;k++){const G=g[k];for(let X=0;X<G.length;X++)A.push(E[k])}return A},n.V=function(g){si(this);let E=[];if(typeof g=="string")xr(this,g)&&(E=E.concat(this.g.get(Cr(this,g))));else{g=Array.from(this.g.values());for(let A=0;A<g.length;A++)E=E.concat(g[A])}return E},n.set=function(g,E){return si(this),this.i=null,g=Cr(this,g),xr(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[E]),this.h+=1,this},n.get=function(g,E){return g?(g=this.V(g),0<g.length?String(g[0]):E):E};function Rr(g,E,A){Yo(g,E),0<A.length&&(g.i=null,g.g.set(Cr(g,E),R(A)),g.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],E=Array.from(this.g.keys());for(var A=0;A<E.length;A++){var k=E[A];const X=encodeURIComponent(String(k)),ce=this.V(k);for(k=0;k<ce.length;k++){var G=X;ce[k]!==""&&(G+="="+encodeURIComponent(String(ce[k]))),g.push(G)}}return this.i=g.join("&")};function Cr(g,E){return E=String(E),g.j&&(E=E.toLowerCase()),E}function Rc(g,E){E&&!g.j&&(si(g),g.i=null,g.g.forEach(function(A,k){var G=k.toLowerCase();k!=G&&(Yo(this,k),Rr(this,G,A))},g)),g.j=E}function Xh(g,E){const A=new ys;if(u.Image){const k=new Image;k.onload=b(ai,A,"TestLoadImage: loaded",!0,E,k),k.onerror=b(ai,A,"TestLoadImage: error",!1,E,k),k.onabort=b(ai,A,"TestLoadImage: abort",!1,E,k),k.ontimeout=b(ai,A,"TestLoadImage: timeout",!1,E,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=g}else E(!1)}function ka(g,E){const A=new ys,k=new AbortController,G=setTimeout(()=>{k.abort(),ai(A,"TestPingServer: timeout",!1,E)},1e4);fetch(g,{signal:k.signal}).then(X=>{clearTimeout(G),X.ok?ai(A,"TestPingServer: ok",!0,E):ai(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(G),ai(A,"TestPingServer: error",!1,E)})}function ai(g,E,A,k,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),k(A)}catch{}}function Ma(){this.g=new Cn}function Xi(g,E,A){const k=A||"";try{Ca(g,function(G,X){let ce=G;f(G)&&(ce=yc(G)),E.push(k+X+"="+encodeURIComponent(ce))})}catch(G){throw E.push(k+"type="+encodeURIComponent("_badmap")),G}}function xs(g){this.l=g.Ub||null,this.j=g.eb||!1}T(xs,vc),xs.prototype.g=function(){return new Dr(this.l,this.j)},xs.prototype.i=function(g){return function(){return g}}({});function Dr(g,E){Bt.call(this),this.D=g,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Dr,Bt),n=Dr.prototype,n.open=function(g,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=E,this.readyState=1,Ji(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(E.body=g),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ji(this)),this.g&&(this.readyState=3,Ji(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cc(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cc(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var E=g.value?g.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!g.done}))&&(this.response=this.responseText+=E)}g.done?Zi(this):Ji(this),this.readyState==3&&Cc(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Zi(this))},n.Qa=function(g){this.g&&(this.response=g,Zi(this))},n.ga=function(){this.g&&Zi(this)};function Zi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ji(g)}n.setRequestHeader=function(g,E){this.u.append(g,E)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,g.push(A[0]+": "+A[1]),A=E.next();return g.join(`\r
`)};function Ji(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Dc(g){let E="";return ne(g,function(A,k){E+=k,E+=":",E+=A,E+=`\r
`}),E}function Zt(g,E,A){e:{for(k in A){var k=!1;break e}k=!0}k||(A=Dc(A),typeof g=="string"?A!=null&&encodeURIComponent(String(A)):Qe(g,E,A))}function nt(g){Bt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(nt,Bt);var Qo=/^https?$/i,Na=["POST","PUT"];n=nt.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,E,A,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);E=E?E.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xa.g(),this.v=this.o?Fh(this.o):Fh(xa),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(E,String(g),!0),this.B=!1}catch(X){Zh(this,X);return}if(g=A||"",A=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var G in k)A.set(G,k[G]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const X of k.keys())A.set(X,k.get(X));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(A.keys()).find(X=>X.toLowerCase()=="content-type"),G=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Na,E,void 0))||k||G||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of A)this.g.setRequestHeader(X,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(g),this.u=!1}catch(X){Zh(this,X)}};function Zh(g,E){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=E,g.m=5,Ko(g),er(g)}function Ko(g){g.A||(g.A=!0,Kt(g,"complete"),Kt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Kt(this,"complete"),Kt(this,"abort"),er(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),er(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Xo(this):this.bb())},n.bb=function(){Xo(this)};function Xo(g){if(g.h&&typeof l<"u"&&(!g.v[1]||oi(g)!=4||g.Z()!=2)){if(g.u&&oi(g)==4)Hh(g.Ea,0,g);else if(Kt(g,"readystatechange"),oi(g)==4){g.h=!1;try{const ce=g.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var A;if(!(A=E)){var k;if(k=ce===0){var G=String(g.D).match(Sc)[1]||null;!G&&u.self&&u.self.location&&(G=u.self.location.protocol.slice(0,-1)),k=!Qo.test(G?G.toLowerCase():"")}A=k}if(A)Kt(g,"complete"),Kt(g,"success");else{g.m=6;try{var X=2<oi(g)?g.g.statusText:""}catch{X=""}g.l=X+" ["+g.Z()+"]",Ko(g)}}finally{er(g)}}}}function er(g,E){if(g.g){Oa(g);const A=g.g,k=g.v[0]?()=>{}:null;g.g=null,g.v=null,E||Kt(g,"ready");try{A.onreadystatechange=k}catch{}}}function Oa(g){g.I&&(u.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function oi(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var E=this.g.responseText;return g&&E.indexOf(g)==0&&(E=E.substring(g.length)),Gi(E)}};function Jh(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Gp(g){const E={};g=(g.g&&2<=oi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<g.length;k++){if(j(g[k]))continue;var A=V(g[k]);const G=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const X=E[G]||[];E[G]=X,X.push(A)}O(E,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pa(g,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[g]||E}function Zo(g){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pa("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pa("baseRetryDelayMs",5e3,g),this.cb=Pa("retryDelaySeedMs",1e4,g),this.Wa=Pa("forwardChannelMaxRetries",2,g),this.wa=Pa("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new wc(g&&g.concurrentRequestLimit),this.Da=new Ma,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Zo.prototype,n.la=8,n.G=1,n.connect=function(g,E,A,k){It(0),this.W=g,this.H=E||{},A&&k!==void 0&&(this.H.OSID=A,this.H.OAID=k),this.F=this.X,this.I=ad(this,null,this.W),el(this)};function Ic(g){if(ed(g),g.G==3){var E=g.U++,A=xt(g.I);if(Qe(A,"SID",g.K),Qe(A,"RID",E),Qe(A,"TYPE","terminate"),La(g,A),E=new Qi(g,g.j,E),E.L=2,E.v=Ia(xt(A)),A=!1,u.navigator&&u.navigator.sendBeacon)try{A=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!A&&u.Image&&(new Image().src=E.v,A=!0),A||(E.g=od(E.j,null),E.g.ea(E.v)),E.F=Date.now(),_t(E)}sd(g)}function Jo(g){g.g&&(ja(g),g.g.cancel(),g.g=null)}function ed(g){Jo(g),g.u&&(u.clearTimeout(g.u),g.u=null),tl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function el(g){if(!Ac(g.h)&&!g.s){g.s=!0;var E=g.Ga;de||U(),fe||(de(),fe=!0),Se.add(E,g),g.B=0}}function $p(g,E){return Yh(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=E.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ms(_(g.Ga,g,E),Nc(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const G=new Qi(this,this.j,g);let X=this.o;if(this.S&&(X?(X=D(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(G.H=X,X=null),this.P)e:{for(var E=0,A=0;A<this.i.length;A++){t:{var k=this.i[A];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(E+=k,4096<E){E=A;break e}if(E===4096||A===this.i.length-1){E=A+1;break e}}E=1e3}else E=1e3;E=td(this,G,E),A=xt(this.I),Qe(A,"RID",g),Qe(A,"CVER",22),this.D&&Qe(A,"X-HTTP-Session-Id",this.D),La(this,A),X&&(this.O?E="headers="+encodeURIComponent(String(Dc(X)))+"&"+E:this.m&&Zt(A,this.m,X)),As(this.h,G),this.Ua&&Qe(A,"TYPE","init"),this.P?(Qe(A,"$req",E),Qe(A,"SID","null"),G.T=!0,Di(G,A,null)):Di(G,A,E),this.G=2}}else this.G==3&&(g?kc(this,g):this.i.length==0||Ac(this.h)||kc(this))};function kc(g,E){var A;E?A=E.l:A=g.U++;const k=xt(g.I);Qe(k,"SID",g.K),Qe(k,"RID",A),Qe(k,"AID",g.T),La(g,k),g.m&&g.o&&Zt(k,g.m,g.o),A=new Qi(g,g.j,A,g.B+1),g.m===null&&(A.H=g.o),E&&(g.i=E.D.concat(g.i)),E=td(g,A,1e3),A.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),As(g.h,A),Di(A,k,E)}function La(g,E){g.H&&ne(g.H,function(A,k){Qe(E,k,A)}),g.l&&Ca({},function(A,k){Qe(E,k,A)})}function td(g,E,A){A=Math.min(g.i.length,A);var k=g.l?_(g.l.Na,g.l,g):null;e:{var G=g.i;let X=-1;for(;;){const ce=["count="+A];X==-1?0<A?(X=G[0].g,ce.push("ofs="+X)):X=0:ce.push("ofs="+X);let qe=!0;for(let Ft=0;Ft<A;Ft++){let We=G[Ft].g;const Jt=G[Ft].map;if(We-=X,0>We)X=Math.max(0,G[Ft].g-100),qe=!1;else try{Xi(Jt,ce,"req"+We+"_")}catch{k&&k(Jt)}}if(qe){k=ce.join("&");break e}}}return g=g.i.splice(0,A),E.D=g,k}function nd(g){if(!g.g&&!g.u){g.Y=1;var E=g.Fa;de||U(),fe||(de(),fe=!0),Se.add(E,g),g.v=0}}function Mc(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ms(_(g.Fa,g),Nc(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,id(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ms(_(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Jo(this),id(this))};function ja(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function id(g){g.g=new Qi(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var E=xt(g.qa);Qe(E,"RID","rpc"),Qe(E,"SID",g.K),Qe(E,"AID",g.T),Qe(E,"CI",g.F?"0":"1"),!g.F&&g.ja&&Qe(E,"TO",g.ja),Qe(E,"TYPE","xmlhttp"),La(g,E),g.m&&g.o&&Zt(E,g.m,g.o),g.L&&(g.g.I=g.L);var A=g.g;g=g.ia,A.L=1,A.v=Ia(xt(E)),A.m=null,A.P=!0,Sr(A,g)}n.Za=function(){this.C!=null&&(this.C=null,Jo(this),Mc(this),It(19))};function tl(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function rd(g,E){var A=null;if(g.g==E){tl(g),ja(g),g.g=null;var k=2}else if(ws(g.h,E))A=E.D,ii(g.h,E),k=1;else return;if(g.G!=0){if(E.o)if(k==1){A=E.m?E.m.length:0,E=Date.now()-E.F;var G=g.B;k=Ho(),Kt(k,new Wh(k,A)),el(g)}else nd(g);else if(G=E.s,G==3||G==0&&0<E.X||!(k==1&&$p(g,E)||k==2&&Mc(g)))switch(A&&0<A.length&&(E=g.h,E.i=E.i.concat(A)),G){case 1:Ir(g,5);break;case 4:Ir(g,10);break;case 3:Ir(g,6);break;default:Ir(g,2)}}}function Nc(g,E){let A=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(A*=2),A*E}function Ir(g,E){if(g.j.info("Error code "+E),E==2){var A=_(g.fb,g),k=g.Xa;const G=!k;k=new Tr(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ss(k,"https"),Ia(k),G?Xh(k.toString(),A):ka(k.toString(),A)}else It(2);g.G=0,g.l&&g.l.sa(E),sd(g),ed(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function sd(g){if(g.G=0,g.ka=[],g.l){const E=Dn(g.h);(E.length!=0||g.i.length!=0)&&(x(g.ka,E),x(g.ka,g.i),g.h.i.length=0,R(g.i),g.i.length=0),g.l.ra()}}function ad(g,E,A){var k=A instanceof Tr?xt(A):new Tr(A);if(k.g!="")E&&(k.g=E+"."+k.g),Da(k,k.s);else{var G=u.location;k=G.protocol,E=E?E+"."+G.hostname:G.hostname,G=+G.port;var X=new Tr(null);k&&Ss(X,k),E&&(X.g=E),G&&Da(X,G),A&&(X.l=A),k=X}return A=g.D,E=g.ya,A&&E&&Qe(k,A,E),Qe(k,"VER",g.la),La(g,k),k}function od(g,E,A){if(E&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=g.Ca&&!g.pa?new nt(new xs({eb:A})):new nt(g.pa),E.Ha(g.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ld(){}n=ld.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function nl(){}nl.prototype.g=function(g,E){return new In(g,E)};function In(g,E){Bt.call(this),this.g=new Zo(E),this.l=g,this.h=E&&E.messageUrlParams||null,g=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(g?g["X-WebChannel-Content-Type"]=E.messageContentType:g={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(g?g["X-WebChannel-Client-Profile"]=E.va:g={"X-WebChannel-Client-Profile":E.va}),this.g.S=g,(g=E&&E.Sb)&&!j(g)&&(this.g.m=g),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!j(E)&&(this.g.D=E,g=this.h,g!==null&&E in g&&(g=this.h,E in g&&delete g[E])),this.j=new tr(this)}T(In,Bt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Ic(this.g)},In.prototype.o=function(g){var E=this.g;if(typeof g=="string"){var A={};A.__data__=g,g=A}else this.u&&(A={},A.__data__=yc(g),g=A);E.i.push(new Bp(E.Ya++,g)),E.G==3&&el(E)},In.prototype.N=function(){this.g.l=null,delete this.j,Ic(this.g),delete this.g,In.aa.N.call(this)};function cd(g){fs.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var E=g.__sm__;if(E){e:{for(const A in E){g=A;break e}g=void 0}(this.i=g)&&(g=this.i,E=E!==null&&g in E?E[g]:void 0),this.data=E}else this.data=g}T(cd,fs);function ud(){Ci.call(this),this.status=1}T(ud,Ci);function tr(g){this.g=g}T(tr,ld),tr.prototype.ua=function(){Kt(this.g,"a")},tr.prototype.ta=function(g){Kt(this.g,new cd(g))},tr.prototype.sa=function(g){Kt(this.g,new ud)},tr.prototype.ra=function(){Kt(this.g,"b")},nl.prototype.createWebChannel=nl.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,vD=function(){return new nl},yD=function(){return Ho()},mD=ni,Hv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ht.NO_ERROR=0,Ht.TIMEOUT=8,Ht.HTTP_ERROR=6,Wf=Ht,Ar.COMPLETE="complete",pD=Ar,qh.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,Mu=qh,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,gD=nt}).apply(typeof hf<"u"?hf:typeof self<"u"?self:typeof window<"u"?window:{});const AS="@firebase/firestore",SS="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new np("@firebase/firestore");function kl(){return Ao.logLevel}function pe(n,...e){if(Ao.logLevel<=Ue.DEBUG){const t=e.map(X_);Ao.debug(`Firestore (${oc}): ${n}`,...t)}}function as(n,...e){if(Ao.logLevel<=Ue.ERROR){const t=e.map(X_);Ao.error(`Firestore (${oc}): ${n}`,...t)}}function Gl(n,...e){if(Ao.logLevel<=Ue.WARN){const t=e.map(X_);Ao.warn(`Firestore (${oc}): ${n}`,...t)}}function X_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n="Unexpected state"){const e=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: `+n;throw as(e),new Error(e)}function it(n,e){n||De()}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Hi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wn.UNAUTHENTICATED))}shutdown(){}}class ZU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JU{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0);let i=this.i;const r=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let a=new is;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new is,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},u=h=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new is)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string"),new _D(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new wn(e)}}class ez{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class tz{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new ez(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nz{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_i(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){it(this.o===void 0);const i=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?r(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new TS(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it(typeof t.token=="string"),this.R=t.token,new TS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=iz(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function He(n,e){return n<e?-1:n>e?1:0}function $l(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=-62135596800,RS=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*RS);return new Yt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xS)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RS}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-xS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Yt(0,0))}static max(){return new Ie(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="__name__";class hr{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(),i===void 0?i=e.length-t:i>e.length-t&&De(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=hr.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=hr.isNumericId(e),r=hr.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?hr.extractNumericId(e).compare(hr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return aa.fromString(e.substring(4,e.length-2))}}class pt extends hr{construct(e,t,i){return new pt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new pt(t)}static emptyPath(){return new pt([])}}const rz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends hr{construct(e,t,i){return new gn(e,t,i)}static isValidIdentifier(e){return rz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CS}static keyField(){return new gn([CS])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new me(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(a(),r++)}if(a(),l)throw new me(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(t)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(pt.fromString(e))}static fromName(e){return new be(pt.fromString(e).popFirst(5))}static empty(){return new be(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=-1;function sz(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ie.fromTimestamp(i===1e9?new Yt(t+1,0):new Yt(t,i));return new ha(r,be.empty(),e)}function az(n){return new ha(n.readTime,n.key,ch)}class ha{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ha(Ie.min(),be.empty(),ch)}static max(){return new ha(Ie.max(),be.empty(),ch)}}function oz(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:He(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==lz)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,i)=>{t(e)})}static reject(e){return new re((t,i)=>{i(e)})}static waitFor(e){return new re((t,i)=>{let r=0,a=0,l=!1;e.forEach(u=>{++r,u.next(()=>{++a,l&&a===r&&t()},h=>i(h))}),l=!0,a===r&&t()})}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next(r=>r?re.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new re((i,r)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const f=h;t(e[f]).next(p=>{l[f]=p,++u,u===a&&i(l)},p=>r(p))}})}static doWhile(e,t){return new re((i,r)=>{const a=()=>{e()===!0?t().next(()=>{a()},r):i()};a()})}}function uz(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function cc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}lp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=-1;function cp(n){return n==null}function mg(n){return n===0&&1/n==-1/0}function hz(n){return typeof n=="number"&&Number.isInteger(n)&&!mg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="";function dz(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DS(e)),e=fz(n.get(t),e);return DS(e)}function fz(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case ED:t+="";break;default:t+=a}}return t}function DS(n){return n+ED+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ea(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function wD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new df(this.root,e,this.comparator,!1)}getReverseIterator(){return new df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new df(this.root,e,this.comparator,!0)}}class df{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??fn.RED,this.left=r??fn.EMPTY,this.right=a??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new fn(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return fn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,t,i,r,a){return this}insert(e,t,i){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kS(this.data.getIterator())}getIteratorFrom(e){return new kS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class kS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new Qt(gn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new AD("Invalid base64 string: "+a):a}}(e);return new mn(t)}static fromUint8Array(e){const t=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(e);return new mn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const gz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(n){if(it(!!n),typeof n=="string"){let e=0;const t=gz.exec(n);if(it(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mt(n.seconds),nanos:Mt(n.nanos)}}function Mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fa(n){return typeof n=="string"?mn.fromBase64String(n):mn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="server_timestamp",TD="__type__",xD="__previous_value__",RD="__local_write_time__";function J_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[TD])===null||t===void 0?void 0:t.stringValue)===SD}function up(n){const e=n.mapValue.fields[xD];return J_(e)?up(e):e}function uh(n){const e=da(n.mapValue.fields[RD].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,t,i,r,a,l,u,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f}}const yg="(default)";class hh{constructor(e,t){this.projectId=e,this.database=t||yg}static empty(){return new hh("","")}get isDefaultDatabase(){return this.database===yg}isEqual(e){return e instanceof hh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="__type__",mz="__max__",ff={mapValue:{}},DD="__vector__",vg="value";function ga(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?J_(n)?4:vz(n)?9007199254740991:yz(n)?10:11:De()}function vr(n,e){if(n===e)return!0;const t=ga(n);if(t!==ga(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return uh(n).isEqual(uh(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=da(r.timestampValue),u=da(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,a){return fa(r.bytesValue).isEqual(fa(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return Mt(r.geoPointValue.latitude)===Mt(a.geoPointValue.latitude)&&Mt(r.geoPointValue.longitude)===Mt(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Mt(r.integerValue)===Mt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=Mt(r.doubleValue),u=Mt(a.doubleValue);return l===u?mg(l)===mg(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return $l(n.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return function(r,a){const l=r.mapValue.fields||{},u=a.mapValue.fields||{};if(IS(l)!==IS(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!vr(l[h],u[h])))return!1;return!0}(n,e);default:return De()}}function dh(n,e){return(n.values||[]).find(t=>vr(t,e))!==void 0}function Yl(n,e){if(n===e)return 0;const t=ga(n),i=ga(e);if(t!==i)return He(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=Mt(a.integerValue||a.doubleValue),h=Mt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return MS(n.timestampValue,e.timestampValue);case 4:return MS(uh(n),uh(e));case 5:return He(n.stringValue,e.stringValue);case 6:return function(a,l){const u=fa(a),h=fa(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const p=He(u[f],h[f]);if(p!==0)return p}return He(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=He(Mt(a.latitude),Mt(l.latitude));return u!==0?u:He(Mt(a.longitude),Mt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return NS(n.arrayValue,e.arrayValue);case 10:return function(a,l){var u,h,f,p;const v=a.fields||{},_=l.fields||{},b=(u=v[vg])===null||u===void 0?void 0:u.arrayValue,T=(h=_[vg])===null||h===void 0?void 0:h.arrayValue,R=He(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0);return R!==0?R:NS(b,T)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===ff.mapValue&&l===ff.mapValue)return 0;if(a===ff.mapValue)return 1;if(l===ff.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const _=He(h[v],p[v]);if(_!==0)return _;const b=Yl(u[h[v]],f[p[v]]);if(b!==0)return b}return He(h.length,p.length)}(n.mapValue,e.mapValue);default:throw De()}}function MS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return He(n,e);const t=da(n),i=da(e),r=He(t.seconds,i.seconds);return r!==0?r:He(t.nanos,i.nanos)}function NS(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=Yl(t[r],i[r]);if(a)return a}return He(t.length,i.length)}function Ql(n){return Fv(n)}function Fv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=da(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return fa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=Fv(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const l of i)a?a=!1:r+=",",r+=`${l}:${Fv(t.fields[l])}`;return r+"}"}(n.mapValue):De()}function Gf(n){switch(ga(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=up(n);return e?16+Gf(e):16;case 5:return 2*n.stringValue.length;case 6:return fa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,a)=>r+Gf(a),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Ea(i.fields,(a,l)=>{r+=a.length+Gf(l)}),r}(n.mapValue);default:throw De()}}function OS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qv(n){return!!n&&"integerValue"in n}function eb(n){return!!n&&"arrayValue"in n}function PS(n){return!!n&&"nullValue"in n}function LS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $f(n){return!!n&&"mapValue"in n}function yz(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[CD])===null||t===void 0?void 0:t.stringValue)===DD}function qu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ea(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=qu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vz(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===mz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!$f(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(t)}setAll(e){let t=gn.emptyPath(),i={},r=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,i,r),i={},r=[],t=u.popLast()}l?i[u.lastSegment()]=qu(l):r.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());$f(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];$f(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ea(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new zn(qu(this.value))}}function ID(n){const e=[];return Ea(n.fields,(t,i)=>{const r=new gn([t]);if($f(i)){const a=ID(i.mapValue).fields;if(a.length===0)e.push(r);else for(const l of a)e.push(r.child(l))}else e.push(r)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,t,i,r,a,l,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new An(e,0,Ie.min(),Ie.min(),Ie.min(),zn.empty(),0)}static newFoundDocument(e,t,i,r){return new An(e,1,t,Ie.min(),i,r,0)}static newNoDocument(e,t){return new An(e,2,t,Ie.min(),Ie.min(),zn.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,Ie.min(),Ie.min(),zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t){this.position=e,this.inclusive=t}}function jS(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],l=n.position[r];if(a.field.isKeyField()?i=be.comparator(be.fromName(l.referenceValue),t.key):i=Yl(l,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function VS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t="asc"){this.field=e,this.dir=t}}function _z(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{}class Ut extends kD{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Ez(e,t,i):t==="array-contains"?new Sz(e,i):t==="in"?new Tz(e,i):t==="not-in"?new xz(e,i):t==="array-contains-any"?new Rz(e,i):new Ut(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new wz(e,i):new Az(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Yl(t,this.value)):t!==null&&ga(this.value)===ga(t)&&this.matchesComparison(Yl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends kD{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ji(e,t)}matches(e){return MD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function MD(n){return n.op==="and"}function ND(n){return bz(n)&&MD(n)}function bz(n){for(const e of n.filters)if(e instanceof ji)return!1;return!0}function Wv(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+Ql(n.value);if(ND(n))return n.filters.map(e=>Wv(e)).join(",");{const e=n.filters.map(t=>Wv(t)).join(",");return`${n.op}(${e})`}}function OD(n,e){return n instanceof Ut?function(i,r){return r instanceof Ut&&i.op===r.op&&i.field.isEqual(r.field)&&vr(i.value,r.value)}(n,e):n instanceof ji?function(i,r){return r instanceof ji&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((a,l,u)=>a&&OD(l,r.filters[u]),!0):!1}(n,e):void De()}function PD(n){return n instanceof Ut?function(t){return`${t.field.canonicalString()} ${t.op} ${Ql(t.value)}`}(n):n instanceof ji?function(t){return t.op.toString()+" {"+t.getFilters().map(PD).join(" ,")+"}"}(n):"Filter"}class Ez extends Ut{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class wz extends Ut{constructor(e,t){super(e,"in",t),this.keys=LD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Az extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=LD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LD(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>be.fromName(i.referenceValue))}class Sz extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eb(t)&&dh(t.arrayValue,this.value)}}class Tz extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&dh(this.value.arrayValue,t)}}class xz extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!dh(this.value.arrayValue,t)}}class Rz extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>dh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e,t=null,i=[],r=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=l,this.endAt=u,this.le=null}}function US(n,e=null,t=[],i=[],r=null,a=null,l=null){return new Cz(n,e,t,i,r,a,l)}function tb(n){const e=Me(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Wv(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),cp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ql(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ql(i)).join(",")),e.le=t}return e.le}function nb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_z(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!OD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VS(n.startAt,e.startAt)&&VS(n.endAt,e.endAt)}function Gv(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t=null,i=[],r=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Dz(n,e,t,i,r,a,l,u){return new Ih(n,e,t,i,r,a,l,u)}function ib(n){return new Ih(n)}function zS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function jD(n){return n.collectionGroup!==null}function Wu(n){const e=Me(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Qt(gn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new bg(a,i))}),t.has(gn.keyField().canonicalString())||e.he.push(new bg(gn.keyField(),i))}return e.he}function pr(n){const e=Me(n);return e.Pe||(e.Pe=Iz(e,Wu(n))),e.Pe}function Iz(n,e){if(n.limitType==="F")return US(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new bg(r.field,a)});const t=n.endAt?new _g(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new _g(n.startAt.position,n.startAt.inclusive):null;return US(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function $v(n,e){const t=n.filters.concat([e]);return new Ih(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Yv(n,e,t){return new Ih(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hp(n,e){return nb(pr(n),pr(e))&&n.limitType===e.limitType}function VD(n){return`${tb(pr(n))}|lt:${n.limitType}`}function Ml(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>PD(r)).join(", ")}]`),cp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Ql(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Ql(r)).join(",")),`Target(${i})`}(pr(n))}; limitType=${n.limitType})`}function dp(n,e){return e.isFoundDocument()&&function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):be.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,r){for(const a of Wu(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(l,u,h){const f=jS(l,u,h);return l.inclusive?f<=0:f<0}(i.startAt,Wu(i),r)||i.endAt&&!function(l,u,h){const f=jS(l,u,h);return l.inclusive?f>=0:f>0}(i.endAt,Wu(i),r))}(n,e)}function kz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function UD(n){return(e,t)=>{let i=!1;for(const r of Wu(n)){const a=Mz(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function Mz(n,e,t){const i=n.field.isKeyField()?be.comparator(e.key,t.key):function(a,l,u){const h=l.data.field(a),f=u.data.field(a);return h!==null&&f!==null?Yl(h,f):De()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return wD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz=new St(be.comparator);function os(){return Nz}const zD=new St(be.comparator);function Nu(...n){let e=zD;for(const t of n)e=e.insert(t.key,t);return e}function BD(n){let e=zD;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function go(){return Gu()}function HD(){return Gu()}function Gu(){return new No(n=>n.toString(),(n,e)=>n.isEqual(e))}const Oz=new St(be.comparator),Pz=new Qt(be.comparator);function ze(...n){let e=Pz;for(const t of n)e=e.add(t);return e}const Lz=new Qt(He);function jz(){return Lz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mg(e)?"-0":e}}function FD(n){return{integerValue:""+n}}function Vz(n,e){return hz(e)?FD(e):rb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this._=void 0}}function Uz(n,e,t){return n instanceof Eg?function(r,a){const l={fields:{[TD]:{stringValue:SD},[RD]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&J_(a)&&(a=up(a)),a&&(l.fields[xD]=a),{mapValue:l}}(t,e):n instanceof fh?WD(n,e):n instanceof gh?GD(n,e):function(r,a){const l=qD(r,a),u=BS(l)+BS(r.Ie);return qv(l)&&qv(r.Ie)?FD(u):rb(r.serializer,u)}(n,e)}function zz(n,e,t){return n instanceof fh?WD(n,e):n instanceof gh?GD(n,e):t}function qD(n,e){return n instanceof wg?function(i){return qv(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Eg extends fp{}class fh extends fp{constructor(e){super(),this.elements=e}}function WD(n,e){const t=$D(e);for(const i of n.elements)t.some(r=>vr(r,i))||t.push(i);return{arrayValue:{values:t}}}class gh extends fp{constructor(e){super(),this.elements=e}}function GD(n,e){let t=$D(e);for(const i of n.elements)t=t.filter(r=>!vr(r,i));return{arrayValue:{values:t}}}class wg extends fp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function BS(n){return Mt(n.integerValue||n.doubleValue)}function $D(n){return eb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Bz(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof fh&&r instanceof fh||i instanceof gh&&r instanceof gh?$l(i.elements,r.elements,vr):i instanceof wg&&r instanceof wg?vr(i.Ie,r.Ie):i instanceof Eg&&r instanceof Eg}(n.transform,e.transform)}class Hz{constructor(e,t){this.version=e,this.transformResults=t}}class Ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class gp{}function YD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sb(n.key,Ai.none()):new kh(n.key,n.data,Ai.none());{const t=n.data,i=zn.empty();let r=new Qt(gn.comparator);for(let a of e.fields)if(!r.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?i.delete(a):i.set(a,l),r=r.add(a)}return new wa(n.key,i,new Jn(r.toArray()),Ai.none())}}function Fz(n,e,t){n instanceof kh?function(r,a,l){const u=r.value.clone(),h=FS(r.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof wa?function(r,a,l){if(!Yf(r.precondition,a))return void a.convertToUnknownDocument(l.version);const u=FS(r.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(QD(r)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(r,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function $u(n,e,t,i){return n instanceof kh?function(a,l,u,h){if(!Yf(a.precondition,l))return u;const f=a.value.clone(),p=qS(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof wa?function(a,l,u,h){if(!Yf(a.precondition,l))return u;const f=qS(a.fieldTransforms,h,l),p=l.data;return p.setAll(QD(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(a,l,u){return Yf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function qz(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=qD(i.transform,r||null);a!=null&&(t===null&&(t=zn.empty()),t.set(i.field,a))}return t||null}function HS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&$l(i,r,(a,l)=>Bz(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class kh extends gp{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wa extends gp{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function QD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function FS(n,e,t){const i=new Map;it(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],l=a.transform,u=e.data.field(a.field);i.set(a.field,zz(l,u,t[r]))}return i}function qS(n,e,t){const i=new Map;for(const r of n){const a=r.transform,l=t.data.field(r.field);i.set(r.field,Uz(a,l,e))}return i}class sb extends gp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wz extends gp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&Fz(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=$u(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=$u(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=HD();return this.mutations.forEach(r=>{const a=e.get(r.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(r.key)?null:u;const h=YD(l,u);h!==null&&i.set(r.key,h),l.isValidDocument()||l.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,(t,i)=>HS(t,i))&&$l(this.baseMutations,e.baseMutations,(t,i)=>HS(t,i))}}class ab{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){it(e.mutations.length===i.length);let r=function(){return Oz}();const a=e.mutations;for(let l=0;l<a.length;l++)r=r.insert(a[l].key,i[l].version);return new ab(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,$e;function Qz(n){switch(n){case se.OK:return De();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return De()}}function KD(n){if(n===void 0)return as("GRPC error has no .code"),se.UNKNOWN;switch(n){case Vt.OK:return se.OK;case Vt.CANCELLED:return se.CANCELLED;case Vt.UNKNOWN:return se.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return se.INTERNAL;case Vt.UNAVAILABLE:return se.UNAVAILABLE;case Vt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Vt.NOT_FOUND:return se.NOT_FOUND;case Vt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Vt.ABORTED:return se.ABORTED;case Vt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Vt.DATA_LOSS:return se.DATA_LOSS;default:return De()}}($e=Vt||(Vt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=new aa([4294967295,4294967295],0);function WS(n){const e=Kz().encode(n),t=new fD;return t.update(e),new Uint8Array(t.digest())}function GS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new aa([t,i],0),new aa([r,a],0)]}class ob{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ou(`Invalid padding: ${t}`);if(i<0)throw new Ou(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=aa.fromNumber(this.Ee)}Ae(e,t,i){let r=e.add(t.multiply(aa.fromNumber(i)));return r.compare(Xz)===1&&(r=new aa([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=WS(e),[i,r]=GS(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,r,a);if(!this.Re(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new ob(a,r,t);return i.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=WS(e),[i,r]=GS(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,r,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Mh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new pp(Ie.min(),r,new St(He),os(),ze())}}class Mh{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Mh(i,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t,i,r){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=r}}class XD{constructor(e,t){this.targetId=e,this.ge=t}}class ZD{constructor(e,t,i=mn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class $S{constructor(){this.pe=0,this.ye=YS(),this.we=mn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ze(),t=ze(),i=ze();return this.ye.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:De()}}),new Mh(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=YS()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,it(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Zz{constructor(e){this.ke=e,this.qe=new Map,this.Qe=os(),this.$e=gf(),this.Ke=gf(),this.Ue=new St(He)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:De()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,r)=>{this.Je(r)&&t(r)})}Ze(e){const t=e.targetId,i=e.ge.count,r=this.Xe(t);if(r){const a=r.target;if(Gv(a))if(i===0){const l=new be(a.path);this.ze(t,l,An.newNoDocument(l,Ie.min()))}else it(i===1);else{const l=this.et(t);if(l!==i){const u=this.tt(e),h=u?this.nt(u,e,l):1;if(h!==0){this.Ye(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let l,u;try{l=fa(i).toUint8Array()}catch(h){if(h instanceof AD)return Gl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new ob(l,r,a)}catch(h){return Gl(h instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Ee===0?null:u}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let r=0;return i.forEach(a=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,a,null),r++)}),r}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const u=this.Xe(l);if(u){if(a.current&&Gv(u.target)){const h=new be(u.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,An.newNoDocument(h,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let i=ze();this.Ke.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.Xe(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const r=new pp(e,t,this.Ue,this.Qe,i);return this.Qe=os(),this.$e=gf(),this.Ke=gf(),this.Ue=new St(He),r}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new $S,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Qt(He),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Qt(He),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $S),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function gf(){return new St(be.comparator)}function YS(){return new St(be.comparator)}const Jz={asc:"ASCENDING",desc:"DESCENDING"},e4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t4={and:"AND",or:"OR"};class n4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qv(n,e){return n.useProto3Json||cp(e)?e:{value:e}}function Ag(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function i4(n,e){return Ag(n,e.toTimestamp())}function mr(n){return it(!!n),Ie.fromTimestamp(function(t){const i=da(t);return new Yt(i.seconds,i.nanos)}(n))}function lb(n,e){return Kv(n,e).canonicalString()}function Kv(n,e){const t=function(r){return new pt(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function eI(n){const e=pt.fromString(n);return it(sI(e)),e}function Xv(n,e){return lb(n.databaseId,e.path)}function tv(n,e){const t=eI(e);if(t.get(1)!==n.databaseId.projectId)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(nI(t))}function tI(n,e){return lb(n.databaseId,e)}function r4(n){const e=eI(n);return e.length===4?pt.emptyPath():nI(e)}function Zv(n){return new pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nI(n){return it(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function QS(n,e,t){return{name:Xv(n,e),fields:t.value.mapValue.fields}}function s4(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(it(p===void 0||typeof p=="string"),mn.fromBase64String(p||"")):(it(p===void 0||p instanceof Buffer||p instanceof Uint8Array),mn.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const p=f.code===void 0?se.UNKNOWN:KD(f.code);return new me(p,f.message||"")}(l);t=new ZD(i,r,a,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=tv(n,i.document.name),a=mr(i.document.updateTime),l=i.document.createTime?mr(i.document.createTime):Ie.min(),u=new zn({mapValue:{fields:i.document.fields}}),h=An.newFoundDocument(r,a,l,u),f=i.targetIds||[],p=i.removedTargetIds||[];t=new Qf(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=tv(n,i.document),a=i.readTime?mr(i.readTime):Ie.min(),l=An.newNoDocument(r,a),u=i.removedTargetIds||[];t=new Qf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=tv(n,i.document),a=i.removedTargetIds||[];t=new Qf([],a,r,null)}else{if(!("filter"in e))return De();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,l=new Yz(r,a),u=i.targetId;t=new XD(u,l)}}return t}function a4(n,e){let t;if(e instanceof kh)t={update:QS(n,e.key,e.value)};else if(e instanceof sb)t={delete:Xv(n,e.key)};else if(e instanceof wa)t={update:QS(n,e.key,e.data),updateMask:p4(e.fieldMask)};else{if(!(e instanceof Wz))return De();t={verify:Xv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,l){const u=l.transform;if(u instanceof Eg)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof fh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof gh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof wg)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw De()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:i4(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:De()}(n,e.precondition)),t}function o4(n,e){return n&&n.length>0?(it(e!==void 0),n.map(t=>function(r,a){let l=r.updateTime?mr(r.updateTime):mr(a);return l.isEqual(Ie.min())&&(l=mr(a)),new Hz(l,r.transformResults||[])}(t,e))):[]}function l4(n,e){return{documents:[tI(n,e.path)]}}function c4(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=tI(n,r);const a=function(f){if(f.length!==0)return rI(ji.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(p=>function(_){return{field:Nl(_.field),direction:d4(_.dir)}}(p))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Qv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:r}}function u4(n){let e=r4(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){it(i===1);const p=t.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=function(v){const _=iI(v);return _ instanceof ji&&ND(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(_=>function(T){return new bg(Ol(T.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(v){let _;return _=typeof v=="object"?v.value:v,cp(_)?null:_}(t.limit));let h=null;t.startAt&&(h=function(v){const _=!!v.before,b=v.values||[];return new _g(b,_)}(t.startAt));let f=null;return t.endAt&&(f=function(v){const _=!v.before,b=v.values||[];return new _g(b,_)}(t.endAt)),Dz(e,r,l,a,u,"F",h,f)}function h4(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ol(t.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ol(t.unaryFilter.field);return Ut.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ol(t.unaryFilter.field);return Ut.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ol(t.unaryFilter.field);return Ut.create(l,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(n):n.fieldFilter!==void 0?function(t){return Ut.create(Ol(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ji.create(t.compositeFilter.filters.map(i=>iI(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return De()}}(t.compositeFilter.op))}(n):De()}function d4(n){return Jz[n]}function f4(n){return e4[n]}function g4(n){return t4[n]}function Nl(n){return{fieldPath:n.canonicalString()}}function Ol(n){return gn.fromServerFormat(n.fieldPath)}function rI(n){return n instanceof Ut?function(t){if(t.op==="=="){if(LS(t.value))return{unaryFilter:{field:Nl(t.field),op:"IS_NAN"}};if(PS(t.value))return{unaryFilter:{field:Nl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(LS(t.value))return{unaryFilter:{field:Nl(t.field),op:"IS_NOT_NAN"}};if(PS(t.value))return{unaryFilter:{field:Nl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(t.field),op:f4(t.op),value:t.value}}}(n):n instanceof ji?function(t){const i=t.getFilters().map(r=>rI(r));return i.length===1?i[0]:{compositeFilter:{op:g4(t.op),filters:i}}}(n):De()}function p4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,t,i,r,a=Ie.min(),l=Ie.min(),u=mn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.Tt=e}}function y4(n){const e=u4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Yv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.Tn=new _4}addToCollectionParentIndex(e,t){return this.Tn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(ha.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(ha.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class _4{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Qt(pt.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Qt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aI=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(aI,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Kl(0)}static Un(){return new Kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="LruGarbageCollector",b4=1048576;function ZS([n,e],[t,i]){const r=He(n,t);return r===0?He(e,i):r}class E4{constructor(e){this.Hn=e,this.buffer=new Qt(ZS),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ZS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class w4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(XS,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){cc(t)?pe(XS,"Ignoring IndexedDB error during garbage collection: ",t):await lc(t)}await this.er(3e5)})}}class A4{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return re.resolve(lp.ae);const i=new E4(t);return this.tr.forEachTarget(e,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(e,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(KS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KS):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,r,a,l,u,h,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,l=Date.now(),this.nthSequenceNumber(e,r))).next(v=>(i=v,u=Date.now(),this.removeTargets(e,i,t))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(f=Date.now(),kl()<=Ue.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:v})))}}function S4(n,e){return new A4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.changes=new No(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&$u(i.mutation,r,Jn.empty(),Yt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ze()){const r=go();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let l=Nu();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=go();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ze()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,i,r){let a=os();const l=Gu(),u=function(){return Gu()}();return t.forEach((h,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof wa)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),$u(p.mutation,f,p.mutation.getFieldMask(),Yt.now())):l.set(f.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((f,p)=>l.set(f,p)),t.forEach((f,p)=>{var v;return u.set(f,new x4(p,(v=l.get(f))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){const i=Gu();let r=new St((l,u)=>l-u),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let p=i.get(h)||Jn.empty();p=u.applyToLocalView(f,p),i.set(h,p);const v=(r.get(u.batchId)||ze()).add(h);r=r.insert(u.batchId,v)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,p=h.value,v=HD();p.forEach(_=>{if(!a.has(_)){const b=YD(t.get(_),i.get(_));b!==null&&v.set(_,b),a=a.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return re.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(l){return be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const l=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):re.resolve(go());let u=ch,h=a;return l.next(f=>re.forEach(f,(p,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(p)?re.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,h,f,ze())).next(p=>({batchId:u,changes:BD(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(i=>{let r=Nu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let l=Nu();return this.indexManager.getCollectionParents(e,a).next(u=>re.forEach(u,h=>{const f=function(v,_){return new Ih(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(p=>{p.forEach((v,_)=>{l=l.insert(v,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r))).next(l=>{a.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,An.newInvalidDocument(p)))});let u=Nu();return l.forEach((h,f)=>{const p=a.get(h);p!==void 0&&$u(p.mutation,f,Jn.empty(),Yt.now()),dp(t,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return re.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:mr(r.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(r){return{name:r.name,query:y4(r.bundledQuery),readTime:mr(r.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.overlays=new St(be.comparator),this.Rr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=go();return re.forEach(t,r=>this.getOverlay(e,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.Et(e,t,a)}),re.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const r=go(),a=t.length+1,l=new be(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&r.set(h.getKey(),h)}return re.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new St((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let p=a.get(f.largestBatchId);p===null&&(p=go(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=go(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=r)););return re.resolve(u)}Et(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new $z(t,i));let a=this.Rr.get(t);a===void 0&&(a=ze(),this.Rr.set(t,a)),this.Rr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.Vr=new Qt(rn.mr),this.gr=new Qt(rn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new rn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new rn(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new be(new pt([])),i=new rn(t,e),r=new rn(t,e+1),a=[];return this.gr.forEachInRange([i,r],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new be(new pt([])),i=new rn(t,e),r=new rn(t,e+1);let a=ze();return this.gr.forEachInRange([i,r],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new rn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class rn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return be.comparator(e.key,t.key)||He(e.Cr,t.Cr)}static pr(e,t){return He(e.Cr,t.Cr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Qt(rn.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Gz(a,t,i,r);this.mutationQueue.push(l);for(const u of r)this.Mr=this.Mr.add(new rn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,t){return re.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Nr(i),a=r<0?0:r;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Z_:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new rn(t,0),r=new rn(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,r],l=>{const u=this.Or(l.Cr);a.push(u)}),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qt(He);return t.forEach(r=>{const a=new rn(r,0),l=new rn(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],u=>{i=i.add(u.Cr)})}),re.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;be.isDocumentKey(a)||(a=a.child(""));const l=new rn(new be(a),0);let u=new Qt(He);return this.Mr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(h.Cr)),!0)},l),re.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(i=>{const r=this.Or(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){it(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return re.forEach(t.mutations,r=>{const a=new rn(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new rn(t,0),r=this.Mr.firstAfterOrEqual(i);return re.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.kr=e,this.docs=function(){return new St(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,l=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let i=os();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():An.newInvalidDocument(r))}),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=os();const l=t.path,u=new be(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||oz(az(p),i)<=0||(r.has(p.key)||dp(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,i,r){De()}qr(e,t){return re.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new N4(this)}getSize(e){return re.resolve(this.size)}}class N4 extends T4{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(i)}),re.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.persistence=e,this.Qr=new No(t=>tb(t),nb),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Kr=new cb,this.targetCount=0,this.Ur=Kl.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,r)=>t(r)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),re.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Kl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.zn(t),re.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&i.get(u.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),re.waitFor(a).next(()=>r)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(l=>{a.push(r.markPotentiallyOrphaned(e,l))}),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new lp(0),this.zr=!1,this.zr=!0,this.jr=new I4,this.referenceDelegate=e(this),this.Hr=new O4(this),this.indexManager=new v4,this.remoteDocumentCache=function(r){return new M4(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new m4(t),this.Yr=new C4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new D4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new k4(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const r=new P4(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(a=>this.referenceDelegate.Xr(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}ei(e,t){return re.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class P4 extends cz{constructor(e){super(),this.currentSequenceNumber=e}}class ub{constructor(e){this.persistence=e,this.ti=new cb,this.ni=null}static ri(e){return new ub(e)}get ii(){if(this.ni)return this.ni;throw De()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),re.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,i=>{const r=be.fromPath(i);return this.si(e,r).next(a=>{a||t.removeEntry(r,Ie.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return re.or([()=>re.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Sg{constructor(e,t){this.persistence=e,this.oi=new No(i=>dz(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=S4(this,t)}static ri(e,t){return new Sg(e,t)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return re.forEach(this.oi,(i,r)=>this.ar(e,i,r).next(a=>a?re.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.qr(e,l=>this.ar(e,l,t).next(u=>{u||(i++,a.removeEntry(l,Ie.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gf(e.data.value)),t}ar(e,t,i){return re.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.oi.get(t);return re.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=r}static Yi(e,t){let i=ze(),r=ze();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new hb(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return W2()?8:uz(Rn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,r,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new L4;return this._s(e,t,l).next(u=>{if(a.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>a.result)}us(e,t,i,r){return i.documentReadCount<this.es?(kl()<=Ue.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ml(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(kl()<=Ue.DEBUG&&pe("QueryEngine","Query:",Ml(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?(kl()<=Ue.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ml(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):re.resolve())}rs(e,t){if(zS(t))return re.resolve(null);let i=pr(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Yv(t,null,"F"),i=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const l=ze(...a);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.cs(t,u);return this.ls(t,f,l,h.readTime)?this.rs(e,Yv(t,null,"F")):this.hs(e,f,t,h)}))})))}ss(e,t,i,r){return zS(t)||r.isEqual(Ie.min())?re.resolve(null):this.ns.getDocuments(e,i).next(a=>{const l=this.cs(t,a);return this.ls(t,l,i,r)?re.resolve(null):(kl()<=Ue.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ml(t)),this.hs(e,l,t,sz(r,ch)).next(u=>u))})}cs(e,t){let i=new Qt(UD(e));return t.forEach((r,a)=>{dp(e,a)&&(i=i.add(a))}),i}ls(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}_s(e,t,i){return kl()<=Ue.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ml(t)),this.ns.getDocumentsMatchingQuery(e,t,ha.min(),i)}hs(e,t,i,r){return this.ns.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="LocalStore",V4=3e8;class U4{constructor(e,t,i,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new St(He),this.Is=new No(a=>tb(a),nb),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function z4(n,e,t,i){return new U4(n,e,t,i)}async function lI(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],u=[];let h=ze();for(const f of r){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){u.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return t.localDocuments.getDocuments(i,h).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:u}))})})}function B4(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,h,f,p){const v=f.batch,_=v.keys();let b=re.resolve();return _.forEach(T=>{b=b.next(()=>p.getEntry(h,T)).next(R=>{const x=f.docVersions.get(T);it(x!==null),R.version.compareTo(x)<0&&(v.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),p.addEntry(R)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(h,v))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=ze();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function cI(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function H4(n,e){const t=Me(n),i=e.snapshotVersion;let r=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});r=t.Ts;const u=[];e.targetChanges.forEach((p,v)=>{const _=r.get(v);if(!_)return;u.push(t.Hr.removeMatchingKeys(a,p.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(a,p.addedDocuments,v)));let b=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(mn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,i)),r=r.insert(v,b),function(R,x,M){return R.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=V4?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(_,b,p)&&u.push(t.Hr.updateTargetData(a,b))});let h=os(),f=ze();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(F4(a,l,e.documentUpdates).next(p=>{h=p.Vs,f=p.fs})),!i.isEqual(Ie.min())){const p=t.Hr.getLastRemoteSnapshotVersion(a).next(v=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));u.push(p)}return re.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(t.Ts=r,a))}function F4(n,e,t){let i=ze(),r=ze();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let l=os();return t.forEach((u,h)=>{const f=a.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(Ie.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):pe(db,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Vs:l,fs:r}})}function q4(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Z_),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function W4(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Hr.getTargetData(i,e).next(a=>a?(r=a,re.resolve(r)):t.Hr.allocateTargetId(i).next(l=>(r=new Zs(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Jv(n,e,t){const i=Me(n),r=i.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!cc(l))throw l;pe(db,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ts=i.Ts.remove(e),i.Is.delete(r.target)}function JS(n,e,t){const i=Me(n);let r=Ie.min(),a=ze();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const v=Me(h),_=v.Is.get(p);return _!==void 0?re.resolve(v.Ts.get(_)):v.Hr.getTargetData(f,p)}(i,l,pr(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(l,e,t?r:Ie.min(),t?a:ze())).next(u=>(G4(i,kz(e),u),{documents:u,gs:a})))}function G4(n,e,t){let i=n.Es.get(e)||Ie.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Es.set(e,i)}class eT{constructor(){this.activeTargetIds=jz()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $4{constructor(){this.ho=new eT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new eT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="ConnectivityMonitor";class nT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(tT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(tT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf=null;function e_(){return pf===null?pf=function(){return 268435456+Math.round(2147483648*Math.random())}():pf++,"0x"+pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="RestConnection",Q4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===yg?`project_id=${i}`:`project_id=${i}&database_id=${r}`}So(e,t,i,r,a){const l=e_(),u=this.bo(e,t.toUriEncodedString());pe(nv,`Sending RPC '${e}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,r,a),this.vo(e,u,h,i).then(f=>(pe(nv,`Received RPC '${e}' ${l}: `,f),f),f=>{throw Gl(nv,`RPC '${e}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Co(e,t,i,r,a,l){return this.So(e,t,i,r,a)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}bo(e,t){const i=Q4[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class Z4 extends K4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,r){const a=e_();return new Promise((l,u)=>{const h=new gD;h.setWithCredentials(!0),h.listenOnce(pD.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Wf.NO_ERROR:const p=h.getResponseJson();pe(En,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Wf.TIMEOUT:pe(En,`RPC '${e}' ${a} timed out`),u(new me(se.DEADLINE_EXCEEDED,"Request time out"));break;case Wf.HTTP_ERROR:const v=h.getStatus();if(pe(En,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const b=_==null?void 0:_.error;if(b&&b.status&&b.message){const T=function(x){const M=x.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(M)>=0?M:se.UNKNOWN}(b.status);u(new me(T,b.message))}else u(new me(se.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new me(se.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{pe(En,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);pe(En,`RPC '${e}' ${a} sending request:`,r),h.send(t,"POST",f,i,15)})}Wo(e,t,i){const r=e_(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=vD(),u=yD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const p=a.join("");pe(En,`Creating RPC '${e}' stream ${r}: ${p}`,h);const v=l.createWebChannel(p,h);let _=!1,b=!1;const T=new X4({Fo:x=>{b?pe(En,`Not sending because RPC '${e}' stream ${r} is closed:`,x):(_||(pe(En,`Opening RPC '${e}' stream ${r} transport.`),v.open(),_=!0),pe(En,`RPC '${e}' stream ${r} sending:`,x),v.send(x))},Mo:()=>v.close()}),R=(x,M,j)=>{x.listen(M,z=>{try{j(z)}catch($){setTimeout(()=>{throw $},0)}})};return R(v,Mu.EventType.OPEN,()=>{b||(pe(En,`RPC '${e}' stream ${r} transport opened.`),T.Qo())}),R(v,Mu.EventType.CLOSE,()=>{b||(b=!0,pe(En,`RPC '${e}' stream ${r} transport closed`),T.Ko())}),R(v,Mu.EventType.ERROR,x=>{b||(b=!0,Gl(En,`RPC '${e}' stream ${r} transport errored:`,x),T.Ko(new me(se.UNAVAILABLE,"The operation could not be completed")))}),R(v,Mu.EventType.MESSAGE,x=>{var M;if(!b){const j=x.data[0];it(!!j);const z=j,$=(z==null?void 0:z.error)||((M=z[0])===null||M===void 0?void 0:M.error);if($){pe(En,`RPC '${e}' stream ${r} received error:`,$);const J=$.status;let ne=function(I){const N=Vt[I];if(N!==void 0)return KD(N)}(J),O=$.message;ne===void 0&&(ne=se.INTERNAL,O="Unknown error status: "+J+" with message "+$.message),b=!0,T.Ko(new me(ne,O)),v.close()}else pe(En,`RPC '${e}' stream ${r} received:`,j),T.Uo(j)}}),R(u,mD.STAT_EVENT,x=>{x.stat===Hv.PROXY?pe(En,`RPC '${e}' stream ${r} detected buffering proxy`):x.stat===Hv.NOPROXY&&pe(En,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function iv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(n){return new n4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=r,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-i);r>0&&pe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="PersistentStream";class hI{constructor(e,t,i,r,a,l,u,h){this.Ti=e,this.n_=i,this.r_=r,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new uI(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(as(t.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===t&&this.V_(i,r)},i=>{e(()=>{const r=new me(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(iT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(iT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J4 extends hI{constructor(e,t,i,r,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=s4(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ie.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ie.min():l.readTime?mr(l.readTime):Ie.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Zv(this.serializer),t.addTarget=function(a,l){let u;const h=l.target;if(u=Gv(h)?{documents:l4(a,h)}:{query:c4(a,h).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=JD(a,l.resumeToken);const f=Qv(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ie.min())>0){u.readTime=Ag(a,l.snapshotVersion.toTimestamp());const f=Qv(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const i=h4(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Zv(this.serializer),t.removeTarget=e,this.I_(t)}}class eB extends hI{constructor(e,t,i,r,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return it(!!e.streamToken),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=o4(e.writeResults,e.commitTime),i=mr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Zv(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>a4(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{}class nB extends tB{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,Kv(t,i),r,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(se.UNKNOWN,a.toString())})}Co(e,t,i,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,Kv(t,i),r,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(se.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class iB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(as(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="RemoteStore";class rB{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{i.enqueueAndForget(async()=>{Oo(this)&&(pe(So,"Restarting streams for network reachability change."),await async function(h){const f=Me(h);f.W_.add(4),await Nh(f),f.j_.set("Unknown"),f.W_.delete(4),await yp(f)}(this))})}),this.j_=new iB(i,r)}}async function yp(n){if(Oo(n))for(const e of n.G_)await e(!0)}async function Nh(n){for(const e of n.G_)await e(!1)}function dI(n,e){const t=Me(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),mb(t)?pb(t):uc(t).c_()&&gb(t,e))}function fb(n,e){const t=Me(n),i=uc(t);t.U_.delete(e),i.c_()&&fI(t,e),t.U_.size===0&&(i.c_()?i.P_():Oo(t)&&t.j_.set("Unknown"))}function gb(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}uc(n).y_(e)}function fI(n,e){n.H_.Ne(e),uc(n).w_(e)}function pb(n){n.H_=new Zz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),uc(n).start(),n.j_.B_()}function mb(n){return Oo(n)&&!uc(n).u_()&&n.U_.size>0}function Oo(n){return Me(n).W_.size===0}function gI(n){n.H_=void 0}async function sB(n){n.j_.set("Online")}async function aB(n){n.U_.forEach((e,t)=>{gb(n,e)})}async function oB(n,e){gI(n),mb(n)?(n.j_.q_(e),pb(n)):n.j_.set("Unknown")}async function lB(n,e,t){if(n.j_.set("Online"),e instanceof ZD&&e.state===2&&e.cause)try{await async function(r,a){const l=a.cause;for(const u of a.targetIds)r.U_.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.U_.delete(u),r.H_.removeTarget(u))}(n,e)}catch(i){pe(So,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Tg(n,i)}else if(e instanceof Qf?n.H_.We(e):e instanceof XD?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ie.min()))try{const i=await cI(n.localStore);t.compareTo(i)>=0&&await function(a,l){const u=a.H_.ot(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.U_.get(f);p&&a.U_.set(f,p.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const p=a.U_.get(h);if(!p)return;a.U_.set(h,p.withResumeToken(mn.EMPTY_BYTE_STRING,p.snapshotVersion)),fI(a,h);const v=new Zs(p.target,h,f,p.sequenceNumber);gb(a,v)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(i){pe(So,"Failed to raise snapshot:",i),await Tg(n,i)}}async function Tg(n,e,t){if(!cc(e))throw e;n.W_.add(1),await Nh(n),n.j_.set("Offline"),t||(t=()=>cI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(So,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await yp(n)})}function pI(n,e){return e().catch(t=>Tg(n,t,e))}async function vp(n){const e=Me(n),t=pa(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Z_;for(;cB(e);)try{const r=await q4(e.localStore,i);if(r===null){e.K_.length===0&&t.P_();break}i=r.batchId,uB(e,r)}catch(r){await Tg(e,r)}mI(e)&&yI(e)}function cB(n){return Oo(n)&&n.K_.length<10}function uB(n,e){n.K_.push(e);const t=pa(n);t.c_()&&t.S_&&t.b_(e.mutations)}function mI(n){return Oo(n)&&!pa(n).u_()&&n.K_.length>0}function yI(n){pa(n).start()}async function hB(n){pa(n).C_()}async function dB(n){const e=pa(n);for(const t of n.K_)e.b_(t.mutations)}async function fB(n,e,t){const i=n.K_.shift(),r=ab.from(i,e,t);await pI(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await vp(n)}async function gB(n,e){e&&pa(n).S_&&await async function(i,r){if(function(l){return Qz(l)&&l!==se.ABORTED}(r.code)){const a=i.K_.shift();pa(i).h_(),await pI(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),await vp(i)}}(n,e),mI(n)&&yI(n)}async function rT(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),pe(So,"RemoteStore received new credentials");const i=Oo(t);t.W_.add(3),await Nh(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await yp(t)}async function pB(n,e){const t=Me(n);e?(t.W_.delete(2),await yp(t)):e||(t.W_.add(2),await Nh(t),t.j_.set("Unknown"))}function uc(n){return n.J_||(n.J_=function(t,i,r){const a=Me(t);return a.M_(),new J4(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{xo:sB.bind(null,n),No:aB.bind(null,n),Lo:oB.bind(null,n),p_:lB.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),mb(n)?pb(n):n.j_.set("Unknown")):(await n.J_.stop(),gI(n))})),n.J_}function pa(n){return n.Y_||(n.Y_=function(t,i,r){const a=Me(t);return a.M_(),new eB(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:hB.bind(null,n),Lo:gB.bind(null,n),D_:dB.bind(null,n),v_:fB.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await vp(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(So,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const l=Date.now()+i,u=new yb(e,t,l,r,a);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vb(n,e){if(as("AsyncQueue",`${e}: ${n}`),cc(n))return new me(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{static emptySet(e){return new Bl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=Nu(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Bl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.Z_=new St(be.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):De():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Xl{constructor(e,t,i,r,a,l,u,h,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,r,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Xl(e,t,Bl.emptySet(t),l,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class yB{constructor(){this.queries=aT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const r=Me(t),a=r.queries;r.queries=aT(),a.forEach((l,u)=>{for(const h of u.ta)h.onError(i)})})(this,new me(se.ABORTED,"Firestore shutting down"))}}function aT(){return new No(n=>VD(n),hp)}async function vI(n,e){const t=Me(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.na()&&e.ra()&&(i=2):(a=new mB,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await t.onListen(r,!0);break;case 1:a.ea=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(l){const u=vb(l,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(u)}t.queries.set(r,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&_b(t)}async function _I(n,e){const t=Me(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?r=e.ra()?0:1:!a.na()&&e.ra()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function vB(n,e){const t=Me(n);let i=!1;for(const r of e){const a=r.query,l=t.queries.get(a);if(l){for(const u of l.ta)u.oa(r)&&(i=!0);l.ea=r}}i&&_b(t)}function _B(n,e,t){const i=Me(n),r=i.queries.get(e);if(r)for(const a of r.ta)a.onError(t);i.queries.delete(e)}function _b(n){n.ia.forEach(e=>{e.next()})}var t_,oT;(oT=t_||(t_={}))._a="default",oT.Cache="cache";class bI{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Xl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==t_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.key=e}}class wI{constructor(e){this.key=e}}class bB{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ze(),this.mutatedKeys=ze(),this.ya=UD(e),this.wa=new Bl(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new sT,r=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=r,u=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((p,v)=>{const _=r.get(p),b=dp(this.query,v)?v:null,T=!!_&&this.mutatedKeys.has(_.key),R=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let x=!1;_&&b?_.data.isEqual(b.data)?T!==R&&(i.track({type:3,doc:b}),x=!0):this.va(_,b)||(i.track({type:2,doc:b}),x=!0,(h&&this.ya(b,h)>0||f&&this.ya(b,f)<0)&&(u=!0)):!_&&b?(i.track({type:0,doc:b}),x=!0):_&&!b&&(i.track({type:1,doc:_}),x=!0,(h||f)&&(u=!0)),x&&(b?(l=l.add(b),a=R?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{wa:l,Da:i,ls:u,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((p,v)=>function(b,T){const R=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return R(b)-R(T)}(p.type,v.type)||this.ya(p.doc,v.doc)),this.Ca(i),r=r!=null&&r;const u=t&&!r?this.Fa():[],h=this.pa.size===0&&this.current&&!r?1:0,f=h!==this.ga;return this.ga=h,l.length!==0||f?{snapshot:new Xl(this.query,e.wa,a,l,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new sT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ze(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new wI(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new EI(i))}),t}Oa(e){this.fa=e.gs,this.pa=ze();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Xl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const bb="SyncEngine";class EB{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class wB{constructor(e){this.key=e,this.Ba=!1}}class AB{constructor(e,t,i,r,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new No(u=>VD(u),hp),this.qa=new Map,this.Qa=new Set,this.$a=new St(be.comparator),this.Ka=new Map,this.Ua=new cb,this.Wa={},this.Ga=new Map,this.za=Kl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function SB(n,e,t=!0){const i=CI(n);let r;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.Na()):r=await AI(i,e,t,!0),r}async function TB(n,e){const t=CI(n);await AI(t,e,!0,!1)}async function AI(n,e,t,i){const r=await W4(n.localStore,pr(e)),a=r.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return i&&(u=await xB(n,e,a,l==="current",r.resumeToken)),n.isPrimaryClient&&t&&dI(n.remoteStore,r),u}async function xB(n,e,t,i,r){n.Ha=(v,_,b)=>async function(R,x,M,j){let z=x.view.ba(M);z.ls&&(z=await JS(R.localStore,x.query,!1).then(({documents:O})=>x.view.ba(O,z)));const $=j&&j.targetChanges.get(x.targetId),J=j&&j.targetMismatches.get(x.targetId)!=null,ne=x.view.applyChanges(z,R.isPrimaryClient,$,J);return cT(R,x.targetId,ne.Ma),ne.snapshot}(n,v,_,b);const a=await JS(n.localStore,e,!0),l=new bB(e,a.gs),u=l.ba(a.documents),h=Mh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),f=l.applyChanges(u,n.isPrimaryClient,h);cT(n,t,f.Ma);const p=new EB(e,t,l);return n.ka.set(e,p),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function RB(n,e,t){const i=Me(n),r=i.ka.get(e),a=i.qa.get(r.targetId);if(a.length>1)return i.qa.set(r.targetId,a.filter(l=>!hp(l,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Jv(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&fb(i.remoteStore,r.targetId),n_(i,r.targetId)}).catch(lc)):(n_(i,r.targetId),await Jv(i.localStore,r.targetId,!0))}async function CB(n,e){const t=Me(n),i=t.ka.get(e),r=t.qa.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),fb(t.remoteStore,i.targetId))}async function DB(n,e,t){const i=LB(n);try{const r=await function(l,u){const h=Me(l),f=Yt.now(),p=u.reduce((b,T)=>b.add(T.key),ze());let v,_;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let T=os(),R=ze();return h.ds.getEntries(b,p).next(x=>{T=x,T.forEach((M,j)=>{j.isValidDocument()||(R=R.add(M))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,T)).next(x=>{v=x;const M=[];for(const j of u){const z=qz(j,v.get(j.key).overlayedDocument);z!=null&&M.push(new wa(j.key,z,ID(z.value.mapValue),Ai.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,M,u)}).next(x=>{_=x;const M=x.applyToLocalDocumentSet(v,R);return h.documentOverlayCache.saveOverlays(b,x.batchId,M)})}).then(()=>({batchId:_.batchId,changes:BD(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,u,h){let f=l.Wa[l.currentUser.toKey()];f||(f=new St(He)),f=f.insert(u,h),l.Wa[l.currentUser.toKey()]=f}(i,r.batchId,t),await Oh(i,r.changes),await vp(i.remoteStore)}catch(r){const a=vb(r,"Failed to persist write");t.reject(a)}}async function SI(n,e){const t=Me(n);try{const i=await H4(t.localStore,e);e.targetChanges.forEach((r,a)=>{const l=t.Ka.get(a);l&&(it(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.Ba=!0:r.modifiedDocuments.size>0?it(l.Ba):r.removedDocuments.size>0&&(it(l.Ba),l.Ba=!1))}),await Oh(t,i,e)}catch(i){await lc(i)}}function lT(n,e,t){const i=Me(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.ka.forEach((a,l)=>{const u=l.view.sa(e);u.snapshot&&r.push(u.snapshot)}),function(l,u){const h=Me(l);h.onlineState=u;let f=!1;h.queries.forEach((p,v)=>{for(const _ of v.ta)_.sa(u)&&(f=!0)}),f&&_b(h)}(i.eventManager,e),r.length&&i.La.p_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function IB(n,e,t){const i=Me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Ka.get(e),a=r&&r.key;if(a){let l=new St(be.comparator);l=l.insert(a,An.newNoDocument(a,Ie.min()));const u=ze().add(a),h=new pp(Ie.min(),new Map,new St(He),l,u);await SI(i,h),i.$a=i.$a.remove(a),i.Ka.delete(e),Eb(i)}else await Jv(i.localStore,e,!1).then(()=>n_(i,e,t)).catch(lc)}async function kB(n,e){const t=Me(n),i=e.batch.batchId;try{const r=await B4(t.localStore,e);xI(t,i,null),TI(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Oh(t,r)}catch(r){await lc(r)}}async function MB(n,e,t){const i=Me(n);try{const r=await function(l,u){const h=Me(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,u).next(v=>(it(v!==null),p=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,e);xI(i,e,t),TI(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Oh(i,r)}catch(r){await lc(r)}}function TI(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function xI(n,e,t){const i=Me(n);let r=i.Wa[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Wa[i.currentUser.toKey()]=r}}function n_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||RI(n,i)})}function RI(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(fb(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Eb(n))}function cT(n,e,t){for(const i of t)i instanceof EI?(n.Ua.addReference(i.key,e),NB(n,i)):i instanceof wI?(pe(bb,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||RI(n,i.key)):De()}function NB(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(pe(bb,"New document in limbo: "+t),n.Qa.add(i),Eb(n))}function Eb(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new be(pt.fromString(e)),i=n.za.next();n.Ka.set(i,new wB(t)),n.$a=n.$a.insert(t,i),dI(n.remoteStore,new Zs(pr(ib(t.path)),i,"TargetPurposeLimboResolution",lp.ae))}}async function Oh(n,e,t){const i=Me(n),r=[],a=[],l=[];i.ka.isEmpty()||(i.ka.forEach((u,h)=>{l.push(i.Ha(h,e,t).then(f=>{var p;if((f||t)&&i.isPrimaryClient){const v=f?!f.fromCache:(p=t==null?void 0:t.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(f){r.push(f);const v=hb.Yi(h.targetId,f);a.push(v)}}))}),await Promise.all(l),i.La.p_(r),await async function(h,f){const p=Me(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>re.forEach(f,_=>re.forEach(_.Hi,b=>p.persistence.referenceDelegate.addReference(v,_.targetId,b)).next(()=>re.forEach(_.Ji,b=>p.persistence.referenceDelegate.removeReference(v,_.targetId,b)))))}catch(v){if(!cc(v))throw v;pe(db,"Failed to update sequence numbers: "+v)}for(const v of f){const _=v.targetId;if(!v.fromCache){const b=p.Ts.get(_),T=b.snapshotVersion,R=b.withLastLimboFreeSnapshotVersion(T);p.Ts=p.Ts.insert(_,R)}}}(i.localStore,a))}async function OB(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){pe(bb,"User change. New user:",e.toKey());const i=await lI(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(u=>{u.forEach(h=>{h.reject(new me(se.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Oh(t,i.Rs)}}function PB(n,e){const t=Me(n),i=t.Ka.get(e);if(i&&i.Ba)return ze().add(i.key);{let r=ze();const a=t.qa.get(e);if(!a)return r;for(const l of a){const u=t.ka.get(l);r=r.unionWith(u.view.Sa)}return r}}function CI(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IB.bind(null,e),e.La.p_=vB.bind(null,e.eventManager),e.La.Ja=_B.bind(null,e.eventManager),e}function LB(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MB.bind(null,e),e}class xg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return z4(this.persistence,new j4,e.initialUser,this.serializer)}Xa(e){return new oI(ub.ri,this.serializer)}Za(e){return new $4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xg.provider={build:()=>new xg};class jB extends xg{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){it(this.persistence.referenceDelegate instanceof Sg);const i=this.persistence.referenceDelegate.garbageCollector;return new w4(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new oI(i=>Sg.ri(i,t),this.serializer)}}class i_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=OB.bind(null,this.syncEngine),await pB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yB}()}createDatastore(e){const t=mp(e.databaseInfo.databaseId),i=function(a){return new Z4(a)}(e.databaseInfo);return function(a,l,u,h){return new nB(a,l,u,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,a,l,u){return new rB(i,r,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>lT(this.syncEngine,t,0),function(){return nT.D()?new nT:new Y4}())}createSyncEngine(e,t){return function(r,a,l,u,h,f,p){const v=new AB(r,a,l,u,h,f);return p&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const a=Me(r);pe(So,"RemoteStore shutting down."),a.W_.add(5),await Nh(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}i_.provider={build:()=>new i_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="FirestoreClient";class VB{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=wn.UNAUTHENTICATED,this.clientId=bD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{pe(ma,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(pe(ma,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=vb(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function rv(n,e){n.asyncQueue.verifyOperationInProgress(),pe(ma,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await lI(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function uT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await UB(n);pe(ma,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>rT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>rT(e.remoteStore,r)),n._onlineComponents=e}async function UB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(ma,"Using user provided OfflineComponentProvider");try{await rv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===se.FAILED_PRECONDITION||r.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Gl("Error using user provided cache. Falling back to memory cache: "+t),await rv(n,new xg)}}else pe(ma,"Using default OfflineComponentProvider"),await rv(n,new jB(void 0));return n._offlineComponents}async function II(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(ma,"Using user provided OnlineComponentProvider"),await uT(n,n._uninitializedComponentsProvider._online)):(pe(ma,"Using default OnlineComponentProvider"),await uT(n,new i_))),n._onlineComponents}function zB(n){return II(n).then(e=>e.syncEngine)}async function kI(n){const e=await II(n),t=e.eventManager;return t.onListen=SB.bind(null,e.syncEngine),t.onUnlisten=RB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=TB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=CB.bind(null,e.syncEngine),t}function BB(n,e,t={}){const i=new is;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,f){const p=new DI({next:_=>{p.su(),l.enqueueAndForget(()=>_I(a,v));const b=_.docs.has(u);!b&&_.fromCache?f.reject(new me(se.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&h&&h.source==="server"?f.reject(new me(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new bI(ib(u.path),p,{includeMetadataChanges:!0,Ta:!0});return vI(a,v)}(await kI(n),n.asyncQueue,e,t,i)),i.promise}function HB(n,e,t={}){const i=new is;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,f){const p=new DI({next:_=>{p.su(),l.enqueueAndForget(()=>_I(a,v)),_.fromCache&&h.source==="server"?f.reject(new me(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new bI(u,p,{includeMetadataChanges:!0,Ta:!0});return vI(a,v)}(await kI(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(n,e,t){if(!t)throw new me(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function FB(n,e,t,i){if(e===!0&&i===!0)throw new me(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function dT(n){if(!be.isDocumentKey(n))throw new me(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fT(n){if(be.isDocumentKey(n))throw new me(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _p(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De()}function Vi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_p(n);throw new me(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="firestore.googleapis.com",gT=!0;class pT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new me(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OI,this.ssl=gT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:gT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<b4)throw new me(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bp{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new XU;switch(i.type){case"firstParty":return new tz(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=hT.get(t);i&&(pe("ComponentProvider","Removing Datastore"),hT.delete(t),i.terminate())}(this),Promise.resolve()}}function qB(n,e,t,i={}){var r;const a=(n=Vi(n,bp))._getSettings(),l=`${e}:${t}`;if(a.host!==OI&&a.host!==l&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),i.mockUserToken){let u,h;if(typeof i.mockUserToken=="string")u=i.mockUserToken,h=wn.MOCK_USER;else{u=U2(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new me(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new wn(f)}n._authCredentials=new ZU(new _D(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new hc(this.firestore,e,this._query)}}class On{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class oa extends hc{constructor(e,t,i){super(e,t,ib(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new be(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function r_(n,e,...t){if(n=At(n),NI("collection","path",e),n instanceof bp){const i=pt.fromString(e,...t);return fT(i),new oa(n,null,i)}{if(!(n instanceof On||n instanceof oa))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(e,...t));return fT(i),new oa(n.firestore,null,i)}}function Yu(n,e,...t){if(n=At(n),arguments.length===1&&(e=bD.newId()),NI("doc","path",e),n instanceof bp){const i=pt.fromString(e,...t);return dT(i),new On(n,null,new be(i))}{if(!(n instanceof On||n instanceof oa))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(e,...t));return dT(i),new On(n.firestore,n instanceof oa?n.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="AsyncQueue";class yT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new uI(this,"async_queue_retry"),this.Su=()=>{const i=iv();i&&pe(mT,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=iv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=iv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new is;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!cc(e))throw e;pe(mT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const r=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(i);throw as("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=yb.createAndSchedule(this,e,t,i,a=>this.Fu(a));return this.fu.push(r),r}Du(){this.gu&&De()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Po extends bp{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new yT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yT(e),this._firestoreClient=void 0,await e}}}function WB(n,e){const t=typeof n=="object"?n:L_(),i=typeof n=="string"?n:yg,r=ko(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=j2("firestore");a&&qB(r,...a)}return r}function wb(n){if(n._terminated)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||GB(n),n._firestoreClient}function GB(n){var e,t,i;const r=n._freezeSettings(),a=function(u,h,f,p){return new pz(u,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,MI(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new VB(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zl(mn.fromBase64String(e))}catch(t){throw new me(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zl(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=/^__.*__$/;class YB{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,t,this.fieldTransforms):new kh(e,this.data,t,this.fieldTransforms)}}class PI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new wa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class xb{constructor(e,t,i,r,a,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new xb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ku({path:i,Qu:!1});return r.$u(e),r}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ku({path:i,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Rg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(LI(this.Lu)&&$B.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class QB{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||mp(e)}ju(e,t,i,r=!1){return new xb({Lu:e,methodName:t,zu:i,path:gn.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wp(n){const e=n._freezeSettings(),t=mp(n._databaseId);return new QB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function jI(n,e,t,i,r,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,r);Rb("Data must be an object, but it was:",l,i);const u=VI(i,l);let h,f;if(a.merge)h=new Jn(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const v of a.mergeFields){const _=s_(e,v,t);if(!l.contains(_))throw new me(se.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);zI(p,_)||p.push(_)}h=new Jn(p),f=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=l.fieldTransforms;return new YB(new zn(u),h,f)}class Ap extends Ab{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ap}}function KB(n,e,t,i){const r=n.ju(1,e,t);Rb("Data must be an object, but it was:",r,i);const a=[],l=zn.empty();Ea(i,(h,f)=>{const p=Cb(e,h,t);f=At(f);const v=r.Ku(p);if(f instanceof Ap)a.push(p);else{const _=Ph(f,v);_!=null&&(a.push(p),l.set(p,_))}});const u=new Jn(a);return new PI(l,u,r.fieldTransforms)}function XB(n,e,t,i,r,a){const l=n.ju(1,e,t),u=[s_(e,i,t)],h=[r];if(a.length%2!=0)throw new me(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)u.push(s_(e,a[_])),h.push(a[_+1]);const f=[],p=zn.empty();for(let _=u.length-1;_>=0;--_)if(!zI(f,u[_])){const b=u[_];let T=h[_];T=At(T);const R=l.Ku(b);if(T instanceof Ap)f.push(b);else{const x=Ph(T,R);x!=null&&(f.push(b),p.set(b,x))}}const v=new Jn(f);return new PI(p,v,l.fieldTransforms)}function ZB(n,e,t,i=!1){return Ph(t,n.ju(i?4:3,e))}function Ph(n,e){if(UI(n=At(n)))return Rb("Unsupported field value:",e,n),VI(n,e);if(n instanceof Ab)return function(i,r){if(!LI(r.Lu))throw r.Wu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,r){const a=[];let l=0;for(const u of i){let h=Ph(u,r.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,e)}return function(i,r){if((i=At(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Vz(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Yt.fromDate(i);return{timestampValue:Ag(r.serializer,a)}}if(i instanceof Yt){const a=new Yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ag(r.serializer,a)}}if(i instanceof Sb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zl)return{bytesValue:JD(r.serializer,i._byteString)};if(i instanceof On){const a=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw r.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:lb(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Tb)return function(l,u){return{mapValue:{fields:{[CD]:{stringValue:DD},[vg]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Wu("VectorValues must only contain numeric values.");return rb(u.serializer,f)})}}}}}}(i,r);throw r.Wu(`Unsupported field value: ${_p(i)}`)}(n,e)}function VI(n,e){const t={};return wD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(n,(i,r)=>{const a=Ph(r,e.qu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function UI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Yt||n instanceof Sb||n instanceof Zl||n instanceof On||n instanceof Ab||n instanceof Tb)}function Rb(n,e,t){if(!UI(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=_p(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function s_(n,e,t){if((e=At(e))instanceof Ep)return e._internalPath;if(typeof e=="string")return Cb(n,e);throw Rg("Field path arguments must be of type string or ",n,!1,void 0,t)}const JB=new RegExp("[~\\*/\\[\\]]");function Cb(n,e,t){if(e.search(JB)>=0)throw Rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ep(...e.split("."))._internalPath}catch{throw Rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rg(n,e,t,i,r){const a=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${r}`),h+=")"),new me(se.INVALID_ARGUMENT,u+n+h)}function zI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Db("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class eH extends BI{data(){return super.data()}}function Db(n,e){return typeof e=="string"?Cb(n,e):e instanceof Ep?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ib{}class nH extends Ib{}function HI(n,e,...t){let i=[];e instanceof Ib&&i.push(e),i=i.concat(t),function(a){const l=a.filter(h=>h instanceof kb).length,u=a.filter(h=>h instanceof Sp).length;if(l>1||l>0&&u>0)throw new me(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Sp extends nH{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Sp(e,t,i)}_apply(e){const t=this._parse(e);return qI(e._query,t),new hc(e.firestore,e.converter,$v(e._query,t))}_parse(e){const t=wp(e.firestore);return function(a,l,u,h,f,p,v){let _;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new me(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){_T(v,p);const T=[];for(const R of v)T.push(vT(h,a,R));_={arrayValue:{values:T}}}else _=vT(h,a,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||_T(v,p),_=ZB(u,l,v,p==="in"||p==="not-in");return Ut.create(f,p,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function FI(n,e,t){const i=e,r=Db("where",n);return Sp._create(r,i,t)}class kb extends Ib{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new kb(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ji.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,a){let l=r;const u=a.getFlattenedFilters();for(const h of u)qI(l,h),l=$v(l,h)}(e._query,t),new hc(e.firestore,e.converter,$v(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vT(n,e,t){if(typeof(t=At(t))=="string"){if(t==="")throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jD(e)&&t.indexOf("/")!==-1)throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(pt.fromString(t));if(!be.isDocumentKey(i))throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return OS(n,new be(i))}if(t instanceof On)return OS(n,t._key);throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_p(t)}.`)}function _T(n,e){if(!Array.isArray(n)||n.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qI(n,e){const t=function(r,a){for(const l of r)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class iH{convertValue(e,t="none"){switch(ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ea(e,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,r;const a=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[vg].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(l=>Mt(l.doubleValue));return new Tb(a)}convertGeoPoint(e){return new Sb(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=up(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(uh(e));default:return null}}convertTimestamp(e){const t=da(e);return new Yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=pt.fromString(e);it(sI(i));const r=new hh(i.get(1),i.get(3)),a=new be(i.popFirst(5));return r.isEqual(t)||as(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GI extends BI{constructor(e,t,i,r,a,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Db("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Kf extends GI{data(e={}){return super.data(e)}}class rH{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Pu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Kf(this._firestore,this._userDataWriter,i.key,i,new Pu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>{const h=new Kf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Pu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new Kf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Pu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:sH(u.type),doc:h,oldIndex:f,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(n){n=Vi(n,On);const e=Vi(n.firestore,Po);return BB(wb(e),n._key).then(t=>hH(e,n,t))}class $I extends iH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}function YI(n){n=Vi(n,hc);const e=Vi(n.firestore,Po),t=wb(e),i=new $I(e);return tH(n._query),HB(t,n._query).then(r=>new rH(e,i,n,r))}function oH(n,e,t){n=Vi(n,On);const i=Vi(n.firestore,Po),r=WI(n.converter,e);return Tp(i,[jI(wp(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,Ai.none())])}function lH(n,e,t,...i){n=Vi(n,On);const r=Vi(n.firestore,Po),a=wp(r);let l;return l=typeof(e=At(e))=="string"||e instanceof Ep?XB(a,"updateDoc",n._key,e,t,i):KB(a,"updateDoc",n._key,e),Tp(r,[l.toMutation(n._key,Ai.exists(!0))])}function cH(n){return Tp(Vi(n.firestore,Po),[new sb(n._key,Ai.none())])}function uH(n,e){const t=Vi(n.firestore,Po),i=Yu(n),r=WI(n.converter,e);return Tp(t,[jI(wp(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ai.exists(!1))]).then(()=>i)}function Tp(n,e){return function(i,r){const a=new is;return i.asyncQueue.enqueueAndForget(async()=>DB(await zB(i),r,a)),a.promise}(wb(n),e)}function hH(n,e,t){const i=t.docs.get(e._key),r=new $I(n);return new GI(n,r,e._key,i,new Pu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){oc=r})(sc),yr(new Pi("firestore",(i,{instanceIdentifier:r,options:a})=>{const l=i.getProvider("app").getImmediate(),u=new Po(new JU(i.getProvider("auth-internal")),new nz(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new me(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hh(f.options.projectId,p)}(l,r),l);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),wi(AS,SS,e),wi(AS,SS,"esm2017")})();const dH={apiKey:"AIzaSyDPgMa2cQIJJHAD5loZZrQOrn8oGyCtuXQ",authDomain:"getfit-79396.firebaseapp.com",projectId:"getfit-79396",storageBucket:"getfit-79396.appspot.com",messagingSenderId:"241827461493",appId:"1:241827461493:web:704bb4a0c2d368043ebb3c",measurementId:"G-J44KNXJ2BP"},Mb=sC(dH);$U(Mb);const Si=CV(Mb),uo=WB(Mb);new Xr;const fH=()=>{ba();const[n,e]=H.useState(!1),[t,i]=H.useState(null),r=()=>e(!n);H.useEffect(()=>OC(Si,h=>{i(h)}),[]);const a=()=>{e(!1)},l=u=>t?t.emailVerified?w.jsxs(w.Fragment,{children:[w.jsx(wt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Domov"}),w.jsx(wt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Vyhľadávanie"}),w.jsx(wt,{to:"/profil",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Profil"}),w.jsx(wt,{to:"/dashboard",className:"pr-7 text-[#616161] cursor-pointer hover:underline",onClick:u,children:"Dashboard"}),w.jsx(wt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Odhlásiť sa"})]}):w.jsxs(w.Fragment,{children:[w.jsx(wt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Domov"}),w.jsx(wt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Vyhľadávanie"}),w.jsx(wt,{to:"/verify-email",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Over si email"}),w.jsx(wt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Odhlásiť sa"})]}):w.jsxs(w.Fragment,{children:[w.jsx(wt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Domov"}),w.jsx(wt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Vyhľadávanie"}),w.jsx(wt,{to:"/login",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Prihlásiť sa"}),w.jsx(wt,{to:"/register",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Registrácia"})]});return w.jsxs("nav",{className:"bg-white shadow-md fixed top-0 left-0 w-full py-4 px-10 flex justify-between items-center z-50",children:[w.jsx("span",{className:"text-2xl font-bold text-green-700",children:"GetFit"}),w.jsx("div",{className:"hidden md:flex space-x-6 text-gray-700 font-bold",children:l()}),w.jsx("div",{className:"md:hidden",children:w.jsx("button",{onClick:r,children:n?w.jsx(D2,{size:24}):w.jsx(C2,{size:24})})}),w.jsx("div",{className:`
          absolute top-full left-0 w-full bg-white shadow-md flex flex-col items-center py-4 space-y-4 
          md:hidden transition-all duration-300 overflow-hidden
          ${n?"max-h-96 opacity-100":"max-h-0 opacity-0"}
        `,children:l(a)})]})},gH=()=>w.jsxs("header",{className:"w-full text-center py-20 bg-gradient-to-r from-green-300 to-green-500 text-white",children:[w.jsx("h1",{className:"text-5xl font-bold",children:"Zdravý život je jednoduchý"}),w.jsx("p",{className:"text-lg mt-4",children:"Nájdite tie najlepšie jedlá, ktoré zodpovedajú vášmu životnému štýlu"}),w.jsx("button",{className:"mt-6 px-6 py-3 bg-white text-green-600 rounded-lg shadow-lg hover:shadow-xl transition",children:"Sign Up"})]}),pH=({query:n,setQuery:e,handleSearch:t,disabled:i})=>w.jsxs("section",{className:"max-w-5xl mx-auto py-16 px-6",children:[w.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"Prečo si vybrať našu platformu?"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[w.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Sledujte svoju výživu"}),w.jsx("p",{className:"text-gray-700 mt-3",children:"Ľahko zaznamenávajte svoje jedlá a sledujte makrá bez problémov."})]}),w.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[w.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Personalizované stravovacie plány"}),w.jsx("p",{className:"text-gray-700 mt-3",children:"Upravte svoj jedálniček na základe vašich fitness cieľov."})]})]}),w.jsxs("div",{className:"mt-12 text-center",children:[w.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Vyhľadajte informácie o výžive"}),w.jsxs("div",{className:"flex justify-center gap-4",children:[w.jsx("input",{type:"text",placeholder:"Zadajte názov jedla...",value:n,onChange:r=>e(r.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500"}),w.jsx("button",{onClick:t,disabled:i,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition disabled:bg-green-950",children:"Hľadať"})]})]})]}),QI=()=>w.jsxs("div",{role:"status",children:[w.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-indigo-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),w.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),w.jsx("span",{className:"sr-only",children:"Loading..."})]}),mH=({results:n=[],query:e,setQuery:t,handleSearch:i,searchTerm:r,error:a,isLoading:l})=>l?w.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:w.jsx(QI,{})}):w.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12",children:w.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[a&&w.jsxs("p",{className:"text-red-600 text-center mb-4",children:["Chyba pri načítaní dát: ",a.message]}),w.jsxs("h2",{className:"text-3xl font-semibold text-green-700 text-center mb-6 mt-6",children:["Výsledky pre: ",w.jsx("em",{className:"font-normal text-green-600",children:r})]}),w.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[w.jsx("input",{type:"text",placeholder:"Zadaj iné jedlo...",value:e,onChange:u=>t(u.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:ring-2 focus:ring-green-500"}),w.jsx("button",{onClick:i,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition",children:"Hľadať"})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map((u,h)=>{var x;const{food_name:f,nutrition:p}=u,v=((x=p==null?void 0:p.photo)==null?void 0:x.thumb)||"https://via.placeholder.com/300x150",_=(p==null?void 0:p.nf_calories)??0,b=(p==null?void 0:p.nf_total_fat)??0,T=(p==null?void 0:p.nf_protein)??0,R=(p==null?void 0:p.nf_total_carbohydrate)??0;return w.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition p-5",children:[w.jsx("img",{src:v,alt:f,className:"w-full h-40 object-cover rounded-md"}),w.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-3",children:f}),(p==null?void 0:p.servingSize)&&w.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Nutričné hodnoty pre: ",w.jsx("strong",{children:p.servingSize})]}),w.jsxs("div",{className:"text-gray-600 text-sm leading-relaxed mt-2",children:[w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Kalórie:"})," ",_," kcal"]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Tuky:"})," ",b," g"]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Bielkoviny:"})," ",T," g"]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Sacharidy:"})," ",R," g"]})]})]},h)}):w.jsx("p",{className:"col-span-full text-center text-gray-600",children:"Žiadne výsledky na zobrazenie."})})]})}),yH=[{id:1,title:"Top 5 zdravých potravín na spaľovanie tukov",excerpt:"Tieto potraviny ti pomôžu zrýchliť metabolizmus a efektívne spaľovať tuk.",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:"Celý článok o zdravých potravinách..."},{id:2,title:"Ako správne kombinovať sacharidy, tuky a bielkoviny?",excerpt:"Vyvážená strava je kľúčom k zdraviu. Pozri si, ako kombinovať makroživiny.",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:"Celý článok o kombinovaní makroživín..."},{id:3,title:"Prečo je hydratácia kľúčová pri chudnutí?",excerpt:"Pitný režim hrá obrovskú úlohu pri tvojom metabolizme a spaľovaní tukov.",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:"Celý článok o hydratácii a jej výhodách..."}],vH=()=>{const n=Bi();return H.useEffect(()=>{if(n.state&&n.state.scrollTo){const e=document.getElementById(`blog-${n.state.scrollTo}`);e&&e.scrollIntoView({behavior:"smooth"})}},[n]),w.jsx("div",{children:w.jsxs("section",{className:"max-w-6xl mx-auto pb-16 px-6",children:[w.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-10",children:"Najnovšie tipy a rady"}),w.jsx("div",{className:"grid gird-cols-1 md:grid-cols-3 gap-8",children:yH.map(e=>w.jsxs("div",{id:`blog-${e.id}`,className:"bg-white shadow-lg rounded-lg overflow-hidden hover:shadow-xl transition",children:[w.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),w.jsxs("div",{className:"p-6",children:[w.jsx("h3",{className:"text-2xl font-bold text-green-600",children:e.title}),w.jsx("p",{className:"text-gray-700 mt-3",children:e.excerpt}),w.jsx(wt,{to:`/blog/${e.id}`,className:"inline-block mt-4 text-green-700 font-semibold hover:underline",children:"Čítať viac →"})]})]},e.id))})]})})},_H=[{id:1,title:"Top 5 zdravých potravín na spaľovanie tukov",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Spaľovanie tukov nie je len o cvičení, ale aj o správnej výžive. Medzi najlepšie potraviny, ktoré ti pomôžu spaľovať tuky patria:"}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Avokádo"})," – obsahuje zdravé tuky, ktoré podporujú metabolizmus."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Losos"})," – bohatý na omega-3 mastné kyseliny, ktoré pomáhajú regulovať hladinu cukru v krvi."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Zelený čaj"})," – zrýchľuje spaľovanie kalórií a podporuje trávenie."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Chilli papričky"})," – obsahujú kapsaicín, ktorý podporuje spaľovanie tukov."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Orechy"})," – skvelý zdroj bielkovín a zdravých tukov."]})]}),w.jsxs("p",{className:"mt-6",children:[w.jsx("span",{className:"font-semibold text-green-600",children:"Záver:"})," Pravidelné konzumovanie týchto potravín v kombinácii s fyzickou aktivitou môže výrazne pomôcť pri spaľovaní tukov a udržiavaní zdravej hmotnosti."]})]})},{id:2,title:"Ako správne kombinovať sacharidy, tuky a bielkoviny?",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Vyvážená strava je základ zdravého životného štýlu. Dôležité je pochopiť, ako správne kombinovať makroživiny:"}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Sacharidy"})," – hlavný zdroj energie. Ideálne sú celozrnné potraviny, ovocie a zelenina."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Tuky"})," – esenciálne pre správne fungovanie organizmu. Uprednostni zdravé tuky ako olivový olej, orechy a avokádo."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Bielkoviny"})," – dôležité pre svalovú regeneráciu. Kvalitné zdroje sú kuracie mäso, ryby, tofu a strukoviny."]})]}),w.jsxs("p",{className:"mt-6",children:[w.jsx("span",{className:"font-semibold text-green-600",children:"Tip:"})," Správne jedlo by malo obsahovať vyvážený pomer všetkých troch makroživín. Napríklad:"]}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Raňajky:"})," Ovsená kaša s mandľami a banánom."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Obed:"})," Grilované kuracie mäso s quinoou a avokádovým šalátom."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Večera:"})," Pečený losos s dusenou zeleninou."]})]})]})},{id:3,title:"Prečo je hydratácia kľúčová pri chudnutí?",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Voda hrá zásadnú úlohu pri metabolizme a chudnutí. Je dôležité dodržiavať správny pitný režim:"}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsx("li",{children:"Pomáha tráveniu a detoxikácii organizmu."}),w.jsx("li",{children:"Podporuje spaľovanie tukov."}),w.jsx("li",{children:"Znižuje pocit hladu – často si zamieňame smäd za hlad."})]}),w.jsx("p",{className:"mt-6",children:w.jsx("span",{className:"font-semibold text-green-600",children:"Koľko vody by si mal/a piť?"})}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:["Minimálne ",w.jsx("strong",{children:"2-3 litre denne"}),"."]}),w.jsxs("li",{children:["Počas cvičenia doplň aspoň ",w.jsx("strong",{children:"0,5 L vody"})," na hodinu."]}),w.jsx("li",{children:"Ráno začni pohárom vody s citrónom pre lepší metabolizmus."})]})]})}],bH=()=>{const{id:n}=SO(),e=_H.find(t=>t.id===parseInt(n));return e?w.jsx("div",{children:w.jsxs("section",{className:"max-w-4xl mx-auto py-16 mt-8 px-6",children:[w.jsx("img",{src:e.image,alt:e.title,className:"w-full h-80 object-cover rounded-lg mb-6"}),w.jsx("h1",{className:"text-4xl font-bold text-green-700",children:e.title}),w.jsx("div",{className:"text-gray-700 mt-6 leading-fixed",children:e.content}),w.jsx(wt,{to:"/",state:{scrollTo:e.id},className:"inline-block mt-6 text-green-700 font-semibold hover:underline",children:" ← Späť na blog"})]})}):w.jsx("p",{className:"text-center text-red-600 text-xl mt-10",children:"Článok neexistuje!"})},EH=()=>{const[n,e]=H.useState(""),[t,i]=H.useState(""),[r,a]=H.useState(""),[l,u]=H.useState("male"),[h,f]=H.useState(1.2),[p,v]=H.useState("maintain"),[_,b]=H.useState(null),T=R=>{if(R.preventDefault(),!n||!t||!r){alert("Prosím, vyplň všetky polia.");return}let x;l==="male"?x=88.36+13.4*parseFloat(n)+4.8*parseFloat(t)-5.7*parseFloat(r):x=447.6+9.2*parseFloat(n)+3.1*parseFloat(t)-4.3*parseFloat(r);let M=x*parseFloat(h);p==="lose"?M-=500:p==="gain"&&(M+=500),b(Math.round(M))};return w.jsxs("section",{className:"max-w-4xl mx-auto py-16 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"BMI kalkulačka"}),w.jsxs("form",{onSubmit:T,className:"grid grid-cols-1 sm:grid-cols-2 gap-6 bg-gray-50 p-6 rounded-lg shadow-md",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Váha (kg)"}),w.jsx("input",{type:"number",value:n,onChange:R=>e(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte váhu"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Výška (cm)"}),w.jsx("input",{type:"number",value:t,onChange:R=>i(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte výšku"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Vek"}),w.jsx("input",{type:"number",value:r,onChange:R=>a(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte vek"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Pohlavie"}),w.jsxs("select",{value:l,onChange:R=>u(R.target.value),className:" focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[w.jsx("option",{value:"male",children:"Muž"}),w.jsx("option",{value:"female",children:"Žena"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Úroveň aktivity"}),w.jsxs("select",{value:h,onChange:R=>f(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[w.jsx("option",{value:"1.2",children:"Sedavý životný štýl"}),w.jsx("option",{value:"1.375",children:"Ľahká aktivita (1-3x týždenne cvičenie)"}),w.jsx("option",{value:"1.55",children:"Stredná aktivita (3-5x týždenne cvičenie)"}),w.jsx("option",{value:"1.725",children:"Vysoká aktivita (6-7x týždenne cvičenie)"}),w.jsx("option",{value:"1.9",children:"Extrémna aktivita (ťažká fyzická práca + tréning)"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Cieľ"}),w.jsxs("select",{value:p,onChange:R=>v(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[w.jsx("option",{value:"lose",children:"Schudnúť"}),w.jsx("option",{value:"maintain",children:"Udržať váhu"}),w.jsx("option",{value:"gain",children:"Nabrať svaly"})]})]}),w.jsx("div",{className:"col-span-1 sm:col-span-2 flex justify-center",children:w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition text-lg font-semibold shadow-md w-full sm:w-1/2",children:"Vypočítať kalórie"})})]}),_!==null&&w.jsxs("div",{className:"mt-8 p-6 bg-green-100 text-center rounded-lg shadow-md",children:[w.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Odporúčaný denný kalorický príjem:"}),w.jsxs("p",{className:"text-4xl font-bold text-green-700 mt-2",children:[_," kcal"]})]})]})},wH=()=>{const[n,e]=H.useState(1),[t,i]=H.useState(!1),[r,a]=H.useState(""),[l,u]=H.useState(""),[h,f]=H.useState(""),[p,v]=H.useState(""),[_,b]=H.useState(!1),[T,R]=H.useState(null),[x,M]=H.useState(""),[j,z]=H.useState(""),[$,J]=H.useState(""),[ne,O]=H.useState("male"),[D,I]=H.useState("1.2"),[N,V]=H.useState("maintain"),[B,P]=H.useState(null),[Ne,Ae]=H.useState(!1),[le,de]=H.useState(!1),[fe,Se]=H.useState(null),[U,ae]=H.useState(null),[ge,he]=H.useState(null),[ue,xe]=H.useState(null),[Ee,Ye]=H.useState(null),Fe=ba();if(t)return w.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:w.jsx(QI,{})});const dt=()=>{const Te=Number(j),yn=Number($),ct=Number(x);let ft;ne==="male"?ft=88.36+13.4*Te+4.8*yn-5.7*ct:ft=447.6+9.2*Te+3.1*yn-4.3*ct;let ln=ft*Number(D);N==="lose"?ln-=500:N==="gain"&&(ln+=500),ln=Math.round(ln),Se(ln);const qi=Math.round(.3*ln/4),Wi=Math.round(.25*ln/9),Er=Math.round(.45*ln/4);ae(qi),he(Wi),xe(Er),de(!0)},Je=async()=>{const Te=r.trim().toLowerCase();if(!Te||!Te.includes("@"))return Ye("Prosím, zadaj platný email."),!1;if(l.length<8)return Ye("Heslo musí mať aspoň 8 znakov."),!1;if(!/[A-Z]/.test(l))return Ye("Heslo musí obsahovať aspoň 1 veľké písmeno (A-Z)."),!1;if(!/\d/.test(l))return Ye("Heslo musí obsahovať aspoň 1 číslicu."),!1;if(l!==h)return Ye("Heslá sa nezhodujú."),!1;if(!_)return Ye("Musíš súhlasiť s podmienkami používania a ochranou osobných údajov."),!1;const yn=async ct=>{const ft=HI(r_(uo,"users"),FI("email","==",ct));return!(await YI(ft)).empty};try{if((await hj(Si,Te)).length>0||await yn(Te))return Ye("Tento email už existuje."),!1}catch(ct){return console.error("Chyba pri overovaní emailu:",ct),Ye("Nastala chyba pri overovaní emailu."),!1}return Ye(null),!0},on=async()=>{await Je()&&e(2)},Ri=async Te=>{Te.preventDefault(),i(!0);const yn=r.trim().toLowerCase();if(dt(),!fe||!U||!ge||!ue){let ct;ne==="male"?ct=88.36+13.4*Number(j)+4.8*Number($)-5.7*Number(x):ct=447.6+9.2*Number(j)+3.1*Number($)-4.3*Number(x);let ft=ct*Number(D);N==="lose"?ft-=500:N==="gain"&&(ft+=500),ft=Math.round(ft);const ln=Math.round(.3*ft/4),qi=Math.round(.25*ft/9),Wi=Math.round(.45*ft/4);Se(ft),ae(ln),he(qi),xe(Wi),de(!0)}try{const ct=await lj(Si,yn,l);await gj(ct.user,{displayName:p}),await dj(ct.user),await oH(Yu(uo,"users",ct.user.uid),{name:p,email:yn,agreedToTerms:!0,age:Number(x),weight:Number(j),height:Number($),gender:ne,activity:Number(D),goal:N,dailyCalories:fe,proteinGrams:U,fatGrams:ge,carbsGrams:ue}),i(!1),Fe("/verify-email")}catch(ct){Ye("Chyba pri registrácii: "+ct.message)}};return w.jsxs("section",{className:"max-w-md mt-30 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Registrácia"}),Ee&&w.jsx("p",{className:"text-red-600 text-center mt-2",children:Ee}),w.jsxs("form",{onSubmit:Ri,className:"mt-4",children:[n===1&&w.jsxs(w.Fragment,{children:[w.jsx("label",{className:"block mt-2",children:"Meno"}),w.jsx("input",{type:"text",placeholder:"Meno",value:p,onChange:Te=>v(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Email"}),w.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Te=>a(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Heslo"}),w.jsx("input",{type:"password",placeholder:"Heslo",value:l,onChange:Te=>u(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Potvrdiť heslo"}),w.jsx("input",{type:"password",placeholder:"Potvrdiť heslo",value:h,onChange:Te=>f(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsxs("div",{className:"mt-6 flex items-start",children:[w.jsx("input",{type:"checkbox",checked:_,onChange:()=>b(!_),className:"mr-2 ml-2 mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),w.jsxs("label",{className:"text-gray-600 mr-5",children:["Súhlasím s ",w.jsx(wt,{to:"/terms",className:"text-blue-600 underline",children:"podmienkami používania"})," a ",w.jsx(wt,{to:"/privacy",className:"text-blue-600 underline",children:"ochranou osobných údajov"}),"."]})]}),w.jsx("button",{type:"button",onClick:on,className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Ďalej"})]}),n===2&&w.jsxs(w.Fragment,{children:[w.jsx("label",{className:"block mt-2",children:"Vek"}),w.jsx("input",{type:"number",placeholder:"Vek",value:x,onChange:Te=>M(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Váha (kg)"}),w.jsx("input",{type:"number",placeholder:"Váha (kg)",value:j,onChange:Te=>z(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Výška (cm)"}),w.jsx("input",{type:"number",placeholder:"Výška (cm)",value:$,onChange:Te=>J(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Pohlavie"}),w.jsxs("select",{value:ne,onChange:Te=>O(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[w.jsx("option",{value:"male",children:"Muž"}),w.jsx("option",{value:"female",children:"Žena"})]}),w.jsx("button",{type:"button",onClick:()=>e(3),className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Ďalej"})]}),n===3&&w.jsxs(w.Fragment,{children:[w.jsx("label",{className:"block mt-2",children:"Cieľ"}),w.jsxs("select",{value:N,onChange:Te=>V(Te.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[w.jsx("option",{value:"lose",children:"Schudnúť"}),w.jsx("option",{value:"maintain",children:"Udržať váhu"}),w.jsx("option",{value:"gain",children:"Nabrať svaly"})]}),w.jsx("label",{className:"block mt-2",children:"Úroveň aktivity"}),w.jsxs("select",{value:D,onChange:Te=>I(Te.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[w.jsx("option",{value:"1.2",children:"Sedavý životný štýl"}),w.jsx("option",{value:"1.375",children:"Ľahká aktivita (1-3x/týž)"}),w.jsx("option",{value:"1.55",children:"Stredná aktivita (3-5x/týž)"}),w.jsx("option",{value:"1.725",children:"Vysoká aktivita (6-7x/týž)"}),w.jsx("option",{value:"1.9",children:"Extrémna aktivita"})]}),w.jsx("label",{className:"block mt-2 font-semibold",children:"BMR / Kalórie"}),Ne?w.jsx("input",{type:"number",value:fe||"",onChange:Te=>Se(Number(Te.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):w.jsxs("p",{className:"mt-2 font-semibold text-center",children:[fe," kcal"]}),w.jsx("label",{className:"block mt-2 font-semibold",children:"Proteíny (g)"}),Ne?w.jsx("input",{type:"number",value:U||"",onChange:Te=>ae(Number(Te.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):w.jsxs("p",{className:"mt-2 font-semibold text-center",children:[U," g"]}),w.jsx("label",{className:"block mt-2 font-semibold",children:"Tuky (g)"}),Ne?w.jsx("input",{type:"number",value:ge||"",onChange:Te=>he(Number(Te.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):w.jsxs("p",{className:"mt-2 font-semibold text-center",children:[ge," g"]}),w.jsx("label",{className:"block mt-2 font-semibold",children:"Sacharidy (g)"}),Ne?w.jsx("input",{type:"number",value:ue||"",onChange:Te=>xe(Number(Te.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):w.jsxs("p",{className:"mt-2 font-semibold text-center",children:[ue," g"]}),w.jsxs("div",{className:"flex justify-between mt-4",children:[w.jsx("button",{type:"button",onClick:dt,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Vypočítať BMR a makrá"}),le&&w.jsx("button",{type:"button",onClick:()=>Ae(!Ne),className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600",children:Ne?"Uložiť":"Upraviť"})]}),w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Registrovať sa"})]})]})]})},AH=()=>{const n=ba(),e=async()=>{Si.currentUser&&(await Si.currentUser.reload(),Si.currentUser.emailVerified?n("/dashboard"):alert("Email ešte nie je overený. Skontroluj schránku a skús znovu."))};return w.jsxs("section",{className:"pt-20 mt-30 max-w-md mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Overenie emailu"}),w.jsx("p",{className:"mt-4 text-center",children:"Na tvoj email bol odoslaný overovací odkaz. Prosím otvor si email, klikni na overovací link a potom sa vráť sem."}),w.jsx("button",{onClick:e,className:"bg-green-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-green-700",children:"Skontrolovať, či som email potvrdil"})]})},SH=()=>w.jsx("aside",{className:"w-full lg:w-1/5 bg-gray-100 p-4 rounded-lg shadow-md",children:w.jsxs("nav",{className:"flex flex-col space-y-4",children:[w.jsx(wt,{to:"/dashboard/calendar",className:"text-green-700 font-bold hover:underline",children:"Kalendár"}),w.jsx(wt,{to:"/dashboard/my-foods",className:"text-green-700 font-bold hover:underline",children:"Moje jedlá"}),w.jsx(wt,{to:"/dashboard/statistics",className:"text-green-700 font-bold hover:underline",children:"Štatistiky"})]})}),bT=()=>{const[n,e]=H.useState([]),[t,i]=H.useState(null);H.useEffect(()=>{(async()=>{const h=Si.currentUser;if(h)try{const f=Yu(uo,"users",h.uid),p=await aH(f);p.exists()&&i(p.data())}catch(f){console.error("Chyba pri načítaní nutričných údajov:",f)}})()},[]);const r=async u=>{try{const h=Yu(uo,"foods",u);await cH(h),e(f=>f.filter(p=>p.id!==u))}catch(h){console.error("Chyba pri mazaní jedla z Firestore:",h)}},a=async(u,h)=>{try{const f=Yu(uo,"foods",u);await lH(f,h),e(p=>p.map(v=>v.id===u?{...v,...h}:v))}catch(f){console.error("Chyba pri úprave jedla vo Firestore:",f)}},l=async u=>{try{const h=Si.currentUser;if(!h){console.error("Používateľ nie je prihlásený");return}const f={...u,userId:h.uid,userName:h.displayName,createdAt:new Date},p=await uH(r_(uo,"foods"),f);console.log("Jedlo pridané s ID:",p.id),e(v=>[...v,{id:p.id,...f}])}catch(h){console.error("Chyba pri pridávaní jedla:",h)}};return H.useEffect(()=>{(async()=>{try{const h=Si.currentUser;if(!h)return;const f=HI(r_(uo,"foods"),FI("userId","==",h.uid)),v=(await YI(f)).docs.map(_=>({id:_.id,..._.data()}));e(v)}catch(h){console.error("Chyba pri načítaní jedál:",h)}})()},[]),w.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4 mt-20",children:[w.jsx(SH,{}),w.jsx("div",{className:"flex-1",children:w.jsx(UO,{context:{savedFoods:n,handleAddCustomFood:l,handleDeleteFood:r,handleEditFood:a,nutritionGoal:t}})})]})},mf=({children:n})=>{const[e,t]=H.useState(void 0),[i,r]=H.useState(!0);return H.useEffect(()=>{const a=OC(Si,l=>{t(l),r(!1)});return()=>a()},[]),i?w.jsx("p",{children:"Načítavam..."}):!e||!e.emailVerified?w.jsx(VO,{to:"/login"}):n},TH=()=>{const n=ba(),e=async()=>{try{await yj(Si),n("/")}catch(t){console.error("Chyba pri odhlasovaní:",t)}};return w.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg text-center",children:[w.jsx("h2",{className:"text-3xl font-semibold text-green-700",children:"Odhlásenie"}),w.jsx("p",{className:"mt-4 text-gray-600",children:"Si si istý, že sa chceš odhlásiť?"}),w.jsx("button",{onClick:e,className:"bg-red-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-red-700 transition",children:"Odhlásiť sa"})]})},xH=()=>{const[n,e]=H.useState(""),[t,i]=H.useState(""),[r,a]=H.useState(""),l=ba(),u=async h=>{h.preventDefault();try{await cj(Si,n,t),l("/dashboard")}catch(f){a("Chyba pri prihlasovaní: "+f.message)}};return w.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Prihlásenie"}),r&&w.jsx("p",{className:"text-red-600 text-center mt-2",children:r}),w.jsxs("form",{onSubmit:u,className:"mt-4",children:[w.jsx("label",{className:"block mt-2",children:"Email"}),w.jsx("input",{value:n,onChange:h=>e(h.target.value),type:"email",placeholder:"Email",className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Heslo"}),w.jsx("input",{value:t,onChange:h=>i(h.target.value),type:"password",placeholder:"Heslo",className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mb-3 mt-4 w-full rounded-lg hover:bg-green-700",children:"Prihlásiť sa"}),w.jsx(wt,{to:"/register",className:"text-blue-600 underline",children:"Nemáš ešte účet ? Vytvor si ho"})]})]})},RH=()=>w.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky používania"}),w.jsx("p",{className:"mt-4 text-gray-600",children:"Posledná aktualizácia: 21. február 2025"}),w.jsxs("p",{className:"mt-4",children:["Vitajte v našej aplikácii ",w.jsx("strong",{children:"[Your App Name]"}),". Používaním tejto aplikácie súhlasíte s nasledujúcimi podmienkami."]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptácia podmienok"}),w.jsx("p",{className:"mt-2",children:"Používaním našich služieb vyjadrujete súhlas s týmito podmienkami. Ak s nimi nesúhlasíte, nesmiete aplikáciu používať."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie účtu"}),w.jsx("p",{className:"mt-2",children:"Pri registrácii musíte poskytnúť pravdivé a aktuálne informácie. Ste zodpovedný za bezpečnosť vášho účtu."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakázané aktivity"}),w.jsxs("p",{className:"mt-2",children:["Používateľ nesmie:",w.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[w.jsx("li",{children:"Porušovať platné zákony alebo práva tretích strán."}),w.jsx("li",{children:"Vytvárať falošné účty alebo sa vydávať za iných."}),w.jsx("li",{children:"Zasahovať do bezpečnosti aplikácie."})]})]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zrušenie účtu"}),w.jsx("p",{className:"mt-2",children:"Môžeme zablokovať alebo odstrániť váš účet v prípade porušenia podmienok alebo neaktivity."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednosť a obmedzenie"}),w.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednosť za akékoľvek priame alebo nepriame škody spôsobené používaním tejto aplikácie."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),w.jsx("p",{className:"mt-2",children:"Vyhradzujeme si právo kedykoľvek upraviť tieto podmienky. Pokračovanie v používaní aplikácie znamená súhlas so zmenami."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),w.jsxs("p",{className:"mt-2",children:["Ak máte otázky týkajúce sa týchto podmienok, kontaktujte nás na ",w.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),CH=()=>w.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky používania"}),w.jsx("p",{className:"mt-4 text-gray-600",children:"Posledná aktualizácia: 21. február 2025"}),w.jsxs("p",{className:"mt-4",children:["Vitajte v našej aplikácii ",w.jsx("strong",{children:"[Your App Name]"}),". Používaním tejto aplikácie súhlasíte s nasledujúcimi podmienkami."]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptácia podmienok"}),w.jsx("p",{className:"mt-2",children:"Používaním našich služieb vyjadrujete súhlas s týmito podmienkami. Ak s nimi nesúhlasíte, nesmiete aplikáciu používať."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie účtu"}),w.jsx("p",{className:"mt-2",children:"Pri registrácii musíte poskytnúť pravdivé a aktuálne informácie. Ste zodpovedný za bezpečnosť vášho účtu."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakázané aktivity"}),w.jsxs("p",{className:"mt-2",children:["Používateľ nesmie:",w.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[w.jsx("li",{children:"Porušovať platné zákony alebo práva tretích strán."}),w.jsx("li",{children:"Vytvárať falošné účty alebo sa vydávať za iných."}),w.jsx("li",{children:"Zasahovať do bezpečnosti aplikácie."})]})]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zrušenie účtu"}),w.jsx("p",{className:"mt-2",children:"Môžeme zablokovať alebo odstrániť váš účet v prípade porušenia podmienok alebo neaktivity."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednosť a obmedzenie"}),w.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednosť za akékoľvek priame alebo nepriame škody spôsobené používaním tejto aplikácie."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),w.jsx("p",{className:"mt-2",children:"Vyhradzujeme si právo kedykoľvek upraviť tieto podmienky. Pokračovanie v používaní aplikácie znamená súhlas so zmenami."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),w.jsxs("p",{className:"mt-2",children:["Ak máte otázky týkajúce sa týchto podmienok, kontaktujte nás na ",w.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),DH=({onAddCustomFood:n})=>{const[e,t]=H.useState(""),[i,r]=H.useState(""),[a,l]=H.useState(""),[u,h]=H.useState(""),[f,p]=H.useState(""),[v,_]=H.useState(""),[b,T]=H.useState(""),R=x=>{if(x.preventDefault(),!e.trim())return;const M={foodName:e,kcal:Number(i),protein:Number(a),fat:Number(u),carbs:Number(f),fiber:Number(v),fluid:Number(b)};n(M),t(""),r(""),l(""),h(""),p(""),_(""),T("")};return w.jsxs("form",{onSubmit:R,className:"p-4 bg-white rounded-lg shadow-md mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-green-700 mb-4",children:"Pridať vlastné jedlo"}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block text-gray-700",children:"Názov jedla:"}),w.jsx("input",{type:"text",value:e,onChange:x=>t(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Názov jedla"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Kalórie:"}),w.jsx("input",{type:"number",value:i,onChange:x=>r(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"kcal"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Bielkoviny (g):"}),w.jsx("input",{type:"number",value:a,onChange:x=>l(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"bielkoviny"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Tuky (g):"}),w.jsx("input",{type:"number",value:u,onChange:x=>h(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"tuky"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Sacharidy (g):"}),w.jsx("input",{type:"number",value:f,onChange:x=>p(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"sacharidy"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Vláknina (g):"}),w.jsx("input",{type:"number",value:v,onChange:x=>_(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"vláknina"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Tekutiny (l):"}),w.jsx("input",{type:"number",value:b,onChange:x=>T(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"tekutiny"})]})]}),w.jsx("button",{type:"submit",className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať jedlo"})]})},IH=()=>{const{savedFoods:n,handleAddCustomFood:e,handleDeleteFood:t,handleEditFood:i}=I_(),[r,a]=H.useState(null),[l,u]=H.useState({foodName:"",kcal:"",protein:"",fat:"",carbs:"",fiber:""}),h=v=>{a(v.id),u({foodName:v.foodName,kcal:v.kcal,protein:v.protein,fat:v.fat,carbs:v.carbs,fiber:v.fiber})},f=()=>{a(null),u({foodName:"",kcal:"",protein:"",fat:"",carbs:"",fiber:""})},p=()=>{i(r,{foodName:l.foodName,kcal:Number(l.kcal),protein:Number(l.protein),fat:Number(l.fat),carbs:Number(l.carbs),fiber:Number(l.fiber)}),f()};return w.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[w.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Moje jedlá"}),w.jsx(DH,{onAddCustomFood:e}),w.jsx("div",{className:"mt-6",children:n.length>0?w.jsx("ul",{className:"space-y-4",children:n.map((v,_)=>w.jsx("li",{className:"p-4 bg-white rounded-lg shadow border-l-4 border-green-500 flex justify-between items-center",children:r===v.id?w.jsxs("div",{className:"flex-1",children:[w.jsx("input",{type:"text",value:l.foodName,onChange:b=>u({...l,foodName:b.target.value}),className:"border border-gray-300 rounded px-3 py-2 w-full mb-2",placeholder:"Názov jedla"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsx("input",{type:"number",value:l.kcal,onChange:b=>u({...l,kcal:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Kalórie"}),w.jsx("input",{type:"number",value:l.protein,onChange:b=>u({...l,protein:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Bielkoviny"}),w.jsx("input",{type:"number",value:l.fat,onChange:b=>u({...l,fat:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Tuky"}),w.jsx("input",{type:"number",value:l.carbs,onChange:b=>u({...l,carbs:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Sacharidy"}),w.jsx("input",{type:"number",value:l.fiber,onChange:b=>u({...l,fiber:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Vláknina"}),w.jsx("input",{type:"number",value:l.fluid,onChange:b=>u({...l,fluid:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Tekutiny"})]}),w.jsxs("div",{className:"mt-2 flex space-x-2",children:[w.jsx("button",{onClick:p,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Uložiť"}),w.jsx("button",{onClick:f,className:"bg-gray-500 text-white px-3 py-1 rounded hover:bg-gray-600",children:"Zrušiť"})]})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-800",children:v.foodName}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Kalórie: ",v.kcal," kcal"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Bielkoviny: ",v.protein," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Tuky: ",v.fat," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Sacharidy: ",v.carbs," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Vláknina: ",v.fiber," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Tekutiny: ",v.fluid," l"]})]}),w.jsxs("div",{className:"flex flex-col space-y-2",children:[w.jsx("button",{onClick:()=>t(v.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Zmazať"}),w.jsx("button",{onClick:()=>h(v),className:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600",children:"Upraviť"})]})]})},_))}):w.jsx("p",{className:"text-gray-500 text-center",children:"Zatiaľ ste nepridali žiadne jedlá."})})]})};var xp,we,KI,XI,Jl,ho,ET,ZI,JI,Cg={},e1=[],kH=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Js(n,e){for(var t in e)n[t]=e[t];return n}function t1(n){var e=n.parentNode;e&&e.removeChild(n)}function Z(n,e,t){var i,r,a,l={};for(a in e)a=="key"?i=e[a]:a=="ref"?r=e[a]:l[a]=e[a];if(arguments.length>2&&(l.children=arguments.length>3?xp.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(a in n.defaultProps)l[a]===void 0&&(l[a]=n.defaultProps[a]);return Xf(n,l,i,r,null)}function Xf(n,e,t,i,r){var a={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++KI};return r==null&&we.vnode!=null&&we.vnode(a),a}function ls(){return{current:null}}function Nt(n){return n.children}function MH(n,e,t,i,r){var a;for(a in t)a==="children"||a==="key"||a in e||Dg(n,a,null,t[a],i);for(a in e)r&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||t[a]===e[a]||Dg(n,a,e[a],t[a],i)}function wT(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||kH.test(e)?t:t+"px"}function Dg(n,e,t,i,r){var a;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||wT(n.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||wT(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+a]=t,t?i||n.addEventListener(e,a?ST:AT,a):n.removeEventListener(e,a?ST:AT,a);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function AT(n){Jl=!0;try{return this.l[n.type+!1](we.event?we.event(n):n)}finally{Jl=!1}}function ST(n){Jl=!0;try{return this.l[n.type+!0](we.event?we.event(n):n)}finally{Jl=!1}}function ti(n,e){this.props=n,this.context=e}function ph(n,e){if(e==null)return n.__?ph(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?ph(n):null}function n1(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return n1(n)}}function NH(n){Jl?setTimeout(n):ZI(n)}function a_(n){(!n.__d&&(n.__d=!0)&&ho.push(n)&&!Ig.__r++||ET!==we.debounceRendering)&&((ET=we.debounceRendering)||NH)(Ig)}function Ig(){var n,e,t,i,r,a,l,u;for(ho.sort(function(h,f){return h.__v.__b-f.__v.__b});n=ho.shift();)n.__d&&(e=ho.length,i=void 0,r=void 0,l=(a=(t=n).__v).__e,(u=t.__P)&&(i=[],(r=Js({},a)).__v=a.__v+1,Nb(u,a,r,t.__n,u.ownerSVGElement!==void 0,a.__h!=null?[l]:null,i,l??ph(a),a.__h),o1(i,a),a.__e!=l&&n1(a)),ho.length>e&&ho.sort(function(h,f){return h.__v.__b-f.__v.__b}));Ig.__r=0}function i1(n,e,t,i,r,a,l,u,h,f){var p,v,_,b,T,R,x,M=i&&i.__k||e1,j=M.length;for(t.__k=[],p=0;p<e.length;p++)if((b=t.__k[p]=(b=e[p])==null||typeof b=="boolean"?null:typeof b=="string"||typeof b=="number"||typeof b=="bigint"?Xf(null,b,null,null,b):Array.isArray(b)?Xf(Nt,{children:b},null,null,null):b.__b>0?Xf(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)!=null){if(b.__=t,b.__b=t.__b+1,(_=M[p])===null||_&&b.key==_.key&&b.type===_.type)M[p]=void 0;else for(v=0;v<j;v++){if((_=M[v])&&b.key==_.key&&b.type===_.type){M[v]=void 0;break}_=null}Nb(n,b,_=_||Cg,r,a,l,u,h,f),T=b.__e,(v=b.ref)&&_.ref!=v&&(x||(x=[]),_.ref&&x.push(_.ref,null,b),x.push(v,b.__c||T,b)),T!=null?(R==null&&(R=T),typeof b.type=="function"&&b.__k===_.__k?b.__d=h=r1(b,h,n):h=s1(n,b,_,M,T,h),typeof t.type=="function"&&(t.__d=h)):h&&_.__e==h&&h.parentNode!=n&&(h=ph(_))}for(t.__e=R,p=j;p--;)M[p]!=null&&(typeof t.type=="function"&&M[p].__e!=null&&M[p].__e==t.__d&&(t.__d=a1(i).nextSibling),c1(M[p],M[p]));if(x)for(p=0;p<x.length;p++)l1(x[p],x[++p],x[++p])}function r1(n,e,t){for(var i,r=n.__k,a=0;r&&a<r.length;a++)(i=r[a])&&(i.__=n,e=typeof i.type=="function"?r1(i,e,t):s1(t,i,i,r,i.__e,e));return e}function kg(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){kg(t,e)}):e.push(n)),e}function s1(n,e,t,i,r,a){var l,u,h;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(t==null||r!=a||r.parentNode==null)e:if(a==null||a.parentNode!==n)n.appendChild(r),l=null;else{for(u=a,h=0;(u=u.nextSibling)&&h<i.length;h+=1)if(u==r)break e;n.insertBefore(r,a),l=a}return l!==void 0?l:r.nextSibling}function a1(n){var e,t,i;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(i=a1(t)))return i}return null}function Nb(n,e,t,i,r,a,l,u,h){var f,p,v,_,b,T,R,x,M,j,z,$,J,ne,O,D=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(h=t.__h,u=e.__e=t.__e,e.__h=null,a=[u]),(f=we.__b)&&f(e);try{e:if(typeof D=="function"){if(x=e.props,M=(f=D.contextType)&&i[f.__c],j=f?M?M.props.value:f.__:i,t.__c?R=(p=e.__c=t.__c).__=p.__E:("prototype"in D&&D.prototype.render?e.__c=p=new D(x,j):(e.__c=p=new ti(x,j),p.constructor=D,p.render=PH),M&&M.sub(p),p.props=x,p.state||(p.state={}),p.context=j,p.__n=i,v=p.__d=!0,p.__h=[],p._sb=[]),p.__s==null&&(p.__s=p.state),D.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Js({},p.__s)),Js(p.__s,D.getDerivedStateFromProps(x,p.__s))),_=p.props,b=p.state,p.__v=e,v)D.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(D.getDerivedStateFromProps==null&&x!==_&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(x,j),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(x,p.__s,j)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(p.props=x,p.state=p.__s,p.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(I){I&&(I.__=e)}),z=0;z<p._sb.length;z++)p.__h.push(p._sb[z]);p._sb=[],p.__h.length&&l.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(x,p.__s,j),p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(_,b,T)})}if(p.context=j,p.props=x,p.__P=n,$=we.__r,J=0,"prototype"in D&&D.prototype.render){for(p.state=p.__s,p.__d=!1,$&&$(e),f=p.render(p.props,p.state,p.context),ne=0;ne<p._sb.length;ne++)p.__h.push(p._sb[ne]);p._sb=[]}else do p.__d=!1,$&&$(e),f=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++J<25);p.state=p.__s,p.getChildContext!=null&&(i=Js(Js({},i),p.getChildContext())),v||p.getSnapshotBeforeUpdate==null||(T=p.getSnapshotBeforeUpdate(_,b)),O=f!=null&&f.type===Nt&&f.key==null?f.props.children:f,i1(n,Array.isArray(O)?O:[O],e,t,i,r,a,l,u,h),p.base=e.__e,e.__h=null,p.__h.length&&l.push(p),R&&(p.__E=p.__=null),p.__e=!1}else a==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=OH(t.__e,e,t,i,r,a,l,h);(f=we.diffed)&&f(e)}catch(I){e.__v=null,(h||a!=null)&&(e.__e=u,e.__h=!!h,a[a.indexOf(u)]=null),we.__e(I,e,t)}}function o1(n,e){we.__c&&we.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){we.__e(i,t.__v)}})}function OH(n,e,t,i,r,a,l,u){var h,f,p,v=t.props,_=e.props,b=e.type,T=0;if(b==="svg"&&(r=!0),a!=null){for(;T<a.length;T++)if((h=a[T])&&"setAttribute"in h==!!b&&(b?h.localName===b:h.nodeType===3)){n=h,a[T]=null;break}}if(n==null){if(b===null)return document.createTextNode(_);n=r?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,_.is&&_),a=null,u=!1}if(b===null)v===_||u&&n.data===_||(n.data=_);else{if(a=a&&xp.call(n.childNodes),f=(v=t.props||Cg).dangerouslySetInnerHTML,p=_.dangerouslySetInnerHTML,!u){if(a!=null)for(v={},T=0;T<n.attributes.length;T++)v[n.attributes[T].name]=n.attributes[T].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===n.innerHTML)||(n.innerHTML=p&&p.__html||""))}if(MH(n,_,v,r,u),p)e.__k=[];else if(T=e.props.children,i1(n,Array.isArray(T)?T:[T],e,t,i,r&&b!=="foreignObject",a,l,a?a[0]:t.__k&&ph(t,0),u),a!=null)for(T=a.length;T--;)a[T]!=null&&t1(a[T]);u||("value"in _&&(T=_.value)!==void 0&&(T!==n.value||b==="progress"&&!T||b==="option"&&T!==v.value)&&Dg(n,"value",T,v.value,!1),"checked"in _&&(T=_.checked)!==void 0&&T!==n.checked&&Dg(n,"checked",T,v.checked,!1))}return n}function l1(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(i){we.__e(i,t)}}function c1(n,e,t){var i,r;if(we.unmount&&we.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||l1(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){we.__e(a,e)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&c1(i[r],e,t||typeof n.type!="function");t||n.__e==null||t1(n.__e),n.__=n.__e=n.__d=void 0}function PH(n,e,t){return this.constructor(n,t)}function mh(n,e,t){var i,r,a;we.__&&we.__(n,e),r=(i=!1)?null:e.__k,a=[],Nb(e,n=e.__k=Z(Nt,null,[n]),r||Cg,Cg,e.ownerSVGElement!==void 0,r?null:e.firstChild?xp.call(e.childNodes):null,a,r?r.__e:e.firstChild,i),o1(a,n)}function LH(n,e){var t={__c:e="__cC"+JI++,__:n,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,a;return this.getChildContext||(r=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&r.some(function(u){u.__e=!0,a_(u)})},this.sub=function(l){r.push(l);var u=l.componentWillUnmount;l.componentWillUnmount=function(){r.splice(r.indexOf(l),1),u&&u.call(l)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}xp=e1.slice,we={__e:function(n,e,t,i){for(var r,a,l;e=e.__;)if((r=e.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(n)),l=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(n,i||{}),l=r.__d),l)return r.__E=r}catch(u){n=u}throw n}},KI=0,XI=function(n){return n!=null&&n.constructor===void 0},Jl=!1,ti.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Js({},this.state),typeof n=="function"&&(n=n(Js({},t),this.props)),n&&Js(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),a_(this))},ti.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),a_(this))},ti.prototype.render=Nt,ho=[],ZI=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ig.__r=0,JI=0;var dr,sv,TT,u1=[],av=[],xT=we.__b,RT=we.__r,CT=we.diffed,DT=we.__c,IT=we.unmount;function jH(){for(var n;n=u1.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(Zf),n.__H.__h.forEach(o_),n.__H.__h=[]}catch(e){n.__H.__h=[],we.__e(e,n.__v)}}we.__b=function(n){dr=null,xT&&xT(n)},we.__r=function(n){RT&&RT(n);var e=(dr=n.__c).__H;e&&(sv===dr?(e.__h=[],dr.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=av,t.__N=t.i=void 0})):(e.__h.forEach(Zf),e.__h.forEach(o_),e.__h=[])),sv=dr},we.diffed=function(n){CT&&CT(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(u1.push(e)!==1&&TT===we.requestAnimationFrame||((TT=we.requestAnimationFrame)||VH)(jH)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==av&&(t.__=t.__V),t.i=void 0,t.__V=av})),sv=dr=null},we.__c=function(n,e){e.some(function(t){try{t.__h.forEach(Zf),t.__h=t.__h.filter(function(i){return!i.__||o_(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],we.__e(i,t.__v)}}),DT&&DT(n,e)},we.unmount=function(n){IT&&IT(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{Zf(i)}catch(r){e=r}}),t.__H=void 0,e&&we.__e(e,t.__v))};var kT=typeof requestAnimationFrame=="function";function VH(n){var e,t=function(){clearTimeout(i),kT&&cancelAnimationFrame(e),setTimeout(n)},i=setTimeout(t,100);kT&&(e=requestAnimationFrame(t))}function Zf(n){var e=dr,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),dr=e}function o_(n){var e=dr;n.__c=n.__(),dr=e}function UH(n,e){for(var t in e)n[t]=e[t];return n}function MT(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&n[i]!==e[i])return!0;return!1}function NT(n){this.props=n}(NT.prototype=new ti).isPureReactComponent=!0,NT.prototype.shouldComponentUpdate=function(n,e){return MT(this.props,n)||MT(this.state,e)};var OT=we.__b;we.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),OT&&OT(n)};var zH=we.__e;we.__e=function(n,e,t,i){if(n.then){for(var r,a=e;a=a.__;)if((r=a.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(n,e)}zH(n,e,t,i)};var PT=we.unmount;function h1(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=UH({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return h1(i,e,t)})),n}function d1(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return d1(i,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function ov(){this.__u=0,this.t=null,this.__b=null}function f1(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function yf(){this.u=null,this.o=null}we.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),PT&&PT(n)},(ov.prototype=new ti).__c=function(n,e){var t=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(t);var r=f1(i.__v),a=!1,l=function(){a||(a=!0,t.__R=null,r?r(u):u())};t.__R=l;var u=function(){if(!--i.__u){if(i.state.__a){var f=i.state.__a;i.__v.__k[0]=d1(f,f.__c.__P,f.__c.__O)}var p;for(i.setState({__a:i.__b=null});p=i.t.pop();)p.forceUpdate()}},h=e.__h===!0;i.__u++||h||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(l,l)},ov.prototype.componentWillUnmount=function(){this.t=[]},ov.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=h1(this.__b,t,i.__O=i.__P)}this.__b=null}var r=e.__a&&Z(Nt,null,n.fallback);return r&&(r.__h=null),[Z(Nt,null,e.__a?null:n.children),r]};var LT=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function BH(n){return this.getChildContext=function(){return n.context},n.children}function HH(n){var e=this,t=n.i;e.componentWillUnmount=function(){mh(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),mh(Z(BH,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function FH(n,e){var t=Z(HH,{__v:n,i:e});return t.containerInfo=e,t}(yf.prototype=new ti).__a=function(n){var e=this,t=f1(e.__v),i=e.o.get(n);return i[0]++,function(r){var a=function(){e.props.revealOrder?(i.push(r),LT(e,n,i)):r()};t?t(a):a()}},yf.prototype.render=function(n){this.u=null,this.o=new Map;var e=kg(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},yf.prototype.componentDidUpdate=yf.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){LT(n,t,e)})};var qH=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,WH=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,GH=typeof document<"u",$H=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};ti.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(ti.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var jT=we.event;function YH(){}function QH(){return this.cancelBubble}function KH(){return this.defaultPrevented}we.event=function(n){return jT&&(n=jT(n)),n.persist=YH,n.isPropagationStopped=QH,n.isDefaultPrevented=KH,n.nativeEvent=n};var VT={configurable:!0,get:function(){return this.class}},UT=we.vnode;we.vnode=function(n){var e=n.type,t=n.props,i=t;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var a in i={},t){var l=t[a];GH&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in t&&l==null||(a==="defaultValue"&&"value"in t&&t.value==null?a="value":a==="download"&&l===!0?l="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!$H(t.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():r&&WH.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():l===null&&(l=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),i[a]&&(a="oninputCapture")),i[a]=l)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=kg(t.children).forEach(function(u){u.props.selected=i.value.indexOf(u.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=kg(t.children).forEach(function(u){u.props.selected=i.multiple?i.defaultValue.indexOf(u.props.value)!=-1:i.defaultValue==u.props.value})),n.props=i,t.class!=t.className&&(VT.enumerable="className"in t,t.className!=null&&(i.class=t.className),Object.defineProperty(i,"className",VT))}n.$$typeof=qH,UT&&UT(n)};var zT=we.__r;we.__r=function(n){zT&&zT(n),n.__c};const g1=[],l_=new Map;function p1(n){g1.push(n),l_.forEach(e=>{y1(e,n)})}function XH(n){n.isConnected&&n.getRootNode&&m1(n.getRootNode())}function m1(n){let e=l_.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=JH();t&&(e.nonce=t);const i=n===document?document.head:n,r=n===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,r)}l_.set(n,e),ZH(e)}}function ZH(n){for(const e of g1)y1(n,e)}function y1(n,e){const{sheet:t}=n,i=t.cssRules.length;e.split("}").forEach((r,a)=>{r=r.trim(),r&&t.insertRule(r+"}",i+a)})}let lv;function JH(){return lv===void 0&&(lv=e6()),lv}function e6(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&m1(document);var t6=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';p1(t6);class Ob{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:i}=this;e in i&&(t?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Pb(n){n.parentNode&&n.parentNode.removeChild(n)}function Sn(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(n6(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function n6(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function i6(n,e){let t=n instanceof HTMLElement?[n]:n,i=[];for(let r=0;r<t.length;r+=1){let a=t[r].querySelectorAll(e);for(let l=0;l<a.length;l+=1)i.push(a[l])}return i}const r6=/(top|left|right|bottom|width|height)$/i;function Qu(n,e){for(let t in e)v1(n,t,e[t])}function v1(n,e,t){t==null?n.style[e]="":typeof t=="number"&&r6.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function _1(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let BT=0;function Rp(){return BT+=1,"fc-dom-"+BT}function Cp(n){n.preventDefault()}function s6(n,e){return t=>{let i=Sn(t.target,n);i&&e.call(i,t,i)}}function b1(n,e,t,i){let r=s6(t,i);return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}function a6(n,e,t,i){let r;return b1(n,"mouseover",e,(a,l)=>{if(l!==r){r=l,t(a,l);let u=h=>{r=null,i(h,l),l.removeEventListener("mouseleave",u)};l.addEventListener("mouseleave",u)}})}const HT=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function o6(n,e){let t=i=>{e(i),HT.forEach(r=>{n.removeEventListener(r,t)})};HT.forEach(i=>{n.addEventListener(i,t)})}function E1(n){return Object.assign({onClick:n},w1(n))}function w1(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let FT=0;function Lo(){return FT+=1,String(FT)}function Lb(){document.body.classList.add("fc-not-allowed")}function jb(){document.body.classList.remove("fc-not-allowed")}function l6(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",Cp)}function c6(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",Cp)}function u6(n){n.addEventListener("contextmenu",Cp)}function h6(n){n.removeEventListener("contextmenu",Cp)}function d6(n){let e=[],t=[],i,r;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)r=t[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function f6(n,e,t){let i,r;for(i=0;i<t.length;i+=1)if(r=g6(n,e,t[i]),r)return r;return 0}function g6(n,e,t){return t.func?t.func(n,e):p6(n[t.field],e[t.field])*(t.order||1)}function p6(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function cv(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function Ku(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((i,r,a)=>i.replace("$"+a,r||""),n):t}function m6(n,e){return n-e}function uv(n){return n%1===0}function y6(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const v6=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function et(n,e){return typeof n=="string"?_6(n):typeof n=="object"&&n?qT(n):typeof n=="number"?qT({[e||"milliseconds"]:n}):null}function _6(n){let e=v6.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function qT(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function b6(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function E6(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function w6(n){return Hl(n)/365}function A6(n){return Hl(n)/30}function Hl(n){return yh(n)/864e5}function yh(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function c_(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function ya(n,e,t){if(n===e)return!0;let i=n.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(!(t?t(n[r],e[r]):n[r]===e[r]))return!1;return!0}const S6=["sun","mon","tue","wed","thu","fri","sat"];function WT(n,e){let t=ea(n);return t[2]+=e*7,Hn(t)}function Tn(n,e){let t=ea(n);return t[2]+=e,Hn(t)}function va(n,e){let t=ea(n);return t[6]+=e,Hn(t)}function T6(n,e){return dc(n,e)/7}function dc(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function x6(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function R6(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function C6(n,e){return(e.valueOf()-n.valueOf())/1e3}function D6(n,e){let t=mt(n),i=mt(e);return{years:0,months:0,days:Math.round(dc(t,i)),milliseconds:e.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}function I6(n,e){let t=Mg(n,e);return t!==null&&t%7===0?t/7:null}function Mg(n,e){return ta(n)===ta(e)?Math.round(dc(n,e)):null}function mt(n){return Hn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function k6(n){return Hn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function M6(n){return Hn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function N6(n){return Hn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function O6(n,e,t){let i=n.getUTCFullYear(),r=hv(n,i,e,t);if(r<1)return hv(n,i-1,e,t);let a=hv(n,i+1,e,t);return a>=1?Math.min(r,a):r}function hv(n,e,t,i){let r=Hn([e,0,1+P6(e,t,i)]),a=mt(n),l=Math.round(dc(r,a));return Math.floor(l/7)+1}function P6(n,e,t){let i=7+e-t;return-((7+Hn([n,0,i]).getUTCDay()-e)%7)+i-1}function GT(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function $T(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function ea(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Hn(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function A1(n){return!isNaN(n.valueOf())}function ta(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function L6(n,e,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",Ub(e,!0)))),i}function Vb(n){return n.toISOString().replace(/T.*$/,"")}function j6(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function Ub(n,e=!1){let t=n<0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),a=Math.round(i%60);return e?`${t+cv(r,2)}:${cv(a,2)}`:`GMT${t}${r}${a?`:${cv(a,2)}`:""}`}function tt(n,e,t){let i,r;return function(...a){if(!i)r=n.apply(this,a);else if(!ya(i,a)){let l=n.apply(this,a);(!e||!e(l,r))&&(r=l)}return i=a,r}}function Jf(n,e,t){let i,r;return a=>(i?_r(i,a)||(r=n.call(this,a)):r=n.call(this,a),i=a,r)}const YT={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Ng={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},vf=/\s*([ap])\.?m\.?/i,V6=/,/g,U6=/\s+/g,z6=/\u200e/g,B6=/UTC|GMT/;class H6{constructor(e){let t={},i={},r=0;for(let a in e)a in YT?(i[a]=e[a],r=Math.max(YT[a],r)):(t[a]=e[a],a in Ng&&(r=Math.max(Ng[a],r)));this.standardDateProps=t,this.extendedSettings=i,this.severity=r,this.buildFormattingFunc=tt(QT)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,i,r){let{standardDateProps:a,extendedSettings:l}=this,u=Y6(e.marker,t.marker,i.calendarSystem);if(!u)return this.format(e,i);let h=u;h>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(h=1);let f=this.format(e,i),p=this.format(t,i);if(f===p)return f;let v=Q6(a,h),_=QT(v,l,i),b=_(e),T=_(t),R=K6(f,b,p,T),x=l.separator||r||i.defaultSeparator||"";return R?R.before+b+x+T+R.after:f+x+p}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function QT(n,e,t){let i=Object.keys(n).length;return i===1&&n.timeZoneName==="short"?r=>Ub(r.timeZoneOffset):i===0&&e.week?r=>$6(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,e.week):F6(n,e,t)}function F6(n,e,t){n=Object.assign({},n),e=Object.assign({},e),q6(n,e),n.timeZone="UTC";let i=new Intl.DateTimeFormat(t.locale.codes,n),r;if(e.omitZeroMinute){let a=Object.assign({},n);delete a.minute,r=new Intl.DateTimeFormat(t.locale.codes,a)}return a=>{let{marker:l}=a,u;r&&!l.getUTCMinutes()?u=r:u=i;let h=u.format(l);return W6(h,a,n,e,t)}}function q6(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function W6(n,e,t,i,r){return n=n.replace(z6,""),t.timeZoneName==="short"&&(n=G6(n,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Ub(e.timeZoneOffset))),i.omitCommas&&(n=n.replace(V6,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),i.meridiem===!1?n=n.replace(vf,"").trim():i.meridiem==="narrow"?n=n.replace(vf,(a,l)=>l.toLocaleLowerCase()):i.meridiem==="short"?n=n.replace(vf,(a,l)=>`${l.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(n=n.replace(vf,a=>a.toLocaleLowerCase())),n=n.replace(U6," "),n=n.trim(),n}function G6(n,e){let t=!1;return n=n.replace(B6,()=>(t=!0,e)),t||(n+=` ${e}`),n}function $6(n,e,t,i,r){let a=[];return r==="long"?a.push(t):(r==="short"||r==="narrow")&&a.push(e),(r==="long"||r==="short")&&a.push(" "),a.push(i.simpleNumberFormat.format(n)),i.options.direction==="rtl"&&a.reverse(),a.join("")}function Y6(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:ta(n)!==ta(e)?1:0}function Q6(n,e){let t={};for(let i in n)(!(i in Ng)||Ng[i]<=e)&&(t[i]=n[i]);return t}function K6(n,e,t,i){let r=0;for(;r<n.length;){let a=n.indexOf(e,r);if(a===-1)break;let l=n.substr(0,a);r=a+e.length;let u=n.substr(r),h=0;for(;h<t.length;){let f=t.indexOf(i,h);if(f===-1)break;let p=t.substr(0,f);h=f+i.length;let v=t.substr(h);if(l===p&&u===v)return{before:l,after:u}}}return null}function KT(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Og(n,e,t,i){let r=KT(n,t.calendarSystem),a=e?KT(e,t.calendarSystem):null;return{date:r,start:r,end:a,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}class X6{constructor(e){this.cmdStr=e}format(e,t,i){return t.cmdFormatter(this.cmdStr,Og(e,null,t,i))}formatRange(e,t,i,r){return i.cmdFormatter(this.cmdStr,Og(e,t,i,r))}}class Z6{constructor(e){this.func=e}format(e,t,i){return this.func(Og(e,null,t,i))}formatRange(e,t,i,r){return this.func(Og(e,t,i,r))}}function sn(n){return typeof n=="object"&&n?new H6(n):typeof n=="string"?new X6(n):typeof n=="function"?new Z6(n):null}const XT={navLinkDayClick:K,navLinkWeekClick:K,duration:et,bootstrapFontAwesome:K,buttonIcons:K,customButtons:K,defaultAllDayEventDuration:et,defaultTimedEventDuration:et,nextDayThreshold:et,scrollTime:et,scrollTimeReset:Boolean,slotMinTime:et,slotMaxTime:et,dayPopoverFormat:sn,slotDuration:et,snapDuration:et,headerToolbar:K,footerToolbar:K,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:sn,dayHeaderClassNames:K,dayHeaderContent:K,dayHeaderDidMount:K,dayHeaderWillUnmount:K,dayCellClassNames:K,dayCellContent:K,dayCellDidMount:K,dayCellWillUnmount:K,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:K,weekNumbers:Boolean,weekNumberClassNames:K,weekNumberContent:K,weekNumberDidMount:K,weekNumberWillUnmount:K,editable:Boolean,viewClassNames:K,viewDidMount:K,viewWillUnmount:K,nowIndicator:Boolean,nowIndicatorClassNames:K,nowIndicatorContent:K,nowIndicatorDidMount:K,nowIndicatorWillUnmount:K,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:K,locale:K,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:K,eventOrder:d6,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:K,contentHeight:K,direction:String,weekNumberFormat:sn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:K,initialDate:K,now:K,eventDataTransform:K,stickyHeaderDates:K,stickyFooterScrollbar:K,viewHeight:K,defaultAllDay:Boolean,eventSourceFailure:K,eventSourceSuccess:K,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:K,eventConstraint:K,eventAllow:K,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:K,eventContent:K,eventDidMount:K,eventWillUnmount:K,selectConstraint:K,selectOverlap:K,selectAllow:K,droppable:Boolean,unselectCancel:String,slotLabelFormat:K,slotLaneClassNames:K,slotLaneContent:K,slotLaneDidMount:K,slotLaneWillUnmount:K,slotLabelClassNames:K,slotLabelContent:K,slotLabelDidMount:K,slotLabelWillUnmount:K,dayMaxEvents:K,dayMaxEventRows:K,dayMinWidth:Number,slotLabelInterval:et,allDayText:String,allDayClassNames:K,allDayContent:K,allDayDidMount:K,allDayWillUnmount:K,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:sn,rerenderDelay:Number,moreLinkText:K,moreLinkHint:K,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:K,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:et,hiddenDays:K,fixedWeekCount:Boolean,validRange:K,visibleRange:K,titleFormat:K,eventInteractive:Boolean,noEventsText:String,viewHint:K,navLinkHint:K,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:K,moreLinkClassNames:K,moreLinkContent:K,moreLinkDidMount:K,moreLinkWillUnmount:K,monthStartFormat:sn,handleCustomRendering:K,customRenderingMetaMap:K,customRenderingReplaces:Boolean},Xu={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},ZT={datesSet:K,eventsSet:K,eventAdd:K,eventChange:K,eventRemove:K,windowResize:K,eventClick:K,eventMouseEnter:K,eventMouseLeave:K,select:K,unselect:K,loading:K,_unmount:K,_beforeprint:K,_afterprint:K,_noEventDrop:K,_noEventResize:K,_resize:K,_scrollRequest:K},JT={buttonText:K,buttonHints:K,views:K,plugins:K,initialEvents:K,events:K,eventSources:K},oo={headerToolbar:lo,footerToolbar:lo,buttonText:lo,buttonHints:lo,buttonIcons:lo,dateIncrement:lo,plugins:_f,events:_f,eventSources:_f,resources:_f};function lo(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?_r(n,e):n===e}function _f(n,e){return Array.isArray(n)&&Array.isArray(e)?ya(n,e):n===e}const J6={type:String,component:K,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:K,usesMinMaxTime:Boolean,classNames:K,content:K,didMount:K,willUnmount:K};function dv(n){return Bb(n,oo)}function zb(n,e){let t={},i={};for(let r in e)r in n&&(t[r]=e[r](n[r]));for(let r in n)r in e||(i[r]=n[r]);return{refined:t,extra:i}}function K(n){return n}const{hasOwnProperty:Pg}=Object.prototype;function Bb(n,e){let t={};if(e){for(let i in e)if(e[i]===lo){let r=[];for(let a=n.length-1;a>=0;a-=1){let l=n[a][i];if(typeof l=="object"&&l)r.unshift(l);else if(l!==void 0){t[i]=l;break}}r.length&&(t[i]=Bb(r))}}for(let i=n.length-1;i>=0;i-=1){let r=n[i];for(let a in r)a in t||(t[a]=r[a])}return t}function To(n,e){let t={};for(let i in n)e(n[i],i)&&(t[i]=n[i]);return t}function jo(n,e){let t={};for(let i in n)t[i]=e(n[i],i);return t}function S1(n){let e={};for(let t of n)e[t]=!0;return e}function Hb(n){let e=[];for(let t in n)e.push(n[t]);return e}function _r(n,e){if(n===e)return!0;for(let t in n)if(Pg.call(n,t)&&!(t in e))return!1;for(let t in e)if(Pg.call(e,t)&&n[t]!==e[t])return!1;return!0}const e5=/^on[A-Z]/;function t5(n,e){const t=u_(n,e);for(let i of t)if(!e5.test(i))return!1;return!0}function u_(n,e){let t=[];for(let i in n)Pg.call(n,i)&&(i in e||t.push(i));for(let i in e)Pg.call(e,i)&&n[i]!==e[i]&&t.push(i);return t}function fv(n,e,t={}){if(n===e)return!0;for(let i in e)if(!(i in n&&n5(n[i],e[i],t[i])))return!1;for(let i in n)if(!(i in e))return!1;return!0}function n5(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function i5(n,e=0,t,i=1){let r=[];t==null&&(t=Object.keys(n).length);for(let a=e;a<t;a+=i){let l=n[a];l!==void 0&&r.push(l)}return r}let T1={};function r5(n,e){T1[n]=e}function s5(n){return new T1[n]}class a5{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Hn(e)}markerToArray(e){return ea(e)}}r5("gregory",a5);const o5=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function l5(n){let e=o5.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(A1(t)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}class c5{constructor(e){let t=this.timeZone=e.timeZone,i=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=s5(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Hn(GT(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Hn(e)),t===null||!A1(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=l5(e);if(t===null)return null;let{marker:i}=t,r=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-t.timeZoneOffset*60*1e3):r=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(e,t){let i=this.calendarSystem.markerToArray(e);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,t){let{calendarSystem:i}=this;return ta(e)===ta(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)&&i.getMarkerMonth(e)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:i}=this;return ta(e)===ta(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(e)+(i.getMarkerYear(t)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let i=this.diffWholeYears(e,t);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,t),i!==null?{unit:"month",value:i}:(i=I6(e,t),i!==null?{unit:"week",value:i}:(i=Mg(e,t),i!==null?{unit:"day",value:i}:(i=x6(e,t),uv(i)?{unit:"hour",value:i}:(i=R6(e,t),uv(i)?{unit:"minute",value:i}:(i=C6(e,t),uv(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,i){let r;return i.years&&(r=this.diffWholeYears(e,t),r!==null)?r/w6(i):i.months&&(r=this.diffWholeMonths(e,t),r!==null)?r/A6(i):i.days&&(r=Mg(e,t),r!==null)?r/Hl(i):(t.valueOf()-e.valueOf())/yh(i)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?mt(e):t==="hour"?k6(e):t==="minute"?M6(e):t==="second"?N6(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):O6(e,this.weekDow,this.weekDoy)}format(e,t,i={}){return t.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,i,r={}){return r.isEndExclusive&&(t=va(t,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let i=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?i=t.forcedTzo:i=this.offsetForMarker(e)),L6(e,i,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Hn(GT(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Hn(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-$T(ea(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(ea(e)):null}toDate(e,t){return this.timeZone==="local"?$T(ea(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(ea(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class Lh{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,i;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(i in e)t[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let i;return t&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}Lh.prototype.classes={};Lh.prototype.iconClasses={};Lh.prototype.baseIconClass="";Lh.prototype.iconOverridePrefix="";function Lg(n){n();let e=we.debounceRendering,t=[];function i(r){t.push(r)}for(we.debounceRendering=i,mh(Z(u5,{}),document.createElement("div"));t.length;)t.shift()();we.debounceRendering=e}class u5 extends ti{render(){return Z("div",{})}componentDidMount(){this.setState({})}}function x1(n){let e=LH(n),t=e.Provider;return e.Provider=function(){let i=!this.getChildContext,r=t.apply(this,arguments);if(i){let a=[];this.shouldComponentUpdate=l=>{this.props.value!==l.value&&a.forEach(u=>{u.context=l.value,u.forceUpdate()})},this.sub=l=>{a.push(l);let u=l.componentWillUnmount;l.componentWillUnmount=()=>{a.splice(a.indexOf(l),1),u&&u.call(l)}}}return r},e}class h5{constructor(e,t,i,r){this.execFunc=e,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Vo=x1({});function d5(n,e,t,i,r,a,l,u,h,f,p,v,_){return{dateEnv:r,options:t,pluginHooks:l,emitter:f,dispatch:u,getCurrentData:h,calendarApi:p,viewSpec:n,viewApi:e,dateProfileGenerator:i,theme:a,isRtl:t.direction==="rtl",addResizeHandler(b){f.on("_resize",b)},removeResizeHandler(b){f.off("_resize",b)},createScrollResponder(b){return new h5(b,f,et(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:v,unregisterInteractiveComponent:_}}class Uo extends ti{shouldComponentUpdate(e,t){return this.debug&&console.log(u_(e,this.props),u_(t,this.state)),!fv(this.props,e,this.propEquality)||!fv(this.state,t,this.stateEquality)}safeSetState(e){fv(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Uo.addPropsEquality=f5;Uo.addStateEquality=g5;Uo.contextType=Vo;Uo.prototype.propEquality={};Uo.prototype.stateEquality={};class Tt extends Uo{}Tt.contextType=Vo;function f5(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function g5(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function cs(n,e){typeof n=="function"?n(e):n&&(n.current=e)}class Fb extends Tt{constructor(){super(...arguments),this.id=Lo(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:i}=this.props;(!t.customRenderingReplaces||!h_(i,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&cs(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:i}=t,{customGenerator:r,defaultGenerator:a,renderProps:l}=e,u=R1(e,[],this.handleEl);let h=!1,f,p=[],v;if(r!=null){const _=typeof r=="function"?r(l,Z):r;if(_===!0)h=!0;else{const b=_&&typeof _=="object";b&&"html"in _?u.dangerouslySetInnerHTML={__html:_.html}:b&&"domNodes"in _?p=Array.prototype.slice.call(_.domNodes):(b?XI(_):typeof _!="function")?f=_:v=_}}else h=!h_(e.generatorName,i);return h&&a&&(f=a(l)),this.queuedDomNodes=p,this.currentGeneratorMeta=v,Z(e.elTag,u,f)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:i,context:r}=this,{handleCustomRendering:a,customRenderingMetaMap:l}=r.options;if(a){const u=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:l==null?void 0:l[i.generatorName];u&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:u},i),{elClasses:(i.elClasses||[]).filter(p5)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,i=this.base;if(!ya(e,t)){t.forEach(Pb);for(let r of e)i.appendChild(r);this.currentDomNodes=e}}}Fb.addPropsEquality({elClasses:ya,elStyle:_r,elAttrs:t5,renderProps:_r});function h_(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function R1(n,e,t){const i=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(i.className=(n.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),n.elStyle&&(i.style=n.elStyle),i}function p5(n){return!!n}const C1=x1(0);class hs extends ti{constructor(){super(...arguments),this.InnerContent=m5.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(cs(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=y5(e.classNameGenerator,e.renderProps);if(e.children){const i=R1(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,i);return e.elTag?Z(e.elTag,i,r):r}else return Z(Fb,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}hs.contextType=C1;function m5(n,e){const t=n.props;return Z(Fb,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function y5(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}class ex extends Tt{render(){let{props:e,context:t}=this,{options:i}=t,r={view:t.viewApi};return Z(hs,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...D1(e.viewSpec),...e.elClasses||[]],renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>e.children)}}function D1(n){return[`fc-${n.type}-view`,"fc-view"]}function v5(n,e){let t=null,i=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(i=e.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}function tx(n,e){let t=[],{start:i}=e,r,a;for(n.sort(_5),r=0;r<n.length;r+=1)a=n[r],a.start>i&&t.push({start:i,end:a.start}),a.end>i&&(i=a.end);return i<e.end&&t.push({start:i,end:e.end}),t}function _5(n,e){return n.start.valueOf()-e.start.valueOf()}function ec(n,e){let{start:t,end:i}=n,r=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(t===null||i===null||t<i)&&(r={start:t,end:i}),r}function b5(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function qb(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function Dp(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function la(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function E5(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function I1(n){let e=Math.floor(dc(n.start,n.end))||1,t=mt(n.start),i=Tn(t,e);return{start:t,end:i}}function k1(n,e=et(0)){let t=null,i=null;if(n.end){i=mt(n.end);let r=n.end.valueOf()-i.valueOf();r&&r>=yh(e)&&(i=Tn(i,1))}return n.start&&(t=mt(n.start),i&&i<=t&&(i=Tn(t,1))),{start:t,end:i}}function jl(n,e,t,i){return i==="year"?et(t.diffWholeYears(n,e),"year"):i==="month"?et(t.diffWholeMonths(n,e),"month"):D6(n,e)}function w5(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function A5(n,e){let t=n.initialDate;return t!=null?e.createMarker(t):jh(n.now,e)}function jh(n,e){return typeof n=="function"&&(n=n()),n==null?e.createNowMarker():e.createMarker(n)}class M1{constructor(e){this.props=e,this.nowDate=jh(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,i){let{dateEnv:r}=this.props,a=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,i)}buildNext(e,t,i){let{dateEnv:r}=this.props,a=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,i)}build(e,t,i=!0){let{props:r}=this,a,l,u,h,f,p;return a=this.buildValidRange(),a=this.trimHiddenDays(a),i&&(e=E5(e,a)),l=this.buildCurrentRangeInfo(e,t),u=/^(year|month|week|day)$/.test(l.unit),h=this.buildRenderRange(this.trimHiddenDays(l.range),l.unit,u),h=this.trimHiddenDays(h),f=h,r.showNonCurrentDates||(f=ec(f,l.range)),f=this.adjustActiveRange(f),f=ec(f,a),p=qb(l.range,a),la(h,e)||(e=h.start),{currentDate:e,validRange:a,currentRange:l.range,currentRangeUnit:l.unit,isRangeAllDay:u,activeRange:f,renderRange:h,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:p,dateIncrement:this.buildDateIncrement(l.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:i}=this,r=null,a=null,l=null,u;return i.duration?(r=i.duration,a=i.durationUnit,l=this.buildRangeFromDuration(e,t,r,a)):(u=this.props.dayCount)?(a="day",l=this.buildRangeFromDayCount(e,t,u)):(l=this.buildCustomVisibleRange(e))?a=i.dateEnv.greatestWholeUnit(l.start,l.end).unit:(r=this.getFallbackDuration(),a=c_(r).unit,l=this.buildRangeFromDuration(e,t,r,a)),{duration:r,unit:a,range:l}}getFallbackDuration(){return et({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:a}=this.props,{start:l,end:u}=e;return i&&(Hl(r)<0&&(l=mt(l),l=t.add(l,r)),Hl(a)>1&&(u=mt(u),u=Tn(u,-1),u=t.add(u,a))),{start:l,end:u}}buildRangeFromDuration(e,t,i,r){let{dateEnv:a,dateAlignment:l}=this.props,u,h,f;if(!l){let{dateIncrement:v}=this.props;v&&yh(v)<yh(i)?l=c_(v).unit:l=r}Hl(i)<=1&&this.isHiddenDay(u)&&(u=this.skipHiddenDays(u,t),u=mt(u));function p(){u=a.startOf(e,l),h=a.add(u,i),f={start:u,end:h}}return p(),this.trimHiddenDays(f)||(e=this.skipHiddenDays(e,t),p()),f}buildRangeFromDayCount(e,t,i){let{dateEnv:r,dateAlignment:a}=this.props,l=0,u=e,h;a&&(u=r.startOf(u,a)),u=mt(u),u=this.skipHiddenDays(u,t),h=u;do h=Tn(h,1),this.isHiddenDay(h)||(l+=1);while(l<i);return{start:u,end:h}}buildCustomVisibleRange(e){let{props:t}=this,i=t.visibleRangeInput,r=typeof i=="function"?i.call(t.calendarApi,t.dateEnv.toDate(e)):i,a=this.refineRange(r);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,t,i){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,i;return t||((i=this.props.dateAlignment)?et(1,i):e||et({days:1}))}refineRange(e){if(e){let t=v5(e,this.props.dateEnv);return t&&(t=k1(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(t[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:i}=e;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),t==null||i==null||t<i?{start:t,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?t:0)+7)%7];)e=Tn(e,t);return e}}function Wb(n,e,t,i){return{instanceId:Lo(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:i??null}}function S5(n,e,t,i){for(let r=0;r<i.length;r+=1){let a=i[r].parse(n,t);if(a){let{allDay:l}=n;return l==null&&(l=e,l==null&&(l=a.allDayGuess,l==null&&(l=!1))),{allDay:l,duration:a.duration,typeData:a.typeData,typeId:r}}}return null}function xo(n,e,t){let{dateEnv:i,pluginHooks:r,options:a}=t,{defs:l,instances:u}=n;u=To(u,h=>!l[h.defId].recurringDef);for(let h in l){let f=l[h];if(f.recurringDef){let{duration:p}=f.recurringDef;p||(p=f.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let v=T5(f,p,e,i,r.recurringTypes);for(let _ of v){let b=Wb(h,{start:_,end:i.add(_,p)});u[b.instanceId]=b}}}return{defs:l,instances:u}}function T5(n,e,t,i,r){let l=r[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,e),end:t.end},i);return n.allDay&&(l=l.map(mt)),l}const eg={id:String,groupId:String,title:String,url:String,interactive:Boolean},N1={start:K,end:K,date:K,allDay:Boolean},x5=Object.assign(Object.assign(Object.assign({},eg),N1),{extendedProps:K});function O1(n,e,t,i,r=Gb(t),a,l){let{refined:u,extra:h}=P1(n,t,r),f=C5(e,t),p=S5(u,f,t.dateEnv,t.pluginHooks.recurringTypes);if(p){let _=d_(u,h,e?e.sourceId:"",p.allDay,!!p.duration,t,a);return _.recurringDef={typeId:p.typeId,typeData:p.typeData,duration:p.duration},{def:_,instance:null}}let v=R5(u,f,t,i);if(v){let _=d_(u,h,e?e.sourceId:"",v.allDay,v.hasEnd,t,a),b=Wb(_.defId,v.range,v.forcedStartTzo,v.forcedEndTzo);return l&&_.publicId&&l[_.publicId]&&(b.instanceId=l[_.publicId]),{def:_,instance:b}}return null}function P1(n,e,t=Gb(e)){return zb(n,t)}function Gb(n){return Object.assign(Object.assign(Object.assign({},jg),x5),n.pluginHooks.eventRefiners)}function d_(n,e,t,i,r,a,l){let u={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(l&&n.id?l[n.id]:"")||Lo(),sourceId:t,allDay:i,hasEnd:r,interactive:n.interactive,ui:Vg(n,a),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let h of a.pluginHooks.eventDefMemberAdders)Object.assign(u,h(n));return Object.freeze(u.ui.classNames),Object.freeze(u.extendedProps),u}function R5(n,e,t,i){let{allDay:r}=n,a,l=null,u=!1,h,f=null,p=n.start!=null?n.start:n.date;if(a=t.dateEnv.createMarkerMeta(p),a)l=a.marker;else if(!i)return null;return n.end!=null&&(h=t.dateEnv.createMarkerMeta(n.end)),r==null&&(e!=null?r=e:r=(!a||a.isTimeUnspecified)&&(!h||h.isTimeUnspecified)),r&&l&&(l=mt(l)),h&&(f=h.marker,r&&(f=mt(f)),l&&f<=l&&(f=null)),f?u=!0:i||(u=t.options.forceEventDuration||!1,f=t.dateEnv.add(l,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:u,range:{start:l,end:f},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:h?h.forcedTzo:null}}function C5(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function vh(n,e,t,i,r,a){let l=Oi(),u=Gb(t);for(let h of n){let f=O1(h,e,t,i,u,r,a);f&&f_(f,l)}return l}function f_(n,e=Oi()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function $b(n,e){let t=n.instances[e];if(t){let i=n.defs[t.defId],r=Ip(n,a=>D5(i,a));return r.defs[i.defId]=i,r.instances[t.instanceId]=t,r}return Oi()}function D5(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function Oi(){return{defs:{},instances:{}}}function Yb(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function Ip(n,e){let t=To(n.defs,e),i=To(n.instances,r=>t[r.defId]);return{defs:t,instances:i}}function I5(n,e){let{defs:t,instances:i}=n,r={},a={};for(let l in t)e.defs[l]||(r[l]=t[l]);for(let l in i)!e.instances[l]&&r[i[l].defId]&&(a[l]=i[l]);return{defs:r,instances:a}}function k5(n,e){return Array.isArray(n)?vh(n,null,e,!0):typeof n=="object"&&n?vh([n],null,e,!0):n!=null?String(n):null}function nx(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}const jg={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:K,overlap:K,allow:K,className:nx,classNames:nx,color:String,backgroundColor:String,borderColor:String,textColor:String},M5={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Vg(n,e){let t=k5(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function N5(n){return n.reduce(O5,M5)}function O5(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const P5={id:String,defaultAllDay:Boolean,url:String,format:String,events:K,eventDataTransform:K,success:K,failure:K};function L1(n,e,t=j1(e)){let i;if(typeof n=="string"?i={url:n}:typeof n=="function"||Array.isArray(n)?i={events:n}:typeof n=="object"&&n&&(i=n),i){let{refined:r,extra:a}=zb(i,t),l=L5(r,e);if(l)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:Lo(),sourceDefId:l.sourceDefId,meta:l.meta,ui:Vg(r,e),extendedProps:a}}return null}function j1(n){return Object.assign(Object.assign(Object.assign({},jg),P5),n.pluginHooks.eventSourceRefiners)}function L5(n,e){let t=e.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let a=t[i].parseMeta(n);if(a)return{sourceDefId:i,meta:a}}return null}function j5(n,e,t,i,r){switch(e.type){case"RECEIVE_EVENTS":return V5(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return U5(n,t[e.sourceId],e.rawEvents,i.activeRange,r);case"ADD_EVENTS":return z5(n,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Yb(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?xo(n,i.activeRange,r):n;case"REMOVE_EVENTS":return I5(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return U1(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Ip(n,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return Oi();default:return n}}function V5(n,e,t,i,r,a){if(e&&t===e.latestFetchId){let l=vh(V1(r,e,a),e,a);return i&&(l=xo(l,i,a)),Yb(U1(n,e.sourceId),l)}return n}function U5(n,e,t,i,r){const{defIdMap:a,instanceIdMap:l}=H5(n);let u=vh(V1(t,e,r),e,r,!1,a,l);return xo(u,i,r)}function V1(n,e,t){let i=t.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(n=ix(n,r)),i&&(n=ix(n,i)),n}function ix(n,e){let t;if(!e)t=n;else{t=[];for(let i of n){let r=e(i);r?t.push(r):r==null&&t.push(i)}}return t}function z5(n,e,t,i){return t&&(e=xo(e,t,i)),Yb(n,e)}function rx(n,e,t){let{defs:i}=n,r=jo(n.instances,a=>i[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:t.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:t.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:a.forcedEndTzo}));return{defs:i,instances:r}}function U1(n,e){return Ip(n,t=>t.sourceId!==e)}function B5(n,e){return{defs:n.defs,instances:To(n.instances,t=>!e[t.instanceId])}}function H5(n){const{defs:e,instances:t}=n,i={},r={};for(let a in e){const l=e[a],{publicId:u}=l;u&&(i[u]=a)}for(let a in t){const l=t[a],u=e[l.defId],{publicId:h}=u;h&&(r[h]=a)}return{defIdMap:i,instanceIdMap:r}}class kp{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){F5(this.handlers,e,t)}off(e,t){q5(this.handlers,e,t)}trigger(e,...t){let i=this.handlers[e]||[],r=this.options&&this.options[e],a=[].concat(r||[],i);for(let l of a)l.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function F5(n,e,t){(n[e]||(n[e]=[])).push(t)}function q5(n,e,t){t?n[e]&&(n[e]=n[e].filter(i=>i!==t)):delete n[e]}const W5={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function G5(n,e){return vh($5(n),null,e)}function $5(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},W5),t)),e}function z1(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},Qb(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function Y5(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Qb(n,e){let t={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,e));return Object.assign(t,cF(n,e.dateEnv)),t}function sx(n,e,t){let{dateEnv:i,options:r}=t,a=e;return n?(a=mt(a),a=i.add(a,r.defaultAllDayEventDuration)):a=i.add(a,r.defaultTimedEventDuration),a}function Kb(n,e,t,i){let r=Ug(n.defs,e),a=Oi();for(let l in n.defs){let u=n.defs[l];a.defs[l]=Q5(u,r[l],t,i)}for(let l in n.instances){let u=n.instances[l],h=a.defs[u.defId];a.instances[l]=K5(u,h,r[u.defId],t,i)}return a}function Q5(n,e,t,i){let r=t.standardProps||{};r.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},n),r),{ui:Object.assign(Object.assign({},n.ui),r.ui)});t.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),t.extendedProps));for(let l of i.pluginHooks.eventDefMutationAppliers)l(a,t,i);return!a.hasEnd&&i.options.forceEventDuration&&(a.hasEnd=!0),a}function K5(n,e,t,i,r){let{dateEnv:a}=r,l=i.standardProps&&i.standardProps.allDay===!0,u=i.standardProps&&i.standardProps.hasEnd===!1,h=Object.assign({},n);return l&&(h.range=I1(h.range)),i.datesDelta&&t.startEditable&&(h.range={start:a.add(h.range.start,i.datesDelta),end:a.add(h.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(h.range={start:a.add(h.range.start,i.startDelta),end:h.range.end}),i.endDelta&&t.durationEditable&&(h.range={start:h.range.start,end:a.add(h.range.end,i.endDelta)}),u&&(h.range={start:h.range.start,end:sx(e.allDay,h.range.start,r)}),e.allDay&&(h.range={start:mt(h.range.start),end:mt(h.range.end)}),h.range.end<h.range.start&&(h.range.end=sx(e.allDay,h.range.start,r)),h}class Pl{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class yt{constructor(e,t,i){this._context=e,this._def=t,this._instance=i||null}setProp(e,t){if(e in N1)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=eg[e](t),this.mutate({standardProps:{publicId:t}});else if(e in eg)t=eg[e](t),this.mutate({standardProps:{[e]:t}});else if(e in jg){let i=jg[e](t);e==="color"?i={backgroundColor:t,borderColor:t}:e==="editable"?i={startEditable:t,durationEditable:t}:i={[e]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:i}=this._context,r=i.createMarker(e);if(r&&this._instance){let a=this._instance.range,l=jl(a.start,r,i,t.granularity);t.maintainDuration?this.mutate({datesDelta:l}):this.mutate({startDelta:l})}}setEnd(e,t={}){let{dateEnv:i}=this._context,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){let a=jl(this._instance.range.end,r,i,t.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,i={}){let{dateEnv:r}=this._context,a={allDay:i.allDay},l=r.createMarker(e),u;if(l&&!(t!=null&&(u=r.createMarker(t),!u))&&this._instance){let h=this._instance.range;i.allDay===!0&&(h=I1(h));let f=jl(h.start,l,r,i.granularity);if(u){let p=jl(h.end,u,r,i.granularity);b6(f,p)?this.mutate({datesDelta:f,standardProps:a}):this.mutate({startDelta:f,endDelta:p,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:f,standardProps:a})}}moveStart(e){let t=et(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=et(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=et(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let i={allDay:e},{maintainDuration:r}=t;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:t}=this._context,i=this._instance,r=sn(e);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let i=this._def,r=this._context,{eventStore:a}=r.getCurrentData(),l=$b(a,t.instanceId);l=Kb(l,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let h=new yt(r,i,t);this._def=l.defs[i.defId],this._instance=l.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:l}),r.emitter.trigger("eventChange",{oldEvent:h,event:this,relatedEvents:yo(l,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,t=B1(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new Pl(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:i}=t,{startStr:r,endStr:a}=this,l={allDay:t.allDay};return t.title&&(l.title=t.title),r&&(l.start=r),a&&(l.end=a),t.publicId&&(l.id=t.publicId),t.groupId&&(l.groupId=t.groupId),t.url&&(l.url=t.url),i.display&&i.display!=="auto"&&(l.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?l.color=i.backgroundColor:(i.backgroundColor&&(l.backgroundColor=i.backgroundColor),i.borderColor&&(l.borderColor=i.borderColor)),i.textColor&&(l.textColor=i.textColor),i.classNames.length&&(l.classNames=i.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(l,t.extendedProps):l.extendedProps=t.extendedProps),l}toJSON(){return this.toPlainObject()}}function B1(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function yo(n,e,t){let{defs:i,instances:r}=n,a=[],l=t?t.instanceId:"";for(let u in r){let h=r[u],f=i[h.defId];h.instanceId!==l&&a.push(new yt(e,f,h))}return a}function ax(n,e,t,i){let r={},a={},l={},u=[],h=[],f=Ug(n.defs,e);for(let p in n.defs){let v=n.defs[p];f[v.defId].display==="inverse-background"&&(v.groupId?(r[v.groupId]=[],l[v.groupId]||(l[v.groupId]=v)):a[p]=[])}for(let p in n.instances){let v=n.instances[p],_=n.defs[v.defId],b=f[_.defId],T=v.range,R=!_.allDay&&i?k1(T,i):T,x=ec(R,t);x&&(b.display==="inverse-background"?_.groupId?r[_.groupId].push(x):a[v.defId].push(x):b.display!=="none"&&(b.display==="background"?u:h).push({def:_,ui:b,instance:v,range:x,isStart:R.start&&R.start.valueOf()===x.start.valueOf(),isEnd:R.end&&R.end.valueOf()===x.end.valueOf()}))}for(let p in r){let v=r[p],_=tx(v,t);for(let b of _){let T=l[p],R=f[T.defId];u.push({def:T,ui:R,instance:null,range:b,isStart:!1,isEnd:!1})}}for(let p in a){let v=a[p],_=tx(v,t);for(let b of _)u.push({def:n.defs[p],ui:f[p],instance:null,range:b,isStart:!1,isEnd:!1})}return{bg:u,fg:h}}function ox(n,e){n.fcSeg=e}function tc(n){return n.fcSeg||n.parentNode.fcSeg||null}function Ug(n,e){return jo(n,t=>H1(t,e))}function H1(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),N5(t)}function X5(n,e){let t=n.map(Z5);return t.sort((i,r)=>f6(i,r,e)),t.map(i=>i._seg)}function Z5(n){let{eventRange:e}=n,t=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,a=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:a,duration:a-r,allDay:Number(t.allDay),_seg:n})}function J5(n,e){let{pluginHooks:t}=e,i=t.isDraggableTransformers,{def:r,ui:a}=n.eventRange,l=a.startEditable;for(let u of i)l=u(l,r,a,e);return l}function eF(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function tF(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function F1(n,e,t,i,r,a,l){let{dateEnv:u,options:h}=t,{displayEventTime:f,displayEventEnd:p}=h,v=n.eventRange.def,_=n.eventRange.instance;f==null&&(f=i!==!1),p==null&&(p=r!==!1);let b=_.range.start,T=_.range.end,R=n.start||n.eventRange.range.start,x=n.end||n.eventRange.range.end,M=mt(b).valueOf()===mt(R).valueOf(),j=mt(va(T,-1)).valueOf()===mt(va(x,-1)).valueOf();return f&&!v.allDay&&(M||j)?(R=M?b:R,x=j?T:x,p&&v.hasEnd?u.formatRange(R,x,e,{forcedStartTzo:_.forcedStartTzo,forcedEndTzo:_.forcedEndTzo}):u.format(R,e,{forcedTzo:_.forcedStartTzo})):""}function Zu(n,e,t){let i=n.eventRange.range;return{isPast:i.end<=e.start,isFuture:i.start>=e.end,isToday:e&&la(e,i.start)}}function nF(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function iF(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function q1(n,e){let{def:t,instance:i}=n.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:a,options:l}=e,{eventInteractive:u}=l;return u==null&&(u=t.interactive,u==null&&(u=!!a.hasHandlers("eventClick"))),u?w1(h=>{a.trigger("eventClick",{el:h.target,event:new yt(e,t,i),jsEvent:h,view:e.viewApi})}):{}}const rF={start:K,end:K,allDay:Boolean};function sF(n,e,t){let i=aF(n,e),{range:r}=i;if(!r.start)return null;if(!r.end){if(t==null)return null;r.end=e.add(r.start,t)}return i}function aF(n,e){let{refined:t,extra:i}=zb(n,rF),r=t.start?e.createMarkerMeta(t.start):null,a=t.end?e.createMarkerMeta(t.end):null,{allDay:l}=t;return l==null&&(l=r&&r.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:a?a.marker:null},allDay:l},i)}function oF(n,e){return b5(n.range,e.range)&&n.allDay===e.allDay&&lF(n,e)}function lF(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function cF(n,e){return Object.assign(Object.assign({},G1(n.range,e,n.allDay)),{allDay:n.allDay})}function W1(n,e,t){return Object.assign(Object.assign({},G1(n,e,t)),{timeZone:e.timeZone})}function G1(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function uF(n,e,t){let i=P1({editable:!1},t),r=d_(i.refined,i.extra,"",n.allDay,!0,t);return{def:r,ui:H1(r,e),instance:Wb(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function hF(n,e,t){let i=!1,r=function(u){i||(i=!0,e(u))},a=function(u){i||(i=!0,t(u))},l=n(r,a);l&&typeof l.then=="function"&&l.then(r,a)}class lx extends Error{constructor(e,t){super(e),this.response=t}}function dF(n,e,t){n=n.toUpperCase();const i={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(r=>{if(r.ok)return r.json().then(a=>[a,r],()=>{throw new lx("Failure parsing JSON",r)});throw new lx("Request failed",r)})}let gv;function $1(){return gv==null&&(gv=fF()),gv}function fF(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}class gF extends Tt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Lg(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Lg(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:i}=this.state,r=i||t.height==="auto"||t.contentHeight==="auto",a=!r&&t.height!=null?t.height:"",l=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return $1()||l.push("fc-liquid-hack"),e.children(l,a,r,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let fc=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function pF(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Xb(n){return{[n.component.uid]:n}}const g_={};class mF{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let i=this.getCurrentData(),r;t=t||"day",r=i.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),a,l;for(let u in t)r.push(u);for(a=0;a<r.length;a+=1)if(l=t[r[a]],l&&l.singleUnit===e)return l;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:jh(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),i=et(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),sn(t))}formatRange(e,t,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),sn(i),i)}formatIso(e,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:t})}select(e,t){let i;t==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:t};let r=this.getCurrentData(),a=sF(i,r.dateEnv,et({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),z1(a,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),Y5(e,t))}addEvent(e,t){if(e instanceof yt){let l=e._def,u=e._instance;return this.getCurrentData().eventStore.defs[l.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:f_({def:l,instance:u})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),r;if(t instanceof Pl)r=t.internalEventSource;else if(typeof t=="boolean")t&&([r]=Hb(i.eventSources));else if(t!=null){let l=this.getEventSourceById(t);if(!l)return console.warn(`Could not find an event source with ID "${t}"`),null;r=l.internalEventSource}let a=O1(e,r,i,!1);if(a){let l=new yt(i,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:f_(a)}),this.triggerEventAdd(l),l}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:B1(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:i,instances:r}=t.eventStore;e=String(e);for(let a in i){let l=i[a];if(l.publicId===e){if(l.recurringDef)return new yt(t,l,null);for(let u in r){let h=r[u];if(h.defId===l.defId)return new yt(t,l,h)}}}return null}getEvents(){let e=this.getCurrentData();return yo(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,i=[];for(let r in t)i.push(new Pl(e,t[r]));return i}getEventSourceById(e){let t=this.getCurrentData(),i=t.eventSources;e=String(e);for(let r in i)if(i[r].publicId===e)return new Pl(t,i[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof Pl)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=L1(e,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new Pl(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=et(e);t&&this.trigger("_scrollRequest",{time:t})}}function yF(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function Y1(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function vF(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function _F(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function bF(n,e){return{left:n.left-e.left,top:n.top-e.top}}function Q1(n,e,t,i){return{dow:n.getUTCDay(),isDisabled:!!(i&&!la(i.activeRange,n)),isOther:!!(i&&!la(i.currentRange,n)),isToday:!!(e&&la(e,n)),isPast:!!(e&&n<e.start),isFuture:!!(e&&n>=e.end)}}function Zb(n,e){let t=["fc-day",`fc-day-${S6[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const EF=sn({year:"numeric",month:"long",day:"numeric"}),wF=sn({week:"long"});function p_(n,e,t="day",i=!0){const{dateEnv:r,options:a,calendarApi:l}=n;let u=r.format(e,t==="week"?wF:EF);if(a.navLinks){let h=r.toDate(e);const f=p=>{let v=t==="day"?a.navLinkDayClick:t==="week"?a.navLinkWeekClick:null;typeof v=="function"?v.call(l,r.toDate(e),p):(typeof v=="string"&&(t=v),l.zoomTo(e,t))};return Object.assign({title:Ku(a.navLinkHint,[u,h],u),"data-navlink":""},i?E1(f):{onClick:f})}return{"aria-label":u}}let pv=null;function AF(){return pv===null&&(pv=SF()),pv}function SF(){let n=document.createElement("div");Qu(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return Pb(n),t}let mv;function TF(){return mv||(mv=xF()),mv}function xF(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=K1(n);return document.body.removeChild(n),e}function K1(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function RF(n,e=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,a=parseInt(t.borderTopWidth,10)||0,l=parseInt(t.borderBottomWidth,10)||0,u=K1(n),h=u.y-i-r,f=u.x-a-l,p={borderLeft:i,borderRight:r,borderTop:a,borderBottom:l,scrollbarBottom:f,scrollbarLeft:0,scrollbarRight:0};return AF()&&t.direction==="rtl"?p.scrollbarLeft=h:p.scrollbarRight=h,e&&(p.paddingLeft=parseInt(t.paddingLeft,10)||0,p.paddingRight=parseInt(t.paddingRight,10)||0,p.paddingTop=parseInt(t.paddingTop,10)||0,p.paddingBottom=parseInt(t.paddingBottom,10)||0),p}function CF(n,e=!1,t){let i=Jb(n),r=RF(n,e),a={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(a.left+=r.paddingLeft,a.right-=r.paddingRight,a.top+=r.paddingTop,a.bottom-=r.paddingBottom),a}function Jb(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function DF(n){let e=X1(n),t=n.getBoundingClientRect();for(let i of e){let r=Y1(t,i.getBoundingClientRect());if(r)t=r;else return null}return t}function X1(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}class zg{constructor(e,t,i,r){this.els=t;let a=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(a.left),r&&this.buildElVerticals(a.top)}buildElHorizontals(e){let t=[],i=[];for(let r of this.els){let a=r.getBoundingClientRect();t.push(a.left-e),i.push(a.right-e)}this.lefts=t,this.rights=i}buildElVerticals(e){let t=[],i=[];for(let r of this.els){let a=r.getBoundingClientRect();t.push(a.top-e),i.push(a.bottom-e)}this.tops=t,this.bottoms=i}leftToIndex(e){let{lefts:t,rights:i}=this,r=t.length,a;for(a=0;a<r;a+=1)if(e>=t[a]&&e<i[a])return a}topToIndex(e){let{tops:t,bottoms:i}=this,r=t.length,a;for(a=0;a<r;a+=1)if(e>=t[a]&&e<i[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return bf(this.tops||[],e.tops||[])&&bf(this.bottoms||[],e.bottoms||[])&&bf(this.lefts||[],e.lefts||[])&&bf(this.rights||[],e.rights||[])}}function bf(n,e){const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(e[i]))return!1;return!0}class e0{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class IF extends e0{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class kF extends e0{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class zo extends Tt{constructor(){super(...arguments),this.uid=Lo()}prepareHits(){}queryHit(e,t,i,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Sn(e,".fc-event-mirror")}isValidDateDownEl(e){return!Sn(e,".fc-event:not(.fc-bg-event)")&&!Sn(e,".fc-more-link")&&!Sn(e,"a[data-navlink]")&&!Sn(e,".fc-popover")}}class MF{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let i of e)this.insertEntry(i,t);return t}insertEntry(e,t){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,i){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},t),{span:Z1(t.span,e.touchingEntry.span)});i.push(r),this.splitEntry(t,e.touchingEntry,i)}else i.push(t)}splitEntry(e,t,i){let r=e.span,a=t.span;r.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:a.start}},i),r.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:r.end}},i)}insertEntryAt(e,t){let{entriesByLevel:i,levelCoords:r}=this;t.lateral===-1?(yv(r,t.level,t.levelCoord),yv(i,t.level,[e])):yv(i[t.level],t.lateral,e),this.stackCnts[Ju(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:i,strictOrder:r,stackCnts:a}=this,l=t.length,u=0,h=-1,f=-1,p=null,v=0;for(let T=0;T<l;T+=1){const R=t[T];if(!r&&R>=u+this.getEntryThickness(e))break;let x=i[T],M,j=ux(x,e.span.start,cx),z=j[0]+j[1];for(;(M=x[z])&&M.span.start<e.span.end;){let $=R+this.getEntryThickness(M);$>u&&(u=$,p=M,h=T,f=z),$===u&&(v=Math.max(v,a[Ju(M)]+1)),z+=1}}let _=0;if(p)for(_=h+1;_<l&&t[_]<u;)_+=1;let b=-1;return _<l&&t[_]===u&&(b=ux(i[_],e.span.end,cx)[0]),{touchingLevel:h,touchingLateral:f,touchingEntry:p,stackCnt:v,levelCoord:u,level:_,lateral:b}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,i=e.length,r=[];for(let a=0;a<i;a+=1){let l=e[a],u=t[a];for(let h of l)r.push(Object.assign(Object.assign({},h),{thickness:this.getEntryThickness(h),levelCoord:u}))}return r}}function cx(n){return n.span.end}function Ju(n){return n.index+":"+n.span.start}function Z1(n,e){let t=Math.max(n.start,e.start),i=Math.min(n.end,e.end);return t<i?{start:t,end:i}:null}function yv(n,e,t){n.splice(e,0,t)}function ux(n,e,t){let i=0,r=n.length;if(!r||e<t(n[i]))return[0,0];if(e>t(n[r-1]))return[r,0];for(;i<r;){let a=Math.floor(i+(r-i)/2),l=t(n[a]);if(e<l)r=a;else if(e>l)i=a+1;else return[a,1]}return[i,0]}class NF{constructor(e,t){this.emitter=new kp}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const t0={};function OF(n,e){return!n||e>10?sn({weekday:"short"}):e>1?sn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):sn({weekday:"long"})}const J1="fc-col-header-cell";function ek(n){return n.text}class PF extends Tt{render(){let{dateEnv:e,options:t,theme:i,viewApi:r}=this.context,{props:a}=this,{date:l,dateProfile:u}=a,h=Q1(l,a.todayRange,null,u),f=[J1].concat(Zb(h,i)),p=e.format(l,a.dayHeaderFormat),v=!h.isDisabled&&a.colCnt>1?p_(this.context,l):{},_=Object.assign(Object.assign(Object.assign({date:e.toDate(l),view:r},a.extraRenderProps),{text:p}),h);return Z(hs,{elTag:"th",elClasses:f,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":h.isDisabled?void 0:Vb(l)},a.extraDataAttrs),renderProps:_,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:ek,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},b=>Z("div",{className:"fc-scrollgrid-sync-inner"},!h.isDisabled&&Z(b,{elTag:"a",elAttrs:v,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const LF=sn({weekday:"long"});class jF extends Tt{render(){let{props:e}=this,{dateEnv:t,theme:i,viewApi:r,options:a}=this.context,l=Tn(new Date(2592e5),e.dow),u={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},h=t.format(l,e.dayHeaderFormat),f=Object.assign(Object.assign(Object.assign(Object.assign({date:l},u),{view:r}),e.extraRenderProps),{text:h});return Z(hs,{elTag:"th",elClasses:[J1,...Zb(u,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:f,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:ek,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},p=>Z("div",{className:"fc-scrollgrid-sync-inner"},Z(p,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(l,LF)}})))}}class n0 extends ti{constructor(e,t){super(e,t),this.initialNowDate=jh(t.options.now,t.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:t}=this,i=va(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),r=t.dateEnv.startOf(i,e.unit),a=t.dateEnv.add(r,et(1,e.unit)),l=a.valueOf()-i.valueOf();return l=Math.min(1e3*60*60*24,l),{currentState:{nowDate:r,todayRange:hx(r)},nextState:{nowDate:a,todayRange:hx(a)},waitMs:l}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}n0.contextType=Vo;function hx(n){let e=mt(n),t=Tn(e,1);return{start:e,end:t}}class VF extends Tt{constructor(){super(...arguments),this.createDayHeaderFormatter=tt(UF)}render(){let{context:e}=this,{dates:t,dateProfile:i,datesRepDistinctDays:r,renderIntro:a}=this.props,l=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return Z(n0,{unit:"day"},(u,h)=>Z("tr",{role:"row"},a&&a("day"),t.map(f=>r?Z(PF,{key:f.toISOString(),date:f,dateProfile:i,todayRange:h,colCnt:t.length,dayHeaderFormat:l}):Z(jF,{key:f.getUTCDay(),dow:f.getUTCDay(),dayHeaderFormat:l}))))}}function UF(n,e,t){return n||OF(e,t)}class zF{constructor(e,t){let i=e.start,{end:r}=e,a=[],l=[],u=-1;for(;i<r;)t.isHiddenDay(i)?a.push(u+.5):(u+=1,a.push(u),l.push(i)),i=Tn(i,1);this.dates=l,this.indices=a,this.cnt=l.length}sliceRange(e){let t=this.getDateDayIndex(e.start),i=this.getDateDayIndex(Tn(e.end,-1)),r=Math.max(0,t),a=Math.min(this.cnt-1,i);return r=Math.ceil(r),a=Math.floor(a),r<=a?{firstIndex:r,lastIndex:a,isStart:t===r,isEnd:i===a}:null}getDateDayIndex(e){let{indices:t}=this,i=Math.floor(dc(this.dates[0],e));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}}class BF{constructor(e,t){let{dates:i}=e,r,a,l;if(t){for(a=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==a;r+=1);l=Math.ceil(i.length/r)}else l=1,r=i.length;this.rowCnt=l,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(t,r));e.push(i)}return e}buildCell(e,t){let i=this.daySeries.dates[e*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,i=this.daySeries.sliceRange(e),r=[];if(i){let{firstIndex:a,lastIndex:l}=i,u=a;for(;u<=l;){let h=Math.floor(u/t),f=Math.min((h+1)*t,l+1);r.push({row:h,firstCol:u%t,lastCol:(f-1)%t,isStart:i.isStart&&u===a,isEnd:i.isEnd&&f-1===l}),u=f}}return r}}class HF{constructor(){this.sliceBusinessHours=tt(this._sliceBusinessHours),this.sliceDateSelection=tt(this._sliceDateSpan),this.sliceEventStore=tt(this._sliceEventStore),this.sliceEventDrag=tt(this._sliceInteraction),this.sliceEventResize=tt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,i,r,...a){let{eventUiBases:l}=e,u=this.sliceEventStore(e.eventStore,l,t,i,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,i,l,r,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,i,r,...a),fgEventSegs:u.fg,bgEventSegs:u.bg,eventDrag:this.sliceEventDrag(e.eventDrag,l,t,i,...a),eventResize:this.sliceEventResize(e.eventResize,l,t,i,...a),eventSelection:e.eventSelection}}sliceNowDate(e,t,i,r,...a){return this._sliceDateSpan({range:{start:e,end:va(e,1)},allDay:!1},t,i,{},r,...a)}_sliceBusinessHours(e,t,i,r,...a){return e?this._sliceEventStore(xo(e,Ef(t,!!i),r),{},t,i,...a).bg:[]}_sliceEventStore(e,t,i,r,...a){if(e){let l=ax(e,t,Ef(i,!!r),r);return{bg:this.sliceEventRanges(l.bg,a),fg:this.sliceEventRanges(l.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,i,r,...a){if(!e)return null;let l=ax(e.mutatedEvents,t,Ef(i,!!r),r);return{segs:this.sliceEventRanges(l.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,i,r,a,...l){if(!e)return[];let u=Ef(t,!!i),h=ec(e.range,u);if(h){e=Object.assign(Object.assign({},e),{range:h});let f=uF(e,r,a),p=this.sliceRange(e.range,...l);for(let v of p)v.eventRange=f;return p}return[]}sliceEventRanges(e,t){let i=[];for(let r of e)i.push(...this.sliceEventRange(r,t));return i}sliceEventRange(e,t){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:Tn(i.start,1)});let r=this.sliceRange(i,...t);for(let a of r)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return r}}function Ef(n,e){let t=n.activeRange;return e?t:{start:va(t.start,n.slotMinTime.milliseconds),end:va(t.end,n.slotMaxTime.milliseconds-864e5)}}function tk(n,e,t){let{instances:i}=n.mutatedEvents;for(let r in i)if(!Dp(e.validRange,i[r].range))return!1;return nk({eventDrag:n},t)}function FF(n,e,t){return Dp(e.validRange,n.range)?nk({dateSelection:n},t):!1}function nk(n,e){let t=e.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||qF)(i,e)}function qF(n,e,t={},i){return!(n.eventDrag&&!WF(n,e,t,i)||n.dateSelection&&!GF(n,e,t,i))}function WF(n,e,t,i){let r=e.getCurrentData(),a=n.eventDrag,l=a.mutatedEvents,u=l.defs,h=l.instances,f=Ug(u,a.isEvent?n.eventUiBases:{"":r.selectionConfig});i&&(f=jo(f,i));let p=B5(n.eventStore,a.affectedEvents.instances),v=p.defs,_=p.instances,b=Ug(v,n.eventUiBases);for(let T in h){let R=h[T],x=R.range,M=f[R.defId],j=u[R.defId];if(!ik(M.constraints,x,p,n.businessHours,e))return!1;let{eventOverlap:z}=e.options,$=typeof z=="function"?z:null;for(let ne in _){let O=_[ne];if(qb(x,O.range)&&(b[O.defId].overlap===!1&&a.isEvent||M.overlap===!1||$&&!$(new yt(e,v[O.defId],O),new yt(e,j,R))))return!1}let J=r.eventStore;for(let ne of M.allows){let O=Object.assign(Object.assign({},t),{range:R.range,allDay:j.allDay}),D=J.defs[j.defId],I=J.instances[T],N;if(D?N=new yt(e,D,I):N=new yt(e,j),!ne(Qb(O,e),N))return!1}}return!0}function GF(n,e,t,i){let r=n.eventStore,a=r.defs,l=r.instances,u=n.dateSelection,h=u.range,{selectionConfig:f}=e.getCurrentData();if(i&&(f=i(f)),!ik(f.constraints,h,r,n.businessHours,e))return!1;let{selectOverlap:p}=e.options,v=typeof p=="function"?p:null;for(let _ in l){let b=l[_];if(qb(h,b.range)&&(f.overlap===!1||v&&!v(new yt(e,a[b.defId],b),null)))return!1}for(let _ of f.allows){let b=Object.assign(Object.assign({},t),u);if(!_(Qb(b,e),null))return!1}return!0}function ik(n,e,t,i,r){for(let a of n)if(!YF($F(a,e,t,i,r),e))return!1;return!0}function $F(n,e,t,i,r){return n==="businessHours"?vv(xo(i,e,r)):typeof n=="string"?vv(Ip(t,a=>a.groupId===n)):typeof n=="object"&&n?vv(xo(n,e,r)):[]}function vv(n){let{instances:e}=n,t=[];for(let i in e)t.push(e[i].range);return t}function YF(n,e){for(let t of n)if(Dp(t,e))return!0;return!1}const wf=/^(visible|hidden)$/;class QF extends Tt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,cs(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:i}=e,r=t&&i,a=["fc-scroller"];return t&&(i?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),Z("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(wf.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(wf.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return wf.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return wf.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class po{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:r,currentMap:a}=this,l=!1,u=!1;t!==null?(l=i in a,a[i]=t,r[i]=(r[i]||0)+1,u=!0):(r[i]-=1,r[i]||(delete a[i],delete this.callbackMap[i],l=!0)),this.masterCallback&&(l&&this.masterCallback(null,String(i)),u&&this.masterCallback(t,String(i)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),t}collect(e,t,i){return i5(this.currentMap,e,t,i)}getAll(){return Hb(this.currentMap)}}function KF(n){let e=i6(n,".fc-scrollgrid-shrink"),t=0;for(let i of e)t=Math.max(t,y6(i));return Math.ceil(t)}function rk(n,e){return n.liquid&&e.liquid}function XF(n,e){return e.maxHeight!=null||rk(n,e)}function ZF(n,e,t,i){let{expandRows:r}=t;return typeof e.content=="function"?e.content(t):Z("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,Z(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function JF(n,e){return ya(n,e,_r)}function e3(n,e){let t=[];for(let i of n){let r=i.span||1;for(let a=0;a<r;a+=1)t.push(Z("col",{style:{width:i.width==="shrink"?t3(e):i.width||"",minWidth:i.minWidth||""}}))}return Z("colgroup",{},...t)}function t3(n){return n??4}function n3(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function i3(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function r3(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function s3(n){return Z("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function dx(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function a3(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}class sk extends Tt{constructor(){super(...arguments),this.processCols=tt(e=>e,JF),this.renderMicroColGroup=tt(e3),this.scrollerRefs=new po,this.scrollerElRefs=new po(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:i}=this,r=e.sections||[],a=this.processCols(e.cols),l=this.renderMicroColGroup(a,t.shrinkWidth),u=i3(e.liquid,i);e.collapsibleWidth&&u.push("fc-scrollgrid-collapsible");let h=r.length,f=0,p,v=[],_=[],b=[];for(;f<h&&(p=r[f]).type==="header";)v.push(this.renderSection(p,l,!0)),f+=1;for(;f<h&&(p=r[f]).type==="body";)_.push(this.renderSection(p,l,!1)),f+=1;for(;f<h&&(p=r[f]).type==="footer";)b.push(this.renderSection(p,l,!0)),f+=1;let T=!$1();const R={role:"rowgroup"};return Z("table",{role:"grid",className:u.join(" "),style:{height:e.height}},!!(!T&&v.length)&&Z("thead",R,...v),!!(!T&&_.length)&&Z("tbody",R,..._),!!(!T&&b.length)&&Z("tfoot",R,...b),T&&Z("tbody",R,...v,..._,...b))}renderSection(e,t,i){return"outerContent"in e?Z(Nt,{key:e.key},e.outerContent):Z("tr",{key:e.key,role:"presentation",className:r3(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,i))}renderChunkTd(e,t,i,r){if("outerContent"in i)return i.outerContent;let{props:a}=this,{forceYScrollbars:l,scrollerClientWidths:u,scrollerClientHeights:h}=this.state,f=XF(a,e),p=rk(a,e),v=a.liquid?l?"scroll":f?"auto":"hidden":"visible",_=e.key,b=ZF(e,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&u[_]!==void 0?u[_]:null,clientHeight:h[_]!==void 0?h[_]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return Z(r?"th":"td",{ref:i.elRef,role:"presentation"},Z("div",{className:`fc-scroller-harness${p?" fc-scroller-harness-liquid":""}`},Z(QF,{ref:this.scrollerRefs.createRef(_),elRef:this.scrollerElRefs.createRef(_),overflowY:v,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:p,liquidIsAbsolute:!0},b)))}_handleScrollerEl(e,t){let i=o3(this.props.sections,t);i&&cs(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return n3(this.props.cols)?KF(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=TF(),{scrollerRefs:t,scrollerElRefs:i}=this,r=!1,a={},l={};for(let u in t.currentMap){let h=t.currentMap[u];if(h&&h.needsYScrolling()){r=!0;break}}for(let u of this.props.sections){let h=u.key,f=i.currentMap[h];if(f){let p=f.parentNode;a[h]=Math.floor(p.getBoundingClientRect().width-(r?e.y:0)),l[h]=Math.floor(p.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:a,scrollerClientHeights:l}}}sk.addStateEquality({scrollerClientWidths:_r,scrollerClientHeights:_r});function o3(n,e){for(let t of n)if(t.key===e)return t;return null}class i0 extends Tt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&ox(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{eventRange:a}=r,{ui:l}=a,u={event:new yt(t,a.def,a.instance),view:t.viewApi,timeText:e.timeText,textColor:l.textColor,backgroundColor:l.backgroundColor,borderColor:l.borderColor,isDraggable:!e.disableDragging&&J5(r,t),isStartResizable:!e.disableResizing&&eF(r,t),isEndResizable:!e.disableResizing&&tF(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return Z(hs,Object.assign({},e,{elRef:this.handleEl,elClasses:[...nF(u),...r.eventRange.ui.classNames,...e.elClasses||[]],renderProps:u,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&ox(this.el,this.props.seg)}}class l3 extends Tt{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{ui:a}=r.eventRange,l=i.eventTimeFormat||e.defaultTimeFormat,u=F1(r,l,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return Z(i0,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:q1(r,t),defaultGenerator:c3,timeText:u}),(h,f)=>Z(Nt,null,Z(h,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:f.textColor}}),!!f.isStartResizable&&Z("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!f.isEndResizable&&Z("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function c3(n){return Z("div",{className:"fc-event-main-frame"},n.timeText&&Z("div",{className:"fc-event-time"},n.timeText),Z("div",{className:"fc-event-title-container"},Z("div",{className:"fc-event-title fc-sticky"},n.event.title||Z(Nt,null," "))))}const u3=sn({day:"numeric"});class ak extends Tt{constructor(){super(...arguments),this.refineRenderProps=Jf(h3)}render(){let{props:e,context:t}=this,{options:i}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return Z(hs,Object.assign({},e,{elClasses:[...Zb(r,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":Vb(e.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}}function ok(n){return!!(n.dayCellContent||h_("dayCellContent",n))}function h3(n){let{date:e,dateEnv:t,dateProfile:i,isMonthStart:r}=n,a=Q1(e,n.todayRange,null,i),l=n.showDayNumber?t.format(e,r?n.monthStartFormat:u3):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},a),{isMonthStart:r,dayNumberText:l}),n.extraRenderProps)}class d3 extends Tt{render(){let{props:e}=this,{seg:t}=e;return Z(i0,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:f3,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function f3(n){let{title:e}=n.event;return e&&Z("div",{className:"fc-event-title"},n.event.title)}function g3(n){return Z("div",{className:`fc-${n}`})}const p3=n=>Z(Vo.Consumer,null,e=>{let{dateEnv:t,options:i}=e,{date:r}=n,a=i.weekNumberFormat||n.defaultFormat,l=t.computeWeekNumber(r),u=t.format(r,a);return Z(hs,Object.assign({},n,{renderProps:{num:l,text:u,date:r},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:m3,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function m3(n){return n.text}const _v=10;class y3 extends Tt{constructor(){super(...arguments),this.state={titleId:Rp()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&cs(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=_1(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:i,state:r}=this,a=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return FH(Z("div",Object.assign({},i.extraAttrs,{id:i.id,className:a.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),Z("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},Z("span",{className:"fc-popover-title",id:r.titleId},i.title),Z("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),Z("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:r}=this,a=DF(t);if(a){let l=r.getBoundingClientRect(),u=i?Sn(t,".fc-scrollgrid").getBoundingClientRect().top:a.top,h=e?a.right-l.width:a.left;u=Math.max(u,_v),h=Math.min(h,document.documentElement.clientWidth-_v-l.width),h=Math.max(h,_v);let f=r.offsetParent.getBoundingClientRect();Qu(r,{top:u-f.top,left:h-f.left})}}}class v3 extends zo{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:i}=this,{startDate:r,todayRange:a,dateProfile:l}=i,u=t.format(r,e.dayPopoverFormat);return Z(ak,{elRef:this.handleRootEl,date:r,dateProfile:l,todayRange:a},(h,f,p)=>Z(y3,{elRef:p.ref,id:i.id,title:u,extraClassNames:["fc-more-popover"].concat(p.className||[]),extraAttrs:p,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},ok(e)&&Z(h,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,t,i,r){let{rootEl:a,props:l}=this;return e>=0&&e<i&&t>=0&&t<r?{dateProfile:l.dateProfile,dateSpan:Object.assign({allDay:!l.forceTimed,range:{start:l.startDate,end:l.endDate}},l.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}}class _3 extends Tt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Rp()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&cs(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:i}=this,{moreLinkClick:r}=i.options,a=fx(t).start;function l(u){let{def:h,instance:f,range:p}=u.eventRange;return{event:new yt(i,h,f),start:i.dateEnv.toDate(p.start),end:i.dateEnv.toDate(p.end),isStart:u.isStart,isEnd:u.isEnd}}typeof r=="function"&&(r=r({date:a,allDay:!!t.allDayDate,allSegs:t.allSegs.map(l),hiddenSegs:t.hiddenSegs.map(l),jsEvent:e,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(a,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return Z(Vo.Consumer,null,i=>{let{viewApi:r,options:a,calendarApi:l}=i,{moreLinkText:u}=a,{moreCnt:h}=e,f=fx(e),p=typeof u=="function"?u.call(l,h):`+${h} ${u}`,v=Ku(a.moreLinkHint,[h],p),_={num:h,shortText:`+${h}`,text:p,view:r};return Z(Nt,null,!!e.moreCnt&&Z(hs,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),E1(this.handleClick)),{title:v,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:_,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||b3,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),t.isPopoverOpen&&Z(v3,{id:t.popoverId,startDate:f.start,endDate:f.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Sn(this.linkEl,".fc-view-harness"))}}function b3(n){return n.text}function fx(n){if(n.allDayDate)return{start:n.allDayDate,end:Tn(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:E3(e),end:A3(e)}}function E3(n){return n.reduce(w3).eventRange.range.start}function w3(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function A3(n){return n.reduce(S3).eventRange.range.end}function S3(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class T3{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class x3 extends T3{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let i=!1;e.isActive?(t.set(e.id,e),i=!0):t.has(e.id)&&(t.delete(e.id),i=!0),i&&this.set(t)}}const R3=[],lk={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},ck=Object.assign(Object.assign({},lk),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function C3(n){let e=n.length>0?n[0].code:"en",t=R3.concat(n),i={en:ck};for(let r of t)i[r.code]=r;return{map:i,defaultCode:e}}function uk(n,e){return typeof n=="object"&&!Array.isArray(n)?hk(n.code,[n.code],n):D3(n,e)}function D3(n,e){let t=[].concat(n||[]),i=I3(t,e)||ck;return hk(n,t,i)}function I3(n,e){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let a=i.slice(0,r).join("-");if(e[a])return e[a]}}return null}function hk(n,e,t){let i=Bb([lk,t],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:n,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function Aa(n){return{id:Lo(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function k3(n,e){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(a){for(let l of a){const u=l.name,h=t[u];h===void 0?(t[u]=l.id,r(l.deps),i=N3(i,l)):h!==l.id&&console.warn(`Duplicate plugin '${u}'`)}}return n&&r(n),r(e),i}function M3(){let n=[],e=[],t;return(i,r)=>((!t||!ya(i,n)||!ya(r,e))&&(t=k3(i,r)),n=i,e=r,t)}function N3(n,e){return{premiumReleaseDate:O3(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function O3(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class Sa extends Lh{}Sa.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Sa.prototype.baseIconClass="fc-icon";Sa.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Sa.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Sa.prototype.iconOverrideOption="buttonIcons";Sa.prototype.iconOverrideCustomButtonOption="icon";Sa.prototype.iconOverridePrefix="fc-icon-";function P3(n,e){let t={},i;for(i in n)m_(i,t,n,e);for(i in e)m_(i,t,n,e);return t}function m_(n,e,t,i){if(e[n])return e[n];let r=L3(n,e,t,i);return r&&(e[n]=r),r}function L3(n,e,t,i){let r=t[n],a=i[n],l=p=>r&&r[p]!==null?r[p]:a&&a[p]!==null?a[p]:null,u=l("component"),h=l("superType"),f=null;if(h){if(h===n)throw new Error("Can't have a custom view type that references itself");f=m_(h,e,t,i)}return!u&&f&&(u=f.component),u?{type:n,component:u,defaults:Object.assign(Object.assign({},f?f.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},f?f.overrides:{}),a?a.rawOptions:{})}:null}function gx(n){return jo(n,j3)}function j3(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=px(e):t&&!(t.prototype instanceof Tt)&&(t=px(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function px(n){return e=>Z(Vo.Consumer,null,t=>Z(hs,{elTag:"div",elClasses:D1(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function V3(n,e,t,i){let r=gx(n),a=gx(e.views),l=P3(r,a);return jo(l,u=>U3(u,a,e,t,i))}function U3(n,e,t,i,r){let a=n.overrides.duration||n.defaults.duration||i.duration||t.duration,l=null,u="",h="",f={};if(a&&(l=z3(a),l)){let _=c_(l);u=_.unit,_.value===1&&(h=u,f=e[u]?e[u].rawOptions:{})}let p=_=>{let b=_.buttonText||{},T=n.defaults.buttonTextKey;return T!=null&&b[T]!=null?b[T]:b[n.type]!=null?b[n.type]:b[h]!=null?b[h]:null},v=_=>{let b=_.buttonHints||{},T=n.defaults.buttonTextKey;return T!=null&&b[T]!=null?b[T]:b[n.type]!=null?b[n.type]:b[h]!=null?b[h]:null};return{type:n.type,component:n.component,duration:l,durationUnit:u,singleUnit:h,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},f),n.overrides),buttonTextOverride:p(i)||p(t)||n.overrides.buttonText,buttonTextDefault:p(r)||n.defaults.buttonText||p(Xu)||n.type,buttonTitleOverride:v(i)||v(t)||n.overrides.buttonHint,buttonTitleDefault:v(r)||n.defaults.buttonHint||v(Xu)}}let mx={};function z3(n){let e=JSON.stringify(n),t=mx[e];return t===void 0&&(t=et(n),mx[e]=t),t}function B3(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function H3(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function F3(n,e,t,i){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||t);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(n,t),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(n,t),r.isValid)return r;break}return n}function q3(n,e,t){let i=e?e.activeRange:null;return fk({},X3(n,t),i,t)}function W3(n,e,t,i){let r=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return fk(n,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return $3(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?gk(n,r,i):n;case"FETCH_EVENT_SOURCES":return r0(n,e.sourceIds?S1(e.sourceIds):pk(n,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return K3(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function G3(n,e,t){let i=e?e.activeRange:null;return r0(n,pk(n,t),i,!0,t)}function dk(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function fk(n,e,t,i){let r={};for(let a of e)r[a.sourceId]=a;return t&&(r=gk(r,t,i)),Object.assign(Object.assign({},n),r)}function $3(n,e){return To(n,t=>t.sourceId!==e)}function gk(n,e,t){return r0(n,To(n,i=>Y3(i,e,t)),e,!1,t)}function Y3(n,e,t){return mk(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function r0(n,e,t,i,r){let a={};for(let l in n){let u=n[l];e[l]?a[l]=Q3(u,t,i,r):a[l]=u}return a}function Q3(n,e,t,i){let{options:r,calendarApi:a}=i,l=i.pluginHooks.eventSourceDefs[n.sourceDefId],u=Lo();return l.fetch({eventSource:n,range:e,isRefetch:t,context:i},h=>{let{rawEvents:f}=h;r.eventSourceSuccess&&(f=r.eventSourceSuccess.call(a,f,h.response)||f),n.success&&(f=n.success.call(a,f,h.response)||f),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:u,fetchRange:e,rawEvents:f})},h=>{let f=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(a,h),f=!0),n.failure&&(n.failure(h),f=!0),f||console.warn(h.message,h),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:u,fetchRange:e,error:h})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:u})}function K3(n,e,t,i){let r=n[e];return r&&t===r.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):n}function pk(n,e){return To(n,t=>mk(t,e))}function X3(n,e){let t=j1(e),i=[].concat(n.eventSources||[]),r=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let a of i){let l=L1(a,e,t);l&&r.push(l)}return r}function mk(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function Z3(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function J3(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function e9(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function t9(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function n9(n,e,t,i,r){let a=n.headerToolbar?yx(n.headerToolbar,n,e,t,i,r):null,l=n.footerToolbar?yx(n.footerToolbar,n,e,t,i,r):null;return{header:a,footer:l}}function yx(n,e,t,i,r,a){let l={},u=[],h=!1;for(let f in n){let p=n[f],v=i9(p,e,t,i,r,a);l[f]=v.widgets,u.push(...v.viewsWithButtons),h=h||v.hasTitle}return{sectionWidgets:l,viewsWithButtons:u,hasTitle:h}}function i9(n,e,t,i,r,a){let l=e.direction==="rtl",u=e.customButtons||{},h=t.buttonText||{},f=e.buttonText||{},p=t.buttonHints||{},v=e.buttonHints||{},_=n?n.split(" "):[],b=[],T=!1;return{widgets:_.map(x=>x.split(",").map(M=>{if(M==="title")return T=!0,{buttonName:M};let j,z,$,J,ne,O;if(j=u[M])$=D=>{j.click&&j.click.call(D.target,D,D.target)},(J=i.getCustomButtonIconClass(j))||(J=i.getIconClass(M,l))||(ne=j.text),O=j.hint||j.text;else if(z=r[M]){b.push(M),$=()=>{a.changeView(M)},(ne=z.buttonTextOverride)||(J=i.getIconClass(M,l))||(ne=z.buttonTextDefault);let D=z.buttonTextOverride||z.buttonTextDefault;O=Ku(z.buttonTitleOverride||z.buttonTitleDefault||e.viewHint,[D,M],D)}else if(a[M])if($=()=>{a[M]()},(ne=h[M])||(J=i.getIconClass(M,l))||(ne=f[M]),M==="prevYear"||M==="nextYear"){let D=M==="prevYear"?"prev":"next";O=Ku(p[D]||v[D],[f.year||"year","year"],f[M])}else O=D=>Ku(p[M]||v[M],[f[D]||D,D],f[M]);return{buttonName:M,buttonClick:$,buttonIcon:J,buttonText:ne,buttonHint:O}})),viewsWithButtons:b,hasTitle:T}}class r9{constructor(e,t,i){this.type=e,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let s9={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const a9=Aa({name:"array-event-source",eventSourceDefs:[s9]});let o9={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:i}=n.context,r=n.eventSource.meta;hF(r.bind(null,W1(n.range,i)),a=>e({rawEvents:a}),t)}};const l9=Aa({name:"func-event-source",eventSourceDefs:[o9]}),c9={method:String,extraParams:K,startParam:String,endParam:String,timeZoneParam:String};let u9={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:i}=n.eventSource,r=d9(i,n.range,n.context);dF(i.method,i.url,r).then(([a,l])=>{e({rawEvents:a,response:l})},t)}};const h9=Aa({name:"json-event-source",eventSourceRefiners:c9,eventSourceDefs:[u9]});function d9(n,e,t){let{dateEnv:i,options:r}=t,a,l,u,h,f={};return a=n.startParam,a==null&&(a=r.startParam),l=n.endParam,l==null&&(l=r.endParam),u=n.timeZoneParam,u==null&&(u=r.timeZoneParam),typeof n.extraParams=="function"?h=n.extraParams():h=n.extraParams||{},Object.assign(f,h),f[a]=i.formatIso(e.start),f[l]=i.formatIso(e.end),i.timeZone!=="local"&&(f[u]=i.timeZone),f}const f9={daysOfWeek:K,startTime:et,endTime:et,duration:et,startRecur:K,endRecur:K};let g9={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null},i;return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=E6(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:i,typeData:t}}return null},expand(n,e,t){let i=ec(e,{start:n.startRecur,end:n.endRecur});return i?m9(n.daysOfWeek,n.startTime,i,t):[]}};const p9=Aa({name:"simple-recurring-event",recurringTypes:[g9],eventRefiners:f9});function m9(n,e,t,i){let r=n?S1(n):null,a=mt(t.start),l=t.end,u=[];for(;a<l;){let h;(!r||r[a.getUTCDay()])&&(e?h=i.add(a,e):h=a,u.push(h)),a=Tn(a,1)}return u}const y9=Aa({name:"change-handler",optionChangeHandlers:{events(n,e){vx([n],e)},eventSources:vx}});function vx(n,e){let t=Hb(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let i=[];for(let r of n){let a=!1;for(let l=0;l<t.length;l+=1)if(t[l]._raw===r){t.splice(l,1),a=!0;break}a||i.push(r)}for(let r of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)e.calendarApi.addEventSource(r)}function v9(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},W1(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function _9(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",yo(n,e))}const b9=[a9,l9,h9,p9,y9,Aa({name:"misc",isLoadingFuncs:[n=>dk(n.eventSources)],propSetHandlers:{dateProfile:v9,eventStore:_9}})];class E9{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Ob(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],i;for(;i=e.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function w9(n,e,t){let i;return/^(year|month)$/.test(n.currentRangeUnit)?i=n.currentRange:i=n.activeRange,t.formatRange(i.start,i.end,sn(e.titleFormat||A9(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function A9(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=Mg(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class S9{constructor(e){this.computeCurrentViewData=tt(this._computeCurrentViewData),this.organizeRawLocales=tt(C3),this.buildLocale=tt(uk),this.buildPluginHooks=M3(),this.buildDateEnv=tt(T9),this.buildTheme=tt(x9),this.parseToolbars=tt(n9),this.buildViewSpecs=tt(V3),this.buildDateProfileGenerator=Jf(R9),this.buildViewApi=tt(C9),this.buildViewUiProps=Jf(k9),this.buildEventUiBySource=tt(D9,_r),this.buildEventUiBases=tt(I9),this.parseContextBusinessHours=Jf(M9),this.buildTitle=tt(w9),this.emitter=new kp,this.actionRunner=new E9(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=_=>{this.actionRunner.request(_)},this.props=e,this.actionRunner.pause();let t={},i=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,a=this.computeCurrentViewData(r,i,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let l=A5(i.calendarOptions,i.dateEnv),u=a.dateProfileGenerator.build(l);la(u.activeRange,l)||(l=u.currentRange.start);let h={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let _ of i.pluginHooks.contextInit)_(h);let f=q3(i.calendarOptions,u,h),p={dynamicOptionOverrides:t,currentViewType:r,currentDate:l,dateProfile:u,businessHours:this.parseContextBusinessHours(h),eventSources:f,eventUiBases:{},eventStore:Oi(),renderableEventStore:Oi(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(h).selectionConfig},v=Object.assign(Object.assign({},h),p);for(let _ of i.pluginHooks.reducers)Object.assign(p,_(null,null,v));bv(p,h)&&this.emitter.trigger("loading",!0),this.state=p,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:i}=this;t===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:i,emitter:r}=this,a=H3(i.dynamicOptionOverrides,e),l=this.computeOptionsData(t.optionOverrides,a,t.calendarApi),u=B3(i.currentViewType,e),h=this.computeCurrentViewData(u,l,t.optionOverrides,a);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(h.options);let f={dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:p,dateProfile:v}=i;this.data&&this.data.dateProfileGenerator!==h.dateProfileGenerator&&(v=h.dateProfileGenerator.build(p)),p=w5(p,e),v=F3(v,e,p,h.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!la(v.currentRange,p))&&(p=v.currentRange.start);let _=W3(i.eventSources,e,v,f),b=j5(i.eventStore,e,_,v,f),R=dk(_)&&!h.options.progressiveEventRendering&&i.renderableEventStore||b,{eventUiSingleBase:x,selectionConfig:M}=this.buildViewUiProps(f),j=this.buildEventUiBySource(_),z=this.buildEventUiBases(R.defs,x,j),$={dynamicOptionOverrides:a,currentViewType:u,currentDate:p,dateProfile:v,eventSources:_,eventStore:b,renderableEventStore:R,selectionConfig:M,eventUiBases:z,businessHours:this.parseContextBusinessHours(f),dateSelection:Z3(i.dateSelection,e),eventSelection:J3(i.eventSelection,e),eventDrag:e9(i.eventDrag,e),eventResize:t9(i.eventResize,e)},J=Object.assign(Object.assign({},f),$);for(let D of l.pluginHooks.reducers)Object.assign($,D(i,e,J));let ne=bv(i,f),O=bv($,f);!ne&&O?r.trigger("loading",!0):ne&&!O&&r.trigger("loading",!1),this.state=$,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,i=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),l=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,a.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),a),t),u=r.pluginHooks.optionChangeHandlers,h=i&&i.calendarOptions,f=r.calendarOptions;if(h&&h!==f){h.timeZone!==f.timeZone&&(t.eventSources=l.eventSources=G3(l.eventSources,t.dateProfile,l),t.eventStore=l.eventStore=rx(l.eventStore,i.dateEnv,l.dateEnv),t.renderableEventStore=l.renderableEventStore=rx(l.renderableEventStore,i.dateEnv,l.dateEnv));for(let p in u)(this.optionsForHandling.indexOf(p)!==-1||h[p]!==f[p])&&u[p](f[p],l)}this.optionsForHandling=[],e.onData&&e.onData(l)}computeOptionsData(e,t,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:a,localeDefaults:l,availableLocaleData:u,extra:h}=this.processRawCalendarOptions(e,t);_x(h);let f=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,a,u,r.defaultRangeSeparator),p=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,l),v=this.buildTheme(r,a),_=this.parseToolbars(r,this.stableOptionOverrides,v,p,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:a,dateEnv:f,viewSpecs:p,theme:v,toolbarConfig:_,localeDefaults:l,availableRawLocales:u.map}}processRawCalendarOptions(e,t){let{locales:i,locale:r}=dv([Xu,e,t]),a=this.organizeRawLocales(i),l=a.map,u=this.buildLocale(r||a.defaultCode,l).options,h=this.buildPluginHooks(e.plugins||[],b9),f=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},XT),ZT),JT),h.listenerRefiners),h.optionRefiners),p={},v=dv([Xu,u,e,t]),_={},b=this.currentCalendarOptionsInput,T=this.currentCalendarOptionsRefined,R=!1;for(let x in v)this.optionsForRefining.indexOf(x)===-1&&(v[x]===b[x]||oo[x]&&x in b&&oo[x](b[x],v[x]))?_[x]=T[x]:f[x]?(_[x]=f[x](v[x]),R=!0):p[x]=b[x];return R&&(this.currentCalendarOptionsInput=v,this.currentCalendarOptionsRefined=_,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:h,availableLocaleData:a,localeDefaults:u,extra:p}}_computeCurrentViewData(e,t,i,r){let a=t.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:l,extra:u}=this.processRawViewOptions(a,t.pluginHooks,t.localeDefaults,i,r);_x(u);let h=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,nowInput:l.now,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,fixedWeekCount:l.fixedWeekCount}),f=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:a,options:l,dateProfileGenerator:h,viewApi:f}}processRawViewOptions(e,t,i,r,a){let l=dv([Xu,e.optionDefaults,i,r,e.optionOverrides,a]),u=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},XT),ZT),JT),J6),t.listenerRefiners),t.optionRefiners),h={},f=this.currentViewOptionsInput,p=this.currentViewOptionsRefined,v=!1,_={};for(let b in l)l[b]===f[b]||oo[b]&&oo[b](l[b],f[b])?h[b]=p[b]:(l[b]===this.currentCalendarOptionsInput[b]||oo[b]&&oo[b](l[b],this.currentCalendarOptionsInput[b])?b in this.currentCalendarOptionsRefined&&(h[b]=this.currentCalendarOptionsRefined[b]):u[b]?h[b]=u[b](l[b]):_[b]=l[b],v=!0);return v&&(this.currentViewOptionsInput=l,this.currentViewOptionsRefined=h),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:_}}}function T9(n,e,t,i,r,a,l,u){let h=uk(e||l.defaultCode,l.map);return new c5({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:h,weekNumberCalculation:t,firstDay:i,weekText:r,cmdFormatter:a.cmdFormatter,defaultSeparator:u})}function x9(n,e){let t=e.themeClasses[n.themeSystem]||Sa;return new t(n)}function R9(n){let e=n.dateProfileGeneratorClass||M1;return new e(n)}function C9(n,e,t){return new r9(n,e,t)}function D9(n){return jo(n,e=>e.ui)}function I9(n,e,t){let i={"":e};for(let r in n){let a=n[r];a.sourceId&&t[a.sourceId]&&(i[r]=t[a.sourceId])}return i}function k9(n){let{options:e}=n;return{eventUiSingleBase:Vg({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:Vg({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function bv(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function M9(n){return G5(n.options.businessHours,n)}function _x(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class N9 extends Tt{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return Z("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:i}=this.context,r=[],a=!0;for(let l of e){let{buttonName:u,buttonClick:h,buttonText:f,buttonIcon:p,buttonHint:v}=l;if(u==="title")a=!1,r.push(Z("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let _=u===t.activeButton,b=!t.isTodayEnabled&&u==="today"||!t.isPrevEnabled&&u==="prev"||!t.isNextEnabled&&u==="next",T=[`fc-${u}-button`,i.getClass("button")];_&&T.push(i.getClass("buttonActive")),r.push(Z("button",{type:"button",title:typeof v=="function"?v(t.navUnit):v,disabled:b,"aria-pressed":_,className:T.join(" "),onClick:h},f||(p?Z("span",{className:p,role:"img"}):"")))}}if(r.length>1){let l=a&&i.getClass("buttonGroup")||"";return Z("div",{className:l},...r)}return r[0]}}class bx extends Tt{render(){let{model:e,extraClassName:t}=this.props,i=!1,r,a,l=e.sectionWidgets,u=l.center;return l.left?(i=!0,r=l.left):r=l.start,l.right?(i=!0,a=l.right):a=l.end,Z("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",u||[]),this.renderSection("end",a||[]))}renderSection(e,t){let{props:i}=this;return Z(N9,{key:e,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class O9 extends Tt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,cs(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:i}=e,r=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",l="";return i?t.availableWidth!==null?a=t.availableWidth/i:l=`${1/i*100}%`:a=e.height||"",Z("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:a,paddingBottom:l}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class P9 extends fc{constructor(e){super(e),this.handleSegClick=(t,i)=>{let{component:r}=this,{context:a}=r,l=tc(i);if(l&&r.isValidSegDownEl(t.target)){let u=Sn(t.target,".fc-event-forced-url"),h=u?u.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:i,event:new yt(r.context,l.eventRange.def,l.eventRange.instance),jsEvent:t,view:a.viewApi}),h&&!t.defaultPrevented&&(window.location.href=h)}},this.destroy=b1(e.el,"click",".fc-event",this.handleSegClick)}}class L9 extends fc{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{tc(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=a6(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,i){let{component:r}=this,{context:a}=r,l=tc(i);(!t||r.isValidSegDownEl(t.target))&&a.emitter.trigger(e,{el:i,event:new yt(a,l.eventRange.def,l.eventRange.instance),jsEvent:t,view:a.viewApi})}}class j9 extends Uo{constructor(){super(...arguments),this.buildViewContext=tt(d5),this.buildViewPropTransformers=tt(U9),this.buildToolbarProps=tt(V9),this.headerRef=ls(),this.footerRef=ls(),this.interactionsStore={},this.state={viewLabelId:Rp()},this.registerInteractiveComponent=(e,t)=>{let i=pF(e,t),l=[P9,L9].concat(this.props.pluginHooks.componentInteractions).map(u=>new u(i));this.interactionsStore[e.uid]=l,g_[e.uid]=i},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[e.uid]}delete g_[e.uid]},this.resizeRunner=new Ob(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:i}=e,r=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,jh(e.options.now,e.dateEnv),e.viewTitle),a=!1,l="",u;e.isHeightAuto||e.forPrint?l="":i.height!=null?a=!0:i.contentHeight!=null?l=i.contentHeight:u=Math.max(i.aspectRatio,.5);let h=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),f=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return Z(Vo.Provider,{value:h},t.header&&Z(bx,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:f},r)),Z(O9,{liquid:a,height:l,aspectRatio:u,labeledById:f},this.renderView(e),this.buildAppendContent()),t.footer&&Z(bx,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},r)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let i in t)t[i](e[i],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let r in i)t[r]!==e[r]&&i[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(i=>i(e));return Z(Nt,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:i}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(t.viewPropsTransformers);for(let u of a)Object.assign(r,u.transform(r,e));let l=i.component;return Z(l,Object.assign({},r))}}function V9(n,e,t,i,r,a){let l=t.build(r,void 0,!1),u=t.buildPrev(e,i,!1),h=t.buildNext(e,i,!1);return{title:a,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:l.isValid&&!la(e.currentRange,r),isPrevEnabled:u.isValid,isNextEnabled:h.isValid}}function U9(n){return n.map(e=>new e)}class z9 extends mF{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;Lg(()=>{mh(Z(gF,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,a,l,u)=>(this.setClassNames(r),this.setHeight(a),Z(C1.Provider,{value:this.customContentRenderId},Z(j9,Object.assign({isHeightAuto:l,forPrint:u},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,mh(null,this.el),this.setClassNames([]),this.setHeight(""))},XH(e),this.el=e,this.renderRunner=new Ob(this.handleRenderRequest),new S9({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Lg(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!ya(e,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of e)t.add(i);this.currentClassNames=e}}setHeight(e){v1(this.el,"height",e)}}const B9=parseInt(String(Ei.version).split(".")[0]),H9=B9<18;class yk extends H.Component{constructor(){super(...arguments),this.elRef=H.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(Ei.createElement(F9,{key:t.id,customRendering:t}));return Ei.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new x3;this.handleCustomRendering=e.handle.bind(e),this.calendar=new z9(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Mv.flushSync(()=>{})});let t;e.subscribe(i=>{const r=Date.now(),a=!t;(H9||a||this.isUpdating||this.isUnmounting||r-t<100?vk:Mv.flushSync)(()=>{this.setState({customRenderingMap:i},()=>{t=r,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}yk.act=vk;class F9 extends H.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,i=typeof t=="function"?t(e.renderProps):t;return Mv.createPortal(i,e.containerEl)}}function vk(n){n()}class q9 extends zo{constructor(){super(...arguments),this.headerElRef=ls()}renderSimpleLayout(e,t){let{props:i,context:r}=this,a=[],l=dx(r.options);return e&&a.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),Z(ex,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},Z(sk,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,t,i,r){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:l,context:u}=this,h=!l.forPrint&&dx(u.options),f=!l.forPrint&&a3(u.options),p=[];return e&&p.push({type:"header",key:"header",isSticky:h,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),p.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),f&&p.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:s3}]}),Z(ex,{elClasses:["fc-daygrid"],viewSpec:u.viewSpec},Z(a,{liquid:!l.isHeightAuto&&!l.forPrint,forPrint:l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:p}))}}function Af(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function Sf(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function Ex(n,e){let t=[];if(n){for(let i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}const _k=sn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function bk(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class Ek extends Tt{render(){let{props:e}=this;return Z(l3,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:_k,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class wk extends Tt{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,a=i.eventTimeFormat||_k,l=F1(r,a,t,!0,e.defaultDisplayEventEnd);return Z(i0,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:q1(e.seg,t),defaultGenerator:W9,timeText:l,isResizing:!1,isDateSelecting:!1}))}}function W9(n){return Z(Nt,null,Z("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&Z("div",{className:"fc-event-time"},n.timeText),Z("div",{className:"fc-event-title"},n.event.title||Z(Nt,null," ")))}class G9 extends Tt{constructor(){super(...arguments),this.compileSegs=tt($9)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return Z(_3,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return Z(Nt,null,t.map(a=>{let l=a.eventRange.instance.instanceId;return Z("div",{className:"fc-daygrid-event-harness",key:l,style:{visibility:r[l]?"hidden":""}},bk(a)?Z(wk,Object.assign({seg:a,isDragging:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},Zu(a,e.todayRange))):Z(Ek,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},Zu(a,e.todayRange))))}))}})}}function $9(n){let e=[],t=[];for(let i of n)e.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:e,invisibleSegs:t}}const Y9=sn({week:"narrow"});class Q9 extends zo{constructor(){super(...arguments),this.rootElRef=ls(),this.state={dayNumberId:Rp()},this.handleRootEl=e=>{cs(this.rootElRef,e),cs(this.props.elRef,e)}}render(){let{context:e,props:t,state:i,rootElRef:r}=this,{options:a,dateEnv:l}=e,{date:u,dateProfile:h}=t;const f=t.showDayNumber&&X9(u,h.currentRange,l);return Z(ak,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:K9,date:u,dateProfile:h,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:f,extraRenderProps:t.extraRenderProps},(p,v)=>Z("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&Z(p3,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:p_(e,u,"week"),date:u,defaultFormat:Y9}),!v.isDisabled&&(t.showDayNumber||ok(a)||t.forceDayTop)?Z("div",{className:"fc-daygrid-day-top"},Z(p,{elTag:"a",elClasses:["fc-daygrid-day-number",f&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},p_(e,u)),{id:i.dayNumberId})})):t.showDayNumber?Z("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},Z("a",{className:"fc-daygrid-day-number"}," ")):void 0,Z("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,Z("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},Z(G9,{allDayDate:u,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),Z("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function K9(n){return n.dayNumberText||Z(Nt,null," ")}function X9(n,e,t){const{start:i,end:r}=e,a=va(r,-1),l=t.getYear(i),u=t.getMonth(i),h=t.getYear(a),f=t.getMonth(a);return!(l===h&&u===f)&&(n.valueOf()===i.valueOf()||t.getDay(n)===1&&n.valueOf()<r.valueOf())}function Ak(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function Sk(n){return Ak(n)+":"+n.lastCol}function Z9(n,e,t,i,r,a,l){let u=new t7(M=>{let j=n[M.index].eventRange.instance.instanceId+":"+M.span.start+":"+(M.span.end-1);return r[j]||1});u.allowReslicing=!0,u.strictOrder=i,e===!0||t===!0?(u.maxCoord=a,u.hiddenConsumes=!0):typeof e=="number"?u.maxStackCnt=e:typeof t=="number"&&(u.maxStackCnt=t,u.hiddenConsumes=!0);let h=[],f=[];for(let M=0;M<n.length;M+=1){let j=n[M],z=Sk(j);r[z]!=null?h.push({index:M,span:{start:j.firstCol,end:j.lastCol+1}}):f.push(j)}let p=u.addSegs(h),v=u.toRects(),{singleColPlacements:_,multiColPlacements:b,leftoverMargins:T}=J9(v,n,l),R=[],x=[];for(let M of f){b[M.firstCol].push({seg:M,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let j=M.firstCol;j<=M.lastCol;j+=1)_[j].push({seg:Fl(M,j,j+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let M=0;M<l.length;M+=1)R.push(0);for(let M of p){let j=n[M.index],z=M.span;b[z.start].push({seg:Fl(j,z.start,z.end,l),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let $=z.start;$<z.end;$+=1)R[$]+=1,_[$].push({seg:Fl(j,$,$+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let M=0;M<l.length;M+=1)x.push(T[M]);return{singleColPlacements:_,multiColPlacements:b,moreCnts:R,moreMarginTops:x}}function J9(n,e,t){let i=e7(n,t.length),r=[],a=[],l=[];for(let u=0;u<t.length;u+=1){let h=i[u],f=[],p=0,v=0;for(let b of h){let T=e[b.index];f.push({seg:Fl(T,u,u+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:b.levelCoord,marginTop:b.levelCoord-p}),p=b.levelCoord+b.thickness}let _=[];p=0,v=0;for(let b of h){let T=e[b.index],R=b.span.end-b.span.start>1,x=b.span.start===u;v+=b.levelCoord-p,p=b.levelCoord+b.thickness,R?(v+=b.thickness,x&&_.push({seg:Fl(T,b.span.start,b.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:b.levelCoord,marginTop:0})):x&&(_.push({seg:Fl(T,b.span.start,b.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:b.levelCoord,marginTop:v}),v=0)}r.push(f),a.push(_),l.push(v)}return{singleColPlacements:r,multiColPlacements:a,leftoverMargins:l}}function e7(n,e){let t=[];for(let i=0;i<e;i+=1)t.push([]);for(let i of n)for(let r=i.span.start;r<i.span.end;r+=1)t[r].push(i);return t}function Fl(n,e,t,i){if(n.firstCol===e&&n.lastCol===t-1)return n;let r=n.eventRange,a=r.range,l=ec(a,{start:i[e].date,end:Tn(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:l},isStart:n.isStart&&l.start.valueOf()===a.start.valueOf(),isEnd:n.isEnd&&l.end.valueOf()===a.end.valueOf()})}class t7 extends MF{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:i}=this,r=a=>!this.forceHidden[Ju(a)];for(let a=0;a<i.length;a+=1)i[a]=i[a].filter(r);return t}handleInvalidInsertion(e,t,i){const{entriesByLevel:r,forceHidden:a}=this,{touchingEntry:l,touchingLevel:u,touchingLateral:h}=e;if(this.hiddenConsumes&&l){const f=Ju(l);if(!a[f])if(this.allowReslicing){const p=Object.assign(Object.assign({},l),{span:Z1(l.span,t.span)}),v=Ju(p);a[v]=!0,r[u][h]=p,i.push(p),this.splitEntry(l,t,i)}else a[f]=!0,i.push(l)}super.handleInvalidInsertion(e,t,i)}}class Tk extends zo{constructor(){super(...arguments),this.cellElRefs=new po,this.frameElRefs=new po,this.fgElRefs=new po,this.segHarnessRefs=new po,this.rootElRef=ls(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:i}=this,{options:r}=i,a=e.cells.length,l=Sf(e.businessHourSegs,a),u=Sf(e.bgEventSegs,a),h=Sf(this.getHighlightSegs(),a),f=Sf(this.getMirrorSegs(),a),{singleColPlacements:p,multiColPlacements:v,moreCnts:_,moreMarginTops:b}=Z9(X5(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),T=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return Z("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((R,x)=>{let M=this.renderFgSegs(x,e.forPrint?p[x]:v[x],e.todayRange,T),j=this.renderFgSegs(x,n7(f[x],v),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return Z(Q9,{key:R.key,elRef:this.cellElRefs.createRef(R.key),innerElRef:this.frameElRefs.createRef(R.key),dateProfile:e.dateProfile,date:R.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&x===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:R.extraRenderProps,extraDataAttrs:R.extraDataAttrs,extraClassNames:R.extraClassNames,extraDateSpan:R.extraDateSpan,moreCnt:_[x],moreMarginTop:b[x],singlePlacements:p[x],fgContentElRef:this.fgElRefs.createRef(R.key),fgContent:Z(Nt,null,Z(Nt,null,M),Z(Nt,null,j)),bgContent:Z(Nt,null,this.renderFillSegs(h[x],"highlight"),this.renderFillSegs(l[x],"non-business"),this.renderFillSegs(u[x],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let i=this.props;this.updateSizing(!_r(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,i,r,a,l,u){let{context:h}=this,{eventSelection:f}=this.props,{framePositions:p}=this.state,v=this.props.cells.length===1,_=a||l||u,b=[];if(p)for(let T of t){let{seg:R}=T,{instanceId:x}=R.eventRange.instance,M=T.isVisible&&!r[x],j=T.isAbsolute,z="",$="";j&&(h.isRtl?($=0,z=p.lefts[R.lastCol]-p.lefts[R.firstCol]):(z=0,$=p.rights[R.firstCol]-p.rights[R.lastCol])),b.push(Z("div",{className:"fc-daygrid-event-harness"+(j?" fc-daygrid-event-harness-abs":""),key:Ak(R),ref:_?null:this.segHarnessRefs.createRef(Sk(R)),style:{visibility:M?"":"hidden",marginTop:j?"":T.marginTop,top:j?T.absoluteTop:"",left:z,right:$}},bk(R)?Z(wk,Object.assign({seg:R,isDragging:a,isSelected:x===f,defaultDisplayEventEnd:v},Zu(R,i))):Z(Ek,Object.assign({seg:R,isDragging:a,isResizing:l,isDateSelecting:u,isSelected:x===f,defaultDisplayEventEnd:v},Zu(R,i)))))}return b}renderFillSegs(e,t){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:a}=this.state,l=[];if(a)for(let u of e){let h=i?{right:0,left:a.lefts[u.lastCol]-a.lefts[u.firstCol]}:{left:0,right:a.rights[u.firstCol]-a.rights[u.lastCol]};l.push(Z("div",{key:iF(u.eventRange),className:"fc-daygrid-bg-harness",style:h},t==="bg-event"?Z(d3,Object.assign({seg:u},Zu(u,r))):g3(t)))}return Z(Nt,{},...l)}updateSizing(e){let{props:t,state:i,frameElRefs:r}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let h=t.cells.map(f=>r.currentMap[f.key]);if(h.length){let f=this.rootElRef.current,p=new zg(f,h,!0,!1);(!i.framePositions||!i.framePositions.similarTo(p))&&this.setState({framePositions:new zg(f,h,!0,!1)})}}const a=this.state.segHeights,l=this.querySegHeights(),u=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),l),maxContentHeight:u?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let i in e){let r=Math.round(e[i].getBoundingClientRect().height);t[i]=Math.max(t[i]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}Tk.addStateEquality({segHeights:_r});function n7(n,e){if(!n.length)return[];let t=i7(e);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}function i7(n){let e={};for(let t of n)for(let i of t)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}class r7 extends zo{constructor(){super(...arguments),this.splitBusinessHourSegs=tt(Af),this.splitBgEventSegs=tt(Af),this.splitFgEventSegs=tt(Af),this.splitDateSelectionSegs=tt(Af),this.splitEventDrag=tt(Ex),this.splitEventResize=tt(Ex),this.rowRefs=new po}render(){let{props:e,context:t}=this,i=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,i),a=this.splitBgEventSegs(e.bgEventSegs,i),l=this.splitFgEventSegs(e.fgEventSegs,i),u=this.splitDateSelectionSegs(e.dateSelectionSegs,i),h=this.splitEventDrag(e.eventDrag,i),f=this.splitEventResize(e.eventResize,i),p=i>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return Z(n0,{unit:"day"},(v,_)=>Z(Nt,null,e.cells.map((b,T)=>Z(Tk,{ref:this.rowRefs.createRef(T),key:b.length?b[0].date.toISOString():T,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:_,dateProfile:e.dateProfile,cells:b,renderIntro:e.renderRowIntro,businessHourSegs:r[T],eventSelection:e.eventSelection,bgEventSegs:a[T].filter(s7),fgEventSegs:l[T],dateSelectionSegs:u[T],eventDrag:h[T],eventResize:f[T],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:p,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new zg(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new zg(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:i,rowPositions:r}=this,a=i.leftToIndex(e),l=r.topToIndex(t);if(l!=null&&a!=null){let u=this.props.cells[l][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(l,a),allDay:!0},u.extraDateSpan),dayEl:this.getCellEl(l,a),rect:{left:i.lefts[a],right:i.rights[a],top:r.tops[l],bottom:r.bottoms[l]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let i=this.props.cells[e][t].date,r=Tn(i,1);return{start:i,end:r}}}function s7(n){return n.eventRange.def.allDay}class a7 extends zo{constructor(){super(...arguments),this.elRef=ls(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:r}=e,a=i===!0||t===!0;a&&!r&&(a=!1,t=null,i=null);let l=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return Z("div",{ref:this.elRef,className:l.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},Z("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,Z("tbody",{role:"presentation"},Z(r7,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=o7(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}function o7(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${j6(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${Vb(e.currentDate)}"]`)),t}class l7 extends HF{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class c7 extends zo{constructor(){super(...arguments),this.slicer=new l7,this.tableRef=ls()}render(){let{props:e,context:t}=this;return Z(a7,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class u7 extends q9{constructor(){super(...arguments),this.buildDayTableModel=tt(h7),this.headerRef=ls(),this.tableRef=ls()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,t),a=e.dayHeaders&&Z(VF,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),l=u=>Z(c7,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:u.tableColGroupNode,tableMinWidth:u.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:u.clientWidth,clientHeight:u.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,l,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,l)}}function h7(n,e){let t=new zF(n.renderRange,e);return new BF(t,/year|month|week/.test(n.currentRangeUnit))}class d7 extends M1{buildRenderRange(e,t,i){let r=super.buildRenderRange(e,t,i),{props:a}=this;return f7({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function f7(n){let{dateEnv:e,currentRange:t}=n,{start:i,end:r}=t,a;if(n.snapToWeek&&(i=e.startOfWeek(i),a=e.startOfWeek(r),a.valueOf()!==r.valueOf()&&(r=WT(a,1))),n.fixedWeekCount){let l=e.startOfWeek(e.startOfMonth(Tn(t.end,-1))),u=Math.ceil(T6(l,r));r=WT(r,6-u)}return{start:i,end:r}}var g7=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';p1(g7);var p7=Aa({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:u7,dateProfileGeneratorClass:d7},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});t0.touchMouseIgnoreWait=500;let y_=0,Bg=0,v_=!1;class xk{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&m7(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,y7()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new kp,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),v7()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),_7()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||Sn(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){v_=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Sn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return y_||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(v_=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}}createEventFromTouch(e,t){let i=e.touches,r,a,l=0,u=0;return i&&i.length?(r=i[0].pageX,a=i[0].pageY):(r=e.pageX,a=e.pageY),t?(this.origPageX=r,this.origPageY=a):(l=r-this.origPageX,u=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:a,deltaX:l,deltaY:u}}}function m7(n){return n.button===0&&!n.ctrlKey}function y7(){y_+=1,setTimeout(()=>{y_-=1},t0.touchMouseIgnoreWait)}function v7(){Bg+=1,Bg===1&&window.addEventListener("touchmove",Rk,{passive:!1})}function _7(){Bg-=1,Bg||window.removeEventListener("touchmove",Rk,{passive:!1})}function Rk(n){v_&&n.preventDefault()}class b7{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",Qu(i,{left:r.left,top:r.top}),o6(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(Pb(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Qu(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),Qu(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class Ck extends e0{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Dk extends Ck{constructor(e,t){super(new IF(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return CF(this.scrollController.el)}}class E7 extends Ck{constructor(e){super(new kF,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const wx=typeof performance=="function"?performance.now:Date.now;class w7{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=wx();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,r=t-window.scrollY,a=this.pointerScreenY===null?0:r-this.pointerScreenY,l=this.pointerScreenX===null?0:i-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),l<0?this.everMovedLeft=!0:l>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(wx()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:r}=this,a=r-e.distance,l=a*a/(r*r)*this.maxVelocity*t,u=1;switch(e.name){case"left":u=-1;case"right":i.setScrollLeft(i.getScrollLeft()+l*u);break;case"top":u=-1;case"bottom":i.setScrollTop(i.getScrollTop()+l*u);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,r=null,a=this.scrollCaches||[];for(let l of a){let u=l.clientRect,h=e-u.left,f=u.right-e,p=t-u.top,v=u.bottom-t;h>=0&&f>=0&&p>=0&&v>=0&&(p<=i&&this.everMovedUp&&l.canScrollUp()&&(!r||r.distance>p)&&(r={scrollCache:l,name:"top",distance:p}),v<=i&&this.everMovedDown&&l.canScrollDown()&&(!r||r.distance>v)&&(r={scrollCache:l,name:"bottom",distance:v}),h<=i&&this.everMovedLeft&&l.canScrollLeft()&&(!r||r.distance>h)&&(r={scrollCache:l,name:"left",distance:h}),f<=i&&this.everMovedRight&&l.canScrollRight()&&(!r||r.distance>f)&&(r={scrollCache:l,name:"right",distance:f}))}return r}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new E7(!1):new Dk(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}}class Vh extends NF{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,l6(document.body),u6(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let a=this.minDistance,l,{deltaX:u,deltaY:h}=r;l=u*u+h*h,l>=a*a&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,c6(document.body),h6(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new xk(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new b7,this.autoScroller=new w7}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class A7{constructor(e){this.el=e,this.origRect=Jb(e),this.scrollCaches=X1(e).map(t=>new Dk(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let r of this.scrollCaches)if(!S7(r.getEventTarget())&&!yF(i,r.clientRect))return!1;return!0}}function S7(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class Mp{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new kp}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,r=e.subjectEl,a;r instanceof HTMLElement&&(a=Jb(r),i=vF(i,a));let l=this.initialHit=this.queryHitForOffset(i.left,i.top);if(l){if(this.useSubjectCenter&&a){let u=Y1(a,l.rect);u&&(i=_F(u))}this.coordAdjust=bF(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Np(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=jo(this.droppableStore,e=>(e.component.prepareHits(),new A7(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:r}=this,a=null;for(let l in i){let u=i[l].component,h=r[l];if(h&&h.isWithinClipping(e,t)){let f=h.computeLeft(),p=h.computeTop(),v=e-f,_=t-p,{origRect:b}=h,T=b.right-b.left,R=b.bottom-b.top;if(v>=0&&v<T&&_>=0&&_<R){let x=u.queryHit(v,_,T,R);x&&Dp(x.dateProfile.activeRange,x.dateSpan.range)&&(this.disablePointCheck||h.el.contains(h.el.getRootNode().elementFromPoint(v+f-window.scrollX,_+p-window.scrollY)))&&(!a||x.layer>a.layer)&&(x.componentId=l,x.context=u.context,x.rect.left+=f,x.rect.right+=f,x.rect.top+=p,x.rect.bottom+=p,a=x)}}}return a}}function Np(n,e){return!n&&!e?!0:!!n!=!!e?!1:oF(n.dateSpan,e.dateSpan)}function Ik(n,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(n,e));return Object.assign(t,T7(n,e.dateEnv)),t}function T7(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class x7 extends fc{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:r}=this,a=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:l,finalHit:u}=this.hitDragging;if(l&&u&&Np(l,u)){let{context:h}=r,f=Object.assign(Object.assign({},Ik(l.dateSpan,h)),{dayEl:l.dayEl,jsEvent:i.origEvent,view:h.viewApi||h.calendarApi.view});h.emitter.trigger("dateClick",f)}}},this.dragging=new Vh(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Mp(this.dragging,Xb(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class R7 extends fc{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=l=>{let{component:u,dragging:h}=this,{options:f}=u.context,p=f.selectable&&u.isValidDateDownEl(l.origEvent.target);h.setIgnoreMove(!p),h.delay=l.isTouch?C7(u):null},this.handleDragStart=l=>{this.component.context.calendarApi.unselect(l)},this.handleHitUpdate=(l,u)=>{let{context:h}=this.component,f=null,p=!1;if(l){let v=this.hitDragging.initialHit;l.componentId===v.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(v,l)||(f=D7(v,l,h.pluginHooks.dateSelectionTransformers)),(!f||!FF(f,l.dateProfile,h))&&(p=!0,f=null)}f?h.dispatch({type:"SELECT_DATES",selection:f}):u||h.dispatch({type:"UNSELECT_DATES"}),p?Lb():jb(),u||(this.dragSelection=f)},this.handlePointerUp=l=>{this.dragSelection&&(z1(this.dragSelection,l,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,r=this.dragging=new Vh(e.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let a=this.hitDragging=new Mp(this.dragging,Xb(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function C7(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function D7(n,e,t){let i=n.dateSpan,r=e.dateSpan,a=[i.range.start,i.range.end,r.range.start,r.range.end];a.sort(m6);let l={};for(let u of t){let h=u(n,e);if(h===!1)return null;h&&Object.assign(l,h)}return l.range={start:a[0],end:a[3]},l.allDay=i.allDay,l}class Uh extends fc{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let u=l.origEvent.target,{component:h,dragging:f}=this,{mirror:p}=f,{options:v}=h.context,_=h.context;this.subjectEl=l.subjectEl;let b=this.subjectSeg=tc(l.subjectEl),R=(this.eventRange=b.eventRange).instance.instanceId;this.relevantEvents=$b(_.getCurrentData().eventStore,R),f.minDistance=l.isTouch?0:v.eventDragMinDistance,f.delay=l.isTouch&&R!==h.props.eventSelection?k7(h):null,v.fixedMirrorParent?p.parentNode=v.fixedMirrorParent:p.parentNode=Sn(u,".fc"),p.revertDuration=v.dragRevertDuration;let x=h.isValidSegDownEl(u)&&!Sn(u,".fc-event-resizer");f.setIgnoreMove(!x),this.isDragging=x&&l.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=l=>{let u=this.component.context,h=this.eventRange,f=h.instance.instanceId;l.isTouch?f!==this.component.props.eventSelection&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:f}):u.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(u.calendarApi.unselect(l),u.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new yt(u,h.def,h.instance),jsEvent:l.origEvent,view:u.viewApi}))},this.handleHitUpdate=(l,u)=>{if(!this.isDragging)return;let h=this.relevantEvents,f=this.hitDragging.initialHit,p=this.component.context,v=null,_=null,b=null,T=!1,R={affectedEvents:h,mutatedEvents:Oi(),isEvent:!0};if(l){v=l.context;let x=v.options;p===v||x.editable&&x.droppable?(_=I7(f,l,this.eventRange.instance.range.start,v.getCurrentData().pluginHooks.eventDragMutationMassagers),_&&(b=Kb(h,v.getCurrentData().eventUiBases,_,v),R.mutatedEvents=b,tk(R,l.dateProfile,v)||(T=!0,_=null,b=null,R.mutatedEvents=Oi()))):v=null}this.displayDrag(v,R),T?Lb():jb(),u||(p===v&&Np(f,l)&&(_=null),this.dragging.setMirrorNeedsRevert(!_),this.dragging.setMirrorIsVisible(!l||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=v,this.validMutation=_,this.mutatedRelevantEvents=b)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=l=>{if(this.isDragging){let u=this.component.context,h=u.viewApi,{receivingContext:f,validMutation:p}=this,v=this.eventRange.def,_=this.eventRange.instance,b=new yt(u,v,_),T=this.relevantEvents,R=this.mutatedRelevantEvents,{finalHit:x}=this.hitDragging;if(this.clearDrag(),u.emitter.trigger("eventDragStop",{el:this.subjectEl,event:b,jsEvent:l.origEvent,view:h}),p){if(f===u){let M=new yt(u,R.defs[v.defId],_?R.instances[_.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:R});let j={oldEvent:b,event:M,relatedEvents:yo(R,u,_),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:T})}},z={};for(let $ of u.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(z,$(p,u));u.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},j),z),{el:l.subjectEl,delta:p.datesDelta,jsEvent:l.origEvent,view:h})),u.emitter.trigger("eventChange",j)}else if(f){let M={event:b,relatedEvents:yo(T,u,_),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:T})}};u.emitter.trigger("eventLeave",Object.assign(Object.assign({},M),{draggedEl:l.subjectEl,view:h})),u.dispatch({type:"REMOVE_EVENTS",eventStore:T}),u.emitter.trigger("eventRemove",M);let j=R.defs[v.defId],z=R.instances[_.instanceId],$=new yt(f,j,z);f.dispatch({type:"MERGE_EVENTS",eventStore:R});let J={event:$,relatedEvents:yo(R,f,z),revert(){f.dispatch({type:"REMOVE_EVENTS",eventStore:R})}};f.emitter.trigger("eventAdd",J),l.isTouch&&f.dispatch({type:"SELECT_EVENT",eventInstanceId:_.instanceId}),f.emitter.trigger("drop",Object.assign(Object.assign({},Ik(x.dateSpan,f)),{draggedEl:l.subjectEl,jsEvent:l.origEvent,view:x.context.viewApi})),f.emitter.trigger("eventReceive",Object.assign(Object.assign({},J),{draggedEl:l.subjectEl,view:x.context.viewApi}))}}else u.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:i}=t.context,r=this.dragging=new Vh(e.el);r.pointer.selector=Uh.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=i.dragScroll;let a=this.hitDragging=new Mp(this.dragging,g_);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let i=this.component.context,r=this.receivingContext;r&&r!==e&&(r===i?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Oi(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Uh.SELECTOR=".fc-event-draggable, .fc-event-resizable";function I7(n,e,t,i){let r=n.dateSpan,a=e.dateSpan,l=r.range.start,u=a.range.start,h={};r.allDay!==a.allDay&&(h.allDay=a.allDay,h.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?l=mt(t):l=t);let f=jl(l,u,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);f.milliseconds&&(h.allDay=!1);let p={datesDelta:f,standardProps:h};for(let v of i)v(p,n,e);return p}function k7(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class M7 extends fc{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:l}=this,u=this.querySegEl(a),h=tc(u),f=this.eventRange=h.eventRange;this.dragging.minDistance=l.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==f.instance.instanceId)},this.handleDragStart=a=>{let{context:l}=this.component,u=this.eventRange;this.relevantEvents=$b(l.getCurrentData().eventStore,this.eventRange.instance.instanceId);let h=this.querySegEl(a);this.draggingSegEl=h,this.draggingSeg=tc(h),l.calendarApi.unselect(),l.emitter.trigger("eventResizeStart",{el:h,event:new yt(l,u.def,u.instance),jsEvent:a.origEvent,view:l.viewApi})},this.handleHitUpdate=(a,l,u)=>{let{context:h}=this.component,f=this.relevantEvents,p=this.hitDragging.initialHit,v=this.eventRange.instance,_=null,b=null,T=!1,R={affectedEvents:f,mutatedEvents:Oi(),isEvent:!0};a&&(a.componentId===p.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(p,a)||(_=N7(p,a,u.subjectEl.classList.contains("fc-event-resizer-start"),v.range))),_&&(b=Kb(f,h.getCurrentData().eventUiBases,_,h),R.mutatedEvents=b,tk(R,a.dateProfile,h)||(T=!0,_=null,b=null,R.mutatedEvents=null)),b?h.dispatch({type:"SET_EVENT_RESIZE",state:R}):h.dispatch({type:"UNSET_EVENT_RESIZE"}),T?Lb():jb(),l||(_&&Np(p,a)&&(_=null),this.validMutation=_,this.mutatedRelevantEvents=b)},this.handleDragEnd=a=>{let{context:l}=this.component,u=this.eventRange.def,h=this.eventRange.instance,f=new yt(l,u,h),p=this.relevantEvents,v=this.mutatedRelevantEvents;if(l.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:f,jsEvent:a.origEvent,view:l.viewApi}),this.validMutation){let _=new yt(l,v.defs[u.defId],h?v.instances[h.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:v});let b={oldEvent:f,event:_,relatedEvents:yo(v,l,h),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:p})}};l.emitter.trigger("eventResize",Object.assign(Object.assign({},b),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||et(0),endDelta:this.validMutation.endDelta||et(0),jsEvent:a.origEvent,view:l.viewApi})),l.emitter.trigger("eventChange",b)}else l.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new Vh(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new Mp(this.dragging,Xb(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Sn(e.subjectEl,".fc-event")}}function N7(n,e,t,i){let r=n.context.dateEnv,a=n.dateSpan.range.start,l=e.dateSpan.range.start,u=jl(a,l,r,n.largeUnit);if(t){if(r.add(i.start,u)<i.end)return{startDelta:u}}else if(r.add(i.end,u)>i.start)return{endDelta:u};return null}class O7{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,a=_1(i.origEvent);this.matchesCancel=!!Sn(a,r),this.matchesEvent=!!Sn(a,Uh.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:a}=this,l=r.getCurrentData();if(!a.wasTouchScroll){if(l.dateSelection&&!this.isRecentPointerDateSelect){let u=r.options.unselectAuto;u&&(!u||!this.matchesCancel)&&r.calendarApi.unselect(i)}l.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new xk(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const P7={fixedMirrorParent:K},L7={dateClick:K,eventDragStart:K,eventDragStop:K,eventDrop:K,eventResizeStart:K,eventResizeStop:K,eventResize:K,drop:K,eventReceive:K,eventLeave:K};t0.dataAttrPrefix="";var j7=Aa({name:"@fullcalendar/interaction",componentInteractions:[x7,R7,Uh,M7],calendarInteractions:[O7],elementDraggingImpl:Vh,optionRefiners:P7,listenerRefiners:L7});const V7=({events:n,onDateClick:e})=>{const[t,i]=H.useState(window.innerWidth<768);H.useEffect(()=>{const a=()=>i(window.innerWidth<768);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const r=t?{left:"prev,next",center:"title",right:""}:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek"};return w.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-lg p-4",children:w.jsx(yk,{plugins:[p7,j7],initialView:"dayGridMonth",headerToolbar:r,events:n,dateClick:e,height:"auto"})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function zh(n){return n+.5|0}const na=(n,e,t)=>Math.max(Math.min(n,t),e);function Lu(n){return na(zh(n*2.55),0,255)}function ca(n){return na(zh(n*255),0,255)}function Kr(n){return na(zh(n/2.55)/100,0,1)}function Ax(n){return na(zh(n*100),0,100)}const vi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},__=[..."0123456789ABCDEF"],U7=n=>__[n&15],z7=n=>__[(n&240)>>4]+__[n&15],Tf=n=>(n&240)>>4===(n&15),B7=n=>Tf(n.r)&&Tf(n.g)&&Tf(n.b)&&Tf(n.a);function H7(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&vi[n[1]]*17,g:255&vi[n[2]]*17,b:255&vi[n[3]]*17,a:e===5?vi[n[4]]*17:255}:(e===7||e===9)&&(t={r:vi[n[1]]<<4|vi[n[2]],g:vi[n[3]]<<4|vi[n[4]],b:vi[n[5]]<<4|vi[n[6]],a:e===9?vi[n[7]]<<4|vi[n[8]]:255})),t}const F7=(n,e)=>n<255?e(n):"";function q7(n){var e=B7(n)?U7:z7;return n?"#"+e(n.r)+e(n.g)+e(n.b)+F7(n.a,e):void 0}const W7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kk(n,e,t){const i=e*Math.min(t,1-t),r=(a,l=(a+n/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function G7(n,e,t){const i=(r,a=(r+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function $7(n,e,t){const i=kk(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function Y7(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function s0(n){const t=n.r/255,i=n.g/255,r=n.b/255,a=Math.max(t,i,r),l=Math.min(t,i,r),u=(a+l)/2;let h,f,p;return a!==l&&(p=a-l,f=u>.5?p/(2-a-l):p/(a+l),h=Y7(t,i,r,p,a),h=h*60+.5),[h|0,f||0,u]}function a0(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(ca)}function o0(n,e,t){return a0(kk,n,e,t)}function Q7(n,e,t){return a0($7,n,e,t)}function K7(n,e,t){return a0(G7,n,e,t)}function Mk(n){return(n%360+360)%360}function X7(n){const e=W7.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Lu(+e[5]):ca(+e[5]));const r=Mk(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=Q7(r,a,l):e[1]==="hsv"?i=K7(r,a,l):i=o0(r,a,l),{r:i[0],g:i[1],b:i[2],a:t}}function Z7(n,e){var t=s0(n);t[0]=Mk(t[0]+e),t=o0(t),n.r=t[0],n.g=t[1],n.b=t[2]}function J7(n){if(!n)return;const e=s0(n),t=e[0],i=Ax(e[1]),r=Ax(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Kr(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const Sx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Tx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function eq(){const n={},e=Object.keys(Tx),t=Object.keys(Sx);let i,r,a,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],r=0;r<t.length;r++)a=t[r],u=u.replace(a,Sx[a]);a=parseInt(Tx[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let xf;function tq(n){xf||(xf=eq(),xf.transparent=[0,0,0,0]);const e=xf[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const nq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function iq(n){const e=nq.exec(n);let t=255,i,r,a;if(e){if(e[7]!==i){const l=+e[7];t=e[8]?Lu(l):na(l*255,0,255)}return i=+e[1],r=+e[3],a=+e[5],i=255&(e[2]?Lu(i):na(i,0,255)),r=255&(e[4]?Lu(r):na(r,0,255)),a=255&(e[6]?Lu(a):na(a,0,255)),{r:i,g:r,b:a,a:t}}}function rq(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Kr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Ev=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Dl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function sq(n,e,t){const i=Dl(Kr(n.r)),r=Dl(Kr(n.g)),a=Dl(Kr(n.b));return{r:ca(Ev(i+t*(Dl(Kr(e.r))-i))),g:ca(Ev(r+t*(Dl(Kr(e.g))-r))),b:ca(Ev(a+t*(Dl(Kr(e.b))-a))),a:n.a+t*(e.a-n.a)}}function Rf(n,e,t){if(n){let i=s0(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=o0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Nk(n,e){return n&&Object.assign(e||{},n)}function xx(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ca(n[3]))):(e=Nk(n,{r:0,g:0,b:0,a:1}),e.a=ca(e.a)),e}function aq(n){return n.charAt(0)==="r"?iq(n):X7(n)}class _h{constructor(e){if(e instanceof _h)return e;const t=typeof e;let i;t==="object"?i=xx(e):t==="string"&&(i=H7(e)||tq(e)||aq(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Nk(this._rgb);return e&&(e.a=Kr(e.a)),e}set rgb(e){this._rgb=xx(e)}rgbString(){return this._valid?rq(this._rgb):void 0}hexString(){return this._valid?q7(this._rgb):void 0}hslString(){return this._valid?J7(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let a;const l=t===a?.5:t,u=2*l-1,h=i.a-r.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-f,i.r=255&f*i.r+a*r.r+.5,i.g=255&f*i.g+a*r.g+.5,i.b=255&f*i.b+a*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=sq(this._rgb,e._rgb,t)),this}clone(){return new _h(this.rgb)}alpha(e){return this._rgb.a=ca(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=zh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Rf(this._rgb,2,e),this}darken(e){return Rf(this._rgb,2,-e),this}saturate(e){return Rf(this._rgb,1,e),this}desaturate(e){return Rf(this._rgb,1,-e),this}rotate(e){return Z7(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function $r(){}const oq=(()=>{let n=0;return()=>n++})();function xn(n){return n==null}function pn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ze(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function us(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function lr(n,e){return us(n)?n:e}function st(n,e){return typeof n>"u"?e:n}const lq=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Ok=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function gt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function rt(n,e,t,i){let r,a,l;if(pn(n))for(a=n.length,r=0;r<a;r++)e.call(t,n[r],r);else if(Ze(n))for(l=Object.keys(n),a=l.length,r=0;r<a;r++)e.call(t,n[l[r]],l[r])}function Hg(n,e){let t,i,r,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],a=e[t],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function Fg(n){if(pn(n))return n.map(Fg);if(Ze(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=Fg(n[t[r]]);return e}return n}function Pk(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function cq(n,e,t,i){if(!Pk(n))return;const r=e[n],a=t[n];Ze(r)&&Ze(a)?bh(r,a,i):e[n]=Fg(a)}function bh(n,e,t){const i=pn(e)?e:[e],r=i.length;if(!Ze(n))return n;t=t||{};const a=t.merger||cq;let l;for(let u=0;u<r;++u){if(l=i[u],!Ze(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)a(h[f],n,l,t)}return n}function eh(n,e){return bh(n,e,{merger:uq})}function uq(n,e,t){if(!Pk(n))return;const i=e[n],r=t[n];Ze(i)&&Ze(r)?eh(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Fg(r))}const Rx={"":n=>n,x:n=>n.x,y:n=>n.y};function hq(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function dq(n){const e=hq(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Eh(n,e){return(Rx[e]||(Rx[e]=dq(e)))(n)}function l0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const qg=n=>typeof n<"u",_a=n=>typeof n=="function",Cx=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function fq(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const an=Math.PI,zt=2*an,Wg=Number.POSITIVE_INFINITY,gq=an/180,$t=an/2,no=an/4,Dx=an*2/3,Ix=Math.sign;function pq(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,a)=>r-a).pop(),e}function mq(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Gg(n){return!mq(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function mo(n){return n*(an/180)}function yq(n){return n*(180/an)}function Lk(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let a=Math.atan2(i,t);return a<-.5*an&&(a+=zt),{angle:a,distance:r}}function vq(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function io(n){return(n%zt+zt)%zt}function $g(n,e,t,i){const r=io(n),a=io(e),l=io(t),u=io(a-r),h=io(l-r),f=io(r-a),p=io(r-l);return r===a||r===l||i&&a===l||u>h&&f<p}function bi(n,e,t){return Math.max(e,Math.min(t,n))}function _q(n){return bi(n,-32768,32767)}function ju(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function c0(n,e,t){t=t||(l=>n[l]<e);let i=n.length-1,r=0,a;for(;i-r>1;)a=r+i>>1,t(a)?r=a:i=a;return{lo:r,hi:i}}const b_=(n,e,t,i)=>c0(n,t,i?r=>{const a=n[r][e];return a<t||a===t&&n[r+1][e]===t}:r=>n[r][e]<t),bq=(n,e,t)=>c0(n,t,i=>n[i][e]>=t);function Eq(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const jk=["push","pop","shift","splice","unshift"];function wq(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),jk.forEach(t=>{const i="_onData"+l0(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=r.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function kx(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(jk.forEach(a=>{delete n[a]}),delete n._chartjs)}function Aq(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Vk=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Uk(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,Vk.call(window,()=>{i=!1,n.apply(e,t)}))}}function Sq(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const zk=n=>n==="start"?"left":n==="end"?"right":"center",Zn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,Tq=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e,Cf=n=>n===0||n===1,Mx=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*zt/t)),Nx=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*zt/t)+1,th={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*$t)+1,easeOutSine:n=>Math.sin(n*$t),easeInOutSine:n=>-.5*(Math.cos(an*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Cf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Cf(n)?n:Mx(n,.075,.3),easeOutElastic:n=>Cf(n)?n:Nx(n,.075,.3),easeInOutElastic(n){return Cf(n)?n:n<.5?.5*Mx(n*2,.1125,.45):.5+.5*Nx(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-th.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?th.easeInBounce(n*2)*.5:th.easeOutBounce(n*2-1)*.5+.5};function Bk(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Ox(n){return Bk(n)?n:new _h(n)}function wv(n){return Bk(n)?n:new _h(n).saturate(.5).darken(.1).hexString()}const xq=["x","y","borderWidth","radius","tension"],Rq=["color","borderColor","backgroundColor"];function Cq(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Rq},numbers:{type:"number",properties:xq}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Dq(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Px=new Map;function Iq(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Px.get(t);return i||(i=new Intl.NumberFormat(n,e),Px.set(t,i)),i}function kq(n,e,t){return Iq(e,t).format(n)}const Mq={values(n){return pn(n)?n:""+n}};var Nq={formatters:Mq};function Oq(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Nq.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ro=Object.create(null),E_=Object.create(null);function nh(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const a=t[i];n=n[a]||(n[a]=Object.create(null))}return n}function Av(n,e,t){return typeof e=="string"?bh(nh(n,e),t):bh(nh(n,""),e)}class Pq{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>wv(r.backgroundColor),this.hoverBorderColor=(i,r)=>wv(r.borderColor),this.hoverColor=(i,r)=>wv(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Av(this,e,t)}get(e){return nh(this,e)}describe(e,t){return Av(E_,e,t)}override(e,t){return Av(Ro,e,t)}route(e,t,i,r){const a=nh(this,e),l=nh(this,i),u="_"+t;Object.defineProperties(a,{[u]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],f=l[r];return Ze(h)?Object.assign({},f,h):st(h,f)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var Ot=new Pq({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Cq,Dq,Oq]);function Lq(n){return!n||xn(n.size)||xn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Lx(n,e,t,i,r){let a=e[r];return a||(a=e[r]=n.measureText(r).width,t.push(r)),a>i&&(i=a),i}function ro(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function jx(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Vx(n,e,t,i){Hk(n,e,t,i,null)}function Hk(n,e,t,i,r){let a,l,u,h,f,p,v,_;const b=e.pointStyle,T=e.rotation,R=e.radius;let x=(T||0)*gq;if(b&&typeof b=="object"&&(a=b.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(x),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(R)||R<=0)){switch(n.beginPath(),b){default:r?n.ellipse(t,i,r/2,R,0,0,zt):n.arc(t,i,R,0,zt),n.closePath();break;case"triangle":p=r?r/2:R,n.moveTo(t+Math.sin(x)*p,i-Math.cos(x)*R),x+=Dx,n.lineTo(t+Math.sin(x)*p,i-Math.cos(x)*R),x+=Dx,n.lineTo(t+Math.sin(x)*p,i-Math.cos(x)*R),n.closePath();break;case"rectRounded":f=R*.516,h=R-f,l=Math.cos(x+no)*h,v=Math.cos(x+no)*(r?r/2-f:h),u=Math.sin(x+no)*h,_=Math.sin(x+no)*(r?r/2-f:h),n.arc(t-v,i-u,f,x-an,x-$t),n.arc(t+_,i-l,f,x-$t,x),n.arc(t+v,i+u,f,x,x+$t),n.arc(t-_,i+l,f,x+$t,x+an),n.closePath();break;case"rect":if(!T){h=Math.SQRT1_2*R,p=r?r/2:h,n.rect(t-p,i-h,2*p,2*h);break}x+=no;case"rectRot":v=Math.cos(x)*(r?r/2:R),l=Math.cos(x)*R,u=Math.sin(x)*R,_=Math.sin(x)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+_,i-l),n.lineTo(t+v,i+u),n.lineTo(t-_,i+l),n.closePath();break;case"crossRot":x+=no;case"cross":v=Math.cos(x)*(r?r/2:R),l=Math.cos(x)*R,u=Math.sin(x)*R,_=Math.sin(x)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+_,i-l),n.lineTo(t-_,i+l);break;case"star":v=Math.cos(x)*(r?r/2:R),l=Math.cos(x)*R,u=Math.sin(x)*R,_=Math.sin(x)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+_,i-l),n.lineTo(t-_,i+l),x+=no,v=Math.cos(x)*(r?r/2:R),l=Math.cos(x)*R,u=Math.sin(x)*R,_=Math.sin(x)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+_,i-l),n.lineTo(t-_,i+l);break;case"line":l=r?r/2:Math.cos(x)*R,u=Math.sin(x)*R,n.moveTo(t-l,i-u),n.lineTo(t+l,i+u);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(x)*(r?r/2:R),i+Math.sin(x)*R);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Fk(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function u0(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function h0(n){n.restore()}function jq(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),xn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Vq(n,e,t,i,r){if(r.strikethrough||r.underline){const a=n.measureText(i),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,h=t-a.actualBoundingBoxAscent,f=t+a.actualBoundingBoxDescent,p=r.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function Uq(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Yg(n,e,t,i,r,a={}){const l=pn(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(n.save(),n.font=r.string,jq(n,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&Uq(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),xn(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,t,i,a.maxWidth)),n.fillText(f,t,i,a.maxWidth),Vq(n,t,i,f,a),i+=Number(r.lineHeight);n.restore()}function w_(n,e){const{x:t,y:i,w:r,h:a,radius:l}=e;n.arc(t+l.topLeft,i+l.topLeft,l.topLeft,1.5*an,an,!0),n.lineTo(t,i+a-l.bottomLeft),n.arc(t+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,an,$t,!0),n.lineTo(t+r-l.bottomRight,i+a),n.arc(t+r-l.bottomRight,i+a-l.bottomRight,l.bottomRight,$t,0,!0),n.lineTo(t+r,i+l.topRight),n.arc(t+r-l.topRight,i+l.topRight,l.topRight,0,-$t,!0),n.lineTo(t+l.topLeft,i)}const zq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Bq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Hq(n,e){const t=(""+n).match(zq);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const Fq=n=>+n||0;function d0(n,e){const t={},i=Ze(e),r=i?Object.keys(e):e,a=Ze(n)?i?l=>st(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of r)t[l]=Fq(a(l));return t}function qq(n){return d0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ih(n){return d0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ui(n){const e=qq(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Fn(n,e){n=n||{},e=e||Ot.font;let t=st(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=st(n.style,e.style);i&&!(""+i).match(Bq)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:st(n.family,e.family),lineHeight:Hq(st(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:st(n.weight,e.weight),string:""};return r.string=Lq(r),r}function Df(n,e,t,i){let r,a,l;for(r=0,a=n.length;r<a;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function Wq(n,e,t){const{min:i,max:r}=n,a=Ok(e,(r-i)/2),l=(u,h)=>t&&u===0?0:u+h;return{min:l(i,-Math.abs(a)),max:l(r,a)}}function gc(n,e){return Object.assign(Object.create(n),e)}function f0(n,e=[""],t,i,r=()=>n[0]){const a=t||n;typeof i>"u"&&(i=$k("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:r,override:u=>f0([u,...n],e,a,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return Wk(u,h,()=>Jq(h,e,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return zx(u).includes(h)},ownKeys(u){return zx(u)},set(u,h,f){const p=u._storage||(u._storage=r());return u[h]=p[h]=f,delete u._keys,!0}})}function nc(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:qk(n,i),setContext:a=>nc(n,a,t,i),override:a=>nc(n.override(a),e,t,i)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return Wk(a,l,()=>$q(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function qk(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:_a(t)?t:()=>t,isIndexable:_a(i)?i:()=>i}}const Gq=(n,e)=>n?n+l0(e):e,g0=(n,e)=>Ze(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Wk(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function $q(n,e,t){const{_proxy:i,_context:r,_subProxy:a,_descriptors:l}=n;let u=i[e];return _a(u)&&l.isScriptable(e)&&(u=Yq(e,u,n,t)),pn(u)&&u.length&&(u=Qq(e,u,n,l.isIndexable)),g0(e,u)&&(u=nc(u,r,a&&a[e],l)),u}function Yq(n,e,t,i){const{_proxy:r,_context:a,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=e(a,l||i);return u.delete(n),g0(n,h)&&(h=p0(r._scopes,r,n,h)),h}function Qq(n,e,t,i){const{_proxy:r,_context:a,_subProxy:l,_descriptors:u}=t;if(typeof a.index<"u"&&i(n))return e[a.index%e.length];if(Ze(e[0])){const h=e,f=r._scopes.filter(p=>p!==h);e=[];for(const p of h){const v=p0(f,r,n,p);e.push(nc(v,a,l&&l[n],u))}}return e}function Gk(n,e,t){return _a(n)?n(e,t):n}const Kq=(n,e)=>n===!0?e:typeof n=="string"?Eh(e,n):void 0;function Xq(n,e,t,i,r){for(const a of e){const l=Kq(t,a);if(l){n.add(l);const u=Gk(l._fallback,t,r);if(typeof u<"u"&&u!==t&&u!==i)return u}else if(l===!1&&typeof i<"u"&&t!==i)return null}return!1}function p0(n,e,t,i){const r=e._rootScopes,a=Gk(e._fallback,t,i),l=[...n,...r],u=new Set;u.add(i);let h=Ux(u,l,t,a||t,i);return h===null||typeof a<"u"&&a!==t&&(h=Ux(u,l,a,h,i),h===null)?!1:f0(Array.from(u),[""],r,a,()=>Zq(e,t,i))}function Ux(n,e,t,i,r){for(;t;)t=Xq(n,e,t,i,r);return t}function Zq(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return pn(r)&&Ze(t)?t:r||{}}function Jq(n,e,t,i){let r;for(const a of e)if(r=$k(Gq(a,n),t),typeof r<"u")return g0(n,r)?p0(t,i,n,r):r}function $k(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function zx(n){let e=n._keys;return e||(e=n._keys=e8(n._scopes)),e}function e8(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function m0(){return typeof window<"u"&&typeof document<"u"}function y0(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Qg(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Op=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function t8(n,e){return Op(n).getPropertyValue(e)}const n8=["top","right","bottom","left"];function vo(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const a=n8[r];i[a]=parseFloat(n[e+"-"+a+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const i8=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function r8(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:a}=i;let l=!1,u,h;if(i8(r,a,n.target))u=r,h=a;else{const f=e.getBoundingClientRect();u=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function co(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=Op(t),a=r.boxSizing==="border-box",l=vo(r,"padding"),u=vo(r,"border","width"),{x:h,y:f,box:p}=r8(n,t),v=l.left+(p&&u.left),_=l.top+(p&&u.top);let{width:b,height:T}=e;return a&&(b-=l.width+u.width,T-=l.height+u.height),{x:Math.round((h-v)/b*t.width/i),y:Math.round((f-_)/T*t.height/i)}}function s8(n,e,t){let i,r;if(e===void 0||t===void 0){const a=n&&y0(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),u=Op(a),h=vo(u,"border","width"),f=vo(u,"padding");e=l.width-f.width-h.width,t=l.height-f.height-h.height,i=Qg(u.maxWidth,a,"clientWidth"),r=Qg(u.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:i||Wg,maxHeight:r||Wg}}const If=n=>Math.round(n*10)/10;function a8(n,e,t,i){const r=Op(n),a=vo(r,"margin"),l=Qg(r.maxWidth,n,"clientWidth")||Wg,u=Qg(r.maxHeight,n,"clientHeight")||Wg,h=s8(n,e,t);let{width:f,height:p}=h;if(r.boxSizing==="content-box"){const _=vo(r,"border","width"),b=vo(r,"padding");f-=b.width+_.width,p-=b.height+_.height}return f=Math.max(0,f-a.width),p=Math.max(0,i?f/i:p-a.height),f=If(Math.min(f,l,h.maxWidth)),p=If(Math.min(p,u,h.maxHeight)),f&&!p&&(p=If(f/2)),(e!==void 0||t!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=If(Math.floor(p*i))),{width:f,height:p}}function Bx(n,e,t){const i=e||1,r=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==a?(n.currentDevicePixelRatio=i,l.height=r,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const o8=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};m0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Hx(n,e){const t=t8(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const l8=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},c8=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ql(n,e,t){return n?l8(e,t):c8()}function Yk(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Qk(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class u8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const a=t.listeners[r],l=t.duration;a.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Vk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(r.draw(),this._notify(r,i,e,"progress")),a.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Yr=new u8;const Fx="transparent",h8={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=Ox(n||Fx),r=i.valid&&Ox(e||Fx);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class d8{constructor(e,t,i,r){const a=t[i];r=Df([e.to,r,a,e.from]);const l=Df([e.from,a,r]);this._active=!0,this._fn=e.fn||h8[e.type||typeof l],this._easing=th[e.easing]||th.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Df([e.to,t,r,e.from]),this._from=Df([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||t<i),!this._active){this._target[r]=u,this._notify(!0);return}if(t<0){this._target[r]=a;return}h=t/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(a,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class Kk{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ze(e))return;const t=Object.keys(Ot.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const a=e[r];if(!Ze(a))return;const l={};for(const u of t)l[u]=a[u];(pn(a.properties)&&a.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,t){const i=t.options,r=g8(e,i);if(!r)return[];const a=this._createAnimations(r,i);return i.$shared&&f8(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,t){const i=this._properties,r=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,t));continue}const p=t[f];let v=a[f];const _=i.get(f);if(v)if(_&&v.active()){v.update(_,p,u);continue}else v.cancel();if(!_||!_.duration){e[f]=p;continue}a[f]=v=new d8(_,e,f,p),r.push(v)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Yr.add(this._chart,i),!0}}function f8(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const a=n[i[r]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function g8(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function qx(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:i?a:r,end:i?r:a}}function p8(n,e,t){if(t===!1)return!1;const i=qx(n,t),r=qx(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function m8(n){let e,t,i,r;return Ze(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function Xk(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,a;for(r=0,a=i.length;r<a;++r)t.push(i[r].index);return t}function Wx(n,e,t,i={}){const r=n.keys,a=i.mode==="single";let l,u,h,f;if(e===null)return;let p=!1;for(l=0,u=r.length;l<u;++l){if(h=+r[l],h===t){if(p=!0,i.all)continue;break}f=n.values[h],us(f)&&(a||e===0||Ix(e)===Ix(f))&&(e+=f)}return!p&&!i.all?0:e}function y8(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],u[h]={[r]:p,[a]:n[p]};return u}function Sv(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function v8(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function _8(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function b8(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Gx(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const a=n[r.index];if(t&&a>0||!t&&a<0)return r.index}return null}function $x(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:u}=i,h=a.axis,f=l.axis,p=v8(a,l,i),v=e.length;let _;for(let b=0;b<v;++b){const T=e[b],{[h]:R,[f]:x}=T,M=T._stacks||(T._stacks={});_=M[f]=b8(r,p,R),_[u]=x,_._top=Gx(_,l,!0,i.type),_._bottom=Gx(_,l,!1,i.type);const j=_._visualValues||(_._visualValues={});j[u]=x}}function Tv(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function E8(n,e){return gc(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function w8(n,e,t){return gc(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Au(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const a=r._stacks;if(!a||a[i]===void 0||a[i][t]===void 0)return;delete a[i][t],a[i]._visualValues!==void 0&&a[i]._visualValues[t]!==void 0&&delete a[i]._visualValues[t]}}}const xv=n=>n==="reset"||n==="none",Yx=(n,e)=>e?n:Object.assign({},n),A8=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Xk(t,!0),values:null};class rh{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Sv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Au(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(v,_,b,T)=>v==="x"?_:v==="r"?T:b,a=t.xAxisID=st(i.xAxisID,Tv(e,"x")),l=t.yAxisID=st(i.yAxisID,Tv(e,"y")),u=t.rAxisID=st(i.rAxisID,Tv(e,"r")),h=t.indexAxis,f=t.iAxisID=r(h,a,l,u),p=t.vAxisID=r(h,l,a,u);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&kx(this._data,this),e._stacked&&Au(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Ze(t)){const r=this._cachedMeta;this._data=y8(t,r)}else if(i!==t){if(i){kx(i,this);const r=this._cachedMeta;Au(r),r._parsed=[]}t&&Object.isExtensible(t)&&wq(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const a=t._stacked;t._stacked=Sv(t.vScale,t),t.stack!==i.stack&&(r=!0,Au(t),t.stack=i.stack),this._resyncElements(e),(r||a!==t._stacked)&&($x(this,t._parsed),t._stacked=Sv(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:a,_stacked:l}=i,u=a.axis;let h=e===0&&t===r.length?!0:i._sorted,f=e>0&&i._parsed[e-1],p,v,_;if(this._parsing===!1)i._parsed=r,i._sorted=!0,_=r;else{pn(r[e])?_=this.parseArrayData(i,r,e,t):Ze(r[e])?_=this.parseObjectData(i,r,e,t):_=this.parsePrimitiveData(i,r,e,t);const b=()=>v[u]===null||f&&v[u]<f[u];for(p=0;p<t;++p)i._parsed[p+e]=v=_[p],h&&(b()&&(h=!1),f=v);i._sorted=h}l&&$x(this,_)}parsePrimitiveData(e,t,i,r){const{iScale:a,vScale:l}=e,u=a.axis,h=l.axis,f=a.getLabels(),p=a===l,v=new Array(r);let _,b,T;for(_=0,b=r;_<b;++_)T=_+i,v[_]={[u]:p||a.parse(f[T],T),[h]:l.parse(t[T],T)};return v}parseArrayData(e,t,i,r){const{xScale:a,yScale:l}=e,u=new Array(r);let h,f,p,v;for(h=0,f=r;h<f;++h)p=h+i,v=t[p],u[h]={x:a.parse(v[0],p),y:l.parse(v[1],p)};return u}parseObjectData(e,t,i,r){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(r);let p,v,_,b;for(p=0,v=r;p<v;++p)_=p+i,b=t[_],f[p]={x:a.parse(Eh(b,u),_),y:l.parse(Eh(b,h),_)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,a=this._cachedMeta,l=t[e.axis],u={keys:Xk(r,!0),values:t._stacks[e.axis]._visualValues};return Wx(u,l,a.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const a=i[t.axis];let l=a===null?NaN:a;const u=r&&i._stacks[t.axis];r&&u&&(r.values=u,l=Wx(r,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,a=i._sorted&&e===i.iScale,l=r.length,u=this._getOtherScale(e),h=A8(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:v}=_8(u);let _,b;function T(){b=r[_];const R=b[u.axis];return!us(b[e.axis])||p>R||v<R}for(_=0;_<l&&!(!T()&&(this.updateRangeFromParsed(f,e,b,h),a));++_);if(a){for(_=l-1;_>=0;--_)if(!T()){this.updateRangeFromParsed(f,e,b,h);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,a,l;for(r=0,a=t.length;r<a;++r)l=t[r][e.axis],us(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=m8(st(this.options.clip,p8(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],a=t.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,a,u,h),p=u;p<u+h;++p){const v=r[p];v.hidden||(v.active&&f?l.push(v):v.draw(e,a))}for(p=0;p<l.length;++p)l[p].draw(e,a)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=w8(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=r.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=E8(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",a=this._cachedDataOpts,l=e+"-"+t,u=a[l],h=this.enableOptionSharing&&qg(i);if(u)return Yx(u,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),v=r?[`${e}Hover`,"hover",e,""]:[e,""],_=f.getOptionScopes(this.getDataset(),p),b=Object.keys(Ot.elements[e]),T=()=>this.getContext(i,r,t),R=f.resolveNamedOptions(_,b,T,v);return R.$shared&&(R.$shared=h,a[l]=Object.freeze(Yx(R,h))),R}_resolveAnimations(e,t,i){const r=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,u=a[l];if(u)return u;let h;if(r.options.animation!==!1){const p=this.chart.config,v=p.datasetAnimationScopeKeys(this._type,t),_=p.getOptionScopes(this.getDataset(),v);h=p.createResolver(_,this.getContext(e,i,t))}const f=new Kk(r,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||xv(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(t,a)||a!==r;return this.updateSharedOptions(a,t,i),{sharedOptions:a,includeOptions:l}}updateElement(e,t,i,r){xv(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!xv(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const a=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const r=i.length,a=t.length,l=Math.min(a,r);l&&this.parse(0,l),a>r?this._insertElements(r,a-r,e):a<r&&this._removeElements(a,r-a)}_insertElements(e,t,i=!0){const r=this._cachedMeta,a=r.data,l=e+t;let u;const h=f=>{for(f.length+=t,u=f.length-1;u>=l;u--)f[u]=f[u-t]};for(h(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(e,t),i&&this.updateElements(a,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&Au(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}je(rh,"defaults",{}),je(rh,"datasetElementType",null),je(rh,"dataElementType",null);function S8(n,e,t){let i=1,r=1,a=0,l=0;if(e<zt){const u=n,h=u+e,f=Math.cos(u),p=Math.sin(u),v=Math.cos(h),_=Math.sin(h),b=(z,$,J)=>$g(z,u,h,!0)?1:Math.max($,$*t,J,J*t),T=(z,$,J)=>$g(z,u,h,!0)?-1:Math.min($,$*t,J,J*t),R=b(0,f,v),x=b($t,p,_),M=T(an,f,v),j=T(an+$t,p,_);i=(R-M)/2,r=(x-j)/2,a=-(R+M)/2,l=-(x+j)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:l}}class Vu extends rh{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let a=h=>+i[h];if(Ze(i[e])){const{key:h="value"}=this._parsing;a=f=>+Eh(i[f],h)}let l,u;for(l=e,u=e+t;l<u;++l)r._parsed[l]=a(l)}}_getRotation(){return mo(this.options.rotation-90)}_getCircumference(){return mo(this.options.circumference)}_getRotationExtents(){let e=zt,t=-zt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,a=r._getRotation(),l=r._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,a=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(lq(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:p,rotation:v}=this._getRotationExtents(),{ratioX:_,ratioY:b,offsetX:T,offsetY:R}=S8(v,p,h),x=(i.width-l)/_,M=(i.height-l)/b,j=Math.max(Math.min(x,M)/2,0),z=Ok(this.options.radius,j),$=Math.max(z*h,0),J=(z-$)/this._getVisibleDatasetWeightTotal();this.offsetX=T*z,this.offsetY=R*z,r.total=this.calculateTotal(),this.outerRadius=z-J*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-J*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,a=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*a/zt)}updateElements(e,t,i,r){const a=r==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,p=(u.left+u.right)/2,v=(u.top+u.bottom)/2,_=a&&f.animateScale,b=_?0:this.innerRadius,T=_?0:this.outerRadius,{sharedOptions:R,includeOptions:x}=this._getSharedOptions(t,r);let M=this._getRotation(),j;for(j=0;j<t;++j)M+=this._circumference(j,a);for(j=t;j<t+i;++j){const z=this._circumference(j,a),$=e[j],J={x:p+this.offsetX,y:v+this.offsetY,startAngle:M,endAngle:M+z,circumference:z,outerRadius:T,innerRadius:b};x&&(J.options=R||this.resolveDataElementOptions(j,$.active?"active":r)),M+=z,this.updateElement($,j,J,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const a=e._parsed[r];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?zt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],a=kq(t._parsed[e],i.options.locale);return{label:r[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,a,l,u,h;if(!e){for(r=0,a=i.data.datasets.length;r<a;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),e=l.data,u=l.controller;break}}if(!e)return 0;for(r=0,a=e.length;r<a;++r)h=u.resolveDataElementOptions(r),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const a=this.resolveDataElementOptions(i);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(st(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}je(Vu,"id","doughnut"),je(Vu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),je(Vu,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),je(Vu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((a,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});function so(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class v0{constructor(e){je(this,"options");this.options=e||{}}static override(e){Object.assign(v0.prototype,e)}init(){}formats(){return so()}parse(){return so()}format(){return so()}add(){return so()}diff(){return so()}startOf(){return so()}endOf(){return so()}}var T8={_date:v0};function x8(n,e,t,i){const{controller:r,data:a,_sorted:l}=n,u=r._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const f=u._reversePixels?bq:b_;if(i){if(r._sharedOptions){const p=a[0],v=typeof p.getRange=="function"&&p.getRange(e);if(v){const _=f(a,e,t-v),b=f(a,e,t+v);return{lo:_.lo,hi:b.hi}}}}else{const p=f(a,e,t);if(h){const{vScale:v}=r._cachedMeta,{_parsed:_}=n,b=_.slice(0,p.lo+1).reverse().findIndex(R=>!xn(R[v.axis]));p.lo-=Math.max(0,b);const T=_.slice(p.hi).findIndex(R=>!xn(R[v.axis]));p.hi+=Math.max(0,T)}return p}}return{lo:0,hi:a.length-1}}function Pp(n,e,t,i,r){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,h=a.length;u<h;++u){const{index:f,data:p}=a[u],{lo:v,hi:_}=x8(a[u],e,l,r);for(let b=v;b<=_;++b){const T=p[b];T.skip||i(T,f,b)}}}function R8(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const a=e?Math.abs(i.x-r.x):0,l=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Rv(n,e,t,i,r){const a=[];return!r&&!n.isPointInArea(e)||Pp(n,t,e,function(u,h,f){!r&&!Fk(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&a.push({element:u,datasetIndex:h,index:f})},!0),a}function C8(n,e,t,i){let r=[];function a(l,u,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:v}=Lk(l,{x:e.x,y:e.y});$g(v,f,p)&&r.push({element:l,datasetIndex:u,index:h})}return Pp(n,t,e,a),r}function D8(n,e,t,i,r,a){let l=[];const u=R8(t);let h=Number.POSITIVE_INFINITY;function f(p,v,_){const b=p.inRange(e.x,e.y,r);if(i&&!b)return;const T=p.getCenterPoint(r);if(!(!!a||n.isPointInArea(T))&&!b)return;const x=u(e,T);x<h?(l=[{element:p,datasetIndex:v,index:_}],h=x):x===h&&l.push({element:p,datasetIndex:v,index:_})}return Pp(n,t,e,f),l}function Cv(n,e,t,i,r,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!i?C8(n,e,t,r):D8(n,e,t,i,r,a)}function Qx(n,e,t,i,r){const a=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return Pp(n,t,e,(h,f,p)=>{h[l]&&h[l](e[t],r)&&(a.push({element:h,datasetIndex:f,index:p}),u=u||h.inRange(e.x,e.y,r))}),i&&!u?[]:a}var I8={modes:{index(n,e,t,i){const r=co(e,n),a=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?Rv(n,r,a,i,l):Cv(n,r,a,!1,i,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,v=f.data[p];v&&!v.skip&&h.push({element:v,datasetIndex:f.index,index:p})}),h):[]},dataset(n,e,t,i){const r=co(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?Rv(n,r,a,i,l):Cv(n,r,a,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:h,index:p})}return u},point(n,e,t,i){const r=co(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Rv(n,r,a,i,l)},nearest(n,e,t,i){const r=co(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Cv(n,r,a,t.intersect,i,l)},x(n,e,t,i){const r=co(e,n);return Qx(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=co(e,n);return Qx(n,r,"y",t.intersect,i)}}};const Zk=["left","top","right","bottom"];function Su(n,e){return n.filter(t=>t.pos===e)}function Kx(n,e){return n.filter(t=>Zk.indexOf(t.pos)===-1&&t.box.axis===e)}function Tu(n,e){return n.sort((t,i)=>{const r=e?i:t,a=e?t:i;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function k8(n){const e=[];let t,i,r,a,l,u;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:a,options:{stack:l,stackWeight:u=1}}=r,e.push({index:t,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&a+l,stackWeight:u});return e}function M8(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:a}=t;if(!i||!Zk.includes(r))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function N8(n,e){const t=M8(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:h}=u.box,f=t[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:h&&e.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:h&&e.availableHeight)}return t}function O8(n){const e=k8(n),t=Tu(e.filter(f=>f.box.fullSize),!0),i=Tu(Su(e,"left"),!0),r=Tu(Su(e,"right")),a=Tu(Su(e,"top"),!0),l=Tu(Su(e,"bottom")),u=Kx(e,"x"),h=Kx(e,"y");return{fullSize:t,leftAndTop:i.concat(a),rightAndBottom:r.concat(h).concat(l).concat(u),chartArea:Su(e,"chartArea"),vertical:i.concat(r).concat(h),horizontal:a.concat(l).concat(u)}}function Xx(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function Jk(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function P8(n,e,t,i){const{pos:r,box:a}=t,l=n.maxPadding;if(!Ze(r)){t.size&&(n[r]-=t.size);const v=i[t.stack]||{size:0,count:1};v.size=Math.max(v.size,t.horizontal?a.height:a.width),t.size=v.size/v.count,n[r]+=t.size}a.getPadding&&Jk(l,a.getPadding());const u=Math.max(0,e.outerWidth-Xx(l,n,"left","right")),h=Math.max(0,e.outerHeight-Xx(l,n,"top","bottom")),f=u!==n.w,p=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:f,other:p}:{same:p,other:f}}function L8(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function j8(n,e){const t=e.maxPadding;function i(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return i(n?["left","right"]:["top","bottom"])}function Uu(n,e,t,i){const r=[];let a,l,u,h,f,p;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],h=u.box,h.update(u.width||e.w,u.height||e.h,j8(u.horizontal,e));const{same:v,other:_}=P8(e,t,u,i);f|=v&&r.length,p=p||_,h.fullSize||r.push(u)}return f&&Uu(r,e,t,i)||p}function kf(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function Zx(n,e,t,i){const r=t.padding;let{x:a,y:l}=e;for(const u of n){const h=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const v=e.w*p,_=f.size||h.height;qg(f.start)&&(l=f.start),h.fullSize?kf(h,r.left,l,t.outerWidth-r.right-r.left,_):kf(h,e.left+f.placed,l,v,_),f.start=l,f.placed+=v,l=h.bottom}else{const v=e.h*p,_=f.size||h.width;qg(f.start)&&(a=f.start),h.fullSize?kf(h,a,r.top,_,t.outerHeight-r.bottom-r.top):kf(h,a,e.top+f.placed,_,v),f.start=a,f.placed+=v,a=h.right}}e.x=a,e.y=l}var ia={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=Ui(n.options.layout.padding),a=Math.max(e-r.width,0),l=Math.max(t-r.height,0),u=O8(n.boxes),h=u.vertical,f=u.horizontal;rt(n.boxes,R=>{typeof R.beforeLayout=="function"&&R.beforeLayout()});const p=h.reduce((R,x)=>x.box.options&&x.box.options.display===!1?R:R+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},r);Jk(_,Ui(i));const b=Object.assign({maxPadding:_,w:a,h:l,x:r.left,y:r.top},r),T=N8(h.concat(f),v);Uu(u.fullSize,b,v,T),Uu(h,b,v,T),Uu(f,b,v,T)&&Uu(h,b,v,T),L8(b),Zx(u.leftAndTop,b,v,T),b.x+=b.w,b.y+=b.h,Zx(u.rightAndBottom,b,v,T),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},rt(u.chartArea,R=>{const x=R.box;Object.assign(x,n.chartArea),x.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class eM{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class V8 extends eM{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const tg="$chartjs",U8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Jx=n=>n===null||n==="";function z8(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[tg]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Jx(r)){const a=Hx(n,"width");a!==void 0&&(n.width=a)}if(Jx(i))if(n.style.height==="")n.height=n.width/(e||2);else{const a=Hx(n,"height");a!==void 0&&(n.height=a)}return n}const tM=o8?{passive:!0}:!1;function B8(n,e,t){n&&n.addEventListener(e,t,tM)}function H8(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,tM)}function F8(n,e){const t=U8[n.type]||n.type,{x:i,y:r}=co(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Kg(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function q8(n,e,t){const i=n.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Kg(u.addedNodes,i),l=l&&!Kg(u.removedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function W8(n,e,t){const i=n.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Kg(u.removedNodes,i),l=l&&!Kg(u.addedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const wh=new Map;let eR=0;function nM(){const n=window.devicePixelRatio;n!==eR&&(eR=n,wh.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function G8(n,e){wh.size||window.addEventListener("resize",nM),wh.set(n,e)}function $8(n){wh.delete(n),wh.size||window.removeEventListener("resize",nM)}function Y8(n,e,t){const i=n.canvas,r=i&&y0(i);if(!r)return;const a=Uk((u,h)=>{const f=r.clientWidth;t(u,h),f<r.clientWidth&&t()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(r),G8(n,a),l}function Dv(n,e,t){t&&t.disconnect(),e==="resize"&&$8(n)}function Q8(n,e,t){const i=n.canvas,r=Uk(a=>{n.ctx!==null&&t(F8(a,n))},n);return B8(i,e,r),r}class K8 extends eM{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(z8(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[tg])return!1;const i=t[tg].initial;["height","width"].forEach(a=>{const l=i[a];xn(l)?t.removeAttribute(a):t.setAttribute(a,l)});const r=i.style||{};return Object.keys(r).forEach(a=>{t.style[a]=r[a]}),t.width=t.width,delete t[tg],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),l={attach:q8,detach:W8,resize:Y8}[t]||Q8;r[t]=l(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Dv,detach:Dv,resize:Dv}[t]||H8)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return a8(e,t,i,r)}isAttached(e){const t=e&&y0(e);return!!(t&&t.isConnected)}}function X8(n){return!m0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?V8:K8}class Co{constructor(){je(this,"x");je(this,"y");je(this,"active",!1);je(this,"options");je(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Gg(this.x)&&Gg(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(a=>{r[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),r}}je(Co,"defaults",{}),je(Co,"defaultRoutes");function Z8(n,e){const t=n.options.ticks,i=J8(n),r=Math.min(t.maxTicksLimit||i,i),a=t.major.enabled?tW(e):[],l=a.length,u=a[0],h=a[l-1],f=[];if(l>r)return nW(e,f,a,l/r),f;const p=eW(a,e,r);if(l>0){let v,_;const b=l>1?Math.round((h-u)/(l-1)):null;for(Mf(e,f,p,xn(b)?0:u-b,u),v=0,_=l-1;v<_;v++)Mf(e,f,p,a[v],a[v+1]);return Mf(e,f,p,h,xn(b)?e.length:h+b),f}return Mf(e,f,p),f}function J8(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function eW(n,e,t){const i=iW(n),r=e.length/t;if(!i)return Math.max(r,1);const a=pq(i);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>r)return h}return Math.max(r,1)}function tW(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function nW(n,e,t,i){let r=0,a=t[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(e.push(n[l]),r++,a=t[r*i])}function Mf(n,e,t,i,r){const a=st(i,0),l=Math.min(st(r,n.length),n.length);let u=0,h,f,p;for(t=Math.ceil(t),r&&(h=r-i,t=h/Math.floor(h/t)),p=a;p<0;)u++,p=Math.round(a+u*t);for(f=Math.max(a,0);f<l;f++)f===p&&(e.push(n[f]),u++,p=Math.round(a+u*t))}function iW(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const rW=n=>n==="left"?"right":n==="right"?"left":n,tR=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,nR=(n,e)=>Math.min(e||n,n);function iR(n,e){const t=[],i=n.length/e,r=n.length;let a=0;for(;a<r;a+=i)t.push(n[Math.floor(a)]);return t}function sW(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),a=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(r),f;if(!(t&&(i===1?f=Math.max(h-a,l-h):e===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(r-1))/2,h+=r<e?f:-f,h<a-u||h>l+u)))return h}function aW(n,e){rt(n,t=>{const i=t.gc,r=i.length/2;let a;if(r>e){for(a=0;a<r;++a)delete t.data[i[a]];i.splice(0,r)}})}function xu(n){return n.drawTicks?n.tickLength:0}function rR(n,e){if(!n.display)return 0;const t=Fn(n.font,e),i=Ui(n.padding);return(pn(n.text)?n.text.length:1)*t.lineHeight+i.height}function oW(n,e){return gc(n,{scale:e,type:"scale"})}function lW(n,e,t){return gc(n,{tick:t,index:e,type:"tick"})}function cW(n,e,t){let i=zk(n);return(t&&e!=="right"||!t&&e==="right")&&(i=rW(i)),i}function uW(n,e,t,i){const{top:r,left:a,bottom:l,right:u,chart:h}=n,{chartArea:f,scales:p}=h;let v=0,_,b,T;const R=l-r,x=u-a;if(n.isHorizontal()){if(b=Zn(i,a,u),Ze(t)){const M=Object.keys(t)[0],j=t[M];T=p[M].getPixelForValue(j)+R-e}else t==="center"?T=(f.bottom+f.top)/2+R-e:T=tR(n,t,e);_=u-a}else{if(Ze(t)){const M=Object.keys(t)[0],j=t[M];b=p[M].getPixelForValue(j)-x+e}else t==="center"?b=(f.left+f.right)/2-x+e:b=tR(n,t,e);T=Zn(i,l,r),v=t==="left"?-$t:$t}return{titleX:b,titleY:T,maxWidth:_,rotation:v}}class Lp extends Co{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=lr(e,Number.POSITIVE_INFINITY),t=lr(t,Number.NEGATIVE_INFINITY),i=lr(i,Number.POSITIVE_INFINITY),r=lr(r,Number.NEGATIVE_INFINITY),{min:lr(e,i),max:lr(t,r),minDefined:us(e),maxDefined:us(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:a}=this.getUserBounds(),l;if(r&&a)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,e),r||(t=Math.min(t,l.min)),a||(i=Math.max(i,l.max));return t=a&&t>i?i:t,i=r&&t>i?t:i,{min:lr(t,lr(i,t)),max:lr(i,lr(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){gt(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Wq(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?iR(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Z8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){gt(this.options.afterUpdate,[this])}beforeSetDimensions(){gt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){gt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),gt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){gt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,a;for(i=0,r=e.length;i<r;i++)a=e[i],a.label=gt(t.callback,[a.value,i,e],this)}afterTickToLabelConversion(){gt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){gt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=nR(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,a=t.maxRotation;let l=r,u,h,f;if(!this._isVisible()||!t.display||r>=a||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),v=p.widest.width,_=p.highest.height,b=bi(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/i:b/(i-1),v+6>u&&(u=b/(i-(e.offset?.5:1)),h=this.maxHeight-xu(e.grid)-t.padding-rR(e.title,this.chart.options.font),f=Math.sqrt(v*v+_*_),l=yq(Math.min(Math.asin(bi((p.highest.height+6)/u,-1,1)),Math.asin(bi(h/f,-1,1))-Math.asin(bi(_/f,-1,1)))),l=Math.max(r,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){gt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){gt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=rR(r,t.options.font);if(u?(e.width=this.maxWidth,e.height=xu(a)+h):(e.height=this.maxHeight,e.width=xu(a)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:v,highest:_}=this._getLabelSizes(),b=i.padding*2,T=mo(this.labelRotation),R=Math.cos(T),x=Math.sin(T);if(u){const M=i.mirror?0:x*v.width+R*_.height;e.height=Math.min(this.maxHeight,e.height+M+b)}else{const M=i.mirror?0:R*v.width+x*_.height;e.width=Math.min(this.maxWidth,e.width+M+b)}this._calculatePadding(f,p,x,R)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,b=0;h?f?(_=r*e.width,b=i*t.height):(_=i*e.height,b=r*t.width):a==="start"?b=t.width:a==="end"?_=e.width:a!=="inner"&&(_=e.width/2,b=t.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-v+l)*this.width/(this.width-v),0)}else{let p=t.height/2,v=e.height/2;a==="start"?(p=0,v=e.height):a==="end"&&(p=t.height,v=0),this.paddingTop=p+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){gt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)xn(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=iR(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(t/nR(t,i));let f=0,p=0,v,_,b,T,R,x,M,j,z,$,J;for(v=0;v<t;v+=h){if(T=e[v].label,R=this._resolveTickFontOptions(v),r.font=x=R.string,M=a[x]=a[x]||{data:{},gc:[]},j=R.lineHeight,z=$=0,!xn(T)&&!pn(T))z=Lx(r,M.data,M.gc,z,T),$=j;else if(pn(T))for(_=0,b=T.length;_<b;++_)J=T[_],!xn(J)&&!pn(J)&&(z=Lx(r,M.data,M.gc,z,J),$+=j);l.push(z),u.push($),f=Math.max(z,f),p=Math.max($,p)}aW(a,t);const ne=l.indexOf(f),O=u.indexOf(p),D=I=>({width:l[I]||0,height:u[I]||0});return{first:D(0),last:D(t-1),widest:D(ne),highest:D(O),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return _q(this._alignToPixels?ro(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=lW(this.getContext(),e,i))}return this.$context||(this.$context=oW(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=mo(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>u*r?u/i:h/r:h*r<u*i?h/i:u/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:a,position:l,border:u}=r,h=a.offset,f=this.isHorizontal(),v=this.ticks.length+(h?1:0),_=xu(a),b=[],T=u.setContext(this.getContext()),R=T.display?T.width:0,x=R/2,M=function(le){return ro(i,le,R)};let j,z,$,J,ne,O,D,I,N,V,B,P;if(l==="top")j=M(this.bottom),O=this.bottom-_,I=j-x,V=M(e.top)+x,P=e.bottom;else if(l==="bottom")j=M(this.top),V=e.top,P=M(e.bottom)-x,O=j+x,I=this.top+_;else if(l==="left")j=M(this.right),ne=this.right-_,D=j-x,N=M(e.left)+x,B=e.right;else if(l==="right")j=M(this.left),N=e.left,B=M(e.right)-x,ne=j+x,D=this.left+_;else if(t==="x"){if(l==="center")j=M((e.top+e.bottom)/2+.5);else if(Ze(l)){const le=Object.keys(l)[0],de=l[le];j=M(this.chart.scales[le].getPixelForValue(de))}V=e.top,P=e.bottom,O=j+x,I=O+_}else if(t==="y"){if(l==="center")j=M((e.left+e.right)/2);else if(Ze(l)){const le=Object.keys(l)[0],de=l[le];j=M(this.chart.scales[le].getPixelForValue(de))}ne=j-x,D=ne-_,N=e.left,B=e.right}const Ne=st(r.ticks.maxTicksLimit,v),Ae=Math.max(1,Math.ceil(v/Ne));for(z=0;z<v;z+=Ae){const le=this.getContext(z),de=a.setContext(le),fe=u.setContext(le),Se=de.lineWidth,U=de.color,ae=fe.dash||[],ge=fe.dashOffset,he=de.tickWidth,ue=de.tickColor,xe=de.tickBorderDash||[],Ee=de.tickBorderDashOffset;$=sW(this,z,h),$!==void 0&&(J=ro(i,$,Se),f?ne=D=N=B=J:O=I=V=P=J,b.push({tx1:ne,ty1:O,tx2:D,ty2:I,x1:N,y1:V,x2:B,y2:P,width:Se,color:U,borderDash:ae,borderDashOffset:ge,tickWidth:he,tickColor:ue,tickBorderDash:xe,tickBorderDashOffset:Ee}))}return this._ticksLength=v,this._borderValue=j,b}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:p,mirror:v}=a,_=xu(i.grid),b=_+p,T=v?-p:b,R=-mo(this.labelRotation),x=[];let M,j,z,$,J,ne,O,D,I,N,V,B,P="middle";if(r==="top")ne=this.bottom-T,O=this._getXAxisLabelAlignment();else if(r==="bottom")ne=this.top+T,O=this._getXAxisLabelAlignment();else if(r==="left"){const Ae=this._getYAxisLabelAlignment(_);O=Ae.textAlign,J=Ae.x}else if(r==="right"){const Ae=this._getYAxisLabelAlignment(_);O=Ae.textAlign,J=Ae.x}else if(t==="x"){if(r==="center")ne=(e.top+e.bottom)/2+b;else if(Ze(r)){const Ae=Object.keys(r)[0],le=r[Ae];ne=this.chart.scales[Ae].getPixelForValue(le)+b}O=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")J=(e.left+e.right)/2-b;else if(Ze(r)){const Ae=Object.keys(r)[0],le=r[Ae];J=this.chart.scales[Ae].getPixelForValue(le)}O=this._getYAxisLabelAlignment(_).textAlign}t==="y"&&(h==="start"?P="top":h==="end"&&(P="bottom"));const Ne=this._getLabelSizes();for(M=0,j=u.length;M<j;++M){z=u[M],$=z.label;const Ae=a.setContext(this.getContext(M));D=this.getPixelForTick(M)+a.labelOffset,I=this._resolveTickFontOptions(M),N=I.lineHeight,V=pn($)?$.length:1;const le=V/2,de=Ae.color,fe=Ae.textStrokeColor,Se=Ae.textStrokeWidth;let U=O;l?(J=D,O==="inner"&&(M===j-1?U=this.options.reverse?"left":"right":M===0?U=this.options.reverse?"right":"left":U="center"),r==="top"?f==="near"||R!==0?B=-V*N+N/2:f==="center"?B=-Ne.highest.height/2-le*N+N:B=-Ne.highest.height+N/2:f==="near"||R!==0?B=N/2:f==="center"?B=Ne.highest.height/2-le*N:B=Ne.highest.height-V*N,v&&(B*=-1),R!==0&&!Ae.showLabelBackdrop&&(J+=N/2*Math.sin(R))):(ne=D,B=(1-V)*N/2);let ae;if(Ae.showLabelBackdrop){const ge=Ui(Ae.backdropPadding),he=Ne.heights[M],ue=Ne.widths[M];let xe=B-ge.top,Ee=0-ge.left;switch(P){case"middle":xe-=he/2;break;case"bottom":xe-=he;break}switch(O){case"center":Ee-=ue/2;break;case"right":Ee-=ue;break;case"inner":M===j-1?Ee-=ue:M>0&&(Ee-=ue/2);break}ae={left:Ee,top:xe,width:ue+ge.width,height:he+ge.height,color:Ae.backdropColor}}x.push({label:$,font:I,textOffset:B,options:{rotation:R,color:de,strokeColor:fe,strokeWidth:Se,textAlign:U,textBaseline:P,translation:[J,ne],backdrop:ae}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-mo(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,h=l.widest.width;let f,p;return t==="left"?r?(p=this.right+a,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):t==="right"?r?(p=this.left+a,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(a=>a.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(a=0,l=r.length;a<l;++a){const h=r[a];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,v,_;this.isHorizontal()?(f=ro(e,this.left,l)-l/2,p=ro(e,this.right,u)+u/2,v=_=h):(v=ro(e,this.top,l)-l/2,_=ro(e,this.bottom,u)+u/2,f=p=h),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(f,v),t.lineTo(p,_),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&u0(i,r);const a=this.getLabelItems(e);for(const l of a){const u=l.options,h=l.font,f=l.label,p=l.textOffset;Yg(i,f,0,p,h,u)}r&&h0(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const a=Fn(i.font),l=Ui(i.padding),u=i.align;let h=a.lineHeight/2;t==="bottom"||t==="center"||Ze(t)?(h+=l.bottom,pn(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:v,rotation:_}=uW(this,h,t,u);Yg(e,i.text,0,0,a,{color:i.color,maxWidth:v,rotation:_,textAlign:cW(u,t,r),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=st(e.grid&&e.grid.z,-1),r=st(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Lp.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let a,l;for(a=0,l=t.length;a<l;++a){const u=t[a];u[i]===this.id&&(!e||u.type===e)&&r.push(u)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Fn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Nf{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;fW(t)&&(i=this.register(t));const r=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in r||(r[a]=e,hW(e,l,i),this.override&&Ot.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Ot[r]&&(delete Ot[r][i],this.override&&delete Ro[i])}}function hW(n,e,t){const i=bh(Object.create(null),[t?Ot.get(t):{},Ot.get(e),n.defaults]);Ot.set(e,i),n.defaultRoutes&&dW(e,n.defaultRoutes),n.descriptors&&Ot.describe(e,n.descriptors)}function dW(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),a=[n].concat(i).join("."),l=e[t].split("."),u=l.pop(),h=l.join(".");Ot.route(a,r,h,u)})}function fW(n){return"id"in n&&"defaults"in n}class gW{constructor(){this.controllers=new Nf(rh,"datasets",!0),this.elements=new Nf(Co,"elements"),this.plugins=new Nf(Object,"plugins"),this.scales=new Nf(Lp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const a=i||this._getRegistryForType(r);i||a.isForType(r)||a===this.plugins&&r.id?this._exec(e,a,r):rt(r,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,i){const r=l0(e);gt(i["before"+r],[],i),t[e](i),gt(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var ur=new gW;class pW{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=r?this._descriptors(e).filter(r):this._descriptors(e),l=this._notify(a,e,t,i);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,i,r){r=r||{};for(const a of e){const l=a.plugin,u=l[i],h=[t,r,a.options];if(gt(u,h,l)===!1&&r.cancelable)return!1}return!0}invalidate(){xn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=st(i.options&&i.options.plugins,{}),a=mW(i);return r===!1&&!t?[]:vW(e,a,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function mW(n){const e={},t=[],i=Object.keys(ur.plugins.items);for(let a=0;a<i.length;a++)t.push(ur.getPlugin(i[a]));const r=n.plugins||[];for(let a=0;a<r.length;a++){const l=r[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function yW(n,e){return!e&&n===!1?null:n===!0?{}:n}function vW(n,{plugins:e,localIds:t},i,r){const a=[],l=n.getContext();for(const u of e){const h=u.id,f=yW(i[h],r);f!==null&&a.push({plugin:u,options:_W(n.config,{plugin:u,local:t[h]},f,l)})}return a}function _W(n,{plugin:e,local:t},i,r){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(i,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function A_(n,e){const t=Ot.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function bW(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function EW(n,e){return n===e?"_index_":"_value_"}function sR(n){if(n==="x"||n==="y"||n==="r")return n}function wW(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function S_(n,...e){if(sR(n))return n;for(const t of e){const i=t.axis||wW(t.position)||n.length>1&&sR(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function aR(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function AW(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return aR(n,"x",t[0])||aR(n,"y",t[0])}return{}}function SW(n,e){const t=Ro[n.type]||{scales:{}},i=e.scales||{},r=A_(n.type,e),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Ze(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=S_(l,u,AW(l,n),Ot.scales[u.type]),f=EW(h,r),p=t.scales||{};a[l]=eh(Object.create(null),[{axis:h},u,p[h],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||A_(u,e),p=(Ro[u]||{}).scales||{};Object.keys(p).forEach(v=>{const _=bW(v,h),b=l[_+"AxisID"]||_;a[b]=a[b]||Object.create(null),eh(a[b],[{axis:_},i[b],p[v]])})}),Object.keys(a).forEach(l=>{const u=a[l];eh(u,[Ot.scales[u.type],Ot.scale])}),a}function iM(n){const e=n.options||(n.options={});e.plugins=st(e.plugins,{}),e.scales=SW(n,e)}function rM(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function TW(n){return n=n||{},n.data=rM(n.data),iM(n),n}const oR=new Map,sM=new Set;function Of(n,e){let t=oR.get(n);return t||(t=e(),oR.set(n,t),sM.add(t)),t}const Ru=(n,e,t)=>{const i=Eh(e,t);i!==void 0&&n.add(i)};class xW{constructor(e){this._config=TW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=rM(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),iM(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Of(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Of(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Of(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return Of(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:a}=this,l=this._cachedScopes(e,i),u=l.get(t);if(u)return u;const h=new Set;t.forEach(p=>{e&&(h.add(e),p.forEach(v=>Ru(h,e,v))),p.forEach(v=>Ru(h,r,v)),p.forEach(v=>Ru(h,Ro[a]||{},v)),p.forEach(v=>Ru(h,Ot,v)),p.forEach(v=>Ru(h,E_,v))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),sM.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ro[t]||{},Ot.datasets[t]||{},{type:t},Ot,E_]}resolveNamedOptions(e,t,i,r=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=lR(this._resolverCache,e,r);let h=l;if(CW(l,t)){a.$shared=!1,i=_a(i)?i():i;const f=this.createResolver(e,i,u);h=nc(l,i,f)}for(const f of t)a[f]=h[f];return a}createResolver(e,t,i=[""],r){const{resolver:a}=lR(this._resolverCache,e,i);return Ze(t)?nc(a,t,void 0,r):a}}function lR(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let a=i.get(r);return a||(a={resolver:f0(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,a)),a}const RW=n=>Ze(n)&&Object.getOwnPropertyNames(n).some(e=>_a(n[e]));function CW(n,e){const{isScriptable:t,isIndexable:i}=qk(n);for(const r of e){const a=t(r),l=i(r),u=(l||a)&&n[r];if(a&&(_a(u)||RW(u))||l&&pn(u))return!0}return!1}var DW="4.4.8";const IW=["top","bottom","left","right","chartArea"];function cR(n,e){return n==="top"||n==="bottom"||IW.indexOf(n)===-1&&e==="x"}function uR(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function hR(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),gt(t&&t.onComplete,[n],e)}function kW(n){const e=n.chart,t=e.options.animation;gt(t&&t.onProgress,[n],e)}function aM(n){return m0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ng={},dR=n=>{const e=aM(n);return Object.values(ng).filter(t=>t.canvas===e).pop()};function MW(n,e,t){const i=Object.keys(n);for(const r of i){const a=+r;if(a>=e){const l=n[r];delete n[r],(t>0||a>e)&&(n[a+t]=l)}}}function NW(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}function Pf(n,e,t){return n.options.clip?n[t]:e[t]}function OW(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Pf(t,e,"left"),right:Pf(t,e,"right"),top:Pf(i,e,"top"),bottom:Pf(i,e,"bottom")}:e}var Ys;let jp=(Ys=class{static register(...e){ur.add(...e),fR()}static unregister(...e){ur.remove(...e),fR()}constructor(e,t){const i=this.config=new xW(t),r=aM(e),a=dR(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||X8(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,p=h&&h.width;if(this.id=oq(),this.ctx=u,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Sq(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],ng[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Yr.listen(this,"complete",hR),Yr.listen(this,"progress",kW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:a}=this;return xn(e)?t&&a?a:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ur}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Bx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jx(this.canvas,this.ctx),this}stop(){return Yr.stop(this),this}resize(e,t){Yr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,e,t,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Bx(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),gt(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};rt(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const u=t[l],h=S_(l,u),f=h==="r",p=h==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),rt(a,l=>{const u=l.options,h=u.id,f=S_(h,u),p=st(u.type,l.dtype);(u.position===void 0||cR(u.position,f)!==cR(l.dposition))&&(u.position=l.dposition),r[h]=!0;let v=null;if(h in i&&i[h].type===p)v=i[h];else{const _=ur.getScale(p);v=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,e)}),rt(r,(l,u)=>{l||delete i[u]}),rt(i,l=>{ia.configure(this,l,l.options),ia.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,a)=>r.index-a.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(uR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const a=t[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||A_(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=ur.getController(u),{datasetElementType:f,dataElementType:p}=Ot.datasets[u];Object.assign(h,{dataElementType:ur.getElement(p),datasetElementType:f&&ur.getElement(f)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){rt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:v}=this.getDatasetMeta(f),_=!r&&a.indexOf(v)===-1;v.buildOrUpdateElements(_),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||rt(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(uR("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){rt(this.scales,e=>{ia.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Cx(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:a}of t){const l=i==="_removeElements"?-a:a;MW(e,r,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let a=1;a<t;a++)if(!Cx(r,i(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ia.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],rt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,_a(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Yr.has(this)?this.attached&&!Yr.running(this)&&Yr.start(this):(this.draw(),hR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,a;for(r=0,a=t.length;r<a;++r){const l=t[r];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,r=!i.disabled,a=OW(e,this.chartArea),l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(r&&u0(t,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?this.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?this.height:a.bottom+i.bottom}),e.controller.draw(),r&&h0(t),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return Fk(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const a=I8.modes[t];return typeof a=="function"?a(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(a=>a&&a._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=gc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,r);qg(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Yr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),jx(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ng[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},r=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};rt(this.options.events,a=>i(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,f)=>{t.addEventListener(this,h,f),e[h]=f},r=(h,f)=>{e[h]&&(t.removeEventListener(this,h,f),delete e[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){rt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},rt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let a,l,u,h;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!Hg(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,a=(h,f)=>h.filter(p=>!f.some(v=>p.datasetIndex===v.datasetIndex&&p.index===v.index)),l=a(t,e),u=i?e:a(e,t);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const a=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(a||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:a}=this,l=t,u=this._getActiveElements(e,r,i,l),h=fq(e),f=NW(e,this._lastEvent,i,h);i&&(this._lastEvent=null,gt(a.onHover,[e,u,this],this),h&&gt(a.onClick,[e,u,this],this));const p=!Hg(u,r);return(p||t)&&(this._active=u,this._updateHoverStyles(u,r,t)),this._lastEvent=f,p}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,r)}},je(Ys,"defaults",Ot),je(Ys,"instances",ng),je(Ys,"overrides",Ro),je(Ys,"registry",ur),je(Ys,"version",DW),je(Ys,"getChart",dR),Ys);function fR(){return rt(jp.instances,n=>n._plugins.invalidate())}function PW(n,e,t){const{startAngle:i,pixelMargin:r,x:a,y:l,outerRadius:u,innerRadius:h}=e;let f=r/u;n.beginPath(),n.arc(a,l,u,i-f,t+f),h>r?(f=r/h,n.arc(a,l,h,t+f,i-f,!0)):n.arc(a,l,r,t+$t,i-$t),n.closePath(),n.clip()}function LW(n){return d0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function jW(n,e,t,i){const r=LW(n.options.borderRadius),a=(t-e)/2,l=Math.min(a,i*e/2),u=h=>{const f=(t-Math.min(a,h))*i/2;return bi(h,0,Math.min(a,f))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:bi(r.innerStart,0,l),innerEnd:bi(r.innerEnd,0,l)}}function Il(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Xg(n,e,t,i,r,a){const{x:l,y:u,startAngle:h,pixelMargin:f,innerRadius:p}=e,v=Math.max(e.outerRadius+i+t-f,0),_=p>0?p+i+t+f:0;let b=0;const T=r-h;if(i){const Ae=p>0?p-i:0,le=v>0?v-i:0,de=(Ae+le)/2,fe=de!==0?T*de/(de+i):T;b=(T-fe)/2}const R=Math.max(.001,T*v-t/an)/v,x=(T-R)/2,M=h+x+b,j=r-x-b,{outerStart:z,outerEnd:$,innerStart:J,innerEnd:ne}=jW(e,_,v,j-M),O=v-z,D=v-$,I=M+z/O,N=j-$/D,V=_+J,B=_+ne,P=M+J/V,Ne=j-ne/B;if(n.beginPath(),a){const Ae=(I+N)/2;if(n.arc(l,u,v,I,Ae),n.arc(l,u,v,Ae,N),$>0){const Se=Il(D,N,l,u);n.arc(Se.x,Se.y,$,N,j+$t)}const le=Il(B,j,l,u);if(n.lineTo(le.x,le.y),ne>0){const Se=Il(B,Ne,l,u);n.arc(Se.x,Se.y,ne,j+$t,Ne+Math.PI)}const de=(j-ne/_+(M+J/_))/2;if(n.arc(l,u,_,j-ne/_,de,!0),n.arc(l,u,_,de,M+J/_,!0),J>0){const Se=Il(V,P,l,u);n.arc(Se.x,Se.y,J,P+Math.PI,M-$t)}const fe=Il(O,M,l,u);if(n.lineTo(fe.x,fe.y),z>0){const Se=Il(O,I,l,u);n.arc(Se.x,Se.y,z,M-$t,I)}}else{n.moveTo(l,u);const Ae=Math.cos(I)*v+l,le=Math.sin(I)*v+u;n.lineTo(Ae,le);const de=Math.cos(N)*v+l,fe=Math.sin(N)*v+u;n.lineTo(de,fe)}n.closePath()}function VW(n,e,t,i,r){const{fullCircles:a,startAngle:l,circumference:u}=e;let h=e.endAngle;if(a){Xg(n,e,t,i,h,r);for(let f=0;f<a;++f)n.fill();isNaN(u)||(h=l+(u%zt||zt))}return Xg(n,e,t,i,h,r),n.fill(),h}function UW(n,e,t,i,r){const{fullCircles:a,startAngle:l,circumference:u,options:h}=e,{borderWidth:f,borderJoinStyle:p,borderDash:v,borderDashOffset:_}=h,b=h.borderAlign==="inner";if(!f)return;n.setLineDash(v||[]),n.lineDashOffset=_,b?(n.lineWidth=f*2,n.lineJoin=p||"round"):(n.lineWidth=f,n.lineJoin=p||"bevel");let T=e.endAngle;if(a){Xg(n,e,t,i,T,r);for(let R=0;R<a;++R)n.stroke();isNaN(u)||(T=l+(u%zt||zt))}b&&PW(n,e,T),a||(Xg(n,e,t,i,T,r),n.stroke())}class zu extends Co{constructor(t){super();je(this,"circumference");je(this,"endAngle");je(this,"fullCircles");je(this,"innerRadius");je(this,"outerRadius");je(this,"pixelMargin");je(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,r){const a=this.getProps(["x","y"],r),{angle:l,distance:u}=Lk(a,{x:t,y:i}),{startAngle:h,endAngle:f,innerRadius:p,outerRadius:v,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),b=(this.options.spacing+this.options.borderWidth)/2,T=st(_,f-h),R=$g(l,h,f)&&h!==f,x=T>=zt||R,M=ju(u,p+b,v+b);return x&&M}getCenterPoint(t){const{x:i,y:r,startAngle:a,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:p}=this.options,v=(a+l)/2,_=(u+h+p+f)/2;return{x:i+Math.cos(v)*_,y:r+Math.sin(v)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:r}=this,a=(i.offset||0)/4,l=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>zt?Math.floor(r/zt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*a,Math.sin(h)*a);const f=1-Math.sin(Math.min(an,r||0)),p=a*f;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,VW(t,this,p,l,u),UW(t,this,p,l,u),t.restore()}}je(zu,"id","arc"),je(zu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),je(zu,"defaultRoutes",{backgroundColor:"backgroundColor"}),je(zu,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});const gR=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},zW=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class pR extends Co{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=gt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Fn(i.font),a=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=gR(i,a);let f,p;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,u,h)+10):(p=this.maxHeight,f=this._fitCols(l,r,u,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+u;let v=e;a.textAlign="left",a.textBaseline="middle";let _=-1,b=-p;return this.legendItems.forEach((T,R)=>{const x=i+t/2+a.measureText(T.text).width;(R===0||f[f.length-1]+x+2*u>l)&&(v+=p,f[f.length-(R>0?0:1)]=0,b+=p,_++),h[R]={left:0,top:b,row:_,width:x,height:r},f[f.length-1]+=x+u}),v}_fitCols(e,t,i,r){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-e;let v=u,_=0,b=0,T=0,R=0;return this.legendItems.forEach((x,M)=>{const{itemWidth:j,itemHeight:z}=BW(i,t,a,x,r);M>0&&b+z+2*u>p&&(v+=_+u,f.push({width:_,height:b}),T+=_+u,R++,_=b=0),h[M]={left:T,top:b,col:R,width:j,height:z},_=Math.max(_,j),b+=z+u}),v+=_,f.push({width:_,height:b}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:a}}=this,l=ql(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=Zn(i,this.left+r,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,h=Zn(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+e+r,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+r}else{let u=0,h=Zn(i,this.top+e+r,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,h=Zn(i,this.top+e+r,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+r,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;u0(e,this),this._draw(),h0(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:a,labels:l}=e,u=Ot.color,h=ql(e.rtl,this.left,this.width),f=Fn(l.font),{padding:p}=l,v=f.size,_=v/2;let b;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:T,boxHeight:R,itemHeight:x}=gR(l,v),M=function(ne,O,D){if(isNaN(T)||T<=0||isNaN(R)||R<0)return;r.save();const I=st(D.lineWidth,1);if(r.fillStyle=st(D.fillStyle,u),r.lineCap=st(D.lineCap,"butt"),r.lineDashOffset=st(D.lineDashOffset,0),r.lineJoin=st(D.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=st(D.strokeStyle,u),r.setLineDash(st(D.lineDash,[])),l.usePointStyle){const N={radius:R*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:I},V=h.xPlus(ne,T/2),B=O+_;Hk(r,N,V,B,l.pointStyleWidth&&T)}else{const N=O+Math.max((v-R)/2,0),V=h.leftForLtr(ne,T),B=ih(D.borderRadius);r.beginPath(),Object.values(B).some(P=>P!==0)?w_(r,{x:V,y:N,w:T,h:R,radius:B}):r.rect(V,N,T,R),r.fill(),I!==0&&r.stroke()}r.restore()},j=function(ne,O,D){Yg(r,D.text,ne,O+x/2,f,{strikethrough:D.hidden,textAlign:h.textAlign(D.textAlign)})},z=this.isHorizontal(),$=this._computeTitleHeight();z?b={x:Zn(a,this.left+p,this.right-i[0]),y:this.top+p+$,line:0}:b={x:this.left+p,y:Zn(a,this.top+$+p,this.bottom-t[0].height),line:0},Yk(this.ctx,e.textDirection);const J=x+p;this.legendItems.forEach((ne,O)=>{r.strokeStyle=ne.fontColor,r.fillStyle=ne.fontColor;const D=r.measureText(ne.text).width,I=h.textAlign(ne.textAlign||(ne.textAlign=l.textAlign)),N=T+_+D;let V=b.x,B=b.y;h.setWidth(this.width),z?O>0&&V+N+p>this.right&&(B=b.y+=J,b.line++,V=b.x=Zn(a,this.left+p,this.right-i[b.line])):O>0&&B+J>this.bottom&&(V=b.x=V+t[b.line].width+p,b.line++,B=b.y=Zn(a,this.top+$+p,this.bottom-t[b.line].height));const P=h.x(V);if(M(P,B,ne),V=Tq(I,V+T+_,z?V+N:this.right,e.rtl),j(h.x(V),B,ne),z)b.x+=N+p;else if(typeof ne.text!="string"){const Ne=f.lineHeight;b.y+=oM(ne,Ne)+p}else b.y+=J}),Qk(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Fn(t.font),r=Ui(t.padding);if(!t.display)return;const a=ql(e.rtl,this.left,this.width),l=this.ctx,u=t.position,h=i.size/2,f=r.top+h;let p,v=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,v=Zn(e.align,v,this.right-_);else{const T=this.columnSizes.reduce((R,x)=>Math.max(R,x.height),0);p=f+Zn(e.align,this.top,this.bottom-T-e.labels.padding-this._computeTitleHeight())}const b=Zn(u,v,v+_);l.textAlign=a.textAlign(zk(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=i.string,Yg(l,t.text,b,p,i)}_computeTitleHeight(){const e=this.options.title,t=Fn(e.font),i=Ui(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,a;if(ju(e,this.left,this.right)&&ju(t,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(r=a[i],ju(e,r.left,r.left+r.width)&&ju(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!qW(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,a=zW(r,i);r&&!a&&gt(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!a&&gt(t.onHover,[e,i,this],this)}else i&&gt(t.onClick,[e,i,this],this)}}function BW(n,e,t,i,r){const a=HW(i,n,e,t),l=FW(r,i,e.lineHeight);return{itemWidth:a,itemHeight:l}}function HW(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+i.measureText(r).width}function FW(n,e,t){let i=n;return typeof e.text!="string"&&(i=oM(e,t)),i}function oM(n,e){const t=n.text?n.text.length:0;return e*t}function qW(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var WW={id:"legend",_element:pR,start(n,e,t){const i=n.legend=new pR({ctx:n.ctx,options:t,chart:n});ia.configure(n,i,t),ia.addBox(n,i)},stop(n){ia.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;ia.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(t?0:void 0),p=Ui(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Bu={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,a=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),r+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:r/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=vq(e,f);p<r&&(r=p,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function cr(n,e){return e&&(pn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Qr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function GW(n,e){const{element:t,datasetIndex:i,index:r}=e,a=n.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(r);return{chart:n,label:l,parsed:a.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function mR(n,e){const t=n.chart.ctx,{body:i,footer:r,title:a}=n,{boxWidth:l,boxHeight:u}=e,h=Fn(e.bodyFont),f=Fn(e.titleFont),p=Fn(e.footerFont),v=a.length,_=r.length,b=i.length,T=Ui(e.padding);let R=T.height,x=0,M=i.reduce(($,J)=>$+J.before.length+J.lines.length+J.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,v&&(R+=v*f.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),M){const $=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;R+=b*$+(M-b)*h.lineHeight+(M-1)*e.bodySpacing}_&&(R+=e.footerMarginTop+_*p.lineHeight+(_-1)*e.footerSpacing);let j=0;const z=function($){x=Math.max(x,t.measureText($).width+j)};return t.save(),t.font=f.string,rt(n.title,z),t.font=h.string,rt(n.beforeBody.concat(n.afterBody),z),j=e.displayColors?l+2+e.boxPadding:0,rt(i,$=>{rt($.before,z),rt($.lines,z),rt($.after,z)}),j=0,t.font=p.string,rt(n.footer,z),t.restore(),x+=T.width,{width:x,height:R}}function $W(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function YW(n,e,t,i){const{x:r,width:a}=i,l=t.caretSize+t.caretPadding;if(n==="left"&&r+a+l>e.width||n==="right"&&r-a-l<0)return!0}function QW(n,e,t,i){const{x:r,width:a}=t,{width:l,chartArea:{left:u,right:h}}=n;let f="center";return i==="center"?f=r<=(u+h)/2?"left":"right":r<=a/2?f="left":r>=l-a/2&&(f="right"),YW(f,n,e,t)&&(f="center"),f}function yR(n,e,t){const i=t.yAlign||e.yAlign||$W(n,t);return{xAlign:t.xAlign||e.xAlign||QW(n,e,t,i),yAlign:i}}function KW(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function XW(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function vR(n,e,t,i){const{caretSize:r,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:h}=t,f=r+a,{topLeft:p,topRight:v,bottomLeft:_,bottomRight:b}=ih(l);let T=KW(e,u);const R=XW(e,h,f);return h==="center"?u==="left"?T+=f:u==="right"&&(T-=f):u==="left"?T-=Math.max(p,_)+r:u==="right"&&(T+=Math.max(v,b)+r),{x:bi(T,0,i.width-e.width),y:bi(R,0,i.height-e.height)}}function Lf(n,e,t){const i=Ui(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function _R(n){return cr([],Qr(n))}function ZW(n,e,t){return gc(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function bR(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const lM={beforeTitle:$r,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:$r,beforeBody:$r,beforeLabel:$r,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return xn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:$r,afterBody:$r,beforeFooter:$r,footer:$r,afterFooter:$r};function Vn(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?lM[e].call(t,i):r}class T_ extends Co{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,a=new Kk(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=ZW(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Vn(i,"beforeTitle",this,e),a=Vn(i,"title",this,e),l=Vn(i,"afterTitle",this,e);let u=[];return u=cr(u,Qr(r)),u=cr(u,Qr(a)),u=cr(u,Qr(l)),u}getBeforeBody(e,t){return _R(Vn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return rt(e,a=>{const l={before:[],lines:[],after:[]},u=bR(i,a);cr(l.before,Qr(Vn(u,"beforeLabel",this,a))),cr(l.lines,Vn(u,"label",this,a)),cr(l.after,Qr(Vn(u,"afterLabel",this,a))),r.push(l)}),r}getAfterBody(e,t){return _R(Vn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Vn(i,"beforeFooter",this,e),a=Vn(i,"footer",this,e),l=Vn(i,"afterFooter",this,e);let u=[];return u=cr(u,Qr(r)),u=cr(u,Qr(a)),u=cr(u,Qr(l)),u}_createItems(e){const t=this._active,i=this.chart.data,r=[],a=[],l=[];let u=[],h,f;for(h=0,f=t.length;h<f;++h)u.push(GW(this.chart,t[h]));return e.filter&&(u=u.filter((p,v,_)=>e.filter(p,v,_,i))),e.itemSort&&(u=u.sort((p,v)=>e.itemSort(p,v,i))),rt(u,p=>{const v=bR(e.callbacks,p);r.push(Vn(v,"labelColor",this,p)),a.push(Vn(v,"labelPointStyle",this,p)),l.push(Vn(v,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let a,l=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const u=Bu[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=mR(this,i),f=Object.assign({},u,h),p=yR(this.chart,i,f),v=vR(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const a=this.getCaretPosition(e,i,r);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:v}=ih(u),{x:_,y:b}=e,{width:T,height:R}=t;let x,M,j,z,$,J;return a==="center"?($=b+R/2,r==="left"?(x=_,M=x-l,z=$+l,J=$-l):(x=_+T,M=x+l,z=$-l,J=$+l),j=x):(r==="left"?M=_+Math.max(h,p)+l:r==="right"?M=_+T-Math.max(f,v)-l:M=this.caretX,a==="top"?(z=b,$=z-l,x=M-l,j=M+l):(z=b+R,$=z+l,x=M+l,j=M-l),J=z),{x1:x,x2:M,x3:j,y1:z,y2:$,y3:J}}drawTitle(e,t,i){const r=this.title,a=r.length;let l,u,h;if(a){const f=ql(i.rtl,this.x,this.width);for(e.x=Lf(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",l=Fn(i.titleFont),u=i.titleSpacing,t.fillStyle=i.titleColor,t.font=l.string,h=0;h<a;++h)t.fillText(r[h],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===a&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,t,i,r,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,p=Fn(a.bodyFont),v=Lf(this,"left",a),_=r.x(v),b=h<p.lineHeight?(p.lineHeight-h)/2:0,T=t.y+b;if(a.usePointStyle){const R={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},x=r.leftForLtr(_,f)+f/2,M=T+h/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Vx(e,R,x,M),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Vx(e,R,x,M)}else{e.lineWidth=Ze(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const R=r.leftForLtr(_,f),x=r.leftForLtr(r.xPlus(_,1),f-2),M=ih(l.borderRadius);Object.values(M).some(j=>j!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,w_(e,{x:R,y:T,w:f,h,radius:M}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),w_(e,{x,y:T+1,w:f-2,h:h-2,radius:M}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(R,T,f,h),e.strokeRect(R,T,f,h),e.fillStyle=l.backgroundColor,e.fillRect(x,T+1,f-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:p}=i,v=Fn(i.bodyFont);let _=v.lineHeight,b=0;const T=ql(i.rtl,this.x,this.width),R=function(D){t.fillText(D,T.x(e.x+b),e.y+_/2),e.y+=_+a},x=T.textAlign(l);let M,j,z,$,J,ne,O;for(t.textAlign=l,t.textBaseline="middle",t.font=v.string,e.x=Lf(this,x,i),t.fillStyle=i.bodyColor,rt(this.beforeBody,R),b=u&&x!=="right"?l==="center"?f/2+p:f+2+p:0,$=0,ne=r.length;$<ne;++$){for(M=r[$],j=this.labelTextColors[$],t.fillStyle=j,rt(M.before,R),z=M.lines,u&&z.length&&(this._drawColorBox(t,e,$,T,i),_=Math.max(v.lineHeight,h)),J=0,O=z.length;J<O;++J)R(z[J]),_=v.lineHeight;rt(M.after,R)}b=0,_=v.lineHeight,rt(this.afterBody,R),e.y-=a}drawFooter(e,t,i){const r=this.footer,a=r.length;let l,u;if(a){const h=ql(i.rtl,this.x,this.width);for(e.x=Lf(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",l=Fn(i.footerFont),t.fillStyle=i.footerColor,t.font=l.string,u=0;u<a;++u)t.fillText(r[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=e,{width:f,height:p}=i,{topLeft:v,topRight:_,bottomLeft:b,bottomRight:T}=ih(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(u+v,h),l==="top"&&this.drawCaret(e,t,i,r),t.lineTo(u+f-_,h),t.quadraticCurveTo(u+f,h,u+f,h+_),l==="center"&&a==="right"&&this.drawCaret(e,t,i,r),t.lineTo(u+f,h+p-T),t.quadraticCurveTo(u+f,h+p,u+f-T,h+p),l==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(u+b,h+p),t.quadraticCurveTo(u,h+p,u,h+p-b),l==="center"&&a==="left"&&this.drawCaret(e,t,i,r),t.lineTo(u,h+v),t.quadraticCurveTo(u,h,u+v,h),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,a=i&&i.y;if(r||a){const l=Bu[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=mR(this,e),h=Object.assign({},l,this._size),f=yR(t,e,h),p=vR(e,h,f,t);(r._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ui(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,r,t),Yk(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Qk(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),a=!Hg(i,r),l=this._positionChanged(r,t);(a||l)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,i),u=this._positionChanged(l,e),h=t||!Hg(l,a)||u;return h&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,r){const a=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:i,caretY:r,options:a}=this,l=Bu[a.position].call(this,e,t);return l!==!1&&(i!==l.x||r!==l.y)}}je(T_,"positioners",Bu);var JW={id:"tooltip",_element:T_,positioners:Bu,afterInit(n,e,t){t&&(n.tooltip=new T_({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Vp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bn=Object.keys(Vp);function ER(n,e){return n-e}function wR(n,e){if(xn(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:a}=n._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),us(l)||(l=typeof i=="string"?t.parse(l,i):t.parse(l)),l===null?null:(r&&(l=r==="week"&&(Gg(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,r)),+l)}function AR(n,e,t,i){const r=Bn.length;for(let a=Bn.indexOf(n);a<r-1;++a){const l=Vp[Bn[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=i)return Bn[a]}return Bn[r-1]}function eG(n,e,t,i,r){for(let a=Bn.length-1;a>=Bn.indexOf(t);a--){const l=Bn[a];if(Vp[l].common&&n._adapter.diff(r,i,l)>=e-1)return l}return Bn[t?Bn.indexOf(t):0]}function tG(n){for(let e=Bn.indexOf(n)+1,t=Bn.length;e<t;++e)if(Vp[Bn[e]].common)return Bn[e]}function SR(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=c0(t,e),a=t[i]>=e?t[i]:t[r];n[a]=!0}}function nG(n,e,t,i){const r=n._adapter,a=+r.startOf(e[0].value,i),l=e[e.length-1].value;let u,h;for(u=a;u<=l;u=+r.add(u,1,i))h=t[u],h>=0&&(e[h].major=!0);return e}function TR(n,e,t){const i=[],r={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],r[u]=l,i.push({value:u,major:!1});return a===0||!t?i:nG(n,i,r,t)}class Zg extends Lp{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new T8._date(e.adapters.date);r.init(t),eh(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:wR(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=us(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),a=us(a)&&!isNaN(a)?a:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,l=this.max,u=Eq(r,a,l);return this._unit=t.unit||(i.autoSkip?AR(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):eG(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:tG(this._unit),this.initOffsets(r),e.reverse&&u.reverse(),TR(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,a;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=bi(t,0,l),i=bi(i,0,l),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,a=r.time,l=a.unit||AR(a.minUnit,t,i,this._getLabelCapacity(t)),u=st(r.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=Gg(h)||h===!0,p={};let v=t,_,b;if(f&&(v=+e.startOf(v,"isoWeek",h)),v=+e.startOf(v,f?"day":l),e.diff(i,t,l)>1e5*u)throw new Error(t+" and "+i+" are too far apart with stepSize of "+u+" "+l);const T=r.ticks.source==="data"&&this.getDataTimestamps();for(_=v,b=0;_<i;_=+e.add(_,u,l),b++)SR(p,_,T);return(_===i||r.bounds==="ticks"||b===1)&&SR(p,_,T),Object.keys(p).sort(ER).map(R=>+R)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,a=this._unit,l=t||r[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,i,r){const a=this.options,l=a.ticks.callback;if(l)return gt(l,[e,t,i],this);const u=a.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&u[h],v=f&&u[f],_=i[t],b=f&&v&&_&&_.major;return this._adapter.format(e,r||(b?v:p))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=mo(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,a=this._tickFormatFunction(e,0,TR(this,[e],this._majorUnit),r),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(wR(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Aq(e.sort(ER))}}je(Zg,"id","time"),je(Zg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function jf(n,e,t){let i=0,r=n.length-1,a,l,u,h;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=b_(n,"pos",e)),{pos:a,time:u}=n[i],{pos:l,time:h}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=b_(n,"time",e)),{time:a,pos:u}=n[i],{time:l,pos:h}=n[r]);const f=l-a;return f?u+(h-u)*(e-a)/f:u}class xR extends Zg{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=jf(t,this.min),this._tableRange=jf(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],a=[];let l,u,h,f,p;for(l=0,u=e.length;l<u;++l)f=e[l],f>=t&&f<=i&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)p=r[l+1],h=r[l-1],f=r[l],Math.round((p+h)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,a)=>r-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(jf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return jf(this._table,i*this._tableRange+this._minPos,!0)}}je(xR,"id","timeseries"),je(xR,"defaults",Zg.defaults);const cM="label";function RR(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function iG(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function uM(n,e){n.labels=e}function hM(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cM;const i=[];n.datasets=e.map(r=>{const a=n.datasets.find(l=>l[t]===r[t]);return!a||!r.data||i.includes(a)?{...r}:(i.push(a),Object.assign(a,r),a)})}function rG(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cM;const t={labels:[],datasets:[]};return uM(t,n.labels),hM(t,n.datasets,e),t}function sG(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:f=[],fallbackContent:p,updateMode:v,..._}=n,b=H.useRef(null),T=H.useRef(null),R=()=>{b.current&&(T.current=new jp(b.current,{type:l,data:rG(u,a),options:h&&{...h},plugins:f}),RR(e,T.current))},x=()=>{RR(e,null),T.current&&(T.current.destroy(),T.current=null)};return H.useEffect(()=>{!r&&T.current&&h&&iG(T.current,h)},[r,h]),H.useEffect(()=>{!r&&T.current&&uM(T.current.config.data,u.labels)},[r,u.labels]),H.useEffect(()=>{!r&&T.current&&u.datasets&&hM(T.current.config.data,u.datasets,a)},[r,u.datasets]),H.useEffect(()=>{T.current&&(r?(x(),setTimeout(R)):T.current.update(v))},[r,h,u.labels,u.datasets,v]),H.useEffect(()=>{T.current&&(x(),setTimeout(R))},[l]),H.useEffect(()=>(R(),()=>x()),[]),Ei.createElement("canvas",{ref:b,role:"img",height:t,width:i,..._},p)}const aG=H.forwardRef(sG);function oG(n,e){return jp.register(e),H.forwardRef((t,i)=>Ei.createElement(aG,{...t,ref:i,type:n}))}const Cu=oG("doughnut",Vu);jp.register(zu,JW,WW);const Du={responzive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},Vf=(n,e,t)=>({datasets:[{data:[n,Math.max(e-n,0)],backgroundColor:[t,"#E5E5E5"],borderWidth:0,cutout:"80%"}]}),lG=({data:n})=>{const{currentKcal:e,goalKcal:t,protein:i,carbs:r,fat:a,fiber:l,fluid:u,burned:h}=n,f=(R,x)=>x>0?Math.min((R/x*100).toFixed(0),100):0,p=f(i.current,i.goal),v=f(r.current,r.goal),_=f(a.current,a.goal),b=f(l.current,l.goal),T={datasets:[{data:[e,Math.max(t-e,0)],backgroundColor:["#F7941D","#E5E5E5"],borderWidth:0,cutout:"80%"}]};return w.jsxs("div",{className:"p-4",children:[w.jsxs("div",{className:"relative w-40 h-40 mx-auto",children:[w.jsx(Cu,{data:T,options:Du}),w.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[w.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[e," kcal"]}),w.jsxs("div",{className:"text-sm text-gray-500",children:["z ",t," kcal"]})]})]}),w.jsxs("div",{className:"flex justify-around mt-6",children:[w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(Cu,{data:Vf(i.current,i.goal,"#69C267"),options:Du}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[p,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Bielkoviny"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[i.current," g z ",i.goal," g"]})]}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(Cu,{data:Vf(r.current,r.goal,"#F7941D"),options:Du}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[v,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Sacharidy"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[r.current," g z ",r.goal," g"]})]}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(Cu,{data:Vf(a.current,a.goal,"#F16664"),options:Du}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[_,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Tuky"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[a.current," g z ",a.goal," g"]})]}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(Cu,{data:Vf(l.current,l.goal,"#8E8E93"),options:Du}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[b,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Vláknina"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[l.current," g z ",l.goal," g"]})]})]}),w.jsxs("div",{className:"mt-4 text-center text-sm text-gray-700",children:[w.jsxs("p",{children:["Tekutiny: ",u.current," l z ",u.goal," l"]}),w.jsxs("p",{children:["Spálené: ",h," kcal"]})]})]})},cG=({selectedDate:n,overviewData:e,eventsForDay:t})=>w.jsx("div",{className:"w-full lg:w-3/3 bg-white rounded-lg shadow p-4",children:n&&e?w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3",children:n}),w.jsx(lG,{data:e}),w.jsxs("div",{className:"mt-4",children:[w.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-2",children:"Jedlá dňa"}),w.jsx("ul",{className:"space-y-2 text-sm",children:t.map((i,r)=>w.jsx("li",{className:"p-2 bg-green-100 rounded shadow border-l-4 border-green-500",children:i.title},r))})]})]}):w.jsx("div",{className:"text-gray-500 text-center",children:"Kliknite na deň v kalendári pre zobrazenie detailov."})}),uG=({selectedDate:n,onAddFood:e})=>{const[t,i]=H.useState(""),{savedFoods:r}=I_(),[a,l]=H.useState([]),u=H.useRef(null);H.useEffect(()=>{const v=_=>{u.current&&!u.current.contains(_.target)&&l([])};return document.addEventListener("click",v,!0),()=>{document.removeEventListener("click",v,!0)}},[]);const h=v=>{const _=v.target.value;if(i(_),_.trim().length>0){const b=r.filter(T=>T.foodName.toLowerCase().includes(_.toLowerCase()));l(b)}else l([])},f=v=>{const _={title:v.foodName,start:n,extendedProps:{kcal:v.kcal,protein:v.protein,fat:v.fat,carbs:v.carbs,fiber:v.fiber}};e(_),i(""),l([])},p=v=>{if(v.preventDefault(),!t||!n)return;const _=r.find(T=>T.foodName.toLowerCase()===t.toLowerCase()),b=_?{title:_.foodName,start:n,extendedProps:{kcal:_.kcal,protein:_.protein,fat:_.fat,carbs:_.carbs,fiber:_.fiber,fluid:_.fluid,burned:0}}:{title:t,start:n,extendedProps:{kcal:0,protein:0,fat:0,carbs:0,fiber:0,fluid:0,burned:0}};e(b),i(""),l([])};return w.jsxs("form",{onSubmit:p,className:"p-4 bg-white rounded-lg shadow mb-4",children:[w.jsx("h3",{className:"text-lg font-bold text-green-700 mb-2",children:"Pridať jedlo"}),w.jsxs("div",{className:"mb-2 relative",ref:u,children:[w.jsx("label",{className:"block text-gray-700",children:"Názov jedla:"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"text",value:t,onChange:h,className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Zadaj názov jedla"}),a.length>0&&w.jsx("ul",{className:"absolute top-full left-0 z-10 w-full bg-white border border-gray-300 rounded-lg mt-1 max-h-40 overflow-y-auto shadow-lg",children:a.map(v=>w.jsx("li",{onClick:()=>f(v),className:"px-4 py-2 border-b border-gray-200 last:border-0 rounded hover:bg-green-200 hover:text-green-900 transition-colors duration-200 cursor-pointer",children:v.foodName},v.id))})]})]}),w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať"})]})},CR=()=>{const{nutritionGoal:n}=I_(),e=[{title:"Raňajky: Ovsená kaša",start:"2025-09-01",extendedProps:{kcal:350,protein:10,fat:5,carbs:60,fiber:5,fluid:.2,burned:0}},{title:"Obed: Grilované kuracie prsia",start:"2025-09-01",extendedProps:{kcal:500,protein:30,fat:15,carbs:40,fiber:2,fluid:.3,burned:0}},{title:"Večera: Zeleninový šalát",start:"2025-09-01",extendedProps:{kcal:400,protein:15,fat:10,carbs:50,fiber:4,fluid:.2,burned:0}},{title:"Beh 30 minút",start:"2025-09-01",extendedProps:{kcal:-100,protein:0,fat:0,carbs:0,fiber:0,fluid:0,burned:100}},{title:"Raňajky: Jogurt s ovocím",start:"2025-02-25",extendedProps:{kcal:300,protein:12,fat:8,carbs:45,fiber:3,fluid:.2,burned:0}}],[t,i]=H.useState(e),[r,a]=H.useState(null),[l,u]=H.useState(null);H.useEffect(()=>{if(r){const _=t.filter(b=>b.start===r);h(_)}},[t,r]);const h=_=>{let b=0,T=0,R=0,x=0,M=0,j=0,z=0;_.forEach(J=>{const{kcal:ne,protein:O,fat:D,carbs:I,fiber:N,fluid:V,burned:B}=J.extendedProps;b+=ne,T+=O,R+=D,x+=I,M+=N,j+=V,z+=B});const $={currentKcal:Math.max(b,0),goalKcal:(n==null?void 0:n.dailyCalories)||1500,protein:{current:T,goal:(n==null?void 0:n.proteinGrams)||79},carbs:{current:x,goal:(n==null?void 0:n.carbsGrams)||192},fat:{current:R,goal:(n==null?void 0:n.fatGrams)||43},fiber:{current:M,goal:(n==null?void 0:n.fiber)||28},fluid:{current:parseFloat(j.toFixed(1)),goal:(n==null?void 0:n.fluid)||1.2},burned:z};u($)},f=_=>{a(_.dateStr)},p=_=>{i(b=>[...b,_])},v=r?t.filter(_=>_.start===r):[];return w.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4",children:[w.jsx(V7,{events:t,onDateClick:f}),w.jsxs("div",{className:"w-full lg:w-1/3",children:[r&&w.jsx(uG,{selectedDate:r,onAddFood:p}),w.jsx(cG,{selectedDate:r,overviewData:l,eventsForDay:v})]})]})},hG=()=>{const{pathname:n}=Bi();return H.useEffect(()=>{window.scrollTo(0,0)},[n]),null};function dG(){H.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")},[]);const[n,e]=H.useState(""),[t,i]=H.useState([]),[r,a]=H.useState(null),[l,u]=H.useState(!1),[h,f]=H.useState(!1),[p,v]=H.useState(""),_=ba(),b=Bi();H.useEffect(()=>{b.pathname==="/"&&f(!1)},[b.pathname]);const T=async()=>{_("/results"),e(""),u(!0),f(!0),v(n),setTimeout(async()=>{console.log(`Sending request to Nutritionix API: ${new Date().toISOString()}`);try{const R=`https://api.spoonacular.com/food/ingredients/search?query=${encodeURIComponent(n)}&number=10&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,x=await fetch(R);if(!x.ok)throw new Error(`Instant API HTTP error: ${x.status}`);const j=(await x.json()).results||[],z=await Promise.all(j.map(async $=>{var V;const J=`https://api.spoonacular.com/food/ingredients/${$.id}/information?amount=100&unit=grams&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,ne=await fetch(J);if(!ne.ok){const B=await ne.text();return console.error("Nutrients fetch error:",ne.status,B),{...$,nutrition:null}}const D=((V=(await ne.json()).nutrition)==null?void 0:V.nutrients)||[],I=B=>{const P=D.find(Ne=>Ne.name.toLowerCase()===B.toLowerCase());return P?P.amount:0},N={servingSize:"100g",photo:{thumb:`https://spoonacular.com/cdn/ingredients_500x500/${$.image}`},nf_calories:I("Calories"),nf_total_fat:I("Fat"),nf_protein:I("Protein"),nf_total_carbohydrate:I("Carbohydrates")};return{...$,food_name:$.name,nutrition:N}}));i(z),a(null)}catch(R){console.error("Fetch error:",R),a(R),i([])}finally{u(!1)}},500)};return w.jsxs("div",{children:[w.jsx(fH,{}),w.jsx(hG,{}),w.jsxs(BO,{children:[w.jsx(Nn,{path:"/register",element:w.jsx(wH,{})}),w.jsx(Nn,{path:"/terms",element:w.jsx(RH,{})}),w.jsx(Nn,{path:"/privacy",element:w.jsx(CH,{})}),w.jsx(Nn,{path:"/verify-email",element:w.jsx(AH,{})}),w.jsx(Nn,{path:"/login",element:w.jsx(xH,{})}),w.jsx(Nn,{path:"/logout",element:w.jsx(TH,{})}),w.jsx(Nn,{path:"/dashboard",element:w.jsxs(mf,{children:[" ",w.jsx(bT,{})," "]})}),w.jsx(Nn,{path:"/",element:w.jsxs(w.Fragment,{children:[w.jsx(gH,{}),w.jsx(pH,{query:n,setQuery:e,handleSearch:T,disabled:h}),w.jsx(vH,{}),w.jsx(EH,{})]})}),w.jsx(Nn,{path:"/results",element:w.jsx(mH,{results:t,searchTerm:p,error:r,query:n,setQuery:e,handleSearch:T,isLoading:l})}),w.jsx(Nn,{path:"/blog/:id",element:w.jsx(bH,{})}),w.jsxs(Nn,{path:"/dashboard",element:w.jsxs(mf,{children:[" ",w.jsx(bT,{})," "]}),children:[w.jsx(Nn,{index:!0,element:w.jsx(CR,{})}),w.jsx(Nn,{path:"calendar",element:w.jsxs(mf,{children:[" ",w.jsx(CR,{})," "]})}),w.jsx(Nn,{path:"my-foods",element:w.jsxs(mf,{children:[" ",w.jsx(IH,{})," "]})})]})]})]})}$N.createRoot(document.getElementById("root")).render(w.jsx(h2,{children:w.jsx(dG,{})}));
