(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function sS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ed={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function aS(){if(sv)return ml;sv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:c}}return ml.Fragment=e,ml.jsx=i,ml.jsxs=i,ml}var av;function oS(){return av||(av=1,Ed.exports=aS()),Ed.exports}var E=oS(),Td={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function lS(){if(ov)return Se;ov=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.iterator;function N(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,Y={};function F(O,J,he){this.props=O,this.context=J,this.refs=Y,this.updater=he||j}F.prototype.isReactComponent={},F.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Q(){}Q.prototype=F.prototype;function te(O,J,he){this.props=O,this.context=J,this.refs=Y,this.updater=he||j}var ee=te.prototype=new Q;ee.constructor=te,z(ee,F.prototype),ee.isPureReactComponent=!0;var de=Array.isArray,ce={H:null,A:null,T:null,S:null},_e=Object.prototype.hasOwnProperty;function D(O,J,he,se,ae,oe){return he=oe.ref,{$$typeof:r,type:O,key:J,ref:he!==void 0?he:null,props:oe}}function w(O,J){return D(O.type,J,void 0,void 0,void 0,O.props)}function A(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function I(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(he){return J[he]})}var M=/\/+/g;function L(O,J){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):J.toString(36)}function x(){}function Ze(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(x,x):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function tt(O,J,he,se,ae){var oe=typeof O;(oe==="undefined"||oe==="boolean")&&(O=null);var ge=!1;if(O===null)ge=!0;else switch(oe){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(O.$$typeof){case r:case e:ge=!0;break;case S:return ge=O._init,tt(ge(O._payload),J,he,se,ae)}}if(ge)return ae=ae(O),ge=se===""?"."+L(O,0):se,de(ae)?(he="",ge!=null&&(he=ge.replace(M,"$&/")+"/"),tt(ae,J,he,"",function(nt){return nt})):ae!=null&&(A(ae)&&(ae=w(ae,he+(ae.key==null||O&&O.key===ae.key?"":(""+ae.key).replace(M,"$&/")+"/")+ge)),J.push(ae)),1;ge=0;var ct=se===""?".":se+":";if(de(O))for(var Pe=0;Pe<O.length;Pe++)se=O[Pe],oe=ct+L(se,Pe),ge+=tt(se,J,he,oe,ae);else if(Pe=N(O),typeof Pe=="function")for(O=Pe.call(O),Pe=0;!(se=O.next()).done;)se=se.value,oe=ct+L(se,Pe++),ge+=tt(se,J,he,oe,ae);else if(oe==="object"){if(typeof O.then=="function")return tt(Ze(O),J,he,se,ae);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ge}function re(O,J,he){if(O==null)return O;var se=[],ae=0;return tt(O,se,"","",function(oe){return J.call(he,oe,ae++)}),se}function ye(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(he){(O._status===0||O._status===-1)&&(O._status=1,O._result=he)},function(he){(O._status===0||O._status===-1)&&(O._status=2,O._result=he)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ae(){}return Se.Children={map:re,forEach:function(O,J,he){re(O,function(){J.apply(this,arguments)},he)},count:function(O){var J=0;return re(O,function(){J++}),J},toArray:function(O){return re(O,function(J){return J})||[]},only:function(O){if(!A(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Se.Component=F,Se.Fragment=i,Se.Profiler=o,Se.PureComponent=te,Se.StrictMode=a,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Se.act=function(){throw Error("act(...) is not supported in production builds of React.")},Se.cache=function(O){return function(){return O.apply(null,arguments)}},Se.cloneElement=function(O,J,he){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=z({},O.props),ae=O.key,oe=void 0;if(J!=null)for(ge in J.ref!==void 0&&(oe=void 0),J.key!==void 0&&(ae=""+J.key),J)!_e.call(J,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&J.ref===void 0||(se[ge]=J[ge]);var ge=arguments.length-2;if(ge===1)se.children=he;else if(1<ge){for(var ct=Array(ge),Pe=0;Pe<ge;Pe++)ct[Pe]=arguments[Pe+2];se.children=ct}return D(O.type,ae,void 0,void 0,oe,se)},Se.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Se.createElement=function(O,J,he){var se,ae={},oe=null;if(J!=null)for(se in J.key!==void 0&&(oe=""+J.key),J)_e.call(J,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ae[se]=J[se]);var ge=arguments.length-2;if(ge===1)ae.children=he;else if(1<ge){for(var ct=Array(ge),Pe=0;Pe<ge;Pe++)ct[Pe]=arguments[Pe+2];ae.children=ct}if(O&&O.defaultProps)for(se in ge=O.defaultProps,ge)ae[se]===void 0&&(ae[se]=ge[se]);return D(O,oe,void 0,void 0,null,ae)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:m,render:O}},Se.isValidElement=A,Se.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ye}},Se.memo=function(O,J){return{$$typeof:y,type:O,compare:J===void 0?null:J}},Se.startTransition=function(O){var J=ce.T,he={};ce.T=he;try{var se=O(),ae=ce.S;ae!==null&&ae(he,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ae,me)}catch(oe){me(oe)}finally{ce.T=J}},Se.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Se.use=function(O){return ce.H.use(O)},Se.useActionState=function(O,J,he){return ce.H.useActionState(O,J,he)},Se.useCallback=function(O,J){return ce.H.useCallback(O,J)},Se.useContext=function(O){return ce.H.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O,J){return ce.H.useDeferredValue(O,J)},Se.useEffect=function(O,J){return ce.H.useEffect(O,J)},Se.useId=function(){return ce.H.useId()},Se.useImperativeHandle=function(O,J,he){return ce.H.useImperativeHandle(O,J,he)},Se.useInsertionEffect=function(O,J){return ce.H.useInsertionEffect(O,J)},Se.useLayoutEffect=function(O,J){return ce.H.useLayoutEffect(O,J)},Se.useMemo=function(O,J){return ce.H.useMemo(O,J)},Se.useOptimistic=function(O,J){return ce.H.useOptimistic(O,J)},Se.useReducer=function(O,J,he){return ce.H.useReducer(O,J,he)},Se.useRef=function(O){return ce.H.useRef(O)},Se.useState=function(O){return ce.H.useState(O)},Se.useSyncExternalStore=function(O,J,he){return ce.H.useSyncExternalStore(O,J,he)},Se.useTransition=function(){return ce.H.useTransition()},Se.version="19.0.0",Se}var lv;function hm(){return lv||(lv=1,Td.exports=lS()),Td.exports}var H=hm();const Ps=sS(H);var bd={exports:{}},pl={},Sd={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function uS(){return uv||(uv=1,function(r){function e(re,ye){var me=re.length;re.push(ye);e:for(;0<me;){var Ae=me-1>>>1,O=re[Ae];if(0<o(O,ye))re[Ae]=ye,re[me]=O,me=Ae;else break e}}function i(re){return re.length===0?null:re[0]}function a(re){if(re.length===0)return null;var ye=re[0],me=re.pop();if(me!==ye){re[0]=me;e:for(var Ae=0,O=re.length,J=O>>>1;Ae<J;){var he=2*(Ae+1)-1,se=re[he],ae=he+1,oe=re[ae];if(0>o(se,me))ae<O&&0>o(oe,se)?(re[Ae]=oe,re[ae]=me,Ae=ae):(re[Ae]=se,re[he]=me,Ae=he);else if(ae<O&&0>o(oe,me))re[Ae]=oe,re[ae]=me,Ae=ae;else break e}}return ye}function o(re,ye){var me=re.sortIndex-ye.sortIndex;return me!==0?me:re.id-ye.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],S=1,C=null,N=3,j=!1,z=!1,Y=!1,F=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ee(re){for(var ye=i(y);ye!==null;){if(ye.callback===null)a(y);else if(ye.startTime<=re)a(y),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=i(y)}}function de(re){if(Y=!1,ee(re),!z)if(i(p)!==null)z=!0,Ze();else{var ye=i(y);ye!==null&&tt(de,ye.startTime-re)}}var ce=!1,_e=-1,D=5,w=-1;function A(){return!(r.unstable_now()-w<D)}function I(){if(ce){var re=r.unstable_now();w=re;var ye=!0;try{e:{z=!1,Y&&(Y=!1,Q(_e),_e=-1),j=!0;var me=N;try{t:{for(ee(re),C=i(p);C!==null&&!(C.expirationTime>re&&A());){var Ae=C.callback;if(typeof Ae=="function"){C.callback=null,N=C.priorityLevel;var O=Ae(C.expirationTime<=re);if(re=r.unstable_now(),typeof O=="function"){C.callback=O,ee(re),ye=!0;break t}C===i(p)&&a(p),ee(re)}else a(p);C=i(p)}if(C!==null)ye=!0;else{var J=i(y);J!==null&&tt(de,J.startTime-re),ye=!1}}break e}finally{C=null,N=me,j=!1}ye=void 0}}finally{ye?M():ce=!1}}}var M;if(typeof te=="function")M=function(){te(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,x=L.port2;L.port1.onmessage=I,M=function(){x.postMessage(null)}}else M=function(){F(I,0)};function Ze(){ce||(ce=!0,M())}function tt(re,ye){_e=F(function(){re(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){z||j||(z=!0,Ze())},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_getFirstCallbackNode=function(){return i(p)},r.unstable_next=function(re){switch(N){case 1:case 2:case 3:var ye=3;break;default:ye=N}var me=N;N=ye;try{return re()}finally{N=me}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,ye){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var me=N;N=re;try{return ye()}finally{N=me}},r.unstable_scheduleCallback=function(re,ye,me){var Ae=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ae+me:Ae):me=Ae,re){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,re={id:S++,callback:ye,priorityLevel:re,startTime:me,expirationTime:O,sortIndex:-1},me>Ae?(re.sortIndex=me,e(y,re),i(p)===null&&re===i(y)&&(Y?(Q(_e),_e=-1):Y=!0,tt(de,me-Ae))):(re.sortIndex=O,e(p,re),z||j||(z=!0,Ze())),re},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(re){var ye=N;return function(){var me=N;N=ye;try{return re.apply(this,arguments)}finally{N=me}}}}(Ad)),Ad}var cv;function cS(){return cv||(cv=1,Sd.exports=uS()),Sd.exports}var wd={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function hS(){if(hv)return Ft;hv=1;var r=hm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:p,containerInfo:y,implementation:S}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ft.createPortal=function(p,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,S)},Ft.flushSync=function(p){var y=f.T,S=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=y,a.p=S,a.d.f()}},Ft.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},Ft.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Ft.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var S=y.as,C=m(S,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:C,integrity:N,fetchPriority:j}):S==="script"&&a.d.X(p,{crossOrigin:C,integrity:N,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ft.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},Ft.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,C=m(S,y.crossOrigin);a.d.L(p,S,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ft.preloadModule=function(p,y){if(typeof p=="string")if(y){var S=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},Ft.requestFormReset=function(p){a.d.r(p)},Ft.unstable_batchedUpdates=function(p,y){return p(y)},Ft.useFormState=function(p,y,S){return f.H.useFormState(p,y,S)},Ft.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ft.version="19.0.0",Ft}var fv;function fS(){if(fv)return wd.exports;fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wd.exports=hS(),wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function dS(){if(dv)return pl;dv=1;var r=cS(),e=hm(),i=fS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),de=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function _e(t){return t===null||typeof t!="object"?null:(t=ce&&t[ce]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case S:return"Profiler";case y:return"StrictMode";case Y:return"Suspense";case F:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case N:return(t._context.displayName||"Context")+".Consumer";case z:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return n=t.displayName||null,n!==null?n:w(t.type)||"Memo";case te:n=t._payload,t=t._init;try{return w(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,M,L;function x(t){if(M===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||"",L=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+t+L}var Ze=!1;function tt(t,n){if(!t||Ze)return"";Ze=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(K){var q=K}Reflect.construct(t,[],W)}else{try{W.call()}catch(K){q=K}t.call(W.prototype)}}else{try{throw Error()}catch(K){q=K}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var R=_.split(`
`),V=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===V.length)for(l=R.length-1,h=V.length-1;1<=l&&0<=h&&R[l]!==V[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==V[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==V[h]){var $=`
`+R[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{Ze=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?x(s):""}function re(t){switch(t.tag){case 26:case 27:case 5:return x(t.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return t=tt(t.type,!1),t;case 11:return t=tt(t.type.render,!1),t;case 1:return t=tt(t.type,!0),t;default:return""}}function ye(t){try{var n="";do n+=re(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function me(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function Ae(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function O(t){if(me(t)!==t)throw Error(a(188))}function J(t){var n=t.alternate;if(!n){if(n=me(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return O(h),t;if(d===l)return O(h),n;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=d;break}if(T===l){_=!0,l=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,l=h;break}if(T===l){_=!0,l=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function he(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=he(t),n!==null)return n;t=t.sibling}return null}var se=Array.isArray,ae=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ge=[],ct=-1;function Pe(t){return{current:t}}function nt(t){0>ct||(t.current=ge[ct],ge[ct]=null,ct--)}function Be(t,n){ct++,ge[ct]=t.current,t.current=n}var Qt=Pe(null),Ti=Pe(null),gn=Pe(null),sr=Pe(null);function ar(t,n){switch(Be(gn,n),Be(Ti,t),Be(Qt,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?My(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=My(t),n=Vy(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}nt(Qt),Be(Qt,n)}function bi(){nt(Qt),nt(Ti),nt(gn)}function lo(t){t.memoizedState!==null&&Be(sr,t);var n=Qt.current,s=Vy(n,t.type);n!==s&&(Be(Ti,t),Be(Qt,s))}function Js(t){Ti.current===t&&(nt(Qt),nt(Ti)),sr.current===t&&(nt(sr),ul._currentValue=oe)}var ea=Object.prototype.hasOwnProperty,ts=r.unstable_scheduleCallback,ta=r.unstable_cancelCallback,Th=r.unstable_shouldYield,uo=r.unstable_requestPaint,tn=r.unstable_now,Xl=r.unstable_getCurrentPriorityLevel,yt=r.unstable_ImmediatePriority,St=r.unstable_UserBlockingPriority,Si=r.unstable_NormalPriority,Zl=r.unstable_LowPriority,co=r.unstable_IdlePriority,bh=r.log,ns=r.unstable_setDisableYieldValue,or=null,Ht=null;function ho(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(or,t,void 0,(t.current.flags&128)===128)}catch{}}function Wn(t){if(typeof bh=="function"&&ns(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(or,t)}catch{}}var Xt=Math.clz32?Math.clz32:Jl,fo=Math.log,Wl=Math.LN2;function Jl(t){return t>>>=0,t===0?32:31-(fo(t)/Wl|0)|0}var Jn=128,lr=4194304;function Pn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yn(t,n){var s=t.pendingLanes;if(s===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var T=s&134217727;return T!==0?(s=T&~h,s!==0?l=Pn(s):(d&=T,d!==0?l=Pn(d):t||(_=T&~_,_!==0&&(l=Pn(_))))):(T=s&~h,T!==0?l=Pn(T):d!==0?l=Pn(d):t||(_=s&~_,_!==0&&(l=Pn(_)))),l===0?0:n!==0&&n!==l&&!(n&h)&&(h=l&-l,_=n&-n,h>=_||h===32&&(_&4194176)!==0)?n:l}function ur(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function na(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mo(){var t=Jn;return Jn<<=1,!(Jn&4194176)&&(Jn=128),t}function cr(){var t=lr;return lr<<=1,!(lr&62914560)&&(lr=4194304),t}function ia(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function lt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function eu(t,n,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,V=t.hiddenUpdates;for(s=_&~s;0<s;){var $=31-Xt(s),W=1<<$;T[$]=0,R[$]=-1;var q=V[$];if(q!==null)for(V[$]=null,$=0;$<q.length;$++){var K=q[$];K!==null&&(K.lane&=-536870913)}s&=~W}l!==0&&hr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~n))}function hr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194218}function fr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Xt(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function tu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function nu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Jy(t.type))}function dr(t,n){var s=ae.p;try{return ae.p=t,n()}finally{ae.p=s}}var ei=Math.random().toString(36).slice(2),At="__reactFiber$"+ei,vt="__reactProps$"+ei,Ai="__reactContainer$"+ei,is="__reactEvents$"+ei,ra="__reactListeners$"+ei,ti="__reactHandles$"+ei,po="__reactResources$"+ei,mr="__reactMarker$"+ei;function rs(t){delete t[At],delete t[vt],delete t[is],delete t[ra],delete t[ti]}function jn(t){var n=t[At];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Ai]||s[At]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Ly(t);t!==null;){if(s=t[At])return s;t=Ly(t)}return n}t=s,s=t.parentNode}return null}function wi(t){if(t=t[At]||t[Ai]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function pr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function gr(t){var n=t[po];return n||(n=t[po]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function We(t){t[mr]=!0}var go=new Set,sa={};function ln(t,n){nn(t,n),nn(t+"Capture",n)}function nn(t,n){for(sa[t]=n,t=0;t<n.length;t++)go.add(n[t])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},vo={};function iu(t){return ea.call(vo,t)?!0:ea.call(yo,t)?!1:Sh.test(t)?vo[t]=!0:(yo[t]=!0,!1)}function yr(t,n,s){if(iu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function vr(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function vn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ru(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ah(t){var n=ru(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ss(t){t._valueTracker||(t._valueTracker=Ah(t))}function _o(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=ru(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function aa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ri=/[\n"\\]/g;function it(t){return t.replace(Ri,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _r(t,n,s,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Zt(n)):t.value!==""+Zt(n)&&(t.value=""+Zt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?oa(t,_,Zt(n)):s!=null?oa(t,_,Zt(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Zt(T):t.removeAttribute("name")}function as(t,n,s,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+Zt(s):"",n=n!=null?""+Zt(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function oa(t,n,s){n==="number"&&aa(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function je(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Zt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function os(t,n,s){if(n!=null&&(n=""+Zt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Zt(s):""}function Er(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(se(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Zt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var wh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||wh.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function su(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Eo(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Eo(t,d,n[d])}function To(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(t){return Ch.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var En=null;function la(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Ii=null;function xi(t){var n=wi(t);if(n&&(t=n.stateNode)){var s=t[vt]||null;e:switch(t=n.stateNode,n.type){case"input":if(_r(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+it(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[vt]||null;if(!h)throw Error(a(90));_r(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&_o(l)}break e;case"textarea":os(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&je(t,!!s.multiple,n,!1)}}}var bo=!1;function au(t,n,s){if(bo)return t(n,s);bo=!0;try{var l=t(n);return l}finally{if(bo=!1,(Ci!==null||Ii!==null)&&(Zu(),Ci&&(n=Ci,t=Ii,Ii=Ci=null,xi(n),t)))for(n=0;n<t.length;n++)xi(t[n])}}function ls(t,n){var s=t.stateNode;if(s===null)return null;var l=s[vt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Tn=!1;if(un)try{var us={};Object.defineProperty(us,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{Tn=!1}var ii=null,Tr=null,Ni=null;function So(){if(Ni)return Ni;var t,n=Tr,s=n.length,l,h="value"in ii?ii.value:ii.textContent,d=h.length;for(t=0;t<s&&n[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&n[s-l]===h[d-l];l++);return Ni=h.slice(t,1<l?1-l:void 0)}function ri(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function si(){return!0}function Ao(){return!1}function wt(t){function n(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?si:Ao,this.isPropagationStopped=Ao,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),n}var ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=wt(ze),cs=I({},ze,{view:0,detail:0}),ou=wt(cs),ca,ha,ai,hs=I({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(ca=t.screenX-ai.screenX,ha=t.screenY-ai.screenY):ha=ca=0,ai=t),ca)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),bn=wt(hs),lu=I({},hs,{dataTransfer:0}),Ih=wt(lu),fs=I({},cs,{relatedTarget:0}),fa=wt(fs),wo=I({},ze,{animationName:0,elapsedTime:0,pseudoElement:0}),da=wt(wo),uu=I({},ze,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ma=wt(uu),xh=I({},ze,{data:0}),Ro=wt(xh),ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=hu[t])?!!n[t]:!1}function ms(){return Co}var fu=I({},cs,{key:function(t){if(t.key){var n=ds[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ri(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(t){return t.type==="keypress"?ri(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ri(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pa=wt(fu),du=I({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Io=wt(du),Oi=I({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),mu=wt(Oi),pu=I({},ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),gu=wt(pu),yu=I({},hs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ga=wt(yu),Wt=I({},ze,{newState:0,oldState:0}),vu=wt(Wt),_u=[9,13,27,32],oi=un&&"CompositionEvent"in window,u=null;un&&"documentMode"in document&&(u=document.documentMode);var g=un&&"TextEvent"in window&&!u,v=un&&(!oi||u&&8<u&&11>=u),b=" ",U=!1;function G(t,n){switch(t){case"keyup":return _u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var De=!1;function _t(t,n){switch(t){case"compositionend":return ie(n);case"keypress":return n.which!==32?null:(U=!0,b);case"textInput":return t=n.data,t===b&&U?null:t;default:return null}}function ke(t,n){if(De)return t==="compositionend"||!oi&&G(t,n)?(t=So(),Ni=Tr=ii=null,De=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Rt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Et(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Rt[t.type]:n==="textarea"}function Di(t,n,s,l){Ci?Ii?Ii.push(l):Ii=[l]:Ci=l,n=nc(n,"onChange"),0<n.length&&(s=new ua("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var kt=null,li=null;function xo(t){xy(t,0)}function Eu(t){var n=pr(t);if(_o(n))return t}function rp(t,n){if(t==="change")return n}var sp=!1;if(un){var Nh;if(un){var Oh="oninput"in document;if(!Oh){var ap=document.createElement("div");ap.setAttribute("oninput","return;"),Oh=typeof ap.oninput=="function"}Nh=Oh}else Nh=!1;sp=Nh&&(!document.documentMode||9<document.documentMode)}function op(){kt&&(kt.detachEvent("onpropertychange",lp),li=kt=null)}function lp(t){if(t.propertyName==="value"&&Eu(li)){var n=[];Di(n,li,t,la(t)),au(xo,n)}}function VT(t,n,s){t==="focusin"?(op(),kt=n,li=s,kt.attachEvent("onpropertychange",lp)):t==="focusout"&&op()}function PT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eu(li)}function jT(t,n){if(t==="click")return Eu(n)}function LT(t,n){if(t==="input"||t==="change")return Eu(n)}function UT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var cn=typeof Object.is=="function"?Object.is:UT;function No(t,n){if(cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ea.call(n,h)||!cn(t[h],n[h]))return!1}return!0}function up(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cp(t,n){var s=up(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=up(s)}}function hp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?hp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function fp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=aa(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=aa(t.document)}return n}function Dh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function zT(t,n){var s=fp(n);n=t.focusedElem;var l=t.selectionRange;if(s!==n&&n&&n.ownerDocument&&hp(n.ownerDocument.documentElement,n)){if(l!==null&&Dh(n)){if(t=l.start,s=l.end,s===void 0&&(s=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(s,n.value.length);else if(s=(t=n.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var h=n.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!s.extend&&d>l&&(h=l,l=d,d=h),h=cp(n,d);var _=cp(n,l);h&&_&&(s.rangeCount!==1||s.anchorNode!==h.node||s.anchorOffset!==h.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),s.removeAllRanges(),d>l?(s.addRange(t),s.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),s.addRange(t)))}}for(t=[],s=n;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)s=t[n],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var BT=un&&"documentMode"in document&&11>=document.documentMode,ya=null,kh=null,Oo=null,Mh=!1;function dp(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mh||ya==null||ya!==aa(l)||(l=ya,"selectionStart"in l&&Dh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Oo&&No(Oo,l)||(Oo=l,l=nc(kh,"onSelect"),0<l.length&&(n=new ua("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=ya)))}function ps(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var va={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},Vh={},mp={};un&&(mp=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function gs(t){if(Vh[t])return Vh[t];if(!va[t])return t;var n=va[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in mp)return Vh[t]=n[s];return t}var pp=gs("animationend"),gp=gs("animationiteration"),yp=gs("animationstart"),HT=gs("transitionrun"),qT=gs("transitionstart"),FT=gs("transitioncancel"),vp=gs("transitionend"),_p=new Map,Ep="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ln(t,n){_p.set(t,n),ln(n,[t])}var Sn=[],_a=0,Ph=0;function Tu(){for(var t=_a,n=Ph=_a=0;n<t;){var s=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var h=Sn[n];Sn[n++]=null;var d=Sn[n];if(Sn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Tp(s,h,d)}}function bu(t,n,s,l){Sn[_a++]=t,Sn[_a++]=n,Sn[_a++]=s,Sn[_a++]=l,Ph|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jh(t,n,s,l){return bu(t,n,s,l),Su(t)}function br(t,n){return bu(t,null,null,n),Su(t)}function Tp(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&n!==null&&t.tag===3&&(d=t.stateNode,h=31-Xt(s),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[n]:t.push(n),n.lane=s|536870912)}function Su(t){if(50<nl)throw nl=0,Ff=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ea={},bp=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var s=bp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:ye(n)},bp.set(t,n),n)}return{value:t,source:n,stack:ye(n)}}var Ta=[],ba=0,Au=null,wu=0,wn=[],Rn=0,ys=null,ki=1,Mi="";function vs(t,n){Ta[ba++]=wu,Ta[ba++]=Au,Au=t,wu=n}function Sp(t,n,s){wn[Rn++]=ki,wn[Rn++]=Mi,wn[Rn++]=ys,ys=t;var l=ki;t=Mi;var h=32-Xt(l)-1;l&=~(1<<h),s+=1;var d=32-Xt(n)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ki=1<<32-Xt(n)+h|s<<h|l,Mi=d+t}else ki=1<<d|s<<h|l,Mi=t}function Lh(t){t.return!==null&&(vs(t,1),Sp(t,1,0))}function Uh(t){for(;t===Au;)Au=Ta[--ba],Ta[ba]=null,wu=Ta[--ba],Ta[ba]=null;for(;t===ys;)ys=wn[--Rn],wn[Rn]=null,Mi=wn[--Rn],wn[Rn]=null,ki=wn[--Rn],wn[Rn]=null}var Jt=null,Mt=null,Le=!1,Un=null,ui=!1,zh=Error(a(519));function _s(t){var n=Error(a(418,""));throw Mo(An(n,t)),zh}function Ap(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[At]=t,n[vt]=l,s){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(s=0;s<rl.length;s++)Oe(rl[s],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Oe("invalid",n),as(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ss(n);break;case"select":Oe("invalid",n);break;case"textarea":Oe("invalid",n),Er(n,l.value,l.defaultValue,l.children),ss(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||ky(n.textContent,s)?(l.popover!=null&&(Oe("beforetoggle",n),Oe("toggle",n)),l.onScroll!=null&&Oe("scroll",n),l.onScrollEnd!=null&&Oe("scrollend",n),l.onClick!=null&&(n.onclick=ic),n=!0):n=!1,n||_s(t)}function wp(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 3:case 27:ui=!0;return;case 5:case 13:ui=!1;return;default:Jt=Jt.return}}function Do(t){if(t!==Jt)return!1;if(!Le)return wp(t),Le=!0,!1;var n=!1,s;if((s=t.tag!==3&&t.tag!==27)&&((s=t.tag===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||od(t.type,t.memoizedProps)),s=!s),s&&(n=!0),n&&Mt&&_s(t),wp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){Mt=Bn(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}Mt=null}}else Mt=Jt?Bn(t.stateNode.nextSibling):null;return!0}function ko(){Mt=Jt=null,Le=!1}function Mo(t){Un===null?Un=[t]:Un.push(t)}var Vo=Error(a(460)),Rp=Error(a(474)),Bh={then:function(){}};function Cp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ru(){}function Ip(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Ru,Ru),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Vo?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Ru,Ru);else{if(t=Ke,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Vo?Error(a(483)):t}throw Po=n,Vo}}var Po=null;function xp(){if(Po===null)throw Error(a(459));var t=Po;return Po=null,t}var Sa=null,jo=0;function Cu(t){var n=jo;return jo+=1,Sa===null&&(Sa=[]),Ip(Sa,t,n)}function Lo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Iu(t,n){throw n.$$typeof===c?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Np(t){var n=t._init;return n(t._payload)}function Op(t){function n(P,k){if(t){var B=P.deletions;B===null?(P.deletions=[k],P.flags|=16):B.push(k)}}function s(P,k){if(!t)return null;for(;k!==null;)n(P,k),k=k.sibling;return null}function l(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function h(P,k){return P=Mr(P,k),P.index=0,P.sibling=null,P}function d(P,k,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<k?(P.flags|=33554434,k):B):(P.flags|=33554434,k)):(P.flags|=1048576,k)}function _(P){return t&&P.alternate===null&&(P.flags|=33554434),P}function T(P,k,B,X){return k===null||k.tag!==6?(k=Pf(B,P.mode,X),k.return=P,k):(k=h(k,B),k.return=P,k)}function R(P,k,B,X){var le=B.type;return le===p?$(P,k,B.props.children,X,B.key):k!==null&&(k.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===te&&Np(le)===k.type)?(k=h(k,B.props),Lo(k,B),k.return=P,k):(k=Ku(B.type,B.key,B.props,null,P.mode,X),Lo(k,B),k.return=P,k)}function V(P,k,B,X){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=jf(B,P.mode,X),k.return=P,k):(k=h(k,B.children||[]),k.return=P,k)}function $(P,k,B,X,le){return k===null||k.tag!==7?(k=xs(B,P.mode,X,le),k.return=P,k):(k=h(k,B),k.return=P,k)}function W(P,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Pf(""+k,P.mode,B),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case f:return B=Ku(k.type,k.key,k.props,null,P.mode,B),Lo(B,k),B.return=P,B;case m:return k=jf(k,P.mode,B),k.return=P,k;case te:var X=k._init;return k=X(k._payload),W(P,k,B)}if(se(k)||_e(k))return k=xs(k,P.mode,B,null),k.return=P,k;if(typeof k.then=="function")return W(P,Cu(k),B);if(k.$$typeof===j)return W(P,qu(P,k),B);Iu(P,k)}return null}function q(P,k,B,X){var le=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return le!==null?null:T(P,k,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===le?R(P,k,B,X):null;case m:return B.key===le?V(P,k,B,X):null;case te:return le=B._init,B=le(B._payload),q(P,k,B,X)}if(se(B)||_e(B))return le!==null?null:$(P,k,B,X,null);if(typeof B.then=="function")return q(P,k,Cu(B),X);if(B.$$typeof===j)return q(P,k,qu(P,B),X);Iu(P,B)}return null}function K(P,k,B,X,le){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(B)||null,T(k,P,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case f:return P=P.get(X.key===null?B:X.key)||null,R(k,P,X,le);case m:return P=P.get(X.key===null?B:X.key)||null,V(k,P,X,le);case te:var Ce=X._init;return X=Ce(X._payload),K(P,k,B,X,le)}if(se(X)||_e(X))return P=P.get(B)||null,$(k,P,X,le,null);if(typeof X.then=="function")return K(P,k,B,Cu(X),le);if(X.$$typeof===j)return K(P,k,B,qu(k,X),le);Iu(k,X)}return null}function fe(P,k,B,X){for(var le=null,Ce=null,pe=k,ve=k=0,xt=null;pe!==null&&ve<B.length;ve++){pe.index>ve?(xt=pe,pe=null):xt=pe.sibling;var Ue=q(P,pe,B[ve],X);if(Ue===null){pe===null&&(pe=xt);break}t&&pe&&Ue.alternate===null&&n(P,pe),k=d(Ue,k,ve),Ce===null?le=Ue:Ce.sibling=Ue,Ce=Ue,pe=xt}if(ve===B.length)return s(P,pe),Le&&vs(P,ve),le;if(pe===null){for(;ve<B.length;ve++)pe=W(P,B[ve],X),pe!==null&&(k=d(pe,k,ve),Ce===null?le=pe:Ce.sibling=pe,Ce=pe);return Le&&vs(P,ve),le}for(pe=l(pe);ve<B.length;ve++)xt=K(pe,P,ve,B[ve],X),xt!==null&&(t&&xt.alternate!==null&&pe.delete(xt.key===null?ve:xt.key),k=d(xt,k,ve),Ce===null?le=xt:Ce.sibling=xt,Ce=xt);return t&&pe.forEach(function(Br){return n(P,Br)}),Le&&vs(P,ve),le}function be(P,k,B,X){if(B==null)throw Error(a(151));for(var le=null,Ce=null,pe=k,ve=k=0,xt=null,Ue=B.next();pe!==null&&!Ue.done;ve++,Ue=B.next()){pe.index>ve?(xt=pe,pe=null):xt=pe.sibling;var Br=q(P,pe,Ue.value,X);if(Br===null){pe===null&&(pe=xt);break}t&&pe&&Br.alternate===null&&n(P,pe),k=d(Br,k,ve),Ce===null?le=Br:Ce.sibling=Br,Ce=Br,pe=xt}if(Ue.done)return s(P,pe),Le&&vs(P,ve),le;if(pe===null){for(;!Ue.done;ve++,Ue=B.next())Ue=W(P,Ue.value,X),Ue!==null&&(k=d(Ue,k,ve),Ce===null?le=Ue:Ce.sibling=Ue,Ce=Ue);return Le&&vs(P,ve),le}for(pe=l(pe);!Ue.done;ve++,Ue=B.next())Ue=K(pe,P,ve,Ue.value,X),Ue!==null&&(t&&Ue.alternate!==null&&pe.delete(Ue.key===null?ve:Ue.key),k=d(Ue,k,ve),Ce===null?le=Ue:Ce.sibling=Ue,Ce=Ue);return t&&pe.forEach(function(rS){return n(P,rS)}),Le&&vs(P,ve),le}function at(P,k,B,X){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:e:{for(var le=B.key;k!==null;){if(k.key===le){if(le=B.type,le===p){if(k.tag===7){s(P,k.sibling),X=h(k,B.props.children),X.return=P,P=X;break e}}else if(k.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===te&&Np(le)===k.type){s(P,k.sibling),X=h(k,B.props),Lo(X,B),X.return=P,P=X;break e}s(P,k);break}else n(P,k);k=k.sibling}B.type===p?(X=xs(B.props.children,P.mode,X,B.key),X.return=P,P=X):(X=Ku(B.type,B.key,B.props,null,P.mode,X),Lo(X,B),X.return=P,P=X)}return _(P);case m:e:{for(le=B.key;k!==null;){if(k.key===le)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){s(P,k.sibling),X=h(k,B.children||[]),X.return=P,P=X;break e}else{s(P,k);break}else n(P,k);k=k.sibling}X=jf(B,P.mode,X),X.return=P,P=X}return _(P);case te:return le=B._init,B=le(B._payload),at(P,k,B,X)}if(se(B))return fe(P,k,B,X);if(_e(B)){if(le=_e(B),typeof le!="function")throw Error(a(150));return B=le.call(B),be(P,k,B,X)}if(typeof B.then=="function")return at(P,k,Cu(B),X);if(B.$$typeof===j)return at(P,k,qu(P,B),X);Iu(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(s(P,k.sibling),X=h(k,B),X.return=P,P=X):(s(P,k),X=Pf(B,P.mode,X),X.return=P,P=X),_(P)):s(P,k)}return function(P,k,B,X){try{jo=0;var le=at(P,k,B,X);return Sa=null,le}catch(pe){if(pe===Vo)throw pe;var Ce=Nn(29,pe,null,P.mode);return Ce.lanes=X,Ce.return=P,Ce}finally{}}}var Es=Op(!0),Dp=Op(!1),Aa=Pe(null),xu=Pe(0);function kp(t,n){t=Gi,Be(xu,t),Be(Aa,n),Gi=t|n.baseLanes}function Hh(){Be(xu,Gi),Be(Aa,Aa.current)}function qh(){Gi=xu.current,nt(Aa),nt(xu)}var Cn=Pe(null),ci=null;function Sr(t){var n=t.alternate;Be(Tt,Tt.current&1),Be(Cn,t),ci===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(ci=t)}function Mp(t){if(t.tag===22){if(Be(Tt,Tt.current),Be(Cn,t),ci===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ci=t)}}else Ar()}function Ar(){Be(Tt,Tt.current),Be(Cn,Cn.current)}function Vi(t){nt(Cn),ci===t&&(ci=null),nt(Tt)}var Tt=Pe(0);function Nu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var GT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},KT=r.unstable_scheduleCallback,$T=r.unstable_NormalPriority,bt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new GT,data:new Map,refCount:0}}function Uo(t){t.refCount--,t.refCount===0&&KT($T,function(){t.controller.abort()})}var zo=null,Gh=0,wa=0,Ra=null;function YT(t,n){if(zo===null){var s=zo=[];Gh=0,wa=Wf(),Ra={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Gh++,n.then(Vp,Vp),n}function Vp(){if(--Gh===0&&zo!==null){Ra!==null&&(Ra.status="fulfilled");var t=zo;zo=null,wa=0,Ra=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function QT(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Pp=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&YT(t,n),Pp!==null&&Pp(t,n)};var Ts=Pe(null);function Kh(){var t=Ts.current;return t!==null?t:Ke.pooledCache}function Ou(t,n){n===null?Be(Ts,Ts.current):Be(Ts,n.pool)}function jp(){var t=Kh();return t===null?null:{parent:bt._currentValue,pool:t}}var wr=0,we=null,qe=null,ht=null,Du=!1,Ca=!1,bs=!1,ku=0,Bo=0,Ia=null,XT=0;function ut(){throw Error(a(321))}function $h(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!cn(t[s],n[s]))return!1;return!0}function Yh(t,n,s,l,h,d){return wr=d,we=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?Ss:Rr,bs=!1,d=s(l,h),bs=!1,Ca&&(d=Up(n,s,l,h)),Lp(t),d}function Lp(t){A.H=hi;var n=qe!==null&&qe.next!==null;if(wr=0,ht=qe=we=null,Du=!1,Bo=0,Ia=null,n)throw Error(a(300));t===null||Ct||(t=t.dependencies,t!==null&&Hu(t)&&(Ct=!0))}function Up(t,n,s,l){we=t;var h=0;do{if(Ca&&(Ia=null),Bo=0,Ca=!1,25<=h)throw Error(a(301));if(h+=1,ht=qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=As,d=n(s,l)}while(Ca);return d}function ZT(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?Ho(n):n,t=t.useState()[0],(qe!==null?qe.memoizedState:null)!==t&&(we.flags|=1024),n}function Qh(){var t=ku!==0;return ku=0,t}function Xh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Zh(t){if(Du){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Du=!1}wr=0,ht=qe=we=null,Ca=!1,Bo=ku=0,Ia=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?we.memoizedState=ht=t:ht=ht.next=t,ht}function ft(){if(qe===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var n=ht===null?we.memoizedState:ht.next;if(n!==null)ht=n,qe=t;else{if(t===null)throw we.alternate===null?Error(a(467)):Error(a(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},ht===null?we.memoizedState=ht=t:ht=ht.next=t}return ht}var Mu;Mu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ho(t){var n=Bo;return Bo+=1,Ia===null&&(Ia=[]),t=Ip(Ia,t,n),n=we,(ht===null?n.memoizedState:ht.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?Ss:Rr),t}function Vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ho(t);if(t.$$typeof===j)return qt(t)}throw Error(a(438,String(t)))}function Wh(t){var n=null,s=we.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Mu(),we.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=de;return n.index++,s}function Pi(t,n){return typeof n=="function"?n(t):n}function Pu(t){var n=ft();return Jh(n,qe,t)}function Jh(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var T=_=null,R=null,V=n,$=!1;do{var W=V.lane&-536870913;if(W!==V.lane?(Me&W)===W:(wr&W)===W){var q=V.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),W===wa&&($=!0);else if((wr&q)===q){V=V.next,q===wa&&($=!0);continue}else W={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(T=R=W,_=d):R=R.next=W,we.lanes|=q,Vr|=q;W=V.action,bs&&s(d,W),d=V.hasEagerState?V.eagerState:s(d,W)}else q={lane:W,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(T=R=q,_=d):R=R.next=q,we.lanes|=W,Vr|=W;V=V.next}while(V!==null&&V!==n);if(R===null?_=d:R.next=T,!cn(d,t.memoizedState)&&(Ct=!0,$&&(s=Ra,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ef(t){var n=ft(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);cn(d,n.memoizedState)||(Ct=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function zp(t,n,s){var l=we,h=ft(),d=Le;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=n();var _=!cn((qe||h).memoizedState,s);if(_&&(h.memoizedState=s,Ct=!0),h=h.queue,rf(qp.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||ht!==null&&ht.memoizedState.tag&1){if(l.flags|=2048,xa(9,Hp.bind(null,l,h,s,n),{destroy:void 0},null),Ke===null)throw Error(a(349));d||wr&60||Bp(l,n,s)}return s}function Bp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=we.updateQueue,n===null?(n=Mu(),we.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Hp(t,n,s,l){n.value=s,n.getSnapshot=l,Fp(n)&&Gp(t)}function qp(t,n,s){return s(function(){Fp(n)&&Gp(t)})}function Fp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!cn(t,s)}catch{return!0}}function Gp(t){var n=br(t,2);n!==null&&en(n,t,2)}function tf(t){var n=rn();if(typeof t=="function"){var s=t;if(t=s(),bs){Wn(!0);try{s()}finally{Wn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},n}function Kp(t,n,s,l){return t.baseState=s,Jh(t,qe,typeof l=="function"?l:Pi)}function WT(t,n,s,l,h){if(Uu(t))throw Error(a(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};A.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,$p(n,d)):(d.next=s.next,n.pending=s.next=d)}}function $p(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=A.T,_={};A.T=_;try{var T=s(h,l),R=A.S;R!==null&&R(_,T),Yp(t,n,T)}catch(V){nf(t,n,V)}finally{A.T=d}}else try{d=s(h,l),Yp(t,n,d)}catch(V){nf(t,n,V)}}function Yp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Qp(t,n,l)},function(l){return nf(t,n,l)}):Qp(t,n,s)}function Qp(t,n,s){n.status="fulfilled",n.value=s,Xp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,$p(t,s)))}function nf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Xp(n),n=n.next;while(n!==l)}t.action=null}function Xp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Zp(t,n){return n}function Wp(t,n){if(Le){var s=Ke.formState;if(s!==null){e:{var l=we;if(Le){if(Mt){t:{for(var h=Mt,d=ui;h.nodeType!==8;){if(!d){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Mt=Bn(h.nextSibling),l=h.data==="F!";break e}}_s(l)}l=!1}l&&(n=s[0])}}return s=rn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zp,lastRenderedState:n},s.queue=l,s=gg.bind(null,we,l),l.dispatch=s,l=tf(!1),d=uf.bind(null,we,!1,l.queue),l=rn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=WT.bind(null,we,h,d,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function Jp(t){var n=ft();return eg(n,qe,t)}function eg(t,n,s){n=Jh(t,n,Zp)[0],t=Pu(Pi)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Ho(n):n;var l=ft(),h=l.queue,d=h.dispatch;return s!==l.memoizedState&&(we.flags|=2048,xa(9,JT.bind(null,h,s),{destroy:void 0},null)),[n,d,t]}function JT(t,n){t.action=n}function tg(t){var n=ft(),s=qe;if(s!==null)return eg(n,s,t);ft(),n=n.memoizedState,s=ft();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function xa(t,n,s,l){return t={tag:t,create:n,inst:s,deps:l,next:null},n=we.updateQueue,n===null&&(n=Mu(),we.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function ng(){return ft().memoizedState}function ju(t,n,s,l){var h=rn();we.flags|=t,h.memoizedState=xa(1|n,s,{destroy:void 0},l===void 0?null:l)}function Lu(t,n,s,l){var h=ft();l=l===void 0?null:l;var d=h.memoizedState.inst;qe!==null&&l!==null&&$h(l,qe.memoizedState.deps)?h.memoizedState=xa(n,s,d,l):(we.flags|=t,h.memoizedState=xa(1|n,s,d,l))}function ig(t,n){ju(8390656,8,t,n)}function rf(t,n){Lu(2048,8,t,n)}function rg(t,n){return Lu(4,2,t,n)}function sg(t,n){return Lu(4,4,t,n)}function ag(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function og(t,n,s){s=s!=null?s.concat([t]):null,Lu(4,4,ag.bind(null,n,t),s)}function sf(){}function lg(t,n){var s=ft();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&$h(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function ug(t,n){var s=ft();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&$h(n,l[1]))return l[0];if(l=t(),bs){Wn(!0);try{t()}finally{Wn(!1)}}return s.memoizedState=[l,n],l}function af(t,n,s){return s===void 0||wr&1073741824?t.memoizedState=n:(t.memoizedState=s,t=hy(),we.lanes|=t,Vr|=t,s)}function cg(t,n,s,l){return cn(s,n)?s:Aa.current!==null?(t=af(t,s,l),cn(t,n)||(Ct=!0),t):wr&42?(t=hy(),we.lanes|=t,Vr|=t,n):(Ct=!0,t.memoizedState=s)}function hg(t,n,s,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=A.T,T={};A.T=T,uf(t,!1,n,s);try{var R=h(),V=A.S;if(V!==null&&V(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var $=QT(R,l);qo(t,n,$,mn(t))}else qo(t,n,l,mn(t))}catch(W){qo(t,n,{then:function(){},status:"rejected",reason:W},mn())}finally{ae.p=d,A.T=_}}function eb(){}function of(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=fg(t).queue;hg(t,h,n,oe,s===null?eb:function(){return dg(t),s(l)})}function fg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:oe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function dg(t){var n=fg(t).next.queue;qo(t,n,{},mn())}function lf(){return qt(ul)}function mg(){return ft().memoizedState}function pg(){return ft().memoizedState}function tb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=mn();t=xr(s);var l=Nr(n,t,s);l!==null&&(en(l,n,s),Ko(l,n,s)),n={cache:Fh()},t.payload=n;return}n=n.return}}function nb(t,n,s){var l=mn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Uu(t)?yg(n,s):(s=jh(t,n,s,l),s!==null&&(en(s,t,l),vg(s,n,l)))}function gg(t,n,s){var l=mn();qo(t,n,s,l)}function qo(t,n,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Uu(t))yg(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,cn(T,_))return bu(t,n,h,0),Ke===null&&Tu(),!1}catch{}finally{}if(s=jh(t,n,h,l),s!==null)return en(s,t,l),vg(s,n,l),!0}return!1}function uf(t,n,s,l){if(l={lane:2,revertLane:Wf(),action:l,hasEagerState:!1,eagerState:null,next:null},Uu(t)){if(n)throw Error(a(479))}else n=jh(t,s,l,2),n!==null&&en(n,t,2)}function Uu(t){var n=t.alternate;return t===we||n!==null&&n===we}function yg(t,n){Ca=Du=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function vg(t,n,s){if(s&4194176){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,fr(t,s)}}var hi={readContext:qt,use:Vu,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut};hi.useCacheRefresh=ut,hi.useMemoCache=ut,hi.useHostTransitionStatus=ut,hi.useFormState=ut,hi.useActionState=ut,hi.useOptimistic=ut;var Ss={readContext:qt,use:Vu,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:ig,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,ju(4194308,4,ag.bind(null,n,t),s)},useLayoutEffect:function(t,n){return ju(4194308,4,t,n)},useInsertionEffect:function(t,n){ju(4,2,t,n)},useMemo:function(t,n){var s=rn();n=n===void 0?null:n;var l=t();if(bs){Wn(!0);try{t()}finally{Wn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=rn();if(s!==void 0){var h=s(n);if(bs){Wn(!0);try{s(n)}finally{Wn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=nb.bind(null,we,t),[l.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=tf(t);var n=t.queue,s=gg.bind(null,we,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:sf,useDeferredValue:function(t,n){var s=rn();return af(s,t,n)},useTransition:function(){var t=tf(!1);return t=hg.bind(null,we,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=we,h=rn();if(Le){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Ke===null)throw Error(a(349));Me&60||Bp(l,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,ig(qp.bind(null,l,d,t),[t]),l.flags|=2048,xa(9,Hp.bind(null,l,d,s,n),{destroy:void 0},null),s},useId:function(){var t=rn(),n=Ke.identifierPrefix;if(Le){var s=Mi,l=ki;s=(l&~(1<<32-Xt(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=ku++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=XT++,n=":"+n+"r"+s.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return rn().memoizedState=tb.bind(null,we)}};Ss.useMemoCache=Wh,Ss.useHostTransitionStatus=lf,Ss.useFormState=Wp,Ss.useActionState=Wp,Ss.useOptimistic=function(t){var n=rn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=uf.bind(null,we,!0,s),s.dispatch=n,[t,n]};var Rr={readContext:qt,use:Vu,useCallback:lg,useContext:qt,useEffect:rf,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:sg,useMemo:ug,useReducer:Pu,useRef:ng,useState:function(){return Pu(Pi)},useDebugValue:sf,useDeferredValue:function(t,n){var s=ft();return cg(s,qe.memoizedState,t,n)},useTransition:function(){var t=Pu(Pi)[0],n=ft().memoizedState;return[typeof t=="boolean"?t:Ho(t),n]},useSyncExternalStore:zp,useId:mg};Rr.useCacheRefresh=pg,Rr.useMemoCache=Wh,Rr.useHostTransitionStatus=lf,Rr.useFormState=Jp,Rr.useActionState=Jp,Rr.useOptimistic=function(t,n){var s=ft();return Kp(s,qe,t,n)};var As={readContext:qt,use:Vu,useCallback:lg,useContext:qt,useEffect:rf,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:sg,useMemo:ug,useReducer:ef,useRef:ng,useState:function(){return ef(Pi)},useDebugValue:sf,useDeferredValue:function(t,n){var s=ft();return qe===null?af(s,t,n):cg(s,qe.memoizedState,t,n)},useTransition:function(){var t=ef(Pi)[0],n=ft().memoizedState;return[typeof t=="boolean"?t:Ho(t),n]},useSyncExternalStore:zp,useId:mg};As.useCacheRefresh=pg,As.useMemoCache=Wh,As.useHostTransitionStatus=lf,As.useFormState=tg,As.useActionState=tg,As.useOptimistic=function(t,n){var s=ft();return qe!==null?Kp(s,qe,t,n):(s.baseState=t,[t,s.queue.dispatch])};function cf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:I({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var hf={isMounted:function(t){return(t=t._reactInternals)?me(t)===t:!1},enqueueSetState:function(t,n,s){t=t._reactInternals;var l=mn(),h=xr(l);h.payload=n,s!=null&&(h.callback=s),n=Nr(t,h,l),n!==null&&(en(n,t,l),Ko(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=mn(),h=xr(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Nr(t,h,l),n!==null&&(en(n,t,l),Ko(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=mn(),l=xr(s);l.tag=2,n!=null&&(l.callback=n),n=Nr(t,l,s),n!==null&&(en(n,t,s),Ko(n,t,s))}};function _g(t,n,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):n.prototype&&n.prototype.isPureReactComponent?!No(s,l)||!No(h,d):!0}function Eg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&hf.enqueueReplaceState(n,n.state,null)}function ws(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=I({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Tg(t){zu(t)}function bg(t){console.error(t)}function Sg(t){zu(t)}function Bu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ag(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ff(t,n,s){return s=xr(s),s.tag=3,s.payload={element:null},s.callback=function(){Bu(t,n)},s}function wg(t){return t=xr(t),t.tag=3,t}function Rg(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ag(n,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ag(n,s,l),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ib(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Go(n,s,h,!0),s=Cn.current,s!==null){switch(s.tag){case 13:return ci===null?$f():s.alternate===null&&st===0&&(st=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Bh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Qf(t,l,h)),!1;case 22:return s.flags|=65536,l===Bh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Qf(t,l,h)),!1}throw Error(a(435,s.tag))}return Qf(t,l,h),$f(),!1}if(Le)return n=Cn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==zh&&(t=Error(a(422),{cause:l}),Mo(An(t,s)))):(l!==zh&&(n=Error(a(423),{cause:l}),Mo(An(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=An(l,s),h=ff(t.stateNode,l,h),Cf(t,h),st!==4&&(st=2)),!1;var d=Error(a(520),{cause:l});if(d=An(d,s),el===null?el=[d]:el.push(d),st!==4&&(st=2),n===null)return!0;l=An(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=ff(s.stateNode,l,t),Cf(s,t),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=wg(h),Rg(h,t,s,l),Cf(s,h),!1}s=s.return}while(s!==null);return!1}var Cg=Error(a(461)),Ct=!1;function Vt(t,n,s,l){n.child=t===null?Dp(n,null,s,l):Es(n,t.child,s,l)}function Ig(t,n,s,l,h){s=s.render;var d=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Cs(n),l=Yh(t,n,s,_,d,h),T=Qh(),t!==null&&!Ct?(Xh(t,n,h),ji(t,n,h)):(Le&&T&&Lh(n),n.flags|=1,Vt(t,n,l,h),n.child)}function xg(t,n,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,Ng(t,n,d,l,h)):(t=Ku(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Tf(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:No,s(_,l)&&t.ref===n.ref)return ji(t,n,h)}return n.flags|=1,t=Mr(d,l),t.ref=n.ref,t.return=n,n.child=t}function Ng(t,n,s,l,h){if(t!==null){var d=t.memoizedProps;if(No(d,l)&&t.ref===n.ref)if(Ct=!1,n.pendingProps=l=d,Tf(t,h))t.flags&131072&&(Ct=!0);else return n.lanes=t.lanes,ji(t,n,h)}return df(t,n,s,l,h)}function Og(t,n,s){var l=n.pendingProps,h=l.children,d=(n.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(Fo(t,n),l.mode==="hidden"||d){if(n.flags&128){if(l=_!==null?_.baseLanes|s:s,t!==null){for(h=n.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return Dg(t,n,l,s)}if(s&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(n,_!==null?_.cachePool:null),_!==null?kp(n,_):Hh(),Mp(n);else return n.lanes=n.childLanes=536870912,Dg(t,n,_!==null?_.baseLanes|s:s,s)}else _!==null?(Ou(n,_.cachePool),kp(n,_),Ar(),n.memoizedState=null):(t!==null&&Ou(n,null),Hh(),Ar());return Vt(t,n,h,s),n.child}function Dg(t,n,s,l){var h=Kh();return h=h===null?null:{parent:bt._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},t!==null&&Ou(n,null),Hh(),Mp(n),t!==null&&Go(t,n,l,!0),null}function Fo(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=2097664)}}function df(t,n,s,l,h){return Cs(n),s=Yh(t,n,s,l,void 0,h),l=Qh(),t!==null&&!Ct?(Xh(t,n,h),ji(t,n,h)):(Le&&l&&Lh(n),n.flags|=1,Vt(t,n,s,h),n.child)}function kg(t,n,s,l,h,d){return Cs(n),n.updateQueue=null,s=Up(n,l,s,h),Lp(t),l=Qh(),t!==null&&!Ct?(Xh(t,n,d),ji(t,n,d)):(Le&&l&&Lh(n),n.flags|=1,Vt(t,n,s,d),n.child)}function Mg(t,n,s,l,h){if(Cs(n),n.stateNode===null){var d=Ea,_=s.contextType;typeof _=="object"&&_!==null&&(d=qt(_)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},wf(n),_=s.contextType,d.context=typeof _=="object"&&_!==null?qt(_):Ea,d.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(cf(n,s,_,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&hf.enqueueReplaceState(d,d.state,null),Yo(n,l,d,h),$o(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,R=ws(s,T);d.props=R;var V=d.context,$=s.contextType;_=Ea,typeof $=="object"&&$!==null&&(_=qt($));var W=s.getDerivedStateFromProps;$=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||V!==_)&&Eg(n,d,l,_),Ir=!1;var q=n.memoizedState;d.state=q,Yo(n,l,d,h),$o(),V=n.memoizedState,T||q!==V||Ir?(typeof W=="function"&&(cf(n,s,W,l),V=n.memoizedState),(R=Ir||_g(n,s,R,l,q,V,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=V),d.props=l,d.state=V,d.context=_,l=R):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Rf(t,n),_=n.memoizedProps,$=ws(s,_),d.props=$,W=n.pendingProps,q=d.context,V=s.contextType,R=Ea,typeof V=="object"&&V!==null&&(R=qt(V)),T=s.getDerivedStateFromProps,(V=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||q!==R)&&Eg(n,d,l,R),Ir=!1,q=n.memoizedState,d.state=q,Yo(n,l,d,h),$o();var K=n.memoizedState;_!==W||q!==K||Ir||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof T=="function"&&(cf(n,s,T,l),K=n.memoizedState),($=Ir||_g(n,s,$,l,q,K,R)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(V||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,R)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),d.props=l,d.state=K,d.context=R,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Fo(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Es(n,t.child,null,h),n.child=Es(n,null,s,h)):Vt(t,n,s,h),n.memoizedState=d.state,t=n.child):t=ji(t,n,h),t}function Vg(t,n,s,l){return ko(),n.flags|=256,Vt(t,n,s,l),n.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function pf(t){return{baseLanes:t,cachePool:jp()}}function gf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=On),t}function Pg(t,n,s){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Le){if(h?Sr(n):Ar(),Le){var T=Mt,R;if(R=T){e:{for(R=T,T=ui;R.nodeType!==8;){if(!T){T=null;break e}if(R=Bn(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(n.memoizedState={dehydrated:T,treeContext:ys!==null?{id:ki,overflow:Mi}:null,retryLane:536870912},R=Nn(18,null,null,0),R.stateNode=T,R.return=n,n.child=R,Jt=n,Mt=null,R=!0):R=!1}R||_s(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?n.lanes=16:n.lanes=536870912,null;Vi(n)}return T=l.children,l=l.fallback,h?(Ar(),h=n.mode,T=vf({mode:"hidden",children:T},h),l=xs(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=pf(s),h.childLanes=gf(t,_,s),n.memoizedState=mf,l):(Sr(n),yf(n,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)n.flags&256?(Sr(n),n.flags&=-257,n=_f(t,n,s)):n.memoizedState!==null?(Ar(),n.child=t.child,n.flags|=128,n=null):(Ar(),h=l.fallback,T=n.mode,l=vf({mode:"visible",children:l.children},T),h=xs(h,T,s,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,Es(n,t.child,null,s),l=n.child,l.memoizedState=pf(s),l.childLanes=gf(t,_,s),n.memoizedState=mf,n=h);else if(Sr(n),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var V=_.dgst;_=V,l=Error(a(419)),l.stack="",l.digest=_,Mo({value:l,source:null,stack:null}),n=_f(t,n,s)}else if(Ct||Go(t,n,s,!1),_=(s&t.childLanes)!==0,Ct||_){if(_=Ke,_!==null){if(l=s&-s,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(_.suspendedLanes|s)?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,br(t,l),en(_,t,l),Cg}T.data==="$?"||$f(),n=_f(t,n,s)}else T.data==="$?"?(n.flags|=128,n.child=t.child,n=vb.bind(null,t),T._reactRetry=n,n=null):(t=R.treeContext,Mt=Bn(T.nextSibling),Jt=n,Le=!0,Un=null,ui=!1,t!==null&&(wn[Rn++]=ki,wn[Rn++]=Mi,wn[Rn++]=ys,ki=t.id,Mi=t.overflow,ys=n),n=yf(n,l.children),n.flags|=4096);return n}return h?(Ar(),h=l.fallback,T=n.mode,R=t.child,V=R.sibling,l=Mr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,V!==null?h=Mr(V,h):(h=xs(h,T,s,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=pf(s):(R=T.cachePool,R!==null?(V=bt._currentValue,R=R.parent!==V?{parent:V,pool:V}:R):R=jp(),T={baseLanes:T.baseLanes|s,cachePool:R}),h.memoizedState=T,h.childLanes=gf(t,_,s),n.memoizedState=mf,l):(Sr(n),s=t.child,t=s.sibling,s=Mr(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=s,n.memoizedState=null,s)}function yf(t,n){return n=vf({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function vf(t,n){return ly(t,n,0,null)}function _f(t,n,s){return Es(n,t.child,null,s),t=yf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function jg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Sf(t.return,n,s)}function Ef(t,n,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function Lg(t,n,s){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(Vt(t,n,l.children,s),l=Tt.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jg(t,s,n);else if(t.tag===19)jg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Be(Tt,l),h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Nu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Ef(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Nu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Ef(n,!0,s,null,d);break;case"together":Ef(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ji(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Vr|=n.lanes,!(s&n.childLanes))if(t!==null){if(Go(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Mr(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Mr(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Tf(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function rb(t,n,s){switch(n.tag){case 3:ar(n,n.stateNode.containerInfo),Cr(n,bt,t.memoizedState.cache),ko();break;case 27:case 5:lo(n);break;case 4:ar(n,n.stateNode.containerInfo);break;case 10:Cr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Sr(n),n.flags|=128,null):s&n.child.childLanes?Pg(t,n,s):(Sr(n),t=ji(t,n,s),t!==null?t.sibling:null);Sr(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Go(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Lg(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Be(Tt,Tt.current),l)break;return null;case 22:case 23:return n.lanes=0,Og(t,n,s);case 24:Cr(n,bt,t.memoizedState.cache)}return ji(t,n,s)}function Ug(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ct=!0;else{if(!Tf(t,s)&&!(n.flags&128))return Ct=!1,rb(t,n,s);Ct=!!(t.flags&131072)}else Ct=!1,Le&&n.flags&1048576&&Sp(n,wu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Vf(l)?(t=ws(l,t),n.tag=1,n=Mg(null,n,l,t,s)):(n.tag=0,n=df(null,n,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===z){n.tag=11,n=Ig(null,n,l,t,s);break e}else if(h===Q){n.tag=14,n=xg(null,n,l,t,s);break e}}throw n=w(l)||l,Error(a(306,n,""))}}return n;case 0:return df(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=ws(l,n.pendingProps),Mg(t,n,l,h,s);case 3:e:{if(ar(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var d=n.pendingProps;h=n.memoizedState,l=h.element,Rf(t,n),Yo(n,d,null,s);var _=n.memoizedState;if(d=_.cache,Cr(n,bt,d),d!==h.cache&&Af(n,[bt],s,!0),$o(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Vg(t,n,d,s);break e}else if(d!==l){l=An(Error(a(424)),n),Mo(l),n=Vg(t,n,d,s);break e}else for(Mt=Bn(n.stateNode.containerInfo.firstChild),Jt=n,Le=!0,Un=null,ui=!0,s=Dp(n,null,d,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ko(),d===l){n=ji(t,n,s);break e}Vt(t,n,d,s)}n=n.child}return n;case 26:return Fo(t,n),t===null?(s=Hy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Le||(s=n.type,t=n.pendingProps,l=rc(gn.current).createElement(s),l[At]=n,l[vt]=t,Pt(l,s,t),We(l),n.stateNode=l):n.memoizedState=Hy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return lo(n),t===null&&Le&&(l=n.stateNode=Uy(n.type,n.pendingProps,gn.current),Jt=n,ui=!0,Mt=Bn(l.firstChild)),l=n.pendingProps.children,t!==null||Le?Vt(t,n,l,s):n.child=Es(n,null,l,s),Fo(t,n),n.child;case 5:return t===null&&Le&&((h=l=Mt)&&(l=Mb(l,n.type,n.pendingProps,ui),l!==null?(n.stateNode=l,Jt=n,Mt=Bn(l.firstChild),ui=!1,h=!0):h=!1),h||_s(n)),lo(n),h=n.type,d=n.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,od(h,d)?l=null:_!==null&&od(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Yh(t,n,ZT,null,null,s),ul._currentValue=h),Fo(t,n),Vt(t,n,l,s),n.child;case 6:return t===null&&Le&&((t=s=Mt)&&(s=Vb(s,n.pendingProps,ui),s!==null?(n.stateNode=s,Jt=n,Mt=null,t=!0):t=!1),t||_s(n)),null;case 13:return Pg(t,n,s);case 4:return ar(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Es(n,null,l,s):Vt(t,n,l,s),n.child;case 11:return Ig(t,n,n.type,n.pendingProps,s);case 7:return Vt(t,n,n.pendingProps,s),n.child;case 8:return Vt(t,n,n.pendingProps.children,s),n.child;case 12:return Vt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Cr(n,n.type,l.value),Vt(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Cs(n),h=qt(h),l=l(h),n.flags|=1,Vt(t,n,l,s),n.child;case 14:return xg(t,n,n.type,n.pendingProps,s);case 15:return Ng(t,n,n.type,n.pendingProps,s);case 19:return Lg(t,n,s);case 22:return Og(t,n,s);case 24:return Cs(n),l=qt(bt),t===null?(h=Kh(),h===null&&(h=Ke,d=Fh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:l,cache:h},wf(n),Cr(n,bt,h)):(t.lanes&s&&(Rf(t,n),Yo(n,null,null,s),$o()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Cr(n,bt,l)):(l=d.cache,Cr(n,bt,l),l!==h.cache&&Af(n,[bt],s,!0))),Vt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var bf=Pe(null),Rs=null,Li=null;function Cr(t,n,s){Be(bf,n._currentValue),n._currentValue=s}function Ui(t){t._currentValue=bf.current,nt(bf)}function Sf(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Af(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Sf(d.return,s,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Sf(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Go(t,n,s,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;cn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===sr.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ul):t=[ul])}h=h.return}t!==null&&Af(n,t,s,l),n.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cs(t){Rs=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return zg(Rs,t)}function qu(t,n){return Rs===null&&Cs(t),zg(t,n)}function zg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Li===null){if(t===null)throw Error(a(308));Li=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Li=Li.next=n;return s}var Ir=!1;function wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function xr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,et&2){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Su(t),Tp(t,null,s),n}return bu(t,l,n,s),Su(t)}function Ko(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,fr(t,s)}}function Cf(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var If=!1;function $o(){if(If){var t=Ra;if(t!==null)throw t}}function Yo(t,n,s,l){If=!1;var h=t.updateQueue;Ir=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,V=R.next;R.next=null,_===null?d=V:_.next=V,_=R;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==_&&(T===null?$.firstBaseUpdate=V:T.next=V,$.lastBaseUpdate=R))}if(d!==null){var W=h.baseState;_=0,$=V=R=null,T=d;do{var q=T.lane&-536870913,K=q!==T.lane;if(K?(Me&q)===q:(l&q)===q){q!==0&&q===wa&&(If=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,be=T;q=n;var at=s;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){W=fe.call(at,W,q);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,q=typeof fe=="function"?fe.call(at,W,q):fe,q==null)break e;W=I({},W,q);break e;case 2:Ir=!0}}q=T.callback,q!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[q]:K.push(q))}else K={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(V=$=K,R=W):$=$.next=K,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);$===null&&(R=W),h.baseState=R,h.firstBaseUpdate=V,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Vr|=_,t.lanes=_,t.memoizedState=W}}function Bg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Hg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Bg(s[t],n)}function Qo(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){Ge(n,n.return,T)}}function Or(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var R=s;try{T()}catch(V){Ge(h,R,V)}}}l=l.next}while(l!==d)}}catch(V){Ge(n,n.return,V)}}function qg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Hg(n,s)}catch(l){Ge(t,t.return,l)}}}function Fg(t,n,s){s.props=ws(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ge(t,n,l)}}function Is(t,n){try{var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof s=="function"?t.refCleanup=s(h):s.current=h}}catch(d){Ge(t,n,d)}}function hn(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Ge(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ge(t,n,h)}else s.current=null}function Gg(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Ge(t,t.return,h)}}function Kg(t,n,s){try{var l=t.stateNode;xb(l,t.type,s,n),l[vt]=n}catch(h){Ge(t,t.return,h)}}function $g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(t,s)):(n=s,n.appendChild(t)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ic));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Nf(t,n,s),t=t.sibling;t!==null;)Nf(t,n,s),t=t.sibling}function Fu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Fu(t,n,s),t=t.sibling;t!==null;)Fu(t,n,s),t=t.sibling}var zi=!1,rt=!1,Of=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,It=null,Qg=!1;function sb(t,n){if(t=t.containerInfo,sd=cc,t=fp(t),Dh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,T=-1,R=-1,V=0,$=0,W=t,q=null;t:for(;;){for(var K;W!==s||h!==0&&W.nodeType!==3||(T=_+h),W!==d||l!==0&&W.nodeType!==3||(R=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(K=W.firstChild)!==null;)q=W,W=K;for(;;){if(W===t)break t;if(q===s&&++V===h&&(T=_),q===d&&++$===l&&(R=_),(K=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=K}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(ad={focusedElem:t,selectionRange:s},cc=!1,It=n;It!==null;)if(n=It,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,It=t;else for(;It!==null;){switch(n=It,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var fe=ws(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){Ge(s,s.return,be)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)cd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,It=t;break}It=n.return}return fe=Qg,Qg=!1,fe}function Xg(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(t,s),l&4&&Qo(5,s);break;case 1:if(Hi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(T){Ge(s,s.return,T)}else{var h=ws(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Ge(s,s.return,T)}}l&64&&qg(s),l&512&&Is(s,s.return);break;case 3:if(Hi(t,s),l&64&&(l=s.updateQueue,l!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Hg(l,t)}catch(T){Ge(s,s.return,T)}}break;case 26:Hi(t,s),l&512&&Is(s,s.return);break;case 27:case 5:Hi(t,s),n===null&&l&4&&Gg(s),l&512&&Is(s,s.return);break;case 12:Hi(t,s);break;case 13:Hi(t,s),l&4&&Jg(t,s);break;case 22:if(h=s.memoizedState!==null||zi,!h){n=n!==null&&n.memoizedState!==null||rt;var d=zi,_=rt;zi=h,(rt=n)&&!_?Dr(t,s,(s.subtreeFlags&8772)!==0):Hi(t,s),zi=d,rt=_}l&512&&(s.memoizedProps.mode==="manual"?Is(s,s.return):hn(s,s.return));break;default:Hi(t,s)}}function Zg(t){var n=t.alternate;n!==null&&(t.alternate=null,Zg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&rs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,fn=!1;function Bi(t,n,s){for(s=s.child;s!==null;)Wg(t,n,s),s=s.sibling}function Wg(t,n,s){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(or,s)}catch{}switch(s.tag){case 26:rt||hn(s,n),Bi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:rt||hn(s,n);var l=dt,h=fn;for(dt=s.stateNode,Bi(t,n,s),s=s.stateNode,n=s.attributes;n.length;)s.removeAttributeNode(n[0]);rs(s),dt=l,fn=h;break;case 5:rt||hn(s,n);case 6:h=dt;var d=fn;if(dt=null,Bi(t,n,s),dt=h,fn=d,dt!==null)if(fn)try{t=dt,l=s.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){Ge(s,n,_)}else try{dt.removeChild(s.stateNode)}catch(_){Ge(s,n,_)}break;case 18:dt!==null&&(fn?(n=dt,s=s.stateNode,n.nodeType===8?ud(n.parentNode,s):n.nodeType===1&&ud(n,s),dl(n)):ud(dt,s.stateNode));break;case 4:l=dt,h=fn,dt=s.stateNode.containerInfo,fn=!0,Bi(t,n,s),dt=l,fn=h;break;case 0:case 11:case 14:case 15:rt||Or(2,s,n),rt||Or(4,s,n),Bi(t,n,s);break;case 1:rt||(hn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Fg(s,n,l)),Bi(t,n,s);break;case 21:Bi(t,n,s);break;case 22:rt||hn(s,n),rt=(l=rt)||s.memoizedState!==null,Bi(t,n,s),rt=l;break;default:Bi(t,n,s)}}function Jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{dl(t)}catch(s){Ge(n,n.return,s)}}function ab(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Yg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Yg),n;default:throw Error(a(435,t.tag))}}function Df(t,n){var s=ab(t);n.forEach(function(l){var h=_b.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function In(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=n,T=_;e:for(;T!==null;){switch(T.tag){case 27:case 5:dt=T.stateNode,fn=!1;break e;case 3:dt=T.stateNode.containerInfo,fn=!0;break e;case 4:dt=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(dt===null)throw Error(a(160));Wg(d,_,h),dt=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ey(n,t),n=n.sibling}var zn=null;function ey(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:In(n,t),xn(t),l&4&&(Or(3,t,t.return),Qo(3,t),Or(5,t,t.return));break;case 1:In(n,t),xn(t),l&512&&(rt||s===null||hn(s,s.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=zn;if(In(n,t),xn(t),l&512&&(rt||s===null||hn(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[mr]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Pt(d,l,s),d[At]=t,We(d),l=d;break e;case"link":var _=Gy("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Pt(d,l,s),h.head.appendChild(d);break;case"meta":if(_=Gy("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Pt(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[At]=t,We(d),l=d}t.stateNode=l}else Ky(h,t.type,t.stateNode);else t.stateNode=Fy(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Ky(h,t.type,t.stateNode):Fy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kg(t,t.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var R=h.firstChild;R;){var V=R.nextSibling,$=R.nodeName;R[mr]||$==="HEAD"||$==="BODY"||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=V}for(var W=t.type,q=h.attributes;q.length;)h.removeAttributeNode(q[0]);Pt(h,W,d),h[At]=t,h[vt]=d}catch(fe){Ge(t,t.return,fe)}}case 5:if(In(n,t),xn(t),l&512&&(rt||s===null||hn(s,s.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(fe){Ge(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Kg(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Of=!0);break;case 6:if(In(n,t),xn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(fe){Ge(t,t.return,fe)}}break;case 3:if(oc=null,h=zn,zn=sc(n.containerInfo),In(n,t),zn=h,xn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{dl(n.containerInfo)}catch(fe){Ge(t,t.return,fe)}Of&&(Of=!1,ty(t));break;case 4:l=zn,zn=sc(t.stateNode.containerInfo),In(n,t),xn(t),zn=l;break;case 12:In(n,t),xn(t);break;case 13:In(n,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Bf=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Df(t,l)));break;case 22:if(l&512&&(rt||s===null||hn(s,s.return)),R=t.memoizedState!==null,V=s!==null&&s.memoizedState!==null,$=zi,W=rt,zi=$||R,rt=W||V,In(n,t),rt=W,zi=$,xn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=R?n._visibility&-2:n._visibility|1,R&&(n=zi||rt,s===null||V||n||Na(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(s=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(s===null){V=s=n;try{if(h=V.stateNode,R)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=V.stateNode,T=V.memoizedProps.style;var K=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(fe){Ge(V,V.return,fe)}}}else if(n.tag===6){if(s===null){V=n;try{V.stateNode.nodeValue=R?"":V.memoizedProps}catch(fe){Ge(V,V.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Df(t,s))));break;case 19:In(n,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Df(t,l)));break;case 21:break;default:In(n,t),xn(t)}}function xn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){e:{for(var s=t.return;s!==null;){if($g(s)){var l=s;break e}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var h=l.stateNode,d=xf(t);Fu(t,d,h);break;case 5:var _=l.stateNode;l.flags&32&&(_n(_,""),l.flags&=-33);var T=xf(t);Fu(t,T,_);break;case 3:case 4:var R=l.stateNode.containerInfo,V=xf(t);Nf(t,V,R);break;default:throw Error(a(161))}}}catch($){Ge(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ty(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Hi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(t,n.alternate,n),n=n.sibling}function Na(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Or(4,n,n.return),Na(n);break;case 1:hn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Fg(n,n.return,s),Na(n);break;case 26:case 27:case 5:hn(n,n.return),Na(n);break;case 22:hn(n,n.return),n.memoizedState===null&&Na(n);break;default:Na(n)}t=t.sibling}}function Dr(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:Dr(h,d,s),Qo(4,d);break;case 1:if(Dr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(V){Ge(l,l.return,V)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Bg(R[h],T)}catch(V){Ge(l,l.return,V)}}s&&_&64&&qg(d),Is(d,d.return);break;case 26:case 27:case 5:Dr(h,d,s),s&&l===null&&_&4&&Gg(d),Is(d,d.return);break;case 12:Dr(h,d,s);break;case 13:Dr(h,d,s),s&&_&4&&Jg(h,d);break;case 22:d.memoizedState===null&&Dr(h,d,s),Is(d,d.return);break;default:Dr(h,d,s)}n=n.sibling}}function kf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Uo(s))}function Mf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Uo(t))}function kr(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ny(t,n,s,l),n=n.sibling}function ny(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:kr(t,n,s,l),h&2048&&Qo(9,n);break;case 3:kr(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Uo(t)));break;case 12:if(h&2048){kr(t,n,s,l),t=n.stateNode;try{var d=n.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ge(n,n.return,R)}}else kr(t,n,s,l);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?kr(t,n,s,l):Xo(t,n):d._visibility&4?kr(t,n,s,l):(d._visibility|=4,Oa(t,n,s,l,(n.subtreeFlags&10256)!==0)),h&2048&&kf(n.alternate,n);break;case 24:kr(t,n,s,l),h&2048&&Mf(n.alternate,n);break;default:kr(t,n,s,l)}}function Oa(t,n,s,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,_=n,T=s,R=l,V=_.flags;switch(_.tag){case 0:case 11:case 15:Oa(d,_,T,R,h),Qo(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&4?Oa(d,_,T,R,h):Xo(d,_):($._visibility|=4,Oa(d,_,T,R,h)),h&&V&2048&&kf(_.alternate,_);break;case 24:Oa(d,_,T,R,h),h&&V&2048&&Mf(_.alternate,_);break;default:Oa(d,_,T,R,h)}n=n.sibling}}function Xo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:Xo(s,l),h&2048&&kf(l.alternate,l);break;case 24:Xo(s,l),h&2048&&Mf(l.alternate,l);break;default:Xo(s,l)}n=n.sibling}}var Zo=8192;function Da(t){if(t.subtreeFlags&Zo)for(t=t.child;t!==null;)iy(t),t=t.sibling}function iy(t){switch(t.tag){case 26:Da(t),t.flags&Zo&&t.memoizedState!==null&&Yb(zn,t.memoizedState,t.memoizedProps);break;case 5:Da(t);break;case 3:case 4:var n=zn;zn=sc(t.stateNode.containerInfo),Da(t),zn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Zo,Zo=16777216,Da(t),Zo=n):Da(t));break;default:Da(t)}}function ry(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Wo(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];It=l,ay(l,t)}ry(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sy(t),t=t.sibling}function sy(t){switch(t.tag){case 0:case 11:case 15:Wo(t),t.flags&2048&&Or(9,t,t.return);break;case 3:Wo(t);break;case 12:Wo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Gu(t)):Wo(t);break;default:Wo(t)}}function Gu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];It=l,ay(l,t)}ry(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Or(8,n,n.return),Gu(n);break;case 22:s=n.stateNode,s._visibility&4&&(s._visibility&=-5,Gu(n));break;default:Gu(n)}t=t.sibling}}function ay(t,n){for(;It!==null;){var s=It;switch(s.tag){case 0:case 11:case 15:Or(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Uo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,It=l;else e:for(s=t;It!==null;){l=It;var h=l.sibling,d=l.return;if(Zg(l),l===s){It=null;break e}if(h!==null){h.return=d,It=h;break e}It=d}}}function ob(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,n,s,l){return new ob(t,n,s,l)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mr(t,n){var s=t.alternate;return s===null?(s=Nn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&31457280,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function oy(t,n){t.flags&=31457282;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ku(t,n,s,l,h,d){var _=0;if(l=t,typeof t=="function")Vf(t)&&(_=1);else if(typeof t=="string")_=Kb(t,s,Qt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return xs(s.children,h,d,n);case y:_=8,h|=24;break;case S:return t=Nn(12,s,n,h|2),t.elementType=S,t.lanes=d,t;case Y:return t=Nn(13,s,n,h),t.elementType=Y,t.lanes=d,t;case F:return t=Nn(19,s,n,h),t.elementType=F,t.lanes=d,t;case ee:return ly(s,h,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C:case j:_=10;break e;case N:_=9;break e;case z:_=11;break e;case Q:_=14;break e;case te:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Nn(_,s,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function xs(t,n,s,l){return t=Nn(7,t,l,n),t.lanes=s,t}function ly(t,n,s,l){t=Nn(22,t,l,n),t.elementType=ee,t.lanes=s;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(a(456));if(!(h._pendingVisibility&2)){var _=br(d,2);_!==null&&(h._pendingVisibility|=2,en(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(a(456));if(h._pendingVisibility&2){var _=br(d,2);_!==null&&(h._pendingVisibility&=-3,en(_,d,2))}}};return t.stateNode=h,t}function Pf(t,n,s){return t=Nn(6,t,null,n),t.lanes=s,t}function jf(t,n,s){return n=Nn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function qi(t){t.flags|=4}function uy(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!$y(n)){if(n=Cn.current,n!==null&&((Me&4194176)===Me?ci!==null:(Me&62914560)!==Me&&!(Me&536870912)||n!==ci))throw Po=Bh,Rp;t.flags|=8192}}function $u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?cr():536870912,t.lanes|=n,Ma|=n)}function Jo(t,n){if(!Le)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Je(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function lb(t,n,s){var l=n.pendingProps;switch(Uh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(n),null;case 1:return Je(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ui(bt),bi(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Do(n)?qi(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Un!==null&&(Gf(Un),Un=null))),Je(n),null;case 26:return s=n.memoizedState,t===null?(qi(n),s!==null?(Je(n),uy(n,s)):(Je(n),n.flags&=-16777217)):s?s!==t.memoizedState?(qi(n),Je(n),uy(n,s)):(Je(n),n.flags&=-16777217):(t.memoizedProps!==l&&qi(n),Je(n),n.flags&=-16777217),null;case 27:Js(n),s=gn.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Je(n),null}t=Qt.current,Do(n)?Ap(n):(t=Uy(h,l,s),n.stateNode=t,qi(n))}return Je(n),null;case 5:if(Js(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Je(n),null}if(t=Qt.current,Do(n))Ap(n);else{switch(h=rc(gn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[At]=n,t[vt]=l;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;e:switch(Pt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&qi(n)}}return Je(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=gn.current,Do(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||ky(t.nodeValue,s)),t||_s(n)}else t=rc(t).createTextNode(l),t[At]=n,n.stateNode=t}return Je(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Do(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[At]=n}else ko(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Je(n),h=!1}else Un!==null&&(Gf(Un),Un=null),h=!0;if(!h)return n.flags&256?(Vi(n),n):(Vi(n),null)}if(Vi(n),n.flags&128)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),$u(n,n.updateQueue),Je(n),null;case 4:return bi(),t===null&&nd(n.stateNode.containerInfo),Je(n),null;case 10:return Ui(n.type),Je(n),null;case 19:if(nt(Tt),h=n.memoizedState,h===null)return Je(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)Jo(h,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(d=Nu(t),d!==null){for(n.flags|=128,Jo(h,!1),t=d.updateQueue,n.updateQueue=t,$u(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)oy(s,t),s=s.sibling;return Be(Tt,Tt.current&1|2),n.child}t=t.sibling}h.tail!==null&&tn()>Yu&&(n.flags|=128,l=!0,Jo(h,!1),n.lanes=4194304)}else{if(!l)if(t=Nu(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$u(n,t),Jo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Le)return Je(n),null}else 2*tn()-h.renderingStartTime>Yu&&s!==536870912&&(n.flags|=128,l=!0,Jo(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(t=h.last,t!==null?t.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=tn(),n.sibling=null,t=Tt.current,Be(Tt,l?t&1|2:t&1),n):(Je(n),null);case 22:case 23:return Vi(n),qh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?s&536870912&&!(n.flags&128)&&(Je(n),n.subtreeFlags&6&&(n.flags|=8192)):Je(n),s=n.updateQueue,s!==null&&$u(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&nt(Ts),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(bt),Je(n),null;case 25:return null}throw Error(a(156,n.tag))}function ub(t,n){switch(Uh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ui(bt),bi(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Js(n),null;case 13:if(Vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ko()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Tt),null;case 4:return bi(),null;case 10:return Ui(n.type),null;case 22:case 23:return Vi(n),qh(),t!==null&&nt(Ts),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ui(bt),null;case 25:return null;default:return null}}function cy(t,n){switch(Uh(n),n.tag){case 3:Ui(bt),bi();break;case 26:case 27:case 5:Js(n);break;case 4:bi();break;case 13:Vi(n);break;case 19:nt(Tt);break;case 10:Ui(n.type);break;case 22:case 23:Vi(n),qh(),t!==null&&nt(Ts);break;case 24:Ui(bt)}}var cb={getCacheForType:function(t){var n=qt(bt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},hb=typeof WeakMap=="function"?WeakMap:Map,et=0,Ke=null,Ie=null,Me=0,$e=0,dn=null,Fi=!1,ka=!1,Lf=!1,Gi=0,st=0,Vr=0,Ns=0,Uf=0,On=0,Ma=0,el=null,fi=null,zf=!1,Bf=0,Yu=1/0,Qu=null,Pr=null,Xu=!1,Os=null,tl=0,Hf=0,qf=null,nl=0,Ff=null;function mn(){if(et&2&&Me!==0)return Me&-Me;if(A.T!==null){var t=wa;return t!==0?t:Wf()}return nu()}function hy(){On===0&&(On=!(Me&536870912)||Le?mo():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),On}function en(t,n,s){(t===Ke&&$e===2||t.cancelPendingCommit!==null)&&(Va(t,0),Ki(t,Me,On,!1)),lt(t,s),(!(et&2)||t!==Ke)&&(t===Ke&&(!(et&2)&&(Ns|=s),st===4&&Ki(t,Me,On,!1)),di(t))}function fy(t,n,s){if(et&6)throw Error(a(327));var l=!s&&(n&60)===0&&(n&t.expiredLanes)===0||ur(t,n),h=l?mb(t,n):Yf(t,n,!0),d=l;do{if(h===0){ka&&!l&&Ki(t,n,0,!1);break}else if(h===6)Ki(t,n,0,!Fi);else{if(s=t.current.alternate,d&&!fb(s)){h=Yf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var T=t;h=el;var R=T.current.memoizedState.isDehydrated;if(R&&(Va(T,_).flags|=256),_=Yf(T,_,!1),_!==2){if(Lf&&!R){T.errorRecoveryDisabledLanes|=d,Ns|=d,h=4;break e}d=fi,fi=h,d!==null&&Gf(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){Va(t,0),Ki(t,n,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Ki(l,n,On,!Fi);break e}break;case 2:fi=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=n,(n&62914560)===n&&(d=Bf+300-tn(),10<d)){if(Ki(l,n,On,!Fi),yn(l,0)!==0)break e;l.timeoutHandle=Py(dy.bind(null,l,s,fi,Qu,zf,n,On,Ns,Ma,Fi,2,-0,0),d);break e}dy(l,s,fi,Qu,zf,n,On,Ns,Ma,Fi,0,-0,0)}}break}while(!0);di(t)}function Gf(t){fi===null?fi=t:fi.push.apply(fi,t)}function dy(t,n,s,l,h,d,_,T,R,V,$,W,q){var K=n.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(ll={stylesheets:null,count:0,unsuspend:$b},iy(n),n=Qb(),n!==null)){t.cancelPendingCommit=n(Ey.bind(null,t,s,l,h,_,T,R,1,W,q)),Ki(t,d,_,!V);return}Ey(t,s,l,h,_,T,R,$,W,q)}function fb(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ki(t,n,s,l){n&=~Uf,n&=~Ns,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-Xt(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&hr(t,s,n)}function Zu(){return et&6?!0:(il(0),!1)}function Kf(){if(Ie!==null){if($e===0)var t=Ie.return;else t=Ie,Li=Rs=null,Zh(t),Sa=null,jo=0,t=Ie;for(;t!==null;)cy(t.alternate,t),t=t.return;Ie=null}}function Va(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Ob(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Kf(),Ke=t,Ie=s=Mr(t.current,null),Me=n,$e=0,dn=null,Fi=!1,ka=ur(t,n),Lf=!1,Ma=On=Uf=Ns=Vr=st=0,fi=el=null,zf=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Xt(l),d=1<<h;n|=t[h],l&=~d}return Gi=n,Tu(),s}function my(t,n){we=null,A.H=hi,n===Vo?(n=xp(),$e=3):n===Rp?(n=xp(),$e=4):$e=n===Cg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,Ie===null&&(st=1,Bu(t,An(n,t.current)))}function py(){var t=A.H;return A.H=hi,t===null?hi:t}function gy(){var t=A.A;return A.A=cb,t}function $f(){st=4,Fi||(Me&4194176)!==Me&&Cn.current!==null||(ka=!0),!(Vr&134217727)&&!(Ns&134217727)||Ke===null||Ki(Ke,Me,On,!1)}function Yf(t,n,s){var l=et;et|=2;var h=py(),d=gy();(Ke!==t||Me!==n)&&(Qu=null,Va(t,n)),n=!1;var _=st;e:do try{if($e!==0&&Ie!==null){var T=Ie,R=dn;switch($e){case 8:Kf(),_=6;break e;case 3:case 2:case 6:Cn.current===null&&(n=!0);var V=$e;if($e=0,dn=null,Pa(t,T,R,V),s&&ka){_=0;break e}break;default:V=$e,$e=0,dn=null,Pa(t,T,R,V)}}db(),_=st;break}catch($){my(t,$)}while(!0);return n&&t.shellSuspendCounter++,Li=Rs=null,et=l,A.H=h,A.A=d,Ie===null&&(Ke=null,Me=0,Tu()),_}function db(){for(;Ie!==null;)yy(Ie)}function mb(t,n){var s=et;et|=2;var l=py(),h=gy();Ke!==t||Me!==n?(Qu=null,Yu=tn()+500,Va(t,n)):ka=ur(t,n);e:do try{if($e!==0&&Ie!==null){n=Ie;var d=dn;t:switch($e){case 1:$e=0,dn=null,Pa(t,n,d,1);break;case 2:if(Cp(d)){$e=0,dn=null,vy(n);break}n=function(){$e===2&&Ke===t&&($e=7),di(t)},d.then(n,n);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Cp(d)?($e=0,dn=null,vy(n)):($e=0,dn=null,Pa(t,n,d,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var T=Ie;if(!_||$y(_)){$e=0,dn=null;var R=T.sibling;if(R!==null)Ie=R;else{var V=T.return;V!==null?(Ie=V,Wu(V)):Ie=null}break t}}$e=0,dn=null,Pa(t,n,d,5);break;case 6:$e=0,dn=null,Pa(t,n,d,6);break;case 8:Kf(),st=6;break e;default:throw Error(a(462))}}pb();break}catch($){my(t,$)}while(!0);return Li=Rs=null,A.H=l,A.A=h,et=s,Ie!==null?0:(Ke=null,Me=0,Tu(),st)}function pb(){for(;Ie!==null&&!Th();)yy(Ie)}function yy(t){var n=Ug(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,n===null?Wu(t):Ie=n}function vy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=kg(s,n,n.pendingProps,n.type,void 0,Me);break;case 11:n=kg(s,n,n.pendingProps,n.type.render,n.ref,Me);break;case 5:Zh(n);default:cy(s,n),n=Ie=oy(n,Gi),n=Ug(s,n,Gi)}t.memoizedProps=t.pendingProps,n===null?Wu(t):Ie=n}function Pa(t,n,s,l){Li=Rs=null,Zh(n),Sa=null,jo=0;var h=n.return;try{if(ib(t,h,n,s,Me)){st=1,Bu(t,An(s,t.current)),Ie=null;return}}catch(d){if(h!==null)throw Ie=h,d;st=1,Bu(t,An(s,t.current)),Ie=null;return}n.flags&32768?(Le||l===1?t=!0:ka||Me&536870912?t=!1:(Fi=t=!0,(l===2||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),_y(n,t)):Wu(n)}function Wu(t){var n=t;do{if(n.flags&32768){_y(n,Fi);return}t=n.return;var s=lb(n.alternate,n,Gi);if(s!==null){Ie=s;return}if(n=n.sibling,n!==null){Ie=n;return}Ie=n=t}while(n!==null);st===0&&(st=5)}function _y(t,n){do{var s=ub(t.alternate,t);if(s!==null){s.flags&=32767,Ie=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=s}while(t!==null);st=6,Ie=null}function Ey(t,n,s,l,h,d,_,T,R,V){var $=A.T,W=ae.p;try{ae.p=2,A.T=null,gb(t,n,s,l,W,h,d,_,T,R,V)}finally{A.T=$,ae.p=W}}function gb(t,n,s,l,h,d,_,T){do ja();while(Os!==null);if(et&6)throw Error(a(327));var R=t.finishedWork;if(l=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var V=R.lanes|R.childLanes;if(V|=Ph,eu(t,l,V,d,_,T),t===Ke&&(Ie=Ke=null,Me=0),!(R.subtreeFlags&10256)&&!(R.flags&10256)||Xu||(Xu=!0,Hf=V,qf=s,Eb(Si,function(){return ja(),null})),s=(R.flags&15990)!==0,R.subtreeFlags&15990||s?(s=A.T,A.T=null,d=ae.p,ae.p=2,_=et,et|=4,sb(t,R),ey(R,t),zT(ad,t.containerInfo),cc=!!sd,ad=sd=null,t.current=R,Xg(t,R.alternate,R),uo(),et=_,ae.p=d,A.T=s):t.current=R,Xu?(Xu=!1,Os=t,tl=l):Ty(t,V),V=t.pendingLanes,V===0&&(Pr=null),ho(R.stateNode),di(t),n!==null)for(h=t.onRecoverableError,R=0;R<n.length;R++)V=n[R],h(V.value,{componentStack:V.stack});return tl&3&&ja(),V=t.pendingLanes,l&4194218&&V&42?t===Ff?nl++:(nl=0,Ff=t):nl=0,il(0),null}function Ty(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Uo(n)))}function ja(){if(Os!==null){var t=Os,n=Hf;Hf=0;var s=tu(tl),l=A.T,h=ae.p;try{if(ae.p=32>s?32:s,A.T=null,Os===null)var d=!1;else{s=qf,qf=null;var _=Os,T=tl;if(Os=null,tl=0,et&6)throw Error(a(331));var R=et;if(et|=4,sy(_.current),ny(_,_.current,T,s),et=R,il(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(or,_)}catch{}d=!0}return d}finally{ae.p=h,A.T=l,Ty(t,n)}}return!1}function by(t,n,s){n=An(s,n),n=ff(t.stateNode,n,2),t=Nr(t,n,2),t!==null&&(lt(t,2),di(t))}function Ge(t,n,s){if(t.tag===3)by(t,t,s);else for(;n!==null;){if(n.tag===3){by(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pr===null||!Pr.has(l))){t=An(s,t),s=wg(2),l=Nr(n,s,2),l!==null&&(Rg(s,l,n,t),lt(l,2),di(l));break}}n=n.return}}function Qf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new hb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Lf=!0,h.add(s),t=yb.bind(null,t,n,s),n.then(t,t))}function yb(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ke===t&&(Me&s)===s&&(st===4||st===3&&(Me&62914560)===Me&&300>tn()-Bf?!(et&2)&&Va(t,0):Uf|=s,Ma===Me&&(Ma=0)),di(t)}function Sy(t,n){n===0&&(n=cr()),t=br(t,n),t!==null&&(lt(t,n),di(t))}function vb(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Sy(t,s)}function _b(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Sy(t,s)}function Eb(t,n){return ts(t,n)}var Ju=null,La=null,Xf=!1,ec=!1,Zf=!1,Ds=0;function di(t){t!==La&&t.next===null&&(La===null?Ju=La=t:La=La.next=t),ec=!0,Xf||(Xf=!0,bb(Tb))}function il(t,n){if(!Zf&&ec){Zf=!0;do for(var s=!1,l=Ju;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Xt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,Ry(l,d))}else d=Me,d=yn(l,l===Ke?d:0),!(d&3)||ur(l,d)||(s=!0,Ry(l,d));l=l.next}while(s);Zf=!1}}function Tb(){ec=Xf=!1;var t=0;Ds!==0&&(Nb()&&(t=Ds),Ds=0);for(var n=tn(),s=null,l=Ju;l!==null;){var h=l.next,d=Ay(l,n);d===0?(l.next=null,s===null?Ju=h:s.next=h,h===null&&(La=s)):(s=l,(t!==0||d&3)&&(ec=!0)),l=h}il(t)}function Ay(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Xt(d),T=1<<_,R=h[_];R===-1?(!(T&s)||T&l)&&(h[_]=na(T,n)):R<=n&&(t.expiredLanes|=T),d&=~T}if(n=Ke,s=Me,s=yn(t,t===n?s:0),l=t.callbackNode,s===0||t===n&&$e===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ta(l),t.callbackNode=null,t.callbackPriority=0;if(!(s&3)||ur(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&ta(l),tu(s)){case 2:case 8:s=St;break;case 32:s=Si;break;case 268435456:s=co;break;default:s=Si}return l=wy.bind(null,t),s=ts(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&ta(l),t.callbackPriority=2,t.callbackNode=null,2}function wy(t,n){var s=t.callbackNode;if(ja()&&t.callbackNode!==s)return null;var l=Me;return l=yn(t,t===Ke?l:0),l===0?null:(fy(t,l,n),Ay(t,tn()),t.callbackNode!=null&&t.callbackNode===s?wy.bind(null,t):null)}function Ry(t,n){if(ja())return null;fy(t,n,!0)}function bb(t){Db(function(){et&6?ts(yt,t):t()})}function Wf(){return Ds===0&&(Ds=mo()),Ds}function Cy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ni(""+t)}function Iy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Sb(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var d=Cy((h[vt]||null).action),_=l.submitter;_&&(n=(n=_[vt]||null)?Cy(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var T=new ua("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ds!==0){var R=_?Iy(h,_):new FormData(h);of(s,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=_?Iy(h,_):new FormData(h),of(s,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var Jf=0;Jf<Ep.length;Jf++){var ed=Ep[Jf],Ab=ed.toLowerCase(),wb=ed[0].toUpperCase()+ed.slice(1);Ln(Ab,"on"+wb)}Ln(pp,"onAnimationEnd"),Ln(gp,"onAnimationIteration"),Ln(yp,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(HT,"onTransitionRun"),Ln(qT,"onTransitionStart"),Ln(FT,"onTransitionCancel"),Ln(vp,"onTransitionEnd"),nn("onMouseEnter",["mouseout","mouseover"]),nn("onMouseLeave",["mouseout","mouseover"]),nn("onPointerEnter",["pointerout","pointerover"]),nn("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function xy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],R=T.instance,V=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=V;try{d(h)}catch($){zu($)}h.currentTarget=null,d=R}else for(_=0;_<l.length;_++){if(T=l[_],R=T.instance,V=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=V;try{d(h)}catch($){zu($)}h.currentTarget=null,d=R}}}}function Oe(t,n){var s=n[is];s===void 0&&(s=n[is]=new Set);var l=t+"__bubble";s.has(l)||(Ny(n,t,2,!1),s.add(l))}function td(t,n,s){var l=0;n&&(l|=4),Ny(s,t,l,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function nd(t){if(!t[tc]){t[tc]=!0,go.forEach(function(s){s!=="selectionchange"&&(Rb.has(s)||td(s,!1,t),td(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[tc]||(n[tc]=!0,td("selectionchange",!1,n))}}function Ny(t,n,s,l){switch(Jy(n)){case 2:var h=Wb;break;case 8:h=Jb;break;default:h=pd}s=h.bind(null,n,s,t),h=void 0,!Tn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function id(t,n,s,l,h){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;_=_.return}for(;T!==null;){if(_=jn(T),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){l=d=_;continue e}T=T.parentNode}}l=l.return}au(function(){var V=d,$=la(s),W=[];e:{var q=_p.get(t);if(q!==void 0){var K=ua,fe=t;switch(t){case"keypress":if(ri(s)===0)break e;case"keydown":case"keyup":K=pa;break;case"focusin":fe="focus",K=fa;break;case"focusout":fe="blur",K=fa;break;case"beforeblur":case"afterblur":K=fa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=mu;break;case pp:case gp:case yp:K=da;break;case vp:K=gu;break;case"scroll":case"scrollend":K=ou;break;case"wheel":K=ga;break;case"copy":case"cut":case"paste":K=ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Io;break;case"toggle":case"beforetoggle":K=vu}var be=(n&4)!==0,at=!be&&(t==="scroll"||t==="scrollend"),P=be?q!==null?q+"Capture":null:q;be=[];for(var k=V,B;k!==null;){var X=k;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||P===null||(X=ls(k,P),X!=null&&be.push(sl(k,X,B))),at)break;k=k.return}0<be.length&&(q=new K(q,fe,null,s,$),W.push({event:q,listeners:be}))}}if(!(n&7)){e:{if(q=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",q&&s!==En&&(fe=s.relatedTarget||s.fromElement)&&(jn(fe)||fe[Ai]))break e;if((K||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,K?(fe=s.relatedTarget||s.toElement,K=V,fe=fe?jn(fe):null,fe!==null&&(at=me(fe),be=fe.tag,fe!==at||be!==5&&be!==27&&be!==6)&&(fe=null)):(K=null,fe=V),K!==fe)){if(be=bn,X="onMouseLeave",P="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(be=Io,X="onPointerLeave",P="onPointerEnter",k="pointer"),at=K==null?q:pr(K),B=fe==null?q:pr(fe),q=new be(X,k+"leave",K,s,$),q.target=at,q.relatedTarget=B,X=null,jn($)===V&&(be=new be(P,k+"enter",fe,s,$),be.target=B,be.relatedTarget=at,X=be),at=X,K&&fe)t:{for(be=K,P=fe,k=0,B=be;B;B=Ua(B))k++;for(B=0,X=P;X;X=Ua(X))B++;for(;0<k-B;)be=Ua(be),k--;for(;0<B-k;)P=Ua(P),B--;for(;k--;){if(be===P||P!==null&&be===P.alternate)break t;be=Ua(be),P=Ua(P)}be=null}else be=null;K!==null&&Oy(W,q,K,be,!1),fe!==null&&at!==null&&Oy(W,at,fe,be,!0)}}e:{if(q=V?pr(V):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var le=rp;else if(Et(q))if(sp)le=LT;else{le=PT;var Ce=VT}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?V&&To(V.elementType)&&(le=rp):le=jT;if(le&&(le=le(t,V))){Di(W,le,s,$);break e}Ce&&Ce(t,q,V),t==="focusout"&&V&&q.type==="number"&&V.memoizedProps.value!=null&&oa(q,"number",q.value)}switch(Ce=V?pr(V):window,t){case"focusin":(Et(Ce)||Ce.contentEditable==="true")&&(ya=Ce,kh=V,Oo=null);break;case"focusout":Oo=kh=ya=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,dp(W,s,$);break;case"selectionchange":if(BT)break;case"keydown":case"keyup":dp(W,s,$)}var pe;if(oi)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else De?G(t,s)&&(ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ve="onCompositionStart");ve&&(v&&s.locale!=="ko"&&(De||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&De&&(pe=So()):(ii=$,Tr="value"in ii?ii.value:ii.textContent,De=!0)),Ce=nc(V,ve),0<Ce.length&&(ve=new Ro(ve,t,null,s,$),W.push({event:ve,listeners:Ce}),pe?ve.data=pe:(pe=ie(s),pe!==null&&(ve.data=pe)))),(pe=g?_t(t,s):ke(t,s))&&(ve=nc(V,"onBeforeInput"),0<ve.length&&(Ce=new Ro("onBeforeInput","beforeinput",null,s,$),W.push({event:Ce,listeners:ve}),Ce.data=pe)),Sb(W,t,V,s,$)}xy(W,n)})}function sl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function nc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ls(t,s),h!=null&&l.unshift(sl(t,h,d)),h=ls(t,n),h!=null&&l.push(sl(t,h,d))),t=t.return}return l}function Ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Oy(t,n,s,l,h){for(var d=n._reactName,_=[];s!==null&&s!==l;){var T=s,R=T.alternate,V=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||V===null||(R=V,h?(V=ls(s,d),V!=null&&_.unshift(sl(s,V,R))):h||(V=ls(s,d),V!=null&&_.push(sl(s,V,R)))),s=s.return}_.length!==0&&t.push({event:n,listeners:_})}var Cb=/\r\n?/g,Ib=/\u0000|\uFFFD/g;function Dy(t){return(typeof t=="string"?t:""+t).replace(Cb,`
`).replace(Ib,"")}function ky(t,n){return n=Dy(n),Dy(t)===n}function ic(){}function Fe(t,n,s,l,h,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":vr(t,"class",l);break;case"tabIndex":vr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(t,s,l);break;case"style":su(t,l,d);break;case"data":if(n!=="object"){vr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ni(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&Fe(t,n,"name",h.name,h,null),Fe(t,n,"formEncType",h.formEncType,h,null),Fe(t,n,"formMethod",h.formMethod,h,null),Fe(t,n,"formTarget",h.formTarget,h,null)):(Fe(t,n,"encType",h.encType,h,null),Fe(t,n,"method",h.method,h,null),Fe(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ni(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ic);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=ni(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),yr(t,"popover",l);break;case"xlinkActuate":vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Rh.get(s)||s,yr(t,s,l))}}function rd(t,n,s,l,h,d){switch(s){case"style":su(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sa.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=t[vt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):yr(t,s,l)}}}function Pt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Fe(t,n,d,_,s,null)}}h&&Fe(t,n,"srcSet",s.srcSet,s,null),l&&Fe(t,n,"src",s.src,s,null);return;case"input":Oe("invalid",t);var T=d=_=h=null,R=null,V=null;for(l in s)if(s.hasOwnProperty(l)){var $=s[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":R=$;break;case"defaultChecked":V=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,n));break;default:Fe(t,n,l,$,s,null)}}as(t,d,T,R,V,_,h,!1),ss(t);return;case"select":Oe("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Fe(t,n,h,T,s,null)}n=d,s=_,t.multiple=!!l,n!=null?je(t,!!l,n,!1):s!=null&&je(t,!!l,s,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Fe(t,n,_,T,s,null)}Er(t,l,h,d),ss(t);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Fe(t,n,R,l,s,null)}return;case"dialog":Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<rl.length;l++)Oe(rl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in s)if(s.hasOwnProperty(V)&&(l=s[V],l!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Fe(t,n,V,l,s,null)}return;default:if(To(n)){for($ in s)s.hasOwnProperty($)&&(l=s[$],l!==void 0&&rd(t,n,$,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Fe(t,n,T,l,s,null))}function xb(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,R=null,V=null,$=null;for(K in s){var W=s[K];if(s.hasOwnProperty(K)&&W!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":R=W;default:l.hasOwnProperty(K)||Fe(t,n,K,null,l,W)}}for(var q in l){var K=l[q];if(W=s[q],l.hasOwnProperty(q)&&(K!=null||W!=null))switch(q){case"type":d=K;break;case"name":h=K;break;case"checked":V=K;break;case"defaultChecked":$=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:K!==W&&Fe(t,n,q,K,l,W)}}_r(t,_,T,R,V,$,d,h);return;case"select":K=_=T=q=null;for(d in s)if(R=s[d],s.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":K=R;default:l.hasOwnProperty(d)||Fe(t,n,d,null,l,R)}for(h in l)if(d=l[h],R=s[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==R&&Fe(t,n,h,d,l,R)}n=T,s=_,l=K,q!=null?je(t,!!s,q,!1):!!l!=!!s&&(n!=null?je(t,!!s,n,!0):je(t,!!s,s?[]:"",!1));return;case"textarea":K=q=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Fe(t,n,T,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Fe(t,n,_,h,l,d)}os(t,q,K);return;case"option":for(var fe in s)if(q=s[fe],s.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Fe(t,n,fe,null,l,q)}for(R in l)if(q=l[R],K=s[R],l.hasOwnProperty(R)&&q!==K&&(q!=null||K!=null))switch(R){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Fe(t,n,R,q,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in s)q=s[be],s.hasOwnProperty(be)&&q!=null&&!l.hasOwnProperty(be)&&Fe(t,n,be,null,l,q);for(V in l)if(q=l[V],K=s[V],l.hasOwnProperty(V)&&q!==K&&(q!=null||K!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Fe(t,n,V,q,l,K)}return;default:if(To(n)){for(var at in s)q=s[at],s.hasOwnProperty(at)&&q!==void 0&&!l.hasOwnProperty(at)&&rd(t,n,at,void 0,l,q);for($ in l)q=l[$],K=s[$],!l.hasOwnProperty($)||q===K||q===void 0&&K===void 0||rd(t,n,$,q,l,K);return}}for(var P in s)q=s[P],s.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&Fe(t,n,P,null,l,q);for(W in l)q=l[W],K=s[W],!l.hasOwnProperty(W)||q===K||q==null&&K==null||Fe(t,n,W,q,l,K)}var sd=null,ad=null;function rc(t){return t.nodeType===9?t:t.ownerDocument}function My(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function od(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ld=null;function Nb(){var t=window.event;return t&&t.type==="popstate"?t===ld?!1:(ld=t,!0):(ld=null,!1)}var Py=typeof setTimeout=="function"?setTimeout:void 0,Ob=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,Db=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(t){return jy.resolve(null).then(t).catch(kb)}:Py;function kb(t){setTimeout(function(){throw t})}function ud(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(l===0){t.removeChild(h),dl(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=h}while(s);dl(n)}function cd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cd(s),rs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Mb(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[mr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function Vb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Bn(t.nextSibling),t===null))return null;return t}function Bn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Ly(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Uy(t,n,s){switch(n=rc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Dn=new Map,zy=new Set;function sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var $i=ae.d;ae.d={f:Pb,r:jb,D:Lb,C:Ub,L:zb,m:Bb,X:qb,S:Hb,M:Fb};function Pb(){var t=$i.f(),n=Zu();return t||n}function jb(t){var n=wi(t);n!==null&&n.tag===5&&n.type==="form"?dg(n):$i.r(t)}var za=typeof document>"u"?null:document;function By(t,n,s){var l=za;if(l&&typeof n=="string"&&n){var h=it(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),zy.has(h)||(zy.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Pt(n,"link",t),We(n),l.head.appendChild(n)))}}function Lb(t){$i.D(t),By("dns-prefetch",t,null)}function Ub(t,n){$i.C(t,n),By("preconnect",t,n)}function zb(t,n,s){$i.L(t,n,s);var l=za;if(l&&t&&n){var h='link[rel="preload"][as="'+it(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+it(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+it(s.imageSizes)+'"]')):h+='[href="'+it(t)+'"]';var d=h;switch(n){case"style":d=Ba(t);break;case"script":d=Ha(t)}Dn.has(d)||(t=I({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Dn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(al(d))||n==="script"&&l.querySelector(ol(d))||(n=l.createElement("link"),Pt(n,"link",t),We(n),l.head.appendChild(n)))}}function Bb(t,n){$i.m(t,n);var s=za;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+it(l)+'"][href="'+it(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(t)}if(!Dn.has(d)&&(t=I({rel:"modulepreload",href:t},n),Dn.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ol(d)))return}l=s.createElement("link"),Pt(l,"link",t),We(l),s.head.appendChild(l)}}}function Hb(t,n,s){$i.S(t,n,s);var l=za;if(l&&t){var h=gr(l).hoistableStyles,d=Ba(t);n=n||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(al(d)))T.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Dn.get(d))&&hd(t,s);var R=_=l.createElement("link");We(R),Pt(R,"link",t),R._p=new Promise(function(V,$){R.onload=V,R.onerror=$}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ac(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function qb(t,n){$i.X(t,n);var s=za;if(s&&t){var l=gr(s).hoistableScripts,h=Ha(t),d=l.get(h);d||(d=s.querySelector(ol(h)),d||(t=I({src:t,async:!0},n),(n=Dn.get(h))&&fd(t,n),d=s.createElement("script"),We(d),Pt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Fb(t,n){$i.M(t,n);var s=za;if(s&&t){var l=gr(s).hoistableScripts,h=Ha(t),d=l.get(h);d||(d=s.querySelector(ol(h)),d||(t=I({src:t,async:!0,type:"module"},n),(n=Dn.get(h))&&fd(t,n),d=s.createElement("script"),We(d),Pt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Hy(t,n,s,l){var h=(h=gn.current)?sc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ba(s.href),s=gr(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ba(s.href);var d=gr(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(al(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Dn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Dn.set(t,s),d||Gb(h,t,s,_.state))),n&&l===null)throw Error(a(528,""));return _}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ha(s),s=gr(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ba(t){return'href="'+it(t)+'"'}function al(t){return'link[rel="stylesheet"]['+t+"]"}function qy(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function Gb(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pt(n,"link",s),We(n),t.head.appendChild(n))}function Ha(t){return'[src="'+it(t)+'"]'}function ol(t){return"script[async]"+t}function Fy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+it(s.href)+'"]');if(l)return n.instance=l,We(l),l;var h=I({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),We(l),Pt(l,"style",h),ac(l,s.precedence,t),n.instance=l;case"stylesheet":h=Ba(s.href);var d=t.querySelector(al(h));if(d)return n.state.loading|=4,n.instance=d,We(d),d;l=qy(s),(h=Dn.get(h))&&hd(l,h),d=(t.ownerDocument||t).createElement("link"),We(d);var _=d;return _._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),Pt(d,"link",l),n.state.loading|=4,ac(d,s.precedence,t),n.instance=d;case"script":return d=Ha(s.src),(h=t.querySelector(ol(d)))?(n.instance=h,We(h),h):(l=s,(h=Dn.get(d))&&(l=I({},s),fd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),We(h),Pt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,ac(l,s.precedence,t));return n.instance}function ac(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function hd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function fd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var oc=null;function Gy(t,n,s){if(oc===null){var l=new Map,h=oc=new Map;h.set(s,l)}else h=oc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[mr]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Ky(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Kb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $y(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var ll=null;function $b(){}function Yb(t,n,s){if(ll===null)throw Error(a(475));var l=ll;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var h=Ba(s.href),d=t.querySelector(al(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=lc.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,We(d);return}d=t.ownerDocument||t,s=qy(s),(h=Dn.get(h))&&hd(s,h),d=d.createElement("link"),We(d);var _=d;_._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),Pt(d,"link",s),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=lc.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function Qb(){if(ll===null)throw Error(a(475));var t=ll;return t.stylesheets&&t.count===0&&dd(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&dd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function lc(){if(this.count--,this.count===0){if(this.stylesheets)dd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uc=null;function dd(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uc=new Map,n.forEach(Xb,t),uc=null,lc.call(t))}function Xb(t,n){if(!(n.state.loading&4)){var s=uc.get(t);if(s)var l=s.get(null);else{s=new Map,uc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=lc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ul={$$typeof:j,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Zb(t,n,s,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.hiddenUpdates=ia(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Yy(t,n,s,l,h,d,_,T,R,V,$,W){return t=new Zb(t,n,s,_,T,R,V,W),n=1,d===!0&&(n|=24),d=Nn(3,null,null,n),t.current=d,d.stateNode=t,n=Fh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},wf(d),t}function Qy(t){return t?(t=Ea,t):Ea}function Xy(t,n,s,l,h,d){h=Qy(h),l.context===null?l.context=h:l.pendingContext=h,l=xr(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Nr(t,l,n),s!==null&&(en(s,t,n),Ko(s,t,n))}function Zy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function md(t,n){Zy(t,n),(t=t.alternate)&&Zy(t,n)}function Wy(t){if(t.tag===13){var n=br(t,67108864);n!==null&&en(n,t,67108864),md(t,67108864)}}var cc=!0;function Wb(t,n,s,l){var h=A.T;A.T=null;var d=ae.p;try{ae.p=2,pd(t,n,s,l)}finally{ae.p=d,A.T=h}}function Jb(t,n,s,l){var h=A.T;A.T=null;var d=ae.p;try{ae.p=8,pd(t,n,s,l)}finally{ae.p=d,A.T=h}}function pd(t,n,s,l){if(cc){var h=gd(l);if(h===null)id(t,n,l,hc,s),ev(t,l);else if(tS(h,t,n,s,l))l.stopPropagation();else if(ev(t,l),n&4&&-1<eS.indexOf(t)){for(;h!==null;){var d=wi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Pn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var R=1<<31-Xt(_);T.entanglements[1]|=R,_&=~R}di(d),!(et&6)&&(Yu=tn()+500,il(0))}}break;case 13:T=br(d,2),T!==null&&en(T,d,2),Zu(),md(d,2)}if(d=gd(l),d===null&&id(t,n,l,hc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else id(t,n,l,null,s)}}function gd(t){return t=la(t),yd(t)}var hc=null;function yd(t){if(hc=null,t=jn(t),t!==null){var n=me(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=Ae(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return hc=t,null}function Jy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xl()){case yt:return 2;case St:return 8;case Si:case Zl:return 32;case co:return 268435456;default:return 32}default:return 32}}var vd=!1,jr=null,Lr=null,Ur=null,cl=new Map,hl=new Map,zr=[],eS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(t,n){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(t,n,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=wi(n),n!==null&&Wy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function tS(t,n,s,l,h){switch(n){case"focusin":return jr=fl(jr,t,n,s,l,h),!0;case"dragenter":return Lr=fl(Lr,t,n,s,l,h),!0;case"mouseover":return Ur=fl(Ur,t,n,s,l,h),!0;case"pointerover":var d=h.pointerId;return cl.set(d,fl(cl.get(d)||null,t,n,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,hl.set(d,fl(hl.get(d)||null,t,n,s,l,h)),!0}return!1}function tv(t){var n=jn(t.target);if(n!==null){var s=me(n);if(s!==null){if(n=s.tag,n===13){if(n=Ae(s),n!==null){t.blockedOn=n,dr(t.priority,function(){if(s.tag===13){var l=mn(),h=br(s,l);h!==null&&en(h,s,l),md(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=gd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);En=l,s.target.dispatchEvent(l),En=null}else return n=wi(s),n!==null&&Wy(n),t.blockedOn=s,!1;n.shift()}return!0}function nv(t,n,s){fc(t)&&s.delete(n)}function nS(){vd=!1,jr!==null&&fc(jr)&&(jr=null),Lr!==null&&fc(Lr)&&(Lr=null),Ur!==null&&fc(Ur)&&(Ur=null),cl.forEach(nv),hl.forEach(nv)}function dc(t,n){t.blockedOn===n&&(t.blockedOn=null,vd||(vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nS)))}var mc=null;function iv(t){mc!==t&&(mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mc===t&&(mc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(yd(l||s)===null)continue;break}var d=wi(s);d!==null&&(t.splice(n,3),n-=3,of(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function dl(t){function n(R){return dc(R,t)}jr!==null&&dc(jr,t),Lr!==null&&dc(Lr,t),Ur!==null&&dc(Ur,t),cl.forEach(n),hl.forEach(n);for(var s=0;s<zr.length;s++){var l=zr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zr.length&&(s=zr[0],s.blockedOn===null);)tv(s),s.blockedOn===null&&zr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[vt]||null;if(typeof d=="function")_||iv(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[vt]||null)T=_.formAction;else if(yd(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),iv(s)}}}function _d(t){this._internalRoot=t}pc.prototype.render=_d.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=mn();Xy(s,l,t,n,null,null)},pc.prototype.unmount=_d.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ja(),Xy(t.current,2,null,t,null,null),Zu(),n[Ai]=null}};function pc(t){this._internalRoot=t}pc.prototype.unstable_scheduleHydration=function(t){if(t){var n=nu();t={blockedOn:null,target:t,priority:n};for(var s=0;s<zr.length&&n!==0&&n<zr[s].priority;s++);zr.splice(s,0,t),s===0&&tv(t)}};var rv=e.version;if(rv!=="19.0.0")throw Error(a(527,rv,"19.0.0"));ae.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=J(n),t=t!==null?he(t):null,t=t===null?null:t.stateNode,t};var iS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:jn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{or=gc.inject(iS),Ht=gc}catch{}}return pl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=Tg,d=bg,_=Sg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Yy(t,1,!1,null,null,s,l,h,d,_,T,null),t[Ai]=n.current,nd(t.nodeType===8?t.parentNode:t),new _d(n)},pl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Tg,_=bg,T=Sg,R=null,V=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks),s.formState!==void 0&&(V=s.formState)),n=Yy(t,1,!0,n,s??null,l,h,d,_,T,R,V),n.context=Qy(null),s=n.current,l=mn(),h=xr(l),h.callback=null,Nr(s,h,l),n.current.lanes=l,lt(n,l),di(n),t[Ai]=n.current,nd(t),new pc(n)},pl.version="19.0.0",pl}var mv;function mS(){if(mv)return bd.exports;mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bd.exports=dS(),bd.exports}var pS=mS(),gl={},pv;function gS(){if(pv)return gl;pv=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.parse=f,gl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function f(N,j){const z=new c,Y=N.length;if(Y<2)return z;const F=(j==null?void 0:j.decode)||S;let Q=0;do{const te=N.indexOf("=",Q);if(te===-1)break;const ee=N.indexOf(";",Q),de=ee===-1?Y:ee;if(te>de){Q=N.lastIndexOf(";",te-1)+1;continue}const ce=m(N,Q,te),_e=p(N,te,ce),D=N.slice(ce,_e);if(z[D]===void 0){let w=m(N,te+1,de),A=p(N,de,w);const I=F(N.slice(w,A));z[D]=I}Q=de+1}while(Q<Y);return z}function m(N,j,z){do{const Y=N.charCodeAt(j);if(Y!==32&&Y!==9)return j}while(++j<z);return z}function p(N,j,z){for(;j>z;){const Y=N.charCodeAt(--j);if(Y!==32&&Y!==9)return j+1}return z}function y(N,j,z){const Y=(z==null?void 0:z.encode)||encodeURIComponent;if(!r.test(N))throw new TypeError(`argument name is invalid: ${N}`);const F=Y(j);if(!e.test(F))throw new TypeError(`argument val is invalid: ${j}`);let Q=N+"="+F;if(!z)return Q;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);Q+="; Max-Age="+z.maxAge}if(z.domain){if(!i.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);Q+="; Domain="+z.domain}if(z.path){if(!a.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);Q+="; Path="+z.path}if(z.expires){if(!C(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);Q+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(Q+="; HttpOnly"),z.secure&&(Q+="; Secure"),z.partitioned&&(Q+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return Q}function S(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function C(N){return o.call(N)==="[object Date]"}return gl}gS();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gv="popstate";function yS(r={}){function e(o,c){let{pathname:f="/",search:m="",hash:p=""}=$s(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Bd("",{pathname:f,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof c=="string"?c:Il(c))}function a(o,c){Vn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return _S(e,i,a,r)}function Xe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Vn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vS(){return Math.random().toString(36).substring(2,10)}function yv(r,e){return{usr:r.state,key:r.key,idx:e}}function Bd(r,e,i=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?$s(e):e,state:i,key:e&&e.key||a||vS()}}function Il({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function $s(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function _S(r,e,i,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,f=o.history,m="POP",p=null,y=S();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function S(){return(f.state||{idx:null}).idx}function C(){m="POP";let F=S(),Q=F==null?null:F-y;y=F,p&&p({action:m,location:Y.location,delta:Q})}function N(F,Q){m="PUSH";let te=Bd(Y.location,F,Q);i&&i(te,F),y=S()+1;let ee=yv(te,y),de=Y.createHref(te);try{f.pushState(ee,"",de)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(de)}c&&p&&p({action:m,location:Y.location,delta:1})}function j(F,Q){m="REPLACE";let te=Bd(Y.location,F,Q);i&&i(te,F),y=S();let ee=yv(te,y),de=Y.createHref(te);f.replaceState(ee,"",de),c&&p&&p({action:m,location:Y.location,delta:0})}function z(F){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof F=="string"?F:Il(F);return te=te.replace(/ $/,"%20"),Xe(Q,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,Q)}let Y={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(gv,C),p=F,()=>{o.removeEventListener(gv,C),p=null}},createHref(F){return e(o,F)},createURL:z,encodeLocation(F){let Q=z(F);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:N,replace:j,go(F){return f.go(F)}};return Y}function $_(r,e,i="/"){return ES(r,e,i,!1)}function ES(r,e,i,a){let o=typeof e=="string"?$s(e):e,c=Qr(o.pathname||"/",i);if(c==null)return null;let f=Y_(r);TS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=DS(c);m=NS(f[p],y,a)}return m}function Y_(r,e=[],i=[],a=""){let o=(c,f,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};p.relativePath.startsWith("/")&&(Xe(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let y=Wi([a,p.relativePath]),S=i.concat(p);c.children&&c.children.length>0&&(Xe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Y_(c.children,e,S,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:IS(y,c.index),routesMeta:S})};return r.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,f);else for(let p of Q_(c.path))o(c,f,p)}),e}function Q_(r){let e=r.split("/");if(e.length===0)return[];let[i,...a]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let f=Q_(a.join("/")),m=[];return m.push(...f.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function TS(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:xS(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var bS=/^:[\w-]+$/,SS=3,AS=2,wS=1,RS=10,CS=-2,vv=r=>r==="*";function IS(r,e){let i=r.split("/"),a=i.length;return i.some(vv)&&(a+=CS),e&&(a+=AS),i.filter(o=>!vv(o)).reduce((o,c)=>o+(bS.test(c)?SS:c===""?wS:RS),a)}function xS(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function NS(r,e,i=!1){let{routesMeta:a}=r,o={},c="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,S=c==="/"?e:e.slice(c.length)||"/",C=Mc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},S),N=p.route;if(!C&&y&&i&&!a[a.length-1].route.index&&(C=Mc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},S)),!C)return null;Object.assign(o,C.params),f.push({params:o,pathname:Wi([c,C.pathname]),pathnameBase:PS(Wi([c,C.pathnameBase])),route:N}),C.pathnameBase!=="/"&&(c=Wi([c,C.pathnameBase]))}return f}function Mc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,a]=OS(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:S,isOptional:C},N)=>{if(S==="*"){let z=m[N]||"";f=c.slice(0,c.length-z.length).replace(/(.)\/+$/,"$1")}const j=m[N];return C&&!j?y[S]=void 0:y[S]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:r}}function OS(r,e=!1,i=!0){Vn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function DS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Qr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=r.charAt(i);return a&&a!=="/"?null:r.slice(i)||"/"}function kS(r,e="/"){let{pathname:i,search:a="",hash:o=""}=typeof r=="string"?$s(r):r;return{pathname:i?i.startsWith("/")?i:MS(i,e):e,search:jS(a),hash:LS(o)}}function MS(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Rd(r,e,i,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VS(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function fm(r){let e=VS(r);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function dm(r,e,i,a=!1){let o;typeof r=="string"?o=$s(r):(o={...r},Xe(!o.pathname||!o.pathname.includes("?"),Rd("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),Rd("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),Rd("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=i;else{let C=e.length-1;if(!a&&f.startsWith("..")){let N=f.split("/");for(;N[0]==="..";)N.shift(),C-=1;o.pathname=N.join("/")}m=C>=0?e[C]:"/"}let p=kS(o,m),y=f&&f!=="/"&&f.endsWith("/"),S=(c||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||S)&&(p.pathname+="/"),p}var Wi=r=>r.join("/").replace(/\/\/+/g,"/"),PS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),jS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,LS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function US(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var X_=["POST","PUT","PATCH","DELETE"];new Set(X_);var zS=["GET",...X_];new Set(zS);var no=H.createContext(null);no.displayName="DataRouter";var rh=H.createContext(null);rh.displayName="DataRouterState";var Z_=H.createContext({isTransitioning:!1});Z_.displayName="ViewTransition";var BS=H.createContext(new Map);BS.displayName="Fetchers";var HS=H.createContext(null);HS.displayName="Await";var Yn=H.createContext(null);Yn.displayName="Navigation";var Ll=H.createContext(null);Ll.displayName="Location";var Qn=H.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var mm=H.createContext(null);mm.displayName="RouteError";function qS(r,{relative:e}={}){Xe(io(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=H.useContext(Yn),{hash:o,pathname:c,search:f}=Ul(r,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:Wi([i,c])),a.createHref({pathname:m,search:f,hash:o})}function io(){return H.useContext(Ll)!=null}function Xn(){return Xe(io(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Ll).location}var W_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J_(r){H.useContext(Yn).static||H.useLayoutEffect(r)}function es(){let{isDataRoute:r}=H.useContext(Qn);return r?iA():FS()}function FS(){Xe(io(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(no),{basename:e,navigator:i}=H.useContext(Yn),{matches:a}=H.useContext(Qn),{pathname:o}=Xn(),c=JSON.stringify(fm(a)),f=H.useRef(!1);return J_(()=>{f.current=!0}),H.useCallback((p,y={})=>{if(Vn(f.current,W_),!f.current)return;if(typeof p=="number"){i.go(p);return}let S=dm(p,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:Wi([e,S.pathname])),(y.replace?i.replace:i.push)(S,y.state,y)},[e,i,c,o,r])}H.createContext(null);function GS(){let{matches:r}=H.useContext(Qn),e=r[r.length-1];return e?e.params:{}}function Ul(r,{relative:e}={}){let{matches:i}=H.useContext(Qn),{pathname:a}=Xn(),o=JSON.stringify(fm(i));return H.useMemo(()=>dm(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function KS(r,e){return e0(r,e)}function e0(r,e,i,a){var te;Xe(io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=H.useContext(Yn),{matches:f}=H.useContext(Qn),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",S=m?m.pathnameBase:"/",C=m&&m.route;{let ee=C&&C.path||"";t0(y,!C||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let N=Xn(),j;if(e){let ee=typeof e=="string"?$s(e):e;Xe(S==="/"||((te=ee.pathname)==null?void 0:te.startsWith(S)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),j=ee}else j=N;let z=j.pathname||"/",Y=z;if(S!=="/"){let ee=S.replace(/^\//,"").split("/");Y="/"+z.replace(/^\//,"").split("/").slice(ee.length).join("/")}let F=!c&&i&&i.matches&&i.matches.length>0?i.matches:$_(r,{pathname:Y});Vn(C||F!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Vn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=ZS(F&&F.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:Wi([S,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?S:Wi([S,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,i,a);return e&&Q?H.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},Q):Q}function $S(){let r=nA(),e=US(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:c},"ErrorBoundary")," or"," ",H.createElement("code",{style:c},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),i?H.createElement("pre",{style:o},i):null,f)}var YS=H.createElement($S,null),QS=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?H.createElement(Qn.Provider,{value:this.props.routeContext},H.createElement(mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XS({routeContext:r,match:e,children:i}){let a=H.useContext(no);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Qn.Provider,{value:r},i)}function ZS(r,e=[],i=null,a=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);Xe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:S,errors:C}=i,N=y.route.loader&&!S.hasOwnProperty(y.route.id)&&(!C||C[y.route.id]===void 0);if(y.route.lazy||N){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,S)=>{let C,N=!1,j=null,z=null;i&&(C=c&&y.route.id?c[y.route.id]:void 0,j=y.route.errorElement||YS,f&&(m<0&&S===0?(t0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,z=null):m===S&&(N=!0,z=y.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,S+1)),F=()=>{let Q;return C?Q=j:N?Q=z:y.route.Component?Q=H.createElement(y.route.Component,null):y.route.element?Q=y.route.element:Q=p,H.createElement(XS,{match:y,routeContext:{outlet:p,matches:Y,isDataRoute:i!=null},children:Q})};return i&&(y.route.ErrorBoundary||y.route.errorElement||S===0)?H.createElement(QS,{location:i.location,revalidation:i.revalidation,component:j,error:C,children:F(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):F()},null)}function pm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WS(r){let e=H.useContext(no);return Xe(e,pm(r)),e}function JS(r){let e=H.useContext(rh);return Xe(e,pm(r)),e}function eA(r){let e=H.useContext(Qn);return Xe(e,pm(r)),e}function gm(r){let e=eA(r),i=e.matches[e.matches.length-1];return Xe(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function tA(){return gm("useRouteId")}function nA(){var a;let r=H.useContext(mm),e=JS("useRouteError"),i=gm("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[i]}function iA(){let{router:r}=WS("useNavigate"),e=gm("useNavigate"),i=H.useRef(!1);return J_(()=>{i.current=!0}),H.useCallback(async(o,c={})=>{Vn(i.current,W_),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var _v={};function t0(r,e,i){!e&&!_v[r]&&(_v[r]=!0,Vn(!1,i))}H.memo(rA);function rA({routes:r,future:e,state:i}){return e0(r,void 0,i,e)}function sA({to:r,replace:e,state:i,relative:a}){Xe(io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(Yn);Vn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=H.useContext(Qn),{pathname:f}=Xn(),m=es(),p=dm(r,fm(c),f,a==="path"),y=JSON.stringify(p);return H.useEffect(()=>{m(JSON.parse(y),{replace:e,state:i,relative:a})},[m,y,a,e,i]),null}function Hn(r){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aA({basename:r="/",children:e=null,location:i,navigationType:a="POP",navigator:o,static:c=!1}){Xe(!io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof i=="string"&&(i=$s(i));let{pathname:p="/",search:y="",hash:S="",state:C=null,key:N="default"}=i,j=H.useMemo(()=>{let z=Qr(p,f);return z==null?null:{location:{pathname:z,search:y,hash:S,state:C,key:N},navigationType:a}},[f,p,y,S,C,N,a]);return Vn(j!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${S}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:H.createElement(Yn.Provider,{value:m},H.createElement(Ll.Provider,{children:e,value:j}))}function oA({children:r,location:e}){return KS(Hd(r),e)}function Hd(r,e=[]){let i=[];return H.Children.forEach(r,(a,o)=>{if(!H.isValidElement(a))return;let c=[...e,o];if(a.type===H.Fragment){i.push.apply(i,Hd(a.props.children,c));return}Xe(a.type===Hn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Hd(a.props.children,c)),i.push(f)}),i}var Ac="get",wc="application/x-www-form-urlencoded";function sh(r){return r!=null&&typeof r.tagName=="string"}function lA(r){return sh(r)&&r.tagName.toLowerCase()==="button"}function uA(r){return sh(r)&&r.tagName.toLowerCase()==="form"}function cA(r){return sh(r)&&r.tagName.toLowerCase()==="input"}function hA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function fA(r,e){return r.button===0&&(!e||e==="_self")&&!hA(r)}var yc=null;function dA(){if(yc===null)try{new FormData(document.createElement("form"),0),yc=!1}catch{yc=!0}return yc}var mA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cd(r){return r!=null&&!mA.has(r)?(Vn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wc}"`),null):r}function pA(r,e){let i,a,o,c,f;if(uA(r)){let m=r.getAttribute("action");a=m?Qr(m,e):null,i=r.getAttribute("method")||Ac,o=Cd(r.getAttribute("enctype"))||wc,c=new FormData(r)}else if(lA(r)||cA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?Qr(p,e):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||Ac,o=Cd(r.getAttribute("formenctype"))||Cd(m.getAttribute("enctype"))||wc,c=new FormData(m,r),!dA()){let{name:y,type:S,value:C}=r;if(S==="image"){let N=y?`${y}.`:"";c.append(`${N}x`,"0"),c.append(`${N}y`,"0")}else y&&c.append(y,C)}}else{if(sh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ac,a=null,o=wc,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:c,body:f}}function ym(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function gA(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function vA(r,e,i){let a=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await gA(c,i);return f.links?f.links():[]}return[]}));return bA(a.flat(1).filter(yA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ev(r,e,i,a,o,c){let f=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,m=(p,y)=>{var S;return i[y].pathname!==p.pathname||((S=i[y].route.path)==null?void 0:S.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{var C;let S=a.routes[p.route.id];if(!S||!S.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let N=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((C=i[0])==null?void 0:C.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function _A(r,e){return EA(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function EA(r){return[...new Set(r)]}function TA(r){let e={},i=Object.keys(r).sort();for(let a of i)e[a]=r[a];return e}function bA(r,e){let i=new Set;return new Set(e),r.reduce((a,o)=>{let c=JSON.stringify(TA(o));return i.has(c)||(i.add(c),a.push({key:c,link:o})),a},[])}function SA(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function AA(){let r=H.useContext(no);return ym(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function wA(){let r=H.useContext(rh);return ym(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var vm=H.createContext(void 0);vm.displayName="FrameworkContext";function n0(){let r=H.useContext(vm);return ym(r,"You must render this element inside a <HydratedRouter> element"),r}function RA(r,e){let i=H.useContext(vm),[a,o]=H.useState(!1),[c,f]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:S,onTouchStart:C}=e,N=H.useRef(null);H.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=Q=>{Q.forEach(te=>{f(te.isIntersecting)})},F=new IntersectionObserver(Y,{threshold:.5});return N.current&&F.observe(N.current),()=>{F.disconnect()}}},[r]),H.useEffect(()=>{if(a){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[a]);let j=()=>{o(!0)},z=()=>{o(!1),f(!1)};return i?r!=="intent"?[c,N,{}]:[c,N,{onFocus:yl(m,j),onBlur:yl(p,z),onMouseEnter:yl(y,j),onMouseLeave:yl(S,z),onTouchStart:yl(C,j)}]:[!1,N,{}]}function yl(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function CA({page:r,...e}){let{router:i}=AA(),a=H.useMemo(()=>$_(i.routes,r,i.basename),[i.routes,r,i.basename]);return a?H.createElement(xA,{page:r,matches:a,...e}):null}function IA(r){let{manifest:e,routeModules:i}=n0(),[a,o]=H.useState([]);return H.useEffect(()=>{let c=!1;return vA(r,e,i).then(f=>{c||o(f)}),()=>{c=!0}},[r,e,i]),a}function xA({page:r,matches:e,...i}){let a=Xn(),{manifest:o,routeModules:c}=n0(),{loaderData:f,matches:m}=wA(),p=H.useMemo(()=>Ev(r,e,m,o,a,"data"),[r,e,m,o,a]),y=H.useMemo(()=>Ev(r,e,m,o,a,"assets"),[r,e,m,o,a]),S=H.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let j=new Set,z=!1;if(e.forEach(F=>{var te;let Q=o.routes[F.route.id];!Q||!Q.hasLoader||(!p.some(ee=>ee.route.id===F.route.id)&&F.route.id in f&&((te=c[F.route.id])!=null&&te.shouldRevalidate)||Q.hasClientLoader?z=!0:j.add(F.route.id))}),j.size===0)return[];let Y=SA(r);return z&&j.size>0&&Y.searchParams.set("_routes",e.filter(F=>j.has(F.route.id)).map(F=>F.route.id).join(",")),[Y.pathname+Y.search]},[f,a,o,p,e,r,c]),C=H.useMemo(()=>_A(y,o),[y,o]),N=IA(y);return H.createElement(H.Fragment,null,S.map(j=>H.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...i})),C.map(j=>H.createElement("link",{key:j,rel:"modulepreload",href:j,...i})),N.map(({key:j,link:z})=>H.createElement("link",{key:j,...z})))}function NA(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var i0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i0&&(window.__reactRouterVersion="7.1.5")}catch{}function OA({basename:r,children:e,window:i}){let a=H.useRef();a.current==null&&(a.current=yS({window:i,v5Compat:!0}));let o=a.current,[c,f]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>f(p))},[f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(aA,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var r0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=H.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:o,reloadDocument:c,replace:f,state:m,target:p,to:y,preventScrollReset:S,viewTransition:C,...N},j){let{basename:z}=H.useContext(Yn),Y=typeof y=="string"&&r0.test(y),F,Q=!1;if(typeof y=="string"&&Y&&(F=y,i0))try{let A=new URL(window.location.href),I=y.startsWith("//")?new URL(A.protocol+y):new URL(y),M=Qr(I.pathname,z);I.origin===A.origin&&M!=null?y=M+I.search+I.hash:Q=!0}catch{Vn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=qS(y,{relative:o}),[ee,de,ce]=RA(a,N),_e=VA(y,{replace:f,state:m,target:p,preventScrollReset:S,relative:o,viewTransition:C});function D(A){e&&e(A),A.defaultPrevented||_e(A)}let w=H.createElement("a",{...N,...ce,href:F||te,onClick:Q||c?e:D,ref:NA(j,de),target:p,"data-discover":!Y&&i==="render"?"true":void 0});return ee&&!Y?H.createElement(H.Fragment,null,w,H.createElement(CA,{page:te})):w});pt.displayName="Link";var DA=H.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:o=!1,style:c,to:f,viewTransition:m,children:p,...y},S){let C=Ul(f,{relative:y.relative}),N=Xn(),j=H.useContext(rh),{navigator:z,basename:Y}=H.useContext(Yn),F=j!=null&&zA(C)&&m===!0,Q=z.encodeLocation?z.encodeLocation(C).pathname:C.pathname,te=N.pathname,ee=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(te=te.toLowerCase(),ee=ee?ee.toLowerCase():null,Q=Q.toLowerCase()),ee&&Y&&(ee=Qr(ee,Y)||ee);const de=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ce=te===Q||!o&&te.startsWith(Q)&&te.charAt(de)==="/",_e=ee!=null&&(ee===Q||!o&&ee.startsWith(Q)&&ee.charAt(Q.length)==="/"),D={isActive:ce,isPending:_e,isTransitioning:F},w=ce?e:void 0,A;typeof a=="function"?A=a(D):A=[a,ce?"active":null,_e?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(D):c;return H.createElement(pt,{...y,"aria-current":w,className:A,ref:S,style:I,to:f,viewTransition:m},typeof p=="function"?p(D):p)});DA.displayName="NavLink";var kA=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:o,state:c,method:f=Ac,action:m,onSubmit:p,relative:y,preventScrollReset:S,viewTransition:C,...N},j)=>{let z=LA(),Y=UA(m,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&r0.test(m),te=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let de=ee.nativeEvent.submitter,ce=(de==null?void 0:de.getAttribute("formmethod"))||f;z(de||ee.currentTarget,{fetcherKey:e,method:ce,navigate:i,replace:o,state:c,relative:y,preventScrollReset:S,viewTransition:C})};return H.createElement("form",{ref:j,method:F,action:Y,onSubmit:a?p:te,...N,"data-discover":!Q&&r==="render"?"true":void 0})});kA.displayName="Form";function MA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s0(r){let e=H.useContext(no);return Xe(e,MA(r)),e}function VA(r,{target:e,replace:i,state:a,preventScrollReset:o,relative:c,viewTransition:f}={}){let m=es(),p=Xn(),y=Ul(r,{relative:c});return H.useCallback(S=>{if(fA(S,e)){S.preventDefault();let C=i!==void 0?i:Il(p)===Il(y);m(r,{replace:C,state:a,preventScrollReset:o,relative:c,viewTransition:f})}},[p,m,y,i,a,e,r,o,c,f])}var PA=0,jA=()=>`__${String(++PA)}__`;function LA(){let{router:r}=s0("useSubmit"),{basename:e}=H.useContext(Yn),i=tA();return H.useCallback(async(a,o={})=>{let{action:c,method:f,encType:m,formData:p,body:y}=pA(a,e);if(o.navigate===!1){let S=o.fetcherKey||jA();await r.fetch(S,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function UA(r,{relative:e}={}){let{basename:i}=H.useContext(Yn),a=H.useContext(Qn);Xe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...Ul(r||".",{relative:e})},f=Xn();if(r==null){c.search=f.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(S=>S==="")){m.delete("index"),p.filter(C=>C).forEach(C=>m.append("index",C));let S=m.toString();c.search=S?`?${S}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Wi([i,c.pathname])),Il(c)}function zA(r,e={}){let i=H.useContext(Z_);Xe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=s0("useViewTransitionState"),o=Ul(r,{relative:e.relative});if(!i.isTransitioning)return!1;let c=Qr(i.currentLocation.pathname,a)||i.currentLocation.pathname,f=Qr(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Mc(o.pathname,f)!=null||Mc(o.pathname,c)!=null}new TextEncoder;var a0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Tv=Ps.createContext&&Ps.createContext(a0),BA=["attr","size","title"];function HA(r,e){if(r==null)return{};var i=qA(r,e),a,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(o=0;o<c.length;o++)a=c[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(i[a]=r[a])}return i}function qA(r,e){if(r==null)return{};var i={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;i[a]=r[a]}return i}function Vc(){return Vc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},Vc.apply(this,arguments)}function bv(r,e){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),i.push.apply(i,a)}return i}function Pc(r){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?bv(Object(i),!0).forEach(function(a){FA(r,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):bv(Object(i)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(i,a))})}return r}function FA(r,e,i){return e=GA(e),e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i,r}function GA(r){var e=KA(r,"string");return typeof e=="symbol"?e:e+""}function KA(r,e){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var a=i.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function o0(r){return r&&r.map((e,i)=>Ps.createElement(e.tag,Pc({key:i},e.attr),o0(e.child)))}function l0(r){return e=>Ps.createElement($A,Vc({attr:Pc({},r.attr)},e),o0(r.child))}function $A(r){var e=i=>{var{attr:a,size:o,title:c}=r,f=HA(r,BA),m=o||i.size||"1em",p;return i.className&&(p=i.className),r.className&&(p=(p?p+" ":"")+r.className),Ps.createElement("svg",Vc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,a,f,{className:p,style:Pc(Pc({color:r.color||i.color},i.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&Ps.createElement("title",null,c),r.children)};return Tv!==void 0?Ps.createElement(Tv.Consumer,null,i=>e(i)):e(a0)}function YA(r){return l0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(r)}function QA(r){return l0({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}var Sv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},XA=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],f=r[i++],m=r[i++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],f=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},c0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,S=c>>2,C=(c&3)<<4|m>>4;let N=(m&15)<<2|y>>6,j=y&63;p||(j=64,f||(N=64)),a.push(i[S],i[C],i[N],i[j])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(u0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):XA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const C=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||y==null||C==null)throw new ZA;const N=c<<2|m>>4;if(a.push(N),y!==64){const j=m<<4&240|y>>2;if(a.push(j),C!==64){const z=y<<6&192|C;a.push(z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ZA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WA=function(r){const e=u0(r);return c0.encodeByteArray(e,!0)},jc=function(r){return WA(r).replace(/\./g,"")},h0=function(r){try{return c0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=()=>JA().__FIREBASE_DEFAULTS__,tw=()=>{if(typeof process>"u"||typeof Sv>"u")return;const r=Sv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},nw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&h0(r[1]);return e&&JSON.parse(e)},ah=()=>{try{return ew()||tw()||nw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},f0=r=>{var e,i;return(i=(e=ah())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},iw=r=>{const e=f0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},d0=()=>{var r;return(r=ah())===null||r===void 0?void 0:r.config},m0=r=>{var e;return(e=ah())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[jc(JSON.stringify(i)),jc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function ow(){var r;const e=(r=ah())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function uw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cw(){const r=Yt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function hw(){return!ow()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g0(){try{return typeof indexedDB=="object"}catch{return!1}}function y0(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}function fw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="FirebaseError";class Zn extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=dw,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ys.prototype.create)}}class Ys{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?mw(c,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Zn(o,m,a)}}function mw(r,e){return r.replace(pw,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const pw=/\{\$([^}]+)}/g;function gw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function xl(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],f=e[o];if(Av(c)&&Av(f)){if(!xl(c,f))return!1}else if(c!==f)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Av(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function _l(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function El(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}function yw(r,e){const i=new vw(r,e);return i.subscribe.bind(i)}class vw{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");_w(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Id),o.error===void 0&&(o.error=Id),o.complete===void 0&&(o.complete=Id);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _w(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Id(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=1e3,Tw=2,bw=4*60*60*1e3,Sw=.5;function wv(r,e=Ew,i=Tw){const a=e*Math.pow(i,r),o=Math.round(Sw*a*(Math.random()-.5)*2);return Math.min(bw,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(r){return r&&r._delegate?r._delegate:r}class Kn{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new rw;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Rw(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&f.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;c.add(e),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&e(f,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ww(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ww(r){return r===ks?void 0:r}function Rw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Aw(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ne||(Ne={}));const Iw={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},xw=Ne.INFO,Nw={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},Ow=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=Nw[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oh{constructor(e){this.name=e,this._logLevel=xw,this._logHandler=Ow,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Iw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const Dw=(r,e)=>e.some(i=>r instanceof i);let Rv,Cv;function kw(){return Rv||(Rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mw(){return Cv||(Cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v0=new WeakMap,qd=new WeakMap,_0=new WeakMap,xd=new WeakMap,_m=new WeakMap;function Vw(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(Kr(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&v0.set(i,r)}).catch(()=>{}),_m.set(e,r),e}function Pw(r){if(qd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});qd.set(r,e)}let Fd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return qd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||_0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Kr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function jw(r){Fd=r(Fd)}function Lw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Nd(this),e,...i);return _0.set(a,e.sort?e.sort():[e]),Kr(a)}:Mw().includes(r)?function(...e){return r.apply(Nd(this),e),Kr(v0.get(this))}:function(...e){return Kr(r.apply(Nd(this),e))}}function Uw(r){return typeof r=="function"?Lw(r):(r instanceof IDBTransaction&&Pw(r),Dw(r,kw())?new Proxy(r,Fd):r)}function Kr(r){if(r instanceof IDBRequest)return Vw(r);if(xd.has(r))return xd.get(r);const e=Uw(r);return e!==r&&(xd.set(r,e),_m.set(e,r)),e}const Nd=r=>_m.get(r);function E0(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const f=indexedDB.open(r,e),m=Kr(f);return a&&f.addEventListener("upgradeneeded",p=>{a(Kr(f.result),p.oldVersion,p.newVersion,Kr(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const zw=["get","getKey","getAll","getAllKeys","count"],Bw=["put","add","delete","clear"],Od=new Map;function Iv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Od.get(e))return Od.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=Bw.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||zw.includes(i)))return;const c=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&p.done]))[0]};return Od.set(e,c),c}jw(r=>({...r,get:(e,i,a)=>Iv(e,i)||r.get(e,i,a),has:(e,i)=>!!Iv(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(qw(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function qw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gd="@firebase/app",xv="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new oh("@firebase/app"),Fw="@firebase/app-compat",Gw="@firebase/analytics-compat",Kw="@firebase/analytics",$w="@firebase/app-check-compat",Yw="@firebase/app-check",Qw="@firebase/auth",Xw="@firebase/auth-compat",Zw="@firebase/database",Ww="@firebase/data-connect",Jw="@firebase/database-compat",e1="@firebase/functions",t1="@firebase/functions-compat",n1="@firebase/installations",i1="@firebase/installations-compat",r1="@firebase/messaging",s1="@firebase/messaging-compat",a1="@firebase/performance",o1="@firebase/performance-compat",l1="@firebase/remote-config",u1="@firebase/remote-config-compat",c1="@firebase/storage",h1="@firebase/storage-compat",f1="@firebase/firestore",d1="@firebase/vertexai",m1="@firebase/firestore-compat",p1="firebase",g1="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="[DEFAULT]",y1={[Gd]:"fire-core",[Fw]:"fire-core-compat",[Kw]:"fire-analytics",[Gw]:"fire-analytics-compat",[Yw]:"fire-app-check",[$w]:"fire-app-check-compat",[Qw]:"fire-auth",[Xw]:"fire-auth-compat",[Zw]:"fire-rtdb",[Ww]:"fire-data-connect",[Jw]:"fire-rtdb-compat",[e1]:"fire-fn",[t1]:"fire-fn-compat",[n1]:"fire-iid",[i1]:"fire-iid-compat",[r1]:"fire-fcm",[s1]:"fire-fcm-compat",[a1]:"fire-perf",[o1]:"fire-perf-compat",[l1]:"fire-rc",[u1]:"fire-rc-compat",[c1]:"fire-gcs",[h1]:"fire-gcs-compat",[f1]:"fire-fst",[m1]:"fire-fst-compat",[d1]:"fire-vertex","fire-js":"fire-js",[p1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,v1=new Map,$d=new Map;function Nv(r,e){try{r.container.addComponent(e)}catch(i){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function yi(r){const e=r.name;if($d.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;$d.set(e,r);for(const i of Lc.values())Nv(i,r);for(const i of v1.values())Nv(i,r);return!0}function Qs(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new Ys("app","Firebase",_1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=g1;function T0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Kd,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw $r.create("bad-app-name",{appName:String(o)});if(i||(i=d0()),!i)throw $r.create("no-options");const c=Lc.get(o);if(c){if(xl(i,c.options)&&xl(a,c.config))return c;throw $r.create("duplicate-app",{appName:o})}const f=new Cw(o);for(const p of $d.values())f.addComponent(p);const m=new E1(i,a,f);return Lc.set(o,m),m}function Em(r=Kd){const e=Lc.get(r);if(!e&&r===Kd&&d0())return T0();if(!e)throw $r.create("no-app",{appName:r});return e}function Mn(r,e,i){var a;let o=(a=y1[r])!==null&&a!==void 0?a:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${o}" with version "${e}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(m.join(" "));return}yi(new Kn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="firebase-heartbeat-database",b1=1,Nl="firebase-heartbeat-store";let Dd=null;function b0(){return Dd||(Dd=E0(T1,b1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(r=>{throw $r.create("idb-open",{originalErrorMessage:r.message})})),Dd}async function S1(r){try{const i=(await b0()).transaction(Nl),a=await i.objectStore(Nl).get(S0(r));return await i.done,a}catch(e){if(e instanceof Zn)nr.warn(e.message);else{const i=$r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(i.message)}}}async function Ov(r,e){try{const a=(await b0()).transaction(Nl,"readwrite");await a.objectStore(Nl).put(e,S0(r)),await a.done}catch(i){if(i instanceof Zn)nr.warn(i.message);else{const a=$r.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});nr.warn(a.message)}}}function S0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=1024,w1=30;class R1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new I1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Dv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>w1){const f=x1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){nr.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Dv(),{heartbeatsToSend:a,unsentEntries:o}=C1(this._heartbeatsCache.heartbeats),c=jc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return nr.warn(i),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function C1(r,e=A1){const i=[];let a=r.slice();for(const o of r){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),kv(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),kv(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class I1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g0()?y0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await S1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ov(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ov(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function kv(r){return jc(JSON.stringify({version:2,heartbeats:r})).length}function x1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(r){yi(new Kn("platform-logger",e=>new Hw(e),"PRIVATE")),yi(new Kn("heartbeat",e=>new R1(e),"PRIVATE")),Mn(Gd,xv,r),Mn(Gd,xv,"esm2017"),Mn("fire-js","")}N1("");function Tm(r,e){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(i[a[o]]=r[a[o]]);return i}function A0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O1=A0,w0=new Ys("auth","Firebase",A0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new oh("@firebase/auth");function D1(r,...e){Uc.logLevel<=Ne.WARN&&Uc.warn(`Auth (${ro}): ${r}`,...e)}function Rc(r,...e){Uc.logLevel<=Ne.ERROR&&Uc.error(`Auth (${ro}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(r,...e){throw bm(r,...e)}function pi(r,...e){return bm(r,...e)}function R0(r,e,i){const a=Object.assign(Object.assign({},O1()),{[e]:i});return new Ys("auth","Firebase",a).create(e,{appName:r.name})}function Ji(r){return R0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return w0.create(r,...e)}function Ee(r,e,...i){if(!r)throw bm(e,...i)}function Qi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Rc(e),new Error(e)}function ir(r,e){r||Qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function k1(){return Mv()==="http:"||Mv()==="https:"}function Mv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k1()||p0()||"connection"in navigator)?navigator.onLine:!0}function V1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,i){this.shortDelay=e,this.longDelay=i,ir(i>e,"Short delay should be less than long delay!"),this.isMobile=aw()||uw()}get(){return M1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(r,e){ir(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new Bl(3e4,6e4);function rr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ei(r,e,i,a,o={}){return I0(r,o,async()=>{let c={},f={};a&&(e==="GET"?f=a:c={body:JSON.stringify(a)});const m=zl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},c);return lw()||(y.referrerPolicy="no-referrer"),C0.fetch()(x0(r,r.config.apiHost,i,m),y)})}async function I0(r,e,i){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},P1),e);try{const o=new U1(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw vc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const m=c.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw vc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw vc(r,"user-disabled",f);const S=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw R0(r,S,y);$n(r,S)}}catch(o){if(o instanceof Zn)throw o;$n(r,"network-request-failed",{message:String(o)})}}async function Hl(r,e,i,a,o={}){const c=await Ei(r,e,i,a,o);return"mfaPendingCredential"in c&&$n(r,"multi-factor-auth-required",{_serverResponse:c}),c}function x0(r,e,i,a){const o=`${e}${i}?${a}`;return r.config.emulator?Sm(r.config,o):`${r.config.apiScheme}://${o}`}function L1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(pi(this.auth,"network-request-failed")),j1.get())})}}function vc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=pi(r,e,a);return o.customData._tokenResponse=i,o}function Vv(r){return r!==void 0&&r.enterprise!==void 0}class z1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return L1(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B1(r,e){return Ei(r,"GET","/v2/recaptchaConfig",rr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(r,e){return Ei(r,"POST","/v1/accounts:delete",e)}async function N0(r,e){return Ei(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function q1(r,e=!1){const i=Bt(r),a=await i.getIdToken(e),o=Am(a);Ee(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:o,token:a,authTime:bl(kd(o.auth_time)),issuedAtTime:bl(kd(o.iat)),expirationTime:bl(kd(o.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function kd(r){return Number(r)*1e3}function Am(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Rc("JWT malformed, contained fewer than 3 sections"),null;try{const o=h0(i);return o?JSON.parse(o):(Rc("Failed to decode base64 JWT payload"),null)}catch(o){return Rc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Pv(r){const e=Am(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Zn&&F1(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function F1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(r){var e;const i=r.auth,a=await r.getIdToken(),o=await Xa(r,N0(i,{idToken:a}));Ee(o==null?void 0:o.users.length,i,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const f=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?O0(c.providerUserInfo):[],m=$1(r.providerData,f),p=r.isAnonymous,y=!(r.email&&c.passwordHash)&&!(m!=null&&m.length),S=p?y:!1,C={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new Qd(c.createdAt,c.lastLoginAt),isAnonymous:S};Object.assign(r,C)}async function K1(r){const e=Bt(r);await zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $1(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function O0(r){return r.map(e=>{var{providerId:i}=e,a=Tm(e,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(r,e){const i=await I0(r,{},async()=>{const a=zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,f=x0(r,o,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",C0.fetch()(f,{method:"POST",headers:m,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Q1(r,e){return Ei(r,"POST","/v2/accounts:revokeToken",rr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=Pv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await Y1(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,f=new Ka;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xi{constructor(e){var{uid:i,auth:a,stsTokenManager:o}=e,c=Tm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Qd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const i=await Xa(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return q1(this,e)}reload(){return K1(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await Xa(this,H1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var a,o,c,f,m,p,y,S;const C=(a=i.displayName)!==null&&a!==void 0?a:void 0,N=(o=i.email)!==null&&o!==void 0?o:void 0,j=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,z=(f=i.photoURL)!==null&&f!==void 0?f:void 0,Y=(m=i.tenantId)!==null&&m!==void 0?m:void 0,F=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(y=i.createdAt)!==null&&y!==void 0?y:void 0,te=(S=i.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:ee,emailVerified:de,isAnonymous:ce,providerData:_e,stsTokenManager:D}=i;Ee(ee&&D,e,"internal-error");const w=Ka.fromJSON(this.name,D);Ee(typeof ee=="string",e,"internal-error"),Hr(C,e.name),Hr(N,e.name),Ee(typeof de=="boolean",e,"internal-error"),Ee(typeof ce=="boolean",e,"internal-error"),Hr(j,e.name),Hr(z,e.name),Hr(Y,e.name),Hr(F,e.name),Hr(Q,e.name),Hr(te,e.name);const A=new Xi({uid:ee,auth:e,email:N,emailVerified:de,displayName:C,isAnonymous:ce,photoURL:z,phoneNumber:j,tenantId:Y,stsTokenManager:w,createdAt:Q,lastLoginAt:te});return _e&&Array.isArray(_e)&&(A.providerData=_e.map(I=>Object.assign({},I))),F&&(A._redirectEventId=F),A}static async _fromIdTokenResponse(e,i,a=!1){const o=new Ka;o.updateFromServerResponse(i);const c=new Xi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await zc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?O0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),m=new Ka;m.updateFromIdToken(a);const p=new Xi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Qd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new Map;function Zi(r){ir(r instanceof Function,"Expected a class definition");let e=jv.get(r);return e?(ir(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,jv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}D0.type="NONE";const Lv=D0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(r,e,i){return`firebase:${r}:${e}:${i}`}class $a{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Cc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Cc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new $a(Zi(Lv),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Zi(Lv);const f=Cc(a,e.config.apiKey,e.name);let m=null;for(const y of i)try{const S=await y._get(f);if(S){const C=Xi._fromJSON(e,S);y!==c&&(m=C),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new $a(c,e,a):(c=p[0],m&&await c._set(f,m.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new $a(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L0(e))return"Blackberry";if(U0(e))return"Webos";if(M0(e))return"Safari";if((e.includes("chrome/")||V0(e))&&!e.includes("edge/"))return"Chrome";if(j0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function k0(r=Yt()){return/firefox\//i.test(r)}function M0(r=Yt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V0(r=Yt()){return/crios\//i.test(r)}function P0(r=Yt()){return/iemobile/i.test(r)}function j0(r=Yt()){return/android/i.test(r)}function L0(r=Yt()){return/blackberry/i.test(r)}function U0(r=Yt()){return/webos/i.test(r)}function wm(r=Yt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function X1(r=Yt()){var e;return wm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Z1(){return cw()&&document.documentMode===10}function z0(r=Yt()){return wm(r)||j0(r)||U0(r)||L0(r)||/windows phone/i.test(r)||P0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(r,e=[]){let i;switch(r){case"Browser":i=Uv(Yt());break;case"Worker":i=`${Uv(Yt())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ro}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((f,m)=>{try{const p=e(c);f(p)}catch(p){m(p)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(r,e={}){return Ei(r,"GET","/v2/passwordPolicy",rr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=6;class tR{constructor(e){var i,a,o,c;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=f.minPasswordLength)!==null&&i!==void 0?i:eR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,a,o,c,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zv(this),this.idTokenSubscription=new zv(this),this.beforeStateQueue=new W1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await N0(this,{idToken:e}),a=await Xi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(kn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await zc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Ji(this));const i=e?Bt(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J1(this),i=new tR(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ys("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Q1(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Zi(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,o);return()=>{f=!0,p()}}else{const p=e.addObserver(i);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=B0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&D1(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Xs(r){return Bt(r)}class zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=yw(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iR(r){lh=r}function H0(r){return lh.loadJS(r)}function rR(){return lh.recaptchaEnterpriseScript}function sR(){return lh.gapiScript}function aR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class oR{constructor(){this.enterprise=new lR}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class lR{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const uR="recaptcha-enterprise",q0="NO_RECAPTCHA";class cR{constructor(e){this.type=uR,this.auth=Xs(e)}async verify(e="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,m)=>{B1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new z1(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(c,f,m){const p=window.grecaptcha;Vv(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{f(y)}).catch(()=>{f(q0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oR().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{a(this.auth).then(m=>{if(!i&&Vv(window.grecaptcha))o(m,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=rR();p.length!==0&&(p+=m),H0(p).then(()=>{o(m,c,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Bv(r,e,i,a=!1,o=!1){const c=new cR(r);let f;if(o)f=q0;else try{f=await c.verify(i)}catch{f=await c.verify(i,!0)}const m=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Xd(r,e,i,a,o){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Bv(r,e,i,i==="getOobCode");return a(r,f)}else return a(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Bv(r,e,i,i==="getOobCode");return a(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(r,e){const i=Qs(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(xl(c,e??{}))return o;$n(o,"already-initialized")}return i.initialize({options:e})}function fR(r,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(Zi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function dR(r,e,i){const a=Xs(r);Ee(a._canInitEmulator,a,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=F0(e),{host:f,port:m}=mR(e),p=m===null?"":`:${m}`;a.config.emulator={url:`${c}//${f}${p}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:f,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),pR()}function F0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function mR(r){const e=F0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:Hv(a.substr(c.length+1))}}else{const[c,f]=a.split(":");return{host:c,port:Hv(f)}}}function Hv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function pR(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,i){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}async function gR(r,e){return Ei(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(r,e){return Hl(r,"POST","/v1/accounts:signInWithPassword",rr(r,e))}async function vR(r,e){return Ei(r,"POST","/v1/accounts:sendOobCode",rr(r,e))}async function _R(r,e){return vR(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(r,e){return Hl(r,"POST","/v1/accounts:signInWithEmailLink",rr(r,e))}async function TR(r,e){return Hl(r,"POST","/v1/accounts:signInWithEmailLink",rr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Rm{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Ol(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Ol(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xd(e,i,"signInWithPassword",yR);case"emailLink":return ER(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xd(e,a,"signUpPassword",gR);case"emailLink":return TR(e,{idToken:i,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(r,e){return Hl(r,"POST","/v1/accounts:signInWithIdp",rr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="http://localhost";class Us extends Rm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):$n("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=i,c=Tm(i,["providerId","signInMethod"]);if(!a||!o)return null;const f=new Us(a,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return Ya(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Ya(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ya(e,i)}buildRequest(){const e={requestUri:bR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=zl(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AR(r){const e=_l(El(r)).link,i=e?_l(El(e)).deep_link_id:null,a=_l(El(r)).deep_link_id;return(a?_l(El(a)).link:null)||a||i||e||r}class Cm{constructor(e){var i,a,o,c,f,m;const p=_l(El(e)),y=(i=p.apiKey)!==null&&i!==void 0?i:null,S=(a=p.oobCode)!==null&&a!==void 0?a:null,C=SR((o=p.mode)!==null&&o!==void 0?o:null);Ee(y&&S&&C,"argument-error"),this.apiKey=y,this.operation=C,this.code=S,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const i=AR(e);try{return new Cm(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.providerId=so.PROVIDER_ID}static credential(e,i){return Ol._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Cm.parseLink(i);return Ee(a,"argument-error"),Ol._fromEmailAndCode(e,a.code,a.tenantId)}}so.PROVIDER_ID="password";so.EMAIL_PASSWORD_SIGN_IN_METHOD="password";so.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends G0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends ql{constructor(){super("facebook.com")}static credential(e){return Us._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Us._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Yi.credential(i,a)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends ql{constructor(){super("github.com")}static credential(e){return Us._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends ql{constructor(){super("twitter.com")}static credential(e,i){return Us._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Gr.credential(i,a)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(r,e){return Hl(r,"POST","/v1/accounts:signUp",rr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await Xi._fromIdTokenResponse(e,a,o),f=qv(a);return new zs({user:c,providerId:f,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=qv(a);return new zs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function qv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Zn{constructor(e,i,a,o){var c;super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Bc.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Bc(e,i,a,o)}}function K0(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Bc._fromErrorAndOperation(r,c,e,a):c})}async function RR(r,e,i=!1){const a=await Xa(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return zs._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(r,e,i=!1){const{auth:a}=r;if(kn(a.app))return Promise.reject(Ji(a));const o="reauthenticate";try{const c=await Xa(r,K0(a,o,e,r),i);Ee(c.idToken,a,"internal-error");const f=Am(c.idToken);Ee(f,a,"internal-error");const{sub:m}=f;return Ee(r.uid===m,a,"user-mismatch"),zs._forOperation(r,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&$n(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(r,e,i=!1){if(kn(r.app))return Promise.reject(Ji(r));const a="signIn",o=await K0(r,a,e),c=await zs._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function IR(r,e){return $0(Xs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y0(r){const e=Xs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xR(r,e,i){if(kn(r.app))return Promise.reject(Ji(r));const a=Xs(r),f=await Xd(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Y0(r),p}),m=await zs._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function NR(r,e,i){return kn(r.app)?Promise.reject(Ji(r)):IR(Bt(r),so.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Y0(r),a})}async function OR(r,e){const i=Bt(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:c}=await _R(i.auth,o);c!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(r,e){return Ei(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(r,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const a=Bt(r),c={idToken:await a.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},f=await Xa(a,DR(a.auth,c));a.displayName=f.displayName||null,a.photoURL=f.photoUrl||null;const m=a.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=a.displayName,m.photoURL=a.photoURL),await a._updateTokensIfNecessary(f)}function MR(r,e,i,a){return Bt(r).onIdTokenChanged(e,i,a)}function VR(r,e,i){return Bt(r).beforeAuthStateChanged(e,i)}function Q0(r,e,i,a){return Bt(r).onAuthStateChanged(e,i,a)}function PR(r){return Bt(r).signOut()}const Hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=1e3,LR=10;class Z0 extends X0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!i&&this.localCache[a]===f||this.notifyListeners(a,f)},c=this.storage.getItem(a);Z1()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,LR):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},jR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z0.type="LOCAL";const UR=Z0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends X0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}W0.type="SESSION";const J0=W0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new uh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async y=>y(i.origin,c)),p=await zR(m);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((m,p)=>{const y=Im("",20);o.port1.start();const S=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(C){const N=C;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(N.data.response);break;default:clearTimeout(S),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function HR(r){gi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function qR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function GR(){return eE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="firebaseLocalStorageDb",KR=1,qc="firebaseLocalStorage",nE="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ch(r,e){return r.transaction([qc],e?"readwrite":"readonly").objectStore(qc)}function $R(){const r=indexedDB.deleteDatabase(tE);return new Fl(r).toPromise()}function Zd(){const r=indexedDB.open(tE,KR);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(qc,{keyPath:nE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(qc)?e(a):(a.close(),await $R(),e(await Zd()))})})}async function Fv(r,e,i){const a=ch(r,!0).put({[nE]:e,value:i});return new Fl(a).toPromise()}async function YR(r,e){const i=ch(r,!1).get(e),a=await new Fl(i).toPromise();return a===void 0?null:a.value}function Gv(r,e){const i=ch(r,!0).delete(e);return new Fl(i).toPromise()}const QR=800,XR=3;class iE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>XR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(GR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await qR(),!this.activeServiceWorker)return;this.sender=new BR(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zd();return await Fv(e,Hc,"1"),await Gv(e,Hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Fv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>YR(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Gv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ch(o,!1).getAll();return new Fl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iE.type="LOCAL";const ZR=iE;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(r,e){return e?Zi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends Rm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ya(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ya(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function JR(r){return $0(r.auth,new xm(r),r.bypassAuthState)}function e2(r){const{auth:e,user:i}=r;return Ee(i,e,"internal-error"),CR(i,new xm(r),r.bypassAuthState)}async function t2(r){const{auth:e,user:i}=r;return Ee(i,e,"internal-error"),RR(i,new xm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JR;case"linkViaPopup":case"linkViaRedirect":return t2;case"reauthViaPopup":case"reauthViaRedirect":return e2;default:$n(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Bl(2e3,1e4);class Ga extends rE{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,n2.get())};e()}}Ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="pendingRedirect",Ic=new Map;class r2 extends rE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Ic.get(this.auth._key());if(!e){try{const a=await s2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Ic.set(this.auth._key(),e)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s2(r,e){const i=l2(e),a=o2(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function a2(r,e){Ic.set(r._key(),e)}function o2(r){return Zi(r._redirectPersistence)}function l2(r){return Cc(i2,r.config.apiKey,r.name)}async function u2(r,e,i=!1){if(kn(r.app))return Promise.reject(Ji(r));const a=Xs(r),o=WR(a,e),f=await new r2(a,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=10*60*1e3;class h2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!f2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!sE(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(pi(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kv(e))}saveEventToCache(e){this.cachedEventUids.add(Kv(e)),this.lastProcessedEventTime=Date.now()}}function Kv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function sE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function f2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(r,e={}){return Ei(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p2=/^https?/;async function g2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await d2(r);for(const i of e)try{if(y2(i))return}catch{}$n(r,"unauthorized-domain")}function y2(r){const e=Yd(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===a}if(!p2.test(i))return!1;if(m2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new Bl(3e4,6e4);function $v(){const r=gi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function _2(r){return new Promise((e,i)=>{var a,o,c;function f(){$v(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$v(),i(pi(r,"network-request-failed"))},timeout:v2.get()})}if(!((o=(a=gi().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=gi().gapi)===null||c===void 0)&&c.load)f();else{const m=aR("iframefcb");return gi()[m]=()=>{gapi.load?f():i(pi(r,"network-request-failed"))},H0(`${sR()}?onload=${m}`).catch(p=>i(p))}}).catch(e=>{throw xc=null,e})}let xc=null;function E2(r){return xc=xc||_2(r),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Bl(5e3,15e3),b2="__/auth/iframe",S2="emulator/auth/iframe",A2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R2(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Sm(e,S2):`https://${r.config.authDomain}/${b2}`,a={apiKey:e.apiKey,appName:r.name,v:ro},o=w2.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zl(a).slice(1)}`}async function C2(r){const e=await E2(r),i=gi().gapi;return Ee(i,r,"internal-error"),e.open({where:document.body,url:R2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const f=pi(r,"network-request-failed"),m=gi().setTimeout(()=>{c(f)},T2.get());function p(){gi().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x2=500,N2=600,O2="_blank",D2="http://localhost";class Yv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k2(r,e,i,a=x2,o=N2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},I2),{width:a.toString(),height:o.toString(),top:c,left:f}),y=Yt().toLowerCase();i&&(m=V0(y)?O2:i),k0(y)&&(e=e||D2,p.scrollbars="yes");const S=Object.entries(p).reduce((N,[j,z])=>`${N}${j}=${z},`,"");if(X1(y)&&m!=="_self")return M2(e||"",m),new Yv(null);const C=window.open(e||"",m,S);Ee(C,r,"popup-blocked");try{C.focus()}catch{}return new Yv(C)}function M2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="__/auth/handler",P2="emulator/auth/handler",j2=encodeURIComponent("fac");async function Qv(r,e,i,a,o,c){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:ro,eventId:o};if(e instanceof G0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",gw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,C]of Object.entries({}))f[S]=C}if(e instanceof ql){const S=e.getScopes().filter(C=>C!=="");S.length>0&&(f.scopes=S.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const S of Object.keys(m))m[S]===void 0&&delete m[S];const p=await r._getAppCheckToken(),y=p?`#${j2}=${encodeURIComponent(p)}`:"";return`${L2(r)}?${zl(m).slice(1)}${y}`}function L2({config:r}){return r.emulator?Sm(r,P2):`https://${r.authDomain}/${V2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="webStorageSupport";class U2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J0,this._completeRedirectFn=u2,this._overrideRedirectResult=a2}async _openPopup(e,i,a,o){var c;ir((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await Qv(e,i,a,Yd(),o);return k2(e,f,Im())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await Qv(e,i,a,Yd(),o);return HR(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ir(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await C2(e),a=new h2(e);return i.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Md,{type:Md},o=>{var c;const f=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[Md];f!==void 0&&i(!!f),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=g2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return z0()||M0()||wm()}}const z2=U2;var Xv="@firebase/auth",Zv="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q2(r){yi(new Kn("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B0(r)},y=new nR(a,o,c,p);return fR(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),yi(new Kn("auth-internal",e=>{const i=Xs(e.getProvider("auth").getImmediate());return(a=>new B2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mn(Xv,Zv,H2(r)),Mn(Xv,Zv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=5*60,G2=m0("authIdTokenMaxAge")||F2;let Wv=null;const K2=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>G2)return;const o=i==null?void 0:i.token;Wv!==o&&(Wv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $2(r=Em()){const e=Qs(r,"auth");if(e.isInitialized())return e.getImmediate();const i=hR(r,{popupRedirectResolver:z2,persistence:[ZR,UR,J0]}),a=m0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const f=K2(c.toString());VR(i,f,()=>f(i.currentUser)),MR(i,m=>f(m))}}const o=f0("auth");return o&&dR(i,`http://${o}`),i}function Y2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}iR({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=pi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Y2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q2("Browser");var Q2="firebase",X2="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn(Q2,X2,"app");const aE="@firebase/installations",Nm="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=1e4,lE=`w:${Nm}`,uE="FIS_v2",Z2="https://firebaseinstallations.googleapis.com/v1",W2=60*60*1e3,J2="installations",eC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bs=new Ys(J2,eC,tC);function cE(r){return r instanceof Zn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE({projectId:r}){return`${Z2}/projects/${r}/installations`}function fE(r){return{token:r.token,requestStatus:2,expiresIn:iC(r.expiresIn),creationTime:Date.now()}}async function dE(r,e){const a=(await e.json()).error;return Bs.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function mE({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function nC(r,{refreshToken:e}){const i=mE(r);return i.append("Authorization",rC(e)),i}async function pE(r){const e=await r();return e.status>=500&&e.status<600?r():e}function iC(r){return Number(r.replace("s","000"))}function rC(r){return`${uE} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const a=hE(r),o=mE(r),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:i,authVersion:uE,appId:r.appId,sdkVersion:lE},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await pE(()=>fetch(a,m));if(p.ok){const y=await p.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:fE(y.authToken)}}else throw await dE("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=/^[cdef][\w-]{21}$/,Wd="";function lC(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=uC(r);return oC.test(i)?i:Wd}catch{return Wd}}function uC(r){return aC(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map;function vE(r,e){const i=hh(r);_E(i,e),cC(i,e)}function _E(r,e){const i=yE.get(r);if(i)for(const a of i)a(e)}function cC(r,e){const i=hC();i&&i.postMessage({key:r,fid:e}),fC()}let Ms=null;function hC(){return!Ms&&"BroadcastChannel"in self&&(Ms=new BroadcastChannel("[Firebase] FID Change"),Ms.onmessage=r=>{_E(r.data.key,r.data.fid)}),Ms}function fC(){yE.size===0&&Ms&&(Ms.close(),Ms=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="firebase-installations-database",mC=1,Hs="firebase-installations-store";let Vd=null;function Om(){return Vd||(Vd=E0(dC,mC,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Hs)}}})),Vd}async function Fc(r,e){const i=hh(r),o=(await Om()).transaction(Hs,"readwrite"),c=o.objectStore(Hs),f=await c.get(i);return await c.put(e,i),await o.done,(!f||f.fid!==e.fid)&&vE(r,e.fid),e}async function EE(r){const e=hh(r),a=(await Om()).transaction(Hs,"readwrite");await a.objectStore(Hs).delete(e),await a.done}async function fh(r,e){const i=hh(r),o=(await Om()).transaction(Hs,"readwrite"),c=o.objectStore(Hs),f=await c.get(i),m=e(f);return m===void 0?await c.delete(i):await c.put(m,i),await o.done,m&&(!f||f.fid!==m.fid)&&vE(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dm(r){let e;const i=await fh(r.appConfig,a=>{const o=pC(a),c=gC(r,o);return e=c.registrationPromise,c.installationEntry});return i.fid===Wd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function pC(r){const e=r||{fid:lC(),registrationStatus:0};return TE(e)}function gC(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Bs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=yC(r,i);return{installationEntry:i,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:vC(r)}:{installationEntry:e}}async function yC(r,e){try{const i=await sC(r,e);return Fc(r.appConfig,i)}catch(i){throw cE(i)&&i.customData.serverCode===409?await EE(r.appConfig):await Fc(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function vC(r){let e=await Jv(r.appConfig);for(;e.registrationStatus===1;)await gE(100),e=await Jv(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:a}=await Dm(r);return a||i}return e}function Jv(r){return fh(r,e=>{if(!e)throw Bs.create("installation-not-found");return TE(e)})}function TE(r){return _C(r)?{fid:r.fid,registrationStatus:0}:r}function _C(r){return r.registrationStatus===1&&r.registrationTime+oE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC({appConfig:r,heartbeatServiceProvider:e},i){const a=TC(r,i),o=nC(r,i),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:lE,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await pE(()=>fetch(a,m));if(p.ok){const y=await p.json();return fE(y)}else throw await dE("Generate Auth Token",p)}function TC(r,{fid:e}){return`${hE(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function km(r,e=!1){let i;const a=await fh(r.appConfig,c=>{if(!bE(c))throw Bs.create("not-registered");const f=c.authToken;if(!e&&AC(f))return c;if(f.requestStatus===1)return i=bC(r,e),c;{if(!navigator.onLine)throw Bs.create("app-offline");const m=RC(c);return i=SC(r,m),m}});return i?await i:a.authToken}async function bC(r,e){let i=await e_(r.appConfig);for(;i.authToken.requestStatus===1;)await gE(100),i=await e_(r.appConfig);const a=i.authToken;return a.requestStatus===0?km(r,e):a}function e_(r){return fh(r,e=>{if(!bE(e))throw Bs.create("not-registered");const i=e.authToken;return CC(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function SC(r,e){try{const i=await EC(r,e),a=Object.assign(Object.assign({},e),{authToken:i});return await Fc(r.appConfig,a),i}catch(i){if(cE(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await EE(r.appConfig);else{const a=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Fc(r.appConfig,a)}throw i}}function bE(r){return r!==void 0&&r.registrationStatus===2}function AC(r){return r.requestStatus===2&&!wC(r)}function wC(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+W2}function RC(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function CC(r){return r.requestStatus===1&&r.requestTime+oE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(r){const e=r,{installationEntry:i,registrationPromise:a}=await Dm(e);return a?a.catch(console.error):km(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(r,e=!1){const i=r;return await NC(i),(await km(i,e)).token}async function NC(r){const{registrationPromise:e}=await Dm(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(r){if(!r||!r.options)throw Pd("App Configuration");if(!r.name)throw Pd("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw Pd(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Pd(r){return Bs.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="installations",DC="installations-internal",kC=r=>{const e=r.getProvider("app").getImmediate(),i=OC(e),a=Qs(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},MC=r=>{const e=r.getProvider("app").getImmediate(),i=Qs(e,SE).getImmediate();return{getId:()=>IC(i),getToken:o=>xC(i,o)}};function VC(){yi(new Kn(SE,kC,"PUBLIC")),yi(new Kn(DC,MC,"PRIVATE"))}VC();Mn(aE,Nm);Mn(aE,Nm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="analytics",PC="firebase_id",jC="origin",LC=60*1e3,UC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new oh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},pn=new Ys("analytics","Analytics",zC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(r){if(!r.startsWith(Mm)){const e=pn.create("invalid-gtag-resource",{gtagURL:r});return an.warn(e.message),""}return r}function AE(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function HC(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function qC(r,e){const i=HC("firebase-js-sdk-policy",{createScriptURL:BC}),a=document.createElement("script"),o=`${Mm}?l=${r}&id=${e}`;a.src=i?i==null?void 0:i.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function FC(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function GC(r,e,i,a,o,c){const f=a[o];try{if(f)await e[f];else{const p=(await AE(i)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(m){an.error(m)}r("config",o,c)}async function KC(r,e,i,a,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await AE(i);for(const p of f){const y=m.find(C=>C.measurementId===p),S=y&&e[y.appId];if(S)c.push(S);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),r("event",a,o||{})}catch(c){an.error(c)}}function $C(r,e,i,a){async function o(c,...f){try{if(c==="event"){const[m,p]=f;await KC(r,e,i,m,p)}else if(c==="config"){const[m,p]=f;await GC(r,e,i,a,m,p)}else if(c==="consent"){const[m,p]=f;r("consent",m,p)}else if(c==="get"){const[m,p,y]=f;r("get",m,p,y)}else if(c==="set"){const[m]=f;r("set",m)}else r(c,...f)}catch(m){an.error(m)}}return o}function YC(r,e,i,a,o){let c=function(...f){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=$C(c,r,e,i),{gtagCore:c,wrappedGtag:window[o]}}function QC(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(Mm)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=30,ZC=1e3;class WC{constructor(e={},i=ZC){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const wE=new WC;function JC(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function eI(r){var e;const{appId:i,apiKey:a}=r,o={method:"GET",headers:JC(a)},c=UC.replace("{app-id}",i),f=await fetch(c,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw pn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function tI(r,e=wE,i){const{appId:a,apiKey:o,measurementId:c}=r.options;if(!a)throw pn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:a};throw pn.create("no-api-key")}const f=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new rI;return setTimeout(async()=>{m.abort()},LC),RE({appId:a,apiKey:o,measurementId:c},f,m,e)}async function RE(r,{throttleEndTimeMillis:e,backoffCount:i},a,o=wE){var c;const{appId:f,measurementId:m}=r;try{await nI(a,e)}catch(p){if(m)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await eI(r);return o.deleteThrottleMetadata(f),p}catch(p){const y=p;if(!iI(y)){if(o.deleteThrottleMetadata(f),m)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:f,measurementId:m};throw p}const S=Number((c=y==null?void 0:y.customData)===null||c===void 0?void 0:c.httpStatus)===503?wv(i,o.intervalMillis,XC):wv(i,o.intervalMillis),C={throttleEndTimeMillis:Date.now()+S,backoffCount:i+1};return o.setThrottleMetadata(f,C),an.debug(`Calling attemptFetch again in ${S} millis`),RE(r,C,a,o)}}function nI(r,e){return new Promise((i,a)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(c),a(pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function iI(r){if(!(r instanceof Zn)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class rI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function sI(r,e,i,a,o){if(o&&o.global){r("event",i,a);return}else{const c=await e,f=Object.assign(Object.assign({},a),{send_to:c});r("event",i,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(){if(g0())try{await y0()}catch(r){return an.warn(pn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return an.warn(pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function oI(r,e,i,a,o,c,f){var m;const p=tI(r);p.then(j=>{i[j.measurementId]=j.appId,r.options.measurementId&&j.measurementId!==r.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>an.error(j)),e.push(p);const y=aI().then(j=>{if(j)return a.getId()}),[S,C]=await Promise.all([p,y]);QC(c)||qC(c,S.measurementId),o("js",new Date);const N=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return N[jC]="firebase",N.update=!0,C!=null&&(N[PC]=C),o("config",S.measurementId,N),S.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.app=e}_delete(){return delete Sl[this.app.options.appId],Promise.resolve()}}let Sl={},t_=[];const n_={};let jd="dataLayer",uI="gtag",i_,CE,r_=!1;function cI(){const r=[];if(p0()&&r.push("This is a browser extension environment."),fw()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),i=pn.create("invalid-analytics-context",{errorInfo:e});an.warn(i.message)}}function hI(r,e,i){cI();const a=r.options.appId;if(!a)throw pn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw pn.create("no-api-key");if(Sl[a]!=null)throw pn.create("already-exists",{id:a});if(!r_){FC(jd);const{wrappedGtag:c,gtagCore:f}=YC(Sl,t_,n_,jd,uI);CE=c,i_=f,r_=!0}return Sl[a]=oI(r,t_,n_,e,i_,jd,i),new lI(r)}function fI(r=Em()){r=Bt(r);const e=Qs(r,Gc);return e.isInitialized()?e.getImmediate():dI(r)}function dI(r,e={}){const i=Qs(r,Gc);if(i.isInitialized()){const o=i.getImmediate();if(xl(e,i.getOptions()))return o;throw pn.create("already-initialized")}return i.initialize({options:e})}function mI(r,e,i,a){r=Bt(r),sI(CE,Sl[r.app.options.appId],e,i,a).catch(o=>an.error(o))}const s_="@firebase/analytics",a_="0.10.11";function pI(){yi(new Kn(Gc,(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return hI(a,o,i)},"PUBLIC")),yi(new Kn("analytics-internal",r,"PRIVATE")),Mn(s_,a_),Mn(s_,a_,"esm2017");function r(e){try{const i=e.getProvider(Gc).getImmediate();return{logEvent:(a,o,c)=>mI(i,a,o,c)}}catch(i){throw pn.create("interop-component-reg-failed",{reason:i})}}}pI();var o_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vm;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function A(){}A.prototype=w.prototype,D.D=w.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(I,M,L){for(var x=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)x[Ze-2]=arguments[Ze];return w.prototype[M].apply(I,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,A){A||(A=0);var I=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)I[M]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(M=0;16>M;++M)I[M]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=D.g[0],A=D.g[1],M=D.g[2];var L=D.g[3],x=w+(L^A&(M^L))+I[0]+3614090360&4294967295;w=A+(x<<7&4294967295|x>>>25),x=L+(M^w&(A^M))+I[1]+3905402710&4294967295,L=w+(x<<12&4294967295|x>>>20),x=M+(A^L&(w^A))+I[2]+606105819&4294967295,M=L+(x<<17&4294967295|x>>>15),x=A+(w^M&(L^w))+I[3]+3250441966&4294967295,A=M+(x<<22&4294967295|x>>>10),x=w+(L^A&(M^L))+I[4]+4118548399&4294967295,w=A+(x<<7&4294967295|x>>>25),x=L+(M^w&(A^M))+I[5]+1200080426&4294967295,L=w+(x<<12&4294967295|x>>>20),x=M+(A^L&(w^A))+I[6]+2821735955&4294967295,M=L+(x<<17&4294967295|x>>>15),x=A+(w^M&(L^w))+I[7]+4249261313&4294967295,A=M+(x<<22&4294967295|x>>>10),x=w+(L^A&(M^L))+I[8]+1770035416&4294967295,w=A+(x<<7&4294967295|x>>>25),x=L+(M^w&(A^M))+I[9]+2336552879&4294967295,L=w+(x<<12&4294967295|x>>>20),x=M+(A^L&(w^A))+I[10]+4294925233&4294967295,M=L+(x<<17&4294967295|x>>>15),x=A+(w^M&(L^w))+I[11]+2304563134&4294967295,A=M+(x<<22&4294967295|x>>>10),x=w+(L^A&(M^L))+I[12]+1804603682&4294967295,w=A+(x<<7&4294967295|x>>>25),x=L+(M^w&(A^M))+I[13]+4254626195&4294967295,L=w+(x<<12&4294967295|x>>>20),x=M+(A^L&(w^A))+I[14]+2792965006&4294967295,M=L+(x<<17&4294967295|x>>>15),x=A+(w^M&(L^w))+I[15]+1236535329&4294967295,A=M+(x<<22&4294967295|x>>>10),x=w+(M^L&(A^M))+I[1]+4129170786&4294967295,w=A+(x<<5&4294967295|x>>>27),x=L+(A^M&(w^A))+I[6]+3225465664&4294967295,L=w+(x<<9&4294967295|x>>>23),x=M+(w^A&(L^w))+I[11]+643717713&4294967295,M=L+(x<<14&4294967295|x>>>18),x=A+(L^w&(M^L))+I[0]+3921069994&4294967295,A=M+(x<<20&4294967295|x>>>12),x=w+(M^L&(A^M))+I[5]+3593408605&4294967295,w=A+(x<<5&4294967295|x>>>27),x=L+(A^M&(w^A))+I[10]+38016083&4294967295,L=w+(x<<9&4294967295|x>>>23),x=M+(w^A&(L^w))+I[15]+3634488961&4294967295,M=L+(x<<14&4294967295|x>>>18),x=A+(L^w&(M^L))+I[4]+3889429448&4294967295,A=M+(x<<20&4294967295|x>>>12),x=w+(M^L&(A^M))+I[9]+568446438&4294967295,w=A+(x<<5&4294967295|x>>>27),x=L+(A^M&(w^A))+I[14]+3275163606&4294967295,L=w+(x<<9&4294967295|x>>>23),x=M+(w^A&(L^w))+I[3]+4107603335&4294967295,M=L+(x<<14&4294967295|x>>>18),x=A+(L^w&(M^L))+I[8]+1163531501&4294967295,A=M+(x<<20&4294967295|x>>>12),x=w+(M^L&(A^M))+I[13]+2850285829&4294967295,w=A+(x<<5&4294967295|x>>>27),x=L+(A^M&(w^A))+I[2]+4243563512&4294967295,L=w+(x<<9&4294967295|x>>>23),x=M+(w^A&(L^w))+I[7]+1735328473&4294967295,M=L+(x<<14&4294967295|x>>>18),x=A+(L^w&(M^L))+I[12]+2368359562&4294967295,A=M+(x<<20&4294967295|x>>>12),x=w+(A^M^L)+I[5]+4294588738&4294967295,w=A+(x<<4&4294967295|x>>>28),x=L+(w^A^M)+I[8]+2272392833&4294967295,L=w+(x<<11&4294967295|x>>>21),x=M+(L^w^A)+I[11]+1839030562&4294967295,M=L+(x<<16&4294967295|x>>>16),x=A+(M^L^w)+I[14]+4259657740&4294967295,A=M+(x<<23&4294967295|x>>>9),x=w+(A^M^L)+I[1]+2763975236&4294967295,w=A+(x<<4&4294967295|x>>>28),x=L+(w^A^M)+I[4]+1272893353&4294967295,L=w+(x<<11&4294967295|x>>>21),x=M+(L^w^A)+I[7]+4139469664&4294967295,M=L+(x<<16&4294967295|x>>>16),x=A+(M^L^w)+I[10]+3200236656&4294967295,A=M+(x<<23&4294967295|x>>>9),x=w+(A^M^L)+I[13]+681279174&4294967295,w=A+(x<<4&4294967295|x>>>28),x=L+(w^A^M)+I[0]+3936430074&4294967295,L=w+(x<<11&4294967295|x>>>21),x=M+(L^w^A)+I[3]+3572445317&4294967295,M=L+(x<<16&4294967295|x>>>16),x=A+(M^L^w)+I[6]+76029189&4294967295,A=M+(x<<23&4294967295|x>>>9),x=w+(A^M^L)+I[9]+3654602809&4294967295,w=A+(x<<4&4294967295|x>>>28),x=L+(w^A^M)+I[12]+3873151461&4294967295,L=w+(x<<11&4294967295|x>>>21),x=M+(L^w^A)+I[15]+530742520&4294967295,M=L+(x<<16&4294967295|x>>>16),x=A+(M^L^w)+I[2]+3299628645&4294967295,A=M+(x<<23&4294967295|x>>>9),x=w+(M^(A|~L))+I[0]+4096336452&4294967295,w=A+(x<<6&4294967295|x>>>26),x=L+(A^(w|~M))+I[7]+1126891415&4294967295,L=w+(x<<10&4294967295|x>>>22),x=M+(w^(L|~A))+I[14]+2878612391&4294967295,M=L+(x<<15&4294967295|x>>>17),x=A+(L^(M|~w))+I[5]+4237533241&4294967295,A=M+(x<<21&4294967295|x>>>11),x=w+(M^(A|~L))+I[12]+1700485571&4294967295,w=A+(x<<6&4294967295|x>>>26),x=L+(A^(w|~M))+I[3]+2399980690&4294967295,L=w+(x<<10&4294967295|x>>>22),x=M+(w^(L|~A))+I[10]+4293915773&4294967295,M=L+(x<<15&4294967295|x>>>17),x=A+(L^(M|~w))+I[1]+2240044497&4294967295,A=M+(x<<21&4294967295|x>>>11),x=w+(M^(A|~L))+I[8]+1873313359&4294967295,w=A+(x<<6&4294967295|x>>>26),x=L+(A^(w|~M))+I[15]+4264355552&4294967295,L=w+(x<<10&4294967295|x>>>22),x=M+(w^(L|~A))+I[6]+2734768916&4294967295,M=L+(x<<15&4294967295|x>>>17),x=A+(L^(M|~w))+I[13]+1309151649&4294967295,A=M+(x<<21&4294967295|x>>>11),x=w+(M^(A|~L))+I[4]+4149444226&4294967295,w=A+(x<<6&4294967295|x>>>26),x=L+(A^(w|~M))+I[11]+3174756917&4294967295,L=w+(x<<10&4294967295|x>>>22),x=M+(w^(L|~A))+I[2]+718787259&4294967295,M=L+(x<<15&4294967295|x>>>17),x=A+(L^(M|~w))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+L&4294967295}a.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var A=w-this.blockSize,I=this.B,M=this.h,L=0;L<w;){if(M==0)for(;L<=A;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<w;)if(I[M++]=D.charCodeAt(L++),M==this.blockSize){o(this,I),M=0;break}}else for(;L<w;)if(I[M++]=D[L++],M==this.blockSize){o(this,I),M=0;break}}this.h=M,this.o+=w},a.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var A=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=A&255,A/=256;for(this.u(D),D=Array(16),w=A=0;4>w;++w)for(var I=0;32>I;I+=8)D[A++]=this.g[w]>>>I&255;return D};function c(D,w){var A=m;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=w(D)}function f(D,w){this.h=w;for(var A=[],I=!0,M=D.length-1;0<=M;M--){var L=D[M]|0;I&&L==w||(A[M]=L,I=!1)}this.g=A}var m={};function p(D){return-128<=D&&128>D?c(D,function(w){return new f([w|0],0>w?-1:0)}):new f([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return C;if(0>D)return F(y(-D));for(var w=[],A=1,I=0;D>=A;I++)w[I]=D/A|0,A*=4294967296;return new f(w,0)}function S(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return F(S(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(w,8)),I=C,M=0;M<D.length;M+=8){var L=Math.min(8,D.length-M),x=parseInt(D.substring(M,M+L),w);8>L?(L=y(Math.pow(w,L)),I=I.j(L).add(y(x))):(I=I.j(A),I=I.add(y(x)))}return I}var C=p(0),N=p(1),j=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-F(this).m();for(var D=0,w=1,A=0;A<this.g.length;A++){var I=this.i(A);D+=(0<=I?I:4294967296+I)*w,w*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(z(this))return"0";if(Y(this))return"-"+F(this).toString(D);for(var w=y(Math.pow(D,6)),A=this,I="";;){var M=de(A,w).g;A=Q(A,M.j(w));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=M,z(A))return L+I;for(;6>L.length;)L="0"+L;I=L+I}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function z(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function Y(D){return D.h==-1}r.l=function(D){return D=Q(this,D),Y(D)?-1:z(D)?0:1};function F(D){for(var w=D.g.length,A=[],I=0;I<w;I++)A[I]=~D.g[I];return new f(A,~D.h).add(N)}r.abs=function(){return Y(this)?F(this):this},r.add=function(D){for(var w=Math.max(this.g.length,D.g.length),A=[],I=0,M=0;M<=w;M++){var L=I+(this.i(M)&65535)+(D.i(M)&65535),x=(L>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);I=x>>>16,L&=65535,x&=65535,A[M]=x<<16|L}return new f(A,A[A.length-1]&-2147483648?-1:0)};function Q(D,w){return D.add(F(w))}r.j=function(D){if(z(this)||z(D))return C;if(Y(this))return Y(D)?F(this).j(F(D)):F(F(this).j(D));if(Y(D))return F(this.j(F(D)));if(0>this.l(j)&&0>D.l(j))return y(this.m()*D.m());for(var w=this.g.length+D.g.length,A=[],I=0;I<2*w;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<D.g.length;M++){var L=this.i(I)>>>16,x=this.i(I)&65535,Ze=D.i(M)>>>16,tt=D.i(M)&65535;A[2*I+2*M]+=x*tt,te(A,2*I+2*M),A[2*I+2*M+1]+=L*tt,te(A,2*I+2*M+1),A[2*I+2*M+1]+=x*Ze,te(A,2*I+2*M+1),A[2*I+2*M+2]+=L*Ze,te(A,2*I+2*M+2)}for(I=0;I<w;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=w;I<2*w;I++)A[I]=0;return new f(A,0)};function te(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function ee(D,w){this.g=D,this.h=w}function de(D,w){if(z(w))throw Error("division by zero");if(z(D))return new ee(C,C);if(Y(D))return w=de(F(D),w),new ee(F(w.g),F(w.h));if(Y(w))return w=de(D,F(w)),new ee(F(w.g),w.h);if(30<D.g.length){if(Y(D)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var A=N,I=w;0>=I.l(D);)A=ce(A),I=ce(I);var M=_e(A,1),L=_e(I,1);for(I=_e(I,2),A=_e(A,2);!z(I);){var x=L.add(I);0>=x.l(D)&&(M=M.add(A),L=x),I=_e(I,1),A=_e(A,1)}return w=Q(D,M.j(w)),new ee(M,w)}for(M=C;0<=D.l(w);){for(A=Math.max(1,Math.floor(D.m()/w.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),L=y(A),x=L.j(w);Y(x)||0<x.l(D);)A-=I,L=y(A),x=L.j(w);z(L)&&(L=N),M=M.add(L),D=Q(D,x)}return new ee(M,D)}r.A=function(D){return de(this,D).h},r.and=function(D){for(var w=Math.max(this.g.length,D.g.length),A=[],I=0;I<w;I++)A[I]=this.i(I)&D.i(I);return new f(A,this.h&D.h)},r.or=function(D){for(var w=Math.max(this.g.length,D.g.length),A=[],I=0;I<w;I++)A[I]=this.i(I)|D.i(I);return new f(A,this.h|D.h)},r.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),A=[],I=0;I<w;I++)A[I]=this.i(I)^D.i(I);return new f(A,this.h^D.h)};function ce(D){for(var w=D.g.length+1,A=[],I=0;I<w;I++)A[I]=D.i(I)<<1|D.i(I-1)>>>31;return new f(A,D.h)}function _e(D,w){var A=w>>5;w%=32;for(var I=D.g.length-A,M=[],L=0;L<I;L++)M[L]=0<w?D.i(L+A)>>>w|D.i(L+A+1)<<32-w:D.i(L+A);return new f(M,D.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=S,Vm=f}).apply(typeof o_<"u"?o_:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IE,Tl,xE,Nc,Jd,NE,OE,DE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,g){if(g)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break e;v=v[U]}u=u[u.length-1],b=v[u],g=g(b),g!=b&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var v=0,b=!1,U={next:function(){if(!b&&v<u.length){var G=v++;return{value:g(G,u[G]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function S(u,g,v){return u.call.apply(u.bind,arguments)}function C(u,g,v){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),u.apply(g,U)}}return function(){return u.apply(g,arguments)}}function N(u,g,v){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:C,N.apply(null,arguments)}function j(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function z(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(b,U,G){for(var ie=Array(arguments.length-2),De=2;De<arguments.length;De++)ie[De-2]=arguments[De];return g.prototype[U].apply(b,ie)}}function Y(u){const g=u.length;if(0<g){const v=Array(g);for(let b=0;b<g;b++)v[b]=u[b];return v}return[]}function F(u,g){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const U=u.length||0,G=b.length||0;u.length=U+G;for(let ie=0;ie<G;ie++)u[U+ie]=b[ie]}else u.push(b)}}class Q{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function te(u){return/^[\s\xa0]*$/.test(u)}function ee(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function de(u){return de[" "](u),u}de[" "]=function(){};var ce=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function _e(u,g,v){for(const b in u)g.call(v,u[b],b,u)}function D(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function w(u){const g={};for(const v in u)g[v]=u[v];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,g){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let G=0;G<A.length;G++)v=A[G],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function M(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function L(u){m.setTimeout(()=>{throw u},0)}function x(){var u=Ae;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Ze{constructor(){this.h=this.g=null}add(g,v){const b=tt.get();b.set(g,v),this.h?this.h.next=b:this.g=b,this.h=b}}var tt=new Q(()=>new re,u=>u.reset());class re{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,me=!1,Ae=new Ze,O=()=>{const u=m.Promise.resolve(void 0);ye=()=>{u.then(J)}};var J=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(v){L(v)}var g=tt;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}me=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return u}();function oe(u,g){if(se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ce){e:{try{de(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ge[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&oe.aa.h.call(this)}}z(oe,se);var ge={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function nt(u,g,v,b,U){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!b,this.ha=U,this.key=++Pe,this.da=this.fa=!1}function Be(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qt(u){this.src=u,this.g={},this.h=0}Qt.prototype.add=function(u,g,v,b,U){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var ie=gn(u,g,b,U);return-1<ie?(g=u[ie],v||(g.fa=!1)):(g=new nt(g,this.src,G,!!b,U),g.fa=v,u.push(g)),g};function Ti(u,g){var v=g.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,g,void 0),G;(G=0<=U)&&Array.prototype.splice.call(b,U,1),G&&(Be(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function gn(u,g,v,b){for(var U=0;U<u.length;++U){var G=u[U];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==b)return U}return-1}var sr="closure_lm_"+(1e6*Math.random()|0),ar={};function bi(u,g,v,b,U){if(Array.isArray(g)){for(var G=0;G<g.length;G++)bi(u,g[G],v,b,U);return null}return v=Xl(v),u&&u[ct]?u.K(g,v,y(b)?!!b.capture:!1,U):lo(u,g,v,!1,b,U)}function lo(u,g,v,b,U,G){if(!g)throw Error("Invalid event type");var ie=y(U)?!!U.capture:!!U,De=uo(u);if(De||(u[sr]=De=new Qt(u)),v=De.add(g,v,b,ie,G),v.proxy)return v;if(b=Js(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)ae||(U=ie),U===void 0&&(U=!1),u.addEventListener(g.toString(),b,U);else if(u.attachEvent)u.attachEvent(ta(g.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Js(){function u(v){return g.call(u.src,u.listener,v)}const g=Th;return u}function ea(u,g,v,b,U){if(Array.isArray(g))for(var G=0;G<g.length;G++)ea(u,g[G],v,b,U);else b=y(b)?!!b.capture:!!b,v=Xl(v),u&&u[ct]?(u=u.i,g=String(g).toString(),g in u.g&&(G=u.g[g],v=gn(G,v,b,U),-1<v&&(Be(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete u.g[g],u.h--)))):u&&(u=uo(u))&&(g=u.g[g.toString()],u=-1,g&&(u=gn(g,v,b,U)),(v=-1<u?g[u]:null)&&ts(v))}function ts(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ct])Ti(g.i,u);else{var v=u.type,b=u.proxy;g.removeEventListener?g.removeEventListener(v,b,u.capture):g.detachEvent?g.detachEvent(ta(v),b):g.addListener&&g.removeListener&&g.removeListener(b),(v=uo(g))?(Ti(v,u),v.h==0&&(v.src=null,g[sr]=null)):Be(u)}}}function ta(u){return u in ar?ar[u]:ar[u]="on"+u}function Th(u,g){if(u.da)u=!0;else{g=new oe(g,this);var v=u.listener,b=u.ha||u.src;u.fa&&ts(u),u=v.call(b,g)}return u}function uo(u){return u=u[sr],u instanceof Qt?u:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xl(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(g){return u.handleEvent(g)}),u[tn])}function yt(){he.call(this),this.i=new Qt(this),this.M=this,this.F=null}z(yt,he),yt.prototype[ct]=!0,yt.prototype.removeEventListener=function(u,g,v,b){ea(this,u,g,v,b)};function St(u,g){var v,b=u.F;if(b)for(v=[];b;b=b.F)v.push(b);if(u=u.M,b=g.type||g,typeof g=="string")g=new se(g,u);else if(g instanceof se)g.target=g.target||u;else{var U=g;g=new se(b,u),I(g,U)}if(U=!0,v)for(var G=v.length-1;0<=G;G--){var ie=g.g=v[G];U=Si(ie,b,!0,g)&&U}if(ie=g.g=u,U=Si(ie,b,!0,g)&&U,U=Si(ie,b,!1,g)&&U,v)for(G=0;G<v.length;G++)ie=g.g=v[G],U=Si(ie,b,!1,g)&&U}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],b=0;b<v.length;b++)Be(v[b]);delete u.g[g],u.h--}}this.F=null},yt.prototype.K=function(u,g,v,b){return this.i.add(String(u),g,!1,v,b)},yt.prototype.L=function(u,g,v,b){return this.i.add(String(u),g,!0,v,b)};function Si(u,g,v,b){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,G=0;G<g.length;++G){var ie=g[G];if(ie&&!ie.da&&ie.capture==v){var De=ie.listener,_t=ie.ha||ie.src;ie.fa&&Ti(u.i,ie),U=De.call(_t,b)!==!1&&U}}return U&&!b.defaultPrevented}function Zl(u,g,v){if(typeof u=="function")v&&(u=N(u,v));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function co(u){u.g=Zl(()=>{u.g=null,u.i&&(u.i=!1,co(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class bh extends he{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:co(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(u){he.call(this),this.h=u,this.g={}}z(ns,he);var or=[];function Ht(u){_e(u.g,function(g,v){this.g.hasOwnProperty(v)&&ts(g)},u),u.g={}}ns.prototype.N=function(){ns.aa.N.call(this),Ht(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ho=m.JSON.stringify,Wn=m.JSON.parse,Xt=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function fo(){}fo.prototype.h=null;function Wl(u){return u.h||(u.h=u.i())}function Jl(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lr(){se.call(this,"d")}z(lr,se);function Pn(){se.call(this,"c")}z(Pn,se);var yn={},ur=null;function na(){return ur=ur||new yt}yn.La="serverreachability";function mo(u){se.call(this,yn.La,u)}z(mo,se);function cr(u){const g=na();St(g,new mo(g))}yn.STAT_EVENT="statevent";function ia(u,g){se.call(this,yn.STAT_EVENT,u),this.stat=g}z(ia,se);function lt(u){const g=na();St(g,new ia(g,u))}yn.Ma="timingevent";function eu(u,g){se.call(this,yn.Ma,u),this.size=g}z(eu,se);function hr(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function fr(){this.g=!0}fr.prototype.xa=function(){this.g=!1};function tu(u,g,v,b,U,G){u.info(function(){if(u.g)if(G)for(var ie="",De=G.split("&"),_t=0;_t<De.length;_t++){var ke=De[_t].split("=");if(1<ke.length){var Rt=ke[0];ke=ke[1];var Et=Rt.split("_");ie=2<=Et.length&&Et[1]=="type"?ie+(Rt+"="+ke+"&"):ie+(Rt+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+g+`
`+v+`
`+ie})}function nu(u,g,v,b,U,G,ie){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+g+`
`+v+`
`+G+" "+ie})}function dr(u,g,v,b){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+At(u,v)+(b?" "+b:"")})}function ei(u,g){u.info(function(){return"TIMEOUT: "+g})}fr.prototype.info=function(){};function At(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var b=v[u];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var G=U[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return ho(v)}catch{return g}}var vt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},is;function ra(){}z(ra,fo),ra.prototype.g=function(){return new XMLHttpRequest},ra.prototype.i=function(){return{}},is=new ra;function ti(u,g,v,b){this.j=u,this.i=g,this.l=v,this.R=b||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new po}function po(){this.i=null,this.g="",this.h=!1}var mr={},rs={};function jn(u,g,v){u.L=1,u.v=os(it(g)),u.m=v,u.P=!0,wi(u,null)}function wi(u,g){u.F=Date.now(),We(u),u.A=it(u.v);var v=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),Ii(v.i,"t",b),u.C=0,v=u.j.J,u.h=new po,u.g=gu(u.j,v?g:null,!u.m),0<u.O&&(u.M=new bh(N(u.Y,u,u.g),u.O)),g=u.U,v=u.g,b=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(or[0]=U.toString()),U=or);for(var G=0;G<U.length;G++){var ie=bi(v,U[G],b||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),cr(),tu(u.i,u.u,u.A,u.l,u.R,u.m)}ti.prototype.ca=function(u){u=u.target;const g=this.M;g&&bn(u)==3?g.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)e:{const Et=bn(this.g);var g=this.g.Ba();const Di=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||Et!=4||g==7||(g==8||0>=Di?cr(3):cr(2)),sa(this);var v=this.g.Z();this.X=v;t:if(pr(this)){var b=lu(this.g);u="";var U=b.length,G=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),ln(this);var ie="";break t}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,u+=this.h.i.decode(b[g],{stream:!(G&&g==U-1)});b.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,nu(this.i,this.u,this.A,this.l,this.R,Et,v),this.o){if(this.T&&!this.K){t:{if(this.g){var De,_t=this.g;if((De=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(De)){var ke=De;break t}}ke=null}if(v=ke)dr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,un(this,v);else{this.o=!1,this.s=3,lt(12),nn(this),ln(this);break e}}if(this.P){v=!0;let kt;for(;!this.J&&this.C<ie.length;)if(kt=gr(this,ie),kt==rs){Et==4&&(this.s=4,lt(14),v=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==mr){this.s=4,lt(15),dr(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else dr(this.i,this.l,kt,null),un(this,kt);if(pr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||ie.length!=0||this.h.h||(this.s=1,lt(16),v=!1),this.o=this.o&&v,!v)dr(this.i,this.l,ie,"[Invalid Chunked Response]"),nn(this),ln(this);else if(0<ie.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),ms(Rt),Rt.M=!0,lt(11))}}else dr(this.i,this.l,ie,null),un(this,ie);Et==4&&nn(this),this.o&&!this.J&&(Et==4?du(this.j,this):(this.o=!1,We(this)))}else Ih(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),nn(this),ln(this)}}}catch{}finally{}};function pr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function gr(u,g){var v=u.C,b=g.indexOf(`
`,v);return b==-1?rs:(v=Number(g.substring(v,b)),isNaN(v)?mr:(b+=1,b+v>g.length?rs:(g=g.slice(b,b+v),u.C=b+v,g)))}ti.prototype.cancel=function(){this.J=!0,nn(this)};function We(u){u.S=Date.now()+u.I,go(u,u.I)}function go(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=hr(N(u.ba,u),g)}function sa(u){u.B&&(m.clearTimeout(u.B),u.B=null)}ti.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ei(this.i,this.A),this.L!=2&&(cr(),lt(17)),nn(this),this.s=2,ln(this)):go(this,this.S-u)};function ln(u){u.j.G==0||u.J||du(u.j,u)}function nn(u){sa(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Ht(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function un(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||yr(v.h,u))){if(!u.K&&yr(v.h,u)&&v.G==3){try{var b=v.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)pa(v),da(v);else break e;Co(v),lt(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=hr(N(v.Za,v),6e3));if(1>=iu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Oi(v,11)}else if((u.K||v.g==u)&&pa(v),!te(g))for(U=v.Da.g.parse(g),g=0;g<U.length;g++){let ke=U[g];if(v.T=ke[0],ke=ke[1],v.G==2)if(ke[0]=="c"){v.K=ke[1],v.ia=ke[2];const Rt=ke[3];Rt!=null&&(v.la=Rt,v.j.info("VER="+v.la));const Et=ke[4];Et!=null&&(v.Aa=Et,v.j.info("SVER="+v.Aa));const Di=ke[5];Di!=null&&typeof Di=="number"&&0<Di&&(b=1.5*Di,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const kt=u.g;if(kt){const li=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var G=b.h;G.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(vr(G,G.h),G.h=null))}if(b.D){const xo=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(b.ya=xo,je(b.I,b.D,xo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var ie=u;if(b.qa=pu(b,b.J?b.ia:null,b.W),ie.K){vn(b.h,ie);var De=ie,_t=b.L;_t&&(De.I=_t),De.B&&(sa(De),We(De)),b.g=ie}else hu(b);0<v.i.length&&ma(v)}else ke[0]!="stop"&&ke[0]!="close"||Oi(v,7);else v.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Oi(v,7):wo(v):ke[0]!="noop"&&v.l&&v.l.ta(ke),v.v=0)}}cr(4)}catch{}}var Sh=class{constructor(u,g){this.g=u,this.map=g}};function yo(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function iu(u){return u.h?1:u.g?u.g.size:0}function yr(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function vr(u,g){u.g?u.g.add(g):u.h=g}function vn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}yo.prototype.cancel=function(){if(this.i=Zt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Zt(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return Y(u.i)}function ru(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],v=u.length,b=0;b<v;b++)g.push(u[b]);return g}g=[],v=0;for(b in u)g[v++]=u[b];return g}function Ah(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const b in u)g[v++]=b;return g}}}function ss(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=Ah(u),b=ru(u),U=b.length,G=0;G<U;G++)g.call(void 0,b[G],v&&v[G],u)}var _o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var b=u[v].indexOf("="),U=null;if(0<=b){var G=u[v].substring(0,b);U=u[v].substring(b+1)}else G=u[v];g(G,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ri(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ri){this.h=u.h,_r(this,u.j),this.o=u.o,this.g=u.g,as(this,u.s),this.l=u.l;var g=u.i,v=new ni;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),oa(this,v),this.m=u.m}else u&&(g=String(u).match(_o))?(this.h=!1,_r(this,g[1]||"",!0),this.o=Er(g[2]||""),this.g=Er(g[3]||"",!0),as(this,g[4]),this.l=Er(g[5]||"",!0),oa(this,g[6]||"",!0),this.m=Er(g[7]||"")):(this.h=!1,this.i=new ni(null,this.h))}Ri.prototype.toString=function(){var u=[],g=this.j;g&&u.push(_n(g,Eo,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(_n(g,Eo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(_n(v,v.charAt(0)=="/"?To:su,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",_n(v,Ch)),u.join("")};function it(u){return new Ri(u)}function _r(u,g,v){u.j=v?Er(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function oa(u,g,v){g instanceof ni?(u.i=g,bo(u.i,u.h)):(v||(g=_n(g,Rh)),u.i=new ni(g,u.h))}function je(u,g,v){u.i.set(g,v)}function os(u){return je(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Er(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _n(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,wh),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Eo=/[#\/\?@]/g,su=/[#\?:]/g,To=/[#\?]/g,Rh=/[#\?@]/g,Ch=/#/g;function ni(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&aa(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=ni.prototype,r.add=function(u,g){En(this),this.i=null,u=xi(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function la(u,g){En(u),g=xi(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ci(u,g){return En(u),g=xi(u,g),u.g.has(g)}r.forEach=function(u,g){En(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(g,U,b,this)},this)},this)},r.na=function(){En(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let b=0;b<g.length;b++){const U=u[b];for(let G=0;G<U.length;G++)v.push(g[b])}return v},r.V=function(u){En(this);let g=[];if(typeof u=="string")Ci(this,u)&&(g=g.concat(this.g.get(xi(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},r.set=function(u,g){return En(this),this.i=null,u=xi(this,u),Ci(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Ii(u,g,v){la(u,g),0<v.length&&(u.i=null,u.g.set(xi(u,g),Y(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var b=g[v];const G=encodeURIComponent(String(b)),ie=this.V(b);for(b=0;b<ie.length;b++){var U=G;ie[b]!==""&&(U+="="+encodeURIComponent(String(ie[b]))),u.push(U)}}return this.i=u.join("&")};function xi(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function bo(u,g){g&&!u.j&&(En(u),u.i=null,u.g.forEach(function(v,b){var U=b.toLowerCase();b!=U&&(la(this,b),Ii(this,U,v))},u)),u.j=g}function au(u,g){const v=new fr;if(m.Image){const b=new Image;b.onload=j(Tn,v,"TestLoadImage: loaded",!0,g,b),b.onerror=j(Tn,v,"TestLoadImage: error",!1,g,b),b.onabort=j(Tn,v,"TestLoadImage: abort",!1,g,b),b.ontimeout=j(Tn,v,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else g(!1)}function ls(u,g){const v=new fr,b=new AbortController,U=setTimeout(()=>{b.abort(),Tn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:b.signal}).then(G=>{clearTimeout(U),G.ok?Tn(v,"TestPingServer: ok",!0,g):Tn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Tn(v,"TestPingServer: error",!1,g)})}function Tn(u,g,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function us(){this.g=new Xt}function ii(u,g,v){const b=v||"";try{ss(u,function(U,G){let ie=U;y(U)&&(ie=ho(U)),g.push(b+G+"="+encodeURIComponent(ie))})}catch(U){throw g.push(b+"type="+encodeURIComponent("_badmap")),U}}function Tr(u){this.l=u.Ub||null,this.j=u.eb||!1}z(Tr,fo),Tr.prototype.g=function(){return new Ni(this.l,this.j)},Tr.prototype.i=function(u){return function(){return u}}({});function Ni(u,g){yt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Ni,yt),r=Ni.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,si(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ri(this):si(this),this.readyState==3&&So(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,ri(this))},r.Qa=function(u){this.g&&(this.response=u,ri(this))},r.ga=function(){this.g&&ri(this)};function ri(u){u.readyState=4,u.l=null,u.j=null,u.v=null,si(u)}r.setRequestHeader=function(u,g){this.u.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ao(u){let g="";return _e(u,function(v,b){g+=b,g+=":",g+=v,g+=`\r
`}),g}function wt(u,g,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Ao(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):je(u,g,v))}function ze(u){yt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(ze,yt);var ua=/^https?$/i,cs=["POST","PUT"];r=ze.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,g,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():is.g(),this.v=this.o?Wl(this.o):Wl(is),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(G){ou(this,G);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())v.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),U=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(cs,g,void 0))||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of v)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hs(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){ou(this,G)}};function ou(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,ca(u),ai(u)}function ca(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,St(this,"complete"),St(this,"abort"),ai(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),ze.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},r.bb=function(){ha(this)};function ha(u){if(u.h&&typeof f<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)Zl(u.Ea,0,u);else if(St(u,"readystatechange"),bn(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var b;if(b=ie===0){var U=String(u.D).match(_o)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),b=!ua.test(U?U.toLowerCase():"")}v=b}if(v)St(u,"complete"),St(u,"success");else{u.m=6;try{var G=2<bn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",ca(u)}}finally{ai(u)}}}}function ai(u,g){if(u.g){hs(u);const v=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||St(u,"ready");try{v.onreadystatechange=b}catch{}}}function hs(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Wn(g)}};function lu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ih(u){const g={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(te(u[b]))continue;var v=M(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[U]||[];g[U]=G,G.push(v)}D(g,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function fa(u){this.Aa=0,this.i=[],this.j=new fr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fs("baseRetryDelayMs",5e3,u),this.cb=fs("retryDelaySeedMs",1e4,u),this.Wa=fs("forwardChannelMaxRetries",2,u),this.wa=fs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new yo(u&&u.concurrentRequestLimit),this.Da=new us,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=fa.prototype,r.la=8,r.G=1,r.connect=function(u,g,v,b){lt(0),this.W=u,this.H=g||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=pu(this,null,this.W),ma(this)};function wo(u){if(uu(u),u.G==3){var g=u.U++,v=it(u.I);if(je(v,"SID",u.K),je(v,"RID",g),je(v,"TYPE","terminate"),ds(u,v),g=new ti(u,u.j,g),g.L=2,g.v=os(it(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=gu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),We(g)}mu(u)}function da(u){u.g&&(ms(u),u.g.cancel(),u.g=null)}function uu(u){da(u),u.u&&(m.clearTimeout(u.u),u.u=null),pa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function ma(u){if(!vo(u.h)&&!u.s){u.s=!0;var g=u.Ga;ye||O(),me||(ye(),me=!0),Ae.add(g,u),u.B=0}}function xh(u,g){return iu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=hr(N(u.Ga,u,g),Io(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new ti(this,this.j,u);let G=this.o;if(this.S&&(G?(G=w(G),I(G,this.S)):G=this.S),this.m!==null||this.O||(U.H=G,G=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=cu(this,U,g),v=it(this.I),je(v,"RID",u),je(v,"CVER",22),this.D&&je(v,"X-HTTP-Session-Id",this.D),ds(this,v),G&&(this.O?g="headers="+encodeURIComponent(String(Ao(G)))+"&"+g:this.m&&wt(v,this.m,G)),vr(this.h,U),this.Ua&&je(v,"TYPE","init"),this.P?(je(v,"$req",g),je(v,"SID","null"),U.T=!0,jn(U,v,null)):jn(U,v,g),this.G=2}}else this.G==3&&(u?Ro(this,u):this.i.length==0||vo(this.h)||Ro(this))};function Ro(u,g){var v;g?v=g.l:v=u.U++;const b=it(u.I);je(b,"SID",u.K),je(b,"RID",v),je(b,"AID",u.T),ds(u,b),u.m&&u.o&&wt(b,u.m,u.o),v=new ti(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=cu(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),vr(u.h,v),jn(v,b,g)}function ds(u,g){u.H&&_e(u.H,function(v,b){je(g,b,v)}),u.l&&ss({},function(v,b){je(g,b,v)})}function cu(u,g,v){v=Math.min(u.i.length,v);var b=u.l?N(u.l.Na,u.l,u):null;e:{var U=u.i;let G=-1;for(;;){const ie=["count="+v];G==-1?0<v?(G=U[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let De=!0;for(let _t=0;_t<v;_t++){let ke=U[_t].g;const Rt=U[_t].map;if(ke-=G,0>ke)G=Math.max(0,U[_t].g-100),De=!1;else try{ii(Rt,ie,"req"+ke+"_")}catch{b&&b(Rt)}}if(De){b=ie.join("&");break e}}}return u=u.i.splice(0,v),g.D=u,b}function hu(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ye||O(),me||(ye(),me=!0),Ae.add(g,u),u.v=0}}function Co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=hr(N(u.Fa,u),Io(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=hr(N(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),da(this),fu(this))};function ms(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function fu(u){u.g=new ti(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=it(u.qa);je(g,"RID","rpc"),je(g,"SID",u.K),je(g,"AID",u.T),je(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&je(g,"TO",u.ja),je(g,"TYPE","xmlhttp"),ds(u,g),u.m&&u.o&&wt(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=os(it(g)),v.m=null,v.P=!0,wi(v,u)}r.Za=function(){this.C!=null&&(this.C=null,da(this),Co(this),lt(19))};function pa(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function du(u,g){var v=null;if(u.g==g){pa(u),ms(u),u.g=null;var b=2}else if(yr(u.h,g))v=g.D,vn(u.h,g),b=1;else return;if(u.G!=0){if(g.o)if(b==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var U=u.B;b=na(),St(b,new eu(b,v)),ma(u)}else hu(u);else if(U=g.s,U==3||U==0&&0<g.X||!(b==1&&xh(u,g)||b==2&&Co(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),U){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function Io(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function Oi(u,g){if(u.j.info("Error code "+g),g==2){var v=N(u.fb,u),b=u.Xa;const U=!b;b=new Ri(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_r(b,"https"),os(b),U?au(b.toString(),v):ls(b.toString(),v)}else lt(2);u.G=0,u.l&&u.l.sa(g),mu(u),uu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function mu(u){if(u.G=0,u.ka=[],u.l){const g=Zt(u.h);(g.length!=0||u.i.length!=0)&&(F(u.ka,g),F(u.ka,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.ra()}}function pu(u,g,v){var b=v instanceof Ri?it(v):new Ri(v);if(b.g!="")g&&(b.g=g+"."+b.g),as(b,b.s);else{var U=m.location;b=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var G=new Ri(null);b&&_r(G,b),g&&(G.g=g),U&&as(G,U),v&&(G.l=v),b=G}return v=u.D,g=u.ya,v&&g&&je(b,v,g),je(b,"VER",u.la),ds(u,b),b}function gu(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new ze(new Tr({eb:v})):new ze(u.pa),g.Ha(u.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}r=yu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ga(){}ga.prototype.g=function(u,g){return new Wt(u,g)};function Wt(u,g){yt.call(this),this.g=new fa(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!te(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!te(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new oi(this)}z(Wt,yt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){wo(this.g)},Wt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ho(u),u=v);g.i.push(new Sh(g.Ya++,u)),g.G==3&&ma(g)},Wt.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,Wt.aa.N.call(this)};function vu(u){lr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const v in g){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}z(vu,lr);function _u(){Pn.call(this),this.status=1}z(_u,Pn);function oi(u){this.g=u}z(oi,yu),oi.prototype.ua=function(){St(this.g,"a")},oi.prototype.ta=function(u){St(this.g,new vu(u))},oi.prototype.sa=function(u){St(this.g,new _u)},oi.prototype.ra=function(){St(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,DE=function(){return new ga},OE=function(){return na()},NE=yn,Jd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vt.NO_ERROR=0,vt.TIMEOUT=8,vt.HTTP_ERROR=6,Nc=vt,Ai.COMPLETE="complete",xE=Ai,Jl.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Tl=Jl,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,IE=ze}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const l_="@firebase/firestore",u_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new oh("@firebase/firestore");function qa(){return qs.logLevel}function ue(r,...e){if(qs.logLevel<=Ne.DEBUG){const i=e.map(Pm);qs.debug(`Firestore (${ao}): ${r}`,...i)}}function Fs(r,...e){if(qs.logLevel<=Ne.ERROR){const i=e.map(Pm);qs.error(`Firestore (${ao}): ${r}`,...i)}}function dh(r,...e){if(qs.logLevel<=Ne.WARN){const i=e.map(Pm);qs.warn(`Firestore (${ao}): ${r}`,...i)}}function Pm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r="Unexpected state"){const e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+r;throw Fs(e),new Error(e)}function ot(r,e){r||xe()}function Ye(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Zn{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Kt.UNAUTHENTICATED))}shutdown(){}}class yI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class vI{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ot(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new js;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new js,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new js)}},0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ot(typeof a.accessToken=="string"),new kE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new Kt(e)}}class _I{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class EI{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new _I(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TI{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,kn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){ot(this.o===void 0);const a=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>a(c))};const o=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new c_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(ot(typeof i.token=="string"),this.R=i.token,new c_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=bI(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function He(r,e){return r<e?-1:r>e?1:0}function Za(r,e,i){return r.length===e.length&&r.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=-62135596800,f_=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*f_);return new Dt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Te(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Te(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<h_)throw new Te(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-h_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new Dt(0,0))}static max(){return new Qe(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="__name__";class mi{constructor(e,i,a){i===void 0?i=0:i>e.length&&xe(),a===void 0?a=e.length-i:a>e.length-i&&xe(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=mi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Math.sign(e.length-i.length)}static compareSegments(e,i){const a=mi.isNumericId(e),o=mi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?mi.extractNumericId(e).compare(mi.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vm.fromString(e.substring(4,e.length-2))}}class gt extends mi{construct(e,i,a){return new gt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new Te(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new gt(i)}static emptyPath(){return new gt([])}}const SI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends mi{construct(e,i,a){return new Ut(e,i,a)}static isValidIdentifier(e){return SI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d_}static keyField(){return new Ut([d_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new Te(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Te(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Te(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(c(),o++)}if(c(),f)throw new Te(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(i)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(gt.fromString(e))}static fromName(e){return new Re(gt.fromString(e).popFirst(5))}static empty(){return new Re(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return gt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=-1;function AI(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Qe.fromTimestamp(a===1e9?new Dt(i+1,0):new Dt(i,a));return new Xr(o,Re.empty(),e)}function wI(r){return new Xr(r.readTime,r.key,Dl)}class Xr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Xr(Qe.min(),Re.empty(),Dl)}static max(){return new Xr(Qe.max(),Re.empty(),Dl)}}function RI(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=Re.comparator(r.documentKey,e.documentKey),i!==0?i:He(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class II{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==CI)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.reject(i)}static resolve(e){return new Z((i,a)=>{i(e)})}static reject(e){return new Z((i,a)=>{a(e)})}static waitFor(e){return new Z((i,a)=>{let o=0,c=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++c,f&&c===o&&i()},p=>a(p))}),f=!0,c===o&&i()})}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next(o=>o?Z.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,c)=>{a.push(i.call(this,o,c))}),this.waitFor(a)}static mapArray(e,i){return new Z((a,o)=>{const c=e.length,f=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(S=>{f[y]=S,++m,m===c&&a(f)},S=>o(S))}})}static doWhile(e,i){return new Z((a,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):a()};c()})}}function xI(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Gl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Lm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=-1;function zm(r){return r==null}function Kc(r){return r===0&&1/r==-1/0}function NI(r){return typeof r=="number"&&Number.isInteger(r)&&!Kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="";function OI(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=m_(e)),e=DI(r.get(i),e);return m_(e)}function DI(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case VE:i+="";break;default:i+=c}}return i}function m_(r){return r+VE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function oo(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function PE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,i){this.comparator=e,this.root=i||jt.EMPTY}insert(e,i){return new on(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new on(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??jt.RED,this.left=o??jt.EMPTY,this.right=c??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new jt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,i,a,o,c){return this}insert(e,i,a){return new jt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new on(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new g_(this.data.getIterator())}getIteratorFrom(e){return new g_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new zt(this.comparator);return i.data=e,i}}class g_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Gn([])}unionWith(e){let i=new zt(Ut.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new kI("Invalid base64 string: "+c):c}}(e);return new vi(i)}static fromUint8Array(e){const i=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(e);return new vi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const MI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(r){if(ot(!!r),typeof r=="string"){let e=0;const i=MI.exec(r);if(ot(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Lt(r.seconds),nanos:Lt(r.nanos)}}function Lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Wa(r){return typeof r=="string"?vi.fromBase64String(r):vi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="server_timestamp",LE="__type__",UE="__previous_value__",zE="__local_write_time__";function Bm(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[LE])===null||i===void 0?void 0:i.stringValue)===jE}function Hm(r){const e=r.mapValue.fields[UE];return Bm(e)?Hm(e):e}function $c(r){const e=Gs(r.mapValue.fields[zE].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,i,a,o,c,f,m,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Yc="(default)";class Qc{constructor(e,i){this.projectId=e,this.database=i||Yc}static empty(){return new Qc("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="__type__",PI="__max__",Tc={mapValue:{}},HE="__vector__",em="value";function Ks(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bm(r)?4:LI(r)?9007199254740991:jI(r)?10:11:xe()}function _i(r,e){if(r===e)return!0;const i=Ks(r);if(i!==Ks(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $c(r).isEqual($c(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Gs(o.timestampValue),m=Gs(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Wa(o.bytesValue).isEqual(Wa(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return Lt(o.geoPointValue.latitude)===Lt(c.geoPointValue.latitude)&&Lt(o.geoPointValue.longitude)===Lt(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Lt(o.integerValue)===Lt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Lt(o.doubleValue),m=Lt(c.doubleValue);return f===m?Kc(f)===Kc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Za(r.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(p_(f)!==p_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!_i(f[p],m[p])))return!1;return!0}(r,e);default:return xe()}}function kl(r,e){return(r.values||[]).find(i=>_i(i,e))!==void 0}function Ja(r,e){if(r===e)return 0;const i=Ks(r),a=Ks(e);if(i!==a)return He(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(r.booleanValue,e.booleanValue);case 2:return function(c,f){const m=Lt(c.integerValue||c.doubleValue),p=Lt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return y_(r.timestampValue,e.timestampValue);case 4:return y_($c(r),$c(e));case 5:return He(r.stringValue,e.stringValue);case 6:return function(c,f){const m=Wa(c),p=Wa(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const S=He(m[y],p[y]);if(S!==0)return S}return He(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,f){const m=He(Lt(c.latitude),Lt(f.latitude));return m!==0?m:He(Lt(c.longitude),Lt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return v_(r.arrayValue,e.arrayValue);case 10:return function(c,f){var m,p,y,S;const C=c.fields||{},N=f.fields||{},j=(m=C[em])===null||m===void 0?void 0:m.arrayValue,z=(p=N[em])===null||p===void 0?void 0:p.arrayValue,Y=He(((y=j==null?void 0:j.values)===null||y===void 0?void 0:y.length)||0,((S=z==null?void 0:z.values)===null||S===void 0?void 0:S.length)||0);return Y!==0?Y:v_(j,z)}(r.mapValue,e.mapValue);case 11:return function(c,f){if(c===Tc.mapValue&&f===Tc.mapValue)return 0;if(c===Tc.mapValue)return 1;if(f===Tc.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=f.fields||{},S=Object.keys(y);p.sort(),S.sort();for(let C=0;C<p.length&&C<S.length;++C){const N=He(p[C],S[C]);if(N!==0)return N;const j=Ja(m[p[C]],y[S[C]]);if(j!==0)return j}return He(p.length,S.length)}(r.mapValue,e.mapValue);default:throw xe()}}function y_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return He(r,e);const i=Gs(r),a=Gs(e),o=He(i.seconds,a.seconds);return o!==0?o:He(i.nanos,a.nanos)}function v_(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Ja(i[o],a[o]);if(c)return c}return He(i.length,a.length)}function eo(r){return tm(r)}function tm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=Gs(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Wa(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return Re.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=tm(c);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of a)c?c=!1:o+=",",o+=`${f}:${tm(i.fields[f])}`;return o+"}"}(r.mapValue):xe()}function Oc(r){switch(Ks(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hm(r);return e?16+Oc(e):16;case 5:return 2*r.stringValue.length;case 6:return Wa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,c)=>o+Oc(c),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return oo(a.fields,(c,f)=>{o+=c.length+Oc(f)}),o}(r.mapValue);default:throw xe()}}function nm(r){return!!r&&"integerValue"in r}function qm(r){return!!r&&"arrayValue"in r}function Dc(r){return!!r&&"mapValue"in r}function jI(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[BE])===null||i===void 0?void 0:i.stringValue)===HE}function Al(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return oo(r.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Al(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Al(r.arrayValue.values[i]);return e}return Object.assign({},r)}function LI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===PI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Dc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(i)}setAll(e){let i=Ut.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,a,o),a={},o=[],i=m.popLast()}f?a[m.lastSegment()]=Al(f):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){oo(i,(o,c)=>e[o]=c);for(const o of a)delete e[o]}clone(){return new Fn(Al(this.value))}}function qE(r){const e=[];return oo(r.fields,(i,a)=>{const o=new Ut([i]);if(Dc(a)){const c=qE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,i,a,o,c,f,m){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new qn(e,0,Qe.min(),Qe.min(),Qe.min(),Fn.empty(),0)}static newFoundDocument(e,i,a,o){return new qn(e,1,i,Qe.min(),a,o,0)}static newNoDocument(e,i){return new qn(e,2,i,Qe.min(),Qe.min(),Fn.empty(),0)}static newUnknownDocument(e,i){return new qn(e,3,i,Qe.min(),Qe.min(),Fn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,i){this.position=e,this.inclusive=i}}function __(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],f=r.position[o];if(c.field.isKeyField()?a=Re.comparator(Re.fromName(f.referenceValue),i.key):a=Ja(f,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function E_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!_i(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,i="asc"){this.field=e,this.dir=i}}function UI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{}class Ot extends FE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new BI(e,i,a):i==="array-contains"?new FI(e,a):i==="in"?new GI(e,a):i==="not-in"?new KI(e,a):i==="array-contains-any"?new $I(e,a):new Ot(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new HI(e,a):new qI(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ja(i,this.value)):i!==null&&Ks(this.value)===Ks(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zr extends FE{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new Zr(e,i)}matches(e){return GE(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function GE(r){return r.op==="and"}function KE(r){return zI(r)&&GE(r)}function zI(r){for(const e of r.filters)if(e instanceof Zr)return!1;return!0}function im(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+eo(r.value);if(KE(r))return r.filters.map(e=>im(e)).join(",");{const e=r.filters.map(i=>im(i)).join(",");return`${r.op}(${e})`}}function $E(r,e){return r instanceof Ot?function(a,o){return o instanceof Ot&&a.op===o.op&&a.field.isEqual(o.field)&&_i(a.value,o.value)}(r,e):r instanceof Zr?function(a,o){return o instanceof Zr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((c,f,m)=>c&&$E(f,o.filters[m]),!0):!1}(r,e):void xe()}function YE(r){return r instanceof Ot?function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`}(r):r instanceof Zr?function(i){return i.op.toString()+" {"+i.getFilters().map(YE).join(" ,")+"}"}(r):"Filter"}class BI extends Ot{constructor(e,i,a){super(e,i,a),this.key=Re.fromName(a.referenceValue)}matches(e){const i=Re.comparator(e.key,this.key);return this.matchesComparison(i)}}class HI extends Ot{constructor(e,i){super(e,"in",i),this.keys=QE("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class qI extends Ot{constructor(e,i){super(e,"not-in",i),this.keys=QE("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function QE(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>Re.fromName(a.referenceValue))}class FI extends Ot{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qm(i)&&kl(i.arrayValue,this.value)}}class GI extends Ot{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class KI extends Ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!kl(this.value.arrayValue,i)}}class $I extends Ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>kl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,i=null,a=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.le=null}}function T_(r,e=null,i=[],a=[],o=null,c=null,f=null){return new YI(r,e,i,a,o,c,f)}function Fm(r){const e=Ye(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>im(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),zm(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>eo(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>eo(a)).join(",")),e.le=i}return e.le}function Gm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!UI(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!$E(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!E_(r.startAt,e.startAt)&&E_(r.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,i=null,a=[],o=[],c=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function QI(r,e,i,a,o,c,f,m){return new mh(r,e,i,a,o,c,f,m)}function XI(r){return new mh(r)}function b_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ZI(r){return r.collectionGroup!==null}function wl(r){const e=Ye(r);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new zt(Ut.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new Zc(c,a))}),i.has(Ut.keyField().canonicalString())||e.he.push(new Zc(Ut.keyField(),a))}return e.he}function Ls(r){const e=Ye(r);return e.Pe||(e.Pe=WI(e,wl(r))),e.Pe}function WI(r,e){if(r.limitType==="F")return T_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Zc(o.field,c)});const i=r.endAt?new Xc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Xc(r.startAt.position,r.startAt.inclusive):null;return T_(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function rm(r,e,i){return new mh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function XE(r,e){return Gm(Ls(r),Ls(e))&&r.limitType===e.limitType}function ZE(r){return`${Fm(Ls(r))}|lt:${r.limitType}`}function vl(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>YE(o)).join(", ")}]`),zm(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>eo(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>eo(o)).join(",")),`Target(${a})`}(Ls(r))}; limitType=${r.limitType})`}function Km(r,e){return e.isFoundDocument()&&function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Re.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(r,e)&&function(a,o){for(const c of wl(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(f,m,p){const y=__(f,m,p);return f.inclusive?y<=0:y<0}(a.startAt,wl(a),o)||a.endAt&&!function(f,m,p){const y=__(f,m,p);return f.inclusive?y>=0:y>0}(a.endAt,wl(a),o))}(r,e)}function JI(r){return(e,i)=>{let a=!1;for(const o of wl(r)){const c=ex(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function ex(r,e,i){const a=r.field.isKeyField()?Re.comparator(e.key,i.key):function(c,f,m){const p=f.data.field(c),y=m.data.field(c);return p!==null&&y!==null?Ja(p,y):xe()}(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(i,a)=>{for(const[o,c]of a)e(o,c)})}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=new on(Re.comparator);function Wc(){return tx}const WE=new on(Re.comparator);function bc(...r){let e=WE;for(const i of r)e=e.insert(i.key,i);return e}function JE(r){let e=WE;return r.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function Vs(){return Rl()}function eT(){return Rl()}function Rl(){return new Zs(r=>r.toString(),(r,e)=>r.isEqual(e))}const nx=new on(Re.comparator),ix=new zt(Re.comparator);function $t(...r){let e=ix;for(const i of r)e=e.add(i);return e}const rx=new zt(He);function sx(){return rx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(e)?"-0":e}}function tT(r){return{integerValue:""+r}}function ax(r,e){return NI(e)?tT(e):$m(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function ox(r,e,i){return r instanceof Jc?function(o,c){const f={fields:{[LE]:{stringValue:jE},[zE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Bm(c)&&(c=Hm(c)),c&&(f.fields[UE]=c),{mapValue:f}}(i,e):r instanceof Ml?iT(r,e):r instanceof Vl?rT(r,e):function(o,c){const f=nT(o,c),m=S_(f)+S_(o.Ie);return nm(f)&&nm(o.Ie)?tT(m):$m(o.serializer,m)}(r,e)}function lx(r,e,i){return r instanceof Ml?iT(r,e):r instanceof Vl?rT(r,e):i}function nT(r,e){return r instanceof eh?function(a){return nm(a)||function(c){return!!c&&"doubleValue"in c}(a)}(e)?e:{integerValue:0}:null}class Jc extends ph{}class Ml extends ph{constructor(e){super(),this.elements=e}}function iT(r,e){const i=sT(e);for(const a of r.elements)i.some(o=>_i(o,a))||i.push(a);return{arrayValue:{values:i}}}class Vl extends ph{constructor(e){super(),this.elements=e}}function rT(r,e){let i=sT(e);for(const a of r.elements)i=i.filter(o=>!_i(o,a));return{arrayValue:{values:i}}}class eh extends ph{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function S_(r){return Lt(r.integerValue||r.doubleValue)}function sT(r){return qm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function ux(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Ml&&o instanceof Ml||a instanceof Vl&&o instanceof Vl?Za(a.elements,o.elements,_i):a instanceof eh&&o instanceof eh?_i(a.Ie,o.Ie):a instanceof Jc&&o instanceof Jc}(r.transform,e.transform)}class cx{constructor(e,i){this.version=e,this.transformResults=i}}class er{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class gh{}function aT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new lT(r.key,er.none()):new Kl(r.key,r.data,er.none());{const i=r.data,a=Fn.empty();let o=new zt(Ut.comparator);for(let c of e.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?a.delete(c):a.set(c,f),o=o.add(c)}return new Ws(r.key,a,new Gn(o.toArray()),er.none())}}function hx(r,e,i){r instanceof Kl?function(o,c,f){const m=o.value.clone(),p=w_(o.fieldTransforms,c,f.transformResults);m.setAll(p),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,i):r instanceof Ws?function(o,c,f){if(!kc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=w_(o.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(oT(o)),p.setAll(m),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,i):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,i)}function Cl(r,e,i,a){return r instanceof Kl?function(c,f,m,p){if(!kc(c.precondition,f))return m;const y=c.value.clone(),S=R_(c.fieldTransforms,p,f);return y.setAll(S),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,i,a):r instanceof Ws?function(c,f,m,p){if(!kc(c.precondition,f))return m;const y=R_(c.fieldTransforms,p,f),S=f.data;return S.setAll(oT(c)),S.setAll(y),f.convertToFoundDocument(f.version,S).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(r,e,i,a):function(c,f,m){return kc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,i)}function fx(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=nT(a.transform,o||null);c!=null&&(i===null&&(i=Fn.empty()),i.set(a.field,c))}return i||null}function A_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Za(a,o,(c,f)=>ux(c,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Kl extends gh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ws extends gh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function oT(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}}),e}function w_(r,e,i){const a=new Map;ot(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],f=c.transform,m=e.data.field(c.field);a.set(c.field,lx(f,m,i[o]))}return a}function R_(r,e,i){const a=new Map;for(const o of r){const c=o.transform,f=i.data.field(o.field);a.set(o.field,ox(c,f,e))}return a}class lT extends gh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dx extends gh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&hx(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Cl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Cl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=eT();return this.mutations.forEach(o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=i.has(o.key)?null:m;const p=aT(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Qe.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),$t())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,(i,a)=>A_(i,a))&&Za(this.baseMutations,e.baseMutations,(i,a)=>A_(i,a))}}class Ym{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){ot(e.mutations.length===a.length);let o=function(){return nx}();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,a[f].version);return new Ym(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Ve;function gx(r){switch(r){case ne.OK:return xe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe()}}function yx(r){if(r===void 0)return Fs("GRPC error has no .code"),ne.UNKNOWN;switch(r){case mt.OK:return ne.OK;case mt.CANCELLED:return ne.CANCELLED;case mt.UNKNOWN:return ne.UNKNOWN;case mt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case mt.INTERNAL:return ne.INTERNAL;case mt.UNAVAILABLE:return ne.UNAVAILABLE;case mt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case mt.NOT_FOUND:return ne.NOT_FOUND;case mt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case mt.ABORTED:return ne.ABORTED;case mt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case mt.DATA_LOSS:return ne.DATA_LOSS;default:return xe()}}(Ve=mt||(mt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Vm([4294967295,4294967295],0);class vx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function sm(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _x(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Ex(r,e){return sm(r,e.toTimestamp())}function Qa(r){return ot(!!r),Qe.fromTimestamp(function(i){const a=Gs(i);return new Dt(a.seconds,a.nanos)}(r))}function uT(r,e){return am(r,e).canonicalString()}function am(r,e){const i=function(o){return new gt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function Tx(r){const e=gt.fromString(r);return ot(xx(e)),e}function om(r,e){return uT(r.databaseId,e.path)}function bx(r){const e=Tx(r);return e.length===4?gt.emptyPath():Ax(e)}function Sx(r){return new gt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ax(r){return ot(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function C_(r,e,i){return{name:om(r,e),fields:i.value.mapValue.fields}}function wx(r,e){let i;if(e instanceof Kl)i={update:C_(r,e.key,e.value)};else if(e instanceof lT)i={delete:om(r,e.key)};else if(e instanceof Ws)i={update:C_(r,e.key,e.data),updateMask:Ix(e.fieldMask)};else{if(!(e instanceof dx))return xe();i={verify:om(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(c,f){const m=f.transform;if(m instanceof Jc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ml)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Vl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof eh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw xe()}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:Ex(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xe()}(r,e.precondition)),i}function Rx(r,e){return r&&r.length>0?(ot(e!==void 0),r.map(i=>function(o,c){let f=o.updateTime?Qa(o.updateTime):Qa(c);return f.isEqual(Qe.min())&&(f=Qa(c)),new cx(f,o.transformResults||[])}(i,e))):[]}function Cx(r){let e=bx(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){ot(a===1);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=function(C){const N=cT(C);return N instanceof Zr&&KE(N)?N.getFilters():[N]}(i.where));let f=[];i.orderBy&&(f=function(C){return C.map(N=>function(z){return new Zc(Fa(z.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(N))}(i.orderBy));let m=null;i.limit&&(m=function(C){let N;return N=typeof C=="object"?C.value:C,zm(N)?null:N}(i.limit));let p=null;i.startAt&&(p=function(C){const N=!!C.before,j=C.values||[];return new Xc(j,N)}(i.startAt));let y=null;return i.endAt&&(y=function(C){const N=!C.before,j=C.values||[];return new Xc(j,N)}(i.endAt)),QI(e,o,f,c,m,"F",p,y)}function cT(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Fa(i.unaryFilter.field);return Ot.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Fa(i.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fa(i.unaryFilter.field);return Ot.create(f,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(r):r.fieldFilter!==void 0?function(i){return Ot.create(Fa(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Zr.create(i.compositeFilter.filters.map(a=>cT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe()}}(i.compositeFilter.op))}(r):xe()}function Fa(r){return Ut.fromServerFormat(r.fieldPath)}function Ix(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function xx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.Tt=e}}function Ox(r){const e=Cx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.Tn=new kx}addToCollectionParentIndex(e,i){return this.Tn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Xr.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class kx{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new zt(gt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new zt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hT=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(hT,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new to(0)}static Un(){return new to(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="LruGarbageCollector",Mx=1048576;function N_([r,e],[i,a]){const o=He(r,i);return o===0?He(e,a):o}class Vx{constructor(e){this.Hn=e,this.buffer=new zt(N_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();N_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Px{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(x_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Gl(i)?ue(x_,"Ignoring IndexedDB error during garbage collection: ",i):await jm(i)}await this.er(3e5)})}}class jx{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Lm.ae);const a=new Vx(i);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(I_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,o,c,f,m,p,y;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,f=Date.now(),this.nthSequenceNumber(e,o))).next(C=>(a=C,m=Date.now(),this.removeTargets(e,a,i))).next(C=>(c=C,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(C=>(y=Date.now(),qa()<=Ne.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-S}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${C} documents in `+(y-p)+`ms
Total Duration: ${y-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:C})))}}function Lx(r,e){return new jx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.changes=new Zs(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&Cl(a.mutation,o,Gn.empty(),Dt.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,$t()).next(()=>a))}getLocalViewOfDocuments(e,i,a=$t()){const o=Vs();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(c=>{let f=bc();return c.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,i){const a=Vs();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,$t()))}populateOverlays(e,i,a){const o=[];return a.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((f,m)=>{i.set(f,m)})})}computeViews(e,i,a,o){let c=Wc();const f=Rl(),m=function(){return Rl()}();return i.forEach((p,y)=>{const S=a.get(y.key);o.has(y.key)&&(S===void 0||S.mutation instanceof Ws)?c=c.insert(y.key,y):S!==void 0?(f.set(y.key,S.mutation.getFieldMask()),Cl(S.mutation,y,S.mutation.getFieldMask(),Dt.now())):f.set(y.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,S)=>f.set(y,S)),i.forEach((y,S)=>{var C;return m.set(y,new zx(S,(C=f.get(y))!==null&&C!==void 0?C:null))}),m))}recalculateAndSaveOverlays(e,i){const a=Rl();let o=new on((f,m)=>f-m),c=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let S=a.get(p)||Gn.empty();S=m.applyToLocalView(y,S),a.set(p,S);const C=(o.get(m.batchId)||$t()).add(p);o=o.insert(m.batchId,C)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,S=p.value,C=eT();S.forEach(N=>{if(!c.has(N)){const j=aT(i.get(N),a.get(N));j!==null&&C.set(N,j),c=c.add(N)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,C))}return Z.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(f){return Re.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ZI(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):Z.resolve(Vs());let m=Dl,p=c;return f.next(y=>Z.forEach(y,(S,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(e,S).next(N=>{p=p.insert(S,N)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,$t())).next(S=>({batchId:m,changes:JE(S)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Re(i)).next(a=>{let o=bc();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let f=bc();return this.indexManager.getCollectionParents(e,c).next(m=>Z.forEach(m,p=>{const y=function(C,N){return new mh(N,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(S=>{S.forEach((C,N)=>{f=f.insert(C,N)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o))).next(f=>{c.forEach((p,y)=>{const S=y.getKey();f.get(S)===null&&(f=f.insert(S,qn.newInvalidDocument(S)))});let m=bc();return f.forEach((p,y)=>{const S=c.get(p);S!==void 0&&Cl(S.mutation,y,Gn.empty(),Dt.now()),Km(i,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Z.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Qa(o.createTime)}}(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:Ox(o.bundledQuery),readTime:Qa(o.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.overlays=new on(Re.comparator),this.Rr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Vs();return Z.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&a.set(o,c)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,c)=>{this.Et(e,i,c)}),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=Vs(),c=i.length+1,f=new Re(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>a&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new on((y,S)=>y-S);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=Vs(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const m=Vs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,S)=>m.set(y,S)),!(m.size()>=o)););return Z.resolve(m)}Et(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new px(i,a));let c=this.Rr.get(i);c===void 0&&(c=$t(),this.Rr.set(i,c)),this.Rr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.sessionToken=vi.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.Vr=new zt(Nt.mr),this.gr=new zt(Nt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Nt(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Nt(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new Re(new gt([])),a=new Nt(i,e),o=new Nt(i,e+1),c=[];return this.gr.forEachInRange([a,o],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new Re(new gt([])),a=new Nt(i,e),o=new Nt(i,e+1);let c=$t();return this.gr.forEachInRange([a,o],f=>{c=c.add(f.key)}),c}containsKey(e){const i=new Nt(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Nt{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return Re.comparator(e.key,i.key)||He(e.Cr,i.Cr)}static pr(e,i){return He(e.Cr,i.Cr)||Re.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new zt(Nt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new mx(c,i,a,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Nt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,i){return Z.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Nr(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Um:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Nt(i,0),o=new Nt(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([a,o],f=>{const m=this.Or(f.Cr);c.push(m)}),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new zt(He);return i.forEach(o=>{const c=new Nt(o,0),f=new Nt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],m=>{a=a.add(m.Cr)})}),Z.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;Re.isDocumentKey(c)||(c=c.child(""));const f=new Nt(new Re(c),0);let m=new zt(He);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),Z.resolve(this.Br(m))}Br(e){const i=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){ot(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Z.forEach(i.mutations,o=>{const c=new Nt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Nt(i,0),o=this.Mr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.kr=e,this.docs=function(){return new on(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,f=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():qn.newInvalidDocument(i))}getEntries(e,i){let a=Wc();return i.forEach(o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():qn.newInvalidDocument(o))}),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Wc();const f=i.path,m=new Re(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:S}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||RI(wI(S),a)<=0||(o.has(S.key)||Km(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,o){xe()}qr(e,i){return Z.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new $x(this)}getSize(e){return Z.resolve(this.size)}}class $x extends Ux{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),Z.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.persistence=e,this.Qr=new Zs(i=>Fm(i),Gm),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Qm,this.targetCount=0,this.Ur=to.Kn()}forEachTarget(e,i){return this.Qr.forEach((a,o)=>i(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Z.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new to(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.zn(i),Z.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=i&&a.get(m.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Z.waitFor(c).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this.Kr.yr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this.Kr.Sr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(f=>{c.push(o.markPotentiallyOrphaned(e,f))}),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Kr.br(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Kr.vr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Lm(0),this.zr=!1,this.zr=!0,this.jr=new Fx,this.referenceDelegate=e(this),this.Hr=new Yx(this),this.indexManager=new Dx,this.remoteDocumentCache=function(o){return new Kx(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new Nx(i),this.Yr=new Hx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new qx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new Gx(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){ue("MemoryPersistence","Starting transaction:",e);const o=new Qx(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return Z.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class Qx extends II{constructor(e){super(),this.currentSequenceNumber=e}}class Xm{constructor(e){this.persistence=e,this.ti=new Qm,this.ni=null}static ri(e){return new Xm(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Z.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,a=>{const o=Re.fromPath(a);return this.si(e,o).next(c=>{c||i.removeEntry(o,Qe.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Z.or([()=>Z.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class th{constructor(e,i){this.persistence=e,this.oi=new Zs(a=>OI(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=Lx(this,i)}static ri(e,i){return new th(e,i)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Z.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(c=>c?Z.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,i).next(m=>{m||(a++,c.removeEntry(f,Qe.min()))})).next(()=>c.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Z.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Oc(e.data.value)),i}ar(e,i,a){return Z.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=o}static Yi(e,i){let a=$t(),o=$t();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Zm(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return hw()?8:xI(Yt())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.rs(e,i).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(e,i,o,a).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new Xx;return this._s(e,i,f).next(m=>{if(c.result=m,this.Xi)return this.us(e,i,f,m.size)})}).next(()=>c.result)}us(e,i,a,o){return a.documentReadCount<this.es?(qa()<=Ne.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",vl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(qa()<=Ne.DEBUG&&ue("QueryEngine","Query:",vl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(qa()<=Ne.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",vl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ls(i))):Z.resolve())}rs(e,i){if(b_(i))return Z.resolve(null);let a=Ls(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=rm(i,null,"F"),a=Ls(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(c=>{const f=$t(...c);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const y=this.cs(i,m);return this.ls(i,y,f,p.readTime)?this.rs(e,rm(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,a,o){return b_(i)||o.isEqual(Qe.min())?Z.resolve(null):this.ns.getDocuments(e,a).next(c=>{const f=this.cs(i,c);return this.ls(i,f,a,o)?Z.resolve(null):(qa()<=Ne.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vl(i)),this.hs(e,f,i,AI(o,Dl)).next(m=>m))})}cs(e,i){let a=new zt(JI(e));return i.forEach((o,c)=>{Km(e,c)&&(a=a.add(c))}),a}ls(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,a){return qa()<=Ne.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",vl(i)),this.ns.getDocumentsMatchingQuery(e,i,Xr.min(),a)}hs(e,i,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(c=>(i.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="LocalStore";class Jx{constructor(e,i,a,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new on(He),this.Is=new Zs(c=>Fm(c),Gm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function eN(r,e,i,a){return new Jx(r,e,i,a)}async function dT(r,e){const i=Ye(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(c=>{const f=[],m=[];let p=$t();for(const y of o){f.push(y.batchId);for(const S of y.mutations)p=p.add(S.key)}for(const y of c){m.push(y.batchId);for(const S of y.mutations)p=p.add(S.key)}return i.localDocuments.getDocuments(a,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function tN(r,e){const i=Ye(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,S){const C=y.batch,N=C.keys();let j=Z.resolve();return N.forEach(z=>{j=j.next(()=>S.getEntry(p,z)).next(Y=>{const F=y.docVersions.get(z);ot(F!==null),Y.version.compareTo(F)<0&&(C.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),S.addEntry(Y)))})}),j.next(()=>m.mutationQueue.removeMutationBatch(p,C))}(i,a,e,c).next(()=>c.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=$t();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function nN(r){const e=Ye(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function iN(r,e){const i=Ye(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}class O_{constructor(){this.activeTargetIds=sx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rN{constructor(){this.ho=new O_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new O_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="ConnectivityMonitor";class k_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(D_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(D_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function lm(){return Sc===null?Sc=function(){return 268435456+Math.round(2147483648*Math.random())}():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="RestConnection",aN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Yc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,i,a,o,c){const f=lm(),m=this.bo(e,i.toUriEncodedString());ue(Ld,`Sending RPC '${e}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,m,p,a).then(y=>(ue(Ld,`Received RPC '${e}' ${f}: `,y),y),y=>{throw dh(Ld,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",a),y})}Co(e,i,a,o,c,f){return this.So(e,i,a,o,c)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),a&&a.headers.forEach((o,c)=>e[c]=o)}bo(e,i){const a=aN[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class uN extends oN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,o){const c=lm();return new Promise((f,m)=>{const p=new IE;p.setWithCredentials(!0),p.listenOnce(xE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Nc.NO_ERROR:const S=p.getResponseJson();ue(Gt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(S)),f(S);break;case Nc.TIMEOUT:ue(Gt,`RPC '${e}' ${c} timed out`),m(new Te(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const C=p.getStatus();if(ue(Gt,`RPC '${e}' ${c} failed with status:`,C,"response text:",p.getResponseText()),C>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const j=N==null?void 0:N.error;if(j&&j.status&&j.message){const z=function(F){const Q=F.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Q)>=0?Q:ne.UNKNOWN}(j.status);m(new Te(z,j.message))}else m(new Te(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Te(ne.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{ue(Gt,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);ue(Gt,`RPC '${e}' ${c} sending request:`,o),p.send(i,"POST",y,a,15)})}Wo(e,i,a){const o=lm(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=DE(),m=OE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const S=c.join("");ue(Gt,`Creating RPC '${e}' stream ${o}: ${S}`,p);const C=f.createWebChannel(S,p);let N=!1,j=!1;const z=new lN({Fo:F=>{j?ue(Gt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(N||(ue(Gt,`Opening RPC '${e}' stream ${o} transport.`),C.open(),N=!0),ue(Gt,`RPC '${e}' stream ${o} sending:`,F),C.send(F))},Mo:()=>C.close()}),Y=(F,Q,te)=>{F.listen(Q,ee=>{try{te(ee)}catch(de){setTimeout(()=>{throw de},0)}})};return Y(C,Tl.EventType.OPEN,()=>{j||(ue(Gt,`RPC '${e}' stream ${o} transport opened.`),z.Qo())}),Y(C,Tl.EventType.CLOSE,()=>{j||(j=!0,ue(Gt,`RPC '${e}' stream ${o} transport closed`),z.Ko())}),Y(C,Tl.EventType.ERROR,F=>{j||(j=!0,dh(Gt,`RPC '${e}' stream ${o} transport errored:`,F),z.Ko(new Te(ne.UNAVAILABLE,"The operation could not be completed")))}),Y(C,Tl.EventType.MESSAGE,F=>{var Q;if(!j){const te=F.data[0];ot(!!te);const ee=te,de=(ee==null?void 0:ee.error)||((Q=ee[0])===null||Q===void 0?void 0:Q.error);if(de){ue(Gt,`RPC '${e}' stream ${o} received error:`,de);const ce=de.status;let _e=function(A){const I=mt[A];if(I!==void 0)return yx(I)}(ce),D=de.message;_e===void 0&&(_e=ne.INTERNAL,D="Unknown error status: "+ce+" with message "+de.message),j=!0,z.Ko(new Te(_e,D)),C.close()}else ue(Gt,`RPC '${e}' stream ${o} received:`,te),z.Uo(te)}}),Y(m,NE.STAT_EVENT,F=>{F.stat===Jd.PROXY?ue(Gt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Jd.NOPROXY&&ue(Gt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.$o()},0),z}}function Ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(r){return new vx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-a);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="PersistentStream";class cN{constructor(e,i,a,o,c,f,m,p){this.Ti=e,this.n_=a,this.r_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new mT(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===ne.RESOURCE_EXHAUSTED?(Fs(i.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===i&&this.V_(a,o)},a=>{e(()=>{const o=new Te(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(M_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(ue(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hN extends cN{constructor(e,i,a,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,f),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return ot(!!e.streamToken),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=Rx(e.writeResults,e.commitTime),a=Qa(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=Sx(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>wx(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{}class dN extends fN{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Te(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(e,am(i,a),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(ne.UNKNOWN,c.toString())})}Co(e,i,a,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,am(i,a),o,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Te(ne.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class mN{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Fs(i),this.N_=!1):ue("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="RemoteStore";class pN{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{a.enqueueAndForget(async()=>{Ql(this)&&(ue($l,"Restarting streams for network reachability change."),await async function(p){const y=Ye(p);y.W_.add(4),await Yl(y),y.j_.set("Unknown"),y.W_.delete(4),await vh(y)}(this))})}),this.j_=new mN(a,o)}}async function vh(r){if(Ql(r))for(const e of r.G_)await e(!0)}async function Yl(r){for(const e of r.G_)await e(!1)}function Ql(r){return Ye(r).W_.size===0}async function pT(r,e,i){if(!Gl(e))throw e;r.W_.add(1),await Yl(r),r.j_.set("Offline"),i||(i=()=>nN(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue($l,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await vh(r)})}function gT(r,e){return e().catch(i=>pT(r,i,e))}async function _h(r){const e=Ye(r),i=Wr(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:Um;for(;gN(e);)try{const o=await iN(e.localStore,a);if(o===null){e.K_.length===0&&i.P_();break}a=o.batchId,yN(e,o)}catch(o){await pT(e,o)}yT(e)&&vT(e)}function gN(r){return Ql(r)&&r.K_.length<10}function yN(r,e){r.K_.push(e);const i=Wr(r);i.c_()&&i.S_&&i.b_(e.mutations)}function yT(r){return Ql(r)&&!Wr(r).u_()&&r.K_.length>0}function vT(r){Wr(r).start()}async function vN(r){Wr(r).C_()}async function _N(r){const e=Wr(r);for(const i of r.K_)e.b_(i.mutations)}async function EN(r,e,i){const a=r.K_.shift(),o=Ym.from(a,e,i);await gT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await _h(r)}async function TN(r,e){e&&Wr(r).S_&&await async function(a,o){if(function(f){return gx(f)&&f!==ne.ABORTED}(o.code)){const c=a.K_.shift();Wr(a).h_(),await gT(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o)),await _h(a)}}(r,e),yT(r)&&vT(r)}async function V_(r,e){const i=Ye(r);i.asyncQueue.verifyOperationInProgress(),ue($l,"RemoteStore received new credentials");const a=Ql(i);i.W_.add(3),await Yl(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await vh(i)}async function bN(r,e){const i=Ye(r);e?(i.W_.delete(2),await vh(i)):e||(i.W_.add(2),await Yl(i),i.j_.set("Unknown"))}function Wr(r){return r.Y_||(r.Y_=function(i,a,o){const c=Ye(i);return c.M_(),new hN(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:vN.bind(null,r),Lo:TN.bind(null,r),D_:_N.bind(null,r),v_:EN.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await _h(r)):(await r.Y_.stop(),r.K_.length>0&&(ue($l,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const f=Date.now()+a,m=new Wm(e,i,f,o,c);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _T(r,e){if(Fs("AsyncQueue",`${e}: ${r}`),Gl(r))return new Te(ne.UNAVAILABLE,`${e}: ${r}`);throw r}class SN{constructor(){this.queries=P_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const o=Ye(i),c=o.queries;o.queries=P_(),c.forEach((f,m)=>{for(const p of m.ta)p.onError(a)})})(this,new Te(ne.ABORTED,"Firestore shutting down"))}}function P_(){return new Zs(r=>ZE(r),XE)}function AN(r){r.ia.forEach(e=>{e.next()})}var j_,L_;(L_=j_||(j_={}))._a="default",L_.Cache="cache";const wN="SyncEngine";class RN{constructor(e,i,a,o,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Zs(m=>ZE(m),XE),this.qa=new Map,this.Qa=new Set,this.$a=new on(Re.comparator),this.Ka=new Map,this.Ua=new Qm,this.Wa={},this.Ga=new Map,this.za=to.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function CN(r,e,i){const a=ON(r);try{const o=await function(f,m){const p=Ye(f),y=Dt.now(),S=m.reduce((j,z)=>j.add(z.key),$t());let C,N;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let z=Wc(),Y=$t();return p.ds.getEntries(j,S).next(F=>{z=F,z.forEach((Q,te)=>{te.isValidDocument()||(Y=Y.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,z)).next(F=>{C=F;const Q=[];for(const te of m){const ee=fx(te,C.get(te.key).overlayedDocument);ee!=null&&Q.push(new Ws(te.key,ee,qE(ee.value.mapValue),er.exists(!0)))}return p.mutationQueue.addMutationBatch(j,y,Q,m)}).next(F=>{N=F;const Q=F.applyToLocalDocumentSet(C,Y);return p.documentOverlayCache.saveOverlays(j,F.batchId,Q)})}).then(()=>({batchId:N.batchId,changes:JE(C)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new on(He)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(a,o.batchId,i),await Eh(a,o.changes),await _h(a.remoteStore)}catch(o){const c=_T(o,"Failed to persist write");i.reject(c)}}function U_(r,e,i){const a=Ye(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.ka.forEach((c,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ye(f);p.onlineState=m;let y=!1;p.queries.forEach((S,C)=>{for(const N of C.ta)N.sa(m)&&(y=!0)}),y&&AN(p)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function IN(r,e){const i=Ye(r),a=e.batch.batchId;try{const o=await tN(i.localStore,e);TT(i,a,null),ET(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Eh(i,o)}catch(o){await jm(o)}}async function xN(r,e,i){const a=Ye(r);try{const o=await function(f,m){const p=Ye(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let S;return p.mutationQueue.lookupMutationBatch(y,m).next(C=>(ot(C!==null),S=C.keys(),p.mutationQueue.removeMutationBatch(y,C))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,S,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S)).next(()=>p.localDocuments.getDocuments(y,S))})}(a.localStore,e);TT(a,e,i),ET(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Eh(a,o)}catch(o){await jm(o)}}function ET(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function TT(r,e,i){const a=Ye(r);let o=a.Wa[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}async function Eh(r,e,i){const a=Ye(r),o=[],c=[],f=[];a.ka.isEmpty()||(a.ka.forEach((m,p)=>{f.push(a.Ha(p,e,i).then(y=>{var S;if((y||i)&&a.isPrimaryClient){const C=y?!y.fromCache:(S=void 0)===null||S===void 0?void 0:S.current;a.sharedClientState.updateQueryState(p.targetId,C?"current":"not-current")}if(y){o.push(y);const C=Zm.Yi(p.targetId,y);c.push(C)}}))}),await Promise.all(f),a.La.p_(o),await async function(p,y){const S=Ye(p);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>Z.forEach(y,N=>Z.forEach(N.Hi,j=>S.persistence.referenceDelegate.addReference(C,N.targetId,j)).next(()=>Z.forEach(N.Ji,j=>S.persistence.referenceDelegate.removeReference(C,N.targetId,j)))))}catch(C){if(!Gl(C))throw C;ue(Wx,"Failed to update sequence numbers: "+C)}for(const C of y){const N=C.targetId;if(!C.fromCache){const j=S.Ts.get(N),z=j.snapshotVersion,Y=j.withLastLimboFreeSnapshotVersion(z);S.Ts=S.Ts.insert(N,Y)}}}(a.localStore,c))}async function NN(r,e){const i=Ye(r);if(!i.currentUser.isEqual(e)){ue(wN,"User change. New user:",e.toKey());const a=await dT(i.localStore,e);i.currentUser=e,function(c,f){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new Te(ne.CANCELLED,f))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Eh(i,a.Rs)}}function ON(r){const e=Ye(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xN.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return eN(this.persistence,new Zx,e.initialUser,this.serializer)}Xa(e){return new fT(Xm.ri,this.serializer)}Za(e){return new rN}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class DN extends nh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){ot(this.persistence.referenceDelegate instanceof th);const a=this.persistence.referenceDelegate.garbageCollector;return new Px(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new fT(a=>th.ri(a,i),this.serializer)}}class um{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>U_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=NN.bind(null,this.syncEngine),await bN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new SN}()}createDatastore(e){const i=yh(e.databaseInfo.databaseId),a=function(c){return new uN(c)}(e.databaseInfo);return function(c,f,m,p){return new dN(c,f,m,p)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,c,f,m){return new pN(a,o,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,i=>U_(this.syncEngine,i,0),function(){return k_.D()?new k_:new sN}())}createSyncEngine(e,i){return function(o,c,f,m,p,y,S){const C=new RN(o,c,f,m,p,y);return S&&(C.ja=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=Ye(o);ue($l,"RemoteStore shutting down."),c.W_.add(5),await Yl(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}um.provider={build:()=>new um};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="FirestoreClient";class kN{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=ME.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async f=>{ue(Jr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(ue(Jr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=_T(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function zd(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Jr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await dT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function z_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await MN(r);ue(Jr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(a=>V_(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>V_(e.remoteStore,o)),r._onlineComponents=e}async function MN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Jr,"Using user provided OfflineComponentProvider");try{await zd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;dh("Error using user provided cache. Falling back to memory cache: "+i),await zd(r,new nh)}}else ue(Jr,"Using default OfflineComponentProvider"),await zd(r,new DN(void 0));return r._offlineComponents}async function VN(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Jr,"Using user provided OnlineComponentProvider"),await z_(r,r._uninitializedComponentsProvider._online)):(ue(Jr,"Using default OnlineComponentProvider"),await z_(r,new um))),r._onlineComponents}function PN(r){return VN(r).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(r,e,i){if(!i)throw new Te(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function LN(r,e,i,a){if(e===!0&&a===!0)throw new Te(ne.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function H_(r){if(!Re.isDocumentKey(r))throw new Te(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Jm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe()}function cm(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Te(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Jm(r);throw new Te(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firestore.googleapis.com",q_=!0;class F_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ST,this.ssl=q_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:q_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Mx)throw new Te(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new Te(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Te(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Te(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ep{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F_(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new gI;switch(a.type){case"firstParty":return new EI(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Te(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=B_.get(i);a&&(ue("ComponentProvider","Removing Datastore"),B_.delete(i),a.terminate())}(this),Promise.resolve()}}function UN(r,e,i,a={}){var o;const c=(r=cm(r,ep))._getSettings(),f=`${e}:${i}`;if(c.host!==ST&&c.host!==f&&dh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),a.mockUserToken){let m,p;if(typeof a.mockUserToken=="string")m=a.mockUserToken,p=Kt.MOCK_USER;else{m=sw(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=a.mockUserToken.sub||a.mockUserToken.user_id;if(!y)throw new Te(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Kt(y)}r._authCredentials=new yI(new kE(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new tp(this.firestore,e,this._query)}}class tr{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class Pl extends tp{constructor(e,i,a){super(e,i,XI(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new Re(e))}withConverter(e){return new Pl(this.firestore,e,this._path)}}function zN(r,e,...i){if(r=Bt(r),arguments.length===1&&(e=ME.newId()),jN("doc","path",e),r instanceof ep){const a=gt.fromString(e,...i);return H_(a),new tr(r,null,new Re(a))}{if(!(r instanceof tr||r instanceof Pl))throw new Te(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(gt.fromString(e,...i));return H_(a),new tr(r.firestore,r instanceof Pl?r.converter:null,new Re(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="AsyncQueue";class K_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new mT(this,"async_queue_retry"),this.Su=()=>{const a=Ud();a&&ue(G_,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=Ud();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Ud();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new js;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Gl(e))throw e;ue(G_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(a);throw Fs("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Wm.createAndSchedule(this,e,i,a,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class AT extends ep{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new K_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K_(e),this._firestoreClient=void 0,await e}}}function BN(r,e){const i=typeof r=="object"?r:Em(),a=typeof r=="string"?r:Yc,o=Qs(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=iw("firestore");c&&UN(o,...c)}return o}function HN(r){if(r._terminated)throw new Te(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||qN(r),r._firestoreClient}function qN(r){var e,i,a;const o=r._freezeSettings(),c=function(m,p,y,S){return new VI(m,p,y,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,bT(S.experimentalLongPollingOptions),S.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new kN(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(vi.fromBase64String(e))}catch(i){throw new Te(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new jl(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Te(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Te(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Te(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=/^__.*__$/;class GN{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}function xT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class np{constructor(e,i,a,o,c,f){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new np(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Ku(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ih(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(xT(this.Lu)&&FN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class KN{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||yh(e)}ju(e,i,a,o=!1){return new np({Lu:e,methodName:i,zu:a,path:Ut.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $N(r){const e=r._freezeSettings(),i=yh(r._databaseId);return new KN(r._databaseId,!!e.ignoreUndefinedProperties,i)}function YN(r,e,i,a,o,c={}){const f=r.ju(c.merge||c.mergeFields?2:0,e,i,o);kT("Data must be an object, but it was:",f,a);const m=OT(a,f);let p,y;if(c.merge)p=new Gn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const S=[];for(const C of c.mergeFields){const N=QN(e,C,i);if(!f.contains(N))throw new Te(ne.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);WN(S,N)||S.push(N)}p=new Gn(S),y=f.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,y=f.fieldTransforms;return new GN(new Fn(m),p,y)}function NT(r,e){if(DT(r=Bt(r)))return kT("Unsupported field value:",e,r),OT(r,e);if(r instanceof RT)return function(a,o){if(!xT(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const c=[];let f=0;for(const m of a){let p=NT(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,e)}return function(a,o){if((a=Bt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ax(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Dt.fromDate(a);return{timestampValue:sm(o.serializer,c)}}if(a instanceof Dt){const c=new Dt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sm(o.serializer,c)}}if(a instanceof CT)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof jl)return{bytesValue:_x(o.serializer,a._byteString)};if(a instanceof tr){const c=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(c))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:uT(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof IT)return function(f,m){return{mapValue:{fields:{[BE]:{stringValue:HE},[em]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return $m(m.serializer,y)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Jm(a)}`)}(r,e)}function OT(r,e){const i={};return PE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(r,(a,o)=>{const c=NT(o,e.qu(a));c!=null&&(i[a]=c)}),{mapValue:{fields:i}}}function DT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Dt||r instanceof CT||r instanceof jl||r instanceof tr||r instanceof RT||r instanceof IT)}function kT(r,e,i){if(!DT(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=Jm(i);throw a==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+a)}}function QN(r,e,i){if((e=Bt(e))instanceof wT)return e._internalPath;if(typeof e=="string")return ZN(r,e);throw ih("Field path arguments must be of type string or ",r,!1,void 0,i)}const XN=new RegExp("[~\\*/\\[\\]]");function ZN(r,e,i){if(e.search(XN)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new wT(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ih(r,e,i,a,o){const c=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new Te(ne.INVALID_ARGUMENT,m+r+p)}function WN(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(r,e,i){let a;return a=r?r.toFirestore(e):e,a}function eO(r,e,i){r=cm(r,tr);const a=cm(r.firestore,AT),o=JN(r.converter,e);return tO(a,[YN($N(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,er.none())])}function tO(r,e){return function(a,o){const c=new js;return a.asyncQueue.enqueueAndForget(async()=>CN(await PN(a),o,c)),c.promise}(HN(r),e)}(function(e,i=!0){(function(o){ao=o})(ro),yi(new Kn("firestore",(a,{instanceIdentifier:o,options:c})=>{const f=a.getProvider("app").getImmediate(),m=new AT(new vI(a.getProvider("auth-internal")),new TI(f,a.getProvider("app-check-internal")),function(y,S){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Te(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(y.options.projectId,S)}(f,o),f);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Mn(l_,u_,e),Mn(l_,u_,"esm2017")})();const nO={apiKey:"AIzaSyDPgMa2cQIJJHAD5loZZrQOrn8oGyCtuXQ",authDomain:"getfit-79396.firebaseapp.com",projectId:"getfit-79396",storageBucket:"getfit-79396.appspot.com",messagingSenderId:"241827461493",appId:"1:241827461493:web:704bb4a0c2d368043ebb3c",measurementId:"G-J44KNXJ2BP"},ip=T0(nO);fI(ip);const Yr=$2(ip),iO=BN(ip);new Yi;const rO=()=>{es();const[r,e]=H.useState(!1),[i,a]=H.useState(null),o=()=>e(!r);H.useEffect(()=>Q0(Yr,p=>{a(p)}),[]);const c=()=>{e(!1)},f=m=>i?i.emailVerified?E.jsxs(E.Fragment,{children:[E.jsx(pt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:m,children:"Domov"}),E.jsx(pt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:m,children:"Vyhľadávanie"}),E.jsx(pt,{to:"/profil",className:"pr-7 text-[#616161] hover:underline",onClick:m,children:"Profil"}),E.jsx(pt,{to:"/dashboard",className:"pr-7 text-[#616161] cursor-pointer hover:underline",onClick:m,children:"Dashboard"}),E.jsx(pt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:m,children:"Odhlásiť sa"})]}):E.jsxs(E.Fragment,{children:[E.jsx(pt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:m,children:"Domov"}),E.jsx(pt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:m,children:"Vyhľadávanie"}),E.jsx(pt,{to:"/verify-email",className:"pr-7 text-[#616161] hover:underline",onClick:m,children:"Over si email"}),E.jsx(pt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:m,children:"Odhlásiť sa"})]}):E.jsxs(E.Fragment,{children:[E.jsx(pt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:m,children:"Domov"}),E.jsx(pt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:m,children:"Vyhľadávanie"}),E.jsx(pt,{to:"/login",className:"pr-7 text-[#616161] hover:underline",onClick:m,children:"Prihlásiť sa"}),E.jsx(pt,{to:"/register",className:"pr-7 text-[#616161] hover:underline",onClick:m,children:"Registrácia"})]});return E.jsxs("nav",{className:"bg-white shadow-md fixed top-0 left-0 w-full py-4 px-10 flex justify-between items-center z-50",children:[E.jsx("span",{className:"text-2xl font-bold text-green-700",children:"GetFit"}),E.jsx("div",{className:"hidden md:flex space-x-6 text-gray-700 font-bold",children:f()}),E.jsx("div",{className:"md:hidden",children:E.jsx("button",{onClick:o,children:r?E.jsx(QA,{size:24}):E.jsx(YA,{size:24})})}),E.jsx("div",{className:`
          absolute top-full left-0 w-full bg-white shadow-md flex flex-col items-center py-4 space-y-4 
          md:hidden transition-all duration-300 overflow-hidden
          ${r?"max-h-96 opacity-100":"max-h-0 opacity-0"}
        `,children:f(c)})]})},sO=()=>E.jsxs("header",{className:"w-full text-center py-20 bg-gradient-to-r from-green-300 to-green-500 text-white",children:[E.jsx("h1",{className:"text-5xl font-bold",children:"Zdravý život je jednoduchý"}),E.jsx("p",{className:"text-lg mt-4",children:"Nájdite tie najlepšie jedlá, ktoré zodpovedajú vášmu životnému štýlu"}),E.jsx("button",{className:"mt-6 px-6 py-3 bg-white text-green-600 rounded-lg shadow-lg hover:shadow-xl transition",children:"Sign Up"})]}),aO=({query:r,setQuery:e,handleSearch:i,disabled:a})=>E.jsxs("section",{className:"max-w-5xl mx-auto py-16 px-6",children:[E.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"Prečo si vybrať našu platformu?"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[E.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Sledujte svoju výživu"}),E.jsx("p",{className:"text-gray-700 mt-3",children:"Ľahko zaznamenávajte svoje jedlá a sledujte makrá bez problémov."})]}),E.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[E.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Personalizované stravovacie plány"}),E.jsx("p",{className:"text-gray-700 mt-3",children:"Upravte svoj jedálniček na základe vašich fitness cieľov."})]})]}),E.jsxs("div",{className:"mt-12 text-center",children:[E.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Vyhľadajte informácie o výžive"}),E.jsxs("div",{className:"flex justify-center gap-4",children:[E.jsx("input",{type:"text",placeholder:"Zadajte názov jedla...",value:r,onChange:o=>e(o.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500"}),E.jsx("button",{onClick:i,disabled:a,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition disabled:bg-green-950",children:"Hľadať"})]})]})]}),MT=()=>E.jsxs("div",{role:"status",children:[E.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-indigo-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),E.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),E.jsx("span",{className:"sr-only",children:"Loading..."})]}),oO=({results:r=[],query:e,setQuery:i,handleSearch:a,searchTerm:o,error:c,isLoading:f})=>f?E.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:E.jsx(MT,{})}):E.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12",children:E.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[c&&E.jsxs("p",{className:"text-red-600 text-center mb-4",children:["Chyba pri načítaní dát: ",c.message]}),E.jsxs("h2",{className:"text-3xl font-semibold text-green-700 text-center mb-6 mt-6",children:["Výsledky pre: ",E.jsx("em",{className:"font-normal text-green-600",children:o})]}),E.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[E.jsx("input",{type:"text",placeholder:"Zadaj iné jedlo...",value:e,onChange:m=>i(m.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:ring-2 focus:ring-green-500"}),E.jsx("button",{onClick:a,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition",children:"Hľadať"})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map((m,p)=>{var F;const{food_name:y,nutrition:S}=m,C=((F=S==null?void 0:S.photo)==null?void 0:F.thumb)||"https://via.placeholder.com/300x150",N=(S==null?void 0:S.nf_calories)??0,j=(S==null?void 0:S.nf_total_fat)??0,z=(S==null?void 0:S.nf_protein)??0,Y=(S==null?void 0:S.nf_total_carbohydrate)??0;return E.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition p-5",children:[E.jsx("img",{src:C,alt:y,className:"w-full h-40 object-cover rounded-md"}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-3",children:y}),E.jsxs("div",{className:"text-gray-600 text-sm leading-relaxed mt-2",children:[E.jsxs("p",{children:[E.jsx("strong",{className:"text-green-600",children:"Kalórie:"})," ",N," kcal"]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-green-600",children:"Tuky:"})," ",j," g"]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-green-600",children:"Bielkoviny:"})," ",z," g"]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-green-600",children:"Sacharidy:"})," ",Y," g"]})]})]},p)}):E.jsx("p",{className:"col-span-full text-center text-gray-600",children:"Žiadne výsledky na zobrazenie."})})]})}),lO=[{id:1,title:"Top 5 zdravých potravín na spaľovanie tukov",excerpt:"Tieto potraviny ti pomôžu zrýchliť metabolizmus a efektívne spaľovať tuk.",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:"Celý článok o zdravých potravinách..."},{id:2,title:"Ako správne kombinovať sacharidy, tuky a bielkoviny?",excerpt:"Vyvážená strava je kľúčom k zdraviu. Pozri si, ako kombinovať makroživiny.",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:"Celý článok o kombinovaní makroživín..."},{id:3,title:"Prečo je hydratácia kľúčová pri chudnutí?",excerpt:"Pitný režim hrá obrovskú úlohu pri tvojom metabolizme a spaľovaní tukov.",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:"Celý článok o hydratácii a jej výhodách..."}],uO=()=>{const r=Xn();return H.useEffect(()=>{if(r.state&&r.state.scrollTo){const e=document.getElementById(`blog-${r.state.scrollTo}`);e&&e.scrollIntoView({behavior:"smooth"})}},[r]),E.jsx("div",{children:E.jsxs("section",{className:"max-w-6xl mx-auto pb-16 px-6",children:[E.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-10",children:"Najnovšie tipy a rady"}),E.jsx("div",{className:"grid gird-cols-1 md:grid-cols-3 gap-8",children:lO.map(e=>E.jsxs("div",{id:`blog-${e.id}`,className:"bg-white shadow-lg rounded-lg overflow-hidden hover:shadow-xl transition",children:[E.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),E.jsxs("div",{className:"p-6",children:[E.jsx("h3",{className:"text-2xl font-bold text-green-600",children:e.title}),E.jsx("p",{className:"text-gray-700 mt-3",children:e.excerpt}),E.jsx(pt,{to:`/blog/${e.id}`,className:"inline-block mt-4 text-green-700 font-semibold hover:underline",children:"Čítať viac →"})]})]},e.id))})]})})},cO=[{id:1,title:"Top 5 zdravých potravín na spaľovanie tukov",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Spaľovanie tukov nie je len o cvičení, ale aj o správnej výžive. Medzi najlepšie potraviny, ktoré ti pomôžu spaľovať tuky patria:"}),E.jsxs("ul",{className:"list-disc list-inside mt-4",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Avokádo"})," – obsahuje zdravé tuky, ktoré podporujú metabolizmus."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Losos"})," – bohatý na omega-3 mastné kyseliny, ktoré pomáhajú regulovať hladinu cukru v krvi."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Zelený čaj"})," – zrýchľuje spaľovanie kalórií a podporuje trávenie."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Chilli papričky"})," – obsahujú kapsaicín, ktorý podporuje spaľovanie tukov."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Orechy"})," – skvelý zdroj bielkovín a zdravých tukov."]})]}),E.jsxs("p",{className:"mt-6",children:[E.jsx("span",{className:"font-semibold text-green-600",children:"Záver:"})," Pravidelné konzumovanie týchto potravín v kombinácii s fyzickou aktivitou môže výrazne pomôcť pri spaľovaní tukov a udržiavaní zdravej hmotnosti."]})]})},{id:2,title:"Ako správne kombinovať sacharidy, tuky a bielkoviny?",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Vyvážená strava je základ zdravého životného štýlu. Dôležité je pochopiť, ako správne kombinovať makroživiny:"}),E.jsxs("ul",{className:"list-disc list-inside mt-4",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Sacharidy"})," – hlavný zdroj energie. Ideálne sú celozrnné potraviny, ovocie a zelenina."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Tuky"})," – esenciálne pre správne fungovanie organizmu. Uprednostni zdravé tuky ako olivový olej, orechy a avokádo."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Bielkoviny"})," – dôležité pre svalovú regeneráciu. Kvalitné zdroje sú kuracie mäso, ryby, tofu a strukoviny."]})]}),E.jsxs("p",{className:"mt-6",children:[E.jsx("span",{className:"font-semibold text-green-600",children:"Tip:"})," Správne jedlo by malo obsahovať vyvážený pomer všetkých troch makroživín. Napríklad:"]}),E.jsxs("ul",{className:"list-disc list-inside mt-4",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Raňajky:"})," Ovsená kaša s mandľami a banánom."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Obed:"})," Grilované kuracie mäso s quinoou a avokádovým šalátom."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Večera:"})," Pečený losos s dusenou zeleninou."]})]})]})},{id:3,title:"Prečo je hydratácia kľúčová pri chudnutí?",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Voda hrá zásadnú úlohu pri metabolizme a chudnutí. Je dôležité dodržiavať správny pitný režim:"}),E.jsxs("ul",{className:"list-disc list-inside mt-4",children:[E.jsx("li",{children:"Pomáha tráveniu a detoxikácii organizmu."}),E.jsx("li",{children:"Podporuje spaľovanie tukov."}),E.jsx("li",{children:"Znižuje pocit hladu – často si zamieňame smäd za hlad."})]}),E.jsx("p",{className:"mt-6",children:E.jsx("span",{className:"font-semibold text-green-600",children:"Koľko vody by si mal/a piť?"})}),E.jsxs("ul",{className:"list-disc list-inside mt-4",children:[E.jsxs("li",{children:["Minimálne ",E.jsx("strong",{children:"2-3 litre denne"}),"."]}),E.jsxs("li",{children:["Počas cvičenia doplň aspoň ",E.jsx("strong",{children:"0,5 L vody"})," na hodinu."]}),E.jsx("li",{children:"Ráno začni pohárom vody s citrónom pre lepší metabolizmus."})]})]})}],hO=()=>{const{id:r}=GS(),e=cO.find(i=>i.id===parseInt(r));return e?E.jsx("div",{children:E.jsxs("section",{className:"max-w-4xl mx-auto py-16 mt-8 px-6",children:[E.jsx("img",{src:e.image,alt:e.title,className:"w-full h-80 object-cover rounded-lg mb-6"}),E.jsx("h1",{className:"text-4xl font-bold text-green-700",children:e.title}),E.jsx("div",{className:"text-gray-700 mt-6 leading-fixed",children:e.content}),E.jsx(pt,{to:"/",state:{scrollTo:e.id},className:"inline-block mt-6 text-green-700 font-semibold hover:underline",children:" ← Späť na blog"})]})}):E.jsx("p",{className:"text-center text-red-600 text-xl mt-10",children:"Článok neexistuje!"})},fO=()=>{const[r,e]=H.useState(""),[i,a]=H.useState(""),[o,c]=H.useState(""),[f,m]=H.useState("male"),[p,y]=H.useState(1.2),[S,C]=H.useState("maintain"),[N,j]=H.useState(null),z=Y=>{if(Y.preventDefault(),!r||!i||!o){alert("Prosím, vyplň všetky polia.");return}let F;f==="male"?F=88.36+13.4*parseFloat(r)+4.8*parseFloat(i)-5.7*parseFloat(o):F=447.6+9.2*parseFloat(r)+3.1*parseFloat(i)-4.3*parseFloat(o);let Q=F*parseFloat(p);S==="lose"?Q-=500:S==="gain"&&(Q+=500),j(Math.round(Q))};return E.jsxs("section",{className:"max-w-4xl mx-auto py-16 px-6 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"BMI kalkulačka"}),E.jsxs("form",{onSubmit:z,className:"grid grid-cols-1 sm:grid-cols-2 gap-6 bg-gray-50 p-6 rounded-lg shadow-md",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Váha (kg)"}),E.jsx("input",{type:"number",value:r,onChange:Y=>e(Y.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte váhu"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Výška (cm)"}),E.jsx("input",{type:"number",value:i,onChange:Y=>a(Y.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte výšku"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Vek"}),E.jsx("input",{type:"number",value:o,onChange:Y=>c(Y.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte vek"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Pohlavie"}),E.jsxs("select",{value:f,onChange:Y=>m(Y.target.value),className:" focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[E.jsx("option",{value:"male",children:"Muž"}),E.jsx("option",{value:"female",children:"Žena"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Úroveň aktivity"}),E.jsxs("select",{value:p,onChange:Y=>y(Y.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[E.jsx("option",{value:"1.2",children:"Sedavý životný štýl"}),E.jsx("option",{value:"1.375",children:"Ľahká aktivita (1-3x týždenne cvičenie)"}),E.jsx("option",{value:"1.55",children:"Stredná aktivita (3-5x týždenne cvičenie)"}),E.jsx("option",{value:"1.725",children:"Vysoká aktivita (6-7x týždenne cvičenie)"}),E.jsx("option",{value:"1.9",children:"Extrémna aktivita (ťažká fyzická práca + tréning)"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-700 font-semibold",children:"Cieľ"}),E.jsxs("select",{value:S,onChange:Y=>C(Y.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[E.jsx("option",{value:"lose",children:"Schudnúť"}),E.jsx("option",{value:"maintain",children:"Udržať váhu"}),E.jsx("option",{value:"gain",children:"Nabrať svaly"})]})]}),E.jsx("div",{className:"col-span-1 sm:col-span-2 flex justify-center",children:E.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition text-lg font-semibold shadow-md w-full sm:w-1/2",children:"Vypočítať kalórie"})})]}),N!==null&&E.jsxs("div",{className:"mt-8 p-6 bg-green-100 text-center rounded-lg shadow-md",children:[E.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Odporúčaný denný kalorický príjem:"}),E.jsxs("p",{className:"text-4xl font-bold text-green-700 mt-2",children:[N," kcal"]})]})]})},dO=()=>{const[r,e]=H.useState(1),[i,a]=H.useState(!1),[o,c]=H.useState(""),[f,m]=H.useState(""),[p,y]=H.useState(""),[S,C]=H.useState(""),[N,j]=H.useState(!1),[z,Y]=H.useState(null),[F,Q]=H.useState(""),[te,ee]=H.useState(""),[de,ce]=H.useState(""),[_e,D]=H.useState("male"),[w,A]=H.useState("1.2"),[I,M]=H.useState("maintain"),[L,x]=H.useState(null),[Ze,tt]=H.useState(!1),[re,ye]=H.useState(!1),[me,Ae]=H.useState(null),O=es();if(i)return E.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:E.jsx(MT,{})});const J=()=>{let oe;_e==="male"?oe=88.36+13.4*te+4.8*de-5.7*F:oe=447.6+9.2*te+3.1*de-4.3*F;let ge=oe*w;I==="lose"&&(ge-=500),I==="gain"&&(ge+=500),x(Math.round(ge)),ye(!0)},he=()=>{if(!o||!o.includes("@"))return Ae("Prosím, zadaj platný email."),!1;if(f.length<8)return Ae("Heslo musí mať aspoň 8 znakov."),!1;if(!/[A-Z]/.test(f))return Ae("Heslo musí obsahovať aspoň 1 veľké písmeno (A-Z)."),!1;if(!/\d/.test(f))return Ae("Heslo musí obsahovať aspoň 1 číslicu."),!1;if(f!==p)return Ae("Heslá sa nezhodujú."),!1;if(!N){Ae("Musíš súhlasiť s podmienkami používania a ochranou osobných údajov.");return}return Ae(null),!0},se=()=>{he()&&e(2)},ae=async oe=>{oe.preventDefault(),a(!0);try{const ge=await xR(Yr,o,f);await kR(ge.user,{displayName:S}),await OR(ge.user),await eO(zN(iO,"users",ge.user.uid),{name:S,email:o,agreedToTerms:!0,age:F,weight:te,height:de,gender:_e,activity:w,goal:I,calories:L}),a(!1),O("/verify-email")}catch(ge){Ae("Chyba pri registrácii: "+ge.message)}};return E.jsxs("section",{className:"max-w-md mt-30 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Registrácia"}),me&&E.jsx("p",{className:"text-red-600 text-center mt-2",children:me}),E.jsxs("form",{onSubmit:ae,className:"mt-4",children:[r===1&&E.jsxs(E.Fragment,{children:[E.jsx("label",{className:"block mt-2",children:"Meno"}),E.jsx("input",{type:"text",placeholder:"Meno",value:S,onChange:oe=>C(oe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Email"}),E.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:oe=>c(oe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Heslo"}),E.jsx("input",{type:"password",placeholder:"Heslo",value:f,onChange:oe=>m(oe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Potvrdiť heslo"}),E.jsx("input",{type:"password",placeholder:"Potvrdiť heslo",value:p,onChange:oe=>y(oe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsxs("div",{className:"mt-6 flex items-start",children:[E.jsx("input",{type:"checkbox",checked:N,onChange:()=>j(!N),className:"mr-2 ml-2 mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),E.jsxs("label",{className:"text-gray-600 mr-5",children:["Súhlasím s ",E.jsx(pt,{to:"/terms",className:"text-blue-600 underline",children:"podmienkami používania"})," a ",E.jsx(pt,{to:"/privacy",className:"text-blue-600 underline",children:"ochranou osobných údajov"}),"."]})]}),E.jsx("button",{type:"button",onClick:se,className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Ďalej"})]}),r===2&&E.jsxs(E.Fragment,{children:[E.jsx("label",{className:"block mt-2",children:"Vek"}),E.jsx("input",{type:"number",placeholder:"Vek",value:F,onChange:oe=>Q(oe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Váha (kg)"}),E.jsx("input",{type:"number",placeholder:"Váha (kg)",value:te,onChange:oe=>ee(oe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Výška (cm)"}),E.jsx("input",{type:"number",placeholder:"Výška (cm)",value:de,onChange:oe=>ce(oe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Pohlavie"}),E.jsxs("select",{value:_e,onChange:oe=>D(oe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[E.jsx("option",{value:"male",children:"Muž"}),E.jsx("option",{value:"female",children:"Žena"})]}),E.jsx("button",{type:"button",onClick:()=>e(3),className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Ďalej"})]}),r===3&&E.jsxs(E.Fragment,{children:[E.jsx("label",{className:"block mt-2",children:"Cieľ"}),E.jsxs("select",{value:I,onChange:oe=>M(oe.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[E.jsx("option",{value:"lose",children:"Schudnúť"}),E.jsx("option",{value:"maintain",children:"Udržať váhu"}),E.jsx("option",{value:"gain",children:"Nabrať svaly"})]}),E.jsx("label",{className:"block mt-2",children:"Úroveň aktivity"}),E.jsxs("select",{value:w,onChange:oe=>A(oe.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[E.jsx("option",{value:"1.2",children:"Sedavý životný štýl"}),E.jsx("option",{value:"1.375",children:"Ľahká aktivita (1-3x/týž)"}),E.jsx("option",{value:"1.55",children:"Stredná aktivita (3-5x/týž)"}),E.jsx("option",{value:"1.725",children:"Vysoká aktivita (6-7x/týž)"}),E.jsx("option",{value:"1.9",children:"Extrémna aktivita"})]}),E.jsx("label",{className:"block mt-2",children:"BMI / Kalórie"}),Ze?E.jsx("input",{type:"number",value:L||"",onChange:oe=>x(oe.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):E.jsxs("p",{className:"mt-2 font-semibold text-center",children:[L," kcal"]}),E.jsxs("div",{className:"flex justify-between mt-4",children:[E.jsx("button",{type:"button",onClick:J,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Vypočítať BMI"}),re&&E.jsx("button",{type:"button",onClick:()=>tt(!Ze),className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600",children:Ze?"Uložiť":"Upraviť"})]}),E.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Registrovať sa"})]})]})]})},mO=()=>{const r=es(),e=async()=>{Yr.currentUser&&(await Yr.currentUser.reload(),Yr.currentUser.emailVerified?r("/dashboard"):alert("Email ešte nie je overený. Skontroluj schránku a skús znovu."))};return E.jsxs("section",{className:"pt-20 mt-30 max-w-md mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Overenie emailu"}),E.jsx("p",{className:"mt-4 text-center",children:"Na tvoj email bol odoslaný overovací odkaz. Prosím otvor si email, klikni na overovací link a potom sa vráť sem."}),E.jsx("button",{onClick:e,className:"bg-green-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-green-700",children:"Skontrolovať, či som email potvrdil"})]})},pO=()=>E.jsx("div",{children:"Dashboard"}),gO=({children:r})=>{const[e,i]=H.useState(void 0),[a,o]=H.useState(!0);return H.useEffect(()=>{const c=Q0(Yr,f=>{i(f),o(!1)});return()=>c()},[]),a?E.jsx("p",{children:"Načítavam..."}):!e||!e.emailVerified?E.jsx(sA,{to:"/verify-email"}):r},yO=()=>{const r=es(),e=async()=>{try{await PR(Yr),r("/")}catch(i){console.error("Chyba pri odhlasovaní:",i)}};return E.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg text-center",children:[E.jsx("h2",{className:"text-3xl font-semibold text-green-700",children:"Odhlásenie"}),E.jsx("p",{className:"mt-4 text-gray-600",children:"Si si istý, že sa chceš odhlásiť?"}),E.jsx("button",{onClick:e,className:"bg-red-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-red-700 transition",children:"Odhlásiť sa"})]})},vO=()=>{const[r,e]=H.useState(""),[i,a]=H.useState(""),[o,c]=H.useState(""),f=es(),m=async p=>{p.preventDefault();try{await NR(Yr,r,i),f("/dashboard")}catch(y){c("Chyba pri prihlasovaní: "+y.message)}};return E.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Prihlásenie"}),o&&E.jsx("p",{className:"text-red-600 text-center mt-2",children:o}),E.jsxs("form",{onSubmit:m,className:"mt-4",children:[E.jsx("label",{className:"block mt-2",children:"Email"}),E.jsx("input",{value:r,onChange:p=>e(p.target.value),type:"email",placeholder:"Email",className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("label",{className:"block mt-2",children:"Heslo"}),E.jsx("input",{value:i,onChange:p=>a(p.target.value),type:"password",placeholder:"Heslo",className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),E.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mb-3 mt-4 w-full rounded-lg hover:bg-green-700",children:"Prihlásiť sa"}),E.jsx(pt,{to:"/register",className:"text-blue-600 underline",children:"Nemáš ešte účet ? Vytvor si ho"})]})]})},_O=()=>E.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky používania"}),E.jsx("p",{className:"mt-4 text-gray-600",children:"Posledná aktualizácia: 21. február 2025"}),E.jsxs("p",{className:"mt-4",children:["Vitajte v našej aplikácii ",E.jsx("strong",{children:"[Your App Name]"}),". Používaním tejto aplikácie súhlasíte s nasledujúcimi podmienkami."]}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptácia podmienok"}),E.jsx("p",{className:"mt-2",children:"Používaním našich služieb vyjadrujete súhlas s týmito podmienkami. Ak s nimi nesúhlasíte, nesmiete aplikáciu používať."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie účtu"}),E.jsx("p",{className:"mt-2",children:"Pri registrácii musíte poskytnúť pravdivé a aktuálne informácie. Ste zodpovedný za bezpečnosť vášho účtu."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakázané aktivity"}),E.jsxs("p",{className:"mt-2",children:["Používateľ nesmie:",E.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[E.jsx("li",{children:"Porušovať platné zákony alebo práva tretích strán."}),E.jsx("li",{children:"Vytvárať falošné účty alebo sa vydávať za iných."}),E.jsx("li",{children:"Zasahovať do bezpečnosti aplikácie."})]})]}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zrušenie účtu"}),E.jsx("p",{className:"mt-2",children:"Môžeme zablokovať alebo odstrániť váš účet v prípade porušenia podmienok alebo neaktivity."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednosť a obmedzenie"}),E.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednosť za akékoľvek priame alebo nepriame škody spôsobené používaním tejto aplikácie."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),E.jsx("p",{className:"mt-2",children:"Vyhradzujeme si právo kedykoľvek upraviť tieto podmienky. Pokračovanie v používaní aplikácie znamená súhlas so zmenami."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),E.jsxs("p",{className:"mt-2",children:["Ak máte otázky týkajúce sa týchto podmienok, kontaktujte nás na ",E.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),EO=()=>E.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[E.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky používania"}),E.jsx("p",{className:"mt-4 text-gray-600",children:"Posledná aktualizácia: 21. február 2025"}),E.jsxs("p",{className:"mt-4",children:["Vitajte v našej aplikácii ",E.jsx("strong",{children:"[Your App Name]"}),". Používaním tejto aplikácie súhlasíte s nasledujúcimi podmienkami."]}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptácia podmienok"}),E.jsx("p",{className:"mt-2",children:"Používaním našich služieb vyjadrujete súhlas s týmito podmienkami. Ak s nimi nesúhlasíte, nesmiete aplikáciu používať."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie účtu"}),E.jsx("p",{className:"mt-2",children:"Pri registrácii musíte poskytnúť pravdivé a aktuálne informácie. Ste zodpovedný za bezpečnosť vášho účtu."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakázané aktivity"}),E.jsxs("p",{className:"mt-2",children:["Používateľ nesmie:",E.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[E.jsx("li",{children:"Porušovať platné zákony alebo práva tretích strán."}),E.jsx("li",{children:"Vytvárať falošné účty alebo sa vydávať za iných."}),E.jsx("li",{children:"Zasahovať do bezpečnosti aplikácie."})]})]}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zrušenie účtu"}),E.jsx("p",{className:"mt-2",children:"Môžeme zablokovať alebo odstrániť váš účet v prípade porušenia podmienok alebo neaktivity."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednosť a obmedzenie"}),E.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednosť za akékoľvek priame alebo nepriame škody spôsobené používaním tejto aplikácie."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),E.jsx("p",{className:"mt-2",children:"Vyhradzujeme si právo kedykoľvek upraviť tieto podmienky. Pokračovanie v používaní aplikácie znamená súhlas so zmenami."}),E.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),E.jsxs("p",{className:"mt-2",children:["Ak máte otázky týkajúce sa týchto podmienok, kontaktujte nás na ",E.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),TO=()=>{const{pathname:r}=Xn();return H.useEffect(()=>{window.scrollTo(0,0)},[r]),null};function bO(){H.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")},[]);const[r,e]=H.useState(""),[i,a]=H.useState([]),[o,c]=H.useState(null),[f,m]=H.useState(!1),[p,y]=H.useState(!1),[S,C]=H.useState(""),N=es(),j=Xn();H.useEffect(()=>{j.pathname==="/"&&y(!1)},[j.pathname]);const z=async()=>{N("/results"),e(""),m(!0),y(!0),C(r),setTimeout(async()=>{console.log(`Sending request to Nutritionix API: ${new Date().toISOString()}`);try{const Y=`https://trackapi.nutritionix.com/v2/search/instant?query=${encodeURIComponent(r)}`,F=await fetch(Y,{method:"GET",headers:{"Content-Type":"application/json","X-APP-ID":"2f7eceb0","X-APP-KEY":"c934784c87553451e811f60aa8e6e013"}});if(!F.ok)throw new Error(`Instant API HTTP error: ${F.status}`);const te=(await F.json()).common||[],ee=await Promise.all(te.map(async de=>{const _e=await fetch("https://trackapi.nutritionix.com/v2/natural/nutrients",{method:"POST",headers:{"Content-Type":"application/json","X-APP-ID":"2f7eceb0","X-APP-KEY":"c934784c87553451e811f60aa8e6e013"},body:JSON.stringify({query:de.food_name})});if(!_e.ok){const w=await _e.text();return console.error("Nutrients fetch error:",_e.status,w),{...de,nutrition:null}}const D=await _e.json();return{...de,nutrition:D.foods[0]}}));a(ee),c(null)}catch(Y){console.error("Fetch error:",Y),c(Y),a([])}finally{m(!1)}},500)};return E.jsxs("div",{children:[E.jsx(rO,{}),E.jsx(TO,{}),E.jsxs(oA,{children:[E.jsx(Hn,{path:"/register",element:E.jsx(dO,{})}),E.jsx(Hn,{path:"/terms",element:E.jsx(_O,{})}),E.jsx(Hn,{path:"/privacy",element:E.jsx(EO,{})}),E.jsx(Hn,{path:"/verify-email",element:E.jsx(mO,{})}),E.jsx(Hn,{path:"/login",element:E.jsx(vO,{})}),E.jsx(Hn,{path:"/logout",element:E.jsx(yO,{})}),E.jsx(Hn,{path:"/dashboard",element:E.jsxs(gO,{children:[" ",E.jsx(pO,{})," "]})}),E.jsx(Hn,{path:"/",element:E.jsxs(E.Fragment,{children:[E.jsx(sO,{}),E.jsx(aO,{query:r,setQuery:e,handleSearch:z,disabled:p}),E.jsx(uO,{}),E.jsx(fO,{})]})}),E.jsx(Hn,{path:"/results",element:E.jsx(oO,{results:i,searchTerm:S,error:o,query:r,setQuery:e,handleSearch:z,isLoading:f})}),E.jsx(Hn,{path:"/blog/:id",element:E.jsx(hO,{})})]})]})}pS.createRoot(document.getElementById("root")).render(E.jsx(OA,{children:E.jsx(bO,{})}));
