var SO=Object.defineProperty;var TO=(n,e,t)=>e in n?SO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Le=(n,e,t)=>TO(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function xO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ly={exports:{}},vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function RO(){if(mw)return vu;mw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var l=null;if(a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),"key"in r){a={};for(var u in r)u!=="key"&&(a[u]=r[u])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:a}}return vu.Fragment=e,vu.jsx=t,vu.jsxs=t,vu}var yw;function CO(){return yw||(yw=1,Ly.exports=RO()),Ly.exports}var A=CO(),Vy={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function DO(){if(vw)return Me;vw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function _(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function x(U,le,me){this.props=U,this.context=le,this.refs=R,this.updater=me||b}x.prototype.isReactComponent={},x.prototype.setState=function(U,le){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,le,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function M(){}M.prototype=x.prototype;function V(U,le,me){this.props=U,this.context=le,this.refs=R,this.updater=me||b}var z=V.prototype=new M;z.constructor=V,T(z,x.prototype),z.isPureReactComponent=!0;var $=Array.isArray,J={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function N(U,le,me,he,ue,de){return me=de.ref,{$$typeof:n,type:U,key:le,ref:me!==void 0?me:null,props:de}}function D(U,le){return N(U.type,le,void 0,void 0,void 0,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function O(U){var le={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(me){return le[me]})}var j=/\/+/g;function B(U,le){return typeof U=="object"&&U!==null&&U.key!=null?O(""+U.key):le.toString(36)}function P(){}function Oe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(P,P):(U.status="pending",U.then(function(le){U.status==="pending"&&(U.status="fulfilled",U.value=le)},function(le){U.status==="pending"&&(U.status="rejected",U.reason=le)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Te(U,le,me,he,ue){var de=typeof U;(de==="undefined"||de==="boolean")&&(U=null);var _e=!1;if(U===null)_e=!0;else switch(de){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(U.$$typeof){case n:case e:_e=!0;break;case p:return _e=U._init,Te(_e(U._payload),le,me,he,ue)}}if(_e)return ue=ue(U),_e=he===""?"."+B(U,0):he,$(ue)?(me="",_e!=null&&(me=_e.replace(j,"$&/")+"/"),Te(ue,le,me,"",function(bt){return bt})):ue!=null&&(I(ue)&&(ue=D(ue,me+(ue.key==null||U&&U.key===ue.key?"":(""+ue.key).replace(j,"$&/")+"/")+_e)),le.push(ue)),1;_e=0;var kt=he===""?".":he+":";if($(U))for(var Ge=0;Ge<U.length;Ge++)he=U[Ge],de=kt+B(he,Ge),_e+=Te(he,le,me,de,ue);else if(Ge=_(U),typeof Ge=="function")for(U=Ge.call(U),Ge=0;!(he=U.next()).done;)he=he.value,de=kt+B(he,Ge++),_e+=Te(he,le,me,de,ue);else if(de==="object"){if(typeof U.then=="function")return Te(Oe(U),le,me,he,ue);throw le=String(U),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return _e}function oe(U,le,me){if(U==null)return U;var he=[],ue=0;return Te(U,he,"","",function(de){return le.call(me,de,ue++)}),he}function fe(U){if(U._status===-1){var le=U._result;le=le(),le.then(function(me){(U._status===0||U._status===-1)&&(U._status=1,U._result=me)},function(me){(U._status===0||U._status===-1)&&(U._status=2,U._result=me)}),U._status===-1&&(U._status=0,U._result=le)}if(U._status===1)return U._result.default;throw U._result}var ge=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Ee(){}return Me.Children={map:oe,forEach:function(U,le,me){oe(U,function(){le.apply(this,arguments)},me)},count:function(U){var le=0;return oe(U,function(){le++}),le},toArray:function(U){return oe(U,function(le){return le})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Me.Component=x,Me.Fragment=t,Me.Profiler=r,Me.PureComponent=V,Me.StrictMode=i,Me.Suspense=h,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Me.act=function(){throw Error("act(...) is not supported in production builds of React.")},Me.cache=function(U){return function(){return U.apply(null,arguments)}},Me.cloneElement=function(U,le,me){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var he=T({},U.props),ue=U.key,de=void 0;if(le!=null)for(_e in le.ref!==void 0&&(de=void 0),le.key!==void 0&&(ue=""+le.key),le)!ne.call(le,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&le.ref===void 0||(he[_e]=le[_e]);var _e=arguments.length-2;if(_e===1)he.children=me;else if(1<_e){for(var kt=Array(_e),Ge=0;Ge<_e;Ge++)kt[Ge]=arguments[Ge+2];he.children=kt}return N(U.type,ue,void 0,void 0,de,he)},Me.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},Me.createElement=function(U,le,me){var he,ue={},de=null;if(le!=null)for(he in le.key!==void 0&&(de=""+le.key),le)ne.call(le,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ue[he]=le[he]);var _e=arguments.length-2;if(_e===1)ue.children=me;else if(1<_e){for(var kt=Array(_e),Ge=0;Ge<_e;Ge++)kt[Ge]=arguments[Ge+2];ue.children=kt}if(U&&U.defaultProps)for(he in _e=U.defaultProps,_e)ue[he]===void 0&&(ue[he]=_e[he]);return N(U,de,void 0,void 0,null,ue)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(U){return{$$typeof:u,render:U}},Me.isValidElement=I,Me.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:fe}},Me.memo=function(U,le){return{$$typeof:f,type:U,compare:le===void 0?null:le}},Me.startTransition=function(U){var le=J.T,me={};J.T=me;try{var he=U(),ue=J.S;ue!==null&&ue(me,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Ee,ge)}catch(de){ge(de)}finally{J.T=le}},Me.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Me.use=function(U){return J.H.use(U)},Me.useActionState=function(U,le,me){return J.H.useActionState(U,le,me)},Me.useCallback=function(U,le){return J.H.useCallback(U,le)},Me.useContext=function(U){return J.H.useContext(U)},Me.useDebugValue=function(){},Me.useDeferredValue=function(U,le){return J.H.useDeferredValue(U,le)},Me.useEffect=function(U,le){return J.H.useEffect(U,le)},Me.useId=function(){return J.H.useId()},Me.useImperativeHandle=function(U,le,me){return J.H.useImperativeHandle(U,le,me)},Me.useInsertionEffect=function(U,le){return J.H.useInsertionEffect(U,le)},Me.useLayoutEffect=function(U,le){return J.H.useLayoutEffect(U,le)},Me.useMemo=function(U,le){return J.H.useMemo(U,le)},Me.useOptimistic=function(U,le){return J.H.useOptimistic(U,le)},Me.useReducer=function(U,le,me){return J.H.useReducer(U,le,me)},Me.useRef=function(U){return J.H.useRef(U)},Me.useState=function(U){return J.H.useState(U)},Me.useSyncExternalStore=function(U,le,me){return J.H.useSyncExternalStore(U,le,me)},Me.useTransition=function(){return J.H.useTransition()},Me.version="19.0.0",Me}var _w;function T_(){return _w||(_w=1,Vy.exports=DO()),Vy.exports}var F=T_();const yi=xO(F);var jy={exports:{}},_u={},Uy={exports:{}},zy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function IO(){return bw||(bw=1,function(n){function e(oe,fe){var ge=oe.length;oe.push(fe);e:for(;0<ge;){var Ee=ge-1>>>1,U=oe[Ee];if(0<r(U,fe))oe[Ee]=fe,oe[ge]=U,ge=Ee;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var fe=oe[0],ge=oe.pop();if(ge!==fe){oe[0]=ge;e:for(var Ee=0,U=oe.length,le=U>>>1;Ee<le;){var me=2*(Ee+1)-1,he=oe[me],ue=me+1,de=oe[ue];if(0>r(he,ge))ue<U&&0>r(de,he)?(oe[Ee]=de,oe[ue]=ge,Ee=ue):(oe[Ee]=he,oe[me]=ge,Ee=me);else if(ue<U&&0>r(de,ge))oe[Ee]=de,oe[ue]=ge,Ee=ue;else break e}}return fe}function r(oe,fe){var ge=oe.sortIndex-fe.sortIndex;return ge!==0?ge:oe.id-fe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,v=null,_=3,b=!1,T=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function z(oe){for(var fe=t(f);fe!==null;){if(fe.callback===null)i(f);else if(fe.startTime<=oe)i(f),fe.sortIndex=fe.expirationTime,e(h,fe);else break;fe=t(f)}}function $(oe){if(R=!1,z(oe),!T)if(t(h)!==null)T=!0,Oe();else{var fe=t(f);fe!==null&&Te($,fe.startTime-oe)}}var J=!1,ne=-1,N=5,D=-1;function I(){return!(n.unstable_now()-D<N)}function O(){if(J){var oe=n.unstable_now();D=oe;var fe=!0;try{e:{T=!1,R&&(R=!1,M(ne),ne=-1),b=!0;var ge=_;try{t:{for(z(oe),v=t(h);v!==null&&!(v.expirationTime>oe&&I());){var Ee=v.callback;if(typeof Ee=="function"){v.callback=null,_=v.priorityLevel;var U=Ee(v.expirationTime<=oe);if(oe=n.unstable_now(),typeof U=="function"){v.callback=U,z(oe),fe=!0;break t}v===t(h)&&i(h),z(oe)}else i(h);v=t(h)}if(v!==null)fe=!0;else{var le=t(f);le!==null&&Te($,le.startTime-oe),fe=!1}}break e}finally{v=null,_=ge,b=!1}fe=void 0}}finally{fe?j():J=!1}}}var j;if(typeof V=="function")j=function(){V(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,P=B.port2;B.port1.onmessage=O,j=function(){P.postMessage(null)}}else j=function(){x(O,0)};function Oe(){J||(J=!0,j())}function Te(oe,fe){ne=x(function(){oe(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){T||b||(T=!0,Oe())},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(oe){switch(_){case 1:case 2:case 3:var fe=3;break;default:fe=_}var ge=_;_=fe;try{return oe()}finally{_=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,fe){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ge=_;_=oe;try{return fe()}finally{_=ge}},n.unstable_scheduleCallback=function(oe,fe,ge){var Ee=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ee+ge:Ee):ge=Ee,oe){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ge+U,oe={id:p++,callback:fe,priorityLevel:oe,startTime:ge,expirationTime:U,sortIndex:-1},ge>Ee?(oe.sortIndex=ge,e(f,oe),t(h)===null&&oe===t(f)&&(R?(M(ne),ne=-1):R=!0,Te($,ge-Ee))):(oe.sortIndex=U,e(h,oe),T||b||(T=!0,Oe())),oe},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(oe){var fe=_;return function(){var ge=_;_=fe;try{return oe.apply(this,arguments)}finally{_=ge}}}}(zy)),zy}var Ew;function kO(){return Ew||(Ew=1,Uy.exports=IO()),Uy.exports}var By={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function MO(){if(Aw)return gn;Aw=1;var n=T_();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:h,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(h,f,null,p)},gn.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},gn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},gn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},gn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:b}):p==="script"&&i.d.X(h,{crossOrigin:v,integrity:_,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},gn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},gn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},gn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},gn.requestFormReset=function(h){i.d.r(h)},gn.unstable_batchedUpdates=function(h,f){return h(f)},gn.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},gn.useFormStatus=function(){return l.H.useHostTransitionStatus()},gn.version="19.0.0",gn}var ww;function xR(){if(ww)return By.exports;ww=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),By.exports=MO(),By.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function OO(){if(Sw)return _u;Sw=1;var n=kO(),e=T_(),t=xR();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var a=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),b=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),$=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function ne(s){return s===null||typeof s!="object"?null:(s=J&&s[J]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function D(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case h:return"Fragment";case u:return"Portal";case p:return"Profiler";case f:return"StrictMode";case R:return"Suspense";case x:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case b:return(s.displayName||"Context")+".Provider";case _:return(s._context.displayName||"Context")+".Consumer";case T:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return o=s.displayName||null,o!==null?o:D(s.type)||"Memo";case V:o=s._payload,s=s._init;try{return D(s(o))}catch{}}return null}var I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,j,B;function P(s){if(j===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||"",B=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+s+B}var Oe=!1;function Te(s,o){if(!s||Oe)return"";Oe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(ee){var Q=ee}Reflect.construct(s,[],ae)}else{try{ae.call()}catch(ee){Q=ee}s.call(ae.prototype)}}else{try{throw Error()}catch(ee){Q=ee}(ae=s())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(ee){if(ee&&Q&&typeof ee.stack=="string")return[ee.stack,Q.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),S=y[0],C=y[1];if(S&&C){var L=S.split(`
`),q=C.split(`
`);for(m=d=0;d<L.length&&!L[d].includes("DetermineComponentFrameRoot");)d++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(d===L.length||m===q.length)for(d=L.length-1,m=q.length-1;1<=d&&0<=m&&L[d]!==q[m];)m--;for(;1<=d&&0<=m;d--,m--)if(L[d]!==q[m]){if(d!==1||m!==1)do if(d--,m--,0>m||L[d]!==q[m]){var te=`
`+L[d].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=d&&0<=m);break}}}finally{Oe=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?P(c):""}function oe(s){switch(s.tag){case 26:case 27:case 5:return P(s.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return s=Te(s.type,!1),s;case 11:return s=Te(s.type.render,!1),s;case 1:return s=Te(s.type,!0),s;default:return""}}function fe(s){try{var o="";do o+=oe(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function ge(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Ee(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function U(s){if(ge(s)!==s)throw Error(i(188))}function le(s){var o=s.alternate;if(!o){if(o=ge(s),o===null)throw Error(i(188));return o!==s?null:s}for(var c=s,d=o;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){c=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return U(m),s;if(y===d)return U(m),o;y=y.sibling}throw Error(i(188))}if(c.return!==d.return)c=m,d=y;else{for(var S=!1,C=m.child;C;){if(C===c){S=!0,c=m,d=y;break}if(C===d){S=!0,d=m,c=y;break}C=C.sibling}if(!S){for(C=y.child;C;){if(C===c){S=!0,c=y,d=m;break}if(C===d){S=!0,d=y,c=m;break}C=C.sibling}if(!S)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:o}function me(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=me(s),o!==null)return o;s=s.sibling}return null}var he=Array.isArray,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},_e=[],kt=-1;function Ge(s){return{current:s}}function bt(s){0>kt||(s.current=_e[kt],_e[kt]=null,kt--)}function tt(s,o){kt++,_e[kt]=s.current,s.current=o}var An=Ge(null),dr=Ge(null),Xn=Ge(null),ss=Ge(null);function as(s,o){switch(tt(Xn,o),tt(dr,s),tt(An,null),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?WA(o):0;break;default:if(s=s===8?o.parentNode:o,o=s.tagName,s=s.namespaceURI)s=WA(s),o=GA(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}bt(An),tt(An,o)}function fr(){bt(An),bt(dr),bt(Xn)}function fc(s){s.memoizedState!==null&&tt(ss,s);var o=An.current,c=GA(o,s.type);o!==c&&(tt(dr,s),tt(An,c))}function Lo(s){dr.current===s&&(bt(An),bt(dr)),ss.current===s&&(bt(ss),fu._currentValue=de)}var Vo=Object.prototype.hasOwnProperty,Ea=n.unstable_scheduleCallback,jo=n.unstable_cancelCallback,jp=n.unstable_shouldYield,gc=n.unstable_requestPaint,Dn=n.unstable_now,Uh=n.unstable_getCurrentPriorityLevel,jt=n.unstable_ImmediatePriority,$t=n.unstable_UserBlockingPriority,gr=n.unstable_NormalPriority,zh=n.unstable_LowPriority,pc=n.unstable_IdlePriority,Up=n.log,Aa=n.unstable_setDisableYieldValue,os=null,dn=null;function mc(s){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(os,s,void 0,(s.current.flags&128)===128)}catch{}}function Li(s){if(typeof Up=="function"&&Aa(s),dn&&typeof dn.setStrictMode=="function")try{dn.setStrictMode(os,s)}catch{}}var wn=Math.clz32?Math.clz32:Hh,yc=Math.log,Bh=Math.LN2;function Hh(s){return s>>>=0,s===0?32:31-(yc(s)/Bh|0)|0}var Vi=128,ls=4194304;function Ai(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Zn(s,o){var c=s.pendingLanes;if(c===0)return 0;var d=0,m=s.suspendedLanes,y=s.pingedLanes,S=s.warmLanes;s=s.finishedLanes!==0;var C=c&134217727;return C!==0?(c=C&~m,c!==0?d=Ai(c):(y&=C,y!==0?d=Ai(y):s||(S=C&~S,S!==0&&(d=Ai(S))))):(C=c&~m,C!==0?d=Ai(C):y!==0?d=Ai(y):s||(S=c&~S,S!==0&&(d=Ai(S)))),d===0?0:o!==0&&o!==d&&!(o&m)&&(m=d&-d,S=o&-o,m>=S||m===32&&(S&4194176)!==0)?o:d}function cs(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Uo(s,o){switch(s){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vc(){var s=Vi;return Vi<<=1,!(Vi&4194176)&&(Vi=128),s}function us(){var s=ls;return ls<<=1,!(ls&62914560)&&(ls=4194304),s}function zo(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function xt(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Fh(s,o,c,d,m,y){var S=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var C=s.entanglements,L=s.expirationTimes,q=s.hiddenUpdates;for(c=S&~c;0<c;){var te=31-wn(c),ae=1<<te;C[te]=0,L[te]=-1;var Q=q[te];if(Q!==null)for(q[te]=null,te=0;te<Q.length;te++){var ee=Q[te];ee!==null&&(ee.lane&=-536870913)}c&=~ae}d!==0&&hs(s,d,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(S&~o))}function hs(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-wn(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|c&4194218}function ds(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var d=31-wn(c),m=1<<d;m&o|s[d]&o&&(s[d]|=o),c&=~m}}function qh(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function Wh(){var s=ue.p;return s!==0?s:(s=window.event,s===void 0?32:uw(s.type))}function fs(s,o){var c=ue.p;try{return ue.p=s,o()}finally{ue.p=c}}var ji=Math.random().toString(36).slice(2),Yt="__reactFiber$"+ji,Ut="__reactProps$"+ji,pr="__reactContainer$"+ji,wa="__reactEvents$"+ji,Bo="__reactListeners$"+ji,Ui="__reactHandles$"+ji,_c="__reactResources$"+ji,gs="__reactMarker$"+ji;function Sa(s){delete s[Yt],delete s[Ut],delete s[wa],delete s[Bo],delete s[Ui]}function wi(s){var o=s[Yt];if(o)return o;for(var c=s.parentNode;c;){if(o=c[pr]||c[Yt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=QA(s);s!==null;){if(c=s[Yt])return c;s=QA(s)}return o}s=c,c=s.parentNode}return null}function mr(s){if(s=s[Yt]||s[pr]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function ps(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function ms(s){var o=s[_c];return o||(o=s[_c]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function gt(s){s[gs]=!0}var bc=new Set,Ho={};function zn(s,o){In(s,o),In(s+"Capture",o)}function In(s,o){for(Ho[s]=o,s=0;s<o.length;s++)bc.add(o[s])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ec={},Ac={};function Gh(s){return Vo.call(Ac,s)?!0:Vo.call(Ec,s)?!1:zp.test(s)?Ac[s]=!0:(Ec[s]=!0,!1)}function ys(s,o,c){if(Gh(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function vs(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function Jn(s,o,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+d)}}function Sn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function $h(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Bp(s){var o=$h(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,y.call(this,S)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ta(s){s._valueTracker||(s._valueTracker=Bp(s))}function wc(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return s&&(d=$h(s)?s.checked?"true":"false":s.value),s=d,s!==c?(o.setValue(s),!0):!1}function Fo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var yr=/[\n"\\]/g;function Et(s){return s.replace(yr,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function _s(s,o,c,d,m,y,S,C){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),o!=null?S==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Sn(o)):s.value!==""+Sn(o)&&(s.value=""+Sn(o)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),o!=null?qo(s,S,Sn(o)):c!=null?qo(s,S,Sn(c)):d!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+Sn(C):s.removeAttribute("name")}function xa(s,o,c,d,m,y,S,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),o!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;c=c!=null?""+Sn(c):"",o=o!=null?""+Sn(o):c,C||o===s.value||(s.value=o),s.defaultValue=o}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=C?s.checked:!!d,s.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S)}function qo(s,o,c){o==="number"&&Fo(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function $e(s,o,c,d){if(s=s.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=o.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&d&&(s[c].defaultSelected=!0)}else{for(c=""+Sn(c),o=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Ra(s,o,c){if(o!=null&&(o=""+Sn(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+Sn(c):""}function bs(s,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(i(92));if(he(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=Sn(o),s.defaultValue=c,d=s.textContent,d===c&&d!==""&&d!==null&&(s.value=d)}function ei(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Hp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sc(s,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,c):typeof c!="number"||c===0||Hp.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function Yh(s,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var m in o)d=o[m],o.hasOwnProperty(m)&&c[m]!==d&&Sc(s,m,d)}else for(var y in o)o.hasOwnProperty(y)&&Sc(s,y,o[y])}function Tc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zi(s){return qp.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ti=null;function Wo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var vr=null,_r=null;function br(s){var o=mr(s);if(o&&(s=o.stateNode)){var c=s[Ut]||null;e:switch(s=o.stateNode,o.type){case"input":if(_s(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Et(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==s&&d.form===s.form){var m=d[Ut]||null;if(!m)throw Error(i(90));_s(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===s.form&&wc(d)}break e;case"textarea":Ra(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&$e(s,!!c.multiple,o,!1)}}}var xc=!1;function Qh(s,o,c){if(xc)return s(o,c);xc=!0;try{var d=s(o);return d}finally{if(xc=!1,(vr!==null||_r!==null)&&(zd(),vr&&(o=vr,s=_r,_r=vr=null,br(o),s)))for(o=0;o<s.length;o++)br(s[o])}}function Ca(s,o){var c=s.stateNode;if(c===null)return null;var d=c[Ut]||null;if(d===null)return null;c=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var ni=!1;if(Bn)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){ni=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{ni=!1}var Bi=null,Es=null,Er=null;function Rc(){if(Er)return Er;var s,o=Es,c=o.length,d,m="value"in Bi?Bi.value:Bi.textContent,y=m.length;for(s=0;s<c&&o[s]===m[s];s++);var S=c-s;for(d=1;d<=S&&o[c-d]===m[y-d];d++);return Er=m.slice(s,1<d?1-d:void 0)}function Hi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Fi(){return!0}function Cc(){return!1}function Qt(s){function o(c,d,m,y,S){this._reactName=c,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(c=s[C],this[C]=c?c(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Fi:Cc,this.isPropagationStopped=Cc,this}return O(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),o}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=Qt(Je),Ia=O({},Je,{view:0,detail:0}),Kh=Qt(Ia),$o,Yo,qi,ka=O({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==qi&&(qi&&s.type==="mousemove"?($o=s.screenX-qi.screenX,Yo=s.screenY-qi.screenY):Yo=$o=0,qi=s),$o)},movementY:function(s){return"movementY"in s?s.movementY:Yo}}),ii=Qt(ka),Xh=O({},ka,{dataTransfer:0}),Wp=Qt(Xh),Ma=O({},Ia,{relatedTarget:0}),Qo=Qt(Ma),Dc=O({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),Ko=Qt(Dc),Zh=O({},Je,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Xo=Qt(Zh),Gp=O({},Je,{data:0}),Ic=Qt(Gp),Oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ed={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=ed[s])?!!o[s]:!1}function Na(){return kc}var td=O({},Ia,{key:function(s){if(s.key){var o=Oa[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Hi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Jh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(s){return s.type==="keypress"?Hi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Hi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Zo=Qt(td),nd=O({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mc=Qt(nd),Ar=O({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),id=Qt(Ar),rd=O({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),sd=Qt(rd),ad=O({},ka,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Jo=Qt(ad),Tn=O({},Je,{newState:0,oldState:0}),od=Qt(Tn),ld=[9,13,27,32],Wi=Bn&&"CompositionEvent"in window,g=null;Bn&&"documentMode"in document&&(g=document.documentMode);var E=Bn&&"TextEvent"in window&&!g,w=Bn&&(!Wi||g&&8<g&&11>=g),k=" ",G=!1;function X(s,o){switch(s){case"keyup":return ld.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var He=!1;function zt(s,o){switch(s){case"compositionend":return ce(o);case"keypress":return o.which!==32?null:(G=!0,k);case"textInput":return s=o.data,s===k&&G?null:s;default:return null}}function Fe(s,o){if(He)return s==="compositionend"||!Wi&&X(s,o)?(s=Rc(),Er=Es=Bi=null,He=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return w&&o.locale!=="ko"?null:o.data;default:return null}}var Kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Kt[s.type]:o==="textarea"}function wr(s,o,c,d){vr?_r?_r.push(d):_r=[d]:vr=d,o=Wd(o,"onChange"),0<o.length&&(c=new Go("onChange","change",null,c,d),s.push({event:c,listeners:o}))}var rn=null,Gi=null;function Oc(s){zA(s,0)}function cd(s){var o=ps(s);if(wc(o))return s}function p0(s,o){if(s==="change")return o}var m0=!1;if(Bn){var $p;if(Bn){var Yp="oninput"in document;if(!Yp){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),Yp=typeof y0.oninput=="function"}$p=Yp}else $p=!1;m0=$p&&(!document.documentMode||9<document.documentMode)}function v0(){rn&&(rn.detachEvent("onpropertychange",_0),Gi=rn=null)}function _0(s){if(s.propertyName==="value"&&cd(Gi)){var o=[];wr(o,Gi,s,Wo(s)),Qh(Oc,o)}}function eM(s,o,c){s==="focusin"?(v0(),rn=o,Gi=c,rn.attachEvent("onpropertychange",_0)):s==="focusout"&&v0()}function tM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return cd(Gi)}function nM(s,o){if(s==="click")return cd(o)}function iM(s,o){if(s==="input"||s==="change")return cd(o)}function rM(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Hn=typeof Object.is=="function"?Object.is:rM;function Nc(s,o){if(Hn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var m=c[d];if(!Vo.call(o,m)||!Hn(s[m],o[m]))return!1}return!0}function b0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function E0(s,o){var c=b0(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=o&&d>=o)return{node:c,offset:o-s};s=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=b0(c)}}function A0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?A0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function w0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Fo(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Fo(s.document)}return o}function Qp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function sM(s,o){var c=w0(o);o=s.focusedElem;var d=s.selectionRange;if(c!==o&&o&&o.ownerDocument&&A0(o.ownerDocument.documentElement,o)){if(d!==null&&Qp(o)){if(s=d.start,c=d.end,c===void 0&&(c=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(c,o.value.length);else if(c=(s=o.ownerDocument||document)&&s.defaultView||window,c.getSelection){c=c.getSelection();var m=o.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!c.extend&&y>d&&(m=d,d=y,y=m),m=E0(o,y);var S=E0(o,d);m&&S&&(c.rangeCount!==1||c.anchorNode!==m.node||c.anchorOffset!==m.offset||c.focusNode!==S.node||c.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),c.removeAllRanges(),y>d?(c.addRange(s),c.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),c.addRange(s)))}}for(s=[],c=o;c=c.parentNode;)c.nodeType===1&&s.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)c=s[o],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var aM=Bn&&"documentMode"in document&&11>=document.documentMode,el=null,Kp=null,Pc=null,Xp=!1;function S0(s,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Xp||el==null||el!==Fo(d)||(d=el,"selectionStart"in d&&Qp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Pc&&Nc(Pc,d)||(Pc=d,d=Wd(Kp,"onSelect"),0<d.length&&(o=new Go("onSelect","select",null,o,c),s.push({event:o,listeners:d}),o.target=el)))}function Pa(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var tl={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},Zp={},T0={};Bn&&(T0=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function La(s){if(Zp[s])return Zp[s];if(!tl[s])return s;var o=tl[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in T0)return Zp[s]=o[c];return s}var x0=La("animationend"),R0=La("animationiteration"),C0=La("animationstart"),oM=La("transitionrun"),lM=La("transitionstart"),cM=La("transitioncancel"),D0=La("transitionend"),I0=new Map,k0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Si(s,o){I0.set(s,o),zn(o,[s])}var ri=[],nl=0,Jp=0;function ud(){for(var s=nl,o=Jp=nl=0;o<s;){var c=ri[o];ri[o++]=null;var d=ri[o];ri[o++]=null;var m=ri[o];ri[o++]=null;var y=ri[o];if(ri[o++]=null,d!==null&&m!==null){var S=d.pending;S===null?m.next=m:(m.next=S.next,S.next=m),d.pending=m}y!==0&&M0(c,m,y)}}function hd(s,o,c,d){ri[nl++]=s,ri[nl++]=o,ri[nl++]=c,ri[nl++]=d,Jp|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function em(s,o,c,d){return hd(s,o,c,d),dd(s)}function As(s,o){return hd(s,null,null,o),dd(s)}function M0(s,o,c){s.lanes|=c;var d=s.alternate;d!==null&&(d.lanes|=c);for(var m=!1,y=s.return;y!==null;)y.childLanes|=c,d=y.alternate,d!==null&&(d.childLanes|=c),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;m&&o!==null&&s.tag===3&&(y=s.stateNode,m=31-wn(c),y=y.hiddenUpdates,s=y[m],s===null?y[m]=[o]:s.push(o),o.lane=c|536870912)}function dd(s){if(50<au)throw au=0,ay=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var il={},O0=new WeakMap;function si(s,o){if(typeof s=="object"&&s!==null){var c=O0.get(s);return c!==void 0?c:(o={value:s,source:o,stack:fe(o)},O0.set(s,o),o)}return{value:s,source:o,stack:fe(o)}}var rl=[],sl=0,fd=null,gd=0,ai=[],oi=0,Va=null,Sr=1,Tr="";function ja(s,o){rl[sl++]=gd,rl[sl++]=fd,fd=s,gd=o}function N0(s,o,c){ai[oi++]=Sr,ai[oi++]=Tr,ai[oi++]=Va,Va=s;var d=Sr;s=Tr;var m=32-wn(d)-1;d&=~(1<<m),c+=1;var y=32-wn(o)+m;if(30<y){var S=m-m%5;y=(d&(1<<S)-1).toString(32),d>>=S,m-=S,Sr=1<<32-wn(o)+m|c<<m|d,Tr=y+s}else Sr=1<<y|c<<m|d,Tr=s}function tm(s){s.return!==null&&(ja(s,1),N0(s,1,0))}function nm(s){for(;s===fd;)fd=rl[--sl],rl[sl]=null,gd=rl[--sl],rl[sl]=null;for(;s===Va;)Va=ai[--oi],ai[oi]=null,Tr=ai[--oi],ai[oi]=null,Sr=ai[--oi],ai[oi]=null}var xn=null,sn=null,Ye=!1,Ti=null,$i=!1,im=Error(i(519));function Ua(s){var o=Error(i(418,""));throw jc(si(o,s)),im}function P0(s){var o=s.stateNode,c=s.type,d=s.memoizedProps;switch(o[Yt]=s,o[Ut]=d,c){case"dialog":ze("cancel",o),ze("close",o);break;case"iframe":case"object":case"embed":ze("load",o);break;case"video":case"audio":for(c=0;c<lu.length;c++)ze(lu[c],o);break;case"source":ze("error",o);break;case"img":case"image":case"link":ze("error",o),ze("load",o);break;case"details":ze("toggle",o);break;case"input":ze("invalid",o),xa(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ta(o);break;case"select":ze("invalid",o);break;case"textarea":ze("invalid",o),bs(o,d.value,d.defaultValue,d.children),Ta(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||qA(o.textContent,c)?(d.popover!=null&&(ze("beforetoggle",o),ze("toggle",o)),d.onScroll!=null&&ze("scroll",o),d.onScrollEnd!=null&&ze("scrollend",o),d.onClick!=null&&(o.onclick=Gd),o=!0):o=!1,o||Ua(s)}function L0(s){for(xn=s.return;xn;)switch(xn.tag){case 3:case 27:$i=!0;return;case 5:case 13:$i=!1;return;default:xn=xn.return}}function Lc(s){if(s!==xn)return!1;if(!Ye)return L0(s),Ye=!0,!1;var o=!1,c;if((c=s.tag!==3&&s.tag!==27)&&((c=s.tag===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||wy(s.type,s.memoizedProps)),c=!c),c&&(o=!0),o&&sn&&Ua(s),L0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){sn=Ri(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}sn=null}}else sn=xn?Ri(s.stateNode.nextSibling):null;return!0}function Vc(){sn=xn=null,Ye=!1}function jc(s){Ti===null?Ti=[s]:Ti.push(s)}var Uc=Error(i(460)),V0=Error(i(474)),rm={then:function(){}};function j0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function pd(){}function U0(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(pd,pd),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,s===Uc?Error(i(483)):s;default:if(typeof o.status=="string")o.then(pd,pd);else{if(s=ot,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=d}},function(d){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,s===Uc?Error(i(483)):s}throw zc=o,Uc}}var zc=null;function z0(){if(zc===null)throw Error(i(459));var s=zc;return zc=null,s}var al=null,Bc=0;function md(s){var o=Bc;return Bc+=1,al===null&&(al=[]),U0(al,s,o)}function Hc(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function yd(s,o){throw o.$$typeof===a?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function B0(s){var o=s._init;return o(s._payload)}function H0(s){function o(W,H){if(s){var Y=W.deletions;Y===null?(W.deletions=[H],W.flags|=16):Y.push(H)}}function c(W,H){if(!s)return null;for(;H!==null;)o(W,H),H=H.sibling;return null}function d(W){for(var H=new Map;W!==null;)W.key!==null?H.set(W.key,W):H.set(W.index,W),W=W.sibling;return H}function m(W,H){return W=Ns(W,H),W.index=0,W.sibling=null,W}function y(W,H,Y){return W.index=Y,s?(Y=W.alternate,Y!==null?(Y=Y.index,Y<H?(W.flags|=33554434,H):Y):(W.flags|=33554434,H)):(W.flags|=1048576,H)}function S(W){return s&&W.alternate===null&&(W.flags|=33554434),W}function C(W,H,Y,ie){return H===null||H.tag!==6?(H=Zm(Y,W.mode,ie),H.return=W,H):(H=m(H,Y),H.return=W,H)}function L(W,H,Y,ie){var ye=Y.type;return ye===h?te(W,H,Y.props.children,ie,Y.key):H!==null&&(H.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===V&&B0(ye)===H.type)?(H=m(H,Y.props),Hc(H,Y),H.return=W,H):(H=Pd(Y.type,Y.key,Y.props,null,W.mode,ie),Hc(H,Y),H.return=W,H)}function q(W,H,Y,ie){return H===null||H.tag!==4||H.stateNode.containerInfo!==Y.containerInfo||H.stateNode.implementation!==Y.implementation?(H=Jm(Y,W.mode,ie),H.return=W,H):(H=m(H,Y.children||[]),H.return=W,H)}function te(W,H,Y,ie,ye){return H===null||H.tag!==7?(H=Qa(Y,W.mode,ie,ye),H.return=W,H):(H=m(H,Y),H.return=W,H)}function ae(W,H,Y){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Zm(""+H,W.mode,Y),H.return=W,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case l:return Y=Pd(H.type,H.key,H.props,null,W.mode,Y),Hc(Y,H),Y.return=W,Y;case u:return H=Jm(H,W.mode,Y),H.return=W,H;case V:var ie=H._init;return H=ie(H._payload),ae(W,H,Y)}if(he(H)||ne(H))return H=Qa(H,W.mode,Y,null),H.return=W,H;if(typeof H.then=="function")return ae(W,md(H),Y);if(H.$$typeof===b)return ae(W,Md(W,H),Y);yd(W,H)}return null}function Q(W,H,Y,ie){var ye=H!==null?H.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ye!==null?null:C(W,H,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:return Y.key===ye?L(W,H,Y,ie):null;case u:return Y.key===ye?q(W,H,Y,ie):null;case V:return ye=Y._init,Y=ye(Y._payload),Q(W,H,Y,ie)}if(he(Y)||ne(Y))return ye!==null?null:te(W,H,Y,ie,null);if(typeof Y.then=="function")return Q(W,H,md(Y),ie);if(Y.$$typeof===b)return Q(W,H,Md(W,Y),ie);yd(W,Y)}return null}function ee(W,H,Y,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return W=W.get(Y)||null,C(H,W,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case l:return W=W.get(ie.key===null?Y:ie.key)||null,L(H,W,ie,ye);case u:return W=W.get(ie.key===null?Y:ie.key)||null,q(H,W,ie,ye);case V:var Pe=ie._init;return ie=Pe(ie._payload),ee(W,H,Y,ie,ye)}if(he(ie)||ne(ie))return W=W.get(Y)||null,te(H,W,ie,ye,null);if(typeof ie.then=="function")return ee(W,H,Y,md(ie),ye);if(ie.$$typeof===b)return ee(W,H,Y,Md(H,ie),ye);yd(H,ie)}return null}function be(W,H,Y,ie){for(var ye=null,Pe=null,Ae=H,xe=H=0,Jt=null;Ae!==null&&xe<Y.length;xe++){Ae.index>xe?(Jt=Ae,Ae=null):Jt=Ae.sibling;var Qe=Q(W,Ae,Y[xe],ie);if(Qe===null){Ae===null&&(Ae=Jt);break}s&&Ae&&Qe.alternate===null&&o(W,Ae),H=y(Qe,H,xe),Pe===null?ye=Qe:Pe.sibling=Qe,Pe=Qe,Ae=Jt}if(xe===Y.length)return c(W,Ae),Ye&&ja(W,xe),ye;if(Ae===null){for(;xe<Y.length;xe++)Ae=ae(W,Y[xe],ie),Ae!==null&&(H=y(Ae,H,xe),Pe===null?ye=Ae:Pe.sibling=Ae,Pe=Ae);return Ye&&ja(W,xe),ye}for(Ae=d(Ae);xe<Y.length;xe++)Jt=ee(Ae,W,xe,Y[xe],ie),Jt!==null&&(s&&Jt.alternate!==null&&Ae.delete(Jt.key===null?xe:Jt.key),H=y(Jt,H,xe),Pe===null?ye=Jt:Pe.sibling=Jt,Pe=Jt);return s&&Ae.forEach(function(Bs){return o(W,Bs)}),Ye&&ja(W,xe),ye}function Ie(W,H,Y,ie){if(Y==null)throw Error(i(151));for(var ye=null,Pe=null,Ae=H,xe=H=0,Jt=null,Qe=Y.next();Ae!==null&&!Qe.done;xe++,Qe=Y.next()){Ae.index>xe?(Jt=Ae,Ae=null):Jt=Ae.sibling;var Bs=Q(W,Ae,Qe.value,ie);if(Bs===null){Ae===null&&(Ae=Jt);break}s&&Ae&&Bs.alternate===null&&o(W,Ae),H=y(Bs,H,xe),Pe===null?ye=Bs:Pe.sibling=Bs,Pe=Bs,Ae=Jt}if(Qe.done)return c(W,Ae),Ye&&ja(W,xe),ye;if(Ae===null){for(;!Qe.done;xe++,Qe=Y.next())Qe=ae(W,Qe.value,ie),Qe!==null&&(H=y(Qe,H,xe),Pe===null?ye=Qe:Pe.sibling=Qe,Pe=Qe);return Ye&&ja(W,xe),ye}for(Ae=d(Ae);!Qe.done;xe++,Qe=Y.next())Qe=ee(Ae,W,xe,Qe.value,ie),Qe!==null&&(s&&Qe.alternate!==null&&Ae.delete(Qe.key===null?xe:Qe.key),H=y(Qe,H,xe),Pe===null?ye=Qe:Pe.sibling=Qe,Pe=Qe);return s&&Ae.forEach(function(wO){return o(W,wO)}),Ye&&ja(W,xe),ye}function St(W,H,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===h&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:e:{for(var ye=Y.key;H!==null;){if(H.key===ye){if(ye=Y.type,ye===h){if(H.tag===7){c(W,H.sibling),ie=m(H,Y.props.children),ie.return=W,W=ie;break e}}else if(H.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===V&&B0(ye)===H.type){c(W,H.sibling),ie=m(H,Y.props),Hc(ie,Y),ie.return=W,W=ie;break e}c(W,H);break}else o(W,H);H=H.sibling}Y.type===h?(ie=Qa(Y.props.children,W.mode,ie,Y.key),ie.return=W,W=ie):(ie=Pd(Y.type,Y.key,Y.props,null,W.mode,ie),Hc(ie,Y),ie.return=W,W=ie)}return S(W);case u:e:{for(ye=Y.key;H!==null;){if(H.key===ye)if(H.tag===4&&H.stateNode.containerInfo===Y.containerInfo&&H.stateNode.implementation===Y.implementation){c(W,H.sibling),ie=m(H,Y.children||[]),ie.return=W,W=ie;break e}else{c(W,H);break}else o(W,H);H=H.sibling}ie=Jm(Y,W.mode,ie),ie.return=W,W=ie}return S(W);case V:return ye=Y._init,Y=ye(Y._payload),St(W,H,Y,ie)}if(he(Y))return be(W,H,Y,ie);if(ne(Y)){if(ye=ne(Y),typeof ye!="function")throw Error(i(150));return Y=ye.call(Y),Ie(W,H,Y,ie)}if(typeof Y.then=="function")return St(W,H,md(Y),ie);if(Y.$$typeof===b)return St(W,H,Md(W,Y),ie);yd(W,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,H!==null&&H.tag===6?(c(W,H.sibling),ie=m(H,Y),ie.return=W,W=ie):(c(W,H),ie=Zm(Y,W.mode,ie),ie.return=W,W=ie),S(W)):c(W,H)}return function(W,H,Y,ie){try{Bc=0;var ye=St(W,H,Y,ie);return al=null,ye}catch(Ae){if(Ae===Uc)throw Ae;var Pe=hi(29,Ae,null,W.mode);return Pe.lanes=ie,Pe.return=W,Pe}finally{}}}var za=H0(!0),F0=H0(!1),ol=Ge(null),vd=Ge(0);function q0(s,o){s=Lr,tt(vd,s),tt(ol,o),Lr=s|o.baseLanes}function sm(){tt(vd,Lr),tt(ol,ol.current)}function am(){Lr=vd.current,bt(ol),bt(vd)}var li=Ge(null),Yi=null;function ws(s){var o=s.alternate;tt(Ht,Ht.current&1),tt(li,s),Yi===null&&(o===null||ol.current!==null||o.memoizedState!==null)&&(Yi=s)}function W0(s){if(s.tag===22){if(tt(Ht,Ht.current),tt(li,s),Yi===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Yi=s)}}else Ss()}function Ss(){tt(Ht,Ht.current),tt(li,li.current)}function xr(s){bt(li),Yi===s&&(Yi=null),bt(Ht)}var Ht=Ge(0);function _d(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var uM=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},hM=n.unstable_scheduleCallback,dM=n.unstable_NormalPriority,Ft={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function om(){return{controller:new uM,data:new Map,refCount:0}}function Fc(s){s.refCount--,s.refCount===0&&hM(dM,function(){s.controller.abort()})}var qc=null,lm=0,ll=0,cl=null;function fM(s,o){if(qc===null){var c=qc=[];lm=0,ll=gy(),cl={status:"pending",value:void 0,then:function(d){c.push(d)}}}return lm++,o.then(G0,G0),o}function G0(){if(--lm===0&&qc!==null){cl!==null&&(cl.status="fulfilled");var s=qc;qc=null,ll=0,cl=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function gM(s,o){var c=[],d={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var m=0;m<c.length;m++)(0,c[m])(o)},function(m){for(d.status="rejected",d.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),d}var $0=I.S;I.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&fM(s,o),$0!==null&&$0(s,o)};var Ba=Ge(null);function cm(){var s=Ba.current;return s!==null?s:ot.pooledCache}function bd(s,o){o===null?tt(Ba,Ba.current):tt(Ba,o.pool)}function Y0(){var s=cm();return s===null?null:{parent:Ft._currentValue,pool:s}}var Ts=0,Ne=null,rt=null,Mt=null,Ed=!1,ul=!1,Ha=!1,Ad=0,Wc=0,hl=null,pM=0;function Rt(){throw Error(i(321))}function um(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Hn(s[c],o[c]))return!1;return!0}function hm(s,o,c,d,m,y){return Ts=y,Ne=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,I.H=s===null||s.memoizedState===null?Fa:xs,Ha=!1,y=c(d,m),Ha=!1,ul&&(y=K0(o,c,d,m)),Q0(s),y}function Q0(s){I.H=Qi;var o=rt!==null&&rt.next!==null;if(Ts=0,Mt=rt=Ne=null,Ed=!1,Wc=0,hl=null,o)throw Error(i(300));s===null||Xt||(s=s.dependencies,s!==null&&kd(s)&&(Xt=!0))}function K0(s,o,c,d){Ne=s;var m=0;do{if(ul&&(hl=null),Wc=0,ul=!1,25<=m)throw Error(i(301));if(m+=1,Mt=rt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}I.H=qa,y=o(c,d)}while(ul);return y}function mM(){var s=I.H,o=s.useState()[0];return o=typeof o.then=="function"?Gc(o):o,s=s.useState()[0],(rt!==null?rt.memoizedState:null)!==s&&(Ne.flags|=1024),o}function dm(){var s=Ad!==0;return Ad=0,s}function fm(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function gm(s){if(Ed){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Ed=!1}Ts=0,Mt=rt=Ne=null,ul=!1,Wc=Ad=0,hl=null}function kn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ne.memoizedState=Mt=s:Mt=Mt.next=s,Mt}function Ot(){if(rt===null){var s=Ne.alternate;s=s!==null?s.memoizedState:null}else s=rt.next;var o=Mt===null?Ne.memoizedState:Mt.next;if(o!==null)Mt=o,rt=s;else{if(s===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));rt=s,s={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Mt===null?Ne.memoizedState=Mt=s:Mt=Mt.next=s}return Mt}var wd;wd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Gc(s){var o=Wc;return Wc+=1,hl===null&&(hl=[]),s=U0(hl,s,o),o=Ne,(Mt===null?o.memoizedState:Mt.next)===null&&(o=o.alternate,I.H=o===null||o.memoizedState===null?Fa:xs),s}function Sd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Gc(s);if(s.$$typeof===b)return fn(s)}throw Error(i(438,String(s)))}function pm(s){var o=null,c=Ne.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=Ne.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=wd(),Ne.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),d=0;d<s;d++)c[d]=$;return o.index++,c}function Rr(s,o){return typeof o=="function"?o(s):o}function Td(s){var o=Ot();return mm(o,rt,s)}function mm(s,o,c){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var m=s.baseQueue,y=d.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}o.baseQueue=m=y,d.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{o=m.next;var C=S=null,L=null,q=o,te=!1;do{var ae=q.lane&-536870913;if(ae!==q.lane?(qe&ae)===ae:(Ts&ae)===ae){var Q=q.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ae===ll&&(te=!0);else if((Ts&Q)===Q){q=q.next,Q===ll&&(te=!0);continue}else ae={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(C=L=ae,S=y):L=L.next=ae,Ne.lanes|=Q,Ps|=Q;ae=q.action,Ha&&c(y,ae),y=q.hasEagerState?q.eagerState:c(y,ae)}else Q={lane:ae,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(C=L=Q,S=y):L=L.next=Q,Ne.lanes|=ae,Ps|=ae;q=q.next}while(q!==null&&q!==o);if(L===null?S=y:L.next=C,!Hn(y,s.memoizedState)&&(Xt=!0,te&&(c=cl,c!==null)))throw c;s.memoizedState=y,s.baseState=S,s.baseQueue=L,d.lastRenderedState=y}return m===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function ym(s){var o=Ot(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var d=c.dispatch,m=c.pending,y=o.memoizedState;if(m!==null){c.pending=null;var S=m=m.next;do y=s(y,S.action),S=S.next;while(S!==m);Hn(y,o.memoizedState)||(Xt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),c.lastRenderedState=y}return[y,d]}function X0(s,o,c){var d=Ne,m=Ot(),y=Ye;if(y){if(c===void 0)throw Error(i(407));c=c()}else c=o();var S=!Hn((rt||m).memoizedState,c);if(S&&(m.memoizedState=c,Xt=!0),m=m.queue,bm(eE.bind(null,d,m,s),[s]),m.getSnapshot!==o||S||Mt!==null&&Mt.memoizedState.tag&1){if(d.flags|=2048,dl(9,J0.bind(null,d,m,c,o),{destroy:void 0},null),ot===null)throw Error(i(349));y||Ts&60||Z0(d,o,c)}return c}function Z0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Ne.updateQueue,o===null?(o=wd(),Ne.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function J0(s,o,c,d){o.value=c,o.getSnapshot=d,tE(o)&&nE(s)}function eE(s,o,c){return c(function(){tE(o)&&nE(s)})}function tE(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Hn(s,c)}catch{return!0}}function nE(s){var o=As(s,2);o!==null&&Rn(o,s,2)}function vm(s){var o=kn();if(typeof s=="function"){var c=s;if(s=c(),Ha){Li(!0);try{c()}finally{Li(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:s},o}function iE(s,o,c,d){return s.baseState=c,mm(s,rt,typeof d=="function"?d:Rr)}function yM(s,o,c,d,m){if(Cd(s))throw Error(i(485));if(s=o.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};I.T!==null?c(!0):y.isTransition=!1,d(y),c=o.pending,c===null?(y.next=o.pending=y,rE(o,y)):(y.next=c.next,o.pending=c.next=y)}}function rE(s,o){var c=o.action,d=o.payload,m=s.state;if(o.isTransition){var y=I.T,S={};I.T=S;try{var C=c(m,d),L=I.S;L!==null&&L(S,C),sE(s,o,C)}catch(q){_m(s,o,q)}finally{I.T=y}}else try{y=c(m,d),sE(s,o,y)}catch(q){_m(s,o,q)}}function sE(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){aE(s,o,d)},function(d){return _m(s,o,d)}):aE(s,o,c)}function aE(s,o,c){o.status="fulfilled",o.value=c,oE(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,rE(s,c)))}function _m(s,o,c){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,oE(o),o=o.next;while(o!==d)}s.action=null}function oE(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function lE(s,o){return o}function cE(s,o){if(Ye){var c=ot.formState;if(c!==null){e:{var d=Ne;if(Ye){if(sn){t:{for(var m=sn,y=$i;m.nodeType!==8;){if(!y){m=null;break t}if(m=Ri(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){sn=Ri(m.nextSibling),d=m.data==="F!";break e}}Ua(d)}d=!1}d&&(o=c[0])}}return c=kn(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lE,lastRenderedState:o},c.queue=d,c=RE.bind(null,Ne,d),d.dispatch=c,d=vm(!1),y=Tm.bind(null,Ne,!1,d.queue),d=kn(),m={state:o,dispatch:null,action:s,pending:null},d.queue=m,c=yM.bind(null,Ne,m,y,c),m.dispatch=c,d.memoizedState=s,[o,c,!1]}function uE(s){var o=Ot();return hE(o,rt,s)}function hE(s,o,c){o=mm(s,o,lE)[0],s=Td(Rr)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?Gc(o):o;var d=Ot(),m=d.queue,y=m.dispatch;return c!==d.memoizedState&&(Ne.flags|=2048,dl(9,vM.bind(null,m,c),{destroy:void 0},null)),[o,y,s]}function vM(s,o){s.action=o}function dE(s){var o=Ot(),c=rt;if(c!==null)return hE(o,c,s);Ot(),o=o.memoizedState,c=Ot();var d=c.queue.dispatch;return c.memoizedState=s,[o,d,!1]}function dl(s,o,c,d){return s={tag:s,create:o,inst:c,deps:d,next:null},o=Ne.updateQueue,o===null&&(o=wd(),Ne.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,o.lastEffect=s),s}function fE(){return Ot().memoizedState}function xd(s,o,c,d){var m=kn();Ne.flags|=s,m.memoizedState=dl(1|o,c,{destroy:void 0},d===void 0?null:d)}function Rd(s,o,c,d){var m=Ot();d=d===void 0?null:d;var y=m.memoizedState.inst;rt!==null&&d!==null&&um(d,rt.memoizedState.deps)?m.memoizedState=dl(o,c,y,d):(Ne.flags|=s,m.memoizedState=dl(1|o,c,y,d))}function gE(s,o){xd(8390656,8,s,o)}function bm(s,o){Rd(2048,8,s,o)}function pE(s,o){return Rd(4,2,s,o)}function mE(s,o){return Rd(4,4,s,o)}function yE(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function vE(s,o,c){c=c!=null?c.concat([s]):null,Rd(4,4,yE.bind(null,o,s),c)}function Em(){}function _E(s,o){var c=Ot();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&um(o,d[1])?d[0]:(c.memoizedState=[s,o],s)}function bE(s,o){var c=Ot();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&um(o,d[1]))return d[0];if(d=s(),Ha){Li(!0);try{s()}finally{Li(!1)}}return c.memoizedState=[d,o],d}function Am(s,o,c){return c===void 0||Ts&1073741824?s.memoizedState=o:(s.memoizedState=c,s=AA(),Ne.lanes|=s,Ps|=s,c)}function EE(s,o,c,d){return Hn(c,o)?c:ol.current!==null?(s=Am(s,c,d),Hn(s,o)||(Xt=!0),s):Ts&42?(s=AA(),Ne.lanes|=s,Ps|=s,o):(Xt=!0,s.memoizedState=c)}function AE(s,o,c,d,m){var y=ue.p;ue.p=y!==0&&8>y?y:8;var S=I.T,C={};I.T=C,Tm(s,!1,o,c);try{var L=m(),q=I.S;if(q!==null&&q(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var te=gM(L,d);$c(s,o,te,Gn(s))}else $c(s,o,d,Gn(s))}catch(ae){$c(s,o,{then:function(){},status:"rejected",reason:ae},Gn())}finally{ue.p=y,I.T=S}}function _M(){}function wm(s,o,c,d){if(s.tag!==5)throw Error(i(476));var m=wE(s).queue;AE(s,m,o,de,c===null?_M:function(){return SE(s),c(d)})}function wE(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:de},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function SE(s){var o=wE(s).next.queue;$c(s,o,{},Gn())}function Sm(){return fn(fu)}function TE(){return Ot().memoizedState}function xE(){return Ot().memoizedState}function bM(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=Gn();s=Ds(c);var d=Is(o,s,c);d!==null&&(Rn(d,o,c),Kc(d,o,c)),o={cache:om()},s.payload=o;return}o=o.return}}function EM(s,o,c){var d=Gn();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Cd(s)?CE(o,c):(c=em(s,o,c,d),c!==null&&(Rn(c,s,d),DE(c,o,d)))}function RE(s,o,c){var d=Gn();$c(s,o,c,d)}function $c(s,o,c,d){var m={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Cd(s))CE(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,C=y(S,c);if(m.hasEagerState=!0,m.eagerState=C,Hn(C,S))return hd(s,o,m,0),ot===null&&ud(),!1}catch{}finally{}if(c=em(s,o,m,d),c!==null)return Rn(c,s,d),DE(c,o,d),!0}return!1}function Tm(s,o,c,d){if(d={lane:2,revertLane:gy(),action:d,hasEagerState:!1,eagerState:null,next:null},Cd(s)){if(o)throw Error(i(479))}else o=em(s,c,d,2),o!==null&&Rn(o,s,2)}function Cd(s){var o=s.alternate;return s===Ne||o!==null&&o===Ne}function CE(s,o){ul=Ed=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function DE(s,o,c){if(c&4194176){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,ds(s,c)}}var Qi={readContext:fn,use:Sd,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt};Qi.useCacheRefresh=Rt,Qi.useMemoCache=Rt,Qi.useHostTransitionStatus=Rt,Qi.useFormState=Rt,Qi.useActionState=Rt,Qi.useOptimistic=Rt;var Fa={readContext:fn,use:Sd,useCallback:function(s,o){return kn().memoizedState=[s,o===void 0?null:o],s},useContext:fn,useEffect:gE,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,xd(4194308,4,yE.bind(null,o,s),c)},useLayoutEffect:function(s,o){return xd(4194308,4,s,o)},useInsertionEffect:function(s,o){xd(4,2,s,o)},useMemo:function(s,o){var c=kn();o=o===void 0?null:o;var d=s();if(Ha){Li(!0);try{s()}finally{Li(!1)}}return c.memoizedState=[d,o],d},useReducer:function(s,o,c){var d=kn();if(c!==void 0){var m=c(o);if(Ha){Li(!0);try{c(o)}finally{Li(!1)}}}else m=o;return d.memoizedState=d.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},d.queue=s,s=s.dispatch=EM.bind(null,Ne,s),[d.memoizedState,s]},useRef:function(s){var o=kn();return s={current:s},o.memoizedState=s},useState:function(s){s=vm(s);var o=s.queue,c=RE.bind(null,Ne,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:Em,useDeferredValue:function(s,o){var c=kn();return Am(c,s,o)},useTransition:function(){var s=vm(!1);return s=AE.bind(null,Ne,s.queue,!0,!1),kn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var d=Ne,m=kn();if(Ye){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),ot===null)throw Error(i(349));qe&60||Z0(d,o,c)}m.memoizedState=c;var y={value:c,getSnapshot:o};return m.queue=y,gE(eE.bind(null,d,y,s),[s]),d.flags|=2048,dl(9,J0.bind(null,d,y,c,o),{destroy:void 0},null),c},useId:function(){var s=kn(),o=ot.identifierPrefix;if(Ye){var c=Tr,d=Sr;c=(d&~(1<<32-wn(d)-1)).toString(32)+c,o=":"+o+"R"+c,c=Ad++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=pM++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},useCacheRefresh:function(){return kn().memoizedState=bM.bind(null,Ne)}};Fa.useMemoCache=pm,Fa.useHostTransitionStatus=Sm,Fa.useFormState=cE,Fa.useActionState=cE,Fa.useOptimistic=function(s){var o=kn();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Tm.bind(null,Ne,!0,c),c.dispatch=o,[s,o]};var xs={readContext:fn,use:Sd,useCallback:_E,useContext:fn,useEffect:bm,useImperativeHandle:vE,useInsertionEffect:pE,useLayoutEffect:mE,useMemo:bE,useReducer:Td,useRef:fE,useState:function(){return Td(Rr)},useDebugValue:Em,useDeferredValue:function(s,o){var c=Ot();return EE(c,rt.memoizedState,s,o)},useTransition:function(){var s=Td(Rr)[0],o=Ot().memoizedState;return[typeof s=="boolean"?s:Gc(s),o]},useSyncExternalStore:X0,useId:TE};xs.useCacheRefresh=xE,xs.useMemoCache=pm,xs.useHostTransitionStatus=Sm,xs.useFormState=uE,xs.useActionState=uE,xs.useOptimistic=function(s,o){var c=Ot();return iE(c,rt,s,o)};var qa={readContext:fn,use:Sd,useCallback:_E,useContext:fn,useEffect:bm,useImperativeHandle:vE,useInsertionEffect:pE,useLayoutEffect:mE,useMemo:bE,useReducer:ym,useRef:fE,useState:function(){return ym(Rr)},useDebugValue:Em,useDeferredValue:function(s,o){var c=Ot();return rt===null?Am(c,s,o):EE(c,rt.memoizedState,s,o)},useTransition:function(){var s=ym(Rr)[0],o=Ot().memoizedState;return[typeof s=="boolean"?s:Gc(s),o]},useSyncExternalStore:X0,useId:TE};qa.useCacheRefresh=xE,qa.useMemoCache=pm,qa.useHostTransitionStatus=Sm,qa.useFormState=dE,qa.useActionState=dE,qa.useOptimistic=function(s,o){var c=Ot();return rt!==null?iE(c,rt,s,o):(c.baseState=s,[s,c.queue.dispatch])};function xm(s,o,c,d){o=s.memoizedState,c=c(d,o),c=c==null?o:O({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Rm={isMounted:function(s){return(s=s._reactInternals)?ge(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var d=Gn(),m=Ds(d);m.payload=o,c!=null&&(m.callback=c),o=Is(s,m,d),o!==null&&(Rn(o,s,d),Kc(o,s,d))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var d=Gn(),m=Ds(d);m.tag=1,m.payload=o,c!=null&&(m.callback=c),o=Is(s,m,d),o!==null&&(Rn(o,s,d),Kc(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Gn(),d=Ds(c);d.tag=2,o!=null&&(d.callback=o),o=Is(s,d,c),o!==null&&(Rn(o,s,c),Kc(o,s,c))}};function IE(s,o,c,d,m,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,S):o.prototype&&o.prototype.isPureReactComponent?!Nc(c,d)||!Nc(m,y):!0}function kE(s,o,c,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==s&&Rm.enqueueReplaceState(o,o.state,null)}function Wa(s,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(s=s.defaultProps){c===o&&(c=O({},c));for(var m in s)c[m]===void 0&&(c[m]=s[m])}return c}var Dd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function ME(s){Dd(s)}function OE(s){console.error(s)}function NE(s){Dd(s)}function Id(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function PE(s,o,c){try{var d=s.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Cm(s,o,c){return c=Ds(c),c.tag=3,c.payload={element:null},c.callback=function(){Id(s,o)},c}function LE(s){return s=Ds(s),s.tag=3,s}function VE(s,o,c,d){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var y=d.value;s.payload=function(){return m(y)},s.callback=function(){PE(o,c,d)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){PE(o,c,d),typeof m!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var C=d.stack;this.componentDidCatch(d.value,{componentStack:C!==null?C:""})})}function AM(s,o,c,d,m){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&Qc(o,c,m,!0),c=li.current,c!==null){switch(c.tag){case 13:return Yi===null?cy():c.alternate===null&&wt===0&&(wt=3),c.flags&=-257,c.flags|=65536,c.lanes=m,d===rm?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),hy(s,d,m)),!1;case 22:return c.flags|=65536,d===rm?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),hy(s,d,m)),!1}throw Error(i(435,c.tag))}return hy(s,d,m),cy(),!1}if(Ye)return o=li.current,o!==null?(!(o.flags&65536)&&(o.flags|=256),o.flags|=65536,o.lanes=m,d!==im&&(s=Error(i(422),{cause:d}),jc(si(s,c)))):(d!==im&&(o=Error(i(423),{cause:d}),jc(si(o,c))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,d=si(d,c),m=Cm(s.stateNode,d,m),Fm(s,m),wt!==4&&(wt=2)),!1;var y=Error(i(520),{cause:d});if(y=si(y,c),ru===null?ru=[y]:ru.push(y),wt!==4&&(wt=2),o===null)return!0;d=si(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=m&-m,c.lanes|=s,s=Cm(c.stateNode,d,s),Fm(c,s),!1;case 1:if(o=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ls===null||!Ls.has(y))))return c.flags|=65536,m&=-m,c.lanes|=m,m=LE(m),VE(m,s,c,d),Fm(c,m),!1}c=c.return}while(c!==null);return!1}var jE=Error(i(461)),Xt=!1;function an(s,o,c,d){o.child=s===null?F0(o,null,c,d):za(o,s.child,c,d)}function UE(s,o,c,d,m){c=c.render;var y=o.ref;if("ref"in d){var S={};for(var C in d)C!=="ref"&&(S[C]=d[C])}else S=d;return $a(o),d=hm(s,o,c,S,y,m),C=dm(),s!==null&&!Xt?(fm(s,o,m),Cr(s,o,m)):(Ye&&C&&tm(o),o.flags|=1,an(s,o,d,m),o.child)}function zE(s,o,c,d,m){if(s===null){var y=c.type;return typeof y=="function"&&!Xm(y)&&y.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=y,BE(s,o,y,d,m)):(s=Pd(c.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,!Vm(s,m)){var S=y.memoizedProps;if(c=c.compare,c=c!==null?c:Nc,c(S,d)&&s.ref===o.ref)return Cr(s,o,m)}return o.flags|=1,s=Ns(y,d),s.ref=o.ref,s.return=o,o.child=s}function BE(s,o,c,d,m){if(s!==null){var y=s.memoizedProps;if(Nc(y,d)&&s.ref===o.ref)if(Xt=!1,o.pendingProps=d=y,Vm(s,m))s.flags&131072&&(Xt=!0);else return o.lanes=s.lanes,Cr(s,o,m)}return Dm(s,o,c,d,m)}function HE(s,o,c){var d=o.pendingProps,m=d.children,y=(o.stateNode._pendingVisibility&2)!==0,S=s!==null?s.memoizedState:null;if(Yc(s,o),d.mode==="hidden"||y){if(o.flags&128){if(d=S!==null?S.baseLanes|c:c,s!==null){for(m=o.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;o.childLanes=y&~d}else o.childLanes=0,o.child=null;return FE(s,o,d,c)}if(c&536870912)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&bd(o,S!==null?S.cachePool:null),S!==null?q0(o,S):sm(),W0(o);else return o.lanes=o.childLanes=536870912,FE(s,o,S!==null?S.baseLanes|c:c,c)}else S!==null?(bd(o,S.cachePool),q0(o,S),Ss(),o.memoizedState=null):(s!==null&&bd(o,null),sm(),Ss());return an(s,o,m,c),o.child}function FE(s,o,c,d){var m=cm();return m=m===null?null:{parent:Ft._currentValue,pool:m},o.memoizedState={baseLanes:c,cachePool:m},s!==null&&bd(o,null),sm(),W0(o),s!==null&&Qc(s,o,d,!0),null}function Yc(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(o.flags|=2097664)}}function Dm(s,o,c,d,m){return $a(o),c=hm(s,o,c,d,void 0,m),d=dm(),s!==null&&!Xt?(fm(s,o,m),Cr(s,o,m)):(Ye&&d&&tm(o),o.flags|=1,an(s,o,c,m),o.child)}function qE(s,o,c,d,m,y){return $a(o),o.updateQueue=null,c=K0(o,d,c,m),Q0(s),d=dm(),s!==null&&!Xt?(fm(s,o,y),Cr(s,o,y)):(Ye&&d&&tm(o),o.flags|=1,an(s,o,c,y),o.child)}function WE(s,o,c,d,m){if($a(o),o.stateNode===null){var y=il,S=c.contextType;typeof S=="object"&&S!==null&&(y=fn(S)),y=new c(d,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Rm,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=d,y.state=o.memoizedState,y.refs={},Bm(o),S=c.contextType,y.context=typeof S=="object"&&S!==null?fn(S):il,y.state=o.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(xm(o,c,S,d),y.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Rm.enqueueReplaceState(y,y.state,null),Zc(o,d,y,m),Xc(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){y=o.stateNode;var C=o.memoizedProps,L=Wa(c,C);y.props=L;var q=y.context,te=c.contextType;S=il,typeof te=="object"&&te!==null&&(S=fn(te));var ae=c.getDerivedStateFromProps;te=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||q!==S)&&kE(o,y,d,S),Cs=!1;var Q=o.memoizedState;y.state=Q,Zc(o,d,y,m),Xc(),q=o.memoizedState,C||Q!==q||Cs?(typeof ae=="function"&&(xm(o,c,ae,d),q=o.memoizedState),(L=Cs||IE(o,c,L,d,Q,q,S))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=q),y.props=d,y.state=q,y.context=S,d=L):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{y=o.stateNode,Hm(s,o),S=o.memoizedProps,te=Wa(c,S),y.props=te,ae=o.pendingProps,Q=y.context,q=c.contextType,L=il,typeof q=="object"&&q!==null&&(L=fn(q)),C=c.getDerivedStateFromProps,(q=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==ae||Q!==L)&&kE(o,y,d,L),Cs=!1,Q=o.memoizedState,y.state=Q,Zc(o,d,y,m),Xc();var ee=o.memoizedState;S!==ae||Q!==ee||Cs||s!==null&&s.dependencies!==null&&kd(s.dependencies)?(typeof C=="function"&&(xm(o,c,C,d),ee=o.memoizedState),(te=Cs||IE(o,c,te,d,Q,ee,L)||s!==null&&s.dependencies!==null&&kd(s.dependencies))?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,ee,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,ee,L)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ee),y.props=d,y.state=ee,y.context=L,d=te):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&Q===s.memoizedState||(o.flags|=1024),d=!1)}return y=d,Yc(s,o),d=(o.flags&128)!==0,y||d?(y=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,s!==null&&d?(o.child=za(o,s.child,null,m),o.child=za(o,null,c,m)):an(s,o,c,m),o.memoizedState=y.state,s=o.child):s=Cr(s,o,m),s}function GE(s,o,c,d){return Vc(),o.flags|=256,an(s,o,c,d),o.child}var Im={dehydrated:null,treeContext:null,retryLane:0};function km(s){return{baseLanes:s,cachePool:Y0()}}function Mm(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=di),s}function $E(s,o,c){var d=o.pendingProps,m=!1,y=(o.flags&128)!==0,S;if((S=y)||(S=s!==null&&s.memoizedState===null?!1:(Ht.current&2)!==0),S&&(m=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,s===null){if(Ye){if(m?ws(o):Ss(),Ye){var C=sn,L;if(L=C){e:{for(L=C,C=$i;L.nodeType!==8;){if(!C){C=null;break e}if(L=Ri(L.nextSibling),L===null){C=null;break e}}C=L}C!==null?(o.memoizedState={dehydrated:C,treeContext:Va!==null?{id:Sr,overflow:Tr}:null,retryLane:536870912},L=hi(18,null,null,0),L.stateNode=C,L.return=o,o.child=L,xn=o,sn=null,L=!0):L=!1}L||Ua(o)}if(C=o.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return C.data==="$!"?o.lanes=16:o.lanes=536870912,null;xr(o)}return C=d.children,d=d.fallback,m?(Ss(),m=o.mode,C=Nm({mode:"hidden",children:C},m),d=Qa(d,m,c,null),C.return=o,d.return=o,C.sibling=d,o.child=C,m=o.child,m.memoizedState=km(c),m.childLanes=Mm(s,S,c),o.memoizedState=Im,d):(ws(o),Om(o,C))}if(L=s.memoizedState,L!==null&&(C=L.dehydrated,C!==null)){if(y)o.flags&256?(ws(o),o.flags&=-257,o=Pm(s,o,c)):o.memoizedState!==null?(Ss(),o.child=s.child,o.flags|=128,o=null):(Ss(),m=d.fallback,C=o.mode,d=Nm({mode:"visible",children:d.children},C),m=Qa(m,C,c,null),m.flags|=2,d.return=o,m.return=o,d.sibling=m,o.child=d,za(o,s.child,null,c),d=o.child,d.memoizedState=km(c),d.childLanes=Mm(s,S,c),o.memoizedState=Im,o=m);else if(ws(o),C.data==="$!"){if(S=C.nextSibling&&C.nextSibling.dataset,S)var q=S.dgst;S=q,d=Error(i(419)),d.stack="",d.digest=S,jc({value:d,source:null,stack:null}),o=Pm(s,o,c)}else if(Xt||Qc(s,o,c,!1),S=(c&s.childLanes)!==0,Xt||S){if(S=ot,S!==null){if(d=c&-c,d&42)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=d&(S.suspendedLanes|c)?0:d,d!==0&&d!==L.retryLane)throw L.retryLane=d,As(s,d),Rn(S,s,d),jE}C.data==="$?"||cy(),o=Pm(s,o,c)}else C.data==="$?"?(o.flags|=128,o.child=s.child,o=VM.bind(null,s),C._reactRetry=o,o=null):(s=L.treeContext,sn=Ri(C.nextSibling),xn=o,Ye=!0,Ti=null,$i=!1,s!==null&&(ai[oi++]=Sr,ai[oi++]=Tr,ai[oi++]=Va,Sr=s.id,Tr=s.overflow,Va=o),o=Om(o,d.children),o.flags|=4096);return o}return m?(Ss(),m=d.fallback,C=o.mode,L=s.child,q=L.sibling,d=Ns(L,{mode:"hidden",children:d.children}),d.subtreeFlags=L.subtreeFlags&31457280,q!==null?m=Ns(q,m):(m=Qa(m,C,c,null),m.flags|=2),m.return=o,d.return=o,d.sibling=m,o.child=d,d=m,m=o.child,C=s.child.memoizedState,C===null?C=km(c):(L=C.cachePool,L!==null?(q=Ft._currentValue,L=L.parent!==q?{parent:q,pool:q}:L):L=Y0(),C={baseLanes:C.baseLanes|c,cachePool:L}),m.memoizedState=C,m.childLanes=Mm(s,S,c),o.memoizedState=Im,d):(ws(o),c=s.child,s=c.sibling,c=Ns(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,s!==null&&(S=o.deletions,S===null?(o.deletions=[s],o.flags|=16):S.push(s)),o.child=c,o.memoizedState=null,c)}function Om(s,o){return o=Nm({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Nm(s,o){return _A(s,o,0,null)}function Pm(s,o,c){return za(o,s.child,null,c),s=Om(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function YE(s,o,c){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Um(s.return,o,c)}function Lm(s,o,c,d,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=c,y.tailMode=m)}function QE(s,o,c){var d=o.pendingProps,m=d.revealOrder,y=d.tail;if(an(s,o,d.children,c),d=Ht.current,d&2)d=d&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&YE(s,c,o);else if(s.tag===19)YE(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(tt(Ht,d),m){case"forwards":for(c=o.child,m=null;c!==null;)s=c.alternate,s!==null&&_d(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),Lm(o,!1,m,c,y);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&_d(s)===null){o.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}Lm(o,!0,c,null,y);break;case"together":Lm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Cr(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Ps|=o.lanes,!(c&o.childLanes))if(s!==null){if(Qc(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,c=Ns(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Ns(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function Vm(s,o){return s.lanes&o?!0:(s=s.dependencies,!!(s!==null&&kd(s)))}function wM(s,o,c){switch(o.tag){case 3:as(o,o.stateNode.containerInfo),Rs(o,Ft,s.memoizedState.cache),Vc();break;case 27:case 5:fc(o);break;case 4:as(o,o.stateNode.containerInfo);break;case 10:Rs(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(ws(o),o.flags|=128,null):c&o.child.childLanes?$E(s,o,c):(ws(o),s=Cr(s,o,c),s!==null?s.sibling:null);ws(o);break;case 19:var m=(s.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(Qc(s,o,c,!1),d=(c&o.childLanes)!==0),m){if(d)return QE(s,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),tt(Ht,Ht.current),d)break;return null;case 22:case 23:return o.lanes=0,HE(s,o,c);case 24:Rs(o,Ft,s.memoizedState.cache)}return Cr(s,o,c)}function KE(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)Xt=!0;else{if(!Vm(s,c)&&!(o.flags&128))return Xt=!1,wM(s,o,c);Xt=!!(s.flags&131072)}else Xt=!1,Ye&&o.flags&1048576&&N0(o,gd,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var d=o.elementType,m=d._init;if(d=m(d._payload),o.type=d,typeof d=="function")Xm(d)?(s=Wa(d,s),o.tag=1,o=WE(null,o,d,s,c)):(o.tag=0,o=Dm(null,o,d,s,c));else{if(d!=null){if(m=d.$$typeof,m===T){o.tag=11,o=UE(null,o,d,s,c);break e}else if(m===M){o.tag=14,o=zE(null,o,d,s,c);break e}}throw o=D(d)||d,Error(i(306,o,""))}}return o;case 0:return Dm(s,o,o.type,o.pendingProps,c);case 1:return d=o.type,m=Wa(d,o.pendingProps),WE(s,o,d,m,c);case 3:e:{if(as(o,o.stateNode.containerInfo),s===null)throw Error(i(387));var y=o.pendingProps;m=o.memoizedState,d=m.element,Hm(s,o),Zc(o,y,null,c);var S=o.memoizedState;if(y=S.cache,Rs(o,Ft,y),y!==m.cache&&zm(o,[Ft],c,!0),Xc(),y=S.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=m,o.memoizedState=m,o.flags&256){o=GE(s,o,y,c);break e}else if(y!==d){d=si(Error(i(424)),o),jc(d),o=GE(s,o,y,c);break e}else for(sn=Ri(o.stateNode.containerInfo.firstChild),xn=o,Ye=!0,Ti=null,$i=!0,c=F0(o,null,y,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Vc(),y===d){o=Cr(s,o,c);break e}an(s,o,y,c)}o=o.child}return o;case 26:return Yc(s,o),s===null?(c=JA(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ye||(c=o.type,s=o.pendingProps,d=$d(Xn.current).createElement(c),d[Yt]=o,d[Ut]=s,on(d,c,s),gt(d),o.stateNode=d):o.memoizedState=JA(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return fc(o),s===null&&Ye&&(d=o.stateNode=KA(o.type,o.pendingProps,Xn.current),xn=o,$i=!0,sn=Ri(d.firstChild)),d=o.pendingProps.children,s!==null||Ye?an(s,o,d,c):o.child=za(o,null,d,c),Yc(s,o),o.child;case 5:return s===null&&Ye&&((m=d=sn)&&(d=JM(d,o.type,o.pendingProps,$i),d!==null?(o.stateNode=d,xn=o,sn=Ri(d.firstChild),$i=!1,m=!0):m=!1),m||Ua(o)),fc(o),m=o.type,y=o.pendingProps,S=s!==null?s.memoizedProps:null,d=y.children,wy(m,y)?d=null:S!==null&&wy(m,S)&&(o.flags|=32),o.memoizedState!==null&&(m=hm(s,o,mM,null,null,c),fu._currentValue=m),Yc(s,o),an(s,o,d,c),o.child;case 6:return s===null&&Ye&&((s=c=sn)&&(c=eO(c,o.pendingProps,$i),c!==null?(o.stateNode=c,xn=o,sn=null,s=!0):s=!1),s||Ua(o)),null;case 13:return $E(s,o,c);case 4:return as(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=za(o,null,d,c):an(s,o,d,c),o.child;case 11:return UE(s,o,o.type,o.pendingProps,c);case 7:return an(s,o,o.pendingProps,c),o.child;case 8:return an(s,o,o.pendingProps.children,c),o.child;case 12:return an(s,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,Rs(o,o.type,d.value),an(s,o,d.children,c),o.child;case 9:return m=o.type._context,d=o.pendingProps.children,$a(o),m=fn(m),d=d(m),o.flags|=1,an(s,o,d,c),o.child;case 14:return zE(s,o,o.type,o.pendingProps,c);case 15:return BE(s,o,o.type,o.pendingProps,c);case 19:return QE(s,o,c);case 22:return HE(s,o,c);case 24:return $a(o),d=fn(Ft),s===null?(m=cm(),m===null&&(m=ot,y=om(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=c),m=y),o.memoizedState={parent:d,cache:m},Bm(o),Rs(o,Ft,m)):(s.lanes&c&&(Hm(s,o),Zc(o,null,null,c),Xc()),m=s.memoizedState,y=o.memoizedState,m.parent!==d?(m={parent:d,cache:d},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Rs(o,Ft,d)):(d=y.cache,Rs(o,Ft,d),d!==m.cache&&zm(o,[Ft],c,!0))),an(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}var jm=Ge(null),Ga=null,Dr=null;function Rs(s,o,c){tt(jm,o._currentValue),o._currentValue=c}function Ir(s){s._currentValue=jm.current,bt(jm)}function Um(s,o,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===c)break;s=s.return}}function zm(s,o,c,d){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=m;for(var L=0;L<o.length;L++)if(C.context===o[L]){y.lanes|=c,C=y.alternate,C!==null&&(C.lanes|=c),Um(y.return,c,s),d||(S=null);break e}y=C.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=c,y=S.alternate,y!==null&&(y.lanes|=c),Um(S,c,s),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===s){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Qc(s,o,c,d){s=null;for(var m=o,y=!1;m!==null;){if(!y){if(m.flags&524288)y=!0;else if(m.flags&262144)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var C=m.type;Hn(m.pendingProps.value,S.value)||(s!==null?s.push(C):s=[C])}}else if(m===ss.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(fu):s=[fu])}m=m.return}s!==null&&zm(o,s,c,d),o.flags|=262144}function kd(s){for(s=s.firstContext;s!==null;){if(!Hn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function $a(s){Ga=s,Dr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function fn(s){return XE(Ga,s)}function Md(s,o){return Ga===null&&$a(s),XE(s,o)}function XE(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Dr===null){if(s===null)throw Error(i(308));Dr=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Dr=Dr.next=o;return c}var Cs=!1;function Bm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hm(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ds(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Is(s,o,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,mt&2){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,o=dd(s),M0(s,null,c),o}return hd(s,d,o,c),dd(s)}function Kc(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194176)!==0)){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,ds(s,c)}}function Fm(s,o){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,c=c.next}while(c!==null);y===null?m=y=o:y=y.next=o}else m=y=o;c={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var qm=!1;function Xc(){if(qm){var s=cl;if(s!==null)throw s}}function Zc(s,o,c,d){qm=!1;var m=s.updateQueue;Cs=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var L=C,q=L.next;L.next=null,S===null?y=q:S.next=q,S=L;var te=s.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==S&&(C===null?te.firstBaseUpdate=q:C.next=q,te.lastBaseUpdate=L))}if(y!==null){var ae=m.baseState;S=0,te=q=L=null,C=y;do{var Q=C.lane&-536870913,ee=Q!==C.lane;if(ee?(qe&Q)===Q:(d&Q)===Q){Q!==0&&Q===ll&&(qm=!0),te!==null&&(te=te.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var be=s,Ie=C;Q=o;var St=c;switch(Ie.tag){case 1:if(be=Ie.payload,typeof be=="function"){ae=be.call(St,ae,Q);break e}ae=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ie.payload,Q=typeof be=="function"?be.call(St,ae,Q):be,Q==null)break e;ae=O({},ae,Q);break e;case 2:Cs=!0}}Q=C.callback,Q!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[Q]:ee.push(Q))}else ee={lane:Q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(q=te=ee,L=ae):te=te.next=ee,S|=Q;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);te===null&&(L=ae),m.baseState=L,m.firstBaseUpdate=q,m.lastBaseUpdate=te,y===null&&(m.shared.lanes=0),Ps|=S,s.lanes=S,s.memoizedState=ae}}function ZE(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function JE(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)ZE(c[s],o)}function Jc(s,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&s)===s){d=void 0;var y=c.create,S=c.inst;d=y(),S.destroy=d}c=c.next}while(c!==m)}}catch(C){at(o,o.return,C)}}function ks(s,o,c){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&s)===s){var S=d.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,m=o;var L=c;try{C()}catch(q){at(m,L,q)}}}d=d.next}while(d!==y)}}catch(q){at(o,o.return,q)}}function eA(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{JE(o,c)}catch(d){at(s,s.return,d)}}}function tA(s,o,c){c.props=Wa(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(d){at(s,o,d)}}function Ya(s,o){try{var c=s.ref;if(c!==null){var d=s.stateNode;switch(s.tag){case 26:case 27:case 5:var m=d;break;default:m=d}typeof c=="function"?s.refCleanup=c(m):c.current=m}}catch(y){at(s,o,y)}}function Fn(s,o){var c=s.ref,d=s.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(m){at(s,o,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){at(s,o,m)}else c.current=null}function nA(s){var o=s.type,c=s.memoizedProps,d=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(m){at(s,s.return,m)}}function iA(s,o,c){try{var d=s.stateNode;YM(d,s.type,c,o),d[Ut]=o}catch(m){at(s,s.return,m)}}function rA(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function Wm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||rA(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Gm(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Gd));else if(d!==4&&d!==27&&(s=s.child,s!==null))for(Gm(s,o,c),s=s.sibling;s!==null;)Gm(s,o,c),s=s.sibling}function Od(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(d!==4&&d!==27&&(s=s.child,s!==null))for(Od(s,o,c),s=s.sibling;s!==null;)Od(s,o,c),s=s.sibling}var kr=!1,At=!1,$m=!1,sA=typeof WeakSet=="function"?WeakSet:Set,Zt=null,aA=!1;function SM(s,o){if(s=s.containerInfo,Ey=Jd,s=w0(s),Qp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var S=0,C=-1,L=-1,q=0,te=0,ae=s,Q=null;t:for(;;){for(var ee;ae!==c||m!==0&&ae.nodeType!==3||(C=S+m),ae!==y||d!==0&&ae.nodeType!==3||(L=S+d),ae.nodeType===3&&(S+=ae.nodeValue.length),(ee=ae.firstChild)!==null;)Q=ae,ae=ee;for(;;){if(ae===s)break t;if(Q===c&&++q===m&&(C=S),Q===y&&++te===d&&(L=S),(ee=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=ee}c=C===-1||L===-1?null:{start:C,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ay={focusedElem:s,selectionRange:c},Jd=!1,Zt=o;Zt!==null;)if(o=Zt,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Zt=s;else for(;Zt!==null;){switch(o=Zt,y=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&y!==null){s=void 0,c=o,m=y.memoizedProps,y=y.memoizedState,d=c.stateNode;try{var be=Wa(c.type,m,c.elementType===c.type);s=d.getSnapshotBeforeUpdate(be,y),d.__reactInternalSnapshotBeforeUpdate=s}catch(Ie){at(c,c.return,Ie)}}break;case 3:if(s&1024){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)xy(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":xy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,Zt=s;break}Zt=o.return}return be=aA,aA=!1,be}function oA(s,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Or(s,c),d&4&&Jc(5,c);break;case 1:if(Or(s,c),d&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(C){at(c,c.return,C)}else{var m=Wa(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(m,o,s.__reactInternalSnapshotBeforeUpdate)}catch(C){at(c,c.return,C)}}d&64&&eA(c),d&512&&Ya(c,c.return);break;case 3:if(Or(s,c),d&64&&(d=c.updateQueue,d!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{JE(d,s)}catch(C){at(c,c.return,C)}}break;case 26:Or(s,c),d&512&&Ya(c,c.return);break;case 27:case 5:Or(s,c),o===null&&d&4&&nA(c),d&512&&Ya(c,c.return);break;case 12:Or(s,c);break;case 13:Or(s,c),d&4&&uA(s,c);break;case 22:if(m=c.memoizedState!==null||kr,!m){o=o!==null&&o.memoizedState!==null||At;var y=kr,S=At;kr=m,(At=o)&&!S?Ms(s,c,(c.subtreeFlags&8772)!==0):Or(s,c),kr=y,At=S}d&512&&(c.memoizedProps.mode==="manual"?Ya(c,c.return):Fn(c,c.return));break;default:Or(s,c)}}function lA(s){var o=s.alternate;o!==null&&(s.alternate=null,lA(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Sa(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Nt=null,qn=!1;function Mr(s,o,c){for(c=c.child;c!==null;)cA(s,o,c),c=c.sibling}function cA(s,o,c){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(os,c)}catch{}switch(c.tag){case 26:At||Fn(c,o),Mr(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:At||Fn(c,o);var d=Nt,m=qn;for(Nt=c.stateNode,Mr(s,o,c),c=c.stateNode,o=c.attributes;o.length;)c.removeAttributeNode(o[0]);Sa(c),Nt=d,qn=m;break;case 5:At||Fn(c,o);case 6:m=Nt;var y=qn;if(Nt=null,Mr(s,o,c),Nt=m,qn=y,Nt!==null)if(qn)try{s=Nt,d=c.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)}catch(S){at(c,o,S)}else try{Nt.removeChild(c.stateNode)}catch(S){at(c,o,S)}break;case 18:Nt!==null&&(qn?(o=Nt,c=c.stateNode,o.nodeType===8?Ty(o.parentNode,c):o.nodeType===1&&Ty(o,c),yu(o)):Ty(Nt,c.stateNode));break;case 4:d=Nt,m=qn,Nt=c.stateNode.containerInfo,qn=!0,Mr(s,o,c),Nt=d,qn=m;break;case 0:case 11:case 14:case 15:At||ks(2,c,o),At||ks(4,c,o),Mr(s,o,c);break;case 1:At||(Fn(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&tA(c,o,d)),Mr(s,o,c);break;case 21:Mr(s,o,c);break;case 22:At||Fn(c,o),At=(d=At)||c.memoizedState!==null,Mr(s,o,c),At=d;break;default:Mr(s,o,c)}}function uA(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{yu(s)}catch(c){at(o,o.return,c)}}function TM(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new sA),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new sA),o;default:throw Error(i(435,s.tag))}}function Ym(s,o){var c=TM(s);o.forEach(function(d){var m=jM.bind(null,s,d);c.has(d)||(c.add(d),d.then(m,m))})}function ci(s,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var m=c[d],y=s,S=o,C=S;e:for(;C!==null;){switch(C.tag){case 27:case 5:Nt=C.stateNode,qn=!1;break e;case 3:Nt=C.stateNode.containerInfo,qn=!0;break e;case 4:Nt=C.stateNode.containerInfo,qn=!0;break e}C=C.return}if(Nt===null)throw Error(i(160));cA(y,S,m),Nt=null,qn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)hA(o,s),o=o.sibling}var xi=null;function hA(s,o){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ci(o,s),ui(s),d&4&&(ks(3,s,s.return),Jc(3,s),ks(5,s,s.return));break;case 1:ci(o,s),ui(s),d&512&&(At||c===null||Fn(c,c.return)),d&64&&kr&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var m=xi;if(ci(o,s),ui(s),d&512&&(At||c===null||Fn(c,c.return)),d&4){var y=c!==null?c.memoizedState:null;if(d=s.memoizedState,c===null)if(d===null)if(s.stateNode===null){e:{d=s.type,c=s.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":y=m.getElementsByTagName("title")[0],(!y||y[gs]||y[Yt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(d),m.head.insertBefore(y,m.querySelector("head > title"))),on(y,d,c),y[Yt]=s,gt(y),d=y;break e;case"link":var S=nw("link","href",m).get(d+(c.href||""));if(S){for(var C=0;C<S.length;C++)if(y=S[C],y.getAttribute("href")===(c.href==null?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(C,1);break t}}y=m.createElement(d),on(y,d,c),m.head.appendChild(y);break;case"meta":if(S=nw("meta","content",m).get(d+(c.content||""))){for(C=0;C<S.length;C++)if(y=S[C],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(C,1);break t}}y=m.createElement(d),on(y,d,c),m.head.appendChild(y);break;default:throw Error(i(468,d))}y[Yt]=s,gt(y),d=y}s.stateNode=d}else iw(m,s.type,s.stateNode);else s.stateNode=tw(m,d,s.memoizedProps);else y!==d?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,d===null?iw(m,s.type,s.stateNode):tw(m,d,s.memoizedProps)):d===null&&s.stateNode!==null&&iA(s,s.memoizedProps,c.memoizedProps)}break;case 27:if(d&4&&s.alternate===null){m=s.stateNode,y=s.memoizedProps;try{for(var L=m.firstChild;L;){var q=L.nextSibling,te=L.nodeName;L[gs]||te==="HEAD"||te==="BODY"||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&L.rel.toLowerCase()==="stylesheet"||m.removeChild(L),L=q}for(var ae=s.type,Q=m.attributes;Q.length;)m.removeAttributeNode(Q[0]);on(m,ae,y),m[Yt]=s,m[Ut]=y}catch(be){at(s,s.return,be)}}case 5:if(ci(o,s),ui(s),d&512&&(At||c===null||Fn(c,c.return)),s.flags&32){m=s.stateNode;try{ei(m,"")}catch(be){at(s,s.return,be)}}d&4&&s.stateNode!=null&&(m=s.memoizedProps,iA(s,m,c!==null?c.memoizedProps:m)),d&1024&&($m=!0);break;case 6:if(ci(o,s),ui(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,c=s.stateNode;try{c.nodeValue=d}catch(be){at(s,s.return,be)}}break;case 3:if(Kd=null,m=xi,xi=Yd(o.containerInfo),ci(o,s),xi=m,ui(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{yu(o.containerInfo)}catch(be){at(s,s.return,be)}$m&&($m=!1,dA(s));break;case 4:d=xi,xi=Yd(s.stateNode.containerInfo),ci(o,s),ui(s),xi=d;break;case 12:ci(o,s),ui(s);break;case 13:ci(o,s),ui(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(iy=Dn()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Ym(s,d)));break;case 22:if(d&512&&(At||c===null||Fn(c,c.return)),L=s.memoizedState!==null,q=c!==null&&c.memoizedState!==null,te=kr,ae=At,kr=te||L,At=ae||q,ci(o,s),At=ae,kr=te,ui(s),o=s.stateNode,o._current=s,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,d&8192&&(o._visibility=L?o._visibility&-2:o._visibility|1,L&&(o=kr||At,c===null||q||o||fl(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(c=null,o=s;;){if(o.tag===5||o.tag===26||o.tag===27){if(c===null){q=c=o;try{if(m=q.stateNode,L)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=q.stateNode,C=q.memoizedProps.style;var ee=C!=null&&C.hasOwnProperty("display")?C.display:null;S.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(be){at(q,q.return,be)}}}else if(o.tag===6){if(c===null){q=o;try{q.stateNode.nodeValue=L?"":q.memoizedProps}catch(be){at(q,q.return,be)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Ym(s,c))));break;case 19:ci(o,s),ui(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Ym(s,d)));break;case 21:break;default:ci(o,s),ui(s)}}function ui(s){var o=s.flags;if(o&2){try{if(s.tag!==27){e:{for(var c=s.return;c!==null;){if(rA(c)){var d=c;break e}c=c.return}throw Error(i(160))}switch(d.tag){case 27:var m=d.stateNode,y=Wm(s);Od(s,y,m);break;case 5:var S=d.stateNode;d.flags&32&&(ei(S,""),d.flags&=-33);var C=Wm(s);Od(s,C,S);break;case 3:case 4:var L=d.stateNode.containerInfo,q=Wm(s);Gm(s,q,L);break;default:throw Error(i(161))}}}catch(te){at(s,s.return,te)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function dA(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;dA(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Or(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)oA(s,o.alternate,o),o=o.sibling}function fl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:ks(4,o,o.return),fl(o);break;case 1:Fn(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&tA(o,o.return,c),fl(o);break;case 26:case 27:case 5:Fn(o,o.return),fl(o);break;case 22:Fn(o,o.return),o.memoizedState===null&&fl(o);break;default:fl(o)}s=s.sibling}}function Ms(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,m=s,y=o,S=y.flags;switch(y.tag){case 0:case 11:case 15:Ms(m,y,c),Jc(4,y);break;case 1:if(Ms(m,y,c),d=y,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){at(d,d.return,q)}if(d=y,m=d.updateQueue,m!==null){var C=d.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)ZE(L[m],C)}catch(q){at(d,d.return,q)}}c&&S&64&&eA(y),Ya(y,y.return);break;case 26:case 27:case 5:Ms(m,y,c),c&&d===null&&S&4&&nA(y),Ya(y,y.return);break;case 12:Ms(m,y,c);break;case 13:Ms(m,y,c),c&&S&4&&uA(m,y);break;case 22:y.memoizedState===null&&Ms(m,y,c),Ya(y,y.return);break;default:Ms(m,y,c)}o=o.sibling}}function Qm(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Fc(c))}function Km(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Fc(s))}function Os(s,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)fA(s,o,c,d),o=o.sibling}function fA(s,o,c,d){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Os(s,o,c,d),m&2048&&Jc(9,o);break;case 3:Os(s,o,c,d),m&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Fc(s)));break;case 12:if(m&2048){Os(s,o,c,d),s=o.stateNode;try{var y=o.memoizedProps,S=y.id,C=y.onPostCommit;typeof C=="function"&&C(S,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){at(o,o.return,L)}}else Os(s,o,c,d);break;case 23:break;case 22:y=o.stateNode,o.memoizedState!==null?y._visibility&4?Os(s,o,c,d):eu(s,o):y._visibility&4?Os(s,o,c,d):(y._visibility|=4,gl(s,o,c,d,(o.subtreeFlags&10256)!==0)),m&2048&&Qm(o.alternate,o);break;case 24:Os(s,o,c,d),m&2048&&Km(o.alternate,o);break;default:Os(s,o,c,d)}}function gl(s,o,c,d,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=s,S=o,C=c,L=d,q=S.flags;switch(S.tag){case 0:case 11:case 15:gl(y,S,C,L,m),Jc(8,S);break;case 23:break;case 22:var te=S.stateNode;S.memoizedState!==null?te._visibility&4?gl(y,S,C,L,m):eu(y,S):(te._visibility|=4,gl(y,S,C,L,m)),m&&q&2048&&Qm(S.alternate,S);break;case 24:gl(y,S,C,L,m),m&&q&2048&&Km(S.alternate,S);break;default:gl(y,S,C,L,m)}o=o.sibling}}function eu(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,d=o,m=d.flags;switch(d.tag){case 22:eu(c,d),m&2048&&Qm(d.alternate,d);break;case 24:eu(c,d),m&2048&&Km(d.alternate,d);break;default:eu(c,d)}o=o.sibling}}var tu=8192;function pl(s){if(s.subtreeFlags&tu)for(s=s.child;s!==null;)gA(s),s=s.sibling}function gA(s){switch(s.tag){case 26:pl(s),s.flags&tu&&s.memoizedState!==null&&fO(xi,s.memoizedState,s.memoizedProps);break;case 5:pl(s);break;case 3:case 4:var o=xi;xi=Yd(s.stateNode.containerInfo),pl(s),xi=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=tu,tu=16777216,pl(s),tu=o):pl(s));break;default:pl(s)}}function pA(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function nu(s){var o=s.deletions;if(s.flags&16){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];Zt=d,yA(d,s)}pA(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)mA(s),s=s.sibling}function mA(s){switch(s.tag){case 0:case 11:case 15:nu(s),s.flags&2048&&ks(9,s,s.return);break;case 3:nu(s);break;case 12:nu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&4&&(s.return===null||s.return.tag!==13)?(o._visibility&=-5,Nd(s)):nu(s);break;default:nu(s)}}function Nd(s){var o=s.deletions;if(s.flags&16){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];Zt=d,yA(d,s)}pA(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:ks(8,o,o.return),Nd(o);break;case 22:c=o.stateNode,c._visibility&4&&(c._visibility&=-5,Nd(o));break;default:Nd(o)}s=s.sibling}}function yA(s,o){for(;Zt!==null;){var c=Zt;switch(c.tag){case 0:case 11:case 15:ks(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Fc(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Zt=d;else e:for(c=s;Zt!==null;){d=Zt;var m=d.sibling,y=d.return;if(lA(d),d===c){Zt=null;break e}if(m!==null){m.return=y,Zt=m;break e}Zt=y}}}function xM(s,o,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(s,o,c,d){return new xM(s,o,c,d)}function Xm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ns(s,o){var c=s.alternate;return c===null?(c=hi(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&31457280,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function vA(s,o){s.flags&=31457282;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Pd(s,o,c,d,m,y){var S=0;if(d=s,typeof s=="function")Xm(s)&&(S=1);else if(typeof s=="string")S=hO(s,c,An.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case h:return Qa(c.children,m,y,o);case f:S=8,m|=24;break;case p:return s=hi(12,c,o,m|2),s.elementType=p,s.lanes=y,s;case R:return s=hi(13,c,o,m),s.elementType=R,s.lanes=y,s;case x:return s=hi(19,c,o,m),s.elementType=x,s.lanes=y,s;case z:return _A(c,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case v:case b:S=10;break e;case _:S=9;break e;case T:S=11;break e;case M:S=14;break e;case V:S=16,d=null;break e}S=29,c=Error(i(130,s===null?"null":typeof s,"")),d=null}return o=hi(S,c,o,m),o.elementType=s,o.type=d,o.lanes=y,o}function Qa(s,o,c,d){return s=hi(7,s,d,o),s.lanes=c,s}function _A(s,o,c,d){s=hi(22,s,d,o),s.elementType=z,s.lanes=c;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(i(456));if(!(m._pendingVisibility&2)){var S=As(y,2);S!==null&&(m._pendingVisibility|=2,Rn(S,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(i(456));if(m._pendingVisibility&2){var S=As(y,2);S!==null&&(m._pendingVisibility&=-3,Rn(S,y,2))}}};return s.stateNode=m,s}function Zm(s,o,c){return s=hi(6,s,null,o),s.lanes=c,s}function Jm(s,o,c){return o=hi(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Nr(s){s.flags|=4}function bA(s,o){if(o.type!=="stylesheet"||o.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!rw(o)){if(o=li.current,o!==null&&((qe&4194176)===qe?Yi!==null:(qe&62914560)!==qe&&!(qe&536870912)||o!==Yi))throw zc=rm,V0;s.flags|=8192}}function Ld(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?us():536870912,s.lanes|=o,yl|=o)}function iu(s,o){if(!Ye)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function pt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(o)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags&31457280,d|=m.flags&31457280,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=c,o}function RM(s,o,c){var d=o.pendingProps;switch(nm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(o),null;case 1:return pt(o),null;case 3:return c=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ir(Ft),fr(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Lc(o)?Nr(o):s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Ti!==null&&(oy(Ti),Ti=null))),pt(o),null;case 26:return c=o.memoizedState,s===null?(Nr(o),c!==null?(pt(o),bA(o,c)):(pt(o),o.flags&=-16777217)):c?c!==s.memoizedState?(Nr(o),pt(o),bA(o,c)):(pt(o),o.flags&=-16777217):(s.memoizedProps!==d&&Nr(o),pt(o),o.flags&=-16777217),null;case 27:Lo(o),c=Xn.current;var m=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Nr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return pt(o),null}s=An.current,Lc(o)?P0(o):(s=KA(m,d,c),o.stateNode=s,Nr(o))}return pt(o),null;case 5:if(Lo(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Nr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return pt(o),null}if(s=An.current,Lc(o))P0(o);else{switch(m=$d(Xn.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?m.createElement(c,{is:d.is}):m.createElement(c)}}s[Yt]=o,s[Ut]=d;e:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break e;for(;m.sibling===null;){if(m.return===null||m.return===o)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=s;e:switch(on(s,c,d),c){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Nr(o)}}return pt(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&Nr(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(s=Xn.current,Lc(o)){if(s=o.stateNode,c=o.memoizedProps,d=null,m=xn,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}s[Yt]=o,s=!!(s.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||qA(s.nodeValue,c)),s||Ua(o)}else s=$d(s).createTextNode(d),s[Yt]=o,o.stateNode=s}return pt(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Lc(o),d!==null&&d.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Yt]=o}else Vc(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;pt(o),m=!1}else Ti!==null&&(oy(Ti),Ti=null),m=!0;if(!m)return o.flags&256?(xr(o),o):(xr(o),null)}if(xr(o),o.flags&128)return o.lanes=c,o;if(c=d!==null,s=s!==null&&s.memoizedState!==null,c){d=o.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),Ld(o,o.updateQueue),pt(o),null;case 4:return fr(),s===null&&vy(o.stateNode.containerInfo),pt(o),null;case 10:return Ir(o.type),pt(o),null;case 19:if(bt(Ht),m=o.memoizedState,m===null)return pt(o),null;if(d=(o.flags&128)!==0,y=m.rendering,y===null)if(d)iu(m,!1);else{if(wt!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(y=_d(s),y!==null){for(o.flags|=128,iu(m,!1),s=y.updateQueue,o.updateQueue=s,Ld(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)vA(c,s),c=c.sibling;return tt(Ht,Ht.current&1|2),o.child}s=s.sibling}m.tail!==null&&Dn()>Vd&&(o.flags|=128,d=!0,iu(m,!1),o.lanes=4194304)}else{if(!d)if(s=_d(y),s!==null){if(o.flags|=128,d=!0,s=s.updateQueue,o.updateQueue=s,Ld(o,s),iu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ye)return pt(o),null}else 2*Dn()-m.renderingStartTime>Vd&&c!==536870912&&(o.flags|=128,d=!0,iu(m,!1),o.lanes=4194304);m.isBackwards?(y.sibling=o.child,o.child=y):(s=m.last,s!==null?s.sibling=y:o.child=y,m.last=y)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Dn(),o.sibling=null,s=Ht.current,tt(Ht,d?s&1|2:s&1),o):(pt(o),null);case 22:case 23:return xr(o),am(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?c&536870912&&!(o.flags&128)&&(pt(o),o.subtreeFlags&6&&(o.flags|=8192)):pt(o),c=o.updateQueue,c!==null&&Ld(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),s!==null&&bt(Ba),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ir(Ft),pt(o),null;case 25:return null}throw Error(i(156,o.tag))}function CM(s,o){switch(nm(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ir(Ft),fr(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Lo(o),null;case 13:if(xr(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Vc()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return bt(Ht),null;case 4:return fr(),null;case 10:return Ir(o.type),null;case 22:case 23:return xr(o),am(),s!==null&&bt(Ba),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Ir(Ft),null;case 25:return null;default:return null}}function EA(s,o){switch(nm(o),o.tag){case 3:Ir(Ft),fr();break;case 26:case 27:case 5:Lo(o);break;case 4:fr();break;case 13:xr(o);break;case 19:bt(Ht);break;case 10:Ir(o.type);break;case 22:case 23:xr(o),am(),s!==null&&bt(Ba);break;case 24:Ir(Ft)}}var DM={getCacheForType:function(s){var o=fn(Ft),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},IM=typeof WeakMap=="function"?WeakMap:Map,mt=0,ot=null,Ve=null,qe=0,lt=0,Wn=null,Pr=!1,ml=!1,ey=!1,Lr=0,wt=0,Ps=0,Ka=0,ty=0,di=0,yl=0,ru=null,Ki=null,ny=!1,iy=0,Vd=1/0,jd=null,Ls=null,Ud=!1,Xa=null,su=0,ry=0,sy=null,au=0,ay=null;function Gn(){if(mt&2&&qe!==0)return qe&-qe;if(I.T!==null){var s=ll;return s!==0?s:gy()}return Wh()}function AA(){di===0&&(di=!(qe&536870912)||Ye?vc():536870912);var s=li.current;return s!==null&&(s.flags|=32),di}function Rn(s,o,c){(s===ot&&lt===2||s.cancelPendingCommit!==null)&&(vl(s,0),Vr(s,qe,di,!1)),xt(s,c),(!(mt&2)||s!==ot)&&(s===ot&&(!(mt&2)&&(Ka|=c),wt===4&&Vr(s,qe,di,!1)),Xi(s))}function wA(s,o,c){if(mt&6)throw Error(i(327));var d=!c&&(o&60)===0&&(o&s.expiredLanes)===0||cs(s,o),m=d?OM(s,o):uy(s,o,!0),y=d;do{if(m===0){ml&&!d&&Vr(s,o,0,!1);break}else if(m===6)Vr(s,o,0,!Pr);else{if(c=s.current.alternate,y&&!kM(c)){m=uy(s,o,!1),y=!1;continue}if(m===2){if(y=o,s.errorRecoveryDisabledLanes&y)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var C=s;m=ru;var L=C.current.memoizedState.isDehydrated;if(L&&(vl(C,S).flags|=256),S=uy(C,S,!1),S!==2){if(ey&&!L){C.errorRecoveryDisabledLanes|=y,Ka|=y,m=4;break e}y=Ki,Ki=m,y!==null&&oy(y)}m=S}if(y=!1,m!==2)continue}}if(m===1){vl(s,0),Vr(s,o,0,!0);break}e:{switch(d=s,m){case 0:case 1:throw Error(i(345));case 4:if((o&4194176)===o){Vr(d,o,di,!Pr);break e}break;case 2:Ki=null;break;case 3:case 5:break;default:throw Error(i(329))}if(d.finishedWork=c,d.finishedLanes=o,(o&62914560)===o&&(y=iy+300-Dn(),10<y)){if(Vr(d,o,di,!Pr),Zn(d,0)!==0)break e;d.timeoutHandle=$A(SA.bind(null,d,c,Ki,jd,ny,o,di,Ka,yl,Pr,2,-0,0),y);break e}SA(d,c,Ki,jd,ny,o,di,Ka,yl,Pr,0,-0,0)}}break}while(!0);Xi(s)}function oy(s){Ki===null?Ki=s:Ki.push.apply(Ki,s)}function SA(s,o,c,d,m,y,S,C,L,q,te,ae,Q){var ee=o.subtreeFlags;if((ee&8192||(ee&16785408)===16785408)&&(du={stylesheets:null,count:0,unsuspend:dO},gA(o),o=gO(),o!==null)){s.cancelPendingCommit=o(kA.bind(null,s,c,d,m,S,C,L,1,ae,Q)),Vr(s,y,S,!q);return}kA(s,c,d,m,S,C,L,te,ae,Q)}function kM(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var m=c[d],y=m.getSnapshot;m=m.value;try{if(!Hn(y(),m))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vr(s,o,c,d){o&=~ty,o&=~Ka,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var m=o;0<m;){var y=31-wn(m),S=1<<y;d[y]=-1,m&=~S}c!==0&&hs(s,c,o)}function zd(){return mt&6?!0:(ou(0),!1)}function ly(){if(Ve!==null){if(lt===0)var s=Ve.return;else s=Ve,Dr=Ga=null,gm(s),al=null,Bc=0,s=Ve;for(;s!==null;)EA(s.alternate,s),s=s.return;Ve=null}}function vl(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,KM(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),ly(),ot=s,Ve=c=Ns(s.current,null),qe=o,lt=0,Wn=null,Pr=!1,ml=cs(s,o),ey=!1,yl=di=ty=Ka=Ps=wt=0,Ki=ru=null,ny=!1,o&8&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var m=31-wn(d),y=1<<m;o|=s[m],d&=~y}return Lr=o,ud(),c}function TA(s,o){Ne=null,I.H=Qi,o===Uc?(o=z0(),lt=3):o===V0?(o=z0(),lt=4):lt=o===jE?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Wn=o,Ve===null&&(wt=1,Id(s,si(o,s.current)))}function xA(){var s=I.H;return I.H=Qi,s===null?Qi:s}function RA(){var s=I.A;return I.A=DM,s}function cy(){wt=4,Pr||(qe&4194176)!==qe&&li.current!==null||(ml=!0),!(Ps&134217727)&&!(Ka&134217727)||ot===null||Vr(ot,qe,di,!1)}function uy(s,o,c){var d=mt;mt|=2;var m=xA(),y=RA();(ot!==s||qe!==o)&&(jd=null,vl(s,o)),o=!1;var S=wt;e:do try{if(lt!==0&&Ve!==null){var C=Ve,L=Wn;switch(lt){case 8:ly(),S=6;break e;case 3:case 2:case 6:li.current===null&&(o=!0);var q=lt;if(lt=0,Wn=null,_l(s,C,L,q),c&&ml){S=0;break e}break;default:q=lt,lt=0,Wn=null,_l(s,C,L,q)}}MM(),S=wt;break}catch(te){TA(s,te)}while(!0);return o&&s.shellSuspendCounter++,Dr=Ga=null,mt=d,I.H=m,I.A=y,Ve===null&&(ot=null,qe=0,ud()),S}function MM(){for(;Ve!==null;)CA(Ve)}function OM(s,o){var c=mt;mt|=2;var d=xA(),m=RA();ot!==s||qe!==o?(jd=null,Vd=Dn()+500,vl(s,o)):ml=cs(s,o);e:do try{if(lt!==0&&Ve!==null){o=Ve;var y=Wn;t:switch(lt){case 1:lt=0,Wn=null,_l(s,o,y,1);break;case 2:if(j0(y)){lt=0,Wn=null,DA(o);break}o=function(){lt===2&&ot===s&&(lt=7),Xi(s)},y.then(o,o);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:j0(y)?(lt=0,Wn=null,DA(o)):(lt=0,Wn=null,_l(s,o,y,7));break;case 5:var S=null;switch(Ve.tag){case 26:S=Ve.memoizedState;case 5:case 27:var C=Ve;if(!S||rw(S)){lt=0,Wn=null;var L=C.sibling;if(L!==null)Ve=L;else{var q=C.return;q!==null?(Ve=q,Bd(q)):Ve=null}break t}}lt=0,Wn=null,_l(s,o,y,5);break;case 6:lt=0,Wn=null,_l(s,o,y,6);break;case 8:ly(),wt=6;break e;default:throw Error(i(462))}}NM();break}catch(te){TA(s,te)}while(!0);return Dr=Ga=null,I.H=d,I.A=m,mt=c,Ve!==null?0:(ot=null,qe=0,ud(),wt)}function NM(){for(;Ve!==null&&!jp();)CA(Ve)}function CA(s){var o=KE(s.alternate,s,Lr);s.memoizedProps=s.pendingProps,o===null?Bd(s):Ve=o}function DA(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=qE(c,o,o.pendingProps,o.type,void 0,qe);break;case 11:o=qE(c,o,o.pendingProps,o.type.render,o.ref,qe);break;case 5:gm(o);default:EA(c,o),o=Ve=vA(o,Lr),o=KE(c,o,Lr)}s.memoizedProps=s.pendingProps,o===null?Bd(s):Ve=o}function _l(s,o,c,d){Dr=Ga=null,gm(o),al=null,Bc=0;var m=o.return;try{if(AM(s,m,o,c,qe)){wt=1,Id(s,si(c,s.current)),Ve=null;return}}catch(y){if(m!==null)throw Ve=m,y;wt=1,Id(s,si(c,s.current)),Ve=null;return}o.flags&32768?(Ye||d===1?s=!0:ml||qe&536870912?s=!1:(Pr=s=!0,(d===2||d===3||d===6)&&(d=li.current,d!==null&&d.tag===13&&(d.flags|=16384))),IA(o,s)):Bd(o)}function Bd(s){var o=s;do{if(o.flags&32768){IA(o,Pr);return}s=o.return;var c=RM(o.alternate,o,Lr);if(c!==null){Ve=c;return}if(o=o.sibling,o!==null){Ve=o;return}Ve=o=s}while(o!==null);wt===0&&(wt=5)}function IA(s,o){do{var c=CM(s.alternate,s);if(c!==null){c.flags&=32767,Ve=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){Ve=s;return}Ve=s=c}while(s!==null);wt=6,Ve=null}function kA(s,o,c,d,m,y,S,C,L,q){var te=I.T,ae=ue.p;try{ue.p=2,I.T=null,PM(s,o,c,d,ae,m,y,S,C,L,q)}finally{I.T=te,ue.p=ae}}function PM(s,o,c,d,m,y,S,C){do bl();while(Xa!==null);if(mt&6)throw Error(i(327));var L=s.finishedWork;if(d=s.finishedLanes,L===null)return null;if(s.finishedWork=null,s.finishedLanes=0,L===s.current)throw Error(i(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var q=L.lanes|L.childLanes;if(q|=Jp,Fh(s,d,q,y,S,C),s===ot&&(Ve=ot=null,qe=0),!(L.subtreeFlags&10256)&&!(L.flags&10256)||Ud||(Ud=!0,ry=q,sy=c,UM(gr,function(){return bl(),null})),c=(L.flags&15990)!==0,L.subtreeFlags&15990||c?(c=I.T,I.T=null,y=ue.p,ue.p=2,S=mt,mt|=4,SM(s,L),hA(L,s),sM(Ay,s.containerInfo),Jd=!!Ey,Ay=Ey=null,s.current=L,oA(s,L.alternate,L),gc(),mt=S,ue.p=y,I.T=c):s.current=L,Ud?(Ud=!1,Xa=s,su=d):MA(s,q),q=s.pendingLanes,q===0&&(Ls=null),mc(L.stateNode),Xi(s),o!==null)for(m=s.onRecoverableError,L=0;L<o.length;L++)q=o[L],m(q.value,{componentStack:q.stack});return su&3&&bl(),q=s.pendingLanes,d&4194218&&q&42?s===ay?au++:(au=0,ay=s):au=0,ou(0),null}function MA(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Fc(o)))}function bl(){if(Xa!==null){var s=Xa,o=ry;ry=0;var c=qh(su),d=I.T,m=ue.p;try{if(ue.p=32>c?32:c,I.T=null,Xa===null)var y=!1;else{c=sy,sy=null;var S=Xa,C=su;if(Xa=null,su=0,mt&6)throw Error(i(331));var L=mt;if(mt|=4,mA(S.current),fA(S,S.current,C,c),mt=L,ou(0,!1),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(os,S)}catch{}y=!0}return y}finally{ue.p=m,I.T=d,MA(s,o)}}return!1}function OA(s,o,c){o=si(c,o),o=Cm(s.stateNode,o,2),s=Is(s,o,2),s!==null&&(xt(s,2),Xi(s))}function at(s,o,c){if(s.tag===3)OA(s,s,c);else for(;o!==null;){if(o.tag===3){OA(o,s,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ls===null||!Ls.has(d))){s=si(c,s),c=LE(2),d=Is(o,c,2),d!==null&&(VE(c,d,o,s),xt(d,2),Xi(d));break}}o=o.return}}function hy(s,o,c){var d=s.pingCache;if(d===null){d=s.pingCache=new IM;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(c)||(ey=!0,m.add(c),s=LM.bind(null,s,o,c),o.then(s,s))}function LM(s,o,c){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,ot===s&&(qe&c)===c&&(wt===4||wt===3&&(qe&62914560)===qe&&300>Dn()-iy?!(mt&2)&&vl(s,0):ty|=c,yl===qe&&(yl=0)),Xi(s)}function NA(s,o){o===0&&(o=us()),s=As(s,o),s!==null&&(xt(s,o),Xi(s))}function VM(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),NA(s,c)}function jM(s,o){var c=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),NA(s,c)}function UM(s,o){return Ea(s,o)}var Hd=null,El=null,dy=!1,Fd=!1,fy=!1,Za=0;function Xi(s){s!==El&&s.next===null&&(El===null?Hd=El=s:El=El.next=s),Fd=!0,dy||(dy=!0,BM(zM))}function ou(s,o){if(!fy&&Fd){fy=!0;do for(var c=!1,d=Hd;d!==null;){if(s!==0){var m=d.pendingLanes;if(m===0)var y=0;else{var S=d.suspendedLanes,C=d.pingedLanes;y=(1<<31-wn(42|s)+1)-1,y&=m&~(S&~C),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(c=!0,VA(d,y))}else y=qe,y=Zn(d,d===ot?y:0),!(y&3)||cs(d,y)||(c=!0,VA(d,y));d=d.next}while(c);fy=!1}}function zM(){Fd=dy=!1;var s=0;Za!==0&&(QM()&&(s=Za),Za=0);for(var o=Dn(),c=null,d=Hd;d!==null;){var m=d.next,y=PA(d,o);y===0?(d.next=null,c===null?Hd=m:c.next=m,m===null&&(El=c)):(c=d,(s!==0||y&3)&&(Fd=!0)),d=m}ou(s)}function PA(s,o){for(var c=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var S=31-wn(y),C=1<<S,L=m[S];L===-1?(!(C&c)||C&d)&&(m[S]=Uo(C,o)):L<=o&&(s.expiredLanes|=C),y&=~C}if(o=ot,c=qe,c=Zn(s,s===o?c:0),d=s.callbackNode,c===0||s===o&&lt===2||s.cancelPendingCommit!==null)return d!==null&&d!==null&&jo(d),s.callbackNode=null,s.callbackPriority=0;if(!(c&3)||cs(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(d!==null&&jo(d),qh(c)){case 2:case 8:c=$t;break;case 32:c=gr;break;case 268435456:c=pc;break;default:c=gr}return d=LA.bind(null,s),c=Ea(c,d),s.callbackPriority=o,s.callbackNode=c,o}return d!==null&&d!==null&&jo(d),s.callbackPriority=2,s.callbackNode=null,2}function LA(s,o){var c=s.callbackNode;if(bl()&&s.callbackNode!==c)return null;var d=qe;return d=Zn(s,s===ot?d:0),d===0?null:(wA(s,d,o),PA(s,Dn()),s.callbackNode!=null&&s.callbackNode===c?LA.bind(null,s):null)}function VA(s,o){if(bl())return null;wA(s,o,!0)}function BM(s){XM(function(){mt&6?Ea(jt,s):s()})}function gy(){return Za===0&&(Za=vc()),Za}function jA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:zi(""+s)}function UA(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function HM(s,o,c,d,m){if(o==="submit"&&c&&c.stateNode===m){var y=jA((m[Ut]||null).action),S=d.submitter;S&&(o=(o=S[Ut]||null)?jA(o.formAction):S.getAttribute("formAction"),o!==null&&(y=o,S=null));var C=new Go("action","action",null,d,m);s.push({event:C,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Za!==0){var L=S?UA(m,S):new FormData(m);wm(c,{pending:!0,data:L,method:m.method,action:y},null,L)}}else typeof y=="function"&&(C.preventDefault(),L=S?UA(m,S):new FormData(m),wm(c,{pending:!0,data:L,method:m.method,action:y},y,L))},currentTarget:m}]})}}for(var py=0;py<k0.length;py++){var my=k0[py],FM=my.toLowerCase(),qM=my[0].toUpperCase()+my.slice(1);Si(FM,"on"+qM)}Si(x0,"onAnimationEnd"),Si(R0,"onAnimationIteration"),Si(C0,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(oM,"onTransitionRun"),Si(lM,"onTransitionStart"),Si(cM,"onTransitionCancel"),Si(D0,"onTransitionEnd"),In("onMouseEnter",["mouseout","mouseover"]),In("onMouseLeave",["mouseout","mouseover"]),In("onPointerEnter",["pointerout","pointerover"]),In("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function zA(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],m=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var S=d.length-1;0<=S;S--){var C=d[S],L=C.instance,q=C.currentTarget;if(C=C.listener,L!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=q;try{y(m)}catch(te){Dd(te)}m.currentTarget=null,y=L}else for(S=0;S<d.length;S++){if(C=d[S],L=C.instance,q=C.currentTarget,C=C.listener,L!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=q;try{y(m)}catch(te){Dd(te)}m.currentTarget=null,y=L}}}}function ze(s,o){var c=o[wa];c===void 0&&(c=o[wa]=new Set);var d=s+"__bubble";c.has(d)||(BA(o,s,2,!1),c.add(d))}function yy(s,o,c){var d=0;o&&(d|=4),BA(c,s,d,o)}var qd="_reactListening"+Math.random().toString(36).slice(2);function vy(s){if(!s[qd]){s[qd]=!0,bc.forEach(function(c){c!=="selectionchange"&&(WM.has(c)||yy(c,!1,s),yy(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[qd]||(o[qd]=!0,yy("selectionchange",!1,o))}}function BA(s,o,c,d){switch(uw(o)){case 2:var m=yO;break;case 8:m=vO;break;default:m=ky}c=m.bind(null,o,c,s),m=void 0,!ni||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,c,{capture:!0,passive:m}):s.addEventListener(o,c,!0):m!==void 0?s.addEventListener(o,c,{passive:m}):s.addEventListener(o,c,!1)}function _y(s,o,c,d,m){var y=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var C=d.stateNode.containerInfo;if(C===m||C.nodeType===8&&C.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var L=S.tag;if((L===3||L===4)&&(L=S.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;S=S.return}for(;C!==null;){if(S=wi(C),S===null)return;if(L=S.tag,L===5||L===6||L===26||L===27){d=y=S;continue e}C=C.parentNode}}d=d.return}Qh(function(){var q=y,te=Wo(c),ae=[];e:{var Q=I0.get(s);if(Q!==void 0){var ee=Go,be=s;switch(s){case"keypress":if(Hi(c)===0)break e;case"keydown":case"keyup":ee=Zo;break;case"focusin":be="focus",ee=Qo;break;case"focusout":be="blur",ee=Qo;break;case"beforeblur":case"afterblur":ee=Qo;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ii;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Wp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=id;break;case x0:case R0:case C0:ee=Ko;break;case D0:ee=sd;break;case"scroll":case"scrollend":ee=Kh;break;case"wheel":ee=Jo;break;case"copy":case"cut":case"paste":ee=Xo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Mc;break;case"toggle":case"beforetoggle":ee=od}var Ie=(o&4)!==0,St=!Ie&&(s==="scroll"||s==="scrollend"),W=Ie?Q!==null?Q+"Capture":null:Q;Ie=[];for(var H=q,Y;H!==null;){var ie=H;if(Y=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Y===null||W===null||(ie=Ca(H,W),ie!=null&&Ie.push(cu(H,ie,Y))),St)break;H=H.return}0<Ie.length&&(Q=new ee(Q,be,null,c,te),ae.push({event:Q,listeners:Ie}))}}if(!(o&7)){e:{if(Q=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",Q&&c!==ti&&(be=c.relatedTarget||c.fromElement)&&(wi(be)||be[pr]))break e;if((ee||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,ee?(be=c.relatedTarget||c.toElement,ee=q,be=be?wi(be):null,be!==null&&(St=ge(be),Ie=be.tag,be!==St||Ie!==5&&Ie!==27&&Ie!==6)&&(be=null)):(ee=null,be=q),ee!==be)){if(Ie=ii,ie="onMouseLeave",W="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=Mc,ie="onPointerLeave",W="onPointerEnter",H="pointer"),St=ee==null?Q:ps(ee),Y=be==null?Q:ps(be),Q=new Ie(ie,H+"leave",ee,c,te),Q.target=St,Q.relatedTarget=Y,ie=null,wi(te)===q&&(Ie=new Ie(W,H+"enter",be,c,te),Ie.target=Y,Ie.relatedTarget=St,ie=Ie),St=ie,ee&&be)t:{for(Ie=ee,W=be,H=0,Y=Ie;Y;Y=Al(Y))H++;for(Y=0,ie=W;ie;ie=Al(ie))Y++;for(;0<H-Y;)Ie=Al(Ie),H--;for(;0<Y-H;)W=Al(W),Y--;for(;H--;){if(Ie===W||W!==null&&Ie===W.alternate)break t;Ie=Al(Ie),W=Al(W)}Ie=null}else Ie=null;ee!==null&&HA(ae,Q,ee,Ie,!1),be!==null&&St!==null&&HA(ae,St,be,Ie,!0)}}e:{if(Q=q?ps(q):window,ee=Q.nodeName&&Q.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Q.type==="file")var ye=p0;else if(Bt(Q))if(m0)ye=iM;else{ye=tM;var Pe=eM}else ee=Q.nodeName,!ee||ee.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?q&&Tc(q.elementType)&&(ye=p0):ye=nM;if(ye&&(ye=ye(s,q))){wr(ae,ye,c,te);break e}Pe&&Pe(s,Q,q),s==="focusout"&&q&&Q.type==="number"&&q.memoizedProps.value!=null&&qo(Q,"number",Q.value)}switch(Pe=q?ps(q):window,s){case"focusin":(Bt(Pe)||Pe.contentEditable==="true")&&(el=Pe,Kp=q,Pc=null);break;case"focusout":Pc=Kp=el=null;break;case"mousedown":Xp=!0;break;case"contextmenu":case"mouseup":case"dragend":Xp=!1,S0(ae,c,te);break;case"selectionchange":if(aM)break;case"keydown":case"keyup":S0(ae,c,te)}var Ae;if(Wi)e:{switch(s){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else He?X(s,c)&&(xe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(xe="onCompositionStart");xe&&(w&&c.locale!=="ko"&&(He||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&He&&(Ae=Rc()):(Bi=te,Es="value"in Bi?Bi.value:Bi.textContent,He=!0)),Pe=Wd(q,xe),0<Pe.length&&(xe=new Ic(xe,s,null,c,te),ae.push({event:xe,listeners:Pe}),Ae?xe.data=Ae:(Ae=ce(c),Ae!==null&&(xe.data=Ae)))),(Ae=E?zt(s,c):Fe(s,c))&&(xe=Wd(q,"onBeforeInput"),0<xe.length&&(Pe=new Ic("onBeforeInput","beforeinput",null,c,te),ae.push({event:Pe,listeners:xe}),Pe.data=Ae)),HM(ae,s,q,c,te)}zA(ae,o)})}function cu(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Wd(s,o){for(var c=o+"Capture",d=[];s!==null;){var m=s,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Ca(s,c),m!=null&&d.unshift(cu(s,m,y)),m=Ca(s,o),m!=null&&d.push(cu(s,m,y))),s=s.return}return d}function Al(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function HA(s,o,c,d,m){for(var y=o._reactName,S=[];c!==null&&c!==d;){var C=c,L=C.alternate,q=C.stateNode;if(C=C.tag,L!==null&&L===d)break;C!==5&&C!==26&&C!==27||q===null||(L=q,m?(q=Ca(c,y),q!=null&&S.unshift(cu(c,q,L))):m||(q=Ca(c,y),q!=null&&S.push(cu(c,q,L)))),c=c.return}S.length!==0&&s.push({event:o,listeners:S})}var GM=/\r\n?/g,$M=/\u0000|\uFFFD/g;function FA(s){return(typeof s=="string"?s:""+s).replace(GM,`
`).replace($M,"")}function qA(s,o){return o=FA(o),FA(s)===o}function Gd(){}function st(s,o,c,d,m,y){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||ei(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&ei(s,""+d);break;case"className":vs(s,"class",d);break;case"tabIndex":vs(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":vs(s,c,d);break;case"style":Yh(s,d,y);break;case"data":if(o!=="object"){vs(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=zi(""+d),s.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(o!=="input"&&st(s,o,"name",m.name,m,null),st(s,o,"formEncType",m.formEncType,m,null),st(s,o,"formMethod",m.formMethod,m,null),st(s,o,"formTarget",m.formTarget,m,null)):(st(s,o,"encType",m.encType,m,null),st(s,o,"method",m.method,m,null),st(s,o,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=zi(""+d),s.setAttribute(c,d);break;case"onClick":d!=null&&(s.onclick=Gd);break;case"onScroll":d!=null&&ze("scroll",s);break;case"onScrollEnd":d!=null&&ze("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}c=zi(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""+d):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":d===!0?s.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,d):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(c,d):s.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(c):s.setAttribute(c,d);break;case"popover":ze("beforetoggle",s),ze("toggle",s),ys(s,"popover",d);break;case"xlinkActuate":Jn(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Jn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Jn(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Jn(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Jn(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Jn(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Jn(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Jn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Jn(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ys(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Fp.get(c)||c,ys(s,c,d))}}function by(s,o,c,d,m,y){switch(c){case"style":Yh(s,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof d=="string"?ei(s,d):(typeof d=="number"||typeof d=="bigint")&&ei(s,""+d);break;case"onScroll":d!=null&&ze("scroll",s);break;case"onScrollEnd":d!=null&&ze("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Gd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),o=c.slice(2,m?c.length-7:void 0),y=s[Ut]||null,y=y!=null?y[c]:null,typeof y=="function"&&s.removeEventListener(o,y,m),typeof d=="function")){typeof y!="function"&&y!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,d,m);break e}c in s?s[c]=d:d===!0?s.setAttribute(c,""):ys(s,c,d)}}}function on(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",s),ze("load",s);var d=!1,m=!1,y;for(y in c)if(c.hasOwnProperty(y)){var S=c[y];if(S!=null)switch(y){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:st(s,o,y,S,c,null)}}m&&st(s,o,"srcSet",c.srcSet,c,null),d&&st(s,o,"src",c.src,c,null);return;case"input":ze("invalid",s);var C=y=S=m=null,L=null,q=null;for(d in c)if(c.hasOwnProperty(d)){var te=c[d];if(te!=null)switch(d){case"name":m=te;break;case"type":S=te;break;case"checked":L=te;break;case"defaultChecked":q=te;break;case"value":y=te;break;case"defaultValue":C=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,o));break;default:st(s,o,d,te,c,null)}}xa(s,y,C,L,q,S,m,!1),Ta(s);return;case"select":ze("invalid",s),d=S=y=null;for(m in c)if(c.hasOwnProperty(m)&&(C=c[m],C!=null))switch(m){case"value":y=C;break;case"defaultValue":S=C;break;case"multiple":d=C;default:st(s,o,m,C,c,null)}o=y,c=S,s.multiple=!!d,o!=null?$e(s,!!d,o,!1):c!=null&&$e(s,!!d,c,!0);return;case"textarea":ze("invalid",s),y=m=d=null;for(S in c)if(c.hasOwnProperty(S)&&(C=c[S],C!=null))switch(S){case"value":d=C;break;case"defaultValue":m=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:st(s,o,S,C,c,null)}bs(s,d,m,y),Ta(s);return;case"option":for(L in c)if(c.hasOwnProperty(L)&&(d=c[L],d!=null))switch(L){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:st(s,o,L,d,c,null)}return;case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":ze("load",s);break;case"video":case"audio":for(d=0;d<lu.length;d++)ze(lu[d],s);break;case"image":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"embed":case"source":case"link":ze("error",s),ze("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in c)if(c.hasOwnProperty(q)&&(d=c[q],d!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:st(s,o,q,d,c,null)}return;default:if(Tc(o)){for(te in c)c.hasOwnProperty(te)&&(d=c[te],d!==void 0&&by(s,o,te,d,c,void 0));return}}for(C in c)c.hasOwnProperty(C)&&(d=c[C],d!=null&&st(s,o,C,d,c,null))}function YM(s,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,C=null,L=null,q=null,te=null;for(ee in c){var ae=c[ee];if(c.hasOwnProperty(ee)&&ae!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":L=ae;default:d.hasOwnProperty(ee)||st(s,o,ee,null,d,ae)}}for(var Q in d){var ee=d[Q];if(ae=c[Q],d.hasOwnProperty(Q)&&(ee!=null||ae!=null))switch(Q){case"type":y=ee;break;case"name":m=ee;break;case"checked":q=ee;break;case"defaultChecked":te=ee;break;case"value":S=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,o));break;default:ee!==ae&&st(s,o,Q,ee,d,ae)}}_s(s,S,C,L,q,te,y,m);return;case"select":ee=S=C=Q=null;for(y in c)if(L=c[y],c.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":ee=L;default:d.hasOwnProperty(y)||st(s,o,y,null,d,L)}for(m in d)if(y=d[m],L=c[m],d.hasOwnProperty(m)&&(y!=null||L!=null))switch(m){case"value":Q=y;break;case"defaultValue":C=y;break;case"multiple":S=y;default:y!==L&&st(s,o,m,y,d,L)}o=C,c=S,d=ee,Q!=null?$e(s,!!c,Q,!1):!!d!=!!c&&(o!=null?$e(s,!!c,o,!0):$e(s,!!c,c?[]:"",!1));return;case"textarea":ee=Q=null;for(C in c)if(m=c[C],c.hasOwnProperty(C)&&m!=null&&!d.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:st(s,o,C,null,d,m)}for(S in d)if(m=d[S],y=c[S],d.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":Q=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&st(s,o,S,m,d,y)}Ra(s,Q,ee);return;case"option":for(var be in c)if(Q=c[be],c.hasOwnProperty(be)&&Q!=null&&!d.hasOwnProperty(be))switch(be){case"selected":s.selected=!1;break;default:st(s,o,be,null,d,Q)}for(L in d)if(Q=d[L],ee=c[L],d.hasOwnProperty(L)&&Q!==ee&&(Q!=null||ee!=null))switch(L){case"selected":s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:st(s,o,L,Q,d,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in c)Q=c[Ie],c.hasOwnProperty(Ie)&&Q!=null&&!d.hasOwnProperty(Ie)&&st(s,o,Ie,null,d,Q);for(q in d)if(Q=d[q],ee=c[q],d.hasOwnProperty(q)&&Q!==ee&&(Q!=null||ee!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,o));break;default:st(s,o,q,Q,d,ee)}return;default:if(Tc(o)){for(var St in c)Q=c[St],c.hasOwnProperty(St)&&Q!==void 0&&!d.hasOwnProperty(St)&&by(s,o,St,void 0,d,Q);for(te in d)Q=d[te],ee=c[te],!d.hasOwnProperty(te)||Q===ee||Q===void 0&&ee===void 0||by(s,o,te,Q,d,ee);return}}for(var W in c)Q=c[W],c.hasOwnProperty(W)&&Q!=null&&!d.hasOwnProperty(W)&&st(s,o,W,null,d,Q);for(ae in d)Q=d[ae],ee=c[ae],!d.hasOwnProperty(ae)||Q===ee||Q==null&&ee==null||st(s,o,ae,Q,d,ee)}var Ey=null,Ay=null;function $d(s){return s.nodeType===9?s:s.ownerDocument}function WA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GA(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function wy(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Sy=null;function QM(){var s=window.event;return s&&s.type==="popstate"?s===Sy?!1:(Sy=s,!0):(Sy=null,!1)}var $A=typeof setTimeout=="function"?setTimeout:void 0,KM=typeof clearTimeout=="function"?clearTimeout:void 0,YA=typeof Promise=="function"?Promise:void 0,XM=typeof queueMicrotask=="function"?queueMicrotask:typeof YA<"u"?function(s){return YA.resolve(null).then(s).catch(ZM)}:$A;function ZM(s){setTimeout(function(){throw s})}function Ty(s,o){var c=o,d=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(d===0){s.removeChild(m),yu(o);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=m}while(c);yu(o)}function xy(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":xy(c),Sa(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function JM(s,o,c,d){for(;s.nodeType===1;){var m=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[gs])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Ri(s.nextSibling),s===null)break}return null}function eO(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Ri(s.nextSibling),s===null))return null;return s}function Ri(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}function QA(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function KA(s,o,c){switch(o=$d(c),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}var fi=new Map,XA=new Set;function Yd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var jr=ue.d;ue.d={f:tO,r:nO,D:iO,C:rO,L:sO,m:aO,X:lO,S:oO,M:cO};function tO(){var s=jr.f(),o=zd();return s||o}function nO(s){var o=mr(s);o!==null&&o.tag===5&&o.type==="form"?SE(o):jr.r(s)}var wl=typeof document>"u"?null:document;function ZA(s,o,c){var d=wl;if(d&&typeof o=="string"&&o){var m=Et(o);m='link[rel="'+s+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),XA.has(m)||(XA.add(m),s={rel:s,crossOrigin:c,href:o},d.querySelector(m)===null&&(o=d.createElement("link"),on(o,"link",s),gt(o),d.head.appendChild(o)))}}function iO(s){jr.D(s),ZA("dns-prefetch",s,null)}function rO(s,o){jr.C(s,o),ZA("preconnect",s,o)}function sO(s,o,c){jr.L(s,o,c);var d=wl;if(d&&s&&o){var m='link[rel="preload"][as="'+Et(o)+'"]';o==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+Et(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+Et(c.imageSizes)+'"]')):m+='[href="'+Et(s)+'"]';var y=m;switch(o){case"style":y=Sl(s);break;case"script":y=Tl(s)}fi.has(y)||(s=O({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),fi.set(y,s),d.querySelector(m)!==null||o==="style"&&d.querySelector(uu(y))||o==="script"&&d.querySelector(hu(y))||(o=d.createElement("link"),on(o,"link",s),gt(o),d.head.appendChild(o)))}}function aO(s,o){jr.m(s,o);var c=wl;if(c&&s){var d=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+Et(d)+'"][href="'+Et(s)+'"]',y=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Tl(s)}if(!fi.has(y)&&(s=O({rel:"modulepreload",href:s},o),fi.set(y,s),c.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(hu(y)))return}d=c.createElement("link"),on(d,"link",s),gt(d),c.head.appendChild(d)}}}function oO(s,o,c){jr.S(s,o,c);var d=wl;if(d&&s){var m=ms(d).hoistableStyles,y=Sl(s);o=o||"default";var S=m.get(y);if(!S){var C={loading:0,preload:null};if(S=d.querySelector(uu(y)))C.loading=5;else{s=O({rel:"stylesheet",href:s,"data-precedence":o},c),(c=fi.get(y))&&Ry(s,c);var L=S=d.createElement("link");gt(L),on(L,"link",s),L._p=new Promise(function(q,te){L.onload=q,L.onerror=te}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Qd(S,o,d)}S={type:"stylesheet",instance:S,count:1,state:C},m.set(y,S)}}}function lO(s,o){jr.X(s,o);var c=wl;if(c&&s){var d=ms(c).hoistableScripts,m=Tl(s),y=d.get(m);y||(y=c.querySelector(hu(m)),y||(s=O({src:s,async:!0},o),(o=fi.get(m))&&Cy(s,o),y=c.createElement("script"),gt(y),on(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function cO(s,o){jr.M(s,o);var c=wl;if(c&&s){var d=ms(c).hoistableScripts,m=Tl(s),y=d.get(m);y||(y=c.querySelector(hu(m)),y||(s=O({src:s,async:!0,type:"module"},o),(o=fi.get(m))&&Cy(s,o),y=c.createElement("script"),gt(y),on(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function JA(s,o,c,d){var m=(m=Xn.current)?Yd(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Sl(c.href),c=ms(m).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Sl(c.href);var y=ms(m).hoistableStyles,S=y.get(s);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,S),(y=m.querySelector(uu(s)))&&!y._p&&(S.instance=y,S.state.loading=5),fi.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},fi.set(s,c),y||uO(m,s,c,S.state))),o&&d===null)throw Error(i(528,""));return S}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Tl(c),c=ms(m).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Sl(s){return'href="'+Et(s)+'"'}function uu(s){return'link[rel="stylesheet"]['+s+"]"}function ew(s){return O({},s,{"data-precedence":s.precedence,precedence:null})}function uO(s,o,c,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),on(o,"link",c),gt(o),s.head.appendChild(o))}function Tl(s){return'[src="'+Et(s)+'"]'}function hu(s){return"script[async]"+s}function tw(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+Et(c.href)+'"]');if(d)return o.instance=d,gt(d),d;var m=O({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),gt(d),on(d,"style",m),Qd(d,c.precedence,s),o.instance=d;case"stylesheet":m=Sl(c.href);var y=s.querySelector(uu(m));if(y)return o.state.loading|=4,o.instance=y,gt(y),y;d=ew(c),(m=fi.get(m))&&Ry(d,m),y=(s.ownerDocument||s).createElement("link"),gt(y);var S=y;return S._p=new Promise(function(C,L){S.onload=C,S.onerror=L}),on(y,"link",d),o.state.loading|=4,Qd(y,c.precedence,s),o.instance=y;case"script":return y=Tl(c.src),(m=s.querySelector(hu(y)))?(o.instance=m,gt(m),m):(d=c,(m=fi.get(y))&&(d=O({},c),Cy(d,m)),s=s.ownerDocument||s,m=s.createElement("script"),gt(m),on(m,"link",d),s.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&!(o.state.loading&4)&&(d=o.instance,o.state.loading|=4,Qd(d,c.precedence,s));return o.instance}function Qd(s,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,y=m,S=0;S<d.length;S++){var C=d[S];if(C.dataset.precedence===o)y=C;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function Ry(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Cy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Kd=null;function nw(s,o,c){if(Kd===null){var d=new Map,m=Kd=new Map;m.set(c,d)}else m=Kd,d=m.get(c),d||(d=new Map,m.set(c,d));if(d.has(s))return d;for(d.set(s,null),c=c.getElementsByTagName(s),m=0;m<c.length;m++){var y=c[m];if(!(y[gs]||y[Yt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(o)||"";S=s+S;var C=d.get(S);C?C.push(y):d.set(S,[y])}}return d}function iw(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function hO(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function rw(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}var du=null;function dO(){}function fO(s,o,c){if(du===null)throw Error(i(475));var d=du;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&!(o.state.loading&4)){if(o.instance===null){var m=Sl(c.href),y=s.querySelector(uu(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=Xd.bind(d),s.then(d,d)),o.state.loading|=4,o.instance=y,gt(y);return}y=s.ownerDocument||s,c=ew(c),(m=fi.get(m))&&Ry(c,m),y=y.createElement("link"),gt(y);var S=y;S._p=new Promise(function(C,L){S.onload=C,S.onerror=L}),on(y,"link",c),o.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,s),(s=o.state.preload)&&!(o.state.loading&3)&&(d.count++,o=Xd.bind(d),s.addEventListener("load",o),s.addEventListener("error",o))}}function gO(){if(du===null)throw Error(i(475));var s=du;return s.stylesheets&&s.count===0&&Dy(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&Dy(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Xd(){if(this.count--,this.count===0){if(this.stylesheets)Dy(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Zd=null;function Dy(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Zd=new Map,o.forEach(pO,s),Zd=null,Xd.call(s))}function pO(s,o){if(!(o.state.loading&4)){var c=Zd.get(s);if(c)var d=c.get(null);else{c=new Map,Zd.set(s,c);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),d=S)}d&&c.set(null,d)}m=o.instance,S=m.getAttribute("data-precedence"),y=c.get(S)||d,y===d&&c.set(null,m),c.set(S,m),this.count++,d=Xd.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),o.state.loading|=4}}var fu={$$typeof:b,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function mO(s,o,c,d,m,y,S,C){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.hiddenUpdates=zo(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function sw(s,o,c,d,m,y,S,C,L,q,te,ae){return s=new mO(s,o,c,S,C,L,q,ae),o=1,y===!0&&(o|=24),y=hi(3,null,null,o),s.current=y,y.stateNode=s,o=om(),o.refCount++,s.pooledCache=o,o.refCount++,y.memoizedState={element:d,isDehydrated:c,cache:o},Bm(y),s}function aw(s){return s?(s=il,s):il}function ow(s,o,c,d,m,y){m=aw(m),d.context===null?d.context=m:d.pendingContext=m,d=Ds(o),d.payload={element:c},y=y===void 0?null:y,y!==null&&(d.callback=y),c=Is(s,d,o),c!==null&&(Rn(c,s,o),Kc(c,s,o))}function lw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Iy(s,o){lw(s,o),(s=s.alternate)&&lw(s,o)}function cw(s){if(s.tag===13){var o=As(s,67108864);o!==null&&Rn(o,s,67108864),Iy(s,67108864)}}var Jd=!0;function yO(s,o,c,d){var m=I.T;I.T=null;var y=ue.p;try{ue.p=2,ky(s,o,c,d)}finally{ue.p=y,I.T=m}}function vO(s,o,c,d){var m=I.T;I.T=null;var y=ue.p;try{ue.p=8,ky(s,o,c,d)}finally{ue.p=y,I.T=m}}function ky(s,o,c,d){if(Jd){var m=My(d);if(m===null)_y(s,o,d,ef,c),hw(s,d);else if(bO(m,s,o,c,d))d.stopPropagation();else if(hw(s,d),o&4&&-1<_O.indexOf(s)){for(;m!==null;){var y=mr(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Ai(y.pendingLanes);if(S!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var L=1<<31-wn(S);C.entanglements[1]|=L,S&=~L}Xi(y),!(mt&6)&&(Vd=Dn()+500,ou(0))}}break;case 13:C=As(y,2),C!==null&&Rn(C,y,2),zd(),Iy(y,2)}if(y=My(d),y===null&&_y(s,o,d,ef,c),y===m)break;m=y}m!==null&&d.stopPropagation()}else _y(s,o,d,null,c)}}function My(s){return s=Wo(s),Oy(s)}var ef=null;function Oy(s){if(ef=null,s=wi(s),s!==null){var o=ge(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=Ee(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return ef=s,null}function uw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uh()){case jt:return 2;case $t:return 8;case gr:case zh:return 32;case pc:return 268435456;default:return 32}default:return 32}}var Ny=!1,Vs=null,js=null,Us=null,gu=new Map,pu=new Map,zs=[],_O="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hw(s,o){switch(s){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":gu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(o.pointerId)}}function mu(s,o,c,d,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},o!==null&&(o=mr(o),o!==null&&cw(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function bO(s,o,c,d,m){switch(o){case"focusin":return Vs=mu(Vs,s,o,c,d,m),!0;case"dragenter":return js=mu(js,s,o,c,d,m),!0;case"mouseover":return Us=mu(Us,s,o,c,d,m),!0;case"pointerover":var y=m.pointerId;return gu.set(y,mu(gu.get(y)||null,s,o,c,d,m)),!0;case"gotpointercapture":return y=m.pointerId,pu.set(y,mu(pu.get(y)||null,s,o,c,d,m)),!0}return!1}function dw(s){var o=wi(s.target);if(o!==null){var c=ge(o);if(c!==null){if(o=c.tag,o===13){if(o=Ee(c),o!==null){s.blockedOn=o,fs(s.priority,function(){if(c.tag===13){var d=Gn(),m=As(c,d);m!==null&&Rn(m,c,d),Iy(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function tf(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=My(s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);ti=d,c.target.dispatchEvent(d),ti=null}else return o=mr(c),o!==null&&cw(o),s.blockedOn=c,!1;o.shift()}return!0}function fw(s,o,c){tf(s)&&c.delete(o)}function EO(){Ny=!1,Vs!==null&&tf(Vs)&&(Vs=null),js!==null&&tf(js)&&(js=null),Us!==null&&tf(Us)&&(Us=null),gu.forEach(fw),pu.forEach(fw)}function nf(s,o){s.blockedOn===o&&(s.blockedOn=null,Ny||(Ny=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,EO)))}var rf=null;function gw(s){rf!==s&&(rf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){rf===s&&(rf=null);for(var o=0;o<s.length;o+=3){var c=s[o],d=s[o+1],m=s[o+2];if(typeof d!="function"){if(Oy(d||c)===null)continue;break}var y=mr(c);y!==null&&(s.splice(o,3),o-=3,wm(y,{pending:!0,data:m,method:c.method,action:d},d,m))}}))}function yu(s){function o(L){return nf(L,s)}Vs!==null&&nf(Vs,s),js!==null&&nf(js,s),Us!==null&&nf(Us,s),gu.forEach(o),pu.forEach(o);for(var c=0;c<zs.length;c++){var d=zs[c];d.blockedOn===s&&(d.blockedOn=null)}for(;0<zs.length&&(c=zs[0],c.blockedOn===null);)dw(c),c.blockedOn===null&&zs.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var m=c[d],y=c[d+1],S=m[Ut]||null;if(typeof y=="function")S||gw(c);else if(S){var C=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[Ut]||null)C=S.formAction;else if(Oy(m)!==null)continue}else C=S.action;typeof C=="function"?c[d+1]=C:(c.splice(d,3),d-=3),gw(c)}}}function Py(s){this._internalRoot=s}sf.prototype.render=Py.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,d=Gn();ow(c,d,s,o,null,null)},sf.prototype.unmount=Py.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;s.tag===0&&bl(),ow(s.current,2,null,s,null,null),zd(),o[pr]=null}};function sf(s){this._internalRoot=s}sf.prototype.unstable_scheduleHydration=function(s){if(s){var o=Wh();s={blockedOn:null,target:s,priority:o};for(var c=0;c<zs.length&&o!==0&&o<zs[c].priority;c++);zs.splice(c,0,s),c===0&&dw(s)}};var pw=e.version;if(pw!=="19.0.0")throw Error(i(527,pw,"19.0.0"));ue.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=le(o),s=s!==null?me(s):null,s=s===null?null:s.stateNode,s};var AO={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:wi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{os=af.inject(AO),dn=af}catch{}}return _u.createRoot=function(s,o){if(!r(s))throw Error(i(299));var c=!1,d="",m=ME,y=OE,S=NE,C=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks)),o=sw(s,1,!1,null,null,c,d,m,y,S,C,null),s[pr]=o.current,vy(s.nodeType===8?s.parentNode:s),new Py(o)},_u.hydrateRoot=function(s,o,c){if(!r(s))throw Error(i(299));var d=!1,m="",y=ME,S=OE,C=NE,L=null,q=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(C=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(L=c.unstable_transitionCallbacks),c.formState!==void 0&&(q=c.formState)),o=sw(s,1,!0,o,c??null,d,m,y,S,C,L,q),o.context=aw(null),c=o.current,d=Gn(),m=Ds(d),m.callback=null,Is(c,m,d),o.current.lanes=d,xt(o,d),Xi(o),s[pr]=o.current,vy(s),new sf(o)},_u.version="19.0.0",_u}var Tw;function NO(){if(Tw)return jy.exports;Tw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jy.exports=OO(),jy.exports}var PO=NO(),bu={},xw;function LO(){if(xw)return bu;xw=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.parse=l,bu.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,a=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,b){const T=new a,R=_.length;if(R<2)return T;const x=(b==null?void 0:b.decode)||p;let M=0;do{const V=_.indexOf("=",M);if(V===-1)break;const z=_.indexOf(";",M),$=z===-1?R:z;if(V>$){M=_.lastIndexOf(";",V-1)+1;continue}const J=u(_,M,V),ne=h(_,V,J),N=_.slice(J,ne);if(T[N]===void 0){let D=u(_,V+1,$),I=h(_,$,D);const O=x(_.slice(D,I));T[N]=O}M=$+1}while(M<R);return T}function u(_,b,T){do{const R=_.charCodeAt(b);if(R!==32&&R!==9)return b}while(++b<T);return T}function h(_,b,T){for(;b>T;){const R=_.charCodeAt(--b);if(R!==32&&R!==9)return b+1}return T}function f(_,b,T){const R=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const x=R(b);if(!e.test(x))throw new TypeError(`argument val is invalid: ${b}`);let M=_+"="+x;if(!T)return M;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);M+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);M+="; Domain="+T.domain}if(T.path){if(!i.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);M+="; Path="+T.path}if(T.expires){if(!v(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);M+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(M+="; HttpOnly"),T.secure&&(M+="; Secure"),T.partitioned&&(M+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return M}function p(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return r.call(_)==="[object Date]"}return bu}LO();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rw="popstate";function VO(n={}){function e(r,a){let{pathname:l="/",search:u="",hash:h=""}=To(r.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Dv("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){let l=r.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=r.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof a=="string"?a:ih(a))}function i(r,a){bi(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return UO(e,t,i,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function bi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jO(){return Math.random().toString(36).substring(2,10)}function Cw(n,e){return{usr:n.state,key:n.key,idx:e}}function Dv(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?To(e):e,state:t,key:e&&e.key||i||jO()}}function ih({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function To(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function UO(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,l=r.history,u="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function v(){u="POP";let x=p(),M=x==null?null:x-f;f=x,h&&h({action:u,location:R.location,delta:M})}function _(x,M){u="PUSH";let V=Dv(R.location,x,M);t&&t(V,x),f=p()+1;let z=Cw(V,f),$=R.createHref(V);try{l.pushState(z,"",$)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;r.location.assign($)}a&&h&&h({action:u,location:R.location,delta:1})}function b(x,M){u="REPLACE";let V=Dv(R.location,x,M);t&&t(V,x),f=p();let z=Cw(V,f),$=R.createHref(V);l.replaceState(z,"",$),a&&h&&h({action:u,location:R.location,delta:0})}function T(x){let M=r.location.origin!=="null"?r.location.origin:r.location.href,V=typeof x=="string"?x:ih(x);return V=V.replace(/ $/,"%20"),ft(M,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,M)}let R={get action(){return u},get location(){return n(r,l)},listen(x){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(Rw,v),h=x,()=>{r.removeEventListener(Rw,v),h=null}},createHref(x){return e(r,x)},createURL:T,encodeLocation(x){let M=T(x);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:b,go(x){return l.go(x)}};return R}function RR(n,e,t="/"){return zO(n,e,t,!1)}function zO(n,e,t,i){let r=typeof e=="string"?To(e):e,a=aa(r.pathname||"/",t);if(a==null)return null;let l=CR(n);BO(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=ZO(a);u=KO(l[h],f,i)}return u}function CR(n,e=[],t=[],i=""){let r=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(ft(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=$r([i,h.relativePath]),p=t.concat(h);a.children&&a.children.length>0&&(ft(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),CR(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:YO(f,a.index),routesMeta:p})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))r(a,l);else for(let h of DR(a.path))r(a,l,h)}),e}function DR(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let l=DR(i.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),r&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function BO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:QO(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var HO=/^:[\w-]+$/,FO=3,qO=2,WO=1,GO=10,$O=-2,Dw=n=>n==="*";function YO(n,e){let t=n.split("/"),i=t.length;return t.some(Dw)&&(i+=$O),e&&(i+=qO),t.filter(r=>!Dw(r)).reduce((r,a)=>r+(HO.test(a)?FO:a===""?WO:GO),i)}function QO(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function KO(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,p=a==="/"?e:e.slice(a.length)||"/",v=ng({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),_=h.route;if(!v&&f&&t&&!i[i.length-1].route.index&&(v=ng({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(r,v.params),l.push({params:r,pathname:$r([a,v.pathname]),pathnameBase:nN($r([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=$r([a,v.pathnameBase]))}return l}function ng(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=XO(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:v},_)=>{if(p==="*"){let T=u[_]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const b=u[_];return v&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function XO(n,e=!1,t=!0){bi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function ZO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function aa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function JO(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?To(n):n;return{pathname:t?t.startsWith("/")?t:eN(t,e):e,search:iN(i),hash:rN(r)}}function eN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Hy(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function x_(n){let e=tN(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function R_(n,e,t,i=!1){let r;typeof n=="string"?r=To(n):(r={...n},ft(!r.pathname||!r.pathname.includes("?"),Hy("?","pathname","search",r)),ft(!r.pathname||!r.pathname.includes("#"),Hy("#","pathname","hash",r)),ft(!r.search||!r.search.includes("#"),Hy("#","search","hash",r)));let a=n===""||r.pathname==="",l=a?"/":r.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;r.pathname=_.join("/")}u=v>=0?e[v]:"/"}let h=JO(r,u),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var $r=n=>n.join("/").replace(/\/\/+/g,"/"),nN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),iN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,rN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var IR=["POST","PUT","PATCH","DELETE"];new Set(IR);var aN=["GET",...IR];new Set(aN);var ec=F.createContext(null);ec.displayName="DataRouter";var Zg=F.createContext(null);Zg.displayName="DataRouterState";var kR=F.createContext({isTransitioning:!1});kR.displayName="ViewTransition";var oN=F.createContext(new Map);oN.displayName="Fetchers";var lN=F.createContext(null);lN.displayName="Await";var Oi=F.createContext(null);Oi.displayName="Navigation";var Eh=F.createContext(null);Eh.displayName="Location";var Ei=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var C_=F.createContext(null);C_.displayName="RouteError";function cN(n,{relative:e}={}){ft(tc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=F.useContext(Oi),{hash:r,pathname:a,search:l}=Ah(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:$r([t,a])),i.createHref({pathname:u,search:l,hash:r})}function tc(){return F.useContext(Eh)!=null}function Ni(){return ft(tc(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Eh).location}var MR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OR(n){F.useContext(Oi).static||F.useLayoutEffect(n)}function ma(){let{isDataRoute:n}=F.useContext(Ei);return n?TN():uN()}function uN(){ft(tc(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(ec),{basename:e,navigator:t}=F.useContext(Oi),{matches:i}=F.useContext(Ei),{pathname:r}=Ni(),a=JSON.stringify(x_(i)),l=F.useRef(!1);return OR(()=>{l.current=!0}),F.useCallback((h,f={})=>{if(bi(l.current,MR),!l.current)return;if(typeof h=="number"){t.go(h);return}let p=R_(h,JSON.parse(a),r,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:$r([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,r,n])}var NR=F.createContext(null);function hN(){return F.useContext(NR)}function dN(n){let e=F.useContext(Ei).outlet;return e&&F.createElement(NR.Provider,{value:n},e)}function fN(){let{matches:n}=F.useContext(Ei),e=n[n.length-1];return e?e.params:{}}function Ah(n,{relative:e}={}){let{matches:t}=F.useContext(Ei),{pathname:i}=Ni(),r=JSON.stringify(x_(t));return F.useMemo(()=>R_(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function gN(n,e){return PR(n,e)}function PR(n,e,t,i){var V;ft(tc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:a}=F.useContext(Oi),{matches:l}=F.useContext(Ei),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let z=v&&v.path||"";LR(f,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let _=Ni(),b;if(e){let z=typeof e=="string"?To(e):e;ft(p==="/"||((V=z.pathname)==null?void 0:V.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${z.pathname}" was given in the \`location\` prop.`),b=z}else b=_;let T=b.pathname||"/",R=T;if(p!=="/"){let z=p.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(z.length).join("/")}let x=!a&&t&&t.matches&&t.matches.length>0?t.matches:RR(n,{pathname:R});bi(v||x!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),bi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=_N(x&&x.map(z=>Object.assign({},z,{params:Object.assign({},h,z.params),pathname:$r([p,r.encodeLocation?r.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?p:$r([p,r.encodeLocation?r.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,t,i);return e&&M?F.createElement(Eh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function pN(){let n=SN(),e=sN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:a},"ErrorBoundary")," or"," ",F.createElement("code",{style:a},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:r},t):null,l)}var mN=F.createElement(pN,null),yN=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(Ei.Provider,{value:this.props.routeContext},F.createElement(C_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vN({routeContext:n,match:e,children:t}){let i=F.useContext(ec);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Ei.Provider,{value:n},t)}function _N(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,a=t==null?void 0:t.errors;if(a!=null){let h=r.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);ft(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<r.length;h++){let f=r[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:v}=t,_=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((h,f,p)=>{let v,_=!1,b=null,T=null;t&&(v=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||mN,l&&(u<0&&p===0?(LR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):u===p&&(_=!0,T=f.route.hydrateFallbackElement||null)));let R=e.concat(r.slice(0,p+1)),x=()=>{let M;return v?M=b:_?M=T:f.route.Component?M=F.createElement(f.route.Component,null):f.route.element?M=f.route.element:M=h,F.createElement(vN,{match:f,routeContext:{outlet:h,matches:R,isDataRoute:t!=null},children:M})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?F.createElement(yN,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:x(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):x()},null)}function D_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bN(n){let e=F.useContext(ec);return ft(e,D_(n)),e}function EN(n){let e=F.useContext(Zg);return ft(e,D_(n)),e}function AN(n){let e=F.useContext(Ei);return ft(e,D_(n)),e}function I_(n){let e=AN(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function wN(){return I_("useRouteId")}function SN(){var i;let n=F.useContext(C_),e=EN("useRouteError"),t=I_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function TN(){let{router:n}=bN("useNavigate"),e=I_("useNavigate"),t=F.useRef(!1);return OR(()=>{t.current=!0}),F.useCallback(async(r,a={})=>{bi(t.current,MR),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var Iw={};function LR(n,e,t){!e&&!Iw[n]&&(Iw[n]=!0,bi(!1,t))}F.memo(xN);function xN({routes:n,future:e,state:t}){return PR(n,void 0,t,e)}function RN({to:n,replace:e,state:t,relative:i}){ft(tc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=F.useContext(Oi);bi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=F.useContext(Ei),{pathname:l}=Ni(),u=ma(),h=R_(n,x_(a),l,i==="path"),f=JSON.stringify(h);return F.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:i})},[u,f,i,e,t]),null}function CN(n){return dN(n.context)}function Cn(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DN({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){ft(!tc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=F.useMemo(()=>({basename:l,navigator:r,static:a,future:{}}),[l,r,a]);typeof t=="string"&&(t=To(t));let{pathname:h="/",search:f="",hash:p="",state:v=null,key:_="default"}=t,b=F.useMemo(()=>{let T=aa(h,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:v,key:_},navigationType:i}},[l,h,f,p,v,_,i]);return bi(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:F.createElement(Oi.Provider,{value:u},F.createElement(Eh.Provider,{children:e,value:b}))}function IN({children:n,location:e}){return gN(Iv(n),e)}function Iv(n,e=[]){let t=[];return F.Children.forEach(n,(i,r)=>{if(!F.isValidElement(i))return;let a=[...e,r];if(i.type===F.Fragment){t.push.apply(t,Iv(i.props.children,a));return}ft(i.type===Cn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Iv(i.props.children,a)),t.push(l)}),t}var jf="get",Uf="application/x-www-form-urlencoded";function Jg(n){return n!=null&&typeof n.tagName=="string"}function kN(n){return Jg(n)&&n.tagName.toLowerCase()==="button"}function MN(n){return Jg(n)&&n.tagName.toLowerCase()==="form"}function ON(n){return Jg(n)&&n.tagName.toLowerCase()==="input"}function NN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function PN(n,e){return n.button===0&&(!e||e==="_self")&&!NN(n)}var of=null;function LN(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var VN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fy(n){return n!=null&&!VN.has(n)?(bi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uf}"`),null):n}function jN(n,e){let t,i,r,a,l;if(MN(n)){let u=n.getAttribute("action");i=u?aa(u,e):null,t=n.getAttribute("method")||jf,r=Fy(n.getAttribute("enctype"))||Uf,a=new FormData(n)}else if(kN(n)||ON(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?aa(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||jf,r=Fy(n.getAttribute("formenctype"))||Fy(u.getAttribute("enctype"))||Uf,a=new FormData(u,n),!LN()){let{name:f,type:p,value:v}=n;if(p==="image"){let _=f?`${f}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else f&&a.append(f,v)}}else{if(Jg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=jf,i=null,r=Uf,l=n}return a&&r==="text/plain"&&(l=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:l}}function k_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function UN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function BN(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let l=await UN(a,t);return l.links?l.links():[]}return[]}));return WN(i.flat(1).filter(zN).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function kw(n,e,t,i,r,a){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,u=(h,f)=>{var p;return t[f].pathname!==h.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):a==="data"?e.filter((h,f)=>{var v;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function HN(n,e){return FN(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function FN(n){return[...new Set(n)]}function qN(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function WN(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(qN(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function GN(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function $N(){let n=F.useContext(ec);return k_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function YN(){let n=F.useContext(Zg);return k_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var M_=F.createContext(void 0);M_.displayName="FrameworkContext";function VR(){let n=F.useContext(M_);return k_(n,"You must render this element inside a <HydratedRouter> element"),n}function QN(n,e){let t=F.useContext(M_),[i,r]=F.useState(!1),[a,l]=F.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,_=F.useRef(null);F.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=M=>{M.forEach(V=>{l(V.isIntersecting)})},x=new IntersectionObserver(R,{threshold:.5});return _.current&&x.observe(_.current),()=>{x.disconnect()}}},[n]),F.useEffect(()=>{if(i){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[i]);let b=()=>{r(!0)},T=()=>{r(!1),l(!1)};return t?n!=="intent"?[a,_,{}]:[a,_,{onFocus:Eu(u,b),onBlur:Eu(h,T),onMouseEnter:Eu(f,b),onMouseLeave:Eu(p,T),onTouchStart:Eu(v,b)}]:[!1,_,{}]}function Eu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KN({page:n,...e}){let{router:t}=$N(),i=F.useMemo(()=>RR(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?F.createElement(ZN,{page:n,matches:i,...e}):null}function XN(n){let{manifest:e,routeModules:t}=VR(),[i,r]=F.useState([]);return F.useEffect(()=>{let a=!1;return BN(n,e,t).then(l=>{a||r(l)}),()=>{a=!0}},[n,e,t]),i}function ZN({page:n,matches:e,...t}){let i=Ni(),{manifest:r,routeModules:a}=VR(),{loaderData:l,matches:u}=YN(),h=F.useMemo(()=>kw(n,e,u,r,i,"data"),[n,e,u,r,i]),f=F.useMemo(()=>kw(n,e,u,r,i,"assets"),[n,e,u,r,i]),p=F.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,T=!1;if(e.forEach(x=>{var V;let M=r.routes[x.route.id];!M||!M.hasLoader||(!h.some(z=>z.route.id===x.route.id)&&x.route.id in l&&((V=a[x.route.id])!=null&&V.shouldRevalidate)||M.hasClientLoader?T=!0:b.add(x.route.id))}),b.size===0)return[];let R=GN(n);return T&&b.size>0&&R.searchParams.set("_routes",e.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[R.pathname+R.search]},[l,i,r,h,e,n,a]),v=F.useMemo(()=>HN(f,r),[f,r]),_=XN(f);return F.createElement(F.Fragment,null,p.map(b=>F.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>F.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),_.map(({key:b,link:T})=>F.createElement("link",{key:b,...T})))}function JN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jR&&(window.__reactRouterVersion="7.1.5")}catch{}function e2({basename:n,children:e,window:t}){let i=F.useRef();i.current==null&&(i.current=VO({window:t,v5Compat:!0}));let r=i.current,[a,l]=F.useState({action:r.action,location:r.location}),u=F.useCallback(h=>{F.startTransition(()=>l(h))},[l]);return F.useLayoutEffect(()=>r.listen(u),[r,u]),F.createElement(DN,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}var UR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=F.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:l,state:u,target:h,to:f,preventScrollReset:p,viewTransition:v,..._},b){let{basename:T}=F.useContext(Oi),R=typeof f=="string"&&UR.test(f),x,M=!1;if(typeof f=="string"&&R&&(x=f,jR))try{let I=new URL(window.location.href),O=f.startsWith("//")?new URL(I.protocol+f):new URL(f),j=aa(O.pathname,T);O.origin===I.origin&&j!=null?f=j+O.search+O.hash:M=!0}catch{bi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=cN(f,{relative:r}),[z,$,J]=QN(i,_),ne=r2(f,{replace:l,state:u,target:h,preventScrollReset:p,relative:r,viewTransition:v});function N(I){e&&e(I),I.defaultPrevented||ne(I)}let D=F.createElement("a",{..._,...J,href:x||V,onClick:M||a?e:N,ref:JN(b,$),target:h,"data-discover":!R&&t==="render"?"true":void 0});return z&&!R?F.createElement(F.Fragment,null,D,F.createElement(KN,{page:V})):D});yt.displayName="Link";var t2=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:l,viewTransition:u,children:h,...f},p){let v=Ah(l,{relative:f.relative}),_=Ni(),b=F.useContext(Zg),{navigator:T,basename:R}=F.useContext(Oi),x=b!=null&&c2(v)&&u===!0,M=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,V=_.pathname,z=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(V=V.toLowerCase(),z=z?z.toLowerCase():null,M=M.toLowerCase()),z&&R&&(z=aa(z,R)||z);const $=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let J=V===M||!r&&V.startsWith(M)&&V.charAt($)==="/",ne=z!=null&&(z===M||!r&&z.startsWith(M)&&z.charAt(M.length)==="/"),N={isActive:J,isPending:ne,isTransitioning:x},D=J?e:void 0,I;typeof i=="function"?I=i(N):I=[i,J?"active":null,ne?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(N):a;return F.createElement(yt,{...f,"aria-current":D,className:I,ref:p,style:O,to:l,viewTransition:u},typeof h=="function"?h(N):h)});t2.displayName="NavLink";var n2=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:l=jf,action:u,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:v,..._},b)=>{let T=o2(),R=l2(u,{relative:f}),x=l.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&UR.test(u),V=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let $=z.nativeEvent.submitter,J=($==null?void 0:$.getAttribute("formmethod"))||l;T($||z.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:r,state:a,relative:f,preventScrollReset:p,viewTransition:v})};return F.createElement("form",{ref:b,method:x,action:R,onSubmit:i?h:V,..._,"data-discover":!M&&n==="render"?"true":void 0})});n2.displayName="Form";function i2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zR(n){let e=F.useContext(ec);return ft(e,i2(n)),e}function r2(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:l}={}){let u=ma(),h=Ni(),f=Ah(n,{relative:a});return F.useCallback(p=>{if(PN(p,e)){p.preventDefault();let v=t!==void 0?t:ih(h)===ih(f);u(n,{replace:v,state:i,preventScrollReset:r,relative:a,viewTransition:l})}},[h,u,f,t,i,e,n,r,a,l])}var s2=0,a2=()=>`__${String(++s2)}__`;function o2(){let{router:n}=zR("useSubmit"),{basename:e}=F.useContext(Oi),t=wN();return F.useCallback(async(i,r={})=>{let{action:a,method:l,encType:u,formData:h,body:f}=jN(i,e);if(r.navigate===!1){let p=r.fetcherKey||a2();await n.fetch(p,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function l2(n,{relative:e}={}){let{basename:t}=F.useContext(Oi),i=F.useContext(Ei);ft(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...Ah(n||".",{relative:e})},l=Ni();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let p=u.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:$r([t,a.pathname])),ih(a)}function c2(n,e={}){let t=F.useContext(kR);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=zR("useViewTransitionState"),r=Ah(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=aa(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=aa(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ng(r.pathname,l)!=null||ng(r.pathname,a)!=null}new TextEncoder;var kv=xR(),BR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Mw=yi.createContext&&yi.createContext(BR),u2=["attr","size","title"];function h2(n,e){if(n==null)return{};var t=d2(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function d2(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function ig(){return ig=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ig.apply(this,arguments)}function Ow(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function rg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ow(Object(t),!0).forEach(function(i){f2(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ow(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function f2(n,e,t){return e=g2(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function g2(n){var e=p2(n,"string");return typeof e=="symbol"?e:e+""}function p2(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function HR(n){return n&&n.map((e,t)=>yi.createElement(e.tag,rg({key:t},e.attr),HR(e.child)))}function FR(n){return e=>yi.createElement(m2,ig({attr:rg({},n.attr)},e),HR(n.child))}function m2(n){var e=t=>{var{attr:i,size:r,title:a}=n,l=h2(n,u2),u=r||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),yi.createElement("svg",ig({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:h,style:rg(rg({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&yi.createElement("title",null,a),n.children)};return Mw!==void 0?yi.createElement(Mw.Consumer,null,t=>e(t)):e(BR)}function y2(n){return FR({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function v2(n){return FR({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}var Nw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},_2=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],l=n[t++],u=n[t++],h=((r&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return e.join("")},WR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],l=r+1<n.length,u=l?n[r+1]:0,h=r+2<n.length,f=h?n[r+2]:0,p=a>>2,v=(a&3)<<4|u>>4;let _=(u&15)<<2|f>>6,b=f&63;h||(b=64,l||(_=64)),i.push(t[p],t[v],t[_],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(qR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],u=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const v=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||u==null||f==null||v==null)throw new b2;const _=a<<2|u>>4;if(i.push(_),f!==64){const b=u<<4&240|f>>2;if(i.push(b),v!==64){const T=f<<6&192|v;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class b2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E2=function(n){const e=qR(n);return WR.encodeByteArray(e,!0)},sg=function(n){return E2(n).replace(/\./g,"")},GR=function(n){try{return WR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=()=>A2().__FIREBASE_DEFAULTS__,S2=()=>{if(typeof process>"u"||typeof Nw>"u")return;const n=Nw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},T2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&GR(n[1]);return e&&JSON.parse(e)},ep=()=>{try{return w2()||S2()||T2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$R=n=>{var e,t;return(t=(e=ep())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},x2=n=>{const e=$R(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},YR=()=>{var n;return(n=ep())===null||n===void 0?void 0:n.config},QR=n=>{var e;return(e=ep())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sg(JSON.stringify(t)),sg(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function I2(){var n;const e=(n=ep())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function M2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O2(){const n=En();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function N2(){return!I2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XR(){try{return typeof indexedDB=="object"}catch{return!1}}function ZR(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function P2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="FirebaseError";class Pi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=L2,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xo.prototype.create)}}class xo{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],l=a?V2(a,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new Pi(r,u,i)}}function V2(n,e){return n.replace(j2,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const j2=/\{\$([^}]+)}/g;function U2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function rh(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],l=e[r];if(Pw(a)&&Pw(l)){if(!rh(a,l))return!1}else if(a!==l)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function Pw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Du(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function Iu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function z2(n,e){const t=new B2(n,e);return t.subscribe.bind(t)}class B2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");H2(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=qy),r.error===void 0&&(r.error=qy),r.complete===void 0&&(r.complete=qy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function qy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=1e3,q2=2,W2=4*60*60*1e3,G2=.5;function Lw(n,e=F2,t=q2){const i=e*Math.pow(t,n),r=Math.round(G2*i*(Math.random()-.5)*2);return Math.min(W2,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n){return n&&n._delegate?n._delegate:n}class Di{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new R2;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q2(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Y2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y2(n){return n===io?void 0:n}function Q2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const X2={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},Z2=je.INFO,J2={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},eP=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=J2[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tp{constructor(e){this.name=e,this._logLevel=Z2,this._logHandler=eP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const tP=(n,e)=>e.some(t=>n instanceof t);let Vw,jw;function nP(){return Vw||(Vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iP(){return jw||(jw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JR=new WeakMap,Mv=new WeakMap,eC=new WeakMap,Wy=new WeakMap,O_=new WeakMap;function rP(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Js(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&JR.set(t,n)}).catch(()=>{}),O_.set(e,n),e}function sP(n){if(Mv.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Mv.set(n,e)}let Ov={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Mv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Js(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function aP(n){Ov=n(Ov)}function oP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Gy(this),e,...t);return eC.set(i,e.sort?e.sort():[e]),Js(i)}:iP().includes(n)?function(...e){return n.apply(Gy(this),e),Js(JR.get(this))}:function(...e){return Js(n.apply(Gy(this),e))}}function lP(n){return typeof n=="function"?oP(n):(n instanceof IDBTransaction&&sP(n),tP(n,nP())?new Proxy(n,Ov):n)}function Js(n){if(n instanceof IDBRequest)return rP(n);if(Wy.has(n))return Wy.get(n);const e=lP(n);return e!==n&&(Wy.set(n,e),O_.set(e,n)),e}const Gy=n=>O_.get(n);function tC(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const l=indexedDB.open(n,e),u=Js(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Js(l.result),h.oldVersion,h.newVersion,Js(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const cP=["get","getKey","getAll","getAllKeys","count"],uP=["put","add","delete","clear"],$y=new Map;function Uw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($y.get(e))return $y.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=uP.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||cP.includes(t)))return;const a=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),r&&h.done]))[0]};return $y.set(e,a),a}aP(n=>({...n,get:(e,t,i)=>Uw(e,t)||n.get(e,t,i),has:(e,t)=>!!Uw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dP(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function dP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nv="@firebase/app",zw="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new tp("@firebase/app"),fP="@firebase/app-compat",gP="@firebase/analytics-compat",pP="@firebase/analytics",mP="@firebase/app-check-compat",yP="@firebase/app-check",vP="@firebase/auth",_P="@firebase/auth-compat",bP="@firebase/database",EP="@firebase/data-connect",AP="@firebase/database-compat",wP="@firebase/functions",SP="@firebase/functions-compat",TP="@firebase/installations",xP="@firebase/installations-compat",RP="@firebase/messaging",CP="@firebase/messaging-compat",DP="@firebase/performance",IP="@firebase/performance-compat",kP="@firebase/remote-config",MP="@firebase/remote-config-compat",OP="@firebase/storage",NP="@firebase/storage-compat",PP="@firebase/firestore",LP="@firebase/vertexai",VP="@firebase/firestore-compat",jP="firebase",UP="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="[DEFAULT]",zP={[Nv]:"fire-core",[fP]:"fire-core-compat",[pP]:"fire-analytics",[gP]:"fire-analytics-compat",[yP]:"fire-app-check",[mP]:"fire-app-check-compat",[vP]:"fire-auth",[_P]:"fire-auth-compat",[bP]:"fire-rtdb",[EP]:"fire-data-connect",[AP]:"fire-rtdb-compat",[wP]:"fire-fn",[SP]:"fire-fn-compat",[TP]:"fire-iid",[xP]:"fire-iid-compat",[RP]:"fire-fcm",[CP]:"fire-fcm-compat",[DP]:"fire-perf",[IP]:"fire-perf-compat",[kP]:"fire-rc",[MP]:"fire-rc-compat",[OP]:"fire-gcs",[NP]:"fire-gcs-compat",[PP]:"fire-fst",[VP]:"fire-fst-compat",[LP]:"fire-vertex","fire-js":"fire-js",[jP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=new Map,BP=new Map,Lv=new Map;function Bw(n,e){try{n.container.addComponent(e)}catch(t){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function lr(n){const e=n.name;if(Lv.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;Lv.set(e,n);for(const t of ag.values())Bw(t,n);for(const t of BP.values())Bw(t,n);return!0}function Ro(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new xo("app","Firebase",HP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=UP;function nC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Pv,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ea.create("bad-app-name",{appName:String(r)});if(t||(t=YR()),!t)throw ea.create("no-options");const a=ag.get(r);if(a){if(rh(t,a.options)&&rh(i,a.config))return a;throw ea.create("duplicate-app",{appName:r})}const l=new K2(r);for(const h of Lv.values())l.addComponent(h);const u=new FP(t,i,l);return ag.set(r,u),u}function N_(n=Pv){const e=ag.get(n);if(!e&&n===Pv&&YR())return nC();if(!e)throw ea.create("no-app",{appName:n});return e}function vi(n,e,t){var i;let r=(i=zP[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(u.join(" "));return}lr(new Di(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="firebase-heartbeat-database",WP=1,sh="firebase-heartbeat-store";let Yy=null;function iC(){return Yy||(Yy=tC(qP,WP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sh)}catch(t){console.warn(t)}}}}).catch(n=>{throw ea.create("idb-open",{originalErrorMessage:n.message})})),Yy}async function GP(n){try{const t=(await iC()).transaction(sh),i=await t.objectStore(sh).get(rC(n));return await t.done,i}catch(e){if(e instanceof Pi)Qr.warn(e.message);else{const t=ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(t.message)}}}async function Hw(n,e){try{const i=(await iC()).transaction(sh,"readwrite");await i.objectStore(sh).put(e,rC(n)),await i.done}catch(t){if(t instanceof Pi)Qr.warn(t.message);else{const i=ea.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Qr.warn(i.message)}}}function rC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=1024,YP=30;class QP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new XP(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Fw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>YP){const l=ZP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Qr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Fw(),{heartbeatsToSend:i,unsentEntries:r}=KP(this._heartbeatsCache.heartbeats),a=sg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Qr.warn(t),""}}}function Fw(){return new Date().toISOString().substring(0,10)}function KP(n,e=$P){const t=[];let i=n.slice();for(const r of n){const a=t.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),qw(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),qw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class XP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XR()?ZR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await GP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return Hw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return Hw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function qw(n){return sg(JSON.stringify({version:2,heartbeats:n})).length}function ZP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(n){lr(new Di("platform-logger",e=>new hP(e),"PRIVATE")),lr(new Di("heartbeat",e=>new QP(e),"PRIVATE")),vi(Nv,zw,n),vi(Nv,zw,"esm2017"),vi("fire-js","")}JP("");function P_(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function sC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eL=sC,aC=new xo("auth","Firebase",sC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=new tp("@firebase/auth");function tL(n,...e){og.logLevel<=je.WARN&&og.warn(`Auth (${nc}): ${n}`,...e)}function zf(n,...e){og.logLevel<=je.ERROR&&og.error(`Auth (${nc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(n,...e){throw L_(n,...e)}function ir(n,...e){return L_(n,...e)}function oC(n,e,t){const i=Object.assign(Object.assign({},eL()),{[e]:t});return new xo("auth","Firebase",i).create(e,{appName:n.name})}function Yr(n){return oC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return aC.create(n,...e)}function Re(n,e,...t){if(!n)throw L_(e,...t)}function qr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zf(e),new Error(e)}function Kr(n,e){n||qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function nL(){return Ww()==="http:"||Ww()==="https:"}function Ww(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nL()||KR()||"connection"in navigator)?navigator.onLine:!0}function rL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kr(t>e,"Short delay should be less than long delay!"),this.isMobile=D2()||M2()}get(){return iL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(n,e){Kr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=new Sh(3e4,6e4);function is(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function hr(n,e,t,i,r={}){return cC(n,r,async()=>{let a={},l={};i&&(e==="GET"?l=i:a={body:JSON.stringify(i)});const u=wh(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},a);return k2()||(f.referrerPolicy="no-referrer"),lC.fetch()(uC(n,n.config.apiHost,t,u),f)})}async function cC(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},sL),e);try{const r=new lL(n),a=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw lf(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw lf(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw lf(n,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw oC(n,p,f);Ii(n,p)}}catch(r){if(r instanceof Pi)throw r;Ii(n,"network-request-failed",{message:String(r)})}}async function Th(n,e,t,i,r={}){const a=await hr(n,e,t,i,r);return"mfaPendingCredential"in a&&Ii(n,"multi-factor-auth-required",{_serverResponse:a}),a}function uC(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?V_(n.config,r):`${n.config.apiScheme}://${r}`}function oL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ir(this.auth,"network-request-failed")),aL.get())})}}function lf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=ir(n,e,i);return r.customData._tokenResponse=t,r}function Gw(n){return n!==void 0&&n.enterprise!==void 0}class cL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return oL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uL(n,e){return hr(n,"GET","/v2/recaptchaConfig",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(n,e){return hr(n,"POST","/v1/accounts:delete",e)}async function hC(n,e){return hr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dL(n,e=!1){const t=Tt(n),i=await t.getIdToken(e),r=j_(i);Re(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:Bu(Qy(r.auth_time)),issuedAtTime:Bu(Qy(r.iat)),expirationTime:Bu(Qy(r.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Qy(n){return Number(n)*1e3}function j_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return zf("JWT malformed, contained fewer than 3 sections"),null;try{const r=GR(t);return r?JSON.parse(r):(zf("Failed to decode base64 JWT payload"),null)}catch(r){return zf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function $w(n){const e=j_(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Pi&&fL(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function fL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lg(n){var e;const t=n.auth,i=await n.getIdToken(),r=await Hl(n,hC(t,{idToken:i}));Re(r==null?void 0:r.users.length,t,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?dC(a.providerUserInfo):[],u=mL(n.providerData,l),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),p=h?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new jv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function pL(n){const e=Tt(n);await lg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mL(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function dC(n){return n.map(e=>{var{providerId:t}=e,i=P_(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(n,e){const t=await cC(n,{},async()=>{const i=wh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,l=uC(n,r,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",lC.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vL(n,e){return hr(n,"POST","/v2/accounts:revokeToken",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$w(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=$w(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:a}=await yL(e,t);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:a}=t,l=new Pl;return i&&(Re(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(Re(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),a&&(Re(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Wr{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,a=P_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new jv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Hl(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dL(this,e)}reload(){return pL(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await lg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(Yr(this.auth));const e=await this.getIdToken();return await Hl(this,hL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,a,l,u,h,f,p;const v=(i=t.displayName)!==null&&i!==void 0?i:void 0,_=(r=t.email)!==null&&r!==void 0?r:void 0,b=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,T=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,x=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,M=(f=t.createdAt)!==null&&f!==void 0?f:void 0,V=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:z,emailVerified:$,isAnonymous:J,providerData:ne,stsTokenManager:N}=t;Re(z&&N,e,"internal-error");const D=Pl.fromJSON(this.name,N);Re(typeof z=="string",e,"internal-error"),Hs(v,e.name),Hs(_,e.name),Re(typeof $=="boolean",e,"internal-error"),Re(typeof J=="boolean",e,"internal-error"),Hs(b,e.name),Hs(T,e.name),Hs(R,e.name),Hs(x,e.name),Hs(M,e.name),Hs(V,e.name);const I=new Wr({uid:z,auth:e,email:_,emailVerified:$,displayName:v,isAnonymous:J,photoURL:T,phoneNumber:b,tenantId:R,stsTokenManager:D,createdAt:M,lastLoginAt:V});return ne&&Array.isArray(ne)&&(I.providerData=ne.map(O=>Object.assign({},O))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,t,i=!1){const r=new Pl;r.updateFromServerResponse(t);const a=new Wr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await lg(a),a}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Re(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?dC(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),u=new Pl;u.updateFromIdToken(i);const h=new Wr({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new jv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Map;function Gr(n){Kr(n instanceof Function,"Expected a class definition");let e=Yw.get(n);return e?(Kr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Yw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fC.type="NONE";const Qw=fC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ll{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Bf(this.userKey,r.apiKey,a),this.fullPersistenceKey=Bf("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ll(Gr(Qw),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=r[0]||Gr(Qw);const l=Bf(i,e.config.apiKey,e.name);let u=null;for(const f of t)try{const p=await f._get(l);if(p){const v=Wr._fromJSON(e,p);f!==a&&(u=v),a=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ll(a,e,i):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Ll(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_C(e))return"Blackberry";if(bC(e))return"Webos";if(pC(e))return"Safari";if((e.includes("chrome/")||mC(e))&&!e.includes("edge/"))return"Chrome";if(vC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function gC(n=En()){return/firefox\//i.test(n)}function pC(n=En()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mC(n=En()){return/crios\//i.test(n)}function yC(n=En()){return/iemobile/i.test(n)}function vC(n=En()){return/android/i.test(n)}function _C(n=En()){return/blackberry/i.test(n)}function bC(n=En()){return/webos/i.test(n)}function U_(n=En()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _L(n=En()){var e;return U_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bL(){return O2()&&document.documentMode===10}function EC(n=En()){return U_(n)||vC(n)||bC(n)||_C(n)||/windows phone/i.test(n)||yC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n,e=[]){let t;switch(n){case"Browser":t=Kw(En());break;case"Worker":t=`${Kw(En())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${nc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(n,e={}){return hr(n,"GET","/v2/passwordPolicy",is(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=6;class SL{constructor(e){var t,i,r,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:wL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,a,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xw(this),this.idTokenSubscription=new Xw(this),this.beforeStateQueue=new EL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gr(t)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hC(this,{idToken:e}),i=await Wr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(Yr(this));const t=e?Tt(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AL(this),t=new SL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xo("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await vL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gr(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[Gr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&tL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Co(n){return Tt(n)}class Xw{constructor(e){this.auth=e,this.observer=null,this.addObserver=z2(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xL(n){np=n}function wC(n){return np.loadJS(n)}function RL(){return np.recaptchaEnterpriseScript}function CL(){return np.gapiScript}function DL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class IL{constructor(){this.enterprise=new kL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class kL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ML="recaptcha-enterprise",SC="NO_RECAPTCHA";class OL{constructor(e){this.type=ML,this.auth=Co(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{uL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new cL(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function r(a,l,u){const h=window.grecaptcha;Gw(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(SC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IL().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(u=>{if(!t&&Gw(window.grecaptcha))r(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=RL();h.length!==0&&(h+=u),wC(h).then(()=>{r(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function Zw(n,e,t,i=!1,r=!1){const a=new OL(n);let l;if(r)l=SC;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Uv(n,e,t,i,r){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Zw(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Zw(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(n,e){const t=Ro(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),a=t.getOptions();if(rh(a,e??{}))return r;Ii(r,"already-initialized")}return t.initialize({options:e})}function PL(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Gr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function LL(n,e,t){const i=Co(n);Re(i._canInitEmulator,i,"emulator-config-failed"),Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=TC(e),{host:l,port:u}=VL(e),h=u===null?"":`:${u}`;i.config.emulator={url:`${a}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})}),jL()}function TC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function VL(n){const e=TC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:Jw(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:Jw(l)}}}function Jw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function jL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,t){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}async function UL(n,e){return hr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(n,e){return Th(n,"POST","/v1/accounts:signInWithPassword",is(n,e))}async function BL(n,e){return hr(n,"POST","/v1/accounts:sendOobCode",is(n,e))}async function HL(n,e){return BL(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(n,e){return Th(n,"POST","/v1/accounts:signInWithEmailLink",is(n,e))}async function qL(n,e){return Th(n,"POST","/v1/accounts:signInWithEmailLink",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends z_{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ah(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new ah(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uv(e,t,"signInWithPassword",zL);case"emailLink":return FL(e,{email:this._email,oobCode:this._password});default:Ii(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uv(e,i,"signUpPassword",UL);case"emailLink":return qL(e,{idToken:t,email:this._email,oobCode:this._password});default:Ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(n,e){return Th(n,"POST","/v1/accounts:signInWithIdp",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="http://localhost";class po extends z_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ii("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,a=P_(t,["providerId","signInMethod"]);if(!i||!r)return null;const l=new po(i,r);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Vl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Vl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vl(e,t)}buildRequest(){const e={requestUri:WL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $L(n){const e=Du(Iu(n)).link,t=e?Du(Iu(e)).deep_link_id:null,i=Du(Iu(n)).deep_link_id;return(i?Du(Iu(i)).link:null)||i||t||e||n}class B_{constructor(e){var t,i,r,a,l,u;const h=Du(Iu(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,p=(i=h.oobCode)!==null&&i!==void 0?i:null,v=GL((r=h.mode)!==null&&r!==void 0?r:null);Re(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=$L(e);try{return new B_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this.providerId=ic.PROVIDER_ID}static credential(e,t){return ah._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=B_.parseLink(t);return Re(i,"argument-error"),ah._fromEmailAndCode(e,i.code,i.tenantId)}}ic.PROVIDER_ID="password";ic.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ic.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends xC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends xh{constructor(){super("facebook.com")}static credential(e){return po._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends xh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return po._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Fr.credential(t,i)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends xh{constructor(){super("github.com")}static credential(e){return po._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends xh{constructor(){super("twitter.com")}static credential(e,t){return po._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Gs.credential(t,i)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(n,e){return Th(n,"POST","/v1/accounts:signUp",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const a=await Wr._fromIdTokenResponse(e,i,r),l=eS(i);return new mo({user:a,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=eS(i);return new mo({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function eS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends Pi{constructor(e,t,i,r){var a;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,cg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new cg(e,t,i,r)}}function RC(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?cg._fromErrorAndOperation(n,a,e,i):a})}async function QL(n,e,t=!1){const i=await Hl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return mo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(n,e,t=!1){const{auth:i}=n;if(pi(i.app))return Promise.reject(Yr(i));const r="reauthenticate";try{const a=await Hl(n,RC(i,r,e,n),t);Re(a.idToken,i,"internal-error");const l=j_(a.idToken);Re(l,i,"internal-error");const{sub:u}=l;return Re(n.uid===u,i,"user-mismatch"),mo._forOperation(n,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ii(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(n,e,t=!1){if(pi(n.app))return Promise.reject(Yr(n));const i="signIn",r=await RC(n,i,e),a=await mo._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(a.user),a}async function XL(n,e){return CC(Co(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(n){const e=Co(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZL(n,e,t){if(pi(n.app))return Promise.reject(Yr(n));const i=Co(n),l=await Uv(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YL).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&DC(n),h}),u=await mo._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function JL(n,e,t){return pi(n.app)?Promise.reject(Yr(n)):XL(Tt(n),ic.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&DC(n),i})}async function eV(n,e){const t=Tt(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await HL(t.auth,r);a!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(n,e){return hr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Tt(n),a={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Hl(i,tV(i.auth,a));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const u=i.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function iV(n,e,t,i){return Tt(n).onIdTokenChanged(e,t,i)}function rV(n,e,t){return Tt(n).beforeAuthStateChanged(e,t)}function IC(n,e,t,i){return Tt(n).onAuthStateChanged(e,t,i)}function sV(n){return Tt(n).signOut()}const ug="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ug,"1"),this.storage.removeItem(ug),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=1e3,oV=10;class MC extends kC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);bL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,oV):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},aV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}MC.type="LOCAL";const lV=MC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC extends kC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}OC.type="SESSION";const NC=OC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new ip(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:a}=t.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(t.origin,a)),h=await cV(u);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ip.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const f=H_("",20);r.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(_.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return window}function hV(n){rr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){return typeof rr().WorkerGlobalScope<"u"&&typeof rr().importScripts=="function"}async function dV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function gV(){return PC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="firebaseLocalStorageDb",pV=1,hg="firebaseLocalStorage",VC="fbase_key";class Rh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rp(n,e){return n.transaction([hg],e?"readwrite":"readonly").objectStore(hg)}function mV(){const n=indexedDB.deleteDatabase(LC);return new Rh(n).toPromise()}function zv(){const n=indexedDB.open(LC,pV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(hg,{keyPath:VC})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(hg)?e(i):(i.close(),await mV(),e(await zv()))})})}async function tS(n,e,t){const i=rp(n,!0).put({[VC]:e,value:t});return new Rh(i).toPromise()}async function yV(n,e){const t=rp(n,!1).get(e),i=await new Rh(t).toPromise();return i===void 0?null:i.value}function nS(n,e){const t=rp(n,!0).delete(e);return new Rh(t).toPromise()}const vV=800,_V=3;class jC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>_V)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ip._getInstance(gV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await dV(),!this.activeServiceWorker)return;this.sender=new uV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zv();return await tS(e,ug,"1"),await nS(e,ug),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>tS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>yV(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>nS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=rp(r,!1).getAll();return new Rh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jC.type="LOCAL";const bV=jC;new Sh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(n,e){return e?Gr(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_ extends z_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function AV(n){return CC(n.auth,new F_(n),n.bypassAuthState)}function wV(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),KL(t,new F_(n),n.bypassAuthState)}async function SV(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),QL(t,new F_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,t,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AV;case"linkViaPopup":case"linkViaRedirect":return SV;case"reauthViaPopup":case"reauthViaRedirect":return wV;default:Ii(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new Sh(2e3,1e4);class Ol extends UC{constructor(e,t,i,r,a){super(e,t,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Ol.currentPopupAction&&Ol.currentPopupAction.cancel(),Ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=H_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TV.get())};e()}}Ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="pendingRedirect",Hf=new Map;class RV extends UC{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Hf.get(this.auth._key());if(!e){try{const i=await CV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Hf.set(this.auth._key(),e)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CV(n,e){const t=kV(e),i=IV(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function DV(n,e){Hf.set(n._key(),e)}function IV(n){return Gr(n._redirectPersistence)}function kV(n){return Bf(xV,n.config.apiKey,n.name)}async function MV(n,e,t=!1){if(pi(n.app))return Promise.reject(Yr(n));const i=Co(n),r=EV(i,e),l=await new RV(i,r,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=10*60*1e3;class NV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!zC(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ir(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OV&&this.cachedEventUids.clear(),this.cachedEventUids.has(iS(e))}saveEventToCache(e){this.cachedEventUids.add(iS(e)),this.lastProcessedEventTime=Date.now()}}function iS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(n,e={}){return hr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jV=/^https?/;async function UV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await LV(n);for(const t of e)try{if(zV(t))return}catch{}Ii(n,"unauthorized-domain")}function zV(n){const e=Vv(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!jV.test(t))return!1;if(VV.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new Sh(3e4,6e4);function rS(){const n=rr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function HV(n){return new Promise((e,t)=>{var i,r,a;function l(){rS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rS(),t(ir(n,"network-request-failed"))},timeout:BV.get()})}if(!((r=(i=rr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((a=rr().gapi)===null||a===void 0)&&a.load)l();else{const u=DL("iframefcb");return rr()[u]=()=>{gapi.load?l():t(ir(n,"network-request-failed"))},wC(`${CL()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw Ff=null,e})}let Ff=null;function FV(n){return Ff=Ff||HV(n),Ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new Sh(5e3,15e3),WV="__/auth/iframe",GV="emulator/auth/iframe",$V={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QV(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?V_(e,GV):`https://${n.config.authDomain}/${WV}`,i={apiKey:e.apiKey,appName:n.name,v:nc},r=YV.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${wh(i).slice(1)}`}async function KV(n){const e=await FV(n),t=rr().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:QV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$V,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const l=ir(n,"network-request-failed"),u=rr().setTimeout(()=>{a(l)},qV.get());function h(){rr().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZV=500,JV=600,ej="_blank",tj="http://localhost";class sS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nj(n,e,t,i=ZV,r=JV){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},XV),{width:i.toString(),height:r.toString(),top:a,left:l}),f=En().toLowerCase();t&&(u=mC(f)?ej:t),gC(f)&&(e=e||tj,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[b,T])=>`${_}${b}=${T},`,"");if(_L(f)&&u!=="_self")return ij(e||"",u),new sS(null);const v=window.open(e||"",u,p);Re(v,n,"popup-blocked");try{v.focus()}catch{}return new sS(v)}function ij(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="__/auth/handler",sj="emulator/auth/handler",aj=encodeURIComponent("fac");async function aS(n,e,t,i,r,a){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:nc,eventId:r};if(e instanceof xC){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",U2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))l[p]=v}if(e instanceof xh){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const h=await n._getAppCheckToken(),f=h?`#${aj}=${encodeURIComponent(h)}`:"";return`${oj(n)}?${wh(u).slice(1)}${f}`}function oj({config:n}){return n.emulator?V_(n,sj):`https://${n.authDomain}/${rj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="webStorageSupport";class lj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NC,this._completeRedirectFn=MV,this._overrideRedirectResult=DV}async _openPopup(e,t,i,r){var a;Kr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await aS(e,t,i,Vv(),r);return nj(e,l,H_())}async _openRedirect(e,t,i,r){await this._originValidation(e);const a=await aS(e,t,i,Vv(),r);return hV(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:a}=this.eventManagers[t];return r?Promise.resolve(r):(Kr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await KV(e),i=new NV(e);return t.register("authEvent",r=>(Re(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ky,{type:Ky},r=>{var a;const l=(a=r==null?void 0:r[0])===null||a===void 0?void 0:a[Ky];l!==void 0&&t(!!l),Ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=UV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return EC()||pC()||U_()}}const cj=lj;var oS="@firebase/auth",lS="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dj(n){lr(new Di("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Re(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AC(n)},f=new TL(i,r,a,h);return PL(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),lr(new Di("auth-internal",e=>{const t=Co(e.getProvider("auth").getImmediate());return(i=>new uj(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(oS,lS,hj(n)),vi(oS,lS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=5*60,gj=QR("authIdTokenMaxAge")||fj;let cS=null;const pj=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>gj)return;const r=t==null?void 0:t.token;cS!==r&&(cS=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function mj(n=N_()){const e=Ro(n,"auth");if(e.isInitialized())return e.getImmediate();const t=NL(n,{popupRedirectResolver:cj,persistence:[bV,lV,NC]}),i=QR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=pj(a.toString());rV(t,l,()=>l(t.currentUser)),iV(t,u=>l(u))}}const r=$R("auth");return r&&LL(t,`http://${r}`),t}function yj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}xL({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const a=ir("internal-error");a.customData=r,t(a)},i.type="text/javascript",i.charset="UTF-8",yj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dj("Browser");var vj="firebase",_j="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(vj,_j,"app");const BC="@firebase/installations",q_="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=1e4,FC=`w:${q_}`,qC="FIS_v2",bj="https://firebaseinstallations.googleapis.com/v1",Ej=60*60*1e3,Aj="installations",wj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},yo=new xo(Aj,wj,Sj);function WC(n){return n instanceof Pi&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC({projectId:n}){return`${bj}/projects/${n}/installations`}function $C(n){return{token:n.token,requestStatus:2,expiresIn:xj(n.expiresIn),creationTime:Date.now()}}async function YC(n,e){const i=(await e.json()).error;return yo.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function QC({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Tj(n,{refreshToken:e}){const t=QC(n);return t.append("Authorization",Rj(e)),t}async function KC(n){const e=await n();return e.status>=500&&e.status<600?n():e}function xj(n){return Number(n.replace("s","000"))}function Rj(n){return`${qC} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=GC(n),r=QC(n),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={fid:t,authVersion:qC,appId:n.appId,sdkVersion:FC},u={method:"POST",headers:r,body:JSON.stringify(l)},h=await KC(()=>fetch(i,u));if(h.ok){const f=await h.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:$C(f.authToken)}}else throw await YC("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=/^[cdef][\w-]{21}$/,Bv="";function kj(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Mj(n);return Ij.test(t)?t:Bv}catch{return Bv}}function Mj(n){return Dj(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new Map;function JC(n,e){const t=sp(n);eD(t,e),Oj(t,e)}function eD(n,e){const t=ZC.get(n);if(t)for(const i of t)i(e)}function Oj(n,e){const t=Nj();t&&t.postMessage({key:n,fid:e}),Pj()}let lo=null;function Nj(){return!lo&&"BroadcastChannel"in self&&(lo=new BroadcastChannel("[Firebase] FID Change"),lo.onmessage=n=>{eD(n.data.key,n.data.fid)}),lo}function Pj(){ZC.size===0&&lo&&(lo.close(),lo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="firebase-installations-database",Vj=1,vo="firebase-installations-store";let Xy=null;function W_(){return Xy||(Xy=tC(Lj,Vj,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(vo)}}})),Xy}async function dg(n,e){const t=sp(n),r=(await W_()).transaction(vo,"readwrite"),a=r.objectStore(vo),l=await a.get(t);return await a.put(e,t),await r.done,(!l||l.fid!==e.fid)&&JC(n,e.fid),e}async function tD(n){const e=sp(n),i=(await W_()).transaction(vo,"readwrite");await i.objectStore(vo).delete(e),await i.done}async function ap(n,e){const t=sp(n),r=(await W_()).transaction(vo,"readwrite"),a=r.objectStore(vo),l=await a.get(t),u=e(l);return u===void 0?await a.delete(t):await a.put(u,t),await r.done,u&&(!l||l.fid!==u.fid)&&JC(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G_(n){let e;const t=await ap(n.appConfig,i=>{const r=jj(i),a=Uj(n,r);return e=a.registrationPromise,a.installationEntry});return t.fid===Bv?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function jj(n){const e=n||{fid:kj(),registrationStatus:0};return nD(e)}function Uj(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(yo.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=zj(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Bj(n)}:{installationEntry:e}}async function zj(n,e){try{const t=await Cj(n,e);return dg(n.appConfig,t)}catch(t){throw WC(t)&&t.customData.serverCode===409?await tD(n.appConfig):await dg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Bj(n){let e=await uS(n.appConfig);for(;e.registrationStatus===1;)await XC(100),e=await uS(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await G_(n);return i||t}return e}function uS(n){return ap(n,e=>{if(!e)throw yo.create("installation-not-found");return nD(e)})}function nD(n){return Hj(n)?{fid:n.fid,registrationStatus:0}:n}function Hj(n){return n.registrationStatus===1&&n.registrationTime+HC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj({appConfig:n,heartbeatServiceProvider:e},t){const i=qj(n,t),r=Tj(n,t),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={installation:{sdkVersion:FC,appId:n.appId}},u={method:"POST",headers:r,body:JSON.stringify(l)},h=await KC(()=>fetch(i,u));if(h.ok){const f=await h.json();return $C(f)}else throw await YC("Generate Auth Token",h)}function qj(n,{fid:e}){return`${GC(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $_(n,e=!1){let t;const i=await ap(n.appConfig,a=>{if(!iD(a))throw yo.create("not-registered");const l=a.authToken;if(!e&&$j(l))return a;if(l.requestStatus===1)return t=Wj(n,e),a;{if(!navigator.onLine)throw yo.create("app-offline");const u=Qj(a);return t=Gj(n,u),u}});return t?await t:i.authToken}async function Wj(n,e){let t=await hS(n.appConfig);for(;t.authToken.requestStatus===1;)await XC(100),t=await hS(n.appConfig);const i=t.authToken;return i.requestStatus===0?$_(n,e):i}function hS(n){return ap(n,e=>{if(!iD(e))throw yo.create("not-registered");const t=e.authToken;return Kj(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Gj(n,e){try{const t=await Fj(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await dg(n.appConfig,i),t}catch(t){if(WC(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await tD(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await dg(n.appConfig,i)}throw t}}function iD(n){return n!==void 0&&n.registrationStatus===2}function $j(n){return n.requestStatus===2&&!Yj(n)}function Yj(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Ej}function Qj(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Kj(n){return n.requestStatus===1&&n.requestTime+HC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(n){const e=n,{installationEntry:t,registrationPromise:i}=await G_(e);return i?i.catch(console.error):$_(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(n,e=!1){const t=n;return await Jj(t),(await $_(t,e)).token}async function Jj(n){const{registrationPromise:e}=await G_(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(n){if(!n||!n.options)throw Zy("App Configuration");if(!n.name)throw Zy("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Zy(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Zy(n){return yo.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="installations",tU="installations-internal",nU=n=>{const e=n.getProvider("app").getImmediate(),t=eU(e),i=Ro(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},iU=n=>{const e=n.getProvider("app").getImmediate(),t=Ro(e,rD).getImmediate();return{getId:()=>Xj(t),getToken:r=>Zj(t,r)}};function rU(){lr(new Di(rD,nU,"PUBLIC")),lr(new Di(tU,iU,"PRIVATE"))}rU();vi(BC,q_);vi(BC,q_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="analytics",sU="firebase_id",aU="origin",oU=60*1e3,lU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Y_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new tp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Qn=new xo("analytics","Analytics",cU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(n){if(!n.startsWith(Y_)){const e=Qn.create("invalid-gtag-resource",{gtagURL:n});return jn.warn(e.message),""}return n}function sD(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function hU(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function dU(n,e){const t=hU("firebase-js-sdk-policy",{createScriptURL:uU}),i=document.createElement("script"),r=`${Y_}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function fU(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function gU(n,e,t,i,r,a){const l=i[r];try{if(l)await e[l];else{const h=(await sD(t)).find(f=>f.measurementId===r);h&&await e[h.appId]}}catch(u){jn.error(u)}n("config",r,a)}async function pU(n,e,t,i,r){try{let a=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const u=await sD(t);for(const h of l){const f=u.find(v=>v.measurementId===h),p=f&&e[f.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,r||{})}catch(a){jn.error(a)}}function mU(n,e,t,i){async function r(a,...l){try{if(a==="event"){const[u,h]=l;await pU(n,e,t,u,h)}else if(a==="config"){const[u,h]=l;await gU(n,e,t,i,u,h)}else if(a==="consent"){const[u,h]=l;n("consent",u,h)}else if(a==="get"){const[u,h,f]=l;n("get",u,h,f)}else if(a==="set"){const[u]=l;n("set",u)}else n(a,...l)}catch(u){jn.error(u)}}return r}function yU(n,e,t,i,r){let a=function(...l){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(a=window[r]),window[r]=mU(a,n,e,t),{gtagCore:a,wrappedGtag:window[r]}}function vU(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Y_)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=30,bU=1e3;class EU{constructor(e={},t=bU){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const aD=new EU;function AU(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function wU(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:AU(i)},a=lU.replace("{app-id}",t),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(u=h.error.message)}catch{}throw Qn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function SU(n,e=aD,t){const{appId:i,apiKey:r,measurementId:a}=n.options;if(!i)throw Qn.create("no-app-id");if(!r){if(a)return{measurementId:a,appId:i};throw Qn.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new RU;return setTimeout(async()=>{u.abort()},oU),oD({appId:i,apiKey:r,measurementId:a},l,u,e)}async function oD(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=aD){var a;const{appId:l,measurementId:u}=n;try{await TU(i,e)}catch(h){if(u)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:u};throw h}try{const h=await wU(n);return r.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!xU(f)){if(r.deleteThrottleMetadata(l),u)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:u};throw h}const p=Number((a=f==null?void 0:f.customData)===null||a===void 0?void 0:a.httpStatus)===503?Lw(t,r.intervalMillis,_U):Lw(t,r.intervalMillis),v={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return r.setThrottleMetadata(l,v),jn.debug(`Calling attemptFetch again in ${p} millis`),oD(n,v,i,r)}}function TU(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),a=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(a),i(Qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xU(n){if(!(n instanceof Pi)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class RU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function CU(n,e,t,i,r){if(r&&r.global){n("event",t,i);return}else{const a=await e,l=Object.assign(Object.assign({},i),{send_to:a});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(){if(XR())try{await ZR()}catch(n){return jn.warn(Qn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return jn.warn(Qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function IU(n,e,t,i,r,a,l){var u;const h=SU(n);h.then(b=>{t[b.measurementId]=b.appId,n.options.measurementId&&b.measurementId!==n.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>jn.error(b)),e.push(h);const f=DU().then(b=>{if(b)return i.getId()}),[p,v]=await Promise.all([h,f]);vU(a)||dU(a,p.measurementId),r("js",new Date);const _=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return _[aU]="firebase",_.update=!0,v!=null&&(_[sU]=v),r("config",p.measurementId,_),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.app=e}_delete(){return delete Hu[this.app.options.appId],Promise.resolve()}}let Hu={},dS=[];const fS={};let Jy="dataLayer",MU="gtag",gS,lD,pS=!1;function OU(){const n=[];if(KR()&&n.push("This is a browser extension environment."),P2()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=Qn.create("invalid-analytics-context",{errorInfo:e});jn.warn(t.message)}}function NU(n,e,t){OU();const i=n.options.appId;if(!i)throw Qn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Qn.create("no-api-key");if(Hu[i]!=null)throw Qn.create("already-exists",{id:i});if(!pS){fU(Jy);const{wrappedGtag:a,gtagCore:l}=yU(Hu,dS,fS,Jy,MU);lD=a,gS=l,pS=!0}return Hu[i]=IU(n,dS,fS,e,gS,Jy,t),new kU(n)}function PU(n=N_()){n=Tt(n);const e=Ro(n,fg);return e.isInitialized()?e.getImmediate():LU(n)}function LU(n,e={}){const t=Ro(n,fg);if(t.isInitialized()){const r=t.getImmediate();if(rh(e,t.getOptions()))return r;throw Qn.create("already-initialized")}return t.initialize({options:e})}function VU(n,e,t,i){n=Tt(n),CU(lD,Hu[n.app.options.appId],e,t,i).catch(r=>jn.error(r))}const mS="@firebase/analytics",yS="0.10.11";function jU(){lr(new Di(fg,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return NU(i,r,t)},"PUBLIC")),lr(new Di("analytics-internal",n,"PRIVATE")),vi(mS,yS),vi(mS,yS,"esm2017");function n(e){try{const t=e.getProvider(fg).getImmediate();return{logEvent:(i,r,a)=>VU(t,i,r,a)}}catch(t){throw Qn.create("interop-component-reg-failed",{reason:t})}}}jU();var vS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ta,cD;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,D){function I(){}I.prototype=D.prototype,N.D=D.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(O,j,B){for(var P=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)P[Oe-2]=arguments[Oe];return D.prototype[j].apply(O,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(N,D,I){I||(I=0);var O=Array(16);if(typeof D=="string")for(var j=0;16>j;++j)O[j]=D.charCodeAt(I++)|D.charCodeAt(I++)<<8|D.charCodeAt(I++)<<16|D.charCodeAt(I++)<<24;else for(j=0;16>j;++j)O[j]=D[I++]|D[I++]<<8|D[I++]<<16|D[I++]<<24;D=N.g[0],I=N.g[1],j=N.g[2];var B=N.g[3],P=D+(B^I&(j^B))+O[0]+3614090360&4294967295;D=I+(P<<7&4294967295|P>>>25),P=B+(j^D&(I^j))+O[1]+3905402710&4294967295,B=D+(P<<12&4294967295|P>>>20),P=j+(I^B&(D^I))+O[2]+606105819&4294967295,j=B+(P<<17&4294967295|P>>>15),P=I+(D^j&(B^D))+O[3]+3250441966&4294967295,I=j+(P<<22&4294967295|P>>>10),P=D+(B^I&(j^B))+O[4]+4118548399&4294967295,D=I+(P<<7&4294967295|P>>>25),P=B+(j^D&(I^j))+O[5]+1200080426&4294967295,B=D+(P<<12&4294967295|P>>>20),P=j+(I^B&(D^I))+O[6]+2821735955&4294967295,j=B+(P<<17&4294967295|P>>>15),P=I+(D^j&(B^D))+O[7]+4249261313&4294967295,I=j+(P<<22&4294967295|P>>>10),P=D+(B^I&(j^B))+O[8]+1770035416&4294967295,D=I+(P<<7&4294967295|P>>>25),P=B+(j^D&(I^j))+O[9]+2336552879&4294967295,B=D+(P<<12&4294967295|P>>>20),P=j+(I^B&(D^I))+O[10]+4294925233&4294967295,j=B+(P<<17&4294967295|P>>>15),P=I+(D^j&(B^D))+O[11]+2304563134&4294967295,I=j+(P<<22&4294967295|P>>>10),P=D+(B^I&(j^B))+O[12]+1804603682&4294967295,D=I+(P<<7&4294967295|P>>>25),P=B+(j^D&(I^j))+O[13]+4254626195&4294967295,B=D+(P<<12&4294967295|P>>>20),P=j+(I^B&(D^I))+O[14]+2792965006&4294967295,j=B+(P<<17&4294967295|P>>>15),P=I+(D^j&(B^D))+O[15]+1236535329&4294967295,I=j+(P<<22&4294967295|P>>>10),P=D+(j^B&(I^j))+O[1]+4129170786&4294967295,D=I+(P<<5&4294967295|P>>>27),P=B+(I^j&(D^I))+O[6]+3225465664&4294967295,B=D+(P<<9&4294967295|P>>>23),P=j+(D^I&(B^D))+O[11]+643717713&4294967295,j=B+(P<<14&4294967295|P>>>18),P=I+(B^D&(j^B))+O[0]+3921069994&4294967295,I=j+(P<<20&4294967295|P>>>12),P=D+(j^B&(I^j))+O[5]+3593408605&4294967295,D=I+(P<<5&4294967295|P>>>27),P=B+(I^j&(D^I))+O[10]+38016083&4294967295,B=D+(P<<9&4294967295|P>>>23),P=j+(D^I&(B^D))+O[15]+3634488961&4294967295,j=B+(P<<14&4294967295|P>>>18),P=I+(B^D&(j^B))+O[4]+3889429448&4294967295,I=j+(P<<20&4294967295|P>>>12),P=D+(j^B&(I^j))+O[9]+568446438&4294967295,D=I+(P<<5&4294967295|P>>>27),P=B+(I^j&(D^I))+O[14]+3275163606&4294967295,B=D+(P<<9&4294967295|P>>>23),P=j+(D^I&(B^D))+O[3]+4107603335&4294967295,j=B+(P<<14&4294967295|P>>>18),P=I+(B^D&(j^B))+O[8]+1163531501&4294967295,I=j+(P<<20&4294967295|P>>>12),P=D+(j^B&(I^j))+O[13]+2850285829&4294967295,D=I+(P<<5&4294967295|P>>>27),P=B+(I^j&(D^I))+O[2]+4243563512&4294967295,B=D+(P<<9&4294967295|P>>>23),P=j+(D^I&(B^D))+O[7]+1735328473&4294967295,j=B+(P<<14&4294967295|P>>>18),P=I+(B^D&(j^B))+O[12]+2368359562&4294967295,I=j+(P<<20&4294967295|P>>>12),P=D+(I^j^B)+O[5]+4294588738&4294967295,D=I+(P<<4&4294967295|P>>>28),P=B+(D^I^j)+O[8]+2272392833&4294967295,B=D+(P<<11&4294967295|P>>>21),P=j+(B^D^I)+O[11]+1839030562&4294967295,j=B+(P<<16&4294967295|P>>>16),P=I+(j^B^D)+O[14]+4259657740&4294967295,I=j+(P<<23&4294967295|P>>>9),P=D+(I^j^B)+O[1]+2763975236&4294967295,D=I+(P<<4&4294967295|P>>>28),P=B+(D^I^j)+O[4]+1272893353&4294967295,B=D+(P<<11&4294967295|P>>>21),P=j+(B^D^I)+O[7]+4139469664&4294967295,j=B+(P<<16&4294967295|P>>>16),P=I+(j^B^D)+O[10]+3200236656&4294967295,I=j+(P<<23&4294967295|P>>>9),P=D+(I^j^B)+O[13]+681279174&4294967295,D=I+(P<<4&4294967295|P>>>28),P=B+(D^I^j)+O[0]+3936430074&4294967295,B=D+(P<<11&4294967295|P>>>21),P=j+(B^D^I)+O[3]+3572445317&4294967295,j=B+(P<<16&4294967295|P>>>16),P=I+(j^B^D)+O[6]+76029189&4294967295,I=j+(P<<23&4294967295|P>>>9),P=D+(I^j^B)+O[9]+3654602809&4294967295,D=I+(P<<4&4294967295|P>>>28),P=B+(D^I^j)+O[12]+3873151461&4294967295,B=D+(P<<11&4294967295|P>>>21),P=j+(B^D^I)+O[15]+530742520&4294967295,j=B+(P<<16&4294967295|P>>>16),P=I+(j^B^D)+O[2]+3299628645&4294967295,I=j+(P<<23&4294967295|P>>>9),P=D+(j^(I|~B))+O[0]+4096336452&4294967295,D=I+(P<<6&4294967295|P>>>26),P=B+(I^(D|~j))+O[7]+1126891415&4294967295,B=D+(P<<10&4294967295|P>>>22),P=j+(D^(B|~I))+O[14]+2878612391&4294967295,j=B+(P<<15&4294967295|P>>>17),P=I+(B^(j|~D))+O[5]+4237533241&4294967295,I=j+(P<<21&4294967295|P>>>11),P=D+(j^(I|~B))+O[12]+1700485571&4294967295,D=I+(P<<6&4294967295|P>>>26),P=B+(I^(D|~j))+O[3]+2399980690&4294967295,B=D+(P<<10&4294967295|P>>>22),P=j+(D^(B|~I))+O[10]+4293915773&4294967295,j=B+(P<<15&4294967295|P>>>17),P=I+(B^(j|~D))+O[1]+2240044497&4294967295,I=j+(P<<21&4294967295|P>>>11),P=D+(j^(I|~B))+O[8]+1873313359&4294967295,D=I+(P<<6&4294967295|P>>>26),P=B+(I^(D|~j))+O[15]+4264355552&4294967295,B=D+(P<<10&4294967295|P>>>22),P=j+(D^(B|~I))+O[6]+2734768916&4294967295,j=B+(P<<15&4294967295|P>>>17),P=I+(B^(j|~D))+O[13]+1309151649&4294967295,I=j+(P<<21&4294967295|P>>>11),P=D+(j^(I|~B))+O[4]+4149444226&4294967295,D=I+(P<<6&4294967295|P>>>26),P=B+(I^(D|~j))+O[11]+3174756917&4294967295,B=D+(P<<10&4294967295|P>>>22),P=j+(D^(B|~I))+O[2]+718787259&4294967295,j=B+(P<<15&4294967295|P>>>17),P=I+(B^(j|~D))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+D&4294967295,N.g[1]=N.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+B&4294967295}i.prototype.u=function(N,D){D===void 0&&(D=N.length);for(var I=D-this.blockSize,O=this.B,j=this.h,B=0;B<D;){if(j==0)for(;B<=I;)r(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<D;)if(O[j++]=N.charCodeAt(B++),j==this.blockSize){r(this,O),j=0;break}}else for(;B<D;)if(O[j++]=N[B++],j==this.blockSize){r(this,O),j=0;break}}this.h=j,this.o+=D},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var D=1;D<N.length-8;++D)N[D]=0;var I=8*this.o;for(D=N.length-8;D<N.length;++D)N[D]=I&255,I/=256;for(this.u(N),N=Array(16),D=I=0;4>D;++D)for(var O=0;32>O;O+=8)N[I++]=this.g[D]>>>O&255;return N};function a(N,D){var I=u;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=D(N)}function l(N,D){this.h=D;for(var I=[],O=!0,j=N.length-1;0<=j;j--){var B=N[j]|0;O&&B==D||(I[j]=B,O=!1)}this.g=I}var u={};function h(N){return-128<=N&&128>N?a(N,function(D){return new l([D|0],0>D?-1:0)}):new l([N|0],0>N?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return x(f(-N));for(var D=[],I=1,O=0;N>=I;O++)D[O]=N/I|0,I*=4294967296;return new l(D,0)}function p(N,D){if(N.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N.charAt(0)=="-")return x(p(N.substring(1),D));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=f(Math.pow(D,8)),O=v,j=0;j<N.length;j+=8){var B=Math.min(8,N.length-j),P=parseInt(N.substring(j,j+B),D);8>B?(B=f(Math.pow(D,B)),O=O.j(B).add(f(P))):(O=O.j(I),O=O.add(f(P)))}return O}var v=h(0),_=h(1),b=h(16777216);n=l.prototype,n.m=function(){if(R(this))return-x(this).m();for(var N=0,D=1,I=0;I<this.g.length;I++){var O=this.i(I);N+=(0<=O?O:4294967296+O)*D,D*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(T(this))return"0";if(R(this))return"-"+x(this).toString(N);for(var D=f(Math.pow(N,6)),I=this,O="";;){var j=$(I,D).g;I=M(I,j.j(D));var B=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=j,T(I))return B+O;for(;6>B.length;)B="0"+B;O=B+O}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function T(N){if(N.h!=0)return!1;for(var D=0;D<N.g.length;D++)if(N.g[D]!=0)return!1;return!0}function R(N){return N.h==-1}n.l=function(N){return N=M(this,N),R(N)?-1:T(N)?0:1};function x(N){for(var D=N.g.length,I=[],O=0;O<D;O++)I[O]=~N.g[O];return new l(I,~N.h).add(_)}n.abs=function(){return R(this)?x(this):this},n.add=function(N){for(var D=Math.max(this.g.length,N.g.length),I=[],O=0,j=0;j<=D;j++){var B=O+(this.i(j)&65535)+(N.i(j)&65535),P=(B>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);O=P>>>16,B&=65535,P&=65535,I[j]=P<<16|B}return new l(I,I[I.length-1]&-2147483648?-1:0)};function M(N,D){return N.add(x(D))}n.j=function(N){if(T(this)||T(N))return v;if(R(this))return R(N)?x(this).j(x(N)):x(x(this).j(N));if(R(N))return x(this.j(x(N)));if(0>this.l(b)&&0>N.l(b))return f(this.m()*N.m());for(var D=this.g.length+N.g.length,I=[],O=0;O<2*D;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var j=0;j<N.g.length;j++){var B=this.i(O)>>>16,P=this.i(O)&65535,Oe=N.i(j)>>>16,Te=N.i(j)&65535;I[2*O+2*j]+=P*Te,V(I,2*O+2*j),I[2*O+2*j+1]+=B*Te,V(I,2*O+2*j+1),I[2*O+2*j+1]+=P*Oe,V(I,2*O+2*j+1),I[2*O+2*j+2]+=B*Oe,V(I,2*O+2*j+2)}for(O=0;O<D;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=D;O<2*D;O++)I[O]=0;return new l(I,0)};function V(N,D){for(;(N[D]&65535)!=N[D];)N[D+1]+=N[D]>>>16,N[D]&=65535,D++}function z(N,D){this.g=N,this.h=D}function $(N,D){if(T(D))throw Error("division by zero");if(T(N))return new z(v,v);if(R(N))return D=$(x(N),D),new z(x(D.g),x(D.h));if(R(D))return D=$(N,x(D)),new z(x(D.g),D.h);if(30<N.g.length){if(R(N)||R(D))throw Error("slowDivide_ only works with positive integers.");for(var I=_,O=D;0>=O.l(N);)I=J(I),O=J(O);var j=ne(I,1),B=ne(O,1);for(O=ne(O,2),I=ne(I,2);!T(O);){var P=B.add(O);0>=P.l(N)&&(j=j.add(I),B=P),O=ne(O,1),I=ne(I,1)}return D=M(N,j.j(D)),new z(j,D)}for(j=v;0<=N.l(D);){for(I=Math.max(1,Math.floor(N.m()/D.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),B=f(I),P=B.j(D);R(P)||0<P.l(N);)I-=O,B=f(I),P=B.j(D);T(B)&&(B=_),j=j.add(B),N=M(N,P)}return new z(j,N)}n.A=function(N){return $(this,N).h},n.and=function(N){for(var D=Math.max(this.g.length,N.g.length),I=[],O=0;O<D;O++)I[O]=this.i(O)&N.i(O);return new l(I,this.h&N.h)},n.or=function(N){for(var D=Math.max(this.g.length,N.g.length),I=[],O=0;O<D;O++)I[O]=this.i(O)|N.i(O);return new l(I,this.h|N.h)},n.xor=function(N){for(var D=Math.max(this.g.length,N.g.length),I=[],O=0;O<D;O++)I[O]=this.i(O)^N.i(O);return new l(I,this.h^N.h)};function J(N){for(var D=N.g.length+1,I=[],O=0;O<D;O++)I[O]=N.i(O)<<1|N.i(O-1)>>>31;return new l(I,N.h)}function ne(N,D){var I=D>>5;D%=32;for(var O=N.g.length-I,j=[],B=0;B<O;B++)j[B]=0<D?N.i(B+I)>>>D|N.i(B+I+1)<<32-D:N.i(B+I);return new l(j,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,cD=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,ta=l}).apply(typeof vS<"u"?vS:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uD,ku,hD,qf,Hv,dD,fD,gD;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,E,w){return g==Array.prototype||g==Object.prototype||(g[E]=w.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var E=0;E<g.length;++E){var w=g[E];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function r(g,E){if(E)e:{var w=i;g=g.split(".");for(var k=0;k<g.length-1;k++){var G=g[k];if(!(G in w))break e;w=w[G]}g=g[g.length-1],k=w[g],E=E(k),E!=k&&E!=null&&e(w,g,{configurable:!0,writable:!0,value:E})}}function a(g,E){g instanceof String&&(g+="");var w=0,k=!1,G={next:function(){if(!k&&w<g.length){var X=w++;return{value:E(X,g[X]),done:!1}}return k=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}r("Array.prototype.values",function(g){return g||function(){return a(this,function(E,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(g){var E=typeof g;return E=E!="object"?E:g?Array.isArray(g)?"array":E:"null",E=="array"||E=="object"&&typeof g.length=="number"}function f(g){var E=typeof g;return E=="object"&&g!=null||E=="function"}function p(g,E,w){return g.call.apply(g.bind,arguments)}function v(g,E,w){if(!g)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,k),g.apply(E,G)}}return function(){return g.apply(E,arguments)}}function _(g,E,w){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,_.apply(null,arguments)}function b(g,E){var w=Array.prototype.slice.call(arguments,1);return function(){var k=w.slice();return k.push.apply(k,arguments),g.apply(this,k)}}function T(g,E){function w(){}w.prototype=E.prototype,g.aa=E.prototype,g.prototype=new w,g.prototype.constructor=g,g.Qb=function(k,G,X){for(var ce=Array(arguments.length-2),He=2;He<arguments.length;He++)ce[He-2]=arguments[He];return E.prototype[G].apply(k,ce)}}function R(g){const E=g.length;if(0<E){const w=Array(E);for(let k=0;k<E;k++)w[k]=g[k];return w}return[]}function x(g,E){for(let w=1;w<arguments.length;w++){const k=arguments[w];if(h(k)){const G=g.length||0,X=k.length||0;g.length=G+X;for(let ce=0;ce<X;ce++)g[G+ce]=k[ce]}else g.push(k)}}class M{constructor(E,w){this.i=E,this.j=w,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function V(g){return/^[\s\xa0]*$/.test(g)}function z(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function $(g){return $[" "](g),g}$[" "]=function(){};var J=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ne(g,E,w){for(const k in g)E.call(w,g[k],k,g)}function N(g,E){for(const w in g)E.call(void 0,g[w],w,g)}function D(g){const E={};for(const w in g)E[w]=g[w];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(g,E){let w,k;for(let G=1;G<arguments.length;G++){k=arguments[G];for(w in k)g[w]=k[w];for(let X=0;X<I.length;X++)w=I[X],Object.prototype.hasOwnProperty.call(k,w)&&(g[w]=k[w])}}function j(g){var E=1;g=g.split(":");const w=[];for(;0<E&&g.length;)w.push(g.shift()),E--;return g.length&&w.push(g.join(":")),w}function B(g){u.setTimeout(()=>{throw g},0)}function P(){var g=Ee;let E=null;return g.g&&(E=g.g,g.g=g.g.next,g.g||(g.h=null),E.next=null),E}class Oe{constructor(){this.h=this.g=null}add(E,w){const k=Te.get();k.set(E,w),this.h?this.h.next=k:this.g=k,this.h=k}}var Te=new M(()=>new oe,g=>g.reset());class oe{constructor(){this.next=this.g=this.h=null}set(E,w){this.h=E,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ge=!1,Ee=new Oe,U=()=>{const g=u.Promise.resolve(void 0);fe=()=>{g.then(le)}};var le=()=>{for(var g;g=P();){try{g.h.call(g.g)}catch(w){B(w)}var E=Te;E.j(g),100>E.h&&(E.h++,g.next=E.g,E.g=g)}ge=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(g,E){this.type=g,this.g=this.target=E,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,E=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const w=()=>{};u.addEventListener("test",w,E),u.removeEventListener("test",w,E)}catch{}return g}();function de(g,E){if(he.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var w=this.type=g.type,k=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=E,E=g.relatedTarget){if(J){e:{try{$(E.nodeName);var G=!0;break e}catch{}G=!1}G||(E=null)}}else w=="mouseover"?E=g.fromElement:w=="mouseout"&&(E=g.toElement);this.relatedTarget=E,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:_e[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&de.aa.h.call(this)}}T(de,he);var _e={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function bt(g,E,w,k,G){this.listener=g,this.proxy=null,this.src=E,this.type=w,this.capture=!!k,this.ha=G,this.key=++Ge,this.da=this.fa=!1}function tt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function An(g){this.src=g,this.g={},this.h=0}An.prototype.add=function(g,E,w,k,G){var X=g.toString();g=this.g[X],g||(g=this.g[X]=[],this.h++);var ce=Xn(g,E,k,G);return-1<ce?(E=g[ce],w||(E.fa=!1)):(E=new bt(E,this.src,X,!!k,G),E.fa=w,g.push(E)),E};function dr(g,E){var w=E.type;if(w in g.g){var k=g.g[w],G=Array.prototype.indexOf.call(k,E,void 0),X;(X=0<=G)&&Array.prototype.splice.call(k,G,1),X&&(tt(E),g.g[w].length==0&&(delete g.g[w],g.h--))}}function Xn(g,E,w,k){for(var G=0;G<g.length;++G){var X=g[G];if(!X.da&&X.listener==E&&X.capture==!!w&&X.ha==k)return G}return-1}var ss="closure_lm_"+(1e6*Math.random()|0),as={};function fr(g,E,w,k,G){if(Array.isArray(E)){for(var X=0;X<E.length;X++)fr(g,E[X],w,k,G);return null}return w=Uh(w),g&&g[kt]?g.K(E,w,f(k)?!!k.capture:!1,G):fc(g,E,w,!1,k,G)}function fc(g,E,w,k,G,X){if(!E)throw Error("Invalid event type");var ce=f(G)?!!G.capture:!!G,He=gc(g);if(He||(g[ss]=He=new An(g)),w=He.add(E,w,k,ce,X),w.proxy)return w;if(k=Lo(),w.proxy=k,k.src=g,k.listener=w,g.addEventListener)ue||(G=ce),G===void 0&&(G=!1),g.addEventListener(E.toString(),k,G);else if(g.attachEvent)g.attachEvent(jo(E.toString()),k);else if(g.addListener&&g.removeListener)g.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Lo(){function g(w){return E.call(g.src,g.listener,w)}const E=jp;return g}function Vo(g,E,w,k,G){if(Array.isArray(E))for(var X=0;X<E.length;X++)Vo(g,E[X],w,k,G);else k=f(k)?!!k.capture:!!k,w=Uh(w),g&&g[kt]?(g=g.i,E=String(E).toString(),E in g.g&&(X=g.g[E],w=Xn(X,w,k,G),-1<w&&(tt(X[w]),Array.prototype.splice.call(X,w,1),X.length==0&&(delete g.g[E],g.h--)))):g&&(g=gc(g))&&(E=g.g[E.toString()],g=-1,E&&(g=Xn(E,w,k,G)),(w=-1<g?E[g]:null)&&Ea(w))}function Ea(g){if(typeof g!="number"&&g&&!g.da){var E=g.src;if(E&&E[kt])dr(E.i,g);else{var w=g.type,k=g.proxy;E.removeEventListener?E.removeEventListener(w,k,g.capture):E.detachEvent?E.detachEvent(jo(w),k):E.addListener&&E.removeListener&&E.removeListener(k),(w=gc(E))?(dr(w,g),w.h==0&&(w.src=null,E[ss]=null)):tt(g)}}}function jo(g){return g in as?as[g]:as[g]="on"+g}function jp(g,E){if(g.da)g=!0;else{E=new de(E,this);var w=g.listener,k=g.ha||g.src;g.fa&&Ea(g),g=w.call(k,E)}return g}function gc(g){return g=g[ss],g instanceof An?g:null}var Dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uh(g){return typeof g=="function"?g:(g[Dn]||(g[Dn]=function(E){return g.handleEvent(E)}),g[Dn])}function jt(){me.call(this),this.i=new An(this),this.M=this,this.F=null}T(jt,me),jt.prototype[kt]=!0,jt.prototype.removeEventListener=function(g,E,w,k){Vo(this,g,E,w,k)};function $t(g,E){var w,k=g.F;if(k)for(w=[];k;k=k.F)w.push(k);if(g=g.M,k=E.type||E,typeof E=="string")E=new he(E,g);else if(E instanceof he)E.target=E.target||g;else{var G=E;E=new he(k,g),O(E,G)}if(G=!0,w)for(var X=w.length-1;0<=X;X--){var ce=E.g=w[X];G=gr(ce,k,!0,E)&&G}if(ce=E.g=g,G=gr(ce,k,!0,E)&&G,G=gr(ce,k,!1,E)&&G,w)for(X=0;X<w.length;X++)ce=E.g=w[X],G=gr(ce,k,!1,E)&&G}jt.prototype.N=function(){if(jt.aa.N.call(this),this.i){var g=this.i,E;for(E in g.g){for(var w=g.g[E],k=0;k<w.length;k++)tt(w[k]);delete g.g[E],g.h--}}this.F=null},jt.prototype.K=function(g,E,w,k){return this.i.add(String(g),E,!1,w,k)},jt.prototype.L=function(g,E,w,k){return this.i.add(String(g),E,!0,w,k)};function gr(g,E,w,k){if(E=g.i.g[String(E)],!E)return!0;E=E.concat();for(var G=!0,X=0;X<E.length;++X){var ce=E[X];if(ce&&!ce.da&&ce.capture==w){var He=ce.listener,zt=ce.ha||ce.src;ce.fa&&dr(g.i,ce),G=He.call(zt,k)!==!1&&G}}return G&&!k.defaultPrevented}function zh(g,E,w){if(typeof g=="function")w&&(g=_(g,w));else if(g&&typeof g.handleEvent=="function")g=_(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(g,E||0)}function pc(g){g.g=zh(()=>{g.g=null,g.i&&(g.i=!1,pc(g))},g.l);const E=g.h;g.h=null,g.m.apply(null,E)}class Up extends me{constructor(E,w){super(),this.m=E,this.l=w,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:pc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(g){me.call(this),this.h=g,this.g={}}T(Aa,me);var os=[];function dn(g){ne(g.g,function(E,w){this.g.hasOwnProperty(w)&&Ea(E)},g),g.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),dn(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mc=u.JSON.stringify,Li=u.JSON.parse,wn=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function yc(){}yc.prototype.h=null;function Bh(g){return g.h||(g.h=g.i())}function Hh(){}var Vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ls(){he.call(this,"d")}T(ls,he);function Ai(){he.call(this,"c")}T(Ai,he);var Zn={},cs=null;function Uo(){return cs=cs||new jt}Zn.La="serverreachability";function vc(g){he.call(this,Zn.La,g)}T(vc,he);function us(g){const E=Uo();$t(E,new vc(E))}Zn.STAT_EVENT="statevent";function zo(g,E){he.call(this,Zn.STAT_EVENT,g),this.stat=E}T(zo,he);function xt(g){const E=Uo();$t(E,new zo(E,g))}Zn.Ma="timingevent";function Fh(g,E){he.call(this,Zn.Ma,g),this.size=E}T(Fh,he);function hs(g,E){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},E)}function ds(){this.g=!0}ds.prototype.xa=function(){this.g=!1};function qh(g,E,w,k,G,X){g.info(function(){if(g.g)if(X)for(var ce="",He=X.split("&"),zt=0;zt<He.length;zt++){var Fe=He[zt].split("=");if(1<Fe.length){var Kt=Fe[0];Fe=Fe[1];var Bt=Kt.split("_");ce=2<=Bt.length&&Bt[1]=="type"?ce+(Kt+"="+Fe+"&"):ce+(Kt+"=redacted&")}}else ce=null;else ce=X;return"XMLHTTP REQ ("+k+") [attempt "+G+"]: "+E+`
`+w+`
`+ce})}function Wh(g,E,w,k,G,X,ce){g.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+G+"]: "+E+`
`+w+`
`+X+" "+ce})}function fs(g,E,w,k){g.info(function(){return"XMLHTTP TEXT ("+E+"): "+Yt(g,w)+(k?" "+k:"")})}function ji(g,E){g.info(function(){return"TIMEOUT: "+E})}ds.prototype.info=function(){};function Yt(g,E){if(!g.g)return E;if(!E)return null;try{var w=JSON.parse(E);if(w){for(g=0;g<w.length;g++)if(Array.isArray(w[g])){var k=w[g];if(!(2>k.length)){var G=k[1];if(Array.isArray(G)&&!(1>G.length)){var X=G[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ce=1;ce<G.length;ce++)G[ce]=""}}}}return mc(w)}catch{return E}}var Ut={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wa;function Bo(){}T(Bo,yc),Bo.prototype.g=function(){return new XMLHttpRequest},Bo.prototype.i=function(){return{}},wa=new Bo;function Ui(g,E,w,k){this.j=g,this.i=E,this.l=w,this.R=k||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _c}function _c(){this.i=null,this.g="",this.h=!1}var gs={},Sa={};function wi(g,E,w){g.L=1,g.v=Ra(Et(E)),g.m=w,g.P=!0,mr(g,null)}function mr(g,E){g.F=Date.now(),gt(g),g.A=Et(g.v);var w=g.A,k=g.R;Array.isArray(k)||(k=[String(k)]),_r(w.i,"t",k),g.C=0,w=g.j.J,g.h=new _c,g.g=sd(g.j,w?E:null,!g.m),0<g.O&&(g.M=new Up(_(g.Y,g,g.g),g.O)),E=g.U,w=g.g,k=g.ca;var G="readystatechange";Array.isArray(G)||(G&&(os[0]=G.toString()),G=os);for(var X=0;X<G.length;X++){var ce=fr(w,G[X],k||E.handleEvent,!1,E.h||E);if(!ce)break;E.g[ce.key]=ce}E=g.H?D(g.H):{},g.m?(g.u||(g.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,E)):(g.u="GET",g.g.ea(g.A,g.u,null,E)),us(),qh(g.i,g.u,g.A,g.l,g.R,g.m)}Ui.prototype.ca=function(g){g=g.target;const E=this.M;E&&ii(g)==3?E.j():this.Y(g)},Ui.prototype.Y=function(g){try{if(g==this.g)e:{const Bt=ii(this.g);var E=this.g.Ba();const wr=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Xh(this.g)))){this.J||Bt!=4||E==7||(E==8||0>=wr?us(3):us(2)),Ho(this);var w=this.g.Z();this.X=w;t:if(ps(this)){var k=Xh(this.g);g="";var G=k.length,X=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),zn(this);var ce="";break t}this.h.i=new u.TextDecoder}for(E=0;E<G;E++)this.h.h=!0,g+=this.h.i.decode(k[E],{stream:!(X&&E==G-1)});k.length=0,this.h.g+=g,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=w==200,Wh(this.i,this.u,this.A,this.l,this.R,Bt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var He,zt=this.g;if((He=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(He)){var Fe=He;break t}}Fe=null}if(w=Fe)fs(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bn(this,w);else{this.o=!1,this.s=3,xt(12),In(this),zn(this);break e}}if(this.P){w=!0;let rn;for(;!this.J&&this.C<ce.length;)if(rn=ms(this,ce),rn==Sa){Bt==4&&(this.s=4,xt(14),w=!1),fs(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==gs){this.s=4,xt(15),fs(this.i,this.l,ce,"[Invalid Chunk]"),w=!1;break}else fs(this.i,this.l,rn,null),Bn(this,rn);if(ps(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||ce.length!=0||this.h.h||(this.s=1,xt(16),w=!1),this.o=this.o&&w,!w)fs(this.i,this.l,ce,"[Invalid Chunked Response]"),In(this),zn(this);else if(0<ce.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Na(Kt),Kt.M=!0,xt(11))}}else fs(this.i,this.l,ce,null),Bn(this,ce);Bt==4&&In(this),this.o&&!this.J&&(Bt==4?nd(this.j,this):(this.o=!1,gt(this)))}else Wp(this.g),w==400&&0<ce.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),In(this),zn(this)}}}catch{}finally{}};function ps(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function ms(g,E){var w=g.C,k=E.indexOf(`
`,w);return k==-1?Sa:(w=Number(E.substring(w,k)),isNaN(w)?gs:(k+=1,k+w>E.length?Sa:(E=E.slice(k,k+w),g.C=k+w,E)))}Ui.prototype.cancel=function(){this.J=!0,In(this)};function gt(g){g.S=Date.now()+g.I,bc(g,g.I)}function bc(g,E){if(g.B!=null)throw Error("WatchDog timer not null");g.B=hs(_(g.ba,g),E)}function Ho(g){g.B&&(u.clearTimeout(g.B),g.B=null)}Ui.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(ji(this.i,this.A),this.L!=2&&(us(),xt(17)),In(this),this.s=2,zn(this)):bc(this,this.S-g)};function zn(g){g.j.G==0||g.J||nd(g.j,g)}function In(g){Ho(g);var E=g.M;E&&typeof E.ma=="function"&&E.ma(),g.M=null,dn(g.U),g.g&&(E=g.g,g.g=null,E.abort(),E.ma())}function Bn(g,E){try{var w=g.j;if(w.G!=0&&(w.g==g||ys(w.h,g))){if(!g.K&&ys(w.h,g)&&w.G==3){try{var k=w.Da.g.parse(E)}catch{k=null}if(Array.isArray(k)&&k.length==3){var G=k;if(G[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<g.F)Zo(w),Ko(w);else break e;kc(w),xt(18)}}else w.za=G[1],0<w.za-w.T&&37500>G[2]&&w.F&&w.v==0&&!w.C&&(w.C=hs(_(w.Za,w),6e3));if(1>=Gh(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Ar(w,11)}else if((g.K||w.g==g)&&Zo(w),!V(E))for(G=w.Da.g.parse(E),E=0;E<G.length;E++){let Fe=G[E];if(w.T=Fe[0],Fe=Fe[1],w.G==2)if(Fe[0]=="c"){w.K=Fe[1],w.ia=Fe[2];const Kt=Fe[3];Kt!=null&&(w.la=Kt,w.j.info("VER="+w.la));const Bt=Fe[4];Bt!=null&&(w.Aa=Bt,w.j.info("SVER="+w.Aa));const wr=Fe[5];wr!=null&&typeof wr=="number"&&0<wr&&(k=1.5*wr,w.L=k,w.j.info("backChannelRequestTimeoutMs_="+k)),k=w;const rn=g.g;if(rn){const Gi=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gi){var X=k.h;X.g||Gi.indexOf("spdy")==-1&&Gi.indexOf("quic")==-1&&Gi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(vs(X,X.h),X.h=null))}if(k.D){const Oc=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Oc&&(k.ya=Oc,$e(k.I,k.D,Oc))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-g.F,w.j.info("Handshake RTT: "+w.R+"ms")),k=w;var ce=g;if(k.qa=rd(k,k.J?k.ia:null,k.W),ce.K){Jn(k.h,ce);var He=ce,zt=k.L;zt&&(He.I=zt),He.B&&(Ho(He),gt(He)),k.g=ce}else ed(k);0<w.i.length&&Xo(w)}else Fe[0]!="stop"&&Fe[0]!="close"||Ar(w,7);else w.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ar(w,7):Dc(w):Fe[0]!="noop"&&w.l&&w.l.ta(Fe),w.v=0)}}us(4)}catch{}}var zp=class{constructor(g,E){this.g=g,this.map=E}};function Ec(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ac(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Gh(g){return g.h?1:g.g?g.g.size:0}function ys(g,E){return g.h?g.h==E:g.g?g.g.has(E):!1}function vs(g,E){g.g?g.g.add(E):g.h=E}function Jn(g,E){g.h&&g.h==E?g.h=null:g.g&&g.g.has(E)&&g.g.delete(E)}Ec.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Sn(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let E=g.i;for(const w of g.g.values())E=E.concat(w.D);return E}return R(g.i)}function $h(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var E=[],w=g.length,k=0;k<w;k++)E.push(g[k]);return E}E=[],w=0;for(k in g)E[w++]=g[k];return E}function Bp(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var E=[];g=g.length;for(var w=0;w<g;w++)E.push(w);return E}E=[],w=0;for(const k in g)E[w++]=k;return E}}}function Ta(g,E){if(g.forEach&&typeof g.forEach=="function")g.forEach(E,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,E,void 0);else for(var w=Bp(g),k=$h(g),G=k.length,X=0;X<G;X++)E.call(void 0,k[X],w&&w[X],g)}var wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fo(g,E){if(g){g=g.split("&");for(var w=0;w<g.length;w++){var k=g[w].indexOf("="),G=null;if(0<=k){var X=g[w].substring(0,k);G=g[w].substring(k+1)}else X=g[w];E(X,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function yr(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof yr){this.h=g.h,_s(this,g.j),this.o=g.o,this.g=g.g,xa(this,g.s),this.l=g.l;var E=g.i,w=new zi;w.i=E.i,E.g&&(w.g=new Map(E.g),w.h=E.h),qo(this,w),this.m=g.m}else g&&(E=String(g).match(wc))?(this.h=!1,_s(this,E[1]||"",!0),this.o=bs(E[2]||""),this.g=bs(E[3]||"",!0),xa(this,E[4]),this.l=bs(E[5]||"",!0),qo(this,E[6]||"",!0),this.m=bs(E[7]||"")):(this.h=!1,this.i=new zi(null,this.h))}yr.prototype.toString=function(){var g=[],E=this.j;E&&g.push(ei(E,Sc,!0),":");var w=this.g;return(w||E=="file")&&(g.push("//"),(E=this.o)&&g.push(ei(E,Sc,!0),"@"),g.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&g.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&g.push("/"),g.push(ei(w,w.charAt(0)=="/"?Tc:Yh,!0))),(w=this.i.toString())&&g.push("?",w),(w=this.m)&&g.push("#",ei(w,qp)),g.join("")};function Et(g){return new yr(g)}function _s(g,E,w){g.j=w?bs(E,!0):E,g.j&&(g.j=g.j.replace(/:$/,""))}function xa(g,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);g.s=E}else g.s=null}function qo(g,E,w){E instanceof zi?(g.i=E,xc(g.i,g.h)):(w||(E=ei(E,Fp)),g.i=new zi(E,g.h))}function $e(g,E,w){g.i.set(E,w)}function Ra(g){return $e(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function bs(g,E){return g?E?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ei(g,E,w){return typeof g=="string"?(g=encodeURI(g).replace(E,Hp),w&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Hp(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Sc=/[#\/\?@]/g,Yh=/[#\?:]/g,Tc=/[#\?]/g,Fp=/[#\?@]/g,qp=/#/g;function zi(g,E){this.h=this.g=null,this.i=g||null,this.j=!!E}function ti(g){g.g||(g.g=new Map,g.h=0,g.i&&Fo(g.i,function(E,w){g.add(decodeURIComponent(E.replace(/\+/g," ")),w)}))}n=zi.prototype,n.add=function(g,E){ti(this),this.i=null,g=br(this,g);var w=this.g.get(g);return w||this.g.set(g,w=[]),w.push(E),this.h+=1,this};function Wo(g,E){ti(g),E=br(g,E),g.g.has(E)&&(g.i=null,g.h-=g.g.get(E).length,g.g.delete(E))}function vr(g,E){return ti(g),E=br(g,E),g.g.has(E)}n.forEach=function(g,E){ti(this),this.g.forEach(function(w,k){w.forEach(function(G){g.call(E,G,k,this)},this)},this)},n.na=function(){ti(this);const g=Array.from(this.g.values()),E=Array.from(this.g.keys()),w=[];for(let k=0;k<E.length;k++){const G=g[k];for(let X=0;X<G.length;X++)w.push(E[k])}return w},n.V=function(g){ti(this);let E=[];if(typeof g=="string")vr(this,g)&&(E=E.concat(this.g.get(br(this,g))));else{g=Array.from(this.g.values());for(let w=0;w<g.length;w++)E=E.concat(g[w])}return E},n.set=function(g,E){return ti(this),this.i=null,g=br(this,g),vr(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[E]),this.h+=1,this},n.get=function(g,E){return g?(g=this.V(g),0<g.length?String(g[0]):E):E};function _r(g,E,w){Wo(g,E),0<w.length&&(g.i=null,g.g.set(br(g,E),R(w)),g.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],E=Array.from(this.g.keys());for(var w=0;w<E.length;w++){var k=E[w];const X=encodeURIComponent(String(k)),ce=this.V(k);for(k=0;k<ce.length;k++){var G=X;ce[k]!==""&&(G+="="+encodeURIComponent(String(ce[k]))),g.push(G)}}return this.i=g.join("&")};function br(g,E){return E=String(E),g.j&&(E=E.toLowerCase()),E}function xc(g,E){E&&!g.j&&(ti(g),g.i=null,g.g.forEach(function(w,k){var G=k.toLowerCase();k!=G&&(Wo(this,k),_r(this,G,w))},g)),g.j=E}function Qh(g,E){const w=new ds;if(u.Image){const k=new Image;k.onload=b(ni,w,"TestLoadImage: loaded",!0,E,k),k.onerror=b(ni,w,"TestLoadImage: error",!1,E,k),k.onabort=b(ni,w,"TestLoadImage: abort",!1,E,k),k.ontimeout=b(ni,w,"TestLoadImage: timeout",!1,E,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=g}else E(!1)}function Ca(g,E){const w=new ds,k=new AbortController,G=setTimeout(()=>{k.abort(),ni(w,"TestPingServer: timeout",!1,E)},1e4);fetch(g,{signal:k.signal}).then(X=>{clearTimeout(G),X.ok?ni(w,"TestPingServer: ok",!0,E):ni(w,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(G),ni(w,"TestPingServer: error",!1,E)})}function ni(g,E,w,k,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),k(w)}catch{}}function Da(){this.g=new wn}function Bi(g,E,w){const k=w||"";try{Ta(g,function(G,X){let ce=G;f(G)&&(ce=mc(G)),E.push(k+X+"="+encodeURIComponent(ce))})}catch(G){throw E.push(k+"type="+encodeURIComponent("_badmap")),G}}function Es(g){this.l=g.Ub||null,this.j=g.eb||!1}T(Es,yc),Es.prototype.g=function(){return new Er(this.l,this.j)},Es.prototype.i=function(g){return function(){return g}}({});function Er(g,E){jt.call(this),this.D=g,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Er,jt),n=Er.prototype,n.open=function(g,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=E,this.readyState=1,Fi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(E.body=g),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hi(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rc(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rc(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var E=g.value?g.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!g.done}))&&(this.response=this.responseText+=E)}g.done?Hi(this):Fi(this),this.readyState==3&&Rc(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Hi(this))},n.Qa=function(g){this.g&&(this.response=g,Hi(this))},n.ga=function(){this.g&&Hi(this)};function Hi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Fi(g)}n.setRequestHeader=function(g,E){this.u.append(g,E)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],E=this.h.entries();for(var w=E.next();!w.done;)w=w.value,g.push(w[0]+": "+w[1]),w=E.next();return g.join(`\r
`)};function Fi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Cc(g){let E="";return ne(g,function(w,k){E+=k,E+=":",E+=w,E+=`\r
`}),E}function Qt(g,E,w){e:{for(k in w){var k=!1;break e}k=!0}k||(w=Cc(w),typeof g=="string"?w!=null&&encodeURIComponent(String(w)):$e(g,E,w))}function Je(g){jt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Je,jt);var Go=/^https?$/i,Ia=["POST","PUT"];n=Je.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,E,w,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);E=E?E.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wa.g(),this.v=this.o?Bh(this.o):Bh(wa),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(E,String(g),!0),this.B=!1}catch(X){Kh(this,X);return}if(g=w||"",w=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var G in k)w.set(G,k[G]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const X of k.keys())w.set(X,k.get(X));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),G=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ia,E,void 0))||k||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of w)this.g.setRequestHeader(X,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ka(this),this.u=!0,this.g.send(g),this.u=!1}catch(X){Kh(this,X)}};function Kh(g,E){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=E,g.m=5,$o(g),qi(g)}function $o(g){g.A||(g.A=!0,$t(g,"complete"),$t(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,$t(this,"complete"),$t(this,"abort"),qi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Yo(this):this.bb())},n.bb=function(){Yo(this)};function Yo(g){if(g.h&&typeof l<"u"&&(!g.v[1]||ii(g)!=4||g.Z()!=2)){if(g.u&&ii(g)==4)zh(g.Ea,0,g);else if($t(g,"readystatechange"),ii(g)==4){g.h=!1;try{const ce=g.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var w;if(!(w=E)){var k;if(k=ce===0){var G=String(g.D).match(wc)[1]||null;!G&&u.self&&u.self.location&&(G=u.self.location.protocol.slice(0,-1)),k=!Go.test(G?G.toLowerCase():"")}w=k}if(w)$t(g,"complete"),$t(g,"success");else{g.m=6;try{var X=2<ii(g)?g.g.statusText:""}catch{X=""}g.l=X+" ["+g.Z()+"]",$o(g)}}finally{qi(g)}}}}function qi(g,E){if(g.g){ka(g);const w=g.g,k=g.v[0]?()=>{}:null;g.g=null,g.v=null,E||$t(g,"ready");try{w.onreadystatechange=k}catch{}}}function ka(g){g.I&&(u.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function ii(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var E=this.g.responseText;return g&&E.indexOf(g)==0&&(E=E.substring(g.length)),Li(E)}};function Xh(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Wp(g){const E={};g=(g.g&&2<=ii(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<g.length;k++){if(V(g[k]))continue;var w=j(g[k]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=E[G]||[];E[G]=X,X.push(w)}N(E,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(g,E,w){return w&&w.internalChannelParams&&w.internalChannelParams[g]||E}function Qo(g){this.Aa=0,this.i=[],this.j=new ds,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,g),this.cb=Ma("retryDelaySeedMs",1e4,g),this.Wa=Ma("forwardChannelMaxRetries",2,g),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Ec(g&&g.concurrentRequestLimit),this.Da=new Da,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Qo.prototype,n.la=8,n.G=1,n.connect=function(g,E,w,k){xt(0),this.W=g,this.H=E||{},w&&k!==void 0&&(this.H.OSID=w,this.H.OAID=k),this.F=this.X,this.I=rd(this,null,this.W),Xo(this)};function Dc(g){if(Zh(g),g.G==3){var E=g.U++,w=Et(g.I);if($e(w,"SID",g.K),$e(w,"RID",E),$e(w,"TYPE","terminate"),Oa(g,w),E=new Ui(g,g.j,E),E.L=2,E.v=Ra(Et(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!w&&u.Image&&(new Image().src=E.v,w=!0),w||(E.g=sd(E.j,null),E.g.ea(E.v)),E.F=Date.now(),gt(E)}id(g)}function Ko(g){g.g&&(Na(g),g.g.cancel(),g.g=null)}function Zh(g){Ko(g),g.u&&(u.clearTimeout(g.u),g.u=null),Zo(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function Xo(g){if(!Ac(g.h)&&!g.s){g.s=!0;var E=g.Ga;fe||U(),ge||(fe(),ge=!0),Ee.add(E,g),g.B=0}}function Gp(g,E){return Gh(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=E.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=hs(_(g.Ga,g,E),Mc(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const G=new Ui(this,this.j,g);let X=this.o;if(this.S&&(X?(X=D(X),O(X,this.S)):X=this.S),this.m!==null||this.O||(G.H=X,X=null),this.P)e:{for(var E=0,w=0;w<this.i.length;w++){t:{var k=this.i[w];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(E+=k,4096<E){E=w;break e}if(E===4096||w===this.i.length-1){E=w+1;break e}}E=1e3}else E=1e3;E=Jh(this,G,E),w=Et(this.I),$e(w,"RID",g),$e(w,"CVER",22),this.D&&$e(w,"X-HTTP-Session-Id",this.D),Oa(this,w),X&&(this.O?E="headers="+encodeURIComponent(String(Cc(X)))+"&"+E:this.m&&Qt(w,this.m,X)),vs(this.h,G),this.Ua&&$e(w,"TYPE","init"),this.P?($e(w,"$req",E),$e(w,"SID","null"),G.T=!0,wi(G,w,null)):wi(G,w,E),this.G=2}}else this.G==3&&(g?Ic(this,g):this.i.length==0||Ac(this.h)||Ic(this))};function Ic(g,E){var w;E?w=E.l:w=g.U++;const k=Et(g.I);$e(k,"SID",g.K),$e(k,"RID",w),$e(k,"AID",g.T),Oa(g,k),g.m&&g.o&&Qt(k,g.m,g.o),w=new Ui(g,g.j,w,g.B+1),g.m===null&&(w.H=g.o),E&&(g.i=E.D.concat(g.i)),E=Jh(g,w,1e3),w.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),vs(g.h,w),wi(w,k,E)}function Oa(g,E){g.H&&ne(g.H,function(w,k){$e(E,k,w)}),g.l&&Ta({},function(w,k){$e(E,k,w)})}function Jh(g,E,w){w=Math.min(g.i.length,w);var k=g.l?_(g.l.Na,g.l,g):null;e:{var G=g.i;let X=-1;for(;;){const ce=["count="+w];X==-1?0<w?(X=G[0].g,ce.push("ofs="+X)):X=0:ce.push("ofs="+X);let He=!0;for(let zt=0;zt<w;zt++){let Fe=G[zt].g;const Kt=G[zt].map;if(Fe-=X,0>Fe)X=Math.max(0,G[zt].g-100),He=!1;else try{Bi(Kt,ce,"req"+Fe+"_")}catch{k&&k(Kt)}}if(He){k=ce.join("&");break e}}}return g=g.i.splice(0,w),E.D=g,k}function ed(g){if(!g.g&&!g.u){g.Y=1;var E=g.Fa;fe||U(),ge||(fe(),ge=!0),Ee.add(E,g),g.v=0}}function kc(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=hs(_(g.Fa,g),Mc(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,td(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=hs(_(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),Ko(this),td(this))};function Na(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function td(g){g.g=new Ui(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var E=Et(g.qa);$e(E,"RID","rpc"),$e(E,"SID",g.K),$e(E,"AID",g.T),$e(E,"CI",g.F?"0":"1"),!g.F&&g.ja&&$e(E,"TO",g.ja),$e(E,"TYPE","xmlhttp"),Oa(g,E),g.m&&g.o&&Qt(E,g.m,g.o),g.L&&(g.g.I=g.L);var w=g.g;g=g.ia,w.L=1,w.v=Ra(Et(E)),w.m=null,w.P=!0,mr(w,g)}n.Za=function(){this.C!=null&&(this.C=null,Ko(this),kc(this),xt(19))};function Zo(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function nd(g,E){var w=null;if(g.g==E){Zo(g),Na(g),g.g=null;var k=2}else if(ys(g.h,E))w=E.D,Jn(g.h,E),k=1;else return;if(g.G!=0){if(E.o)if(k==1){w=E.m?E.m.length:0,E=Date.now()-E.F;var G=g.B;k=Uo(),$t(k,new Fh(k,w)),Xo(g)}else ed(g);else if(G=E.s,G==3||G==0&&0<E.X||!(k==1&&Gp(g,E)||k==2&&kc(g)))switch(w&&0<w.length&&(E=g.h,E.i=E.i.concat(w)),G){case 1:Ar(g,5);break;case 4:Ar(g,10);break;case 3:Ar(g,6);break;default:Ar(g,2)}}}function Mc(g,E){let w=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(w*=2),w*E}function Ar(g,E){if(g.j.info("Error code "+E),E==2){var w=_(g.fb,g),k=g.Xa;const G=!k;k=new yr(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||_s(k,"https"),Ra(k),G?Qh(k.toString(),w):Ca(k.toString(),w)}else xt(2);g.G=0,g.l&&g.l.sa(E),id(g),Zh(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function id(g){if(g.G=0,g.ka=[],g.l){const E=Sn(g.h);(E.length!=0||g.i.length!=0)&&(x(g.ka,E),x(g.ka,g.i),g.h.i.length=0,R(g.i),g.i.length=0),g.l.ra()}}function rd(g,E,w){var k=w instanceof yr?Et(w):new yr(w);if(k.g!="")E&&(k.g=E+"."+k.g),xa(k,k.s);else{var G=u.location;k=G.protocol,E=E?E+"."+G.hostname:G.hostname,G=+G.port;var X=new yr(null);k&&_s(X,k),E&&(X.g=E),G&&xa(X,G),w&&(X.l=w),k=X}return w=g.D,E=g.ya,w&&E&&$e(k,w,E),$e(k,"VER",g.la),Oa(g,k),k}function sd(g,E,w){if(E&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=g.Ca&&!g.pa?new Je(new Es({eb:w})):new Je(g.pa),E.Ha(g.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ad(){}n=ad.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Jo(){}Jo.prototype.g=function(g,E){return new Tn(g,E)};function Tn(g,E){jt.call(this),this.g=new Qo(E),this.l=g,this.h=E&&E.messageUrlParams||null,g=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(g?g["X-WebChannel-Content-Type"]=E.messageContentType:g={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(g?g["X-WebChannel-Client-Profile"]=E.va:g={"X-WebChannel-Client-Profile":E.va}),this.g.S=g,(g=E&&E.Sb)&&!V(g)&&(this.g.m=g),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!V(E)&&(this.g.D=E,g=this.h,g!==null&&E in g&&(g=this.h,E in g&&delete g[E])),this.j=new Wi(this)}T(Tn,jt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Dc(this.g)},Tn.prototype.o=function(g){var E=this.g;if(typeof g=="string"){var w={};w.__data__=g,g=w}else this.u&&(w={},w.__data__=mc(g),g=w);E.i.push(new zp(E.Ya++,g)),E.G==3&&Xo(E)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Dc(this.g),delete this.g,Tn.aa.N.call(this)};function od(g){ls.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var E=g.__sm__;if(E){e:{for(const w in E){g=w;break e}g=void 0}(this.i=g)&&(g=this.i,E=E!==null&&g in E?E[g]:void 0),this.data=E}else this.data=g}T(od,ls);function ld(){Ai.call(this),this.status=1}T(ld,Ai);function Wi(g){this.g=g}T(Wi,ad),Wi.prototype.ua=function(){$t(this.g,"a")},Wi.prototype.ta=function(g){$t(this.g,new od(g))},Wi.prototype.sa=function(g){$t(this.g,new ld)},Wi.prototype.ra=function(){$t(this.g,"b")},Jo.prototype.createWebChannel=Jo.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,gD=function(){return new Jo},fD=function(){return Uo()},dD=Zn,Hv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ut.NO_ERROR=0,Ut.TIMEOUT=8,Ut.HTTP_ERROR=6,qf=Ut,pr.COMPLETE="complete",hD=pr,Hh.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",jt.prototype.listen=jt.prototype.K,ku=Hh,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,uD=Je}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const _S="@firebase/firestore",bS="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new tp("@firebase/firestore");function Cl(){return _o.logLevel}function pe(n,...e){if(_o.logLevel<=je.DEBUG){const t=e.map(Q_);_o.debug(`Firestore (${rc}): ${n}`,...t)}}function Xr(n,...e){if(_o.logLevel<=je.ERROR){const t=e.map(Q_);_o.error(`Firestore (${rc}): ${n}`,...t)}}function Fl(n,...e){if(_o.logLevel<=je.WARN){const t=e.map(Q_);_o.warn(`Firestore (${rc}): ${n}`,...t)}}function Q_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n="Unexpected state"){const e=`FIRESTORE (${rc}) INTERNAL ASSERTION FAILED: `+n;throw Xr(e),new Error(e)}function et(n,e){n||Ce()}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mn.UNAUTHENTICATED))}shutdown(){}}class zU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BU{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0);let i=this.i;const r=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let a=new na;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new na,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},u=h=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new na)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(et(typeof i.accessToken=="string"),new pD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new mn(e)}}class HU{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class FU{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new HU(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ES{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qU{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){et(this.o===void 0);const i=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?r(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ES(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string"),this.R=t.token,new ES(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=WU(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function Be(n,e){return n<e?-1:n>e?1:0}function ql(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=-62135596800,wS=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*wS);return new Wt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<AS)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wS}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-AS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Wt(0,0))}static max(){return new De(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="__name__";class tr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ce(),i===void 0?i=e.length-t:i>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=tr.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=tr.isNumericId(e),r=tr.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?tr.extractNumericId(e).compare(tr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ta.fromString(e.substring(4,e.length-2))}}class ut extends tr{construct(e,t,i){return new ut(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new ut(t)}static emptyPath(){return new ut([])}}const GU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends tr{construct(e,t,i){return new cn(e,t,i)}static isValidIdentifier(e){return GU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SS}static keyField(){return new cn([SS])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new ve(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new ve(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ve(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(a(),r++)}if(a(),l)throw new ve(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(t)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ut.fromString(e))}static fromName(e){return new we(ut.fromString(e).popFirst(5))}static empty(){return new we(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=-1;function $U(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=De.fromTimestamp(i===1e9?new Wt(t+1,0):new Wt(t,i));return new oa(r,we.empty(),e)}function YU(n){return new oa(n.readTime,n.key,oh)}class oa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new oa(De.min(),we.empty(),oh)}static max(){return new oa(De.max(),we.empty(),oh)}}function QU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==KU)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,i)=>{t(e)})}static reject(e){return new re((t,i)=>{i(e)})}static waitFor(e){return new re((t,i)=>{let r=0,a=0,l=!1;e.forEach(u=>{++r,u.next(()=>{++a,l&&a===r&&t()},h=>i(h))}),l=!0,a===r&&t()})}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next(r=>r?re.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new re((i,r)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const f=h;t(e[f]).next(p=>{l[f]=p,++u,u===a&&i(l)},p=>r(p))}})}static doWhile(e,t){return new re((i,r)=>{const a=()=>{e()===!0?t().next(()=>{a()},r):i()};a()})}}function ZU(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ac(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}op.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=-1;function lp(n){return n==null}function gg(n){return n===0&&1/n==-1/0}function JU(n){return typeof n=="number"&&Number.isInteger(n)&&!gg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="";function ez(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=TS(e)),e=tz(n.get(t),e);return TS(e)}function tz(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case yD:t+="";break;default:t+=a}}return t}function TS(n){return n+yD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ya(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||ln.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??ln.RED,this.left=r??ln.EMPTY,this.right=a??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new ln(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return ln.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,i,r,a){return this}insert(e,t,i){return new ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new RS(this.data.getIterator())}getIteratorFrom(e){return new RS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gt(this.comparator);return t.data=e,t}}class RS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new Gt(cn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _D("Invalid base64 string: "+a):a}}(e);return new hn(t)}static fromUint8Array(e){const t=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(e);return new hn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const nz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(n){if(et(!!n),typeof n=="string"){let e=0;const t=nz.exec(n);if(et(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ca(n){return typeof n=="string"?hn.fromBase64String(n):hn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="server_timestamp",ED="__type__",AD="__previous_value__",wD="__local_write_time__";function X_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ED])===null||t===void 0?void 0:t.stringValue)===bD}function cp(n){const e=n.mapValue.fields[AD];return X_(e)?cp(e):e}function lh(n){const e=la(n.mapValue.fields[wD].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,t,i,r,a,l,u,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f}}const pg="(default)";class ch{constructor(e,t){this.projectId=e,this.database=t||pg}static empty(){return new ch("","")}get isDefaultDatabase(){return this.database===pg}isEqual(e){return e instanceof ch&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="__type__",rz="__max__",hf={mapValue:{}},TD="__vector__",mg="value";function ua(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?X_(n)?4:az(n)?9007199254740991:sz(n)?10:11:Ce()}function cr(n,e){if(n===e)return!0;const t=ua(n);if(t!==ua(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lh(n).isEqual(lh(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=la(r.timestampValue),u=la(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,a){return ca(r.bytesValue).isEqual(ca(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return Ct(r.geoPointValue.latitude)===Ct(a.geoPointValue.latitude)&&Ct(r.geoPointValue.longitude)===Ct(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Ct(r.integerValue)===Ct(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=Ct(r.doubleValue),u=Ct(a.doubleValue);return l===u?gg(l)===gg(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return ql(n.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(r,a){const l=r.mapValue.fields||{},u=a.mapValue.fields||{};if(xS(l)!==xS(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!cr(l[h],u[h])))return!1;return!0}(n,e);default:return Ce()}}function uh(n,e){return(n.values||[]).find(t=>cr(t,e))!==void 0}function Wl(n,e){if(n===e)return 0;const t=ua(n),i=ua(e);if(t!==i)return Be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=Ct(a.integerValue||a.doubleValue),h=Ct(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return CS(n.timestampValue,e.timestampValue);case 4:return CS(lh(n),lh(e));case 5:return Be(n.stringValue,e.stringValue);case 6:return function(a,l){const u=ca(a),h=ca(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const p=Be(u[f],h[f]);if(p!==0)return p}return Be(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=Be(Ct(a.latitude),Ct(l.latitude));return u!==0?u:Be(Ct(a.longitude),Ct(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return DS(n.arrayValue,e.arrayValue);case 10:return function(a,l){var u,h,f,p;const v=a.fields||{},_=l.fields||{},b=(u=v[mg])===null||u===void 0?void 0:u.arrayValue,T=(h=_[mg])===null||h===void 0?void 0:h.arrayValue,R=Be(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0);return R!==0?R:DS(b,T)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===hf.mapValue&&l===hf.mapValue)return 0;if(a===hf.mapValue)return 1;if(l===hf.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const _=Be(h[v],p[v]);if(_!==0)return _;const b=Wl(u[h[v]],f[p[v]]);if(b!==0)return b}return Be(h.length,p.length)}(n.mapValue,e.mapValue);default:throw Ce()}}function CS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=la(n),i=la(e),r=Be(t.seconds,i.seconds);return r!==0?r:Be(t.nanos,i.nanos)}function DS(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=Wl(t[r],i[r]);if(a)return a}return Be(t.length,i.length)}function Gl(n){return Fv(n)}function Fv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=la(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ca(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=Fv(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const l of i)a?a=!1:r+=",",r+=`${l}:${Fv(t.fields[l])}`;return r+"}"}(n.mapValue):Ce()}function Wf(n){switch(ua(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cp(n);return e?16+Wf(e):16;case 5:return 2*n.stringValue.length;case 6:return ca(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,a)=>r+Wf(a),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return ya(i.fields,(a,l)=>{r+=a.length+Wf(l)}),r}(n.mapValue);default:throw Ce()}}function IS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qv(n){return!!n&&"integerValue"in n}function Z_(n){return!!n&&"arrayValue"in n}function kS(n){return!!n&&"nullValue"in n}function MS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gf(n){return!!n&&"mapValue"in n}function sz(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[SD])===null||t===void 0?void 0:t.stringValue)===TD}function Fu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ya(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Fu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function az(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Gf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fu(t)}setAll(e){let t=cn.emptyPath(),i={},r=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,i,r),i={},r=[],t=u.popLast()}l?i[u.lastSegment()]=Fu(l):r.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Gf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Gf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ya(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Nn(Fu(this.value))}}function xD(n){const e=[];return ya(n.fields,(t,i)=>{const r=new cn([t]);if(Gf(i)){const a=xD(i.mapValue).fields;if(a.length===0)e.push(r);else for(const l of a)e.push(r.child(l))}else e.push(r)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,i,r,a,l,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new yn(e,0,De.min(),De.min(),De.min(),Nn.empty(),0)}static newFoundDocument(e,t,i,r){return new yn(e,1,t,De.min(),i,r,0)}static newNoDocument(e,t){return new yn(e,2,t,De.min(),De.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,De.min(),De.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t){this.position=e,this.inclusive=t}}function OS(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],l=n.position[r];if(a.field.isKeyField()?i=we.comparator(we.fromName(l.referenceValue),t.key):i=Wl(l,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function NS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t="asc"){this.field=e,this.dir=t}}function oz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{}class Lt extends RD{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new cz(e,t,i):t==="array-contains"?new dz(e,i):t==="in"?new fz(e,i):t==="not-in"?new gz(e,i):t==="array-contains-any"?new pz(e,i):new Lt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new uz(e,i):new hz(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Wl(t,this.value)):t!==null&&ua(this.value)===ua(t)&&this.matchesComparison(Wl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends RD{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ki(e,t)}matches(e){return CD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function CD(n){return n.op==="and"}function DD(n){return lz(n)&&CD(n)}function lz(n){for(const e of n.filters)if(e instanceof ki)return!1;return!0}function Wv(n){if(n instanceof Lt)return n.field.canonicalString()+n.op.toString()+Gl(n.value);if(DD(n))return n.filters.map(e=>Wv(e)).join(",");{const e=n.filters.map(t=>Wv(t)).join(",");return`${n.op}(${e})`}}function ID(n,e){return n instanceof Lt?function(i,r){return r instanceof Lt&&i.op===r.op&&i.field.isEqual(r.field)&&cr(i.value,r.value)}(n,e):n instanceof ki?function(i,r){return r instanceof ki&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((a,l,u)=>a&&ID(l,r.filters[u]),!0):!1}(n,e):void Ce()}function kD(n){return n instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${Gl(t.value)}`}(n):n instanceof ki?function(t){return t.op.toString()+" {"+t.getFilters().map(kD).join(" ,")+"}"}(n):"Filter"}class cz extends Lt{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class uz extends Lt{constructor(e,t){super(e,"in",t),this.keys=MD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hz extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=MD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function MD(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>we.fromName(i.referenceValue))}class dz extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Z_(t)&&uh(t.arrayValue,this.value)}}class fz extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&uh(this.value.arrayValue,t)}}class gz extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!uh(this.value.arrayValue,t)}}class pz extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Z_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>uh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,t=null,i=[],r=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=l,this.endAt=u,this.le=null}}function PS(n,e=null,t=[],i=[],r=null,a=null,l=null){return new mz(n,e,t,i,r,a,l)}function J_(n){const e=ke(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Wv(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),lp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Gl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Gl(i)).join(",")),e.le=t}return e.le}function eb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ID(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!NS(n.startAt,e.startAt)&&NS(n.endAt,e.endAt)}function Gv(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t=null,i=[],r=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function yz(n,e,t,i,r,a,l,u){return new Ch(n,e,t,i,r,a,l,u)}function OD(n){return new Ch(n)}function LS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ND(n){return n.collectionGroup!==null}function qu(n){const e=ke(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Gt(cn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new vg(a,i))}),t.has(cn.keyField().canonicalString())||e.he.push(new vg(cn.keyField(),i))}return e.he}function sr(n){const e=ke(n);return e.Pe||(e.Pe=vz(e,qu(n))),e.Pe}function vz(n,e){if(n.limitType==="F")return PS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new vg(r.field,a)});const t=n.endAt?new yg(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new yg(n.startAt.position,n.startAt.inclusive):null;return PS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function $v(n,e){const t=n.filters.concat([e]);return new Ch(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Yv(n,e,t){return new Ch(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function up(n,e){return eb(sr(n),sr(e))&&n.limitType===e.limitType}function PD(n){return`${J_(sr(n))}|lt:${n.limitType}`}function Dl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>kD(r)).join(", ")}]`),lp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Gl(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Gl(r)).join(",")),`Target(${i})`}(sr(n))}; limitType=${n.limitType})`}function hp(n,e){return e.isFoundDocument()&&function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):we.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,r){for(const a of qu(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(l,u,h){const f=OS(l,u,h);return l.inclusive?f<=0:f<0}(i.startAt,qu(i),r)||i.endAt&&!function(l,u,h){const f=OS(l,u,h);return l.inclusive?f>=0:f>0}(i.endAt,qu(i),r))}(n,e)}function _z(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LD(n){return(e,t)=>{let i=!1;for(const r of qu(n)){const a=bz(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function bz(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):function(a,l,u){const h=l.data.field(a),f=u.data.field(a);return h!==null&&f!==null?Wl(h,f):Ce()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return vD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=new vt(we.comparator);function Zr(){return Ez}const VD=new vt(we.comparator);function Mu(...n){let e=VD;for(const t of n)e=e.insert(t.key,t);return e}function jD(n){let e=VD;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function co(){return Wu()}function UD(){return Wu()}function Wu(){return new Do(n=>n.toString(),(n,e)=>n.isEqual(e))}const Az=new vt(we.comparator),wz=new Gt(we.comparator);function Ue(...n){let e=wz;for(const t of n)e=e.add(t);return e}const Sz=new Gt(Be);function Tz(){return Sz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gg(e)?"-0":e}}function zD(n){return{integerValue:""+n}}function xz(n,e){return JU(e)?zD(e):tb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(){this._=void 0}}function Rz(n,e,t){return n instanceof _g?function(r,a){const l={fields:{[ED]:{stringValue:bD},[wD]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&X_(a)&&(a=cp(a)),a&&(l.fields[AD]=a),{mapValue:l}}(t,e):n instanceof hh?HD(n,e):n instanceof dh?FD(n,e):function(r,a){const l=BD(r,a),u=VS(l)+VS(r.Ie);return qv(l)&&qv(r.Ie)?zD(u):tb(r.serializer,u)}(n,e)}function Cz(n,e,t){return n instanceof hh?HD(n,e):n instanceof dh?FD(n,e):t}function BD(n,e){return n instanceof bg?function(i){return qv(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class _g extends dp{}class hh extends dp{constructor(e){super(),this.elements=e}}function HD(n,e){const t=qD(e);for(const i of n.elements)t.some(r=>cr(r,i))||t.push(i);return{arrayValue:{values:t}}}class dh extends dp{constructor(e){super(),this.elements=e}}function FD(n,e){let t=qD(e);for(const i of n.elements)t=t.filter(r=>!cr(r,i));return{arrayValue:{values:t}}}class bg extends dp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function VS(n){return Ct(n.integerValue||n.doubleValue)}function qD(n){return Z_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Dz(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof hh&&r instanceof hh||i instanceof dh&&r instanceof dh?ql(i.elements,r.elements,cr):i instanceof bg&&r instanceof bg?cr(i.Ie,r.Ie):i instanceof _g&&r instanceof _g}(n.transform,e.transform)}class Iz{constructor(e,t){this.version=e,this.transformResults=t}}class _i{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $f(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class fp{}function WD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new nb(n.key,_i.none()):new Dh(n.key,n.data,_i.none());{const t=n.data,i=Nn.empty();let r=new Gt(cn.comparator);for(let a of e.fields)if(!r.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?i.delete(a):i.set(a,l),r=r.add(a)}return new va(n.key,i,new Yn(r.toArray()),_i.none())}}function kz(n,e,t){n instanceof Dh?function(r,a,l){const u=r.value.clone(),h=US(r.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof va?function(r,a,l){if(!$f(r.precondition,a))return void a.convertToUnknownDocument(l.version);const u=US(r.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(GD(r)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(r,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Gu(n,e,t,i){return n instanceof Dh?function(a,l,u,h){if(!$f(a.precondition,l))return u;const f=a.value.clone(),p=zS(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof va?function(a,l,u,h){if(!$f(a.precondition,l))return u;const f=zS(a.fieldTransforms,h,l),p=l.data;return p.setAll(GD(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(a,l,u){return $f(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function Mz(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=BD(i.transform,r||null);a!=null&&(t===null&&(t=Nn.empty()),t.set(i.field,a))}return t||null}function jS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ql(i,r,(a,l)=>Dz(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dh extends fp{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class va extends fp{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function GD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function US(n,e,t){const i=new Map;et(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],l=a.transform,u=e.data.field(a.field);i.set(a.field,Cz(l,u,t[r]))}return i}function zS(n,e,t){const i=new Map;for(const r of n){const a=r.transform,l=t.data.field(r.field);i.set(r.field,Rz(a,l,e))}return i}class nb extends fp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Oz extends fp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&kz(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Gu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Gu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=UD();return this.mutations.forEach(r=>{const a=e.get(r.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(r.key)?null:u;const h=WD(l,u);h!==null&&i.set(r.key,h),l.isValidDocument()||l.convertToNoDocument(De.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,(t,i)=>jS(t,i))&&ql(this.baseMutations,e.baseMutations,(t,i)=>jS(t,i))}}class ib{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){et(e.mutations.length===i.length);let r=function(){return Az}();const a=e.mutations;for(let l=0;l<a.length;l++)r=r.insert(a[l].key,i[l].version);return new ib(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,We;function Vz(n){switch(n){case se.OK:return Ce();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ce()}}function $D(n){if(n===void 0)return Xr("GRPC error has no .code"),se.UNKNOWN;switch(n){case Pt.OK:return se.OK;case Pt.CANCELLED:return se.CANCELLED;case Pt.UNKNOWN:return se.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return se.INTERNAL;case Pt.UNAVAILABLE:return se.UNAVAILABLE;case Pt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Pt.NOT_FOUND:return se.NOT_FOUND;case Pt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Pt.ABORTED:return se.ABORTED;case Pt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Pt.DATA_LOSS:return se.DATA_LOSS;default:return Ce()}}(We=Pt||(Pt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz=new ta([4294967295,4294967295],0);function BS(n){const e=jz().encode(n),t=new cD;return t.update(e),new Uint8Array(t.digest())}function HS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ta([t,i],0),new ta([r,a],0)]}class rb{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ou(`Invalid padding: ${t}`);if(i<0)throw new Ou(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ta.fromNumber(this.Ee)}Ae(e,t,i){let r=e.add(t.multiply(ta.fromNumber(i)));return r.compare(Uz)===1&&(r=new ta([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=BS(e),[i,r]=HS(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,r,a);if(!this.Re(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new rb(a,r,t);return i.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=BS(e),[i,r]=HS(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,r,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Ih.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new gp(De.min(),r,new vt(Be),Zr(),Ue())}}class Ih{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ih(i,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t,i,r){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=r}}class YD{constructor(e,t){this.targetId=e,this.ge=t}}class QD{constructor(e,t,i=hn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class FS{constructor(){this.pe=0,this.ye=qS(),this.we=hn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),i=Ue();return this.ye.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Ce()}}),new Ih(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=qS()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,et(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class zz{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Zr(),this.$e=df(),this.Ke=df(),this.Ue=new vt(Be)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,r)=>{this.Je(r)&&t(r)})}Ze(e){const t=e.targetId,i=e.ge.count,r=this.Xe(t);if(r){const a=r.target;if(Gv(a))if(i===0){const l=new we(a.path);this.ze(t,l,yn.newNoDocument(l,De.min()))}else et(i===1);else{const l=this.et(t);if(l!==i){const u=this.tt(e),h=u?this.nt(u,e,l):1;if(h!==0){this.Ye(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let l,u;try{l=ca(i).toUint8Array()}catch(h){if(h instanceof _D)return Fl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new rb(l,r,a)}catch(h){return Fl(h instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Ee===0?null:u}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let r=0;return i.forEach(a=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,a,null),r++)}),r}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const u=this.Xe(l);if(u){if(a.current&&Gv(u.target)){const h=new we(u.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,yn.newNoDocument(h,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let i=Ue();this.Ke.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.Xe(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const r=new gp(e,t,this.Ue,this.Qe,i);return this.Qe=Zr(),this.$e=df(),this.Ke=df(),this.Ue=new vt(Be),r}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new FS,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Gt(Be),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Gt(Be),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new FS),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function df(){return new vt(we.comparator)}function qS(){return new vt(we.comparator)}const Bz={asc:"ASCENDING",desc:"DESCENDING"},Hz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fz={and:"AND",or:"OR"};class qz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qv(n,e){return n.useProto3Json||lp(e)?e:{value:e}}function Eg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Wz(n,e){return Eg(n,e.toTimestamp())}function ar(n){return et(!!n),De.fromTimestamp(function(t){const i=la(t);return new Wt(i.seconds,i.nanos)}(n))}function sb(n,e){return Kv(n,e).canonicalString()}function Kv(n,e){const t=function(r){return new ut(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function XD(n){const e=ut.fromString(n);return et(nI(e)),e}function Xv(n,e){return sb(n.databaseId,e.path)}function ev(n,e){const t=XD(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(JD(t))}function ZD(n,e){return sb(n.databaseId,e)}function Gz(n){const e=XD(n);return e.length===4?ut.emptyPath():JD(e)}function Zv(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JD(n){return et(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function WS(n,e,t){return{name:Xv(n,e),fields:t.value.mapValue.fields}}function $z(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(et(p===void 0||typeof p=="string"),hn.fromBase64String(p||"")):(et(p===void 0||p instanceof Buffer||p instanceof Uint8Array),hn.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const p=f.code===void 0?se.UNKNOWN:$D(f.code);return new ve(p,f.message||"")}(l);t=new QD(i,r,a,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=ev(n,i.document.name),a=ar(i.document.updateTime),l=i.document.createTime?ar(i.document.createTime):De.min(),u=new Nn({mapValue:{fields:i.document.fields}}),h=yn.newFoundDocument(r,a,l,u),f=i.targetIds||[],p=i.removedTargetIds||[];t=new Yf(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=ev(n,i.document),a=i.readTime?ar(i.readTime):De.min(),l=yn.newNoDocument(r,a),u=i.removedTargetIds||[];t=new Yf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=ev(n,i.document),a=i.removedTargetIds||[];t=new Yf([],a,r,null)}else{if(!("filter"in e))return Ce();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,l=new Lz(r,a),u=i.targetId;t=new YD(u,l)}}return t}function Yz(n,e){let t;if(e instanceof Dh)t={update:WS(n,e.key,e.value)};else if(e instanceof nb)t={delete:Xv(n,e.key)};else if(e instanceof va)t={update:WS(n,e.key,e.data),updateMask:i4(e.fieldMask)};else{if(!(e instanceof Oz))return Ce();t={verify:Xv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,l){const u=l.transform;if(u instanceof _g)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof hh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof dh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof bg)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Ce()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:Wz(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce()}(n,e.precondition)),t}function Qz(n,e){return n&&n.length>0?(et(e!==void 0),n.map(t=>function(r,a){let l=r.updateTime?ar(r.updateTime):ar(a);return l.isEqual(De.min())&&(l=ar(a)),new Iz(l,r.transformResults||[])}(t,e))):[]}function Kz(n,e){return{documents:[ZD(n,e.path)]}}function Xz(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=ZD(n,r);const a=function(f){if(f.length!==0)return tI(ki.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(p=>function(_){return{field:Il(_.field),direction:e4(_.dir)}}(p))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Qv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:r}}function Zz(n){let e=Gz(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){et(i===1);const p=t.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=function(v){const _=eI(v);return _ instanceof ki&&DD(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(_=>function(T){return new vg(kl(T.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(v){let _;return _=typeof v=="object"?v.value:v,lp(_)?null:_}(t.limit));let h=null;t.startAt&&(h=function(v){const _=!!v.before,b=v.values||[];return new yg(b,_)}(t.startAt));let f=null;return t.endAt&&(f=function(v){const _=!v.before,b=v.values||[];return new yg(b,_)}(t.endAt)),yz(e,r,l,a,u,"F",h,f)}function Jz(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=kl(t.unaryFilter.field);return Lt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=kl(t.unaryFilter.field);return Lt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=kl(t.unaryFilter.field);return Lt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=kl(t.unaryFilter.field);return Lt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(n):n.fieldFilter!==void 0?function(t){return Lt.create(kl(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ki.create(t.compositeFilter.filters.map(i=>eI(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(n):Ce()}function e4(n){return Bz[n]}function t4(n){return Hz[n]}function n4(n){return Fz[n]}function Il(n){return{fieldPath:n.canonicalString()}}function kl(n){return cn.fromServerFormat(n.fieldPath)}function tI(n){return n instanceof Lt?function(t){if(t.op==="=="){if(MS(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NAN"}};if(kS(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(MS(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NAN"}};if(kS(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(t.field),op:t4(t.op),value:t.value}}}(n):n instanceof ki?function(t){const i=t.getFilters().map(r=>tI(r));return i.length===1?i[0]:{compositeFilter:{op:n4(t.op),filters:i}}}(n):Ce()}function i4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t,i,r,a=De.min(),l=De.min(),u=hn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.Tt=e}}function s4(n){const e=Zz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Yv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.Tn=new o4}addToCollectionParentIndex(e,t){return this.Tn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(oa.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(oa.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class o4{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Gt(ut.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Gt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iI=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(iI,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new $l(0)}static Un(){return new $l(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="LruGarbageCollector",l4=1048576;function YS([n,e],[t,i]){const r=Be(n,t);return r===0?Be(e,i):r}class c4{constructor(e){this.Hn=e,this.buffer=new Gt(YS),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();YS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class u4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe($S,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ac(t)?pe($S,"Ignoring IndexedDB error during garbage collection: ",t):await sc(t)}await this.er(3e5)})}}class h4{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return re.resolve(op.ae);const i=new c4(t);return this.tr.forEachTarget(e,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(e,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(GS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GS):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,r,a,l,u,h,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,l=Date.now(),this.nthSequenceNumber(e,r))).next(v=>(i=v,u=Date.now(),this.removeTargets(e,i,t))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(f=Date.now(),Cl()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:v})))}}function d4(n,e){return new h4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.changes=new Do(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Gu(i.mutation,r,Yn.empty(),Wt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ue()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ue()){const r=co();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let l=Mu();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=co();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ue()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,i,r){let a=Zr();const l=Wu(),u=function(){return Wu()}();return t.forEach((h,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof va)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Gu(p.mutation,f,p.mutation.getFieldMask(),Wt.now())):l.set(f.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((f,p)=>l.set(f,p)),t.forEach((f,p)=>{var v;return u.set(f,new g4(p,(v=l.get(f))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){const i=Wu();let r=new vt((l,u)=>l-u),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let p=i.get(h)||Yn.empty();p=u.applyToLocalView(f,p),i.set(h,p);const v=(r.get(u.batchId)||Ue()).add(h);r=r.insert(u.batchId,v)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,p=h.value,v=UD();p.forEach(_=>{if(!a.has(_)){const b=WD(t.get(_),i.get(_));b!==null&&v.set(_,b),a=a.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return re.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(l){return we.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ND(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const l=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):re.resolve(co());let u=oh,h=a;return l.next(f=>re.forEach(f,(p,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(p)?re.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,h,f,Ue())).next(p=>({batchId:u,changes:jD(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let r=Mu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let l=Mu();return this.indexManager.getCollectionParents(e,a).next(u=>re.forEach(u,h=>{const f=function(v,_){return new Ch(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(p=>{p.forEach((v,_)=>{l=l.insert(v,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r))).next(l=>{a.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,yn.newInvalidDocument(p)))});let u=Mu();return l.forEach((h,f)=>{const p=a.get(h);p!==void 0&&Gu(p.mutation,f,Yn.empty(),Wt.now()),hp(t,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return re.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:ar(r.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(r){return{name:r.name,query:s4(r.bundledQuery),readTime:ar(r.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.overlays=new vt(we.comparator),this.Rr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=co();return re.forEach(t,r=>this.getOverlay(e,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.Et(e,t,a)}),re.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const r=co(),a=t.length+1,l=new we(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&r.set(h.getKey(),h)}return re.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new vt((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let p=a.get(f.largestBatchId);p===null&&(p=co(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=co(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=r)););return re.resolve(u)}Et(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Pz(t,i));let a=this.Rr.get(t);a===void 0&&(a=Ue(),this.Rr.set(t,a)),this.Rr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.Vr=new Gt(en.mr),this.gr=new Gt(en.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new en(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new en(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new we(new ut([])),i=new en(t,e),r=new en(t,e+1),a=[];return this.gr.forEachInRange([i,r],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new we(new ut([])),i=new en(t,e),r=new en(t,e+1);let a=Ue();return this.gr.forEachInRange([i,r],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new en(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class en{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return we.comparator(e.key,t.key)||Be(e.Cr,t.Cr)}static pr(e,t){return Be(e.Cr,t.Cr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Gt(en.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Nz(a,t,i,r);this.mutationQueue.push(l);for(const u of r)this.Mr=this.Mr.add(new en(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,t){return re.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Nr(i),a=r<0?0:r;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?K_:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new en(t,0),r=new en(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,r],l=>{const u=this.Or(l.Cr);a.push(u)}),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Gt(Be);return t.forEach(r=>{const a=new en(r,0),l=new en(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],u=>{i=i.add(u.Cr)})}),re.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;we.isDocumentKey(a)||(a=a.child(""));const l=new en(new we(a),0);let u=new Gt(Be);return this.Mr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(h.Cr)),!0)},l),re.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(i=>{const r=this.Or(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){et(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return re.forEach(t.mutations,r=>{const a=new en(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new en(t,0),r=this.Mr.firstAfterOrEqual(i);return re.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.kr=e,this.docs=function(){return new vt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,l=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let i=Zr();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():yn.newInvalidDocument(r))}),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=Zr();const l=t.path,u=new we(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||QU(YU(p),i)<=0||(r.has(p.key)||hp(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,i,r){Ce()}qr(e,t){return re.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new E4(this)}getSize(e){return re.resolve(this.size)}}class E4 extends f4{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(i)}),re.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.persistence=e,this.Qr=new Do(t=>J_(t),eb),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ab,this.targetCount=0,this.Ur=$l.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,r)=>t(r)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),re.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new $l(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.zn(t),re.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&i.get(u.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),re.waitFor(a).next(()=>r)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(l=>{a.push(r.markPotentiallyOrphaned(e,l))}),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new op(0),this.zr=!1,this.zr=!0,this.jr=new v4,this.referenceDelegate=e(this),this.Hr=new A4(this),this.indexManager=new a4,this.remoteDocumentCache=function(r){return new b4(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new r4(t),this.Yr=new m4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new _4(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const r=new w4(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(a=>this.referenceDelegate.Xr(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}ei(e,t){return re.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class w4 extends XU{constructor(e){super(),this.currentSequenceNumber=e}}class ob{constructor(e){this.persistence=e,this.ti=new ab,this.ni=null}static ri(e){return new ob(e)}get ii(){if(this.ni)return this.ni;throw Ce()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),re.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,i=>{const r=we.fromPath(i);return this.si(e,r).next(a=>{a||t.removeEntry(r,De.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return re.or([()=>re.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ag{constructor(e,t){this.persistence=e,this.oi=new Do(i=>ez(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=d4(this,t)}static ri(e,t){return new Ag(e,t)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return re.forEach(this.oi,(i,r)=>this.ar(e,i,r).next(a=>a?re.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.qr(e,l=>this.ar(e,l,t).next(u=>{u||(i++,a.removeEntry(l,De.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wf(e.data.value)),t}ar(e,t,i){return re.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.oi.get(t);return re.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=r}static Yi(e,t){let i=Ue(),r=Ue();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new lb(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return N2()?8:ZU(En())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,r,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new S4;return this._s(e,t,l).next(u=>{if(a.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>a.result)}us(e,t,i,r){return i.documentReadCount<this.es?(Cl()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Dl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(Cl()<=je.DEBUG&&pe("QueryEngine","Query:",Dl(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?(Cl()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Dl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(t))):re.resolve())}rs(e,t){if(LS(t))return re.resolve(null);let i=sr(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Yv(t,null,"F"),i=sr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const l=Ue(...a);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.cs(t,u);return this.ls(t,f,l,h.readTime)?this.rs(e,Yv(t,null,"F")):this.hs(e,f,t,h)}))})))}ss(e,t,i,r){return LS(t)||r.isEqual(De.min())?re.resolve(null):this.ns.getDocuments(e,i).next(a=>{const l=this.cs(t,a);return this.ls(t,l,i,r)?re.resolve(null):(Cl()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dl(t)),this.hs(e,l,t,$U(r,oh)).next(u=>u))})}cs(e,t){let i=new Gt(LD(e));return t.forEach((r,a)=>{hp(e,a)&&(i=i.add(a))}),i}ls(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}_s(e,t,i){return Cl()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Dl(t)),this.ns.getDocumentsMatchingQuery(e,t,oa.min(),i)}hs(e,t,i,r){return this.ns.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="LocalStore",x4=3e8;class R4{constructor(e,t,i,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new vt(Be),this.Is=new Do(a=>J_(a),eb),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function C4(n,e,t,i){return new R4(n,e,t,i)}async function sI(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],u=[];let h=Ue();for(const f of r){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){u.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return t.localDocuments.getDocuments(i,h).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:u}))})})}function D4(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,h,f,p){const v=f.batch,_=v.keys();let b=re.resolve();return _.forEach(T=>{b=b.next(()=>p.getEntry(h,T)).next(R=>{const x=f.docVersions.get(T);et(x!==null),R.version.compareTo(x)<0&&(v.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),p.addEntry(R)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(h,v))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Ue();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function aI(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function I4(n,e){const t=ke(n),i=e.snapshotVersion;let r=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});r=t.Ts;const u=[];e.targetChanges.forEach((p,v)=>{const _=r.get(v);if(!_)return;u.push(t.Hr.removeMatchingKeys(a,p.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(a,p.addedDocuments,v)));let b=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(hn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,i)),r=r.insert(v,b),function(R,x,M){return R.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=x4?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(_,b,p)&&u.push(t.Hr.updateTargetData(a,b))});let h=Zr(),f=Ue();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(k4(a,l,e.documentUpdates).next(p=>{h=p.Vs,f=p.fs})),!i.isEqual(De.min())){const p=t.Hr.getLastRemoteSnapshotVersion(a).next(v=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));u.push(p)}return re.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(t.Ts=r,a))}function k4(n,e,t){let i=Ue(),r=Ue();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let l=Zr();return t.forEach((u,h)=>{const f=a.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(De.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):pe(cb,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Vs:l,fs:r}})}function M4(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=K_),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function O4(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Hr.getTargetData(i,e).next(a=>a?(r=a,re.resolve(r)):t.Hr.allocateTargetId(i).next(l=>(r=new $s(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Jv(n,e,t){const i=ke(n),r=i.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!ac(l))throw l;pe(cb,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ts=i.Ts.remove(e),i.Is.delete(r.target)}function QS(n,e,t){const i=ke(n);let r=De.min(),a=Ue();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const v=ke(h),_=v.Is.get(p);return _!==void 0?re.resolve(v.Ts.get(_)):v.Hr.getTargetData(f,p)}(i,l,sr(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(l,e,t?r:De.min(),t?a:Ue())).next(u=>(N4(i,_z(e),u),{documents:u,gs:a})))}function N4(n,e,t){let i=n.Es.get(e)||De.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Es.set(e,i)}class KS{constructor(){this.activeTargetIds=Tz()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P4{constructor(){this.ho=new KS,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new KS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="ConnectivityMonitor";class ZS{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(XS,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(XS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff=null;function e_(){return ff===null?ff=function(){return 268435456+Math.round(2147483648*Math.random())}():ff++,"0x"+ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="RestConnection",V4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===pg?`project_id=${i}`:`project_id=${i}&database_id=${r}`}So(e,t,i,r,a){const l=e_(),u=this.bo(e,t.toUriEncodedString());pe(tv,`Sending RPC '${e}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,r,a),this.vo(e,u,h,i).then(f=>(pe(tv,`Received RPC '${e}' ${l}: `,f),f),f=>{throw Fl(tv,`RPC '${e}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Co(e,t,i,r,a,l){return this.So(e,t,i,r,a)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}bo(e,t){const i=V4[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class z4 extends j4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,r){const a=e_();return new Promise((l,u)=>{const h=new uD;h.setWithCredentials(!0),h.listenOnce(hD.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case qf.NO_ERROR:const p=h.getResponseJson();pe(pn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case qf.TIMEOUT:pe(pn,`RPC '${e}' ${a} timed out`),u(new ve(se.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const v=h.getStatus();if(pe(pn,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const b=_==null?void 0:_.error;if(b&&b.status&&b.message){const T=function(x){const M=x.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(M)>=0?M:se.UNKNOWN}(b.status);u(new ve(T,b.message))}else u(new ve(se.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ve(se.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{pe(pn,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);pe(pn,`RPC '${e}' ${a} sending request:`,r),h.send(t,"POST",f,i,15)})}Wo(e,t,i){const r=e_(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=gD(),u=fD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const p=a.join("");pe(pn,`Creating RPC '${e}' stream ${r}: ${p}`,h);const v=l.createWebChannel(p,h);let _=!1,b=!1;const T=new U4({Fo:x=>{b?pe(pn,`Not sending because RPC '${e}' stream ${r} is closed:`,x):(_||(pe(pn,`Opening RPC '${e}' stream ${r} transport.`),v.open(),_=!0),pe(pn,`RPC '${e}' stream ${r} sending:`,x),v.send(x))},Mo:()=>v.close()}),R=(x,M,V)=>{x.listen(M,z=>{try{V(z)}catch($){setTimeout(()=>{throw $},0)}})};return R(v,ku.EventType.OPEN,()=>{b||(pe(pn,`RPC '${e}' stream ${r} transport opened.`),T.Qo())}),R(v,ku.EventType.CLOSE,()=>{b||(b=!0,pe(pn,`RPC '${e}' stream ${r} transport closed`),T.Ko())}),R(v,ku.EventType.ERROR,x=>{b||(b=!0,Fl(pn,`RPC '${e}' stream ${r} transport errored:`,x),T.Ko(new ve(se.UNAVAILABLE,"The operation could not be completed")))}),R(v,ku.EventType.MESSAGE,x=>{var M;if(!b){const V=x.data[0];et(!!V);const z=V,$=(z==null?void 0:z.error)||((M=z[0])===null||M===void 0?void 0:M.error);if($){pe(pn,`RPC '${e}' stream ${r} received error:`,$);const J=$.status;let ne=function(I){const O=Pt[I];if(O!==void 0)return $D(O)}(J),N=$.message;ne===void 0&&(ne=se.INTERNAL,N="Unknown error status: "+J+" with message "+$.message),b=!0,T.Ko(new ve(ne,N)),v.close()}else pe(pn,`RPC '${e}' stream ${r} received:`,V),T.Uo(V)}}),R(u,dD.STAT_EVENT,x=>{x.stat===Hv.PROXY?pe(pn,`RPC '${e}' stream ${r} detected buffering proxy`):x.stat===Hv.NOPROXY&&pe(pn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function nv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(n){return new qz(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=r,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-i);r>0&&pe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="PersistentStream";class lI{constructor(e,t,i,r,a,l,u,h){this.Ti=e,this.n_=i,this.r_=r,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new oI(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===t&&this.V_(i,r)},i=>{e(()=>{const r=new ve(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(JS,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(JS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B4 extends lI{constructor(e,t,i,r,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=$z(this.serializer,e),i=function(a){if(!("targetChange"in a))return De.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?De.min():l.readTime?ar(l.readTime):De.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Zv(this.serializer),t.addTarget=function(a,l){let u;const h=l.target;if(u=Gv(h)?{documents:Kz(a,h)}:{query:Xz(a,h).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=KD(a,l.resumeToken);const f=Qv(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(De.min())>0){u.readTime=Eg(a,l.snapshotVersion.toTimestamp());const f=Qv(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const i=Jz(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Zv(this.serializer),t.removeTarget=e,this.I_(t)}}class H4 extends lI{constructor(e,t,i,r,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Qz(e.writeResults,e.commitTime),i=ar(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Zv(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Yz(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{}class q4 extends F4{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,Kv(t,i),r,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(se.UNKNOWN,a.toString())})}Co(e,t,i,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,Kv(t,i),r,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(se.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class W4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Xr(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="RemoteStore";class G4{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{i.enqueueAndForget(async()=>{Io(this)&&(pe(bo,"Restarting streams for network reachability change."),await async function(h){const f=ke(h);f.W_.add(4),await kh(f),f.j_.set("Unknown"),f.W_.delete(4),await mp(f)}(this))})}),this.j_=new W4(i,r)}}async function mp(n){if(Io(n))for(const e of n.G_)await e(!0)}async function kh(n){for(const e of n.G_)await e(!1)}function cI(n,e){const t=ke(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),fb(t)?db(t):oc(t).c_()&&hb(t,e))}function ub(n,e){const t=ke(n),i=oc(t);t.U_.delete(e),i.c_()&&uI(t,e),t.U_.size===0&&(i.c_()?i.P_():Io(t)&&t.j_.set("Unknown"))}function hb(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}oc(n).y_(e)}function uI(n,e){n.H_.Ne(e),oc(n).w_(e)}function db(n){n.H_=new zz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),oc(n).start(),n.j_.B_()}function fb(n){return Io(n)&&!oc(n).u_()&&n.U_.size>0}function Io(n){return ke(n).W_.size===0}function hI(n){n.H_=void 0}async function $4(n){n.j_.set("Online")}async function Y4(n){n.U_.forEach((e,t)=>{hb(n,e)})}async function Q4(n,e){hI(n),fb(n)?(n.j_.q_(e),db(n)):n.j_.set("Unknown")}async function K4(n,e,t){if(n.j_.set("Online"),e instanceof QD&&e.state===2&&e.cause)try{await async function(r,a){const l=a.cause;for(const u of a.targetIds)r.U_.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.U_.delete(u),r.H_.removeTarget(u))}(n,e)}catch(i){pe(bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await wg(n,i)}else if(e instanceof Yf?n.H_.We(e):e instanceof YD?n.H_.Ze(e):n.H_.je(e),!t.isEqual(De.min()))try{const i=await aI(n.localStore);t.compareTo(i)>=0&&await function(a,l){const u=a.H_.ot(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.U_.get(f);p&&a.U_.set(f,p.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const p=a.U_.get(h);if(!p)return;a.U_.set(h,p.withResumeToken(hn.EMPTY_BYTE_STRING,p.snapshotVersion)),uI(a,h);const v=new $s(p.target,h,f,p.sequenceNumber);hb(a,v)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(i){pe(bo,"Failed to raise snapshot:",i),await wg(n,i)}}async function wg(n,e,t){if(!ac(e))throw e;n.W_.add(1),await kh(n),n.j_.set("Offline"),t||(t=()=>aI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(bo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await mp(n)})}function dI(n,e){return e().catch(t=>wg(n,t,e))}async function yp(n){const e=ke(n),t=ha(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:K_;for(;X4(e);)try{const r=await M4(e.localStore,i);if(r===null){e.K_.length===0&&t.P_();break}i=r.batchId,Z4(e,r)}catch(r){await wg(e,r)}fI(e)&&gI(e)}function X4(n){return Io(n)&&n.K_.length<10}function Z4(n,e){n.K_.push(e);const t=ha(n);t.c_()&&t.S_&&t.b_(e.mutations)}function fI(n){return Io(n)&&!ha(n).u_()&&n.K_.length>0}function gI(n){ha(n).start()}async function J4(n){ha(n).C_()}async function eB(n){const e=ha(n);for(const t of n.K_)e.b_(t.mutations)}async function tB(n,e,t){const i=n.K_.shift(),r=ib.from(i,e,t);await dI(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await yp(n)}async function nB(n,e){e&&ha(n).S_&&await async function(i,r){if(function(l){return Vz(l)&&l!==se.ABORTED}(r.code)){const a=i.K_.shift();ha(i).h_(),await dI(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),await yp(i)}}(n,e),fI(n)&&gI(n)}async function eT(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),pe(bo,"RemoteStore received new credentials");const i=Io(t);t.W_.add(3),await kh(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await mp(t)}async function iB(n,e){const t=ke(n);e?(t.W_.delete(2),await mp(t)):e||(t.W_.add(2),await kh(t),t.j_.set("Unknown"))}function oc(n){return n.J_||(n.J_=function(t,i,r){const a=ke(t);return a.M_(),new B4(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{xo:$4.bind(null,n),No:Y4.bind(null,n),Lo:Q4.bind(null,n),p_:K4.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),fb(n)?db(n):n.j_.set("Unknown")):(await n.J_.stop(),hI(n))})),n.J_}function ha(n){return n.Y_||(n.Y_=function(t,i,r){const a=ke(t);return a.M_(),new H4(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:J4.bind(null,n),Lo:nB.bind(null,n),D_:eB.bind(null,n),v_:tB.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await yp(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(bo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const l=Date.now()+i,u=new gb(e,t,l,r,a);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pb(n,e){if(Xr("AsyncQueue",`${e}: ${n}`),ac(n))return new ve(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{static emptySet(e){return new jl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=Mu(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new jl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.Z_=new vt(we.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ce():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Yl{constructor(e,t,i,r,a,l,u,h,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,r,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Yl(e,t,jl.emptySet(t),l,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class sB{constructor(){this.queries=nT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const r=ke(t),a=r.queries;r.queries=nT(),a.forEach((l,u)=>{for(const h of u.ta)h.onError(i)})})(this,new ve(se.ABORTED,"Firestore shutting down"))}}function nT(){return new Do(n=>PD(n),up)}async function aB(n,e){const t=ke(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.na()&&e.ra()&&(i=2):(a=new rB,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await t.onListen(r,!0);break;case 1:a.ea=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(l){const u=pb(l,`Initialization of query '${Dl(e.query)}' failed`);return void e.onError(u)}t.queries.set(r,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&mb(t)}async function oB(n,e){const t=ke(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?r=e.ra()?0:1:!a.na()&&e.ra()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function lB(n,e){const t=ke(n);let i=!1;for(const r of e){const a=r.query,l=t.queries.get(a);if(l){for(const u of l.ta)u.oa(r)&&(i=!0);l.ea=r}}i&&mb(t)}function cB(n,e,t){const i=ke(n),r=i.queries.get(e);if(r)for(const a of r.ta)a.onError(t);i.queries.delete(e)}function mb(n){n.ia.forEach(e=>{e.next()})}var t_,iT;(iT=t_||(t_={}))._a="default",iT.Cache="cache";class uB{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Yl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==t_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.key=e}}class mI{constructor(e){this.key=e}}class hB{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=LD(e),this.wa=new jl(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new tT,r=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=r,u=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((p,v)=>{const _=r.get(p),b=hp(this.query,v)?v:null,T=!!_&&this.mutatedKeys.has(_.key),R=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let x=!1;_&&b?_.data.isEqual(b.data)?T!==R&&(i.track({type:3,doc:b}),x=!0):this.va(_,b)||(i.track({type:2,doc:b}),x=!0,(h&&this.ya(b,h)>0||f&&this.ya(b,f)<0)&&(u=!0)):!_&&b?(i.track({type:0,doc:b}),x=!0):_&&!b&&(i.track({type:1,doc:_}),x=!0,(h||f)&&(u=!0)),x&&(b?(l=l.add(b),a=R?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{wa:l,Da:i,ls:u,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((p,v)=>function(b,T){const R=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return R(b)-R(T)}(p.type,v.type)||this.ya(p.doc,v.doc)),this.Ca(i),r=r!=null&&r;const u=t&&!r?this.Fa():[],h=this.pa.size===0&&this.current&&!r?1:0,f=h!==this.ga;return this.ga=h,l.length!==0||f?{snapshot:new Yl(this.query,e.wa,a,l,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new tT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new mI(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new pI(i))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Yl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const yb="SyncEngine";class dB{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class fB{constructor(e){this.key=e,this.Ba=!1}}class gB{constructor(e,t,i,r,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Do(u=>PD(u),up),this.qa=new Map,this.Qa=new Set,this.$a=new vt(we.comparator),this.Ka=new Map,this.Ua=new ab,this.Wa={},this.Ga=new Map,this.za=$l.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function pB(n,e,t=!0){const i=AI(n);let r;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.Na()):r=await yI(i,e,t,!0),r}async function mB(n,e){const t=AI(n);await yI(t,e,!0,!1)}async function yI(n,e,t,i){const r=await O4(n.localStore,sr(e)),a=r.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return i&&(u=await yB(n,e,a,l==="current",r.resumeToken)),n.isPrimaryClient&&t&&cI(n.remoteStore,r),u}async function yB(n,e,t,i,r){n.Ha=(v,_,b)=>async function(R,x,M,V){let z=x.view.ba(M);z.ls&&(z=await QS(R.localStore,x.query,!1).then(({documents:N})=>x.view.ba(N,z)));const $=V&&V.targetChanges.get(x.targetId),J=V&&V.targetMismatches.get(x.targetId)!=null,ne=x.view.applyChanges(z,R.isPrimaryClient,$,J);return sT(R,x.targetId,ne.Ma),ne.snapshot}(n,v,_,b);const a=await QS(n.localStore,e,!0),l=new hB(e,a.gs),u=l.ba(a.documents),h=Ih.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),f=l.applyChanges(u,n.isPrimaryClient,h);sT(n,t,f.Ma);const p=new dB(e,t,l);return n.ka.set(e,p),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function vB(n,e,t){const i=ke(n),r=i.ka.get(e),a=i.qa.get(r.targetId);if(a.length>1)return i.qa.set(r.targetId,a.filter(l=>!up(l,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Jv(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&ub(i.remoteStore,r.targetId),n_(i,r.targetId)}).catch(sc)):(n_(i,r.targetId),await Jv(i.localStore,r.targetId,!0))}async function _B(n,e){const t=ke(n),i=t.ka.get(e),r=t.qa.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ub(t.remoteStore,i.targetId))}async function bB(n,e,t){const i=RB(n);try{const r=await function(l,u){const h=ke(l),f=Wt.now(),p=u.reduce((b,T)=>b.add(T.key),Ue());let v,_;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let T=Zr(),R=Ue();return h.ds.getEntries(b,p).next(x=>{T=x,T.forEach((M,V)=>{V.isValidDocument()||(R=R.add(M))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,T)).next(x=>{v=x;const M=[];for(const V of u){const z=Mz(V,v.get(V.key).overlayedDocument);z!=null&&M.push(new va(V.key,z,xD(z.value.mapValue),_i.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,M,u)}).next(x=>{_=x;const M=x.applyToLocalDocumentSet(v,R);return h.documentOverlayCache.saveOverlays(b,x.batchId,M)})}).then(()=>({batchId:_.batchId,changes:jD(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,u,h){let f=l.Wa[l.currentUser.toKey()];f||(f=new vt(Be)),f=f.insert(u,h),l.Wa[l.currentUser.toKey()]=f}(i,r.batchId,t),await Mh(i,r.changes),await yp(i.remoteStore)}catch(r){const a=pb(r,"Failed to persist write");t.reject(a)}}async function vI(n,e){const t=ke(n);try{const i=await I4(t.localStore,e);e.targetChanges.forEach((r,a)=>{const l=t.Ka.get(a);l&&(et(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.Ba=!0:r.modifiedDocuments.size>0?et(l.Ba):r.removedDocuments.size>0&&(et(l.Ba),l.Ba=!1))}),await Mh(t,i,e)}catch(i){await sc(i)}}function rT(n,e,t){const i=ke(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.ka.forEach((a,l)=>{const u=l.view.sa(e);u.snapshot&&r.push(u.snapshot)}),function(l,u){const h=ke(l);h.onlineState=u;let f=!1;h.queries.forEach((p,v)=>{for(const _ of v.ta)_.sa(u)&&(f=!0)}),f&&mb(h)}(i.eventManager,e),r.length&&i.La.p_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function EB(n,e,t){const i=ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Ka.get(e),a=r&&r.key;if(a){let l=new vt(we.comparator);l=l.insert(a,yn.newNoDocument(a,De.min()));const u=Ue().add(a),h=new gp(De.min(),new Map,new vt(Be),l,u);await vI(i,h),i.$a=i.$a.remove(a),i.Ka.delete(e),vb(i)}else await Jv(i.localStore,e,!1).then(()=>n_(i,e,t)).catch(sc)}async function AB(n,e){const t=ke(n),i=e.batch.batchId;try{const r=await D4(t.localStore,e);bI(t,i,null),_I(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Mh(t,r)}catch(r){await sc(r)}}async function wB(n,e,t){const i=ke(n);try{const r=await function(l,u){const h=ke(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,u).next(v=>(et(v!==null),p=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,e);bI(i,e,t),_I(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Mh(i,r)}catch(r){await sc(r)}}function _I(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function bI(n,e,t){const i=ke(n);let r=i.Wa[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Wa[i.currentUser.toKey()]=r}}function n_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||EI(n,i)})}function EI(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(ub(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),vb(n))}function sT(n,e,t){for(const i of t)i instanceof pI?(n.Ua.addReference(i.key,e),SB(n,i)):i instanceof mI?(pe(yb,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||EI(n,i.key)):Ce()}function SB(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(pe(yb,"New document in limbo: "+t),n.Qa.add(i),vb(n))}function vb(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new we(ut.fromString(e)),i=n.za.next();n.Ka.set(i,new fB(t)),n.$a=n.$a.insert(t,i),cI(n.remoteStore,new $s(sr(OD(t.path)),i,"TargetPurposeLimboResolution",op.ae))}}async function Mh(n,e,t){const i=ke(n),r=[],a=[],l=[];i.ka.isEmpty()||(i.ka.forEach((u,h)=>{l.push(i.Ha(h,e,t).then(f=>{var p;if((f||t)&&i.isPrimaryClient){const v=f?!f.fromCache:(p=t==null?void 0:t.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(f){r.push(f);const v=lb.Yi(h.targetId,f);a.push(v)}}))}),await Promise.all(l),i.La.p_(r),await async function(h,f){const p=ke(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>re.forEach(f,_=>re.forEach(_.Hi,b=>p.persistence.referenceDelegate.addReference(v,_.targetId,b)).next(()=>re.forEach(_.Ji,b=>p.persistence.referenceDelegate.removeReference(v,_.targetId,b)))))}catch(v){if(!ac(v))throw v;pe(cb,"Failed to update sequence numbers: "+v)}for(const v of f){const _=v.targetId;if(!v.fromCache){const b=p.Ts.get(_),T=b.snapshotVersion,R=b.withLastLimboFreeSnapshotVersion(T);p.Ts=p.Ts.insert(_,R)}}}(i.localStore,a))}async function TB(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){pe(yb,"User change. New user:",e.toKey());const i=await sI(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(u=>{u.forEach(h=>{h.reject(new ve(se.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Mh(t,i.Rs)}}function xB(n,e){const t=ke(n),i=t.Ka.get(e);if(i&&i.Ba)return Ue().add(i.key);{let r=Ue();const a=t.qa.get(e);if(!a)return r;for(const l of a){const u=t.ka.get(l);r=r.unionWith(u.view.Sa)}return r}}function AI(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EB.bind(null,e),e.La.p_=lB.bind(null,e.eventManager),e.La.Ja=cB.bind(null,e.eventManager),e}function RB(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wB.bind(null,e),e}class Sg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return C4(this.persistence,new T4,e.initialUser,this.serializer)}Xa(e){return new rI(ob.ri,this.serializer)}Za(e){return new P4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sg.provider={build:()=>new Sg};class CB extends Sg{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){et(this.persistence.referenceDelegate instanceof Ag);const i=this.persistence.referenceDelegate.garbageCollector;return new u4(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new rI(i=>Ag.ri(i,t),this.serializer)}}class i_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>rT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=TB.bind(null,this.syncEngine),await iB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sB}()}createDatastore(e){const t=pp(e.databaseInfo.databaseId),i=function(a){return new z4(a)}(e.databaseInfo);return function(a,l,u,h){return new q4(a,l,u,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,a,l,u){return new G4(i,r,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>rT(this.syncEngine,t,0),function(){return ZS.D()?new ZS:new L4}())}createSyncEngine(e,t){return function(r,a,l,u,h,f,p){const v=new gB(r,a,l,u,h,f);return p&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const a=ke(r);pe(bo,"RemoteStore shutting down."),a.W_.add(5),await kh(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}i_.provider={build:()=>new i_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="FirestoreClient";class IB{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=mn.UNAUTHENTICATED,this.clientId=mD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{pe(da,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(pe(da,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=pb(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function iv(n,e){n.asyncQueue.verifyOperationInProgress(),pe(da,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await sI(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function aT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await kB(n);pe(da,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>eT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>eT(e.remoteStore,r)),n._onlineComponents=e}async function kB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(da,"Using user provided OfflineComponentProvider");try{await iv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===se.FAILED_PRECONDITION||r.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Fl("Error using user provided cache. Falling back to memory cache: "+t),await iv(n,new Sg)}}else pe(da,"Using default OfflineComponentProvider"),await iv(n,new CB(void 0));return n._offlineComponents}async function wI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(da,"Using user provided OnlineComponentProvider"),await aT(n,n._uninitializedComponentsProvider._online)):(pe(da,"Using default OnlineComponentProvider"),await aT(n,new i_))),n._onlineComponents}function MB(n){return wI(n).then(e=>e.syncEngine)}async function OB(n){const e=await wI(n),t=e.eventManager;return t.onListen=pB.bind(null,e.syncEngine),t.onUnlisten=vB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_B.bind(null,e.syncEngine),t}function NB(n,e,t={}){const i=new na;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,f){const p=new DB({next:_=>{p.su(),l.enqueueAndForget(()=>oB(a,v)),_.fromCache&&h.source==="server"?f.reject(new ve(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new uB(u,p,{includeMetadataChanges:!0,Ta:!0});return aB(a,v)}(await OB(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n,e,t){if(!t)throw new ve(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PB(n,e,t,i){if(e===!0&&i===!0)throw new ve(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lT(n){if(!we.isDocumentKey(n))throw new ve(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cT(n){if(we.isDocumentKey(n))throw new ve(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce()}function Jr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vp(n);throw new ve(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="firestore.googleapis.com",uT=!0;class hT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xI,this.ssl=uT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:uT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l4)throw new ve(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _p{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new UU;switch(i.type){case"firstParty":return new FU(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=oT.get(t);i&&(pe("ComponentProvider","Removing Datastore"),oT.delete(t),i.terminate())}(this),Promise.resolve()}}function LB(n,e,t,i={}){var r;const a=(n=Jr(n,_p))._getSettings(),l=`${e}:${t}`;if(a.host!==xI&&a.host!==l&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),i.mockUserToken){let u,h;if(typeof i.mockUserToken=="string")u=i.mockUserToken,h=mn.MOCK_USER;else{u=C2(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new ve(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new mn(f)}n._authCredentials=new zU(new pD(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new lc(this.firestore,e,this._query)}}class Un{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class ia extends lc{constructor(e,t,i){super(e,t,OD(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new we(e))}withConverter(e){return new ia(this.firestore,e,this._path)}}function dT(n,e,...t){if(n=Tt(n),TI("collection","path",e),n instanceof _p){const i=ut.fromString(e,...t);return cT(i),new ia(n,null,i)}{if(!(n instanceof Un||n instanceof ia))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ut.fromString(e,...t));return cT(i),new ia(n.firestore,null,i)}}function Tg(n,e,...t){if(n=Tt(n),arguments.length===1&&(e=mD.newId()),TI("doc","path",e),n instanceof _p){const i=ut.fromString(e,...t);return lT(i),new Un(n,null,new we(i))}{if(!(n instanceof Un||n instanceof ia))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ut.fromString(e,...t));return lT(i),new Un(n.firestore,n instanceof ia?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="AsyncQueue";class gT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new oI(this,"async_queue_retry"),this.Su=()=>{const i=nv();i&&pe(fT,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=nv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=nv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new na;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ac(e))throw e;pe(fT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const r=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(i);throw Xr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=gb.createAndSchedule(this,e,t,i,a=>this.Fu(a));return this.fu.push(r),r}Du(){this.gu&&Ce()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class cc extends _p{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new gT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gT(e),this._firestoreClient=void 0,await e}}}function VB(n,e){const t=typeof n=="object"?n:N_(),i=typeof n=="string"?n:pg,r=Ro(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=x2("firestore");a&&LB(r,...a)}return r}function RI(n){if(n._terminated)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jB(n),n._firestoreClient}function jB(n){var e,t,i;const r=n._freezeSettings(),a=function(u,h,f,p){return new iz(u,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,SI(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new IB(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ql(hn.fromBase64String(e))}catch(t){throw new ve(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ql(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=/^__.*__$/;class zB{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dh(e,this.data,t,this.fieldTransforms)}}class CI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new va(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class Ab{constructor(e,t,i,r,a,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ab(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ku({path:i,Qu:!1});return r.$u(e),r}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ku({path:i,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return xg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(DI(this.Lu)&&UB.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class BB{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||pp(e)}ju(e,t,i,r=!1){return new Ab({Lu:e,methodName:t,zu:i,path:cn.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ep(n){const e=n._freezeSettings(),t=pp(n._databaseId);return new BB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function II(n,e,t,i,r,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,r);wb("Data must be an object, but it was:",l,i);const u=kI(i,l);let h,f;if(a.merge)h=new Yn(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const v of a.mergeFields){const _=r_(e,v,t);if(!l.contains(_))throw new ve(se.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);OI(p,_)||p.push(_)}h=new Yn(p),f=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=l.fieldTransforms;return new zB(new Nn(u),h,f)}class Ap extends _b{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ap}}function HB(n,e,t,i){const r=n.ju(1,e,t);wb("Data must be an object, but it was:",r,i);const a=[],l=Nn.empty();ya(i,(h,f)=>{const p=Sb(e,h,t);f=Tt(f);const v=r.Ku(p);if(f instanceof Ap)a.push(p);else{const _=Oh(f,v);_!=null&&(a.push(p),l.set(p,_))}});const u=new Yn(a);return new CI(l,u,r.fieldTransforms)}function FB(n,e,t,i,r,a){const l=n.ju(1,e,t),u=[r_(e,i,t)],h=[r];if(a.length%2!=0)throw new ve(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)u.push(r_(e,a[_])),h.push(a[_+1]);const f=[],p=Nn.empty();for(let _=u.length-1;_>=0;--_)if(!OI(f,u[_])){const b=u[_];let T=h[_];T=Tt(T);const R=l.Ku(b);if(T instanceof Ap)f.push(b);else{const x=Oh(T,R);x!=null&&(f.push(b),p.set(b,x))}}const v=new Yn(f);return new CI(p,v,l.fieldTransforms)}function qB(n,e,t,i=!1){return Oh(t,n.ju(i?4:3,e))}function Oh(n,e){if(MI(n=Tt(n)))return wb("Unsupported field value:",e,n),kI(n,e);if(n instanceof _b)return function(i,r){if(!DI(r.Lu))throw r.Wu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,r){const a=[];let l=0;for(const u of i){let h=Oh(u,r.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,e)}return function(i,r){if((i=Tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return xz(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Wt.fromDate(i);return{timestampValue:Eg(r.serializer,a)}}if(i instanceof Wt){const a=new Wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Eg(r.serializer,a)}}if(i instanceof bb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ql)return{bytesValue:KD(r.serializer,i._byteString)};if(i instanceof Un){const a=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw r.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:sb(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Eb)return function(l,u){return{mapValue:{fields:{[SD]:{stringValue:TD},[mg]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Wu("VectorValues must only contain numeric values.");return tb(u.serializer,f)})}}}}}}(i,r);throw r.Wu(`Unsupported field value: ${vp(i)}`)}(n,e)}function kI(n,e){const t={};return vD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(n,(i,r)=>{const a=Oh(r,e.qu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function MI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Wt||n instanceof bb||n instanceof Ql||n instanceof Un||n instanceof _b||n instanceof Eb)}function wb(n,e,t){if(!MI(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=vp(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function r_(n,e,t){if((e=Tt(e))instanceof bp)return e._internalPath;if(typeof e=="string")return Sb(n,e);throw xg("Field path arguments must be of type string or ",n,!1,void 0,t)}const WB=new RegExp("[~\\*/\\[\\]]");function Sb(n,e,t){if(e.search(WB)>=0)throw xg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bp(...e.split("."))._internalPath}catch{throw xg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xg(n,e,t,i,r){const a=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${r}`),h+=")"),new ve(se.INVALID_ARGUMENT,u+n+h)}function OI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Tb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GB extends NI{data(){return super.data()}}function Tb(n,e){return typeof e=="string"?Sb(n,e):e instanceof bp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xb{}class YB extends xb{}function QB(n,e,...t){let i=[];e instanceof xb&&i.push(e),i=i.concat(t),function(a){const l=a.filter(h=>h instanceof Rb).length,u=a.filter(h=>h instanceof wp).length;if(l>1||l>0&&u>0)throw new ve(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class wp extends YB{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new wp(e,t,i)}_apply(e){const t=this._parse(e);return PI(e._query,t),new lc(e.firestore,e.converter,$v(e._query,t))}_parse(e){const t=Ep(e.firestore);return function(a,l,u,h,f,p,v){let _;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ve(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){mT(v,p);const T=[];for(const R of v)T.push(pT(h,a,R));_={arrayValue:{values:T}}}else _=pT(h,a,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||mT(v,p),_=qB(u,l,v,p==="in"||p==="not-in");return Lt.create(f,p,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function KB(n,e,t){const i=e,r=Tb("where",n);return wp._create(r,i,t)}class Rb extends xb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rb(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ki.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,a){let l=r;const u=a.getFlattenedFilters();for(const h of u)PI(l,h),l=$v(l,h)}(e._query,t),new lc(e.firestore,e.converter,$v(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pT(n,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new ve(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ND(e)&&t.indexOf("/")!==-1)throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ut.fromString(t));if(!we.isDocumentKey(i))throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return IS(n,new we(i))}if(t instanceof Un)return IS(n,t._key);throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vp(t)}.`)}function mT(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PI(n,e){const t=function(r,a){for(const l of r)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class XB{convertValue(e,t="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ya(e,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,r;const a=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[mg].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(l=>Ct(l.doubleValue));return new Eb(a)}convertGeoPoint(e){return new bb(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=cp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(lh(e));default:return null}}convertTimestamp(e){const t=la(e);return new Wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ut.fromString(e);et(nI(i));const r=new ch(i.get(1),i.get(3)),a=new we(i.popFirst(5));return r.isEqual(t)||Xr(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZB extends NI{constructor(e,t,i,r,a,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Tb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Qf extends ZB{data(e={}){return super.data(e)}}class JB{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Qf(this._firestore,this._userDataWriter,i.key,i,new gf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>{const h=new Qf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new gf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new Qf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new gf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:eH(u.type),doc:h,oldIndex:f,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function eH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}class tH extends XB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,t)}}function nH(n){n=Jr(n,lc);const e=Jr(n.firestore,cc),t=RI(e),i=new tH(e);return $B(n._query),NB(t,n._query).then(r=>new JB(e,i,n,r))}function iH(n,e,t){n=Jr(n,Un);const i=Jr(n.firestore,cc),r=LI(n.converter,e);return Sp(i,[II(Ep(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,_i.none())])}function rH(n,e,t,...i){n=Jr(n,Un);const r=Jr(n.firestore,cc),a=Ep(r);let l;return l=typeof(e=Tt(e))=="string"||e instanceof bp?FB(a,"updateDoc",n._key,e,t,i):HB(a,"updateDoc",n._key,e),Sp(r,[l.toMutation(n._key,_i.exists(!0))])}function sH(n){return Sp(Jr(n.firestore,cc),[new nb(n._key,_i.none())])}function aH(n,e){const t=Jr(n.firestore,cc),i=Tg(n),r=LI(n.converter,e);return Sp(t,[II(Ep(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,_i.exists(!1))]).then(()=>i)}function Sp(n,e){return function(i,r){const a=new na;return i.asyncQueue.enqueueAndForget(async()=>bB(await MB(i),r,a)),a.promise}(RI(n),e)}(function(e,t=!0){(function(r){rc=r})(nc),lr(new Di("firestore",(i,{instanceIdentifier:r,options:a})=>{const l=i.getProvider("app").getImmediate(),u=new cc(new BU(i.getProvider("auth-internal")),new qU(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ve(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ch(f.options.projectId,p)}(l,r),l);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),vi(_S,bS,e),vi(_S,bS,"esm2017")})();const oH={apiKey:"AIzaSyDPgMa2cQIJJHAD5loZZrQOrn8oGyCtuXQ",authDomain:"getfit-79396.firebaseapp.com",projectId:"getfit-79396",storageBucket:"getfit-79396.appspot.com",messagingSenderId:"241827461493",appId:"1:241827461493:web:704bb4a0c2d368043ebb3c",measurementId:"G-J44KNXJ2BP"},Cb=nC(oH);PU(Cb);const or=mj(Cb),Nu=VB(Cb);new Fr;const lH=()=>{ma();const[n,e]=F.useState(!1),[t,i]=F.useState(null),r=()=>e(!n);F.useEffect(()=>IC(or,h=>{i(h)}),[]);const a=()=>{e(!1)},l=u=>t?t.emailVerified?A.jsxs(A.Fragment,{children:[A.jsx(yt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Domov"}),A.jsx(yt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Vyhadvanie"}),A.jsx(yt,{to:"/profil",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Profil"}),A.jsx(yt,{to:"/dashboard",className:"pr-7 text-[#616161] cursor-pointer hover:underline",onClick:u,children:"Dashboard"}),A.jsx(yt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Odhlsi sa"})]}):A.jsxs(A.Fragment,{children:[A.jsx(yt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Domov"}),A.jsx(yt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Vyhadvanie"}),A.jsx(yt,{to:"/verify-email",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Over si email"}),A.jsx(yt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Odhlsi sa"})]}):A.jsxs(A.Fragment,{children:[A.jsx(yt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Domov"}),A.jsx(yt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Vyhadvanie"}),A.jsx(yt,{to:"/login",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Prihlsi sa"}),A.jsx(yt,{to:"/register",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Registrcia"})]});return A.jsxs("nav",{className:"bg-white shadow-md fixed top-0 left-0 w-full py-4 px-10 flex justify-between items-center z-50",children:[A.jsx("span",{className:"text-2xl font-bold text-green-700",children:"GetFit"}),A.jsx("div",{className:"hidden md:flex space-x-6 text-gray-700 font-bold",children:l()}),A.jsx("div",{className:"md:hidden",children:A.jsx("button",{onClick:r,children:n?A.jsx(v2,{size:24}):A.jsx(y2,{size:24})})}),A.jsx("div",{className:`
          absolute top-full left-0 w-full bg-white shadow-md flex flex-col items-center py-4 space-y-4 
          md:hidden transition-all duration-300 overflow-hidden
          ${n?"max-h-96 opacity-100":"max-h-0 opacity-0"}
        `,children:l(a)})]})},cH=()=>A.jsxs("header",{className:"w-full text-center py-20 bg-gradient-to-r from-green-300 to-green-500 text-white",children:[A.jsx("h1",{className:"text-5xl font-bold",children:"Zdrav ivot je jednoduch"}),A.jsx("p",{className:"text-lg mt-4",children:"Njdite tie najlepie jedl, ktor zodpovedaj vmu ivotnmu tlu"}),A.jsx("button",{className:"mt-6 px-6 py-3 bg-white text-green-600 rounded-lg shadow-lg hover:shadow-xl transition",children:"Sign Up"})]}),uH=({query:n,setQuery:e,handleSearch:t,disabled:i})=>A.jsxs("section",{className:"max-w-5xl mx-auto py-16 px-6",children:[A.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"Preo si vybra nau platformu?"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[A.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[A.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Sledujte svoju vivu"}),A.jsx("p",{className:"text-gray-700 mt-3",children:"ahko zaznamenvajte svoje jedl a sledujte makr bez problmov."})]}),A.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[A.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Personalizovan stravovacie plny"}),A.jsx("p",{className:"text-gray-700 mt-3",children:"Upravte svoj jedlniek na zklade vaich fitness cieov."})]})]}),A.jsxs("div",{className:"mt-12 text-center",children:[A.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Vyhadajte informcie o vive"}),A.jsxs("div",{className:"flex justify-center gap-4",children:[A.jsx("input",{type:"text",placeholder:"Zadajte nzov jedla...",value:n,onChange:r=>e(r.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500"}),A.jsx("button",{onClick:t,disabled:i,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition disabled:bg-green-950",children:"Hada"})]})]})]}),VI=()=>A.jsxs("div",{role:"status",children:[A.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-indigo-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),A.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),A.jsx("span",{className:"sr-only",children:"Loading..."})]}),hH=({results:n=[],query:e,setQuery:t,handleSearch:i,searchTerm:r,error:a,isLoading:l})=>l?A.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:A.jsx(VI,{})}):A.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12",children:A.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[a&&A.jsxs("p",{className:"text-red-600 text-center mb-4",children:["Chyba pri natan dt: ",a.message]}),A.jsxs("h2",{className:"text-3xl font-semibold text-green-700 text-center mb-6 mt-6",children:["Vsledky pre: ",A.jsx("em",{className:"font-normal text-green-600",children:r})]}),A.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[A.jsx("input",{type:"text",placeholder:"Zadaj in jedlo...",value:e,onChange:u=>t(u.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:ring-2 focus:ring-green-500"}),A.jsx("button",{onClick:i,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition",children:"Hada"})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map((u,h)=>{var x;const{food_name:f,nutrition:p}=u,v=((x=p==null?void 0:p.photo)==null?void 0:x.thumb)||"https://via.placeholder.com/300x150",_=(p==null?void 0:p.nf_calories)??0,b=(p==null?void 0:p.nf_total_fat)??0,T=(p==null?void 0:p.nf_protein)??0,R=(p==null?void 0:p.nf_total_carbohydrate)??0;return A.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition p-5",children:[A.jsx("img",{src:v,alt:f,className:"w-full h-40 object-cover rounded-md"}),A.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-3",children:f}),(p==null?void 0:p.servingSize)&&A.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Nutrin hodnoty pre: ",A.jsx("strong",{children:p.servingSize})]}),A.jsxs("div",{className:"text-gray-600 text-sm leading-relaxed mt-2",children:[A.jsxs("p",{children:[A.jsx("strong",{className:"text-green-600",children:"Kalrie:"})," ",_," kcal"]}),A.jsxs("p",{children:[A.jsx("strong",{className:"text-green-600",children:"Tuky:"})," ",b," g"]}),A.jsxs("p",{children:[A.jsx("strong",{className:"text-green-600",children:"Bielkoviny:"})," ",T," g"]}),A.jsxs("p",{children:[A.jsx("strong",{className:"text-green-600",children:"Sacharidy:"})," ",R," g"]})]})]},h)}):A.jsx("p",{className:"col-span-full text-center text-gray-600",children:"iadne vsledky na zobrazenie."})})]})}),dH=[{id:1,title:"Top 5 zdravch potravn na spaovanie tukov",excerpt:"Tieto potraviny ti pomu zrchli metabolizmus a efektvne spaova tuk.",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:"Cel lnok o zdravch potravinch..."},{id:2,title:"Ako sprvne kombinova sacharidy, tuky a bielkoviny?",excerpt:"Vyven strava je kom k zdraviu. Pozri si, ako kombinova makroiviny.",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:"Cel lnok o kombinovan makroivn..."},{id:3,title:"Preo je hydratcia kov pri chudnut?",excerpt:"Pitn reim hr obrovsk lohu pri tvojom metabolizme a spaovan tukov.",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:"Cel lnok o hydratcii a jej vhodch..."}],fH=()=>{const n=Ni();return F.useEffect(()=>{if(n.state&&n.state.scrollTo){const e=document.getElementById(`blog-${n.state.scrollTo}`);e&&e.scrollIntoView({behavior:"smooth"})}},[n]),A.jsx("div",{children:A.jsxs("section",{className:"max-w-6xl mx-auto pb-16 px-6",children:[A.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-10",children:"Najnovie tipy a rady"}),A.jsx("div",{className:"grid gird-cols-1 md:grid-cols-3 gap-8",children:dH.map(e=>A.jsxs("div",{id:`blog-${e.id}`,className:"bg-white shadow-lg rounded-lg overflow-hidden hover:shadow-xl transition",children:[A.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),A.jsxs("div",{className:"p-6",children:[A.jsx("h3",{className:"text-2xl font-bold text-green-600",children:e.title}),A.jsx("p",{className:"text-gray-700 mt-3",children:e.excerpt}),A.jsx(yt,{to:`/blog/${e.id}`,className:"inline-block mt-4 text-green-700 font-semibold hover:underline",children:"ta viac "})]})]},e.id))})]})})},gH=[{id:1,title:"Top 5 zdravch potravn na spaovanie tukov",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:A.jsxs(A.Fragment,{children:[A.jsx("p",{children:"Spaovanie tukov nie je len o cvien, ale aj o sprvnej vive. Medzi najlepie potraviny, ktor ti pomu spaova tuky patria:"}),A.jsxs("ul",{className:"list-disc list-inside mt-4",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Avokdo"}),"  obsahuje zdrav tuky, ktor podporuj metabolizmus."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Losos"}),"  bohat na omega-3 mastn kyseliny, ktor pomhaj regulova hladinu cukru v krvi."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Zelen aj"}),"  zrchuje spaovanie kalri a podporuje trvenie."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Chilli papriky"}),"  obsahuj kapsaicn, ktor podporuje spaovanie tukov."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Orechy"}),"  skvel zdroj bielkovn a zdravch tukov."]})]}),A.jsxs("p",{className:"mt-6",children:[A.jsx("span",{className:"font-semibold text-green-600",children:"Zver:"})," Pravideln konzumovanie tchto potravn v kombincii s fyzickou aktivitou me vrazne pomc pri spaovan tukov a udriavan zdravej hmotnosti."]})]})},{id:2,title:"Ako sprvne kombinova sacharidy, tuky a bielkoviny?",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:A.jsxs(A.Fragment,{children:[A.jsx("p",{children:"Vyven strava je zklad zdravho ivotnho tlu. Dleit je pochopi, ako sprvne kombinova makroiviny:"}),A.jsxs("ul",{className:"list-disc list-inside mt-4",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Sacharidy"}),"  hlavn zdroj energie. Idelne s celozrnn potraviny, ovocie a zelenina."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Tuky"}),"  esencilne pre sprvne fungovanie organizmu. Uprednostni zdrav tuky ako olivov olej, orechy a avokdo."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Bielkoviny"}),"  dleit pre svalov regenerciu. Kvalitn zdroje s kuracie mso, ryby, tofu a strukoviny."]})]}),A.jsxs("p",{className:"mt-6",children:[A.jsx("span",{className:"font-semibold text-green-600",children:"Tip:"})," Sprvne jedlo by malo obsahova vyven pomer vetkch troch makroivn. Naprklad:"]}),A.jsxs("ul",{className:"list-disc list-inside mt-4",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Raajky:"})," Ovsen kaa s mandami a bannom."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Obed:"})," Grilovan kuracie mso s quinoou a avokdovm altom."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Veera:"})," Peen losos s dusenou zeleninou."]})]})]})},{id:3,title:"Preo je hydratcia kov pri chudnut?",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:A.jsxs(A.Fragment,{children:[A.jsx("p",{children:"Voda hr zsadn lohu pri metabolizme a chudnut. Je dleit dodriava sprvny pitn reim:"}),A.jsxs("ul",{className:"list-disc list-inside mt-4",children:[A.jsx("li",{children:"Pomha trveniu a detoxikcii organizmu."}),A.jsx("li",{children:"Podporuje spaovanie tukov."}),A.jsx("li",{children:"Zniuje pocit hladu  asto si zamieame smd za hlad."})]}),A.jsx("p",{className:"mt-6",children:A.jsx("span",{className:"font-semibold text-green-600",children:"Koko vody by si mal/a pi?"})}),A.jsxs("ul",{className:"list-disc list-inside mt-4",children:[A.jsxs("li",{children:["Minimlne ",A.jsx("strong",{children:"2-3 litre denne"}),"."]}),A.jsxs("li",{children:["Poas cvienia dopl aspo ",A.jsx("strong",{children:"0,5 L vody"})," na hodinu."]}),A.jsx("li",{children:"Rno zani pohrom vody s citrnom pre lep metabolizmus."})]})]})}],pH=()=>{const{id:n}=fN(),e=gH.find(t=>t.id===parseInt(n));return e?A.jsx("div",{children:A.jsxs("section",{className:"max-w-4xl mx-auto py-16 mt-8 px-6",children:[A.jsx("img",{src:e.image,alt:e.title,className:"w-full h-80 object-cover rounded-lg mb-6"}),A.jsx("h1",{className:"text-4xl font-bold text-green-700",children:e.title}),A.jsx("div",{className:"text-gray-700 mt-6 leading-fixed",children:e.content}),A.jsx(yt,{to:"/",state:{scrollTo:e.id},className:"inline-block mt-6 text-green-700 font-semibold hover:underline",children:"  Sp na blog"})]})}):A.jsx("p",{className:"text-center text-red-600 text-xl mt-10",children:"lnok neexistuje!"})},mH=()=>{const[n,e]=F.useState(""),[t,i]=F.useState(""),[r,a]=F.useState(""),[l,u]=F.useState("male"),[h,f]=F.useState(1.2),[p,v]=F.useState("maintain"),[_,b]=F.useState(null),T=R=>{if(R.preventDefault(),!n||!t||!r){alert("Prosm, vypl vetky polia.");return}let x;l==="male"?x=88.36+13.4*parseFloat(n)+4.8*parseFloat(t)-5.7*parseFloat(r):x=447.6+9.2*parseFloat(n)+3.1*parseFloat(t)-4.3*parseFloat(r);let M=x*parseFloat(h);p==="lose"?M-=500:p==="gain"&&(M+=500),b(Math.round(M))};return A.jsxs("section",{className:"max-w-4xl mx-auto py-16 px-6 bg-white shadow-lg rounded-lg",children:[A.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"BMI kalkulaka"}),A.jsxs("form",{onSubmit:T,className:"grid grid-cols-1 sm:grid-cols-2 gap-6 bg-gray-50 p-6 rounded-lg shadow-md",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-gray-700 font-semibold",children:"Vha (kg)"}),A.jsx("input",{type:"number",value:n,onChange:R=>e(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte vhu"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-gray-700 font-semibold",children:"Vka (cm)"}),A.jsx("input",{type:"number",value:t,onChange:R=>i(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte vku"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-gray-700 font-semibold",children:"Vek"}),A.jsx("input",{type:"number",value:r,onChange:R=>a(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte vek"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-gray-700 font-semibold",children:"Pohlavie"}),A.jsxs("select",{value:l,onChange:R=>u(R.target.value),className:" focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[A.jsx("option",{value:"male",children:"Mu"}),A.jsx("option",{value:"female",children:"ena"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-gray-700 font-semibold",children:"rove aktivity"}),A.jsxs("select",{value:h,onChange:R=>f(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[A.jsx("option",{value:"1.2",children:"Sedav ivotn tl"}),A.jsx("option",{value:"1.375",children:"ahk aktivita (1-3x tdenne cvienie)"}),A.jsx("option",{value:"1.55",children:"Stredn aktivita (3-5x tdenne cvienie)"}),A.jsx("option",{value:"1.725",children:"Vysok aktivita (6-7x tdenne cvienie)"}),A.jsx("option",{value:"1.9",children:"Extrmna aktivita (ak fyzick prca + trning)"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-gray-700 font-semibold",children:"Cie"}),A.jsxs("select",{value:p,onChange:R=>v(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[A.jsx("option",{value:"lose",children:"Schudn"}),A.jsx("option",{value:"maintain",children:"Udra vhu"}),A.jsx("option",{value:"gain",children:"Nabra svaly"})]})]}),A.jsx("div",{className:"col-span-1 sm:col-span-2 flex justify-center",children:A.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition text-lg font-semibold shadow-md w-full sm:w-1/2",children:"Vypota kalrie"})})]}),_!==null&&A.jsxs("div",{className:"mt-8 p-6 bg-green-100 text-center rounded-lg shadow-md",children:[A.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Odporan denn kalorick prjem:"}),A.jsxs("p",{className:"text-4xl font-bold text-green-700 mt-2",children:[_," kcal"]})]})]})},yH=()=>{const[n,e]=F.useState(1),[t,i]=F.useState(!1),[r,a]=F.useState(""),[l,u]=F.useState(""),[h,f]=F.useState(""),[p,v]=F.useState(""),[_,b]=F.useState(!1),[T,R]=F.useState(null),[x,M]=F.useState(""),[V,z]=F.useState(""),[$,J]=F.useState(""),[ne,N]=F.useState("male"),[D,I]=F.useState("1.2"),[O,j]=F.useState("maintain"),[B,P]=F.useState(null),[Oe,Te]=F.useState(!1),[oe,fe]=F.useState(!1),[ge,Ee]=F.useState(null),U=ma();if(t)return A.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:A.jsx(VI,{})});const le=()=>{let de;ne==="male"?de=88.36+13.4*V+4.8*$-5.7*x:de=447.6+9.2*V+3.1*$-4.3*x;let _e=de*D;O==="lose"&&(_e-=500),O==="gain"&&(_e+=500),P(Math.round(_e)),fe(!0)},me=()=>{if(!r||!r.includes("@"))return Ee("Prosm, zadaj platn email."),!1;if(l.length<8)return Ee("Heslo mus ma aspo 8 znakov."),!1;if(!/[A-Z]/.test(l))return Ee("Heslo mus obsahova aspo 1 vek psmeno (A-Z)."),!1;if(!/\d/.test(l))return Ee("Heslo mus obsahova aspo 1 slicu."),!1;if(l!==h)return Ee("Hesl sa nezhoduj."),!1;if(!_){Ee("Mus shlasi s podmienkami pouvania a ochranou osobnch dajov.");return}return Ee(null),!0},he=()=>{me()&&e(2)},ue=async de=>{de.preventDefault(),i(!0);try{const _e=await ZL(or,r,l);await nV(_e.user,{displayName:p}),await eV(_e.user),await iH(Tg(Nu,"users",_e.user.uid),{name:p,email:r,agreedToTerms:!0,age:x,weight:V,height:$,gender:ne,activity:D,goal:O,calories:B}),i(!1),U("/verify-email")}catch(_e){Ee("Chyba pri registrcii: "+_e.message)}};return A.jsxs("section",{className:"max-w-md mt-30 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[A.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Registrcia"}),ge&&A.jsx("p",{className:"text-red-600 text-center mt-2",children:ge}),A.jsxs("form",{onSubmit:ue,className:"mt-4",children:[n===1&&A.jsxs(A.Fragment,{children:[A.jsx("label",{className:"block mt-2",children:"Meno"}),A.jsx("input",{type:"text",placeholder:"Meno",value:p,onChange:de=>v(de.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),A.jsx("label",{className:"block mt-2",children:"Email"}),A.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:de=>a(de.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),A.jsx("label",{className:"block mt-2",children:"Heslo"}),A.jsx("input",{type:"password",placeholder:"Heslo",value:l,onChange:de=>u(de.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),A.jsx("label",{className:"block mt-2",children:"Potvrdi heslo"}),A.jsx("input",{type:"password",placeholder:"Potvrdi heslo",value:h,onChange:de=>f(de.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),A.jsxs("div",{className:"mt-6 flex items-start",children:[A.jsx("input",{type:"checkbox",checked:_,onChange:()=>b(!_),className:"mr-2 ml-2 mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),A.jsxs("label",{className:"text-gray-600 mr-5",children:["Shlasm s ",A.jsx(yt,{to:"/terms",className:"text-blue-600 underline",children:"podmienkami pouvania"})," a ",A.jsx(yt,{to:"/privacy",className:"text-blue-600 underline",children:"ochranou osobnch dajov"}),"."]})]}),A.jsx("button",{type:"button",onClick:he,className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"alej"})]}),n===2&&A.jsxs(A.Fragment,{children:[A.jsx("label",{className:"block mt-2",children:"Vek"}),A.jsx("input",{type:"number",placeholder:"Vek",value:x,onChange:de=>M(de.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),A.jsx("label",{className:"block mt-2",children:"Vha (kg)"}),A.jsx("input",{type:"number",placeholder:"Vha (kg)",value:V,onChange:de=>z(de.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),A.jsx("label",{className:"block mt-2",children:"Vka (cm)"}),A.jsx("input",{type:"number",placeholder:"Vka (cm)",value:$,onChange:de=>J(de.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),A.jsx("label",{className:"block mt-2",children:"Pohlavie"}),A.jsxs("select",{value:ne,onChange:de=>N(de.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[A.jsx("option",{value:"male",children:"Mu"}),A.jsx("option",{value:"female",children:"ena"})]}),A.jsx("button",{type:"button",onClick:()=>e(3),className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"alej"})]}),n===3&&A.jsxs(A.Fragment,{children:[A.jsx("label",{className:"block mt-2",children:"Cie"}),A.jsxs("select",{value:O,onChange:de=>j(de.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[A.jsx("option",{value:"lose",children:"Schudn"}),A.jsx("option",{value:"maintain",children:"Udra vhu"}),A.jsx("option",{value:"gain",children:"Nabra svaly"})]}),A.jsx("label",{className:"block mt-2",children:"rove aktivity"}),A.jsxs("select",{value:D,onChange:de=>I(de.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[A.jsx("option",{value:"1.2",children:"Sedav ivotn tl"}),A.jsx("option",{value:"1.375",children:"ahk aktivita (1-3x/t)"}),A.jsx("option",{value:"1.55",children:"Stredn aktivita (3-5x/t)"}),A.jsx("option",{value:"1.725",children:"Vysok aktivita (6-7x/t)"}),A.jsx("option",{value:"1.9",children:"Extrmna aktivita"})]}),A.jsx("label",{className:"block mt-2",children:"BMI / Kalrie"}),Oe?A.jsx("input",{type:"number",value:B||"",onChange:de=>P(de.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):A.jsxs("p",{className:"mt-2 font-semibold text-center",children:[B," kcal"]}),A.jsxs("div",{className:"flex justify-between mt-4",children:[A.jsx("button",{type:"button",onClick:le,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Vypota BMI"}),oe&&A.jsx("button",{type:"button",onClick:()=>Te(!Oe),className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600",children:Oe?"Uloi":"Upravi"})]}),A.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Registrova sa"})]})]})]})},vH=()=>{const n=ma(),e=async()=>{or.currentUser&&(await or.currentUser.reload(),or.currentUser.emailVerified?n("/dashboard"):alert("Email ete nie je overen. Skontroluj schrnku a sks znovu."))};return A.jsxs("section",{className:"pt-20 mt-30 max-w-md mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[A.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Overenie emailu"}),A.jsx("p",{className:"mt-4 text-center",children:"Na tvoj email bol odoslan overovac odkaz. Prosm otvor si email, klikni na overovac link a potom sa vr sem."}),A.jsx("button",{onClick:e,className:"bg-green-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-green-700",children:"Skontrolova, i som email potvrdil"})]})},_H=()=>A.jsx("aside",{className:"w-full lg:w-1/5 bg-gray-100 p-4 rounded-lg shadow-md",children:A.jsxs("nav",{className:"flex flex-col space-y-4",children:[A.jsx(yt,{to:"/dashboard/calendar",className:"text-green-700 font-bold hover:underline",children:"Kalendr"}),A.jsx(yt,{to:"/dashboard/my-foods",className:"text-green-700 font-bold hover:underline",children:"Moje jedl"}),A.jsx(yt,{to:"/dashboard/statistics",className:"text-green-700 font-bold hover:underline",children:"tatistiky"})]})}),yT=()=>{const[n,e]=F.useState([]),t=async a=>{try{const l=Tg(Nu,"foods",a);await sH(l),e(u=>u.filter(h=>h.id!==a))}catch(l){console.error("Chyba pri mazan jedla z Firestore:",l)}},i=async(a,l)=>{try{const u=Tg(Nu,"foods",a);await rH(u,l),e(h=>h.map(f=>f.id===a?{...f,...l}:f))}catch(u){console.error("Chyba pri prave jedla vo Firestore:",u)}},r=async a=>{try{const l=or.currentUser;if(!l){console.error("Pouvate nie je prihlsen");return}const u={...a,userId:l.uid,userName:l.displayName,createdAt:new Date},h=await aH(dT(Nu,"foods"),u);console.log("Jedlo pridan s ID:",h.id),e(f=>[...f,{id:h.id,...u}])}catch(l){console.error("Chyba pri pridvan jedla:",l)}};return F.useEffect(()=>{(async()=>{try{const l=or.currentUser;if(!l)return;const u=QB(dT(Nu,"foods"),KB("userId","==",l.uid)),f=(await nH(u)).docs.map(p=>({id:p.id,...p.data()}));e(f)}catch(l){console.error("Chyba pri natan jedl:",l)}})()},[]),A.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4 mt-20",children:[A.jsx(_H,{}),A.jsx("div",{className:"flex-1",children:A.jsx(CN,{context:{savedFoods:n,handleAddCustomFood:r,handleDeleteFood:t,handleEditFood:i}})})]})},pf=({children:n})=>{const[e,t]=F.useState(void 0),[i,r]=F.useState(!0);return F.useEffect(()=>{const a=IC(or,l=>{t(l),r(!1)});return()=>a()},[]),i?A.jsx("p",{children:"Natavam..."}):!e||!e.emailVerified?A.jsx(RN,{to:"/login"}):n},bH=()=>{const n=ma(),e=async()=>{try{await sV(or),n("/")}catch(t){console.error("Chyba pri odhlasovan:",t)}};return A.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg text-center",children:[A.jsx("h2",{className:"text-3xl font-semibold text-green-700",children:"Odhlsenie"}),A.jsx("p",{className:"mt-4 text-gray-600",children:"Si si ist, e sa chce odhlsi?"}),A.jsx("button",{onClick:e,className:"bg-red-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-red-700 transition",children:"Odhlsi sa"})]})},EH=()=>{const[n,e]=F.useState(""),[t,i]=F.useState(""),[r,a]=F.useState(""),l=ma(),u=async h=>{h.preventDefault();try{await JL(or,n,t),l("/dashboard")}catch(f){a("Chyba pri prihlasovan: "+f.message)}};return A.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg",children:[A.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Prihlsenie"}),r&&A.jsx("p",{className:"text-red-600 text-center mt-2",children:r}),A.jsxs("form",{onSubmit:u,className:"mt-4",children:[A.jsx("label",{className:"block mt-2",children:"Email"}),A.jsx("input",{value:n,onChange:h=>e(h.target.value),type:"email",placeholder:"Email",className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),A.jsx("label",{className:"block mt-2",children:"Heslo"}),A.jsx("input",{value:t,onChange:h=>i(h.target.value),type:"password",placeholder:"Heslo",className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),A.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mb-3 mt-4 w-full rounded-lg hover:bg-green-700",children:"Prihlsi sa"}),A.jsx(yt,{to:"/register",className:"text-blue-600 underline",children:"Nem ete et ? Vytvor si ho"})]})]})},AH=()=>A.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[A.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky pouvania"}),A.jsx("p",{className:"mt-4 text-gray-600",children:"Posledn aktualizcia: 21. februr 2025"}),A.jsxs("p",{className:"mt-4",children:["Vitajte v naej aplikcii ",A.jsx("strong",{children:"[Your App Name]"}),". Pouvanm tejto aplikcie shlaste s nasledujcimi podmienkami."]}),A.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptcia podmienok"}),A.jsx("p",{className:"mt-2",children:"Pouvanm naich sluieb vyjadrujete shlas s tmito podmienkami. Ak s nimi neshlaste, nesmiete aplikciu pouva."}),A.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie tu"}),A.jsx("p",{className:"mt-2",children:"Pri registrcii muste poskytn pravdiv a aktulne informcie. Ste zodpovedn za bezpenos vho tu."}),A.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakzan aktivity"}),A.jsxs("p",{className:"mt-2",children:["Pouvate nesmie:",A.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[A.jsx("li",{children:"Poruova platn zkony alebo prva tretch strn."}),A.jsx("li",{children:"Vytvra falon ty alebo sa vydva za inch."}),A.jsx("li",{children:"Zasahova do bezpenosti aplikcie."})]})]}),A.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zruenie tu"}),A.jsx("p",{className:"mt-2",children:"Meme zablokova alebo odstrni v et v prpade poruenia podmienok alebo neaktivity."}),A.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednos a obmedzenie"}),A.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednos za akkovek priame alebo nepriame kody spsoben pouvanm tejto aplikcie."}),A.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),A.jsx("p",{className:"mt-2",children:"Vyhradzujeme si prvo kedykovek upravi tieto podmienky. Pokraovanie v pouvan aplikcie znamen shlas so zmenami."}),A.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),A.jsxs("p",{className:"mt-2",children:["Ak mte otzky tkajce sa tchto podmienok, kontaktujte ns na ",A.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),wH=()=>A.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[A.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky pouvania"}),A.jsx("p",{className:"mt-4 text-gray-600",children:"Posledn aktualizcia: 21. februr 2025"}),A.jsxs("p",{className:"mt-4",children:["Vitajte v naej aplikcii ",A.jsx("strong",{children:"[Your App Name]"}),". Pouvanm tejto aplikcie shlaste s nasledujcimi podmienkami."]}),A.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptcia podmienok"}),A.jsx("p",{className:"mt-2",children:"Pouvanm naich sluieb vyjadrujete shlas s tmito podmienkami. Ak s nimi neshlaste, nesmiete aplikciu pouva."}),A.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie tu"}),A.jsx("p",{className:"mt-2",children:"Pri registrcii muste poskytn pravdiv a aktulne informcie. Ste zodpovedn za bezpenos vho tu."}),A.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakzan aktivity"}),A.jsxs("p",{className:"mt-2",children:["Pouvate nesmie:",A.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[A.jsx("li",{children:"Poruova platn zkony alebo prva tretch strn."}),A.jsx("li",{children:"Vytvra falon ty alebo sa vydva za inch."}),A.jsx("li",{children:"Zasahova do bezpenosti aplikcie."})]})]}),A.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zruenie tu"}),A.jsx("p",{className:"mt-2",children:"Meme zablokova alebo odstrni v et v prpade poruenia podmienok alebo neaktivity."}),A.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednos a obmedzenie"}),A.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednos za akkovek priame alebo nepriame kody spsoben pouvanm tejto aplikcie."}),A.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),A.jsx("p",{className:"mt-2",children:"Vyhradzujeme si prvo kedykovek upravi tieto podmienky. Pokraovanie v pouvan aplikcie znamen shlas so zmenami."}),A.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),A.jsxs("p",{className:"mt-2",children:["Ak mte otzky tkajce sa tchto podmienok, kontaktujte ns na ",A.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),SH=({onAddCustomFood:n})=>{const[e,t]=F.useState(""),[i,r]=F.useState(""),[a,l]=F.useState(""),[u,h]=F.useState(""),[f,p]=F.useState(""),[v,_]=F.useState(""),[b,T]=F.useState(""),R=x=>{if(x.preventDefault(),!e.trim())return;const M={foodName:e,kcal:Number(i),protein:Number(a),fat:Number(u),carbs:Number(f),fiber:Number(v),fluid:Number(b)};n(M),t(""),r(""),l(""),h(""),p(""),_(""),T("")};return A.jsxs("form",{onSubmit:R,className:"p-4 bg-white rounded-lg shadow-md mb-4",children:[A.jsx("h2",{className:"text-xl font-bold text-green-700 mb-4",children:"Prida vlastn jedlo"}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-gray-700",children:"Nzov jedla:"}),A.jsx("input",{type:"text",value:e,onChange:x=>t(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Nzov jedla"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-gray-700",children:"Kalrie:"}),A.jsx("input",{type:"number",value:i,onChange:x=>r(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"kcal"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-gray-700",children:"Bielkoviny (g):"}),A.jsx("input",{type:"number",value:a,onChange:x=>l(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"bielkoviny"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-gray-700",children:"Tuky (g):"}),A.jsx("input",{type:"number",value:u,onChange:x=>h(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"tuky"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-gray-700",children:"Sacharidy (g):"}),A.jsx("input",{type:"number",value:f,onChange:x=>p(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"sacharidy"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-gray-700",children:"Vlknina (g):"}),A.jsx("input",{type:"number",value:v,onChange:x=>_(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"vlknina"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-gray-700",children:"Tekutiny (l):"}),A.jsx("input",{type:"number",value:b,onChange:x=>T(x.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"tekutiny"})]})]}),A.jsx("button",{type:"submit",className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Prida jedlo"})]})},TH=()=>{const{savedFoods:n,handleAddCustomFood:e,handleDeleteFood:t,handleEditFood:i}=hN(),[r,a]=F.useState(null),[l,u]=F.useState({foodName:"",kcal:"",protein:"",fat:"",carbs:"",fiber:""}),h=v=>{a(v.id),u({foodName:v.foodName,kcal:v.kcal,protein:v.protein,fat:v.fat,carbs:v.carbs,fiber:v.fiber})},f=()=>{a(null),u({foodName:"",kcal:"",protein:"",fat:"",carbs:"",fiber:""})},p=()=>{i(r,{foodName:l.foodName,kcal:Number(l.kcal),protein:Number(l.protein),fat:Number(l.fat),carbs:Number(l.carbs),fiber:Number(l.fiber)}),f()};return A.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Moje jedl"}),A.jsx(SH,{onAddCustomFood:e}),A.jsx("div",{className:"mt-6",children:n.length>0?A.jsx("ul",{className:"space-y-4",children:n.map((v,_)=>A.jsx("li",{className:"p-4 bg-white rounded-lg shadow border-l-4 border-green-500 flex justify-between items-center",children:r===v.id?A.jsxs("div",{className:"flex-1",children:[A.jsx("input",{type:"text",value:l.foodName,onChange:b=>u({...l,foodName:b.target.value}),className:"border border-gray-300 rounded px-3 py-2 w-full mb-2",placeholder:"Nzov jedla"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx("input",{type:"number",value:l.kcal,onChange:b=>u({...l,kcal:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Kalrie"}),A.jsx("input",{type:"number",value:l.protein,onChange:b=>u({...l,protein:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Bielkoviny"}),A.jsx("input",{type:"number",value:l.fat,onChange:b=>u({...l,fat:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Tuky"}),A.jsx("input",{type:"number",value:l.carbs,onChange:b=>u({...l,carbs:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Sacharidy"}),A.jsx("input",{type:"number",value:l.fiber,onChange:b=>u({...l,fiber:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Vlknina"}),A.jsx("input",{type:"number",value:l.fluid,onChange:b=>u({...l,fluid:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Tekutiny"})]}),A.jsxs("div",{className:"mt-2 flex space-x-2",children:[A.jsx("button",{onClick:p,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Uloi"}),A.jsx("button",{onClick:f,className:"bg-gray-500 text-white px-3 py-1 rounded hover:bg-gray-600",children:"Zrui"})]})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("h3",{className:"text-lg font-bold text-gray-800",children:v.foodName}),A.jsxs("p",{className:"text-sm text-gray-700",children:["Kalrie: ",v.kcal," kcal"]}),A.jsxs("p",{className:"text-sm text-gray-700",children:["Bielkoviny: ",v.protein," g"]}),A.jsxs("p",{className:"text-sm text-gray-700",children:["Tuky: ",v.fat," g"]}),A.jsxs("p",{className:"text-sm text-gray-700",children:["Sacharidy: ",v.carbs," g"]}),A.jsxs("p",{className:"text-sm text-gray-700",children:["Vlknina: ",v.fiber," g"]}),A.jsxs("p",{className:"text-sm text-gray-700",children:["Tekutiny: ",v.fluid," l"]})]}),A.jsxs("div",{className:"flex flex-col space-y-2",children:[A.jsx("button",{onClick:()=>t(v.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Zmaza"}),A.jsx("button",{onClick:()=>h(v),className:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600",children:"Upravi"})]})]})},_))}):A.jsx("p",{className:"text-gray-500 text-center",children:"Zatia ste nepridali iadne jedl."})})]})};var Tp,Se,jI,UI,Kl,oo,vT,zI,BI,Rg={},HI=[],xH=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ys(n,e){for(var t in e)n[t]=e[t];return n}function FI(n){var e=n.parentNode;e&&e.removeChild(n)}function Z(n,e,t){var i,r,a,l={};for(a in e)a=="key"?i=e[a]:a=="ref"?r=e[a]:l[a]=e[a];if(arguments.length>2&&(l.children=arguments.length>3?Tp.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(a in n.defaultProps)l[a]===void 0&&(l[a]=n.defaultProps[a]);return Kf(n,l,i,r,null)}function Kf(n,e,t,i,r){var a={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++jI};return r==null&&Se.vnode!=null&&Se.vnode(a),a}function es(){return{current:null}}function Dt(n){return n.children}function RH(n,e,t,i,r){var a;for(a in t)a==="children"||a==="key"||a in e||Cg(n,a,null,t[a],i);for(a in e)r&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||t[a]===e[a]||Cg(n,a,e[a],t[a],i)}function _T(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||xH.test(e)?t:t+"px"}function Cg(n,e,t,i,r){var a;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||_T(n.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||_T(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+a]=t,t?i||n.addEventListener(e,a?ET:bT,a):n.removeEventListener(e,a?ET:bT,a);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function bT(n){Kl=!0;try{return this.l[n.type+!1](Se.event?Se.event(n):n)}finally{Kl=!1}}function ET(n){Kl=!0;try{return this.l[n.type+!0](Se.event?Se.event(n):n)}finally{Kl=!1}}function Kn(n,e){this.props=n,this.context=e}function fh(n,e){if(e==null)return n.__?fh(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?fh(n):null}function qI(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return qI(n)}}function CH(n){Kl?setTimeout(n):zI(n)}function s_(n){(!n.__d&&(n.__d=!0)&&oo.push(n)&&!Dg.__r++||vT!==Se.debounceRendering)&&((vT=Se.debounceRendering)||CH)(Dg)}function Dg(){var n,e,t,i,r,a,l,u;for(oo.sort(function(h,f){return h.__v.__b-f.__v.__b});n=oo.shift();)n.__d&&(e=oo.length,i=void 0,r=void 0,l=(a=(t=n).__v).__e,(u=t.__P)&&(i=[],(r=Ys({},a)).__v=a.__v+1,Db(u,a,r,t.__n,u.ownerSVGElement!==void 0,a.__h!=null?[l]:null,i,l??fh(a),a.__h),QI(i,a),a.__e!=l&&qI(a)),oo.length>e&&oo.sort(function(h,f){return h.__v.__b-f.__v.__b}));Dg.__r=0}function WI(n,e,t,i,r,a,l,u,h,f){var p,v,_,b,T,R,x,M=i&&i.__k||HI,V=M.length;for(t.__k=[],p=0;p<e.length;p++)if((b=t.__k[p]=(b=e[p])==null||typeof b=="boolean"?null:typeof b=="string"||typeof b=="number"||typeof b=="bigint"?Kf(null,b,null,null,b):Array.isArray(b)?Kf(Dt,{children:b},null,null,null):b.__b>0?Kf(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)!=null){if(b.__=t,b.__b=t.__b+1,(_=M[p])===null||_&&b.key==_.key&&b.type===_.type)M[p]=void 0;else for(v=0;v<V;v++){if((_=M[v])&&b.key==_.key&&b.type===_.type){M[v]=void 0;break}_=null}Db(n,b,_=_||Rg,r,a,l,u,h,f),T=b.__e,(v=b.ref)&&_.ref!=v&&(x||(x=[]),_.ref&&x.push(_.ref,null,b),x.push(v,b.__c||T,b)),T!=null?(R==null&&(R=T),typeof b.type=="function"&&b.__k===_.__k?b.__d=h=GI(b,h,n):h=$I(n,b,_,M,T,h),typeof t.type=="function"&&(t.__d=h)):h&&_.__e==h&&h.parentNode!=n&&(h=fh(_))}for(t.__e=R,p=V;p--;)M[p]!=null&&(typeof t.type=="function"&&M[p].__e!=null&&M[p].__e==t.__d&&(t.__d=YI(i).nextSibling),XI(M[p],M[p]));if(x)for(p=0;p<x.length;p++)KI(x[p],x[++p],x[++p])}function GI(n,e,t){for(var i,r=n.__k,a=0;r&&a<r.length;a++)(i=r[a])&&(i.__=n,e=typeof i.type=="function"?GI(i,e,t):$I(t,i,i,r,i.__e,e));return e}function Ig(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){Ig(t,e)}):e.push(n)),e}function $I(n,e,t,i,r,a){var l,u,h;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(t==null||r!=a||r.parentNode==null)e:if(a==null||a.parentNode!==n)n.appendChild(r),l=null;else{for(u=a,h=0;(u=u.nextSibling)&&h<i.length;h+=1)if(u==r)break e;n.insertBefore(r,a),l=a}return l!==void 0?l:r.nextSibling}function YI(n){var e,t,i;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(i=YI(t)))return i}return null}function Db(n,e,t,i,r,a,l,u,h){var f,p,v,_,b,T,R,x,M,V,z,$,J,ne,N,D=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(h=t.__h,u=e.__e=t.__e,e.__h=null,a=[u]),(f=Se.__b)&&f(e);try{e:if(typeof D=="function"){if(x=e.props,M=(f=D.contextType)&&i[f.__c],V=f?M?M.props.value:f.__:i,t.__c?R=(p=e.__c=t.__c).__=p.__E:("prototype"in D&&D.prototype.render?e.__c=p=new D(x,V):(e.__c=p=new Kn(x,V),p.constructor=D,p.render=IH),M&&M.sub(p),p.props=x,p.state||(p.state={}),p.context=V,p.__n=i,v=p.__d=!0,p.__h=[],p._sb=[]),p.__s==null&&(p.__s=p.state),D.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Ys({},p.__s)),Ys(p.__s,D.getDerivedStateFromProps(x,p.__s))),_=p.props,b=p.state,p.__v=e,v)D.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(D.getDerivedStateFromProps==null&&x!==_&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(x,V),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(x,p.__s,V)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(p.props=x,p.state=p.__s,p.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(I){I&&(I.__=e)}),z=0;z<p._sb.length;z++)p.__h.push(p._sb[z]);p._sb=[],p.__h.length&&l.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(x,p.__s,V),p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(_,b,T)})}if(p.context=V,p.props=x,p.__P=n,$=Se.__r,J=0,"prototype"in D&&D.prototype.render){for(p.state=p.__s,p.__d=!1,$&&$(e),f=p.render(p.props,p.state,p.context),ne=0;ne<p._sb.length;ne++)p.__h.push(p._sb[ne]);p._sb=[]}else do p.__d=!1,$&&$(e),f=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++J<25);p.state=p.__s,p.getChildContext!=null&&(i=Ys(Ys({},i),p.getChildContext())),v||p.getSnapshotBeforeUpdate==null||(T=p.getSnapshotBeforeUpdate(_,b)),N=f!=null&&f.type===Dt&&f.key==null?f.props.children:f,WI(n,Array.isArray(N)?N:[N],e,t,i,r,a,l,u,h),p.base=e.__e,e.__h=null,p.__h.length&&l.push(p),R&&(p.__E=p.__=null),p.__e=!1}else a==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=DH(t.__e,e,t,i,r,a,l,h);(f=Se.diffed)&&f(e)}catch(I){e.__v=null,(h||a!=null)&&(e.__e=u,e.__h=!!h,a[a.indexOf(u)]=null),Se.__e(I,e,t)}}function QI(n,e){Se.__c&&Se.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){Se.__e(i,t.__v)}})}function DH(n,e,t,i,r,a,l,u){var h,f,p,v=t.props,_=e.props,b=e.type,T=0;if(b==="svg"&&(r=!0),a!=null){for(;T<a.length;T++)if((h=a[T])&&"setAttribute"in h==!!b&&(b?h.localName===b:h.nodeType===3)){n=h,a[T]=null;break}}if(n==null){if(b===null)return document.createTextNode(_);n=r?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,_.is&&_),a=null,u=!1}if(b===null)v===_||u&&n.data===_||(n.data=_);else{if(a=a&&Tp.call(n.childNodes),f=(v=t.props||Rg).dangerouslySetInnerHTML,p=_.dangerouslySetInnerHTML,!u){if(a!=null)for(v={},T=0;T<n.attributes.length;T++)v[n.attributes[T].name]=n.attributes[T].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===n.innerHTML)||(n.innerHTML=p&&p.__html||""))}if(RH(n,_,v,r,u),p)e.__k=[];else if(T=e.props.children,WI(n,Array.isArray(T)?T:[T],e,t,i,r&&b!=="foreignObject",a,l,a?a[0]:t.__k&&fh(t,0),u),a!=null)for(T=a.length;T--;)a[T]!=null&&FI(a[T]);u||("value"in _&&(T=_.value)!==void 0&&(T!==n.value||b==="progress"&&!T||b==="option"&&T!==v.value)&&Cg(n,"value",T,v.value,!1),"checked"in _&&(T=_.checked)!==void 0&&T!==n.checked&&Cg(n,"checked",T,v.checked,!1))}return n}function KI(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(i){Se.__e(i,t)}}function XI(n,e,t){var i,r;if(Se.unmount&&Se.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||KI(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){Se.__e(a,e)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&XI(i[r],e,t||typeof n.type!="function");t||n.__e==null||FI(n.__e),n.__=n.__e=n.__d=void 0}function IH(n,e,t){return this.constructor(n,t)}function gh(n,e,t){var i,r,a;Se.__&&Se.__(n,e),r=(i=!1)?null:e.__k,a=[],Db(e,n=e.__k=Z(Dt,null,[n]),r||Rg,Rg,e.ownerSVGElement!==void 0,r?null:e.firstChild?Tp.call(e.childNodes):null,a,r?r.__e:e.firstChild,i),QI(a,n)}function kH(n,e){var t={__c:e="__cC"+BI++,__:n,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,a;return this.getChildContext||(r=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&r.some(function(u){u.__e=!0,s_(u)})},this.sub=function(l){r.push(l);var u=l.componentWillUnmount;l.componentWillUnmount=function(){r.splice(r.indexOf(l),1),u&&u.call(l)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}Tp=HI.slice,Se={__e:function(n,e,t,i){for(var r,a,l;e=e.__;)if((r=e.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(n)),l=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(n,i||{}),l=r.__d),l)return r.__E=r}catch(u){n=u}throw n}},jI=0,UI=function(n){return n!=null&&n.constructor===void 0},Kl=!1,Kn.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ys({},this.state),typeof n=="function"&&(n=n(Ys({},t),this.props)),n&&Ys(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),s_(this))},Kn.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),s_(this))},Kn.prototype.render=Dt,oo=[],zI=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Dg.__r=0,BI=0;var nr,rv,AT,ZI=[],sv=[],wT=Se.__b,ST=Se.__r,TT=Se.diffed,xT=Se.__c,RT=Se.unmount;function MH(){for(var n;n=ZI.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(Xf),n.__H.__h.forEach(a_),n.__H.__h=[]}catch(e){n.__H.__h=[],Se.__e(e,n.__v)}}Se.__b=function(n){nr=null,wT&&wT(n)},Se.__r=function(n){ST&&ST(n);var e=(nr=n.__c).__H;e&&(rv===nr?(e.__h=[],nr.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=sv,t.__N=t.i=void 0})):(e.__h.forEach(Xf),e.__h.forEach(a_),e.__h=[])),rv=nr},Se.diffed=function(n){TT&&TT(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(ZI.push(e)!==1&&AT===Se.requestAnimationFrame||((AT=Se.requestAnimationFrame)||OH)(MH)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==sv&&(t.__=t.__V),t.i=void 0,t.__V=sv})),rv=nr=null},Se.__c=function(n,e){e.some(function(t){try{t.__h.forEach(Xf),t.__h=t.__h.filter(function(i){return!i.__||a_(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],Se.__e(i,t.__v)}}),xT&&xT(n,e)},Se.unmount=function(n){RT&&RT(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{Xf(i)}catch(r){e=r}}),t.__H=void 0,e&&Se.__e(e,t.__v))};var CT=typeof requestAnimationFrame=="function";function OH(n){var e,t=function(){clearTimeout(i),CT&&cancelAnimationFrame(e),setTimeout(n)},i=setTimeout(t,100);CT&&(e=requestAnimationFrame(t))}function Xf(n){var e=nr,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),nr=e}function a_(n){var e=nr;n.__c=n.__(),nr=e}function NH(n,e){for(var t in e)n[t]=e[t];return n}function DT(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&n[i]!==e[i])return!0;return!1}function IT(n){this.props=n}(IT.prototype=new Kn).isPureReactComponent=!0,IT.prototype.shouldComponentUpdate=function(n,e){return DT(this.props,n)||DT(this.state,e)};var kT=Se.__b;Se.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),kT&&kT(n)};var PH=Se.__e;Se.__e=function(n,e,t,i){if(n.then){for(var r,a=e;a=a.__;)if((r=a.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(n,e)}PH(n,e,t,i)};var MT=Se.unmount;function JI(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=NH({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return JI(i,e,t)})),n}function e1(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return e1(i,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function av(){this.__u=0,this.t=null,this.__b=null}function t1(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function mf(){this.u=null,this.o=null}Se.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),MT&&MT(n)},(av.prototype=new Kn).__c=function(n,e){var t=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(t);var r=t1(i.__v),a=!1,l=function(){a||(a=!0,t.__R=null,r?r(u):u())};t.__R=l;var u=function(){if(!--i.__u){if(i.state.__a){var f=i.state.__a;i.__v.__k[0]=e1(f,f.__c.__P,f.__c.__O)}var p;for(i.setState({__a:i.__b=null});p=i.t.pop();)p.forceUpdate()}},h=e.__h===!0;i.__u++||h||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(l,l)},av.prototype.componentWillUnmount=function(){this.t=[]},av.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=JI(this.__b,t,i.__O=i.__P)}this.__b=null}var r=e.__a&&Z(Dt,null,n.fallback);return r&&(r.__h=null),[Z(Dt,null,e.__a?null:n.children),r]};var OT=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function LH(n){return this.getChildContext=function(){return n.context},n.children}function VH(n){var e=this,t=n.i;e.componentWillUnmount=function(){gh(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),gh(Z(LH,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function jH(n,e){var t=Z(VH,{__v:n,i:e});return t.containerInfo=e,t}(mf.prototype=new Kn).__a=function(n){var e=this,t=t1(e.__v),i=e.o.get(n);return i[0]++,function(r){var a=function(){e.props.revealOrder?(i.push(r),OT(e,n,i)):r()};t?t(a):a()}},mf.prototype.render=function(n){this.u=null,this.o=new Map;var e=Ig(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},mf.prototype.componentDidUpdate=mf.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){OT(n,t,e)})};var UH=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,zH=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,BH=typeof document<"u",HH=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};Kn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Kn.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var NT=Se.event;function FH(){}function qH(){return this.cancelBubble}function WH(){return this.defaultPrevented}Se.event=function(n){return NT&&(n=NT(n)),n.persist=FH,n.isPropagationStopped=qH,n.isDefaultPrevented=WH,n.nativeEvent=n};var PT={configurable:!0,get:function(){return this.class}},LT=Se.vnode;Se.vnode=function(n){var e=n.type,t=n.props,i=t;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var a in i={},t){var l=t[a];BH&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in t&&l==null||(a==="defaultValue"&&"value"in t&&t.value==null?a="value":a==="download"&&l===!0?l="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!HH(t.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():r&&zH.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():l===null&&(l=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),i[a]&&(a="oninputCapture")),i[a]=l)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Ig(t.children).forEach(function(u){u.props.selected=i.value.indexOf(u.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=Ig(t.children).forEach(function(u){u.props.selected=i.multiple?i.defaultValue.indexOf(u.props.value)!=-1:i.defaultValue==u.props.value})),n.props=i,t.class!=t.className&&(PT.enumerable="className"in t,t.className!=null&&(i.class=t.className),Object.defineProperty(i,"className",PT))}n.$$typeof=UH,LT&&LT(n)};var VT=Se.__r;Se.__r=function(n){VT&&VT(n),n.__c};const n1=[],o_=new Map;function i1(n){n1.push(n),o_.forEach(e=>{s1(e,n)})}function GH(n){n.isConnected&&n.getRootNode&&r1(n.getRootNode())}function r1(n){let e=o_.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=YH();t&&(e.nonce=t);const i=n===document?document.head:n,r=n===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,r)}o_.set(n,e),$H(e)}}function $H(n){for(const e of n1)s1(n,e)}function s1(n,e){const{sheet:t}=n,i=t.cssRules.length;e.split("}").forEach((r,a)=>{r=r.trim(),r&&t.insertRule(r+"}",i+a)})}let ov;function YH(){return ov===void 0&&(ov=QH()),ov}function QH(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&r1(document);var KH=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';i1(KH);class Ib{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:i}=this;e in i&&(t?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function kb(n){n.parentNode&&n.parentNode.removeChild(n)}function vn(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(XH(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function XH(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function ZH(n,e){let t=n instanceof HTMLElement?[n]:n,i=[];for(let r=0;r<t.length;r+=1){let a=t[r].querySelectorAll(e);for(let l=0;l<a.length;l+=1)i.push(a[l])}return i}const JH=/(top|left|right|bottom|width|height)$/i;function $u(n,e){for(let t in e)a1(n,t,e[t])}function a1(n,e,t){t==null?n.style[e]="":typeof t=="number"&&JH.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function o1(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let jT=0;function xp(){return jT+=1,"fc-dom-"+jT}function Rp(n){n.preventDefault()}function e6(n,e){return t=>{let i=vn(t.target,n);i&&e.call(i,t,i)}}function l1(n,e,t,i){let r=e6(t,i);return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}function t6(n,e,t,i){let r;return l1(n,"mouseover",e,(a,l)=>{if(l!==r){r=l,t(a,l);let u=h=>{r=null,i(h,l),l.removeEventListener("mouseleave",u)};l.addEventListener("mouseleave",u)}})}const UT=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function n6(n,e){let t=i=>{e(i),UT.forEach(r=>{n.removeEventListener(r,t)})};UT.forEach(i=>{n.addEventListener(i,t)})}function c1(n){return Object.assign({onClick:n},u1(n))}function u1(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let zT=0;function ko(){return zT+=1,String(zT)}function Mb(){document.body.classList.add("fc-not-allowed")}function Ob(){document.body.classList.remove("fc-not-allowed")}function i6(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",Rp)}function r6(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",Rp)}function s6(n){n.addEventListener("contextmenu",Rp)}function a6(n){n.removeEventListener("contextmenu",Rp)}function o6(n){let e=[],t=[],i,r;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)r=t[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function l6(n,e,t){let i,r;for(i=0;i<t.length;i+=1)if(r=c6(n,e,t[i]),r)return r;return 0}function c6(n,e,t){return t.func?t.func(n,e):u6(n[t.field],e[t.field])*(t.order||1)}function u6(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function lv(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function Yu(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((i,r,a)=>i.replace("$"+a,r||""),n):t}function h6(n,e){return n-e}function cv(n){return n%1===0}function d6(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const f6=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Xe(n,e){return typeof n=="string"?g6(n):typeof n=="object"&&n?BT(n):typeof n=="number"?BT({[e||"milliseconds"]:n}):null}function g6(n){let e=f6.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function BT(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function p6(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function m6(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function y6(n){return Ul(n)/365}function v6(n){return Ul(n)/30}function Ul(n){return ph(n)/864e5}function ph(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function l_(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function fa(n,e,t){if(n===e)return!0;let i=n.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(!(t?t(n[r],e[r]):n[r]===e[r]))return!1;return!0}const _6=["sun","mon","tue","wed","thu","fri","sat"];function HT(n,e){let t=Qs(n);return t[2]+=e*7,Ln(t)}function _n(n,e){let t=Qs(n);return t[2]+=e,Ln(t)}function ga(n,e){let t=Qs(n);return t[6]+=e,Ln(t)}function b6(n,e){return uc(n,e)/7}function uc(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function E6(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function A6(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function w6(n,e){return(e.valueOf()-n.valueOf())/1e3}function S6(n,e){let t=ht(n),i=ht(e);return{years:0,months:0,days:Math.round(uc(t,i)),milliseconds:e.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}function T6(n,e){let t=kg(n,e);return t!==null&&t%7===0?t/7:null}function kg(n,e){return Ks(n)===Ks(e)?Math.round(uc(n,e)):null}function ht(n){return Ln([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function x6(n){return Ln([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function R6(n){return Ln([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function C6(n){return Ln([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function D6(n,e,t){let i=n.getUTCFullYear(),r=uv(n,i,e,t);if(r<1)return uv(n,i-1,e,t);let a=uv(n,i+1,e,t);return a>=1?Math.min(r,a):r}function uv(n,e,t,i){let r=Ln([e,0,1+I6(e,t,i)]),a=ht(n),l=Math.round(uc(r,a));return Math.floor(l/7)+1}function I6(n,e,t){let i=7+e-t;return-((7+Ln([n,0,i]).getUTCDay()-e)%7)+i-1}function FT(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function qT(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function Qs(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Ln(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function h1(n){return!isNaN(n.valueOf())}function Ks(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function k6(n,e,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",Pb(e,!0)))),i}function Nb(n){return n.toISOString().replace(/T.*$/,"")}function M6(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function Pb(n,e=!1){let t=n<0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),a=Math.round(i%60);return e?`${t+lv(r,2)}:${lv(a,2)}`:`GMT${t}${r}${a?`:${lv(a,2)}`:""}`}function Ze(n,e,t){let i,r;return function(...a){if(!i)r=n.apply(this,a);else if(!fa(i,a)){let l=n.apply(this,a);(!e||!e(l,r))&&(r=l)}return i=a,r}}function Zf(n,e,t){let i,r;return a=>(i?ur(i,a)||(r=n.call(this,a)):r=n.call(this,a),i=a,r)}const WT={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Mg={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},yf=/\s*([ap])\.?m\.?/i,O6=/,/g,N6=/\s+/g,P6=/\u200e/g,L6=/UTC|GMT/;class V6{constructor(e){let t={},i={},r=0;for(let a in e)a in WT?(i[a]=e[a],r=Math.max(WT[a],r)):(t[a]=e[a],a in Mg&&(r=Math.max(Mg[a],r)));this.standardDateProps=t,this.extendedSettings=i,this.severity=r,this.buildFormattingFunc=Ze(GT)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,i,r){let{standardDateProps:a,extendedSettings:l}=this,u=F6(e.marker,t.marker,i.calendarSystem);if(!u)return this.format(e,i);let h=u;h>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(h=1);let f=this.format(e,i),p=this.format(t,i);if(f===p)return f;let v=q6(a,h),_=GT(v,l,i),b=_(e),T=_(t),R=W6(f,b,p,T),x=l.separator||r||i.defaultSeparator||"";return R?R.before+b+x+T+R.after:f+x+p}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function GT(n,e,t){let i=Object.keys(n).length;return i===1&&n.timeZoneName==="short"?r=>Pb(r.timeZoneOffset):i===0&&e.week?r=>H6(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,e.week):j6(n,e,t)}function j6(n,e,t){n=Object.assign({},n),e=Object.assign({},e),U6(n,e),n.timeZone="UTC";let i=new Intl.DateTimeFormat(t.locale.codes,n),r;if(e.omitZeroMinute){let a=Object.assign({},n);delete a.minute,r=new Intl.DateTimeFormat(t.locale.codes,a)}return a=>{let{marker:l}=a,u;r&&!l.getUTCMinutes()?u=r:u=i;let h=u.format(l);return z6(h,a,n,e,t)}}function U6(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function z6(n,e,t,i,r){return n=n.replace(P6,""),t.timeZoneName==="short"&&(n=B6(n,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Pb(e.timeZoneOffset))),i.omitCommas&&(n=n.replace(O6,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),i.meridiem===!1?n=n.replace(yf,"").trim():i.meridiem==="narrow"?n=n.replace(yf,(a,l)=>l.toLocaleLowerCase()):i.meridiem==="short"?n=n.replace(yf,(a,l)=>`${l.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(n=n.replace(yf,a=>a.toLocaleLowerCase())),n=n.replace(N6," "),n=n.trim(),n}function B6(n,e){let t=!1;return n=n.replace(L6,()=>(t=!0,e)),t||(n+=` ${e}`),n}function H6(n,e,t,i,r){let a=[];return r==="long"?a.push(t):(r==="short"||r==="narrow")&&a.push(e),(r==="long"||r==="short")&&a.push(" "),a.push(i.simpleNumberFormat.format(n)),i.options.direction==="rtl"&&a.reverse(),a.join("")}function F6(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:Ks(n)!==Ks(e)?1:0}function q6(n,e){let t={};for(let i in n)(!(i in Mg)||Mg[i]<=e)&&(t[i]=n[i]);return t}function W6(n,e,t,i){let r=0;for(;r<n.length;){let a=n.indexOf(e,r);if(a===-1)break;let l=n.substr(0,a);r=a+e.length;let u=n.substr(r),h=0;for(;h<t.length;){let f=t.indexOf(i,h);if(f===-1)break;let p=t.substr(0,f);h=f+i.length;let v=t.substr(h);if(l===p&&u===v)return{before:l,after:u}}}return null}function $T(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Og(n,e,t,i){let r=$T(n,t.calendarSystem),a=e?$T(e,t.calendarSystem):null;return{date:r,start:r,end:a,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}class G6{constructor(e){this.cmdStr=e}format(e,t,i){return t.cmdFormatter(this.cmdStr,Og(e,null,t,i))}formatRange(e,t,i,r){return i.cmdFormatter(this.cmdStr,Og(e,t,i,r))}}class $6{constructor(e){this.func=e}format(e,t,i){return this.func(Og(e,null,t,i))}formatRange(e,t,i,r){return this.func(Og(e,t,i,r))}}function tn(n){return typeof n=="object"&&n?new V6(n):typeof n=="string"?new G6(n):typeof n=="function"?new $6(n):null}const YT={navLinkDayClick:K,navLinkWeekClick:K,duration:Xe,bootstrapFontAwesome:K,buttonIcons:K,customButtons:K,defaultAllDayEventDuration:Xe,defaultTimedEventDuration:Xe,nextDayThreshold:Xe,scrollTime:Xe,scrollTimeReset:Boolean,slotMinTime:Xe,slotMaxTime:Xe,dayPopoverFormat:tn,slotDuration:Xe,snapDuration:Xe,headerToolbar:K,footerToolbar:K,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:tn,dayHeaderClassNames:K,dayHeaderContent:K,dayHeaderDidMount:K,dayHeaderWillUnmount:K,dayCellClassNames:K,dayCellContent:K,dayCellDidMount:K,dayCellWillUnmount:K,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:K,weekNumbers:Boolean,weekNumberClassNames:K,weekNumberContent:K,weekNumberDidMount:K,weekNumberWillUnmount:K,editable:Boolean,viewClassNames:K,viewDidMount:K,viewWillUnmount:K,nowIndicator:Boolean,nowIndicatorClassNames:K,nowIndicatorContent:K,nowIndicatorDidMount:K,nowIndicatorWillUnmount:K,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:K,locale:K,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:K,eventOrder:o6,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:K,contentHeight:K,direction:String,weekNumberFormat:tn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:K,initialDate:K,now:K,eventDataTransform:K,stickyHeaderDates:K,stickyFooterScrollbar:K,viewHeight:K,defaultAllDay:Boolean,eventSourceFailure:K,eventSourceSuccess:K,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:K,eventConstraint:K,eventAllow:K,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:K,eventContent:K,eventDidMount:K,eventWillUnmount:K,selectConstraint:K,selectOverlap:K,selectAllow:K,droppable:Boolean,unselectCancel:String,slotLabelFormat:K,slotLaneClassNames:K,slotLaneContent:K,slotLaneDidMount:K,slotLaneWillUnmount:K,slotLabelClassNames:K,slotLabelContent:K,slotLabelDidMount:K,slotLabelWillUnmount:K,dayMaxEvents:K,dayMaxEventRows:K,dayMinWidth:Number,slotLabelInterval:Xe,allDayText:String,allDayClassNames:K,allDayContent:K,allDayDidMount:K,allDayWillUnmount:K,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:tn,rerenderDelay:Number,moreLinkText:K,moreLinkHint:K,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:K,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Xe,hiddenDays:K,fixedWeekCount:Boolean,validRange:K,visibleRange:K,titleFormat:K,eventInteractive:Boolean,noEventsText:String,viewHint:K,navLinkHint:K,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:K,moreLinkClassNames:K,moreLinkContent:K,moreLinkDidMount:K,moreLinkWillUnmount:K,monthStartFormat:tn,handleCustomRendering:K,customRenderingMetaMap:K,customRenderingReplaces:Boolean},Qu={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},QT={datesSet:K,eventsSet:K,eventAdd:K,eventChange:K,eventRemove:K,windowResize:K,eventClick:K,eventMouseEnter:K,eventMouseLeave:K,select:K,unselect:K,loading:K,_unmount:K,_beforeprint:K,_afterprint:K,_noEventDrop:K,_noEventResize:K,_resize:K,_scrollRequest:K},KT={buttonText:K,buttonHints:K,views:K,plugins:K,initialEvents:K,events:K,eventSources:K},ro={headerToolbar:so,footerToolbar:so,buttonText:so,buttonHints:so,buttonIcons:so,dateIncrement:so,plugins:vf,events:vf,eventSources:vf,resources:vf};function so(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?ur(n,e):n===e}function vf(n,e){return Array.isArray(n)&&Array.isArray(e)?fa(n,e):n===e}const Y6={type:String,component:K,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:K,usesMinMaxTime:Boolean,classNames:K,content:K,didMount:K,willUnmount:K};function hv(n){return Vb(n,ro)}function Lb(n,e){let t={},i={};for(let r in e)r in n&&(t[r]=e[r](n[r]));for(let r in n)r in e||(i[r]=n[r]);return{refined:t,extra:i}}function K(n){return n}const{hasOwnProperty:Ng}=Object.prototype;function Vb(n,e){let t={};if(e){for(let i in e)if(e[i]===so){let r=[];for(let a=n.length-1;a>=0;a-=1){let l=n[a][i];if(typeof l=="object"&&l)r.unshift(l);else if(l!==void 0){t[i]=l;break}}r.length&&(t[i]=Vb(r))}}for(let i=n.length-1;i>=0;i-=1){let r=n[i];for(let a in r)a in t||(t[a]=r[a])}return t}function Eo(n,e){let t={};for(let i in n)e(n[i],i)&&(t[i]=n[i]);return t}function Mo(n,e){let t={};for(let i in n)t[i]=e(n[i],i);return t}function d1(n){let e={};for(let t of n)e[t]=!0;return e}function jb(n){let e=[];for(let t in n)e.push(n[t]);return e}function ur(n,e){if(n===e)return!0;for(let t in n)if(Ng.call(n,t)&&!(t in e))return!1;for(let t in e)if(Ng.call(e,t)&&n[t]!==e[t])return!1;return!0}const Q6=/^on[A-Z]/;function K6(n,e){const t=c_(n,e);for(let i of t)if(!Q6.test(i))return!1;return!0}function c_(n,e){let t=[];for(let i in n)Ng.call(n,i)&&(i in e||t.push(i));for(let i in e)Ng.call(e,i)&&n[i]!==e[i]&&t.push(i);return t}function dv(n,e,t={}){if(n===e)return!0;for(let i in e)if(!(i in n&&X6(n[i],e[i],t[i])))return!1;for(let i in n)if(!(i in e))return!1;return!0}function X6(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function Z6(n,e=0,t,i=1){let r=[];t==null&&(t=Object.keys(n).length);for(let a=e;a<t;a+=i){let l=n[a];l!==void 0&&r.push(l)}return r}let f1={};function J6(n,e){f1[n]=e}function e5(n){return new f1[n]}class t5{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Ln(e)}markerToArray(e){return Qs(e)}}J6("gregory",t5);const n5=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function i5(n){let e=n5.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(h1(t)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}class r5{constructor(e){let t=this.timeZone=e.timeZone,i=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=e5(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Ln(FT(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Ln(e)),t===null||!h1(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=i5(e);if(t===null)return null;let{marker:i}=t,r=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-t.timeZoneOffset*60*1e3):r=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(e,t){let i=this.calendarSystem.markerToArray(e);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,t){let{calendarSystem:i}=this;return Ks(e)===Ks(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)&&i.getMarkerMonth(e)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:i}=this;return Ks(e)===Ks(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(e)+(i.getMarkerYear(t)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let i=this.diffWholeYears(e,t);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,t),i!==null?{unit:"month",value:i}:(i=T6(e,t),i!==null?{unit:"week",value:i}:(i=kg(e,t),i!==null?{unit:"day",value:i}:(i=E6(e,t),cv(i)?{unit:"hour",value:i}:(i=A6(e,t),cv(i)?{unit:"minute",value:i}:(i=w6(e,t),cv(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,i){let r;return i.years&&(r=this.diffWholeYears(e,t),r!==null)?r/y6(i):i.months&&(r=this.diffWholeMonths(e,t),r!==null)?r/v6(i):i.days&&(r=kg(e,t),r!==null)?r/Ul(i):(t.valueOf()-e.valueOf())/ph(i)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?ht(e):t==="hour"?x6(e):t==="minute"?R6(e):t==="second"?C6(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):D6(e,this.weekDow,this.weekDoy)}format(e,t,i={}){return t.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,i,r={}){return r.isEndExclusive&&(t=ga(t,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let i=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?i=t.forcedTzo:i=this.offsetForMarker(e)),k6(e,i,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Ln(FT(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Ln(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-qT(Qs(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Qs(e)):null}toDate(e,t){return this.timeZone==="local"?qT(Qs(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Qs(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class Nh{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,i;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(i in e)t[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let i;return t&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}Nh.prototype.classes={};Nh.prototype.iconClasses={};Nh.prototype.baseIconClass="";Nh.prototype.iconOverridePrefix="";function Pg(n){n();let e=Se.debounceRendering,t=[];function i(r){t.push(r)}for(Se.debounceRendering=i,gh(Z(s5,{}),document.createElement("div"));t.length;)t.shift()();Se.debounceRendering=e}class s5 extends Kn{render(){return Z("div",{})}componentDidMount(){this.setState({})}}function g1(n){let e=kH(n),t=e.Provider;return e.Provider=function(){let i=!this.getChildContext,r=t.apply(this,arguments);if(i){let a=[];this.shouldComponentUpdate=l=>{this.props.value!==l.value&&a.forEach(u=>{u.context=l.value,u.forceUpdate()})},this.sub=l=>{a.push(l);let u=l.componentWillUnmount;l.componentWillUnmount=()=>{a.splice(a.indexOf(l),1),u&&u.call(l)}}}return r},e}class a5{constructor(e,t,i,r){this.execFunc=e,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Oo=g1({});function o5(n,e,t,i,r,a,l,u,h,f,p,v,_){return{dateEnv:r,options:t,pluginHooks:l,emitter:f,dispatch:u,getCurrentData:h,calendarApi:p,viewSpec:n,viewApi:e,dateProfileGenerator:i,theme:a,isRtl:t.direction==="rtl",addResizeHandler(b){f.on("_resize",b)},removeResizeHandler(b){f.off("_resize",b)},createScrollResponder(b){return new a5(b,f,Xe(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:v,unregisterInteractiveComponent:_}}class No extends Kn{shouldComponentUpdate(e,t){return this.debug&&console.log(c_(e,this.props),c_(t,this.state)),!dv(this.props,e,this.propEquality)||!dv(this.state,t,this.stateEquality)}safeSetState(e){dv(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}No.addPropsEquality=l5;No.addStateEquality=c5;No.contextType=Oo;No.prototype.propEquality={};No.prototype.stateEquality={};class _t extends No{}_t.contextType=Oo;function l5(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function c5(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function ts(n,e){typeof n=="function"?n(e):n&&(n.current=e)}class Ub extends _t{constructor(){super(...arguments),this.id=ko(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:i}=this.props;(!t.customRenderingReplaces||!u_(i,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&ts(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:i}=t,{customGenerator:r,defaultGenerator:a,renderProps:l}=e,u=p1(e,[],this.handleEl);let h=!1,f,p=[],v;if(r!=null){const _=typeof r=="function"?r(l,Z):r;if(_===!0)h=!0;else{const b=_&&typeof _=="object";b&&"html"in _?u.dangerouslySetInnerHTML={__html:_.html}:b&&"domNodes"in _?p=Array.prototype.slice.call(_.domNodes):(b?UI(_):typeof _!="function")?f=_:v=_}}else h=!u_(e.generatorName,i);return h&&a&&(f=a(l)),this.queuedDomNodes=p,this.currentGeneratorMeta=v,Z(e.elTag,u,f)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:i,context:r}=this,{handleCustomRendering:a,customRenderingMetaMap:l}=r.options;if(a){const u=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:l==null?void 0:l[i.generatorName];u&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:u},i),{elClasses:(i.elClasses||[]).filter(u5)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,i=this.base;if(!fa(e,t)){t.forEach(kb);for(let r of e)i.appendChild(r);this.currentDomNodes=e}}}Ub.addPropsEquality({elClasses:fa,elStyle:ur,elAttrs:K6,renderProps:ur});function u_(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function p1(n,e,t){const i=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(i.className=(n.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),n.elStyle&&(i.style=n.elStyle),i}function u5(n){return!!n}const m1=g1(0);class rs extends Kn{constructor(){super(...arguments),this.InnerContent=h5.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(ts(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=d5(e.classNameGenerator,e.renderProps);if(e.children){const i=p1(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,i);return e.elTag?Z(e.elTag,i,r):r}else return Z(Ub,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}rs.contextType=m1;function h5(n,e){const t=n.props;return Z(Ub,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function d5(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}class XT extends _t{render(){let{props:e,context:t}=this,{options:i}=t,r={view:t.viewApi};return Z(rs,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...y1(e.viewSpec),...e.elClasses||[]],renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>e.children)}}function y1(n){return[`fc-${n.type}-view`,"fc-view"]}function f5(n,e){let t=null,i=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(i=e.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}function ZT(n,e){let t=[],{start:i}=e,r,a;for(n.sort(g5),r=0;r<n.length;r+=1)a=n[r],a.start>i&&t.push({start:i,end:a.start}),a.end>i&&(i=a.end);return i<e.end&&t.push({start:i,end:e.end}),t}function g5(n,e){return n.start.valueOf()-e.start.valueOf()}function Xl(n,e){let{start:t,end:i}=n,r=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(t===null||i===null||t<i)&&(r={start:t,end:i}),r}function p5(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function zb(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function Cp(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function ra(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function m5(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function v1(n){let e=Math.floor(uc(n.start,n.end))||1,t=ht(n.start),i=_n(t,e);return{start:t,end:i}}function _1(n,e=Xe(0)){let t=null,i=null;if(n.end){i=ht(n.end);let r=n.end.valueOf()-i.valueOf();r&&r>=ph(e)&&(i=_n(i,1))}return n.start&&(t=ht(n.start),i&&i<=t&&(i=_n(t,1))),{start:t,end:i}}function Nl(n,e,t,i){return i==="year"?Xe(t.diffWholeYears(n,e),"year"):i==="month"?Xe(t.diffWholeMonths(n,e),"month"):S6(n,e)}function y5(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function v5(n,e){let t=n.initialDate;return t!=null?e.createMarker(t):Ph(n.now,e)}function Ph(n,e){return typeof n=="function"&&(n=n()),n==null?e.createNowMarker():e.createMarker(n)}class b1{constructor(e){this.props=e,this.nowDate=Ph(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,i){let{dateEnv:r}=this.props,a=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,i)}buildNext(e,t,i){let{dateEnv:r}=this.props,a=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,i)}build(e,t,i=!0){let{props:r}=this,a,l,u,h,f,p;return a=this.buildValidRange(),a=this.trimHiddenDays(a),i&&(e=m5(e,a)),l=this.buildCurrentRangeInfo(e,t),u=/^(year|month|week|day)$/.test(l.unit),h=this.buildRenderRange(this.trimHiddenDays(l.range),l.unit,u),h=this.trimHiddenDays(h),f=h,r.showNonCurrentDates||(f=Xl(f,l.range)),f=this.adjustActiveRange(f),f=Xl(f,a),p=zb(l.range,a),ra(h,e)||(e=h.start),{currentDate:e,validRange:a,currentRange:l.range,currentRangeUnit:l.unit,isRangeAllDay:u,activeRange:f,renderRange:h,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:p,dateIncrement:this.buildDateIncrement(l.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:i}=this,r=null,a=null,l=null,u;return i.duration?(r=i.duration,a=i.durationUnit,l=this.buildRangeFromDuration(e,t,r,a)):(u=this.props.dayCount)?(a="day",l=this.buildRangeFromDayCount(e,t,u)):(l=this.buildCustomVisibleRange(e))?a=i.dateEnv.greatestWholeUnit(l.start,l.end).unit:(r=this.getFallbackDuration(),a=l_(r).unit,l=this.buildRangeFromDuration(e,t,r,a)),{duration:r,unit:a,range:l}}getFallbackDuration(){return Xe({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:a}=this.props,{start:l,end:u}=e;return i&&(Ul(r)<0&&(l=ht(l),l=t.add(l,r)),Ul(a)>1&&(u=ht(u),u=_n(u,-1),u=t.add(u,a))),{start:l,end:u}}buildRangeFromDuration(e,t,i,r){let{dateEnv:a,dateAlignment:l}=this.props,u,h,f;if(!l){let{dateIncrement:v}=this.props;v&&ph(v)<ph(i)?l=l_(v).unit:l=r}Ul(i)<=1&&this.isHiddenDay(u)&&(u=this.skipHiddenDays(u,t),u=ht(u));function p(){u=a.startOf(e,l),h=a.add(u,i),f={start:u,end:h}}return p(),this.trimHiddenDays(f)||(e=this.skipHiddenDays(e,t),p()),f}buildRangeFromDayCount(e,t,i){let{dateEnv:r,dateAlignment:a}=this.props,l=0,u=e,h;a&&(u=r.startOf(u,a)),u=ht(u),u=this.skipHiddenDays(u,t),h=u;do h=_n(h,1),this.isHiddenDay(h)||(l+=1);while(l<i);return{start:u,end:h}}buildCustomVisibleRange(e){let{props:t}=this,i=t.visibleRangeInput,r=typeof i=="function"?i.call(t.calendarApi,t.dateEnv.toDate(e)):i,a=this.refineRange(r);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,t,i){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,i;return t||((i=this.props.dateAlignment)?Xe(1,i):e||Xe({days:1}))}refineRange(e){if(e){let t=f5(e,this.props.dateEnv);return t&&(t=_1(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(t[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:i}=e;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),t==null||i==null||t<i?{start:t,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?t:0)+7)%7];)e=_n(e,t);return e}}function Bb(n,e,t,i){return{instanceId:ko(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:i??null}}function _5(n,e,t,i){for(let r=0;r<i.length;r+=1){let a=i[r].parse(n,t);if(a){let{allDay:l}=n;return l==null&&(l=e,l==null&&(l=a.allDayGuess,l==null&&(l=!1))),{allDay:l,duration:a.duration,typeData:a.typeData,typeId:r}}}return null}function Ao(n,e,t){let{dateEnv:i,pluginHooks:r,options:a}=t,{defs:l,instances:u}=n;u=Eo(u,h=>!l[h.defId].recurringDef);for(let h in l){let f=l[h];if(f.recurringDef){let{duration:p}=f.recurringDef;p||(p=f.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let v=b5(f,p,e,i,r.recurringTypes);for(let _ of v){let b=Bb(h,{start:_,end:i.add(_,p)});u[b.instanceId]=b}}}return{defs:l,instances:u}}function b5(n,e,t,i,r){let l=r[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,e),end:t.end},i);return n.allDay&&(l=l.map(ht)),l}const Jf={id:String,groupId:String,title:String,url:String,interactive:Boolean},E1={start:K,end:K,date:K,allDay:Boolean},E5=Object.assign(Object.assign(Object.assign({},Jf),E1),{extendedProps:K});function A1(n,e,t,i,r=Hb(t),a,l){let{refined:u,extra:h}=w1(n,t,r),f=w5(e,t),p=_5(u,f,t.dateEnv,t.pluginHooks.recurringTypes);if(p){let _=h_(u,h,e?e.sourceId:"",p.allDay,!!p.duration,t,a);return _.recurringDef={typeId:p.typeId,typeData:p.typeData,duration:p.duration},{def:_,instance:null}}let v=A5(u,f,t,i);if(v){let _=h_(u,h,e?e.sourceId:"",v.allDay,v.hasEnd,t,a),b=Bb(_.defId,v.range,v.forcedStartTzo,v.forcedEndTzo);return l&&_.publicId&&l[_.publicId]&&(b.instanceId=l[_.publicId]),{def:_,instance:b}}return null}function w1(n,e,t=Hb(e)){return Lb(n,t)}function Hb(n){return Object.assign(Object.assign(Object.assign({},Lg),E5),n.pluginHooks.eventRefiners)}function h_(n,e,t,i,r,a,l){let u={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(l&&n.id?l[n.id]:"")||ko(),sourceId:t,allDay:i,hasEnd:r,interactive:n.interactive,ui:Vg(n,a),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let h of a.pluginHooks.eventDefMemberAdders)Object.assign(u,h(n));return Object.freeze(u.ui.classNames),Object.freeze(u.extendedProps),u}function A5(n,e,t,i){let{allDay:r}=n,a,l=null,u=!1,h,f=null,p=n.start!=null?n.start:n.date;if(a=t.dateEnv.createMarkerMeta(p),a)l=a.marker;else if(!i)return null;return n.end!=null&&(h=t.dateEnv.createMarkerMeta(n.end)),r==null&&(e!=null?r=e:r=(!a||a.isTimeUnspecified)&&(!h||h.isTimeUnspecified)),r&&l&&(l=ht(l)),h&&(f=h.marker,r&&(f=ht(f)),l&&f<=l&&(f=null)),f?u=!0:i||(u=t.options.forceEventDuration||!1,f=t.dateEnv.add(l,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:u,range:{start:l,end:f},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:h?h.forcedTzo:null}}function w5(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function mh(n,e,t,i,r,a){let l=Ci(),u=Hb(t);for(let h of n){let f=A1(h,e,t,i,u,r,a);f&&d_(f,l)}return l}function d_(n,e=Ci()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function Fb(n,e){let t=n.instances[e];if(t){let i=n.defs[t.defId],r=Dp(n,a=>S5(i,a));return r.defs[i.defId]=i,r.instances[t.instanceId]=t,r}return Ci()}function S5(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function Ci(){return{defs:{},instances:{}}}function qb(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function Dp(n,e){let t=Eo(n.defs,e),i=Eo(n.instances,r=>t[r.defId]);return{defs:t,instances:i}}function T5(n,e){let{defs:t,instances:i}=n,r={},a={};for(let l in t)e.defs[l]||(r[l]=t[l]);for(let l in i)!e.instances[l]&&r[i[l].defId]&&(a[l]=i[l]);return{defs:r,instances:a}}function x5(n,e){return Array.isArray(n)?mh(n,null,e,!0):typeof n=="object"&&n?mh([n],null,e,!0):n!=null?String(n):null}function JT(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}const Lg={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:K,overlap:K,allow:K,className:JT,classNames:JT,color:String,backgroundColor:String,borderColor:String,textColor:String},R5={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Vg(n,e){let t=x5(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function C5(n){return n.reduce(D5,R5)}function D5(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const I5={id:String,defaultAllDay:Boolean,url:String,format:String,events:K,eventDataTransform:K,success:K,failure:K};function S1(n,e,t=T1(e)){let i;if(typeof n=="string"?i={url:n}:typeof n=="function"||Array.isArray(n)?i={events:n}:typeof n=="object"&&n&&(i=n),i){let{refined:r,extra:a}=Lb(i,t),l=k5(r,e);if(l)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:ko(),sourceDefId:l.sourceDefId,meta:l.meta,ui:Vg(r,e),extendedProps:a}}return null}function T1(n){return Object.assign(Object.assign(Object.assign({},Lg),I5),n.pluginHooks.eventSourceRefiners)}function k5(n,e){let t=e.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let a=t[i].parseMeta(n);if(a)return{sourceDefId:i,meta:a}}return null}function M5(n,e,t,i,r){switch(e.type){case"RECEIVE_EVENTS":return O5(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return N5(n,t[e.sourceId],e.rawEvents,i.activeRange,r);case"ADD_EVENTS":return P5(n,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return qb(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?Ao(n,i.activeRange,r):n;case"REMOVE_EVENTS":return T5(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return R1(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Dp(n,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return Ci();default:return n}}function O5(n,e,t,i,r,a){if(e&&t===e.latestFetchId){let l=mh(x1(r,e,a),e,a);return i&&(l=Ao(l,i,a)),qb(R1(n,e.sourceId),l)}return n}function N5(n,e,t,i,r){const{defIdMap:a,instanceIdMap:l}=V5(n);let u=mh(x1(t,e,r),e,r,!1,a,l);return Ao(u,i,r)}function x1(n,e,t){let i=t.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(n=ex(n,r)),i&&(n=ex(n,i)),n}function ex(n,e){let t;if(!e)t=n;else{t=[];for(let i of n){let r=e(i);r?t.push(r):r==null&&t.push(i)}}return t}function P5(n,e,t,i){return t&&(e=Ao(e,t,i)),qb(n,e)}function tx(n,e,t){let{defs:i}=n,r=Mo(n.instances,a=>i[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:t.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:t.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:a.forcedEndTzo}));return{defs:i,instances:r}}function R1(n,e){return Dp(n,t=>t.sourceId!==e)}function L5(n,e){return{defs:n.defs,instances:Eo(n.instances,t=>!e[t.instanceId])}}function V5(n){const{defs:e,instances:t}=n,i={},r={};for(let a in e){const l=e[a],{publicId:u}=l;u&&(i[u]=a)}for(let a in t){const l=t[a],u=e[l.defId],{publicId:h}=u;h&&(r[h]=a)}return{defIdMap:i,instanceIdMap:r}}class Ip{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){j5(this.handlers,e,t)}off(e,t){U5(this.handlers,e,t)}trigger(e,...t){let i=this.handlers[e]||[],r=this.options&&this.options[e],a=[].concat(r||[],i);for(let l of a)l.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function j5(n,e,t){(n[e]||(n[e]=[])).push(t)}function U5(n,e,t){t?n[e]&&(n[e]=n[e].filter(i=>i!==t)):delete n[e]}const z5={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function B5(n,e){return mh(H5(n),null,e)}function H5(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},z5),t)),e}function C1(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},Wb(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function F5(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Wb(n,e){let t={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,e));return Object.assign(t,rF(n,e.dateEnv)),t}function nx(n,e,t){let{dateEnv:i,options:r}=t,a=e;return n?(a=ht(a),a=i.add(a,r.defaultAllDayEventDuration)):a=i.add(a,r.defaultTimedEventDuration),a}function Gb(n,e,t,i){let r=jg(n.defs,e),a=Ci();for(let l in n.defs){let u=n.defs[l];a.defs[l]=q5(u,r[l],t,i)}for(let l in n.instances){let u=n.instances[l],h=a.defs[u.defId];a.instances[l]=W5(u,h,r[u.defId],t,i)}return a}function q5(n,e,t,i){let r=t.standardProps||{};r.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},n),r),{ui:Object.assign(Object.assign({},n.ui),r.ui)});t.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),t.extendedProps));for(let l of i.pluginHooks.eventDefMutationAppliers)l(a,t,i);return!a.hasEnd&&i.options.forceEventDuration&&(a.hasEnd=!0),a}function W5(n,e,t,i,r){let{dateEnv:a}=r,l=i.standardProps&&i.standardProps.allDay===!0,u=i.standardProps&&i.standardProps.hasEnd===!1,h=Object.assign({},n);return l&&(h.range=v1(h.range)),i.datesDelta&&t.startEditable&&(h.range={start:a.add(h.range.start,i.datesDelta),end:a.add(h.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(h.range={start:a.add(h.range.start,i.startDelta),end:h.range.end}),i.endDelta&&t.durationEditable&&(h.range={start:h.range.start,end:a.add(h.range.end,i.endDelta)}),u&&(h.range={start:h.range.start,end:nx(e.allDay,h.range.start,r)}),e.allDay&&(h.range={start:ht(h.range.start),end:ht(h.range.end)}),h.range.end<h.range.start&&(h.range.end=nx(e.allDay,h.range.start,r)),h}class Ml{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class dt{constructor(e,t,i){this._context=e,this._def=t,this._instance=i||null}setProp(e,t){if(e in E1)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=Jf[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Jf)t=Jf[e](t),this.mutate({standardProps:{[e]:t}});else if(e in Lg){let i=Lg[e](t);e==="color"?i={backgroundColor:t,borderColor:t}:e==="editable"?i={startEditable:t,durationEditable:t}:i={[e]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:i}=this._context,r=i.createMarker(e);if(r&&this._instance){let a=this._instance.range,l=Nl(a.start,r,i,t.granularity);t.maintainDuration?this.mutate({datesDelta:l}):this.mutate({startDelta:l})}}setEnd(e,t={}){let{dateEnv:i}=this._context,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){let a=Nl(this._instance.range.end,r,i,t.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,i={}){let{dateEnv:r}=this._context,a={allDay:i.allDay},l=r.createMarker(e),u;if(l&&!(t!=null&&(u=r.createMarker(t),!u))&&this._instance){let h=this._instance.range;i.allDay===!0&&(h=v1(h));let f=Nl(h.start,l,r,i.granularity);if(u){let p=Nl(h.end,u,r,i.granularity);p6(f,p)?this.mutate({datesDelta:f,standardProps:a}):this.mutate({startDelta:f,endDelta:p,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:f,standardProps:a})}}moveStart(e){let t=Xe(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=Xe(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=Xe(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let i={allDay:e},{maintainDuration:r}=t;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:t}=this._context,i=this._instance,r=tn(e);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let i=this._def,r=this._context,{eventStore:a}=r.getCurrentData(),l=Fb(a,t.instanceId);l=Gb(l,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let h=new dt(r,i,t);this._def=l.defs[i.defId],this._instance=l.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:l}),r.emitter.trigger("eventChange",{oldEvent:h,event:this,relatedEvents:fo(l,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,t=D1(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new Ml(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:i}=t,{startStr:r,endStr:a}=this,l={allDay:t.allDay};return t.title&&(l.title=t.title),r&&(l.start=r),a&&(l.end=a),t.publicId&&(l.id=t.publicId),t.groupId&&(l.groupId=t.groupId),t.url&&(l.url=t.url),i.display&&i.display!=="auto"&&(l.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?l.color=i.backgroundColor:(i.backgroundColor&&(l.backgroundColor=i.backgroundColor),i.borderColor&&(l.borderColor=i.borderColor)),i.textColor&&(l.textColor=i.textColor),i.classNames.length&&(l.classNames=i.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(l,t.extendedProps):l.extendedProps=t.extendedProps),l}toJSON(){return this.toPlainObject()}}function D1(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function fo(n,e,t){let{defs:i,instances:r}=n,a=[],l=t?t.instanceId:"";for(let u in r){let h=r[u],f=i[h.defId];h.instanceId!==l&&a.push(new dt(e,f,h))}return a}function ix(n,e,t,i){let r={},a={},l={},u=[],h=[],f=jg(n.defs,e);for(let p in n.defs){let v=n.defs[p];f[v.defId].display==="inverse-background"&&(v.groupId?(r[v.groupId]=[],l[v.groupId]||(l[v.groupId]=v)):a[p]=[])}for(let p in n.instances){let v=n.instances[p],_=n.defs[v.defId],b=f[_.defId],T=v.range,R=!_.allDay&&i?_1(T,i):T,x=Xl(R,t);x&&(b.display==="inverse-background"?_.groupId?r[_.groupId].push(x):a[v.defId].push(x):b.display!=="none"&&(b.display==="background"?u:h).push({def:_,ui:b,instance:v,range:x,isStart:R.start&&R.start.valueOf()===x.start.valueOf(),isEnd:R.end&&R.end.valueOf()===x.end.valueOf()}))}for(let p in r){let v=r[p],_=ZT(v,t);for(let b of _){let T=l[p],R=f[T.defId];u.push({def:T,ui:R,instance:null,range:b,isStart:!1,isEnd:!1})}}for(let p in a){let v=a[p],_=ZT(v,t);for(let b of _)u.push({def:n.defs[p],ui:f[p],instance:null,range:b,isStart:!1,isEnd:!1})}return{bg:u,fg:h}}function rx(n,e){n.fcSeg=e}function Zl(n){return n.fcSeg||n.parentNode.fcSeg||null}function jg(n,e){return Mo(n,t=>I1(t,e))}function I1(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),C5(t)}function G5(n,e){let t=n.map($5);return t.sort((i,r)=>l6(i,r,e)),t.map(i=>i._seg)}function $5(n){let{eventRange:e}=n,t=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,a=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:a,duration:a-r,allDay:Number(t.allDay),_seg:n})}function Y5(n,e){let{pluginHooks:t}=e,i=t.isDraggableTransformers,{def:r,ui:a}=n.eventRange,l=a.startEditable;for(let u of i)l=u(l,r,a,e);return l}function Q5(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function K5(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function k1(n,e,t,i,r,a,l){let{dateEnv:u,options:h}=t,{displayEventTime:f,displayEventEnd:p}=h,v=n.eventRange.def,_=n.eventRange.instance;f==null&&(f=i!==!1),p==null&&(p=r!==!1);let b=_.range.start,T=_.range.end,R=n.start||n.eventRange.range.start,x=n.end||n.eventRange.range.end,M=ht(b).valueOf()===ht(R).valueOf(),V=ht(ga(T,-1)).valueOf()===ht(ga(x,-1)).valueOf();return f&&!v.allDay&&(M||V)?(R=M?b:R,x=V?T:x,p&&v.hasEnd?u.formatRange(R,x,e,{forcedStartTzo:_.forcedStartTzo,forcedEndTzo:_.forcedEndTzo}):u.format(R,e,{forcedTzo:_.forcedStartTzo})):""}function Ku(n,e,t){let i=n.eventRange.range;return{isPast:i.end<=e.start,isFuture:i.start>=e.end,isToday:e&&ra(e,i.start)}}function X5(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function Z5(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function M1(n,e){let{def:t,instance:i}=n.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:a,options:l}=e,{eventInteractive:u}=l;return u==null&&(u=t.interactive,u==null&&(u=!!a.hasHandlers("eventClick"))),u?u1(h=>{a.trigger("eventClick",{el:h.target,event:new dt(e,t,i),jsEvent:h,view:e.viewApi})}):{}}const J5={start:K,end:K,allDay:Boolean};function eF(n,e,t){let i=tF(n,e),{range:r}=i;if(!r.start)return null;if(!r.end){if(t==null)return null;r.end=e.add(r.start,t)}return i}function tF(n,e){let{refined:t,extra:i}=Lb(n,J5),r=t.start?e.createMarkerMeta(t.start):null,a=t.end?e.createMarkerMeta(t.end):null,{allDay:l}=t;return l==null&&(l=r&&r.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:a?a.marker:null},allDay:l},i)}function nF(n,e){return p5(n.range,e.range)&&n.allDay===e.allDay&&iF(n,e)}function iF(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function rF(n,e){return Object.assign(Object.assign({},N1(n.range,e,n.allDay)),{allDay:n.allDay})}function O1(n,e,t){return Object.assign(Object.assign({},N1(n,e,t)),{timeZone:e.timeZone})}function N1(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function sF(n,e,t){let i=w1({editable:!1},t),r=h_(i.refined,i.extra,"",n.allDay,!0,t);return{def:r,ui:I1(r,e),instance:Bb(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function aF(n,e,t){let i=!1,r=function(u){i||(i=!0,e(u))},a=function(u){i||(i=!0,t(u))},l=n(r,a);l&&typeof l.then=="function"&&l.then(r,a)}class sx extends Error{constructor(e,t){super(e),this.response=t}}function oF(n,e,t){n=n.toUpperCase();const i={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(r=>{if(r.ok)return r.json().then(a=>[a,r],()=>{throw new sx("Failure parsing JSON",r)});throw new sx("Request failed",r)})}let fv;function P1(){return fv==null&&(fv=lF()),fv}function lF(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}class cF extends _t{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Pg(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Pg(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:i}=this.state,r=i||t.height==="auto"||t.contentHeight==="auto",a=!r&&t.height!=null?t.height:"",l=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return P1()||l.push("fc-liquid-hack"),e.children(l,a,r,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let hc=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function uF(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function $b(n){return{[n.component.uid]:n}}const f_={};class hF{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let i=this.getCurrentData(),r;t=t||"day",r=i.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),a,l;for(let u in t)r.push(u);for(a=0;a<r.length;a+=1)if(l=t[r[a]],l&&l.singleUnit===e)return l;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Ph(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),i=Xe(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),tn(t))}formatRange(e,t,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),tn(i),i)}formatIso(e,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:t})}select(e,t){let i;t==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:t};let r=this.getCurrentData(),a=eF(i,r.dateEnv,Xe({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),C1(a,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),F5(e,t))}addEvent(e,t){if(e instanceof dt){let l=e._def,u=e._instance;return this.getCurrentData().eventStore.defs[l.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:d_({def:l,instance:u})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),r;if(t instanceof Ml)r=t.internalEventSource;else if(typeof t=="boolean")t&&([r]=jb(i.eventSources));else if(t!=null){let l=this.getEventSourceById(t);if(!l)return console.warn(`Could not find an event source with ID "${t}"`),null;r=l.internalEventSource}let a=A1(e,r,i,!1);if(a){let l=new dt(i,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:d_(a)}),this.triggerEventAdd(l),l}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:D1(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:i,instances:r}=t.eventStore;e=String(e);for(let a in i){let l=i[a];if(l.publicId===e){if(l.recurringDef)return new dt(t,l,null);for(let u in r){let h=r[u];if(h.defId===l.defId)return new dt(t,l,h)}}}return null}getEvents(){let e=this.getCurrentData();return fo(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,i=[];for(let r in t)i.push(new Ml(e,t[r]));return i}getEventSourceById(e){let t=this.getCurrentData(),i=t.eventSources;e=String(e);for(let r in i)if(i[r].publicId===e)return new Ml(t,i[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof Ml)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=S1(e,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new Ml(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=Xe(e);t&&this.trigger("_scrollRequest",{time:t})}}function dF(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function L1(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function fF(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function gF(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function pF(n,e){return{left:n.left-e.left,top:n.top-e.top}}function V1(n,e,t,i){return{dow:n.getUTCDay(),isDisabled:!!(i&&!ra(i.activeRange,n)),isOther:!!(i&&!ra(i.currentRange,n)),isToday:!!(e&&ra(e,n)),isPast:!!(e&&n<e.start),isFuture:!!(e&&n>=e.end)}}function Yb(n,e){let t=["fc-day",`fc-day-${_6[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const mF=tn({year:"numeric",month:"long",day:"numeric"}),yF=tn({week:"long"});function g_(n,e,t="day",i=!0){const{dateEnv:r,options:a,calendarApi:l}=n;let u=r.format(e,t==="week"?yF:mF);if(a.navLinks){let h=r.toDate(e);const f=p=>{let v=t==="day"?a.navLinkDayClick:t==="week"?a.navLinkWeekClick:null;typeof v=="function"?v.call(l,r.toDate(e),p):(typeof v=="string"&&(t=v),l.zoomTo(e,t))};return Object.assign({title:Yu(a.navLinkHint,[u,h],u),"data-navlink":""},i?c1(f):{onClick:f})}return{"aria-label":u}}let gv=null;function vF(){return gv===null&&(gv=_F()),gv}function _F(){let n=document.createElement("div");$u(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return kb(n),t}let pv;function bF(){return pv||(pv=EF()),pv}function EF(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=j1(n);return document.body.removeChild(n),e}function j1(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function AF(n,e=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,a=parseInt(t.borderTopWidth,10)||0,l=parseInt(t.borderBottomWidth,10)||0,u=j1(n),h=u.y-i-r,f=u.x-a-l,p={borderLeft:i,borderRight:r,borderTop:a,borderBottom:l,scrollbarBottom:f,scrollbarLeft:0,scrollbarRight:0};return vF()&&t.direction==="rtl"?p.scrollbarLeft=h:p.scrollbarRight=h,e&&(p.paddingLeft=parseInt(t.paddingLeft,10)||0,p.paddingRight=parseInt(t.paddingRight,10)||0,p.paddingTop=parseInt(t.paddingTop,10)||0,p.paddingBottom=parseInt(t.paddingBottom,10)||0),p}function wF(n,e=!1,t){let i=Qb(n),r=AF(n,e),a={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(a.left+=r.paddingLeft,a.right-=r.paddingRight,a.top+=r.paddingTop,a.bottom-=r.paddingBottom),a}function Qb(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function SF(n){let e=U1(n),t=n.getBoundingClientRect();for(let i of e){let r=L1(t,i.getBoundingClientRect());if(r)t=r;else return null}return t}function U1(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}class Ug{constructor(e,t,i,r){this.els=t;let a=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(a.left),r&&this.buildElVerticals(a.top)}buildElHorizontals(e){let t=[],i=[];for(let r of this.els){let a=r.getBoundingClientRect();t.push(a.left-e),i.push(a.right-e)}this.lefts=t,this.rights=i}buildElVerticals(e){let t=[],i=[];for(let r of this.els){let a=r.getBoundingClientRect();t.push(a.top-e),i.push(a.bottom-e)}this.tops=t,this.bottoms=i}leftToIndex(e){let{lefts:t,rights:i}=this,r=t.length,a;for(a=0;a<r;a+=1)if(e>=t[a]&&e<i[a])return a}topToIndex(e){let{tops:t,bottoms:i}=this,r=t.length,a;for(a=0;a<r;a+=1)if(e>=t[a]&&e<i[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return _f(this.tops||[],e.tops||[])&&_f(this.bottoms||[],e.bottoms||[])&&_f(this.lefts||[],e.lefts||[])&&_f(this.rights||[],e.rights||[])}}function _f(n,e){const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(e[i]))return!1;return!0}class Kb{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class TF extends Kb{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class xF extends Kb{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Po extends _t{constructor(){super(...arguments),this.uid=ko()}prepareHits(){}queryHit(e,t,i,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!vn(e,".fc-event-mirror")}isValidDateDownEl(e){return!vn(e,".fc-event:not(.fc-bg-event)")&&!vn(e,".fc-more-link")&&!vn(e,"a[data-navlink]")&&!vn(e,".fc-popover")}}class RF{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let i of e)this.insertEntry(i,t);return t}insertEntry(e,t){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,i){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},t),{span:z1(t.span,e.touchingEntry.span)});i.push(r),this.splitEntry(t,e.touchingEntry,i)}else i.push(t)}splitEntry(e,t,i){let r=e.span,a=t.span;r.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:a.start}},i),r.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:r.end}},i)}insertEntryAt(e,t){let{entriesByLevel:i,levelCoords:r}=this;t.lateral===-1?(mv(r,t.level,t.levelCoord),mv(i,t.level,[e])):mv(i[t.level],t.lateral,e),this.stackCnts[Xu(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:i,strictOrder:r,stackCnts:a}=this,l=t.length,u=0,h=-1,f=-1,p=null,v=0;for(let T=0;T<l;T+=1){const R=t[T];if(!r&&R>=u+this.getEntryThickness(e))break;let x=i[T],M,V=ox(x,e.span.start,ax),z=V[0]+V[1];for(;(M=x[z])&&M.span.start<e.span.end;){let $=R+this.getEntryThickness(M);$>u&&(u=$,p=M,h=T,f=z),$===u&&(v=Math.max(v,a[Xu(M)]+1)),z+=1}}let _=0;if(p)for(_=h+1;_<l&&t[_]<u;)_+=1;let b=-1;return _<l&&t[_]===u&&(b=ox(i[_],e.span.end,ax)[0]),{touchingLevel:h,touchingLateral:f,touchingEntry:p,stackCnt:v,levelCoord:u,level:_,lateral:b}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,i=e.length,r=[];for(let a=0;a<i;a+=1){let l=e[a],u=t[a];for(let h of l)r.push(Object.assign(Object.assign({},h),{thickness:this.getEntryThickness(h),levelCoord:u}))}return r}}function ax(n){return n.span.end}function Xu(n){return n.index+":"+n.span.start}function z1(n,e){let t=Math.max(n.start,e.start),i=Math.min(n.end,e.end);return t<i?{start:t,end:i}:null}function mv(n,e,t){n.splice(e,0,t)}function ox(n,e,t){let i=0,r=n.length;if(!r||e<t(n[i]))return[0,0];if(e>t(n[r-1]))return[r,0];for(;i<r;){let a=Math.floor(i+(r-i)/2),l=t(n[a]);if(e<l)r=a;else if(e>l)i=a+1;else return[a,1]}return[i,0]}class CF{constructor(e,t){this.emitter=new Ip}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Xb={};function DF(n,e){return!n||e>10?tn({weekday:"short"}):e>1?tn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):tn({weekday:"long"})}const B1="fc-col-header-cell";function H1(n){return n.text}class IF extends _t{render(){let{dateEnv:e,options:t,theme:i,viewApi:r}=this.context,{props:a}=this,{date:l,dateProfile:u}=a,h=V1(l,a.todayRange,null,u),f=[B1].concat(Yb(h,i)),p=e.format(l,a.dayHeaderFormat),v=!h.isDisabled&&a.colCnt>1?g_(this.context,l):{},_=Object.assign(Object.assign(Object.assign({date:e.toDate(l),view:r},a.extraRenderProps),{text:p}),h);return Z(rs,{elTag:"th",elClasses:f,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":h.isDisabled?void 0:Nb(l)},a.extraDataAttrs),renderProps:_,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:H1,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},b=>Z("div",{className:"fc-scrollgrid-sync-inner"},!h.isDisabled&&Z(b,{elTag:"a",elAttrs:v,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const kF=tn({weekday:"long"});class MF extends _t{render(){let{props:e}=this,{dateEnv:t,theme:i,viewApi:r,options:a}=this.context,l=_n(new Date(2592e5),e.dow),u={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},h=t.format(l,e.dayHeaderFormat),f=Object.assign(Object.assign(Object.assign(Object.assign({date:l},u),{view:r}),e.extraRenderProps),{text:h});return Z(rs,{elTag:"th",elClasses:[B1,...Yb(u,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:f,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:H1,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},p=>Z("div",{className:"fc-scrollgrid-sync-inner"},Z(p,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(l,kF)}})))}}class Zb extends Kn{constructor(e,t){super(e,t),this.initialNowDate=Ph(t.options.now,t.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:t}=this,i=ga(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),r=t.dateEnv.startOf(i,e.unit),a=t.dateEnv.add(r,Xe(1,e.unit)),l=a.valueOf()-i.valueOf();return l=Math.min(1e3*60*60*24,l),{currentState:{nowDate:r,todayRange:lx(r)},nextState:{nowDate:a,todayRange:lx(a)},waitMs:l}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Zb.contextType=Oo;function lx(n){let e=ht(n),t=_n(e,1);return{start:e,end:t}}class OF extends _t{constructor(){super(...arguments),this.createDayHeaderFormatter=Ze(NF)}render(){let{context:e}=this,{dates:t,dateProfile:i,datesRepDistinctDays:r,renderIntro:a}=this.props,l=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return Z(Zb,{unit:"day"},(u,h)=>Z("tr",{role:"row"},a&&a("day"),t.map(f=>r?Z(IF,{key:f.toISOString(),date:f,dateProfile:i,todayRange:h,colCnt:t.length,dayHeaderFormat:l}):Z(MF,{key:f.getUTCDay(),dow:f.getUTCDay(),dayHeaderFormat:l}))))}}function NF(n,e,t){return n||DF(e,t)}class PF{constructor(e,t){let i=e.start,{end:r}=e,a=[],l=[],u=-1;for(;i<r;)t.isHiddenDay(i)?a.push(u+.5):(u+=1,a.push(u),l.push(i)),i=_n(i,1);this.dates=l,this.indices=a,this.cnt=l.length}sliceRange(e){let t=this.getDateDayIndex(e.start),i=this.getDateDayIndex(_n(e.end,-1)),r=Math.max(0,t),a=Math.min(this.cnt-1,i);return r=Math.ceil(r),a=Math.floor(a),r<=a?{firstIndex:r,lastIndex:a,isStart:t===r,isEnd:i===a}:null}getDateDayIndex(e){let{indices:t}=this,i=Math.floor(uc(this.dates[0],e));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}}class LF{constructor(e,t){let{dates:i}=e,r,a,l;if(t){for(a=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==a;r+=1);l=Math.ceil(i.length/r)}else l=1,r=i.length;this.rowCnt=l,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(t,r));e.push(i)}return e}buildCell(e,t){let i=this.daySeries.dates[e*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,i=this.daySeries.sliceRange(e),r=[];if(i){let{firstIndex:a,lastIndex:l}=i,u=a;for(;u<=l;){let h=Math.floor(u/t),f=Math.min((h+1)*t,l+1);r.push({row:h,firstCol:u%t,lastCol:(f-1)%t,isStart:i.isStart&&u===a,isEnd:i.isEnd&&f-1===l}),u=f}}return r}}class VF{constructor(){this.sliceBusinessHours=Ze(this._sliceBusinessHours),this.sliceDateSelection=Ze(this._sliceDateSpan),this.sliceEventStore=Ze(this._sliceEventStore),this.sliceEventDrag=Ze(this._sliceInteraction),this.sliceEventResize=Ze(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,i,r,...a){let{eventUiBases:l}=e,u=this.sliceEventStore(e.eventStore,l,t,i,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,i,l,r,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,i,r,...a),fgEventSegs:u.fg,bgEventSegs:u.bg,eventDrag:this.sliceEventDrag(e.eventDrag,l,t,i,...a),eventResize:this.sliceEventResize(e.eventResize,l,t,i,...a),eventSelection:e.eventSelection}}sliceNowDate(e,t,i,r,...a){return this._sliceDateSpan({range:{start:e,end:ga(e,1)},allDay:!1},t,i,{},r,...a)}_sliceBusinessHours(e,t,i,r,...a){return e?this._sliceEventStore(Ao(e,bf(t,!!i),r),{},t,i,...a).bg:[]}_sliceEventStore(e,t,i,r,...a){if(e){let l=ix(e,t,bf(i,!!r),r);return{bg:this.sliceEventRanges(l.bg,a),fg:this.sliceEventRanges(l.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,i,r,...a){if(!e)return null;let l=ix(e.mutatedEvents,t,bf(i,!!r),r);return{segs:this.sliceEventRanges(l.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,i,r,a,...l){if(!e)return[];let u=bf(t,!!i),h=Xl(e.range,u);if(h){e=Object.assign(Object.assign({},e),{range:h});let f=sF(e,r,a),p=this.sliceRange(e.range,...l);for(let v of p)v.eventRange=f;return p}return[]}sliceEventRanges(e,t){let i=[];for(let r of e)i.push(...this.sliceEventRange(r,t));return i}sliceEventRange(e,t){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:_n(i.start,1)});let r=this.sliceRange(i,...t);for(let a of r)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return r}}function bf(n,e){let t=n.activeRange;return e?t:{start:ga(t.start,n.slotMinTime.milliseconds),end:ga(t.end,n.slotMaxTime.milliseconds-864e5)}}function F1(n,e,t){let{instances:i}=n.mutatedEvents;for(let r in i)if(!Cp(e.validRange,i[r].range))return!1;return q1({eventDrag:n},t)}function jF(n,e,t){return Cp(e.validRange,n.range)?q1({dateSelection:n},t):!1}function q1(n,e){let t=e.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||UF)(i,e)}function UF(n,e,t={},i){return!(n.eventDrag&&!zF(n,e,t,i)||n.dateSelection&&!BF(n,e,t,i))}function zF(n,e,t,i){let r=e.getCurrentData(),a=n.eventDrag,l=a.mutatedEvents,u=l.defs,h=l.instances,f=jg(u,a.isEvent?n.eventUiBases:{"":r.selectionConfig});i&&(f=Mo(f,i));let p=L5(n.eventStore,a.affectedEvents.instances),v=p.defs,_=p.instances,b=jg(v,n.eventUiBases);for(let T in h){let R=h[T],x=R.range,M=f[R.defId],V=u[R.defId];if(!W1(M.constraints,x,p,n.businessHours,e))return!1;let{eventOverlap:z}=e.options,$=typeof z=="function"?z:null;for(let ne in _){let N=_[ne];if(zb(x,N.range)&&(b[N.defId].overlap===!1&&a.isEvent||M.overlap===!1||$&&!$(new dt(e,v[N.defId],N),new dt(e,V,R))))return!1}let J=r.eventStore;for(let ne of M.allows){let N=Object.assign(Object.assign({},t),{range:R.range,allDay:V.allDay}),D=J.defs[V.defId],I=J.instances[T],O;if(D?O=new dt(e,D,I):O=new dt(e,V),!ne(Wb(N,e),O))return!1}}return!0}function BF(n,e,t,i){let r=n.eventStore,a=r.defs,l=r.instances,u=n.dateSelection,h=u.range,{selectionConfig:f}=e.getCurrentData();if(i&&(f=i(f)),!W1(f.constraints,h,r,n.businessHours,e))return!1;let{selectOverlap:p}=e.options,v=typeof p=="function"?p:null;for(let _ in l){let b=l[_];if(zb(h,b.range)&&(f.overlap===!1||v&&!v(new dt(e,a[b.defId],b),null)))return!1}for(let _ of f.allows){let b=Object.assign(Object.assign({},t),u);if(!_(Wb(b,e),null))return!1}return!0}function W1(n,e,t,i,r){for(let a of n)if(!FF(HF(a,e,t,i,r),e))return!1;return!0}function HF(n,e,t,i,r){return n==="businessHours"?yv(Ao(i,e,r)):typeof n=="string"?yv(Dp(t,a=>a.groupId===n)):typeof n=="object"&&n?yv(Ao(n,e,r)):[]}function yv(n){let{instances:e}=n,t=[];for(let i in e)t.push(e[i].range);return t}function FF(n,e){for(let t of n)if(Cp(t,e))return!0;return!1}const Ef=/^(visible|hidden)$/;class qF extends _t{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,ts(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:i}=e,r=t&&i,a=["fc-scroller"];return t&&(i?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),Z("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Ef.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Ef.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Ef.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Ef.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class uo{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:r,currentMap:a}=this,l=!1,u=!1;t!==null?(l=i in a,a[i]=t,r[i]=(r[i]||0)+1,u=!0):(r[i]-=1,r[i]||(delete a[i],delete this.callbackMap[i],l=!0)),this.masterCallback&&(l&&this.masterCallback(null,String(i)),u&&this.masterCallback(t,String(i)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),t}collect(e,t,i){return Z6(this.currentMap,e,t,i)}getAll(){return jb(this.currentMap)}}function WF(n){let e=ZH(n,".fc-scrollgrid-shrink"),t=0;for(let i of e)t=Math.max(t,d6(i));return Math.ceil(t)}function G1(n,e){return n.liquid&&e.liquid}function GF(n,e){return e.maxHeight!=null||G1(n,e)}function $F(n,e,t,i){let{expandRows:r}=t;return typeof e.content=="function"?e.content(t):Z("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,Z(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function YF(n,e){return fa(n,e,ur)}function QF(n,e){let t=[];for(let i of n){let r=i.span||1;for(let a=0;a<r;a+=1)t.push(Z("col",{style:{width:i.width==="shrink"?KF(e):i.width||"",minWidth:i.minWidth||""}}))}return Z("colgroup",{},...t)}function KF(n){return n??4}function XF(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function ZF(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function JF(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function e3(n){return Z("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function cx(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function t3(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}class $1 extends _t{constructor(){super(...arguments),this.processCols=Ze(e=>e,YF),this.renderMicroColGroup=Ze(QF),this.scrollerRefs=new uo,this.scrollerElRefs=new uo(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:i}=this,r=e.sections||[],a=this.processCols(e.cols),l=this.renderMicroColGroup(a,t.shrinkWidth),u=ZF(e.liquid,i);e.collapsibleWidth&&u.push("fc-scrollgrid-collapsible");let h=r.length,f=0,p,v=[],_=[],b=[];for(;f<h&&(p=r[f]).type==="header";)v.push(this.renderSection(p,l,!0)),f+=1;for(;f<h&&(p=r[f]).type==="body";)_.push(this.renderSection(p,l,!1)),f+=1;for(;f<h&&(p=r[f]).type==="footer";)b.push(this.renderSection(p,l,!0)),f+=1;let T=!P1();const R={role:"rowgroup"};return Z("table",{role:"grid",className:u.join(" "),style:{height:e.height}},!!(!T&&v.length)&&Z("thead",R,...v),!!(!T&&_.length)&&Z("tbody",R,..._),!!(!T&&b.length)&&Z("tfoot",R,...b),T&&Z("tbody",R,...v,..._,...b))}renderSection(e,t,i){return"outerContent"in e?Z(Dt,{key:e.key},e.outerContent):Z("tr",{key:e.key,role:"presentation",className:JF(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,i))}renderChunkTd(e,t,i,r){if("outerContent"in i)return i.outerContent;let{props:a}=this,{forceYScrollbars:l,scrollerClientWidths:u,scrollerClientHeights:h}=this.state,f=GF(a,e),p=G1(a,e),v=a.liquid?l?"scroll":f?"auto":"hidden":"visible",_=e.key,b=$F(e,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&u[_]!==void 0?u[_]:null,clientHeight:h[_]!==void 0?h[_]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return Z(r?"th":"td",{ref:i.elRef,role:"presentation"},Z("div",{className:`fc-scroller-harness${p?" fc-scroller-harness-liquid":""}`},Z(qF,{ref:this.scrollerRefs.createRef(_),elRef:this.scrollerElRefs.createRef(_),overflowY:v,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:p,liquidIsAbsolute:!0},b)))}_handleScrollerEl(e,t){let i=n3(this.props.sections,t);i&&ts(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return XF(this.props.cols)?WF(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=bF(),{scrollerRefs:t,scrollerElRefs:i}=this,r=!1,a={},l={};for(let u in t.currentMap){let h=t.currentMap[u];if(h&&h.needsYScrolling()){r=!0;break}}for(let u of this.props.sections){let h=u.key,f=i.currentMap[h];if(f){let p=f.parentNode;a[h]=Math.floor(p.getBoundingClientRect().width-(r?e.y:0)),l[h]=Math.floor(p.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:a,scrollerClientHeights:l}}}$1.addStateEquality({scrollerClientWidths:ur,scrollerClientHeights:ur});function n3(n,e){for(let t of n)if(t.key===e)return t;return null}class Jb extends _t{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&rx(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{eventRange:a}=r,{ui:l}=a,u={event:new dt(t,a.def,a.instance),view:t.viewApi,timeText:e.timeText,textColor:l.textColor,backgroundColor:l.backgroundColor,borderColor:l.borderColor,isDraggable:!e.disableDragging&&Y5(r,t),isStartResizable:!e.disableResizing&&Q5(r,t),isEndResizable:!e.disableResizing&&K5(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return Z(rs,Object.assign({},e,{elRef:this.handleEl,elClasses:[...X5(u),...r.eventRange.ui.classNames,...e.elClasses||[]],renderProps:u,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&rx(this.el,this.props.seg)}}class i3 extends _t{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{ui:a}=r.eventRange,l=i.eventTimeFormat||e.defaultTimeFormat,u=k1(r,l,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return Z(Jb,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:M1(r,t),defaultGenerator:r3,timeText:u}),(h,f)=>Z(Dt,null,Z(h,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:f.textColor}}),!!f.isStartResizable&&Z("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!f.isEndResizable&&Z("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function r3(n){return Z("div",{className:"fc-event-main-frame"},n.timeText&&Z("div",{className:"fc-event-time"},n.timeText),Z("div",{className:"fc-event-title-container"},Z("div",{className:"fc-event-title fc-sticky"},n.event.title||Z(Dt,null,""))))}const s3=tn({day:"numeric"});class Y1 extends _t{constructor(){super(...arguments),this.refineRenderProps=Zf(a3)}render(){let{props:e,context:t}=this,{options:i}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return Z(rs,Object.assign({},e,{elClasses:[...Yb(r,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":Nb(e.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}}function Q1(n){return!!(n.dayCellContent||u_("dayCellContent",n))}function a3(n){let{date:e,dateEnv:t,dateProfile:i,isMonthStart:r}=n,a=V1(e,n.todayRange,null,i),l=n.showDayNumber?t.format(e,r?n.monthStartFormat:s3):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},a),{isMonthStart:r,dayNumberText:l}),n.extraRenderProps)}class o3 extends _t{render(){let{props:e}=this,{seg:t}=e;return Z(Jb,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:l3,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function l3(n){let{title:e}=n.event;return e&&Z("div",{className:"fc-event-title"},n.event.title)}function c3(n){return Z("div",{className:`fc-${n}`})}const u3=n=>Z(Oo.Consumer,null,e=>{let{dateEnv:t,options:i}=e,{date:r}=n,a=i.weekNumberFormat||n.defaultFormat,l=t.computeWeekNumber(r),u=t.format(r,a);return Z(rs,Object.assign({},n,{renderProps:{num:l,text:u,date:r},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:h3,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function h3(n){return n.text}const vv=10;class d3 extends _t{constructor(){super(...arguments),this.state={titleId:xp()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&ts(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=o1(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:i,state:r}=this,a=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return jH(Z("div",Object.assign({},i.extraAttrs,{id:i.id,className:a.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),Z("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},Z("span",{className:"fc-popover-title",id:r.titleId},i.title),Z("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),Z("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:r}=this,a=SF(t);if(a){let l=r.getBoundingClientRect(),u=i?vn(t,".fc-scrollgrid").getBoundingClientRect().top:a.top,h=e?a.right-l.width:a.left;u=Math.max(u,vv),h=Math.min(h,document.documentElement.clientWidth-vv-l.width),h=Math.max(h,vv);let f=r.offsetParent.getBoundingClientRect();$u(r,{top:u-f.top,left:h-f.left})}}}class f3 extends Po{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:i}=this,{startDate:r,todayRange:a,dateProfile:l}=i,u=t.format(r,e.dayPopoverFormat);return Z(Y1,{elRef:this.handleRootEl,date:r,dateProfile:l,todayRange:a},(h,f,p)=>Z(d3,{elRef:p.ref,id:i.id,title:u,extraClassNames:["fc-more-popover"].concat(p.className||[]),extraAttrs:p,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},Q1(e)&&Z(h,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,t,i,r){let{rootEl:a,props:l}=this;return e>=0&&e<i&&t>=0&&t<r?{dateProfile:l.dateProfile,dateSpan:Object.assign({allDay:!l.forceTimed,range:{start:l.startDate,end:l.endDate}},l.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}}class g3 extends _t{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:xp()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&ts(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:i}=this,{moreLinkClick:r}=i.options,a=ux(t).start;function l(u){let{def:h,instance:f,range:p}=u.eventRange;return{event:new dt(i,h,f),start:i.dateEnv.toDate(p.start),end:i.dateEnv.toDate(p.end),isStart:u.isStart,isEnd:u.isEnd}}typeof r=="function"&&(r=r({date:a,allDay:!!t.allDayDate,allSegs:t.allSegs.map(l),hiddenSegs:t.hiddenSegs.map(l),jsEvent:e,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(a,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return Z(Oo.Consumer,null,i=>{let{viewApi:r,options:a,calendarApi:l}=i,{moreLinkText:u}=a,{moreCnt:h}=e,f=ux(e),p=typeof u=="function"?u.call(l,h):`+${h} ${u}`,v=Yu(a.moreLinkHint,[h],p),_={num:h,shortText:`+${h}`,text:p,view:r};return Z(Dt,null,!!e.moreCnt&&Z(rs,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),c1(this.handleClick)),{title:v,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:_,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||p3,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),t.isPopoverOpen&&Z(f3,{id:t.popoverId,startDate:f.start,endDate:f.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=vn(this.linkEl,".fc-view-harness"))}}function p3(n){return n.text}function ux(n){if(n.allDayDate)return{start:n.allDayDate,end:_n(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:m3(e),end:v3(e)}}function m3(n){return n.reduce(y3).eventRange.range.start}function y3(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function v3(n){return n.reduce(_3).eventRange.range.end}function _3(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class b3{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class E3 extends b3{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let i=!1;e.isActive?(t.set(e.id,e),i=!0):t.has(e.id)&&(t.delete(e.id),i=!0),i&&this.set(t)}}const A3=[],K1={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},X1=Object.assign(Object.assign({},K1),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function w3(n){let e=n.length>0?n[0].code:"en",t=A3.concat(n),i={en:X1};for(let r of t)i[r.code]=r;return{map:i,defaultCode:e}}function Z1(n,e){return typeof n=="object"&&!Array.isArray(n)?J1(n.code,[n.code],n):S3(n,e)}function S3(n,e){let t=[].concat(n||[]),i=T3(t,e)||X1;return J1(n,t,i)}function T3(n,e){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let a=i.slice(0,r).join("-");if(e[a])return e[a]}}return null}function J1(n,e,t){let i=Vb([K1,t],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:n,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function _a(n){return{id:ko(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function x3(n,e){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(a){for(let l of a){const u=l.name,h=t[u];h===void 0?(t[u]=l.id,r(l.deps),i=C3(i,l)):h!==l.id&&console.warn(`Duplicate plugin '${u}'`)}}return n&&r(n),r(e),i}function R3(){let n=[],e=[],t;return(i,r)=>((!t||!fa(i,n)||!fa(r,e))&&(t=x3(i,r)),n=i,e=r,t)}function C3(n,e){return{premiumReleaseDate:D3(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function D3(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class ba extends Nh{}ba.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};ba.prototype.baseIconClass="fc-icon";ba.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};ba.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};ba.prototype.iconOverrideOption="buttonIcons";ba.prototype.iconOverrideCustomButtonOption="icon";ba.prototype.iconOverridePrefix="fc-icon-";function I3(n,e){let t={},i;for(i in n)p_(i,t,n,e);for(i in e)p_(i,t,n,e);return t}function p_(n,e,t,i){if(e[n])return e[n];let r=k3(n,e,t,i);return r&&(e[n]=r),r}function k3(n,e,t,i){let r=t[n],a=i[n],l=p=>r&&r[p]!==null?r[p]:a&&a[p]!==null?a[p]:null,u=l("component"),h=l("superType"),f=null;if(h){if(h===n)throw new Error("Can't have a custom view type that references itself");f=p_(h,e,t,i)}return!u&&f&&(u=f.component),u?{type:n,component:u,defaults:Object.assign(Object.assign({},f?f.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},f?f.overrides:{}),a?a.rawOptions:{})}:null}function hx(n){return Mo(n,M3)}function M3(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=dx(e):t&&!(t.prototype instanceof _t)&&(t=dx(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function dx(n){return e=>Z(Oo.Consumer,null,t=>Z(rs,{elTag:"div",elClasses:y1(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function O3(n,e,t,i){let r=hx(n),a=hx(e.views),l=I3(r,a);return Mo(l,u=>N3(u,a,e,t,i))}function N3(n,e,t,i,r){let a=n.overrides.duration||n.defaults.duration||i.duration||t.duration,l=null,u="",h="",f={};if(a&&(l=P3(a),l)){let _=l_(l);u=_.unit,_.value===1&&(h=u,f=e[u]?e[u].rawOptions:{})}let p=_=>{let b=_.buttonText||{},T=n.defaults.buttonTextKey;return T!=null&&b[T]!=null?b[T]:b[n.type]!=null?b[n.type]:b[h]!=null?b[h]:null},v=_=>{let b=_.buttonHints||{},T=n.defaults.buttonTextKey;return T!=null&&b[T]!=null?b[T]:b[n.type]!=null?b[n.type]:b[h]!=null?b[h]:null};return{type:n.type,component:n.component,duration:l,durationUnit:u,singleUnit:h,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},f),n.overrides),buttonTextOverride:p(i)||p(t)||n.overrides.buttonText,buttonTextDefault:p(r)||n.defaults.buttonText||p(Qu)||n.type,buttonTitleOverride:v(i)||v(t)||n.overrides.buttonHint,buttonTitleDefault:v(r)||n.defaults.buttonHint||v(Qu)}}let fx={};function P3(n){let e=JSON.stringify(n),t=fx[e];return t===void 0&&(t=Xe(n),fx[e]=t),t}function L3(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function V3(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function j3(n,e,t,i){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||t);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(n,t),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(n,t),r.isValid)return r;break}return n}function U3(n,e,t){let i=e?e.activeRange:null;return tk({},G3(n,t),i,t)}function z3(n,e,t,i){let r=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return tk(n,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return H3(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?nk(n,r,i):n;case"FETCH_EVENT_SOURCES":return e0(n,e.sourceIds?d1(e.sourceIds):ik(n,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return W3(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function B3(n,e,t){let i=e?e.activeRange:null;return e0(n,ik(n,t),i,!0,t)}function ek(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function tk(n,e,t,i){let r={};for(let a of e)r[a.sourceId]=a;return t&&(r=nk(r,t,i)),Object.assign(Object.assign({},n),r)}function H3(n,e){return Eo(n,t=>t.sourceId!==e)}function nk(n,e,t){return e0(n,Eo(n,i=>F3(i,e,t)),e,!1,t)}function F3(n,e,t){return rk(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function e0(n,e,t,i,r){let a={};for(let l in n){let u=n[l];e[l]?a[l]=q3(u,t,i,r):a[l]=u}return a}function q3(n,e,t,i){let{options:r,calendarApi:a}=i,l=i.pluginHooks.eventSourceDefs[n.sourceDefId],u=ko();return l.fetch({eventSource:n,range:e,isRefetch:t,context:i},h=>{let{rawEvents:f}=h;r.eventSourceSuccess&&(f=r.eventSourceSuccess.call(a,f,h.response)||f),n.success&&(f=n.success.call(a,f,h.response)||f),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:u,fetchRange:e,rawEvents:f})},h=>{let f=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(a,h),f=!0),n.failure&&(n.failure(h),f=!0),f||console.warn(h.message,h),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:u,fetchRange:e,error:h})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:u})}function W3(n,e,t,i){let r=n[e];return r&&t===r.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):n}function ik(n,e){return Eo(n,t=>rk(t,e))}function G3(n,e){let t=T1(e),i=[].concat(n.eventSources||[]),r=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let a of i){let l=S1(a,e,t);l&&r.push(l)}return r}function rk(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function $3(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function Y3(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function Q3(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function K3(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function X3(n,e,t,i,r){let a=n.headerToolbar?gx(n.headerToolbar,n,e,t,i,r):null,l=n.footerToolbar?gx(n.footerToolbar,n,e,t,i,r):null;return{header:a,footer:l}}function gx(n,e,t,i,r,a){let l={},u=[],h=!1;for(let f in n){let p=n[f],v=Z3(p,e,t,i,r,a);l[f]=v.widgets,u.push(...v.viewsWithButtons),h=h||v.hasTitle}return{sectionWidgets:l,viewsWithButtons:u,hasTitle:h}}function Z3(n,e,t,i,r,a){let l=e.direction==="rtl",u=e.customButtons||{},h=t.buttonText||{},f=e.buttonText||{},p=t.buttonHints||{},v=e.buttonHints||{},_=n?n.split(" "):[],b=[],T=!1;return{widgets:_.map(x=>x.split(",").map(M=>{if(M==="title")return T=!0,{buttonName:M};let V,z,$,J,ne,N;if(V=u[M])$=D=>{V.click&&V.click.call(D.target,D,D.target)},(J=i.getCustomButtonIconClass(V))||(J=i.getIconClass(M,l))||(ne=V.text),N=V.hint||V.text;else if(z=r[M]){b.push(M),$=()=>{a.changeView(M)},(ne=z.buttonTextOverride)||(J=i.getIconClass(M,l))||(ne=z.buttonTextDefault);let D=z.buttonTextOverride||z.buttonTextDefault;N=Yu(z.buttonTitleOverride||z.buttonTitleDefault||e.viewHint,[D,M],D)}else if(a[M])if($=()=>{a[M]()},(ne=h[M])||(J=i.getIconClass(M,l))||(ne=f[M]),M==="prevYear"||M==="nextYear"){let D=M==="prevYear"?"prev":"next";N=Yu(p[D]||v[D],[f.year||"year","year"],f[M])}else N=D=>Yu(p[M]||v[M],[f[D]||D,D],f[M]);return{buttonName:M,buttonClick:$,buttonIcon:J,buttonText:ne,buttonHint:N}})),viewsWithButtons:b,hasTitle:T}}class J3{constructor(e,t,i){this.type=e,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let e9={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const t9=_a({name:"array-event-source",eventSourceDefs:[e9]});let n9={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:i}=n.context,r=n.eventSource.meta;aF(r.bind(null,O1(n.range,i)),a=>e({rawEvents:a}),t)}};const i9=_a({name:"func-event-source",eventSourceDefs:[n9]}),r9={method:String,extraParams:K,startParam:String,endParam:String,timeZoneParam:String};let s9={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:i}=n.eventSource,r=o9(i,n.range,n.context);oF(i.method,i.url,r).then(([a,l])=>{e({rawEvents:a,response:l})},t)}};const a9=_a({name:"json-event-source",eventSourceRefiners:r9,eventSourceDefs:[s9]});function o9(n,e,t){let{dateEnv:i,options:r}=t,a,l,u,h,f={};return a=n.startParam,a==null&&(a=r.startParam),l=n.endParam,l==null&&(l=r.endParam),u=n.timeZoneParam,u==null&&(u=r.timeZoneParam),typeof n.extraParams=="function"?h=n.extraParams():h=n.extraParams||{},Object.assign(f,h),f[a]=i.formatIso(e.start),f[l]=i.formatIso(e.end),i.timeZone!=="local"&&(f[u]=i.timeZone),f}const l9={daysOfWeek:K,startTime:Xe,endTime:Xe,duration:Xe,startRecur:K,endRecur:K};let c9={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null},i;return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=m6(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:i,typeData:t}}return null},expand(n,e,t){let i=Xl(e,{start:n.startRecur,end:n.endRecur});return i?h9(n.daysOfWeek,n.startTime,i,t):[]}};const u9=_a({name:"simple-recurring-event",recurringTypes:[c9],eventRefiners:l9});function h9(n,e,t,i){let r=n?d1(n):null,a=ht(t.start),l=t.end,u=[];for(;a<l;){let h;(!r||r[a.getUTCDay()])&&(e?h=i.add(a,e):h=a,u.push(h)),a=_n(a,1)}return u}const d9=_a({name:"change-handler",optionChangeHandlers:{events(n,e){px([n],e)},eventSources:px}});function px(n,e){let t=jb(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let i=[];for(let r of n){let a=!1;for(let l=0;l<t.length;l+=1)if(t[l]._raw===r){t.splice(l,1),a=!0;break}a||i.push(r)}for(let r of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)e.calendarApi.addEventSource(r)}function f9(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},O1(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function g9(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",fo(n,e))}const p9=[t9,i9,a9,u9,d9,_a({name:"misc",isLoadingFuncs:[n=>ek(n.eventSources)],propSetHandlers:{dateProfile:f9,eventStore:g9}})];class m9{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Ib(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],i;for(;i=e.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function y9(n,e,t){let i;return/^(year|month)$/.test(n.currentRangeUnit)?i=n.currentRange:i=n.activeRange,t.formatRange(i.start,i.end,tn(e.titleFormat||v9(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function v9(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=kg(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class _9{constructor(e){this.computeCurrentViewData=Ze(this._computeCurrentViewData),this.organizeRawLocales=Ze(w3),this.buildLocale=Ze(Z1),this.buildPluginHooks=R3(),this.buildDateEnv=Ze(b9),this.buildTheme=Ze(E9),this.parseToolbars=Ze(X3),this.buildViewSpecs=Ze(O3),this.buildDateProfileGenerator=Zf(A9),this.buildViewApi=Ze(w9),this.buildViewUiProps=Zf(x9),this.buildEventUiBySource=Ze(S9,ur),this.buildEventUiBases=Ze(T9),this.parseContextBusinessHours=Zf(R9),this.buildTitle=Ze(y9),this.emitter=new Ip,this.actionRunner=new m9(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=_=>{this.actionRunner.request(_)},this.props=e,this.actionRunner.pause();let t={},i=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,a=this.computeCurrentViewData(r,i,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let l=v5(i.calendarOptions,i.dateEnv),u=a.dateProfileGenerator.build(l);ra(u.activeRange,l)||(l=u.currentRange.start);let h={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let _ of i.pluginHooks.contextInit)_(h);let f=U3(i.calendarOptions,u,h),p={dynamicOptionOverrides:t,currentViewType:r,currentDate:l,dateProfile:u,businessHours:this.parseContextBusinessHours(h),eventSources:f,eventUiBases:{},eventStore:Ci(),renderableEventStore:Ci(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(h).selectionConfig},v=Object.assign(Object.assign({},h),p);for(let _ of i.pluginHooks.reducers)Object.assign(p,_(null,null,v));_v(p,h)&&this.emitter.trigger("loading",!0),this.state=p,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:i}=this;t===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:i,emitter:r}=this,a=V3(i.dynamicOptionOverrides,e),l=this.computeOptionsData(t.optionOverrides,a,t.calendarApi),u=L3(i.currentViewType,e),h=this.computeCurrentViewData(u,l,t.optionOverrides,a);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(h.options);let f={dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:p,dateProfile:v}=i;this.data&&this.data.dateProfileGenerator!==h.dateProfileGenerator&&(v=h.dateProfileGenerator.build(p)),p=y5(p,e),v=j3(v,e,p,h.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!ra(v.currentRange,p))&&(p=v.currentRange.start);let _=z3(i.eventSources,e,v,f),b=M5(i.eventStore,e,_,v,f),R=ek(_)&&!h.options.progressiveEventRendering&&i.renderableEventStore||b,{eventUiSingleBase:x,selectionConfig:M}=this.buildViewUiProps(f),V=this.buildEventUiBySource(_),z=this.buildEventUiBases(R.defs,x,V),$={dynamicOptionOverrides:a,currentViewType:u,currentDate:p,dateProfile:v,eventSources:_,eventStore:b,renderableEventStore:R,selectionConfig:M,eventUiBases:z,businessHours:this.parseContextBusinessHours(f),dateSelection:$3(i.dateSelection,e),eventSelection:Y3(i.eventSelection,e),eventDrag:Q3(i.eventDrag,e),eventResize:K3(i.eventResize,e)},J=Object.assign(Object.assign({},f),$);for(let D of l.pluginHooks.reducers)Object.assign($,D(i,e,J));let ne=_v(i,f),N=_v($,f);!ne&&N?r.trigger("loading",!0):ne&&!N&&r.trigger("loading",!1),this.state=$,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,i=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),l=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,a.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),a),t),u=r.pluginHooks.optionChangeHandlers,h=i&&i.calendarOptions,f=r.calendarOptions;if(h&&h!==f){h.timeZone!==f.timeZone&&(t.eventSources=l.eventSources=B3(l.eventSources,t.dateProfile,l),t.eventStore=l.eventStore=tx(l.eventStore,i.dateEnv,l.dateEnv),t.renderableEventStore=l.renderableEventStore=tx(l.renderableEventStore,i.dateEnv,l.dateEnv));for(let p in u)(this.optionsForHandling.indexOf(p)!==-1||h[p]!==f[p])&&u[p](f[p],l)}this.optionsForHandling=[],e.onData&&e.onData(l)}computeOptionsData(e,t,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:a,localeDefaults:l,availableLocaleData:u,extra:h}=this.processRawCalendarOptions(e,t);mx(h);let f=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,a,u,r.defaultRangeSeparator),p=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,l),v=this.buildTheme(r,a),_=this.parseToolbars(r,this.stableOptionOverrides,v,p,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:a,dateEnv:f,viewSpecs:p,theme:v,toolbarConfig:_,localeDefaults:l,availableRawLocales:u.map}}processRawCalendarOptions(e,t){let{locales:i,locale:r}=hv([Qu,e,t]),a=this.organizeRawLocales(i),l=a.map,u=this.buildLocale(r||a.defaultCode,l).options,h=this.buildPluginHooks(e.plugins||[],p9),f=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},YT),QT),KT),h.listenerRefiners),h.optionRefiners),p={},v=hv([Qu,u,e,t]),_={},b=this.currentCalendarOptionsInput,T=this.currentCalendarOptionsRefined,R=!1;for(let x in v)this.optionsForRefining.indexOf(x)===-1&&(v[x]===b[x]||ro[x]&&x in b&&ro[x](b[x],v[x]))?_[x]=T[x]:f[x]?(_[x]=f[x](v[x]),R=!0):p[x]=b[x];return R&&(this.currentCalendarOptionsInput=v,this.currentCalendarOptionsRefined=_,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:h,availableLocaleData:a,localeDefaults:u,extra:p}}_computeCurrentViewData(e,t,i,r){let a=t.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:l,extra:u}=this.processRawViewOptions(a,t.pluginHooks,t.localeDefaults,i,r);mx(u);let h=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,nowInput:l.now,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,fixedWeekCount:l.fixedWeekCount}),f=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:a,options:l,dateProfileGenerator:h,viewApi:f}}processRawViewOptions(e,t,i,r,a){let l=hv([Qu,e.optionDefaults,i,r,e.optionOverrides,a]),u=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},YT),QT),KT),Y6),t.listenerRefiners),t.optionRefiners),h={},f=this.currentViewOptionsInput,p=this.currentViewOptionsRefined,v=!1,_={};for(let b in l)l[b]===f[b]||ro[b]&&ro[b](l[b],f[b])?h[b]=p[b]:(l[b]===this.currentCalendarOptionsInput[b]||ro[b]&&ro[b](l[b],this.currentCalendarOptionsInput[b])?b in this.currentCalendarOptionsRefined&&(h[b]=this.currentCalendarOptionsRefined[b]):u[b]?h[b]=u[b](l[b]):_[b]=l[b],v=!0);return v&&(this.currentViewOptionsInput=l,this.currentViewOptionsRefined=h),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:_}}}function b9(n,e,t,i,r,a,l,u){let h=Z1(e||l.defaultCode,l.map);return new r5({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:h,weekNumberCalculation:t,firstDay:i,weekText:r,cmdFormatter:a.cmdFormatter,defaultSeparator:u})}function E9(n,e){let t=e.themeClasses[n.themeSystem]||ba;return new t(n)}function A9(n){let e=n.dateProfileGeneratorClass||b1;return new e(n)}function w9(n,e,t){return new J3(n,e,t)}function S9(n){return Mo(n,e=>e.ui)}function T9(n,e,t){let i={"":e};for(let r in n){let a=n[r];a.sourceId&&t[a.sourceId]&&(i[r]=t[a.sourceId])}return i}function x9(n){let{options:e}=n;return{eventUiSingleBase:Vg({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:Vg({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function _v(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function R9(n){return B5(n.options.businessHours,n)}function mx(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class C9 extends _t{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return Z("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:i}=this.context,r=[],a=!0;for(let l of e){let{buttonName:u,buttonClick:h,buttonText:f,buttonIcon:p,buttonHint:v}=l;if(u==="title")a=!1,r.push(Z("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let _=u===t.activeButton,b=!t.isTodayEnabled&&u==="today"||!t.isPrevEnabled&&u==="prev"||!t.isNextEnabled&&u==="next",T=[`fc-${u}-button`,i.getClass("button")];_&&T.push(i.getClass("buttonActive")),r.push(Z("button",{type:"button",title:typeof v=="function"?v(t.navUnit):v,disabled:b,"aria-pressed":_,className:T.join(" "),onClick:h},f||(p?Z("span",{className:p,role:"img"}):"")))}}if(r.length>1){let l=a&&i.getClass("buttonGroup")||"";return Z("div",{className:l},...r)}return r[0]}}class yx extends _t{render(){let{model:e,extraClassName:t}=this.props,i=!1,r,a,l=e.sectionWidgets,u=l.center;return l.left?(i=!0,r=l.left):r=l.start,l.right?(i=!0,a=l.right):a=l.end,Z("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",u||[]),this.renderSection("end",a||[]))}renderSection(e,t){let{props:i}=this;return Z(C9,{key:e,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class D9 extends _t{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,ts(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:i}=e,r=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",l="";return i?t.availableWidth!==null?a=t.availableWidth/i:l=`${1/i*100}%`:a=e.height||"",Z("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:a,paddingBottom:l}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class I9 extends hc{constructor(e){super(e),this.handleSegClick=(t,i)=>{let{component:r}=this,{context:a}=r,l=Zl(i);if(l&&r.isValidSegDownEl(t.target)){let u=vn(t.target,".fc-event-forced-url"),h=u?u.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:i,event:new dt(r.context,l.eventRange.def,l.eventRange.instance),jsEvent:t,view:a.viewApi}),h&&!t.defaultPrevented&&(window.location.href=h)}},this.destroy=l1(e.el,"click",".fc-event",this.handleSegClick)}}class k9 extends hc{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{Zl(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=t6(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,i){let{component:r}=this,{context:a}=r,l=Zl(i);(!t||r.isValidSegDownEl(t.target))&&a.emitter.trigger(e,{el:i,event:new dt(a,l.eventRange.def,l.eventRange.instance),jsEvent:t,view:a.viewApi})}}class M9 extends No{constructor(){super(...arguments),this.buildViewContext=Ze(o5),this.buildViewPropTransformers=Ze(N9),this.buildToolbarProps=Ze(O9),this.headerRef=es(),this.footerRef=es(),this.interactionsStore={},this.state={viewLabelId:xp()},this.registerInteractiveComponent=(e,t)=>{let i=uF(e,t),l=[I9,k9].concat(this.props.pluginHooks.componentInteractions).map(u=>new u(i));this.interactionsStore[e.uid]=l,f_[e.uid]=i},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[e.uid]}delete f_[e.uid]},this.resizeRunner=new Ib(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:i}=e,r=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Ph(e.options.now,e.dateEnv),e.viewTitle),a=!1,l="",u;e.isHeightAuto||e.forPrint?l="":i.height!=null?a=!0:i.contentHeight!=null?l=i.contentHeight:u=Math.max(i.aspectRatio,.5);let h=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),f=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return Z(Oo.Provider,{value:h},t.header&&Z(yx,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:f},r)),Z(D9,{liquid:a,height:l,aspectRatio:u,labeledById:f},this.renderView(e),this.buildAppendContent()),t.footer&&Z(yx,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},r)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let i in t)t[i](e[i],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let r in i)t[r]!==e[r]&&i[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(i=>i(e));return Z(Dt,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:i}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(t.viewPropsTransformers);for(let u of a)Object.assign(r,u.transform(r,e));let l=i.component;return Z(l,Object.assign({},r))}}function O9(n,e,t,i,r,a){let l=t.build(r,void 0,!1),u=t.buildPrev(e,i,!1),h=t.buildNext(e,i,!1);return{title:a,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:l.isValid&&!ra(e.currentRange,r),isPrevEnabled:u.isValid,isNextEnabled:h.isValid}}function N9(n){return n.map(e=>new e)}class P9 extends hF{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;Pg(()=>{gh(Z(cF,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,a,l,u)=>(this.setClassNames(r),this.setHeight(a),Z(m1.Provider,{value:this.customContentRenderId},Z(M9,Object.assign({isHeightAuto:l,forPrint:u},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,gh(null,this.el),this.setClassNames([]),this.setHeight(""))},GH(e),this.el=e,this.renderRunner=new Ib(this.handleRenderRequest),new _9({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Pg(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!fa(e,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of e)t.add(i);this.currentClassNames=e}}setHeight(e){a1(this.el,"height",e)}}const L9=parseInt(String(yi.version).split(".")[0]),V9=L9<18;class sk extends F.Component{constructor(){super(...arguments),this.elRef=F.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(yi.createElement(j9,{key:t.id,customRendering:t}));return yi.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new E3;this.handleCustomRendering=e.handle.bind(e),this.calendar=new P9(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{kv.flushSync(()=>{})});let t;e.subscribe(i=>{const r=Date.now(),a=!t;(V9||a||this.isUpdating||this.isUnmounting||r-t<100?ak:kv.flushSync)(()=>{this.setState({customRenderingMap:i},()=>{t=r,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}sk.act=ak;class j9 extends F.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,i=typeof t=="function"?t(e.renderProps):t;return kv.createPortal(i,e.containerEl)}}function ak(n){n()}class U9 extends Po{constructor(){super(...arguments),this.headerElRef=es()}renderSimpleLayout(e,t){let{props:i,context:r}=this,a=[],l=cx(r.options);return e&&a.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),Z(XT,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},Z($1,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,t,i,r){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:l,context:u}=this,h=!l.forPrint&&cx(u.options),f=!l.forPrint&&t3(u.options),p=[];return e&&p.push({type:"header",key:"header",isSticky:h,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),p.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),f&&p.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:e3}]}),Z(XT,{elClasses:["fc-daygrid"],viewSpec:u.viewSpec},Z(a,{liquid:!l.isHeightAuto&&!l.forPrint,forPrint:l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:p}))}}function Af(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function wf(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function vx(n,e){let t=[];if(n){for(let i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}const ok=tn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function lk(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class ck extends _t{render(){let{props:e}=this;return Z(i3,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:ok,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class uk extends _t{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,a=i.eventTimeFormat||ok,l=k1(r,a,t,!0,e.defaultDisplayEventEnd);return Z(Jb,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:M1(e.seg,t),defaultGenerator:z9,timeText:l,isResizing:!1,isDateSelecting:!1}))}}function z9(n){return Z(Dt,null,Z("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&Z("div",{className:"fc-event-time"},n.timeText),Z("div",{className:"fc-event-title"},n.event.title||Z(Dt,null,"")))}class B9 extends _t{constructor(){super(...arguments),this.compileSegs=Ze(H9)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return Z(g3,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return Z(Dt,null,t.map(a=>{let l=a.eventRange.instance.instanceId;return Z("div",{className:"fc-daygrid-event-harness",key:l,style:{visibility:r[l]?"hidden":""}},lk(a)?Z(uk,Object.assign({seg:a,isDragging:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},Ku(a,e.todayRange))):Z(ck,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},Ku(a,e.todayRange))))}))}})}}function H9(n){let e=[],t=[];for(let i of n)e.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:e,invisibleSegs:t}}const F9=tn({week:"narrow"});class q9 extends Po{constructor(){super(...arguments),this.rootElRef=es(),this.state={dayNumberId:xp()},this.handleRootEl=e=>{ts(this.rootElRef,e),ts(this.props.elRef,e)}}render(){let{context:e,props:t,state:i,rootElRef:r}=this,{options:a,dateEnv:l}=e,{date:u,dateProfile:h}=t;const f=t.showDayNumber&&G9(u,h.currentRange,l);return Z(Y1,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:W9,date:u,dateProfile:h,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:f,extraRenderProps:t.extraRenderProps},(p,v)=>Z("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&Z(u3,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:g_(e,u,"week"),date:u,defaultFormat:F9}),!v.isDisabled&&(t.showDayNumber||Q1(a)||t.forceDayTop)?Z("div",{className:"fc-daygrid-day-top"},Z(p,{elTag:"a",elClasses:["fc-daygrid-day-number",f&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},g_(e,u)),{id:i.dayNumberId})})):t.showDayNumber?Z("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},Z("a",{className:"fc-daygrid-day-number"},"")):void 0,Z("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,Z("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},Z(B9,{allDayDate:u,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),Z("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function W9(n){return n.dayNumberText||Z(Dt,null,"")}function G9(n,e,t){const{start:i,end:r}=e,a=ga(r,-1),l=t.getYear(i),u=t.getMonth(i),h=t.getYear(a),f=t.getMonth(a);return!(l===h&&u===f)&&(n.valueOf()===i.valueOf()||t.getDay(n)===1&&n.valueOf()<r.valueOf())}function hk(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function dk(n){return hk(n)+":"+n.lastCol}function $9(n,e,t,i,r,a,l){let u=new K9(M=>{let V=n[M.index].eventRange.instance.instanceId+":"+M.span.start+":"+(M.span.end-1);return r[V]||1});u.allowReslicing=!0,u.strictOrder=i,e===!0||t===!0?(u.maxCoord=a,u.hiddenConsumes=!0):typeof e=="number"?u.maxStackCnt=e:typeof t=="number"&&(u.maxStackCnt=t,u.hiddenConsumes=!0);let h=[],f=[];for(let M=0;M<n.length;M+=1){let V=n[M],z=dk(V);r[z]!=null?h.push({index:M,span:{start:V.firstCol,end:V.lastCol+1}}):f.push(V)}let p=u.addSegs(h),v=u.toRects(),{singleColPlacements:_,multiColPlacements:b,leftoverMargins:T}=Y9(v,n,l),R=[],x=[];for(let M of f){b[M.firstCol].push({seg:M,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let V=M.firstCol;V<=M.lastCol;V+=1)_[V].push({seg:zl(M,V,V+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let M=0;M<l.length;M+=1)R.push(0);for(let M of p){let V=n[M.index],z=M.span;b[z.start].push({seg:zl(V,z.start,z.end,l),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let $=z.start;$<z.end;$+=1)R[$]+=1,_[$].push({seg:zl(V,$,$+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let M=0;M<l.length;M+=1)x.push(T[M]);return{singleColPlacements:_,multiColPlacements:b,moreCnts:R,moreMarginTops:x}}function Y9(n,e,t){let i=Q9(n,t.length),r=[],a=[],l=[];for(let u=0;u<t.length;u+=1){let h=i[u],f=[],p=0,v=0;for(let b of h){let T=e[b.index];f.push({seg:zl(T,u,u+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:b.levelCoord,marginTop:b.levelCoord-p}),p=b.levelCoord+b.thickness}let _=[];p=0,v=0;for(let b of h){let T=e[b.index],R=b.span.end-b.span.start>1,x=b.span.start===u;v+=b.levelCoord-p,p=b.levelCoord+b.thickness,R?(v+=b.thickness,x&&_.push({seg:zl(T,b.span.start,b.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:b.levelCoord,marginTop:0})):x&&(_.push({seg:zl(T,b.span.start,b.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:b.levelCoord,marginTop:v}),v=0)}r.push(f),a.push(_),l.push(v)}return{singleColPlacements:r,multiColPlacements:a,leftoverMargins:l}}function Q9(n,e){let t=[];for(let i=0;i<e;i+=1)t.push([]);for(let i of n)for(let r=i.span.start;r<i.span.end;r+=1)t[r].push(i);return t}function zl(n,e,t,i){if(n.firstCol===e&&n.lastCol===t-1)return n;let r=n.eventRange,a=r.range,l=Xl(a,{start:i[e].date,end:_n(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:l},isStart:n.isStart&&l.start.valueOf()===a.start.valueOf(),isEnd:n.isEnd&&l.end.valueOf()===a.end.valueOf()})}class K9 extends RF{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:i}=this,r=a=>!this.forceHidden[Xu(a)];for(let a=0;a<i.length;a+=1)i[a]=i[a].filter(r);return t}handleInvalidInsertion(e,t,i){const{entriesByLevel:r,forceHidden:a}=this,{touchingEntry:l,touchingLevel:u,touchingLateral:h}=e;if(this.hiddenConsumes&&l){const f=Xu(l);if(!a[f])if(this.allowReslicing){const p=Object.assign(Object.assign({},l),{span:z1(l.span,t.span)}),v=Xu(p);a[v]=!0,r[u][h]=p,i.push(p),this.splitEntry(l,t,i)}else a[f]=!0,i.push(l)}super.handleInvalidInsertion(e,t,i)}}class fk extends Po{constructor(){super(...arguments),this.cellElRefs=new uo,this.frameElRefs=new uo,this.fgElRefs=new uo,this.segHarnessRefs=new uo,this.rootElRef=es(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:i}=this,{options:r}=i,a=e.cells.length,l=wf(e.businessHourSegs,a),u=wf(e.bgEventSegs,a),h=wf(this.getHighlightSegs(),a),f=wf(this.getMirrorSegs(),a),{singleColPlacements:p,multiColPlacements:v,moreCnts:_,moreMarginTops:b}=$9(G5(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),T=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return Z("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((R,x)=>{let M=this.renderFgSegs(x,e.forPrint?p[x]:v[x],e.todayRange,T),V=this.renderFgSegs(x,X9(f[x],v),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return Z(q9,{key:R.key,elRef:this.cellElRefs.createRef(R.key),innerElRef:this.frameElRefs.createRef(R.key),dateProfile:e.dateProfile,date:R.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&x===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:R.extraRenderProps,extraDataAttrs:R.extraDataAttrs,extraClassNames:R.extraClassNames,extraDateSpan:R.extraDateSpan,moreCnt:_[x],moreMarginTop:b[x],singlePlacements:p[x],fgContentElRef:this.fgElRefs.createRef(R.key),fgContent:Z(Dt,null,Z(Dt,null,M),Z(Dt,null,V)),bgContent:Z(Dt,null,this.renderFillSegs(h[x],"highlight"),this.renderFillSegs(l[x],"non-business"),this.renderFillSegs(u[x],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let i=this.props;this.updateSizing(!ur(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,i,r,a,l,u){let{context:h}=this,{eventSelection:f}=this.props,{framePositions:p}=this.state,v=this.props.cells.length===1,_=a||l||u,b=[];if(p)for(let T of t){let{seg:R}=T,{instanceId:x}=R.eventRange.instance,M=T.isVisible&&!r[x],V=T.isAbsolute,z="",$="";V&&(h.isRtl?($=0,z=p.lefts[R.lastCol]-p.lefts[R.firstCol]):(z=0,$=p.rights[R.firstCol]-p.rights[R.lastCol])),b.push(Z("div",{className:"fc-daygrid-event-harness"+(V?" fc-daygrid-event-harness-abs":""),key:hk(R),ref:_?null:this.segHarnessRefs.createRef(dk(R)),style:{visibility:M?"":"hidden",marginTop:V?"":T.marginTop,top:V?T.absoluteTop:"",left:z,right:$}},lk(R)?Z(uk,Object.assign({seg:R,isDragging:a,isSelected:x===f,defaultDisplayEventEnd:v},Ku(R,i))):Z(ck,Object.assign({seg:R,isDragging:a,isResizing:l,isDateSelecting:u,isSelected:x===f,defaultDisplayEventEnd:v},Ku(R,i)))))}return b}renderFillSegs(e,t){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:a}=this.state,l=[];if(a)for(let u of e){let h=i?{right:0,left:a.lefts[u.lastCol]-a.lefts[u.firstCol]}:{left:0,right:a.rights[u.firstCol]-a.rights[u.lastCol]};l.push(Z("div",{key:Z5(u.eventRange),className:"fc-daygrid-bg-harness",style:h},t==="bg-event"?Z(o3,Object.assign({seg:u},Ku(u,r))):c3(t)))}return Z(Dt,{},...l)}updateSizing(e){let{props:t,state:i,frameElRefs:r}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let h=t.cells.map(f=>r.currentMap[f.key]);if(h.length){let f=this.rootElRef.current,p=new Ug(f,h,!0,!1);(!i.framePositions||!i.framePositions.similarTo(p))&&this.setState({framePositions:new Ug(f,h,!0,!1)})}}const a=this.state.segHeights,l=this.querySegHeights(),u=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),l),maxContentHeight:u?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let i in e){let r=Math.round(e[i].getBoundingClientRect().height);t[i]=Math.max(t[i]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}fk.addStateEquality({segHeights:ur});function X9(n,e){if(!n.length)return[];let t=Z9(e);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}function Z9(n){let e={};for(let t of n)for(let i of t)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}class J9 extends Po{constructor(){super(...arguments),this.splitBusinessHourSegs=Ze(Af),this.splitBgEventSegs=Ze(Af),this.splitFgEventSegs=Ze(Af),this.splitDateSelectionSegs=Ze(Af),this.splitEventDrag=Ze(vx),this.splitEventResize=Ze(vx),this.rowRefs=new uo}render(){let{props:e,context:t}=this,i=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,i),a=this.splitBgEventSegs(e.bgEventSegs,i),l=this.splitFgEventSegs(e.fgEventSegs,i),u=this.splitDateSelectionSegs(e.dateSelectionSegs,i),h=this.splitEventDrag(e.eventDrag,i),f=this.splitEventResize(e.eventResize,i),p=i>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return Z(Zb,{unit:"day"},(v,_)=>Z(Dt,null,e.cells.map((b,T)=>Z(fk,{ref:this.rowRefs.createRef(T),key:b.length?b[0].date.toISOString():T,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:_,dateProfile:e.dateProfile,cells:b,renderIntro:e.renderRowIntro,businessHourSegs:r[T],eventSelection:e.eventSelection,bgEventSegs:a[T].filter(e7),fgEventSegs:l[T],dateSelectionSegs:u[T],eventDrag:h[T],eventResize:f[T],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:p,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Ug(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Ug(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:i,rowPositions:r}=this,a=i.leftToIndex(e),l=r.topToIndex(t);if(l!=null&&a!=null){let u=this.props.cells[l][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(l,a),allDay:!0},u.extraDateSpan),dayEl:this.getCellEl(l,a),rect:{left:i.lefts[a],right:i.rights[a],top:r.tops[l],bottom:r.bottoms[l]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let i=this.props.cells[e][t].date,r=_n(i,1);return{start:i,end:r}}}function e7(n){return n.eventRange.def.allDay}class t7 extends Po{constructor(){super(...arguments),this.elRef=es(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:r}=e,a=i===!0||t===!0;a&&!r&&(a=!1,t=null,i=null);let l=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return Z("div",{ref:this.elRef,className:l.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},Z("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,Z("tbody",{role:"presentation"},Z(J9,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=n7(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}function n7(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${M6(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${Nb(e.currentDate)}"]`)),t}class i7 extends VF{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class r7 extends Po{constructor(){super(...arguments),this.slicer=new i7,this.tableRef=es()}render(){let{props:e,context:t}=this;return Z(t7,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class s7 extends U9{constructor(){super(...arguments),this.buildDayTableModel=Ze(a7),this.headerRef=es(),this.tableRef=es()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,t),a=e.dayHeaders&&Z(OF,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),l=u=>Z(r7,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:u.tableColGroupNode,tableMinWidth:u.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:u.clientWidth,clientHeight:u.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,l,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,l)}}function a7(n,e){let t=new PF(n.renderRange,e);return new LF(t,/year|month|week/.test(n.currentRangeUnit))}class o7 extends b1{buildRenderRange(e,t,i){let r=super.buildRenderRange(e,t,i),{props:a}=this;return l7({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function l7(n){let{dateEnv:e,currentRange:t}=n,{start:i,end:r}=t,a;if(n.snapToWeek&&(i=e.startOfWeek(i),a=e.startOfWeek(r),a.valueOf()!==r.valueOf()&&(r=HT(a,1))),n.fixedWeekCount){let l=e.startOfWeek(e.startOfMonth(_n(t.end,-1))),u=Math.ceil(b6(l,r));r=HT(r,6-u)}return{start:i,end:r}}var c7=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';i1(c7);var u7=_a({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:s7,dateProfileGeneratorClass:o7},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});Xb.touchMouseIgnoreWait=500;let m_=0,zg=0,y_=!1;class gk{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&h7(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,d7()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new Ip,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),f7()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),g7()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||vn(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){y_=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?vn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return m_||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(y_=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}}createEventFromTouch(e,t){let i=e.touches,r,a,l=0,u=0;return i&&i.length?(r=i[0].pageX,a=i[0].pageY):(r=e.pageX,a=e.pageY),t?(this.origPageX=r,this.origPageY=a):(l=r-this.origPageX,u=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:a,deltaX:l,deltaY:u}}}function h7(n){return n.button===0&&!n.ctrlKey}function d7(){m_+=1,setTimeout(()=>{m_-=1},Xb.touchMouseIgnoreWait)}function f7(){zg+=1,zg===1&&window.addEventListener("touchmove",pk,{passive:!1})}function g7(){zg-=1,zg||window.removeEventListener("touchmove",pk,{passive:!1})}function pk(n){y_&&n.preventDefault()}class p7{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",$u(i,{left:r.left,top:r.top}),n6(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(kb(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&$u(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),$u(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class mk extends Kb{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class yk extends mk{constructor(e,t){super(new TF(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return wF(this.scrollController.el)}}class m7 extends mk{constructor(e){super(new xF,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const _x=typeof performance=="function"?performance.now:Date.now;class y7{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=_x();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,r=t-window.scrollY,a=this.pointerScreenY===null?0:r-this.pointerScreenY,l=this.pointerScreenX===null?0:i-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),l<0?this.everMovedLeft=!0:l>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(_x()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:r}=this,a=r-e.distance,l=a*a/(r*r)*this.maxVelocity*t,u=1;switch(e.name){case"left":u=-1;case"right":i.setScrollLeft(i.getScrollLeft()+l*u);break;case"top":u=-1;case"bottom":i.setScrollTop(i.getScrollTop()+l*u);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,r=null,a=this.scrollCaches||[];for(let l of a){let u=l.clientRect,h=e-u.left,f=u.right-e,p=t-u.top,v=u.bottom-t;h>=0&&f>=0&&p>=0&&v>=0&&(p<=i&&this.everMovedUp&&l.canScrollUp()&&(!r||r.distance>p)&&(r={scrollCache:l,name:"top",distance:p}),v<=i&&this.everMovedDown&&l.canScrollDown()&&(!r||r.distance>v)&&(r={scrollCache:l,name:"bottom",distance:v}),h<=i&&this.everMovedLeft&&l.canScrollLeft()&&(!r||r.distance>h)&&(r={scrollCache:l,name:"left",distance:h}),f<=i&&this.everMovedRight&&l.canScrollRight()&&(!r||r.distance>f)&&(r={scrollCache:l,name:"right",distance:f}))}return r}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new m7(!1):new yk(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}}class Lh extends CF{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,i6(document.body),s6(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let a=this.minDistance,l,{deltaX:u,deltaY:h}=r;l=u*u+h*h,l>=a*a&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,r6(document.body),a6(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new gk(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new p7,this.autoScroller=new y7}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class v7{constructor(e){this.el=e,this.origRect=Qb(e),this.scrollCaches=U1(e).map(t=>new yk(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let r of this.scrollCaches)if(!_7(r.getEventTarget())&&!dF(i,r.clientRect))return!1;return!0}}function _7(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class kp{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Ip}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,r=e.subjectEl,a;r instanceof HTMLElement&&(a=Qb(r),i=fF(i,a));let l=this.initialHit=this.queryHitForOffset(i.left,i.top);if(l){if(this.useSubjectCenter&&a){let u=L1(a,l.rect);u&&(i=gF(u))}this.coordAdjust=pF(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Mp(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=Mo(this.droppableStore,e=>(e.component.prepareHits(),new v7(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:r}=this,a=null;for(let l in i){let u=i[l].component,h=r[l];if(h&&h.isWithinClipping(e,t)){let f=h.computeLeft(),p=h.computeTop(),v=e-f,_=t-p,{origRect:b}=h,T=b.right-b.left,R=b.bottom-b.top;if(v>=0&&v<T&&_>=0&&_<R){let x=u.queryHit(v,_,T,R);x&&Cp(x.dateProfile.activeRange,x.dateSpan.range)&&(this.disablePointCheck||h.el.contains(h.el.getRootNode().elementFromPoint(v+f-window.scrollX,_+p-window.scrollY)))&&(!a||x.layer>a.layer)&&(x.componentId=l,x.context=u.context,x.rect.left+=f,x.rect.right+=f,x.rect.top+=p,x.rect.bottom+=p,a=x)}}}return a}}function Mp(n,e){return!n&&!e?!0:!!n!=!!e?!1:nF(n.dateSpan,e.dateSpan)}function vk(n,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(n,e));return Object.assign(t,b7(n,e.dateEnv)),t}function b7(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class E7 extends hc{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:r}=this,a=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:l,finalHit:u}=this.hitDragging;if(l&&u&&Mp(l,u)){let{context:h}=r,f=Object.assign(Object.assign({},vk(l.dateSpan,h)),{dayEl:l.dayEl,jsEvent:i.origEvent,view:h.viewApi||h.calendarApi.view});h.emitter.trigger("dateClick",f)}}},this.dragging=new Lh(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new kp(this.dragging,$b(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class A7 extends hc{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=l=>{let{component:u,dragging:h}=this,{options:f}=u.context,p=f.selectable&&u.isValidDateDownEl(l.origEvent.target);h.setIgnoreMove(!p),h.delay=l.isTouch?w7(u):null},this.handleDragStart=l=>{this.component.context.calendarApi.unselect(l)},this.handleHitUpdate=(l,u)=>{let{context:h}=this.component,f=null,p=!1;if(l){let v=this.hitDragging.initialHit;l.componentId===v.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(v,l)||(f=S7(v,l,h.pluginHooks.dateSelectionTransformers)),(!f||!jF(f,l.dateProfile,h))&&(p=!0,f=null)}f?h.dispatch({type:"SELECT_DATES",selection:f}):u||h.dispatch({type:"UNSELECT_DATES"}),p?Mb():Ob(),u||(this.dragSelection=f)},this.handlePointerUp=l=>{this.dragSelection&&(C1(this.dragSelection,l,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,r=this.dragging=new Lh(e.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let a=this.hitDragging=new kp(this.dragging,$b(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function w7(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function S7(n,e,t){let i=n.dateSpan,r=e.dateSpan,a=[i.range.start,i.range.end,r.range.start,r.range.end];a.sort(h6);let l={};for(let u of t){let h=u(n,e);if(h===!1)return null;h&&Object.assign(l,h)}return l.range={start:a[0],end:a[3]},l.allDay=i.allDay,l}class Vh extends hc{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let u=l.origEvent.target,{component:h,dragging:f}=this,{mirror:p}=f,{options:v}=h.context,_=h.context;this.subjectEl=l.subjectEl;let b=this.subjectSeg=Zl(l.subjectEl),R=(this.eventRange=b.eventRange).instance.instanceId;this.relevantEvents=Fb(_.getCurrentData().eventStore,R),f.minDistance=l.isTouch?0:v.eventDragMinDistance,f.delay=l.isTouch&&R!==h.props.eventSelection?x7(h):null,v.fixedMirrorParent?p.parentNode=v.fixedMirrorParent:p.parentNode=vn(u,".fc"),p.revertDuration=v.dragRevertDuration;let x=h.isValidSegDownEl(u)&&!vn(u,".fc-event-resizer");f.setIgnoreMove(!x),this.isDragging=x&&l.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=l=>{let u=this.component.context,h=this.eventRange,f=h.instance.instanceId;l.isTouch?f!==this.component.props.eventSelection&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:f}):u.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(u.calendarApi.unselect(l),u.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new dt(u,h.def,h.instance),jsEvent:l.origEvent,view:u.viewApi}))},this.handleHitUpdate=(l,u)=>{if(!this.isDragging)return;let h=this.relevantEvents,f=this.hitDragging.initialHit,p=this.component.context,v=null,_=null,b=null,T=!1,R={affectedEvents:h,mutatedEvents:Ci(),isEvent:!0};if(l){v=l.context;let x=v.options;p===v||x.editable&&x.droppable?(_=T7(f,l,this.eventRange.instance.range.start,v.getCurrentData().pluginHooks.eventDragMutationMassagers),_&&(b=Gb(h,v.getCurrentData().eventUiBases,_,v),R.mutatedEvents=b,F1(R,l.dateProfile,v)||(T=!0,_=null,b=null,R.mutatedEvents=Ci()))):v=null}this.displayDrag(v,R),T?Mb():Ob(),u||(p===v&&Mp(f,l)&&(_=null),this.dragging.setMirrorNeedsRevert(!_),this.dragging.setMirrorIsVisible(!l||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=v,this.validMutation=_,this.mutatedRelevantEvents=b)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=l=>{if(this.isDragging){let u=this.component.context,h=u.viewApi,{receivingContext:f,validMutation:p}=this,v=this.eventRange.def,_=this.eventRange.instance,b=new dt(u,v,_),T=this.relevantEvents,R=this.mutatedRelevantEvents,{finalHit:x}=this.hitDragging;if(this.clearDrag(),u.emitter.trigger("eventDragStop",{el:this.subjectEl,event:b,jsEvent:l.origEvent,view:h}),p){if(f===u){let M=new dt(u,R.defs[v.defId],_?R.instances[_.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:R});let V={oldEvent:b,event:M,relatedEvents:fo(R,u,_),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:T})}},z={};for(let $ of u.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(z,$(p,u));u.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},V),z),{el:l.subjectEl,delta:p.datesDelta,jsEvent:l.origEvent,view:h})),u.emitter.trigger("eventChange",V)}else if(f){let M={event:b,relatedEvents:fo(T,u,_),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:T})}};u.emitter.trigger("eventLeave",Object.assign(Object.assign({},M),{draggedEl:l.subjectEl,view:h})),u.dispatch({type:"REMOVE_EVENTS",eventStore:T}),u.emitter.trigger("eventRemove",M);let V=R.defs[v.defId],z=R.instances[_.instanceId],$=new dt(f,V,z);f.dispatch({type:"MERGE_EVENTS",eventStore:R});let J={event:$,relatedEvents:fo(R,f,z),revert(){f.dispatch({type:"REMOVE_EVENTS",eventStore:R})}};f.emitter.trigger("eventAdd",J),l.isTouch&&f.dispatch({type:"SELECT_EVENT",eventInstanceId:_.instanceId}),f.emitter.trigger("drop",Object.assign(Object.assign({},vk(x.dateSpan,f)),{draggedEl:l.subjectEl,jsEvent:l.origEvent,view:x.context.viewApi})),f.emitter.trigger("eventReceive",Object.assign(Object.assign({},J),{draggedEl:l.subjectEl,view:x.context.viewApi}))}}else u.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:i}=t.context,r=this.dragging=new Lh(e.el);r.pointer.selector=Vh.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=i.dragScroll;let a=this.hitDragging=new kp(this.dragging,f_);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let i=this.component.context,r=this.receivingContext;r&&r!==e&&(r===i?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Ci(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Vh.SELECTOR=".fc-event-draggable, .fc-event-resizable";function T7(n,e,t,i){let r=n.dateSpan,a=e.dateSpan,l=r.range.start,u=a.range.start,h={};r.allDay!==a.allDay&&(h.allDay=a.allDay,h.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?l=ht(t):l=t);let f=Nl(l,u,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);f.milliseconds&&(h.allDay=!1);let p={datesDelta:f,standardProps:h};for(let v of i)v(p,n,e);return p}function x7(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class R7 extends hc{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:l}=this,u=this.querySegEl(a),h=Zl(u),f=this.eventRange=h.eventRange;this.dragging.minDistance=l.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==f.instance.instanceId)},this.handleDragStart=a=>{let{context:l}=this.component,u=this.eventRange;this.relevantEvents=Fb(l.getCurrentData().eventStore,this.eventRange.instance.instanceId);let h=this.querySegEl(a);this.draggingSegEl=h,this.draggingSeg=Zl(h),l.calendarApi.unselect(),l.emitter.trigger("eventResizeStart",{el:h,event:new dt(l,u.def,u.instance),jsEvent:a.origEvent,view:l.viewApi})},this.handleHitUpdate=(a,l,u)=>{let{context:h}=this.component,f=this.relevantEvents,p=this.hitDragging.initialHit,v=this.eventRange.instance,_=null,b=null,T=!1,R={affectedEvents:f,mutatedEvents:Ci(),isEvent:!0};a&&(a.componentId===p.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(p,a)||(_=C7(p,a,u.subjectEl.classList.contains("fc-event-resizer-start"),v.range))),_&&(b=Gb(f,h.getCurrentData().eventUiBases,_,h),R.mutatedEvents=b,F1(R,a.dateProfile,h)||(T=!0,_=null,b=null,R.mutatedEvents=null)),b?h.dispatch({type:"SET_EVENT_RESIZE",state:R}):h.dispatch({type:"UNSET_EVENT_RESIZE"}),T?Mb():Ob(),l||(_&&Mp(p,a)&&(_=null),this.validMutation=_,this.mutatedRelevantEvents=b)},this.handleDragEnd=a=>{let{context:l}=this.component,u=this.eventRange.def,h=this.eventRange.instance,f=new dt(l,u,h),p=this.relevantEvents,v=this.mutatedRelevantEvents;if(l.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:f,jsEvent:a.origEvent,view:l.viewApi}),this.validMutation){let _=new dt(l,v.defs[u.defId],h?v.instances[h.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:v});let b={oldEvent:f,event:_,relatedEvents:fo(v,l,h),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:p})}};l.emitter.trigger("eventResize",Object.assign(Object.assign({},b),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Xe(0),endDelta:this.validMutation.endDelta||Xe(0),jsEvent:a.origEvent,view:l.viewApi})),l.emitter.trigger("eventChange",b)}else l.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new Lh(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new kp(this.dragging,$b(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return vn(e.subjectEl,".fc-event")}}function C7(n,e,t,i){let r=n.context.dateEnv,a=n.dateSpan.range.start,l=e.dateSpan.range.start,u=Nl(a,l,r,n.largeUnit);if(t){if(r.add(i.start,u)<i.end)return{startDelta:u}}else if(r.add(i.end,u)>i.start)return{endDelta:u};return null}class D7{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,a=o1(i.origEvent);this.matchesCancel=!!vn(a,r),this.matchesEvent=!!vn(a,Vh.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:a}=this,l=r.getCurrentData();if(!a.wasTouchScroll){if(l.dateSelection&&!this.isRecentPointerDateSelect){let u=r.options.unselectAuto;u&&(!u||!this.matchesCancel)&&r.calendarApi.unselect(i)}l.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new gk(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const I7={fixedMirrorParent:K},k7={dateClick:K,eventDragStart:K,eventDragStop:K,eventDrop:K,eventResizeStart:K,eventResizeStop:K,eventResize:K,drop:K,eventReceive:K,eventLeave:K};Xb.dataAttrPrefix="";var M7=_a({name:"@fullcalendar/interaction",componentInteractions:[E7,A7,Vh,R7],calendarInteractions:[D7],elementDraggingImpl:Lh,optionRefiners:I7,listenerRefiners:k7});const O7=({events:n,onDateClick:e})=>{const[t,i]=F.useState(window.innerWidth<768);F.useEffect(()=>{const a=()=>i(window.innerWidth<768);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const r=t?{left:"prev,next",center:"title",right:""}:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek"};return A.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-lg p-4",children:A.jsx(sk,{plugins:[u7,M7],initialView:"dayGridMonth",headerToolbar:r,events:n,dateClick:e,height:"auto"})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function jh(n){return n+.5|0}const Xs=(n,e,t)=>Math.max(Math.min(n,t),e);function Pu(n){return Xs(jh(n*2.55),0,255)}function sa(n){return Xs(jh(n*255),0,255)}function Hr(n){return Xs(jh(n/2.55)/100,0,1)}function bx(n){return Xs(jh(n*100),0,100)}const gi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},v_=[..."0123456789ABCDEF"],N7=n=>v_[n&15],P7=n=>v_[(n&240)>>4]+v_[n&15],Sf=n=>(n&240)>>4===(n&15),L7=n=>Sf(n.r)&&Sf(n.g)&&Sf(n.b)&&Sf(n.a);function V7(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&gi[n[1]]*17,g:255&gi[n[2]]*17,b:255&gi[n[3]]*17,a:e===5?gi[n[4]]*17:255}:(e===7||e===9)&&(t={r:gi[n[1]]<<4|gi[n[2]],g:gi[n[3]]<<4|gi[n[4]],b:gi[n[5]]<<4|gi[n[6]],a:e===9?gi[n[7]]<<4|gi[n[8]]:255})),t}const j7=(n,e)=>n<255?e(n):"";function U7(n){var e=L7(n)?N7:P7;return n?"#"+e(n.r)+e(n.g)+e(n.b)+j7(n.a,e):void 0}const z7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _k(n,e,t){const i=e*Math.min(t,1-t),r=(a,l=(a+n/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function B7(n,e,t){const i=(r,a=(r+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function H7(n,e,t){const i=_k(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function F7(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function t0(n){const t=n.r/255,i=n.g/255,r=n.b/255,a=Math.max(t,i,r),l=Math.min(t,i,r),u=(a+l)/2;let h,f,p;return a!==l&&(p=a-l,f=u>.5?p/(2-a-l):p/(a+l),h=F7(t,i,r,p,a),h=h*60+.5),[h|0,f||0,u]}function n0(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(sa)}function i0(n,e,t){return n0(_k,n,e,t)}function q7(n,e,t){return n0(H7,n,e,t)}function W7(n,e,t){return n0(B7,n,e,t)}function bk(n){return(n%360+360)%360}function G7(n){const e=z7.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Pu(+e[5]):sa(+e[5]));const r=bk(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=q7(r,a,l):e[1]==="hsv"?i=W7(r,a,l):i=i0(r,a,l),{r:i[0],g:i[1],b:i[2],a:t}}function $7(n,e){var t=t0(n);t[0]=bk(t[0]+e),t=i0(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Y7(n){if(!n)return;const e=t0(n),t=e[0],i=bx(e[1]),r=bx(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Hr(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const Ex={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ax={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Q7(){const n={},e=Object.keys(Ax),t=Object.keys(Ex);let i,r,a,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],r=0;r<t.length;r++)a=t[r],u=u.replace(a,Ex[a]);a=parseInt(Ax[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let Tf;function K7(n){Tf||(Tf=Q7(),Tf.transparent=[0,0,0,0]);const e=Tf[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const X7=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Z7(n){const e=X7.exec(n);let t=255,i,r,a;if(e){if(e[7]!==i){const l=+e[7];t=e[8]?Pu(l):Xs(l*255,0,255)}return i=+e[1],r=+e[3],a=+e[5],i=255&(e[2]?Pu(i):Xs(i,0,255)),r=255&(e[4]?Pu(r):Xs(r,0,255)),a=255&(e[6]?Pu(a):Xs(a,0,255)),{r:i,g:r,b:a,a:t}}}function J7(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Hr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const bv=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,xl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function eq(n,e,t){const i=xl(Hr(n.r)),r=xl(Hr(n.g)),a=xl(Hr(n.b));return{r:sa(bv(i+t*(xl(Hr(e.r))-i))),g:sa(bv(r+t*(xl(Hr(e.g))-r))),b:sa(bv(a+t*(xl(Hr(e.b))-a))),a:n.a+t*(e.a-n.a)}}function xf(n,e,t){if(n){let i=t0(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=i0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Ek(n,e){return n&&Object.assign(e||{},n)}function wx(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=sa(n[3]))):(e=Ek(n,{r:0,g:0,b:0,a:1}),e.a=sa(e.a)),e}function tq(n){return n.charAt(0)==="r"?Z7(n):G7(n)}class yh{constructor(e){if(e instanceof yh)return e;const t=typeof e;let i;t==="object"?i=wx(e):t==="string"&&(i=V7(e)||K7(e)||tq(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Ek(this._rgb);return e&&(e.a=Hr(e.a)),e}set rgb(e){this._rgb=wx(e)}rgbString(){return this._valid?J7(this._rgb):void 0}hexString(){return this._valid?U7(this._rgb):void 0}hslString(){return this._valid?Y7(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let a;const l=t===a?.5:t,u=2*l-1,h=i.a-r.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-f,i.r=255&f*i.r+a*r.r+.5,i.g=255&f*i.g+a*r.g+.5,i.b=255&f*i.b+a*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=eq(this._rgb,e._rgb,t)),this}clone(){return new yh(this.rgb)}alpha(e){return this._rgb.a=sa(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=jh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return xf(this._rgb,2,e),this}darken(e){return xf(this._rgb,2,-e),this}saturate(e){return xf(this._rgb,1,e),this}desaturate(e){return xf(this._rgb,1,-e),this}rotate(e){return $7(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ur(){}const nq=(()=>{let n=0;return()=>n++})();function bn(n){return n==null}function un(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ke(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ns(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Zi(n,e){return ns(n)?n:e}function it(n,e){return typeof n>"u"?e:n}const iq=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Ak=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function ct(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function nt(n,e,t,i){let r,a,l;if(un(n))for(a=n.length,r=0;r<a;r++)e.call(t,n[r],r);else if(Ke(n))for(l=Object.keys(n),a=l.length,r=0;r<a;r++)e.call(t,n[l[r]],l[r])}function Bg(n,e){let t,i,r,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],a=e[t],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function Hg(n){if(un(n))return n.map(Hg);if(Ke(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=Hg(n[t[r]]);return e}return n}function wk(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function rq(n,e,t,i){if(!wk(n))return;const r=e[n],a=t[n];Ke(r)&&Ke(a)?vh(r,a,i):e[n]=Hg(a)}function vh(n,e,t){const i=un(e)?e:[e],r=i.length;if(!Ke(n))return n;t=t||{};const a=t.merger||rq;let l;for(let u=0;u<r;++u){if(l=i[u],!Ke(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)a(h[f],n,l,t)}return n}function Zu(n,e){return vh(n,e,{merger:sq})}function sq(n,e,t){if(!wk(n))return;const i=e[n],r=t[n];Ke(i)&&Ke(r)?Zu(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Hg(r))}const Sx={"":n=>n,x:n=>n.x,y:n=>n.y};function aq(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function oq(n){const e=aq(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function _h(n,e){return(Sx[e]||(Sx[e]=oq(e)))(n)}function r0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Fg=n=>typeof n<"u",pa=n=>typeof n=="function",Tx=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function lq(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const nn=Math.PI,Vt=2*nn,qg=Number.POSITIVE_INFINITY,cq=nn/180,qt=nn/2,Ja=nn/4,xx=nn*2/3,Rx=Math.sign;function uq(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,a)=>r-a).pop(),e}function hq(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Wg(n){return!hq(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function ho(n){return n*(nn/180)}function dq(n){return n*(180/nn)}function Sk(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let a=Math.atan2(i,t);return a<-.5*nn&&(a+=Vt),{angle:a,distance:r}}function fq(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function eo(n){return(n%Vt+Vt)%Vt}function Gg(n,e,t,i){const r=eo(n),a=eo(e),l=eo(t),u=eo(a-r),h=eo(l-r),f=eo(r-a),p=eo(r-l);return r===a||r===l||i&&a===l||u>h&&f<p}function mi(n,e,t){return Math.max(e,Math.min(t,n))}function gq(n){return mi(n,-32768,32767)}function Lu(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function s0(n,e,t){t=t||(l=>n[l]<e);let i=n.length-1,r=0,a;for(;i-r>1;)a=r+i>>1,t(a)?r=a:i=a;return{lo:r,hi:i}}const __=(n,e,t,i)=>s0(n,t,i?r=>{const a=n[r][e];return a<t||a===t&&n[r+1][e]===t}:r=>n[r][e]<t),pq=(n,e,t)=>s0(n,t,i=>n[i][e]>=t);function mq(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const Tk=["push","pop","shift","splice","unshift"];function yq(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Tk.forEach(t=>{const i="_onData"+r0(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=r.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function Cx(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(Tk.forEach(a=>{delete n[a]}),delete n._chartjs)}function vq(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const xk=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Rk(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,xk.call(window,()=>{i=!1,n.apply(e,t)}))}}function _q(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const Ck=n=>n==="start"?"left":n==="end"?"right":"center",$n=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,bq=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e,Rf=n=>n===0||n===1,Dx=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Vt/t)),Ix=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Vt/t)+1,Ju={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*qt)+1,easeOutSine:n=>Math.sin(n*qt),easeInOutSine:n=>-.5*(Math.cos(nn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Rf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Rf(n)?n:Dx(n,.075,.3),easeOutElastic:n=>Rf(n)?n:Ix(n,.075,.3),easeInOutElastic(n){return Rf(n)?n:n<.5?.5*Dx(n*2,.1125,.45):.5+.5*Ix(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Ju.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ju.easeInBounce(n*2)*.5:Ju.easeOutBounce(n*2-1)*.5+.5};function Dk(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function kx(n){return Dk(n)?n:new yh(n)}function Ev(n){return Dk(n)?n:new yh(n).saturate(.5).darken(.1).hexString()}const Eq=["x","y","borderWidth","radius","tension"],Aq=["color","borderColor","backgroundColor"];function wq(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Aq},numbers:{type:"number",properties:Eq}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Sq(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Mx=new Map;function Tq(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Mx.get(t);return i||(i=new Intl.NumberFormat(n,e),Mx.set(t,i)),i}function xq(n,e,t){return Tq(e,t).format(n)}const Rq={values(n){return un(n)?n:""+n}};var Cq={formatters:Rq};function Dq(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Cq.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const wo=Object.create(null),b_=Object.create(null);function eh(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const a=t[i];n=n[a]||(n[a]=Object.create(null))}return n}function Av(n,e,t){return typeof e=="string"?vh(eh(n,e),t):vh(eh(n,""),e)}class Iq{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Ev(r.backgroundColor),this.hoverBorderColor=(i,r)=>Ev(r.borderColor),this.hoverColor=(i,r)=>Ev(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Av(this,e,t)}get(e){return eh(this,e)}describe(e,t){return Av(b_,e,t)}override(e,t){return Av(wo,e,t)}route(e,t,i,r){const a=eh(this,e),l=eh(this,i),u="_"+t;Object.defineProperties(a,{[u]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],f=l[r];return Ke(h)?Object.assign({},f,h):it(h,f)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var It=new Iq({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[wq,Sq,Dq]);function kq(n){return!n||bn(n.size)||bn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Ox(n,e,t,i,r){let a=e[r];return a||(a=e[r]=n.measureText(r).width,t.push(r)),a>i&&(i=a),i}function to(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function Nx(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Px(n,e,t,i){Ik(n,e,t,i,null)}function Ik(n,e,t,i,r){let a,l,u,h,f,p,v,_;const b=e.pointStyle,T=e.rotation,R=e.radius;let x=(T||0)*cq;if(b&&typeof b=="object"&&(a=b.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(x),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(R)||R<=0)){switch(n.beginPath(),b){default:r?n.ellipse(t,i,r/2,R,0,0,Vt):n.arc(t,i,R,0,Vt),n.closePath();break;case"triangle":p=r?r/2:R,n.moveTo(t+Math.sin(x)*p,i-Math.cos(x)*R),x+=xx,n.lineTo(t+Math.sin(x)*p,i-Math.cos(x)*R),x+=xx,n.lineTo(t+Math.sin(x)*p,i-Math.cos(x)*R),n.closePath();break;case"rectRounded":f=R*.516,h=R-f,l=Math.cos(x+Ja)*h,v=Math.cos(x+Ja)*(r?r/2-f:h),u=Math.sin(x+Ja)*h,_=Math.sin(x+Ja)*(r?r/2-f:h),n.arc(t-v,i-u,f,x-nn,x-qt),n.arc(t+_,i-l,f,x-qt,x),n.arc(t+v,i+u,f,x,x+qt),n.arc(t-_,i+l,f,x+qt,x+nn),n.closePath();break;case"rect":if(!T){h=Math.SQRT1_2*R,p=r?r/2:h,n.rect(t-p,i-h,2*p,2*h);break}x+=Ja;case"rectRot":v=Math.cos(x)*(r?r/2:R),l=Math.cos(x)*R,u=Math.sin(x)*R,_=Math.sin(x)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+_,i-l),n.lineTo(t+v,i+u),n.lineTo(t-_,i+l),n.closePath();break;case"crossRot":x+=Ja;case"cross":v=Math.cos(x)*(r?r/2:R),l=Math.cos(x)*R,u=Math.sin(x)*R,_=Math.sin(x)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+_,i-l),n.lineTo(t-_,i+l);break;case"star":v=Math.cos(x)*(r?r/2:R),l=Math.cos(x)*R,u=Math.sin(x)*R,_=Math.sin(x)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+_,i-l),n.lineTo(t-_,i+l),x+=Ja,v=Math.cos(x)*(r?r/2:R),l=Math.cos(x)*R,u=Math.sin(x)*R,_=Math.sin(x)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+_,i-l),n.lineTo(t-_,i+l);break;case"line":l=r?r/2:Math.cos(x)*R,u=Math.sin(x)*R,n.moveTo(t-l,i-u),n.lineTo(t+l,i+u);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(x)*(r?r/2:R),i+Math.sin(x)*R);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function kk(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function a0(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function o0(n){n.restore()}function Mq(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),bn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Oq(n,e,t,i,r){if(r.strikethrough||r.underline){const a=n.measureText(i),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,h=t-a.actualBoundingBoxAscent,f=t+a.actualBoundingBoxDescent,p=r.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function Nq(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function $g(n,e,t,i,r,a={}){const l=un(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(n.save(),n.font=r.string,Mq(n,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&Nq(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),bn(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,t,i,a.maxWidth)),n.fillText(f,t,i,a.maxWidth),Oq(n,t,i,f,a),i+=Number(r.lineHeight);n.restore()}function E_(n,e){const{x:t,y:i,w:r,h:a,radius:l}=e;n.arc(t+l.topLeft,i+l.topLeft,l.topLeft,1.5*nn,nn,!0),n.lineTo(t,i+a-l.bottomLeft),n.arc(t+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,nn,qt,!0),n.lineTo(t+r-l.bottomRight,i+a),n.arc(t+r-l.bottomRight,i+a-l.bottomRight,l.bottomRight,qt,0,!0),n.lineTo(t+r,i+l.topRight),n.arc(t+r-l.topRight,i+l.topRight,l.topRight,0,-qt,!0),n.lineTo(t+l.topLeft,i)}const Pq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Lq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Vq(n,e){const t=(""+n).match(Pq);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const jq=n=>+n||0;function l0(n,e){const t={},i=Ke(e),r=i?Object.keys(e):e,a=Ke(n)?i?l=>it(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of r)t[l]=jq(a(l));return t}function Uq(n){return l0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function th(n){return l0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Mi(n){const e=Uq(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Vn(n,e){n=n||{},e=e||It.font;let t=it(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=it(n.style,e.style);i&&!(""+i).match(Lq)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:it(n.family,e.family),lineHeight:Vq(it(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:it(n.weight,e.weight),string:""};return r.string=kq(r),r}function Cf(n,e,t,i){let r,a,l;for(r=0,a=n.length;r<a;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function zq(n,e,t){const{min:i,max:r}=n,a=Ak(e,(r-i)/2),l=(u,h)=>t&&u===0?0:u+h;return{min:l(i,-Math.abs(a)),max:l(r,a)}}function dc(n,e){return Object.assign(Object.create(n),e)}function c0(n,e=[""],t,i,r=()=>n[0]){const a=t||n;typeof i>"u"&&(i=Pk("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:r,override:u=>c0([u,...n],e,a,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return Ok(u,h,()=>Yq(h,e,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return Vx(u).includes(h)},ownKeys(u){return Vx(u)},set(u,h,f){const p=u._storage||(u._storage=r());return u[h]=p[h]=f,delete u._keys,!0}})}function Jl(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Mk(n,i),setContext:a=>Jl(n,a,t,i),override:a=>Jl(n.override(a),e,t,i)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return Ok(a,l,()=>Hq(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function Mk(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:pa(t)?t:()=>t,isIndexable:pa(i)?i:()=>i}}const Bq=(n,e)=>n?n+r0(e):e,u0=(n,e)=>Ke(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Ok(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function Hq(n,e,t){const{_proxy:i,_context:r,_subProxy:a,_descriptors:l}=n;let u=i[e];return pa(u)&&l.isScriptable(e)&&(u=Fq(e,u,n,t)),un(u)&&u.length&&(u=qq(e,u,n,l.isIndexable)),u0(e,u)&&(u=Jl(u,r,a&&a[e],l)),u}function Fq(n,e,t,i){const{_proxy:r,_context:a,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=e(a,l||i);return u.delete(n),u0(n,h)&&(h=h0(r._scopes,r,n,h)),h}function qq(n,e,t,i){const{_proxy:r,_context:a,_subProxy:l,_descriptors:u}=t;if(typeof a.index<"u"&&i(n))return e[a.index%e.length];if(Ke(e[0])){const h=e,f=r._scopes.filter(p=>p!==h);e=[];for(const p of h){const v=h0(f,r,n,p);e.push(Jl(v,a,l&&l[n],u))}}return e}function Nk(n,e,t){return pa(n)?n(e,t):n}const Wq=(n,e)=>n===!0?e:typeof n=="string"?_h(e,n):void 0;function Gq(n,e,t,i,r){for(const a of e){const l=Wq(t,a);if(l){n.add(l);const u=Nk(l._fallback,t,r);if(typeof u<"u"&&u!==t&&u!==i)return u}else if(l===!1&&typeof i<"u"&&t!==i)return null}return!1}function h0(n,e,t,i){const r=e._rootScopes,a=Nk(e._fallback,t,i),l=[...n,...r],u=new Set;u.add(i);let h=Lx(u,l,t,a||t,i);return h===null||typeof a<"u"&&a!==t&&(h=Lx(u,l,a,h,i),h===null)?!1:c0(Array.from(u),[""],r,a,()=>$q(e,t,i))}function Lx(n,e,t,i,r){for(;t;)t=Gq(n,e,t,i,r);return t}function $q(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return un(r)&&Ke(t)?t:r||{}}function Yq(n,e,t,i){let r;for(const a of e)if(r=Pk(Bq(a,n),t),typeof r<"u")return u0(n,r)?h0(t,i,n,r):r}function Pk(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function Vx(n){let e=n._keys;return e||(e=n._keys=Qq(n._scopes)),e}function Qq(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function d0(){return typeof window<"u"&&typeof document<"u"}function f0(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Yg(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Op=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Kq(n,e){return Op(n).getPropertyValue(e)}const Xq=["top","right","bottom","left"];function go(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const a=Xq[r];i[a]=parseFloat(n[e+"-"+a+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Zq=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Jq(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:a}=i;let l=!1,u,h;if(Zq(r,a,n.target))u=r,h=a;else{const f=e.getBoundingClientRect();u=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function ao(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=Op(t),a=r.boxSizing==="border-box",l=go(r,"padding"),u=go(r,"border","width"),{x:h,y:f,box:p}=Jq(n,t),v=l.left+(p&&u.left),_=l.top+(p&&u.top);let{width:b,height:T}=e;return a&&(b-=l.width+u.width,T-=l.height+u.height),{x:Math.round((h-v)/b*t.width/i),y:Math.round((f-_)/T*t.height/i)}}function e8(n,e,t){let i,r;if(e===void 0||t===void 0){const a=n&&f0(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),u=Op(a),h=go(u,"border","width"),f=go(u,"padding");e=l.width-f.width-h.width,t=l.height-f.height-h.height,i=Yg(u.maxWidth,a,"clientWidth"),r=Yg(u.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:i||qg,maxHeight:r||qg}}const Df=n=>Math.round(n*10)/10;function t8(n,e,t,i){const r=Op(n),a=go(r,"margin"),l=Yg(r.maxWidth,n,"clientWidth")||qg,u=Yg(r.maxHeight,n,"clientHeight")||qg,h=e8(n,e,t);let{width:f,height:p}=h;if(r.boxSizing==="content-box"){const _=go(r,"border","width"),b=go(r,"padding");f-=b.width+_.width,p-=b.height+_.height}return f=Math.max(0,f-a.width),p=Math.max(0,i?f/i:p-a.height),f=Df(Math.min(f,l,h.maxWidth)),p=Df(Math.min(p,u,h.maxHeight)),f&&!p&&(p=Df(f/2)),(e!==void 0||t!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=Df(Math.floor(p*i))),{width:f,height:p}}function jx(n,e,t){const i=e||1,r=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==a?(n.currentDevicePixelRatio=i,l.height=r,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const n8=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};d0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Ux(n,e){const t=Kq(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const i8=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},r8=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Bl(n,e,t){return n?i8(e,t):r8()}function Lk(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Vk(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class s8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const a=t.listeners[r],l=t.duration;a.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=xk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(r.draw(),this._notify(r,i,e,"progress")),a.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var zr=new s8;const zx="transparent",a8={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=kx(n||zx),r=i.valid&&kx(e||zx);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class o8{constructor(e,t,i,r){const a=t[i];r=Cf([e.to,r,a,e.from]);const l=Cf([e.from,a,r]);this._active=!0,this._fn=e.fn||a8[e.type||typeof l],this._easing=Ju[e.easing]||Ju.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Cf([e.to,t,r,e.from]),this._from=Cf([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||t<i),!this._active){this._target[r]=u,this._notify(!0);return}if(t<0){this._target[r]=a;return}h=t/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(a,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class jk{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ke(e))return;const t=Object.keys(It.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const a=e[r];if(!Ke(a))return;const l={};for(const u of t)l[u]=a[u];(un(a.properties)&&a.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,t){const i=t.options,r=c8(e,i);if(!r)return[];const a=this._createAnimations(r,i);return i.$shared&&l8(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,t){const i=this._properties,r=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,t));continue}const p=t[f];let v=a[f];const _=i.get(f);if(v)if(_&&v.active()){v.update(_,p,u);continue}else v.cancel();if(!_||!_.duration){e[f]=p;continue}a[f]=v=new o8(_,e,f,p),r.push(v)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return zr.add(this._chart,i),!0}}function l8(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const a=n[i[r]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function c8(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Bx(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:i?a:r,end:i?r:a}}function u8(n,e,t){if(t===!1)return!1;const i=Bx(n,t),r=Bx(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function h8(n){let e,t,i,r;return Ke(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function Uk(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,a;for(r=0,a=i.length;r<a;++r)t.push(i[r].index);return t}function Hx(n,e,t,i={}){const r=n.keys,a=i.mode==="single";let l,u,h,f;if(e===null)return;let p=!1;for(l=0,u=r.length;l<u;++l){if(h=+r[l],h===t){if(p=!0,i.all)continue;break}f=n.values[h],ns(f)&&(a||e===0||Rx(e)===Rx(f))&&(e+=f)}return!p&&!i.all?0:e}function d8(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],u[h]={[r]:p,[a]:n[p]};return u}function wv(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function f8(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function g8(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function p8(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Fx(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const a=n[r.index];if(t&&a>0||!t&&a<0)return r.index}return null}function qx(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:u}=i,h=a.axis,f=l.axis,p=f8(a,l,i),v=e.length;let _;for(let b=0;b<v;++b){const T=e[b],{[h]:R,[f]:x}=T,M=T._stacks||(T._stacks={});_=M[f]=p8(r,p,R),_[u]=x,_._top=Fx(_,l,!0,i.type),_._bottom=Fx(_,l,!1,i.type);const V=_._visualValues||(_._visualValues={});V[u]=x}}function Sv(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function m8(n,e){return dc(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function y8(n,e,t){return dc(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Au(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const a=r._stacks;if(!a||a[i]===void 0||a[i][t]===void 0)return;delete a[i][t],a[i]._visualValues!==void 0&&a[i]._visualValues[t]!==void 0&&delete a[i]._visualValues[t]}}}const Tv=n=>n==="reset"||n==="none",Wx=(n,e)=>e?n:Object.assign({},n),v8=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Uk(t,!0),values:null};class nh{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=wv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Au(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(v,_,b,T)=>v==="x"?_:v==="r"?T:b,a=t.xAxisID=it(i.xAxisID,Sv(e,"x")),l=t.yAxisID=it(i.yAxisID,Sv(e,"y")),u=t.rAxisID=it(i.rAxisID,Sv(e,"r")),h=t.indexAxis,f=t.iAxisID=r(h,a,l,u),p=t.vAxisID=r(h,l,a,u);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Cx(this._data,this),e._stacked&&Au(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Ke(t)){const r=this._cachedMeta;this._data=d8(t,r)}else if(i!==t){if(i){Cx(i,this);const r=this._cachedMeta;Au(r),r._parsed=[]}t&&Object.isExtensible(t)&&yq(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const a=t._stacked;t._stacked=wv(t.vScale,t),t.stack!==i.stack&&(r=!0,Au(t),t.stack=i.stack),this._resyncElements(e),(r||a!==t._stacked)&&(qx(this,t._parsed),t._stacked=wv(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:a,_stacked:l}=i,u=a.axis;let h=e===0&&t===r.length?!0:i._sorted,f=e>0&&i._parsed[e-1],p,v,_;if(this._parsing===!1)i._parsed=r,i._sorted=!0,_=r;else{un(r[e])?_=this.parseArrayData(i,r,e,t):Ke(r[e])?_=this.parseObjectData(i,r,e,t):_=this.parsePrimitiveData(i,r,e,t);const b=()=>v[u]===null||f&&v[u]<f[u];for(p=0;p<t;++p)i._parsed[p+e]=v=_[p],h&&(b()&&(h=!1),f=v);i._sorted=h}l&&qx(this,_)}parsePrimitiveData(e,t,i,r){const{iScale:a,vScale:l}=e,u=a.axis,h=l.axis,f=a.getLabels(),p=a===l,v=new Array(r);let _,b,T;for(_=0,b=r;_<b;++_)T=_+i,v[_]={[u]:p||a.parse(f[T],T),[h]:l.parse(t[T],T)};return v}parseArrayData(e,t,i,r){const{xScale:a,yScale:l}=e,u=new Array(r);let h,f,p,v;for(h=0,f=r;h<f;++h)p=h+i,v=t[p],u[h]={x:a.parse(v[0],p),y:l.parse(v[1],p)};return u}parseObjectData(e,t,i,r){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(r);let p,v,_,b;for(p=0,v=r;p<v;++p)_=p+i,b=t[_],f[p]={x:a.parse(_h(b,u),_),y:l.parse(_h(b,h),_)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,a=this._cachedMeta,l=t[e.axis],u={keys:Uk(r,!0),values:t._stacks[e.axis]._visualValues};return Hx(u,l,a.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const a=i[t.axis];let l=a===null?NaN:a;const u=r&&i._stacks[t.axis];r&&u&&(r.values=u,l=Hx(r,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,a=i._sorted&&e===i.iScale,l=r.length,u=this._getOtherScale(e),h=v8(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:v}=g8(u);let _,b;function T(){b=r[_];const R=b[u.axis];return!ns(b[e.axis])||p>R||v<R}for(_=0;_<l&&!(!T()&&(this.updateRangeFromParsed(f,e,b,h),a));++_);if(a){for(_=l-1;_>=0;--_)if(!T()){this.updateRangeFromParsed(f,e,b,h);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,a,l;for(r=0,a=t.length;r<a;++r)l=t[r][e.axis],ns(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=h8(it(this.options.clip,u8(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],a=t.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,a,u,h),p=u;p<u+h;++p){const v=r[p];v.hidden||(v.active&&f?l.push(v):v.draw(e,a))}for(p=0;p<l.length;++p)l[p].draw(e,a)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=y8(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=r.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=m8(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",a=this._cachedDataOpts,l=e+"-"+t,u=a[l],h=this.enableOptionSharing&&Fg(i);if(u)return Wx(u,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),v=r?[`${e}Hover`,"hover",e,""]:[e,""],_=f.getOptionScopes(this.getDataset(),p),b=Object.keys(It.elements[e]),T=()=>this.getContext(i,r,t),R=f.resolveNamedOptions(_,b,T,v);return R.$shared&&(R.$shared=h,a[l]=Object.freeze(Wx(R,h))),R}_resolveAnimations(e,t,i){const r=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,u=a[l];if(u)return u;let h;if(r.options.animation!==!1){const p=this.chart.config,v=p.datasetAnimationScopeKeys(this._type,t),_=p.getOptionScopes(this.getDataset(),v);h=p.createResolver(_,this.getContext(e,i,t))}const f=new jk(r,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Tv(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(t,a)||a!==r;return this.updateSharedOptions(a,t,i),{sharedOptions:a,includeOptions:l}}updateElement(e,t,i,r){Tv(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!Tv(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const a=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const r=i.length,a=t.length,l=Math.min(a,r);l&&this.parse(0,l),a>r?this._insertElements(r,a-r,e):a<r&&this._removeElements(a,r-a)}_insertElements(e,t,i=!0){const r=this._cachedMeta,a=r.data,l=e+t;let u;const h=f=>{for(f.length+=t,u=f.length-1;u>=l;u--)f[u]=f[u-t]};for(h(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(e,t),i&&this.updateElements(a,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&Au(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Le(nh,"defaults",{}),Le(nh,"datasetElementType",null),Le(nh,"dataElementType",null);function _8(n,e,t){let i=1,r=1,a=0,l=0;if(e<Vt){const u=n,h=u+e,f=Math.cos(u),p=Math.sin(u),v=Math.cos(h),_=Math.sin(h),b=(z,$,J)=>Gg(z,u,h,!0)?1:Math.max($,$*t,J,J*t),T=(z,$,J)=>Gg(z,u,h,!0)?-1:Math.min($,$*t,J,J*t),R=b(0,f,v),x=b(qt,p,_),M=T(nn,f,v),V=T(nn+qt,p,_);i=(R-M)/2,r=(x-V)/2,a=-(R+M)/2,l=-(x+V)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:l}}class Vu extends nh{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let a=h=>+i[h];if(Ke(i[e])){const{key:h="value"}=this._parsing;a=f=>+_h(i[f],h)}let l,u;for(l=e,u=e+t;l<u;++l)r._parsed[l]=a(l)}}_getRotation(){return ho(this.options.rotation-90)}_getCircumference(){return ho(this.options.circumference)}_getRotationExtents(){let e=Vt,t=-Vt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,a=r._getRotation(),l=r._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,a=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(iq(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:p,rotation:v}=this._getRotationExtents(),{ratioX:_,ratioY:b,offsetX:T,offsetY:R}=_8(v,p,h),x=(i.width-l)/_,M=(i.height-l)/b,V=Math.max(Math.min(x,M)/2,0),z=Ak(this.options.radius,V),$=Math.max(z*h,0),J=(z-$)/this._getVisibleDatasetWeightTotal();this.offsetX=T*z,this.offsetY=R*z,r.total=this.calculateTotal(),this.outerRadius=z-J*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-J*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,a=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*a/Vt)}updateElements(e,t,i,r){const a=r==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,p=(u.left+u.right)/2,v=(u.top+u.bottom)/2,_=a&&f.animateScale,b=_?0:this.innerRadius,T=_?0:this.outerRadius,{sharedOptions:R,includeOptions:x}=this._getSharedOptions(t,r);let M=this._getRotation(),V;for(V=0;V<t;++V)M+=this._circumference(V,a);for(V=t;V<t+i;++V){const z=this._circumference(V,a),$=e[V],J={x:p+this.offsetX,y:v+this.offsetY,startAngle:M,endAngle:M+z,circumference:z,outerRadius:T,innerRadius:b};x&&(J.options=R||this.resolveDataElementOptions(V,$.active?"active":r)),M+=z,this.updateElement($,V,J,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const a=e._parsed[r];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Vt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],a=xq(t._parsed[e],i.options.locale);return{label:r[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,a,l,u,h;if(!e){for(r=0,a=i.data.datasets.length;r<a;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),e=l.data,u=l.controller;break}}if(!e)return 0;for(r=0,a=e.length;r<a;++r)h=u.resolveDataElementOptions(r),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const a=this.resolveDataElementOptions(i);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(it(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Le(Vu,"id","doughnut"),Le(Vu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Le(Vu,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Le(Vu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((a,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});function no(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class g0{constructor(e){Le(this,"options");this.options=e||{}}static override(e){Object.assign(g0.prototype,e)}init(){}formats(){return no()}parse(){return no()}format(){return no()}add(){return no()}diff(){return no()}startOf(){return no()}endOf(){return no()}}var b8={_date:g0};function E8(n,e,t,i){const{controller:r,data:a,_sorted:l}=n,u=r._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const f=u._reversePixels?pq:__;if(i){if(r._sharedOptions){const p=a[0],v=typeof p.getRange=="function"&&p.getRange(e);if(v){const _=f(a,e,t-v),b=f(a,e,t+v);return{lo:_.lo,hi:b.hi}}}}else{const p=f(a,e,t);if(h){const{vScale:v}=r._cachedMeta,{_parsed:_}=n,b=_.slice(0,p.lo+1).reverse().findIndex(R=>!bn(R[v.axis]));p.lo-=Math.max(0,b);const T=_.slice(p.hi).findIndex(R=>!bn(R[v.axis]));p.hi+=Math.max(0,T)}return p}}return{lo:0,hi:a.length-1}}function Np(n,e,t,i,r){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,h=a.length;u<h;++u){const{index:f,data:p}=a[u],{lo:v,hi:_}=E8(a[u],e,l,r);for(let b=v;b<=_;++b){const T=p[b];T.skip||i(T,f,b)}}}function A8(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const a=e?Math.abs(i.x-r.x):0,l=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function xv(n,e,t,i,r){const a=[];return!r&&!n.isPointInArea(e)||Np(n,t,e,function(u,h,f){!r&&!kk(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&a.push({element:u,datasetIndex:h,index:f})},!0),a}function w8(n,e,t,i){let r=[];function a(l,u,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:v}=Sk(l,{x:e.x,y:e.y});Gg(v,f,p)&&r.push({element:l,datasetIndex:u,index:h})}return Np(n,t,e,a),r}function S8(n,e,t,i,r,a){let l=[];const u=A8(t);let h=Number.POSITIVE_INFINITY;function f(p,v,_){const b=p.inRange(e.x,e.y,r);if(i&&!b)return;const T=p.getCenterPoint(r);if(!(!!a||n.isPointInArea(T))&&!b)return;const x=u(e,T);x<h?(l=[{element:p,datasetIndex:v,index:_}],h=x):x===h&&l.push({element:p,datasetIndex:v,index:_})}return Np(n,t,e,f),l}function Rv(n,e,t,i,r,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!i?w8(n,e,t,r):S8(n,e,t,i,r,a)}function Gx(n,e,t,i,r){const a=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return Np(n,t,e,(h,f,p)=>{h[l]&&h[l](e[t],r)&&(a.push({element:h,datasetIndex:f,index:p}),u=u||h.inRange(e.x,e.y,r))}),i&&!u?[]:a}var T8={modes:{index(n,e,t,i){const r=ao(e,n),a=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?xv(n,r,a,i,l):Rv(n,r,a,!1,i,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,v=f.data[p];v&&!v.skip&&h.push({element:v,datasetIndex:f.index,index:p})}),h):[]},dataset(n,e,t,i){const r=ao(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?xv(n,r,a,i,l):Rv(n,r,a,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:h,index:p})}return u},point(n,e,t,i){const r=ao(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return xv(n,r,a,i,l)},nearest(n,e,t,i){const r=ao(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Rv(n,r,a,t.intersect,i,l)},x(n,e,t,i){const r=ao(e,n);return Gx(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=ao(e,n);return Gx(n,r,"y",t.intersect,i)}}};const zk=["left","top","right","bottom"];function wu(n,e){return n.filter(t=>t.pos===e)}function $x(n,e){return n.filter(t=>zk.indexOf(t.pos)===-1&&t.box.axis===e)}function Su(n,e){return n.sort((t,i)=>{const r=e?i:t,a=e?t:i;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function x8(n){const e=[];let t,i,r,a,l,u;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:a,options:{stack:l,stackWeight:u=1}}=r,e.push({index:t,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&a+l,stackWeight:u});return e}function R8(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:a}=t;if(!i||!zk.includes(r))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function C8(n,e){const t=R8(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:h}=u.box,f=t[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:h&&e.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:h&&e.availableHeight)}return t}function D8(n){const e=x8(n),t=Su(e.filter(f=>f.box.fullSize),!0),i=Su(wu(e,"left"),!0),r=Su(wu(e,"right")),a=Su(wu(e,"top"),!0),l=Su(wu(e,"bottom")),u=$x(e,"x"),h=$x(e,"y");return{fullSize:t,leftAndTop:i.concat(a),rightAndBottom:r.concat(h).concat(l).concat(u),chartArea:wu(e,"chartArea"),vertical:i.concat(r).concat(h),horizontal:a.concat(l).concat(u)}}function Yx(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function Bk(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function I8(n,e,t,i){const{pos:r,box:a}=t,l=n.maxPadding;if(!Ke(r)){t.size&&(n[r]-=t.size);const v=i[t.stack]||{size:0,count:1};v.size=Math.max(v.size,t.horizontal?a.height:a.width),t.size=v.size/v.count,n[r]+=t.size}a.getPadding&&Bk(l,a.getPadding());const u=Math.max(0,e.outerWidth-Yx(l,n,"left","right")),h=Math.max(0,e.outerHeight-Yx(l,n,"top","bottom")),f=u!==n.w,p=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:f,other:p}:{same:p,other:f}}function k8(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function M8(n,e){const t=e.maxPadding;function i(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return i(n?["left","right"]:["top","bottom"])}function ju(n,e,t,i){const r=[];let a,l,u,h,f,p;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],h=u.box,h.update(u.width||e.w,u.height||e.h,M8(u.horizontal,e));const{same:v,other:_}=I8(e,t,u,i);f|=v&&r.length,p=p||_,h.fullSize||r.push(u)}return f&&ju(r,e,t,i)||p}function If(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function Qx(n,e,t,i){const r=t.padding;let{x:a,y:l}=e;for(const u of n){const h=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const v=e.w*p,_=f.size||h.height;Fg(f.start)&&(l=f.start),h.fullSize?If(h,r.left,l,t.outerWidth-r.right-r.left,_):If(h,e.left+f.placed,l,v,_),f.start=l,f.placed+=v,l=h.bottom}else{const v=e.h*p,_=f.size||h.width;Fg(f.start)&&(a=f.start),h.fullSize?If(h,a,r.top,_,t.outerHeight-r.bottom-r.top):If(h,a,e.top+f.placed,_,v),f.start=a,f.placed+=v,a=h.right}}e.x=a,e.y=l}var Zs={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=Mi(n.options.layout.padding),a=Math.max(e-r.width,0),l=Math.max(t-r.height,0),u=D8(n.boxes),h=u.vertical,f=u.horizontal;nt(n.boxes,R=>{typeof R.beforeLayout=="function"&&R.beforeLayout()});const p=h.reduce((R,x)=>x.box.options&&x.box.options.display===!1?R:R+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},r);Bk(_,Mi(i));const b=Object.assign({maxPadding:_,w:a,h:l,x:r.left,y:r.top},r),T=C8(h.concat(f),v);ju(u.fullSize,b,v,T),ju(h,b,v,T),ju(f,b,v,T)&&ju(h,b,v,T),k8(b),Qx(u.leftAndTop,b,v,T),b.x+=b.w,b.y+=b.h,Qx(u.rightAndBottom,b,v,T),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},nt(u.chartArea,R=>{const x=R.box;Object.assign(x,n.chartArea),x.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class Hk{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class O8 extends Hk{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const eg="$chartjs",N8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Kx=n=>n===null||n==="";function P8(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[eg]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Kx(r)){const a=Ux(n,"width");a!==void 0&&(n.width=a)}if(Kx(i))if(n.style.height==="")n.height=n.width/(e||2);else{const a=Ux(n,"height");a!==void 0&&(n.height=a)}return n}const Fk=n8?{passive:!0}:!1;function L8(n,e,t){n&&n.addEventListener(e,t,Fk)}function V8(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Fk)}function j8(n,e){const t=N8[n.type]||n.type,{x:i,y:r}=ao(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Qg(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function U8(n,e,t){const i=n.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Qg(u.addedNodes,i),l=l&&!Qg(u.removedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function z8(n,e,t){const i=n.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Qg(u.removedNodes,i),l=l&&!Qg(u.addedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const bh=new Map;let Xx=0;function qk(){const n=window.devicePixelRatio;n!==Xx&&(Xx=n,bh.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function B8(n,e){bh.size||window.addEventListener("resize",qk),bh.set(n,e)}function H8(n){bh.delete(n),bh.size||window.removeEventListener("resize",qk)}function F8(n,e,t){const i=n.canvas,r=i&&f0(i);if(!r)return;const a=Rk((u,h)=>{const f=r.clientWidth;t(u,h),f<r.clientWidth&&t()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(r),B8(n,a),l}function Cv(n,e,t){t&&t.disconnect(),e==="resize"&&H8(n)}function q8(n,e,t){const i=n.canvas,r=Rk(a=>{n.ctx!==null&&t(j8(a,n))},n);return L8(i,e,r),r}class W8 extends Hk{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(P8(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[eg])return!1;const i=t[eg].initial;["height","width"].forEach(a=>{const l=i[a];bn(l)?t.removeAttribute(a):t.setAttribute(a,l)});const r=i.style||{};return Object.keys(r).forEach(a=>{t.style[a]=r[a]}),t.width=t.width,delete t[eg],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),l={attach:U8,detach:z8,resize:F8}[t]||q8;r[t]=l(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Cv,detach:Cv,resize:Cv}[t]||V8)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return t8(e,t,i,r)}isAttached(e){const t=e&&f0(e);return!!(t&&t.isConnected)}}function G8(n){return!d0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?O8:W8}class So{constructor(){Le(this,"x");Le(this,"y");Le(this,"active",!1);Le(this,"options");Le(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Wg(this.x)&&Wg(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(a=>{r[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),r}}Le(So,"defaults",{}),Le(So,"defaultRoutes");function $8(n,e){const t=n.options.ticks,i=Y8(n),r=Math.min(t.maxTicksLimit||i,i),a=t.major.enabled?K8(e):[],l=a.length,u=a[0],h=a[l-1],f=[];if(l>r)return X8(e,f,a,l/r),f;const p=Q8(a,e,r);if(l>0){let v,_;const b=l>1?Math.round((h-u)/(l-1)):null;for(kf(e,f,p,bn(b)?0:u-b,u),v=0,_=l-1;v<_;v++)kf(e,f,p,a[v],a[v+1]);return kf(e,f,p,h,bn(b)?e.length:h+b),f}return kf(e,f,p),f}function Y8(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function Q8(n,e,t){const i=Z8(n),r=e.length/t;if(!i)return Math.max(r,1);const a=uq(i);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>r)return h}return Math.max(r,1)}function K8(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function X8(n,e,t,i){let r=0,a=t[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(e.push(n[l]),r++,a=t[r*i])}function kf(n,e,t,i,r){const a=it(i,0),l=Math.min(it(r,n.length),n.length);let u=0,h,f,p;for(t=Math.ceil(t),r&&(h=r-i,t=h/Math.floor(h/t)),p=a;p<0;)u++,p=Math.round(a+u*t);for(f=Math.max(a,0);f<l;f++)f===p&&(e.push(n[f]),u++,p=Math.round(a+u*t))}function Z8(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const J8=n=>n==="left"?"right":n==="right"?"left":n,Zx=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Jx=(n,e)=>Math.min(e||n,n);function eR(n,e){const t=[],i=n.length/e,r=n.length;let a=0;for(;a<r;a+=i)t.push(n[Math.floor(a)]);return t}function eW(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),a=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(r),f;if(!(t&&(i===1?f=Math.max(h-a,l-h):e===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(r-1))/2,h+=r<e?f:-f,h<a-u||h>l+u)))return h}function tW(n,e){nt(n,t=>{const i=t.gc,r=i.length/2;let a;if(r>e){for(a=0;a<r;++a)delete t.data[i[a]];i.splice(0,r)}})}function Tu(n){return n.drawTicks?n.tickLength:0}function tR(n,e){if(!n.display)return 0;const t=Vn(n.font,e),i=Mi(n.padding);return(un(n.text)?n.text.length:1)*t.lineHeight+i.height}function nW(n,e){return dc(n,{scale:e,type:"scale"})}function iW(n,e,t){return dc(n,{tick:t,index:e,type:"tick"})}function rW(n,e,t){let i=Ck(n);return(t&&e!=="right"||!t&&e==="right")&&(i=J8(i)),i}function sW(n,e,t,i){const{top:r,left:a,bottom:l,right:u,chart:h}=n,{chartArea:f,scales:p}=h;let v=0,_,b,T;const R=l-r,x=u-a;if(n.isHorizontal()){if(b=$n(i,a,u),Ke(t)){const M=Object.keys(t)[0],V=t[M];T=p[M].getPixelForValue(V)+R-e}else t==="center"?T=(f.bottom+f.top)/2+R-e:T=Zx(n,t,e);_=u-a}else{if(Ke(t)){const M=Object.keys(t)[0],V=t[M];b=p[M].getPixelForValue(V)-x+e}else t==="center"?b=(f.left+f.right)/2-x+e:b=Zx(n,t,e);T=$n(i,l,r),v=t==="left"?-qt:qt}return{titleX:b,titleY:T,maxWidth:_,rotation:v}}class Pp extends So{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=Zi(e,Number.POSITIVE_INFINITY),t=Zi(t,Number.NEGATIVE_INFINITY),i=Zi(i,Number.POSITIVE_INFINITY),r=Zi(r,Number.NEGATIVE_INFINITY),{min:Zi(e,i),max:Zi(t,r),minDefined:ns(e),maxDefined:ns(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:a}=this.getUserBounds(),l;if(r&&a)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,e),r||(t=Math.min(t,l.min)),a||(i=Math.max(i,l.max));return t=a&&t>i?i:t,i=r&&t>i?t:i,{min:Zi(t,Zi(i,t)),max:Zi(i,Zi(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ct(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zq(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?eR(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=$8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ct(this.options.afterUpdate,[this])}beforeSetDimensions(){ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ct(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ct(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,a;for(i=0,r=e.length;i<r;i++)a=e[i],a.label=ct(t.callback,[a.value,i,e],this)}afterTickToLabelConversion(){ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=Jx(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,a=t.maxRotation;let l=r,u,h,f;if(!this._isVisible()||!t.display||r>=a||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),v=p.widest.width,_=p.highest.height,b=mi(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/i:b/(i-1),v+6>u&&(u=b/(i-(e.offset?.5:1)),h=this.maxHeight-Tu(e.grid)-t.padding-tR(e.title,this.chart.options.font),f=Math.sqrt(v*v+_*_),l=dq(Math.min(Math.asin(mi((p.highest.height+6)/u,-1,1)),Math.asin(mi(h/f,-1,1))-Math.asin(mi(_/f,-1,1)))),l=Math.max(r,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ct(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=tR(r,t.options.font);if(u?(e.width=this.maxWidth,e.height=Tu(a)+h):(e.height=this.maxHeight,e.width=Tu(a)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:v,highest:_}=this._getLabelSizes(),b=i.padding*2,T=ho(this.labelRotation),R=Math.cos(T),x=Math.sin(T);if(u){const M=i.mirror?0:x*v.width+R*_.height;e.height=Math.min(this.maxHeight,e.height+M+b)}else{const M=i.mirror?0:R*v.width+x*_.height;e.width=Math.min(this.maxWidth,e.width+M+b)}this._calculatePadding(f,p,x,R)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,b=0;h?f?(_=r*e.width,b=i*t.height):(_=i*e.height,b=r*t.width):a==="start"?b=t.width:a==="end"?_=e.width:a!=="inner"&&(_=e.width/2,b=t.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-v+l)*this.width/(this.width-v),0)}else{let p=t.height/2,v=e.height/2;a==="start"?(p=0,v=e.height):a==="end"&&(p=t.height,v=0),this.paddingTop=p+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ct(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)bn(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=eR(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(t/Jx(t,i));let f=0,p=0,v,_,b,T,R,x,M,V,z,$,J;for(v=0;v<t;v+=h){if(T=e[v].label,R=this._resolveTickFontOptions(v),r.font=x=R.string,M=a[x]=a[x]||{data:{},gc:[]},V=R.lineHeight,z=$=0,!bn(T)&&!un(T))z=Ox(r,M.data,M.gc,z,T),$=V;else if(un(T))for(_=0,b=T.length;_<b;++_)J=T[_],!bn(J)&&!un(J)&&(z=Ox(r,M.data,M.gc,z,J),$+=V);l.push(z),u.push($),f=Math.max(z,f),p=Math.max($,p)}tW(a,t);const ne=l.indexOf(f),N=u.indexOf(p),D=I=>({width:l[I]||0,height:u[I]||0});return{first:D(0),last:D(t-1),widest:D(ne),highest:D(N),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return gq(this._alignToPixels?to(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=iW(this.getContext(),e,i))}return this.$context||(this.$context=nW(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=ho(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>u*r?u/i:h/r:h*r<u*i?h/i:u/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:a,position:l,border:u}=r,h=a.offset,f=this.isHorizontal(),v=this.ticks.length+(h?1:0),_=Tu(a),b=[],T=u.setContext(this.getContext()),R=T.display?T.width:0,x=R/2,M=function(oe){return to(i,oe,R)};let V,z,$,J,ne,N,D,I,O,j,B,P;if(l==="top")V=M(this.bottom),N=this.bottom-_,I=V-x,j=M(e.top)+x,P=e.bottom;else if(l==="bottom")V=M(this.top),j=e.top,P=M(e.bottom)-x,N=V+x,I=this.top+_;else if(l==="left")V=M(this.right),ne=this.right-_,D=V-x,O=M(e.left)+x,B=e.right;else if(l==="right")V=M(this.left),O=e.left,B=M(e.right)-x,ne=V+x,D=this.left+_;else if(t==="x"){if(l==="center")V=M((e.top+e.bottom)/2+.5);else if(Ke(l)){const oe=Object.keys(l)[0],fe=l[oe];V=M(this.chart.scales[oe].getPixelForValue(fe))}j=e.top,P=e.bottom,N=V+x,I=N+_}else if(t==="y"){if(l==="center")V=M((e.left+e.right)/2);else if(Ke(l)){const oe=Object.keys(l)[0],fe=l[oe];V=M(this.chart.scales[oe].getPixelForValue(fe))}ne=V-x,D=ne-_,O=e.left,B=e.right}const Oe=it(r.ticks.maxTicksLimit,v),Te=Math.max(1,Math.ceil(v/Oe));for(z=0;z<v;z+=Te){const oe=this.getContext(z),fe=a.setContext(oe),ge=u.setContext(oe),Ee=fe.lineWidth,U=fe.color,le=ge.dash||[],me=ge.dashOffset,he=fe.tickWidth,ue=fe.tickColor,de=fe.tickBorderDash||[],_e=fe.tickBorderDashOffset;$=eW(this,z,h),$!==void 0&&(J=to(i,$,Ee),f?ne=D=O=B=J:N=I=j=P=J,b.push({tx1:ne,ty1:N,tx2:D,ty2:I,x1:O,y1:j,x2:B,y2:P,width:Ee,color:U,borderDash:le,borderDashOffset:me,tickWidth:he,tickColor:ue,tickBorderDash:de,tickBorderDashOffset:_e}))}return this._ticksLength=v,this._borderValue=V,b}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:p,mirror:v}=a,_=Tu(i.grid),b=_+p,T=v?-p:b,R=-ho(this.labelRotation),x=[];let M,V,z,$,J,ne,N,D,I,O,j,B,P="middle";if(r==="top")ne=this.bottom-T,N=this._getXAxisLabelAlignment();else if(r==="bottom")ne=this.top+T,N=this._getXAxisLabelAlignment();else if(r==="left"){const Te=this._getYAxisLabelAlignment(_);N=Te.textAlign,J=Te.x}else if(r==="right"){const Te=this._getYAxisLabelAlignment(_);N=Te.textAlign,J=Te.x}else if(t==="x"){if(r==="center")ne=(e.top+e.bottom)/2+b;else if(Ke(r)){const Te=Object.keys(r)[0],oe=r[Te];ne=this.chart.scales[Te].getPixelForValue(oe)+b}N=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")J=(e.left+e.right)/2-b;else if(Ke(r)){const Te=Object.keys(r)[0],oe=r[Te];J=this.chart.scales[Te].getPixelForValue(oe)}N=this._getYAxisLabelAlignment(_).textAlign}t==="y"&&(h==="start"?P="top":h==="end"&&(P="bottom"));const Oe=this._getLabelSizes();for(M=0,V=u.length;M<V;++M){z=u[M],$=z.label;const Te=a.setContext(this.getContext(M));D=this.getPixelForTick(M)+a.labelOffset,I=this._resolveTickFontOptions(M),O=I.lineHeight,j=un($)?$.length:1;const oe=j/2,fe=Te.color,ge=Te.textStrokeColor,Ee=Te.textStrokeWidth;let U=N;l?(J=D,N==="inner"&&(M===V-1?U=this.options.reverse?"left":"right":M===0?U=this.options.reverse?"right":"left":U="center"),r==="top"?f==="near"||R!==0?B=-j*O+O/2:f==="center"?B=-Oe.highest.height/2-oe*O+O:B=-Oe.highest.height+O/2:f==="near"||R!==0?B=O/2:f==="center"?B=Oe.highest.height/2-oe*O:B=Oe.highest.height-j*O,v&&(B*=-1),R!==0&&!Te.showLabelBackdrop&&(J+=O/2*Math.sin(R))):(ne=D,B=(1-j)*O/2);let le;if(Te.showLabelBackdrop){const me=Mi(Te.backdropPadding),he=Oe.heights[M],ue=Oe.widths[M];let de=B-me.top,_e=0-me.left;switch(P){case"middle":de-=he/2;break;case"bottom":de-=he;break}switch(N){case"center":_e-=ue/2;break;case"right":_e-=ue;break;case"inner":M===V-1?_e-=ue:M>0&&(_e-=ue/2);break}le={left:_e,top:de,width:ue+me.width,height:he+me.height,color:Te.backdropColor}}x.push({label:$,font:I,textOffset:B,options:{rotation:R,color:fe,strokeColor:ge,strokeWidth:Ee,textAlign:U,textBaseline:P,translation:[J,ne],backdrop:le}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ho(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,h=l.widest.width;let f,p;return t==="left"?r?(p=this.right+a,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):t==="right"?r?(p=this.left+a,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(a=>a.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(a=0,l=r.length;a<l;++a){const h=r[a];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,v,_;this.isHorizontal()?(f=to(e,this.left,l)-l/2,p=to(e,this.right,u)+u/2,v=_=h):(v=to(e,this.top,l)-l/2,_=to(e,this.bottom,u)+u/2,f=p=h),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(f,v),t.lineTo(p,_),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&a0(i,r);const a=this.getLabelItems(e);for(const l of a){const u=l.options,h=l.font,f=l.label,p=l.textOffset;$g(i,f,0,p,h,u)}r&&o0(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const a=Vn(i.font),l=Mi(i.padding),u=i.align;let h=a.lineHeight/2;t==="bottom"||t==="center"||Ke(t)?(h+=l.bottom,un(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:v,rotation:_}=sW(this,h,t,u);$g(e,i.text,0,0,a,{color:i.color,maxWidth:v,rotation:_,textAlign:rW(u,t,r),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=it(e.grid&&e.grid.z,-1),r=it(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Pp.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let a,l;for(a=0,l=t.length;a<l;++a){const u=t[a];u[i]===this.id&&(!e||u.type===e)&&r.push(u)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Vn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Mf{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;lW(t)&&(i=this.register(t));const r=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in r||(r[a]=e,aW(e,l,i),this.override&&It.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in It[r]&&(delete It[r][i],this.override&&delete wo[i])}}function aW(n,e,t){const i=vh(Object.create(null),[t?It.get(t):{},It.get(e),n.defaults]);It.set(e,i),n.defaultRoutes&&oW(e,n.defaultRoutes),n.descriptors&&It.describe(e,n.descriptors)}function oW(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),a=[n].concat(i).join("."),l=e[t].split("."),u=l.pop(),h=l.join(".");It.route(a,r,h,u)})}function lW(n){return"id"in n&&"defaults"in n}class cW{constructor(){this.controllers=new Mf(nh,"datasets",!0),this.elements=new Mf(So,"elements"),this.plugins=new Mf(Object,"plugins"),this.scales=new Mf(Pp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const a=i||this._getRegistryForType(r);i||a.isForType(r)||a===this.plugins&&r.id?this._exec(e,a,r):nt(r,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,i){const r=r0(e);ct(i["before"+r],[],i),t[e](i),ct(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var er=new cW;class uW{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=r?this._descriptors(e).filter(r):this._descriptors(e),l=this._notify(a,e,t,i);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,i,r){r=r||{};for(const a of e){const l=a.plugin,u=l[i],h=[t,r,a.options];if(ct(u,h,l)===!1&&r.cancelable)return!1}return!0}invalidate(){bn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=it(i.options&&i.options.plugins,{}),a=hW(i);return r===!1&&!t?[]:fW(e,a,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function hW(n){const e={},t=[],i=Object.keys(er.plugins.items);for(let a=0;a<i.length;a++)t.push(er.getPlugin(i[a]));const r=n.plugins||[];for(let a=0;a<r.length;a++){const l=r[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function dW(n,e){return!e&&n===!1?null:n===!0?{}:n}function fW(n,{plugins:e,localIds:t},i,r){const a=[],l=n.getContext();for(const u of e){const h=u.id,f=dW(i[h],r);f!==null&&a.push({plugin:u,options:gW(n.config,{plugin:u,local:t[h]},f,l)})}return a}function gW(n,{plugin:e,local:t},i,r){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(i,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function A_(n,e){const t=It.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function pW(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function mW(n,e){return n===e?"_index_":"_value_"}function nR(n){if(n==="x"||n==="y"||n==="r")return n}function yW(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function w_(n,...e){if(nR(n))return n;for(const t of e){const i=t.axis||yW(t.position)||n.length>1&&nR(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function iR(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function vW(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return iR(n,"x",t[0])||iR(n,"y",t[0])}return{}}function _W(n,e){const t=wo[n.type]||{scales:{}},i=e.scales||{},r=A_(n.type,e),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Ke(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=w_(l,u,vW(l,n),It.scales[u.type]),f=mW(h,r),p=t.scales||{};a[l]=Zu(Object.create(null),[{axis:h},u,p[h],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||A_(u,e),p=(wo[u]||{}).scales||{};Object.keys(p).forEach(v=>{const _=pW(v,h),b=l[_+"AxisID"]||_;a[b]=a[b]||Object.create(null),Zu(a[b],[{axis:_},i[b],p[v]])})}),Object.keys(a).forEach(l=>{const u=a[l];Zu(u,[It.scales[u.type],It.scale])}),a}function Wk(n){const e=n.options||(n.options={});e.plugins=it(e.plugins,{}),e.scales=_W(n,e)}function Gk(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function bW(n){return n=n||{},n.data=Gk(n.data),Wk(n),n}const rR=new Map,$k=new Set;function Of(n,e){let t=rR.get(n);return t||(t=e(),rR.set(n,t),$k.add(t)),t}const xu=(n,e,t)=>{const i=_h(e,t);i!==void 0&&n.add(i)};class EW{constructor(e){this._config=bW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Gk(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Wk(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Of(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Of(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Of(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return Of(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:a}=this,l=this._cachedScopes(e,i),u=l.get(t);if(u)return u;const h=new Set;t.forEach(p=>{e&&(h.add(e),p.forEach(v=>xu(h,e,v))),p.forEach(v=>xu(h,r,v)),p.forEach(v=>xu(h,wo[a]||{},v)),p.forEach(v=>xu(h,It,v)),p.forEach(v=>xu(h,b_,v))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),$k.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,wo[t]||{},It.datasets[t]||{},{type:t},It,b_]}resolveNamedOptions(e,t,i,r=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=sR(this._resolverCache,e,r);let h=l;if(wW(l,t)){a.$shared=!1,i=pa(i)?i():i;const f=this.createResolver(e,i,u);h=Jl(l,i,f)}for(const f of t)a[f]=h[f];return a}createResolver(e,t,i=[""],r){const{resolver:a}=sR(this._resolverCache,e,i);return Ke(t)?Jl(a,t,void 0,r):a}}function sR(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let a=i.get(r);return a||(a={resolver:c0(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,a)),a}const AW=n=>Ke(n)&&Object.getOwnPropertyNames(n).some(e=>pa(n[e]));function wW(n,e){const{isScriptable:t,isIndexable:i}=Mk(n);for(const r of e){const a=t(r),l=i(r),u=(l||a)&&n[r];if(a&&(pa(u)||AW(u))||l&&un(u))return!0}return!1}var SW="4.4.8";const TW=["top","bottom","left","right","chartArea"];function aR(n,e){return n==="top"||n==="bottom"||TW.indexOf(n)===-1&&e==="x"}function oR(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function lR(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),ct(t&&t.onComplete,[n],e)}function xW(n){const e=n.chart,t=e.options.animation;ct(t&&t.onProgress,[n],e)}function Yk(n){return d0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const tg={},cR=n=>{const e=Yk(n);return Object.values(tg).filter(t=>t.canvas===e).pop()};function RW(n,e,t){const i=Object.keys(n);for(const r of i){const a=+r;if(a>=e){const l=n[r];delete n[r],(t>0||a>e)&&(n[a+t]=l)}}}function CW(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}function Nf(n,e,t){return n.options.clip?n[t]:e[t]}function DW(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Nf(t,e,"left"),right:Nf(t,e,"right"),top:Nf(i,e,"top"),bottom:Nf(i,e,"bottom")}:e}var Fs;let Lp=(Fs=class{static register(...e){er.add(...e),uR()}static unregister(...e){er.remove(...e),uR()}constructor(e,t){const i=this.config=new EW(t),r=Yk(e),a=cR(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||G8(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,p=h&&h.width;if(this.id=nq(),this.ctx=u,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new uW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=_q(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],tg[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}zr.listen(this,"complete",lR),zr.listen(this,"progress",xW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:a}=this;return bn(e)?t&&a?a:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return er}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():jx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Nx(this.canvas,this.ctx),this}stop(){return zr.stop(this),this}resize(e,t){zr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,e,t,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,jx(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),ct(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};nt(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const u=t[l],h=w_(l,u),f=h==="r",p=h==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),nt(a,l=>{const u=l.options,h=u.id,f=w_(h,u),p=it(u.type,l.dtype);(u.position===void 0||aR(u.position,f)!==aR(l.dposition))&&(u.position=l.dposition),r[h]=!0;let v=null;if(h in i&&i[h].type===p)v=i[h];else{const _=er.getScale(p);v=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,e)}),nt(r,(l,u)=>{l||delete i[u]}),nt(i,l=>{Zs.configure(this,l,l.options),Zs.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,a)=>r.index-a.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(oR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const a=t[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||A_(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=er.getController(u),{datasetElementType:f,dataElementType:p}=It.datasets[u];Object.assign(h,{dataElementType:er.getElement(p),datasetElementType:f&&er.getElement(f)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){nt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:v}=this.getDatasetMeta(f),_=!r&&a.indexOf(v)===-1;v.buildOrUpdateElements(_),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||nt(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(oR("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){nt(this.scales,e=>{Zs.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Tx(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:a}of t){const l=i==="_removeElements"?-a:a;RW(e,r,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let a=1;a<t;a++)if(!Tx(r,i(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Zs.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],nt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,pa(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zr.has(this)?this.attached&&!zr.running(this)&&zr.start(this):(this.draw(),lR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,a;for(r=0,a=t.length;r<a;++r){const l=t[r];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,r=!i.disabled,a=DW(e,this.chartArea),l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(r&&a0(t,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?this.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?this.height:a.bottom+i.bottom}),e.controller.draw(),r&&o0(t),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return kk(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const a=T8.modes[t];return typeof a=="function"?a(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(a=>a&&a._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=dc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,r);Fg(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),zr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Nx(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete tg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},r=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};nt(this.options.events,a=>i(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,f)=>{t.addEventListener(this,h,f),e[h]=f},r=(h,f)=>{e[h]&&(t.removeEventListener(this,h,f),delete e[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){nt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},nt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let a,l,u,h;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!Bg(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,a=(h,f)=>h.filter(p=>!f.some(v=>p.datasetIndex===v.datasetIndex&&p.index===v.index)),l=a(t,e),u=i?e:a(e,t);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const a=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(a||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:a}=this,l=t,u=this._getActiveElements(e,r,i,l),h=lq(e),f=CW(e,this._lastEvent,i,h);i&&(this._lastEvent=null,ct(a.onHover,[e,u,this],this),h&&ct(a.onClick,[e,u,this],this));const p=!Bg(u,r);return(p||t)&&(this._active=u,this._updateHoverStyles(u,r,t)),this._lastEvent=f,p}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,r)}},Le(Fs,"defaults",It),Le(Fs,"instances",tg),Le(Fs,"overrides",wo),Le(Fs,"registry",er),Le(Fs,"version",SW),Le(Fs,"getChart",cR),Fs);function uR(){return nt(Lp.instances,n=>n._plugins.invalidate())}function IW(n,e,t){const{startAngle:i,pixelMargin:r,x:a,y:l,outerRadius:u,innerRadius:h}=e;let f=r/u;n.beginPath(),n.arc(a,l,u,i-f,t+f),h>r?(f=r/h,n.arc(a,l,h,t+f,i-f,!0)):n.arc(a,l,r,t+qt,i-qt),n.closePath(),n.clip()}function kW(n){return l0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function MW(n,e,t,i){const r=kW(n.options.borderRadius),a=(t-e)/2,l=Math.min(a,i*e/2),u=h=>{const f=(t-Math.min(a,h))*i/2;return mi(h,0,Math.min(a,f))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:mi(r.innerStart,0,l),innerEnd:mi(r.innerEnd,0,l)}}function Rl(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Kg(n,e,t,i,r,a){const{x:l,y:u,startAngle:h,pixelMargin:f,innerRadius:p}=e,v=Math.max(e.outerRadius+i+t-f,0),_=p>0?p+i+t+f:0;let b=0;const T=r-h;if(i){const Te=p>0?p-i:0,oe=v>0?v-i:0,fe=(Te+oe)/2,ge=fe!==0?T*fe/(fe+i):T;b=(T-ge)/2}const R=Math.max(.001,T*v-t/nn)/v,x=(T-R)/2,M=h+x+b,V=r-x-b,{outerStart:z,outerEnd:$,innerStart:J,innerEnd:ne}=MW(e,_,v,V-M),N=v-z,D=v-$,I=M+z/N,O=V-$/D,j=_+J,B=_+ne,P=M+J/j,Oe=V-ne/B;if(n.beginPath(),a){const Te=(I+O)/2;if(n.arc(l,u,v,I,Te),n.arc(l,u,v,Te,O),$>0){const Ee=Rl(D,O,l,u);n.arc(Ee.x,Ee.y,$,O,V+qt)}const oe=Rl(B,V,l,u);if(n.lineTo(oe.x,oe.y),ne>0){const Ee=Rl(B,Oe,l,u);n.arc(Ee.x,Ee.y,ne,V+qt,Oe+Math.PI)}const fe=(V-ne/_+(M+J/_))/2;if(n.arc(l,u,_,V-ne/_,fe,!0),n.arc(l,u,_,fe,M+J/_,!0),J>0){const Ee=Rl(j,P,l,u);n.arc(Ee.x,Ee.y,J,P+Math.PI,M-qt)}const ge=Rl(N,M,l,u);if(n.lineTo(ge.x,ge.y),z>0){const Ee=Rl(N,I,l,u);n.arc(Ee.x,Ee.y,z,M-qt,I)}}else{n.moveTo(l,u);const Te=Math.cos(I)*v+l,oe=Math.sin(I)*v+u;n.lineTo(Te,oe);const fe=Math.cos(O)*v+l,ge=Math.sin(O)*v+u;n.lineTo(fe,ge)}n.closePath()}function OW(n,e,t,i,r){const{fullCircles:a,startAngle:l,circumference:u}=e;let h=e.endAngle;if(a){Kg(n,e,t,i,h,r);for(let f=0;f<a;++f)n.fill();isNaN(u)||(h=l+(u%Vt||Vt))}return Kg(n,e,t,i,h,r),n.fill(),h}function NW(n,e,t,i,r){const{fullCircles:a,startAngle:l,circumference:u,options:h}=e,{borderWidth:f,borderJoinStyle:p,borderDash:v,borderDashOffset:_}=h,b=h.borderAlign==="inner";if(!f)return;n.setLineDash(v||[]),n.lineDashOffset=_,b?(n.lineWidth=f*2,n.lineJoin=p||"round"):(n.lineWidth=f,n.lineJoin=p||"bevel");let T=e.endAngle;if(a){Kg(n,e,t,i,T,r);for(let R=0;R<a;++R)n.stroke();isNaN(u)||(T=l+(u%Vt||Vt))}b&&IW(n,e,T),a||(Kg(n,e,t,i,T,r),n.stroke())}class Uu extends So{constructor(t){super();Le(this,"circumference");Le(this,"endAngle");Le(this,"fullCircles");Le(this,"innerRadius");Le(this,"outerRadius");Le(this,"pixelMargin");Le(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,r){const a=this.getProps(["x","y"],r),{angle:l,distance:u}=Sk(a,{x:t,y:i}),{startAngle:h,endAngle:f,innerRadius:p,outerRadius:v,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),b=(this.options.spacing+this.options.borderWidth)/2,T=it(_,f-h),R=Gg(l,h,f)&&h!==f,x=T>=Vt||R,M=Lu(u,p+b,v+b);return x&&M}getCenterPoint(t){const{x:i,y:r,startAngle:a,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:p}=this.options,v=(a+l)/2,_=(u+h+p+f)/2;return{x:i+Math.cos(v)*_,y:r+Math.sin(v)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:r}=this,a=(i.offset||0)/4,l=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Vt?Math.floor(r/Vt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*a,Math.sin(h)*a);const f=1-Math.sin(Math.min(nn,r||0)),p=a*f;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,OW(t,this,p,l,u),NW(t,this,p,l,u),t.restore()}}Le(Uu,"id","arc"),Le(Uu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Le(Uu,"defaultRoutes",{backgroundColor:"backgroundColor"}),Le(Uu,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});const hR=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},PW=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class dR extends So{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=ct(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Vn(i.font),a=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=hR(i,a);let f,p;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,u,h)+10):(p=this.maxHeight,f=this._fitCols(l,r,u,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+u;let v=e;a.textAlign="left",a.textBaseline="middle";let _=-1,b=-p;return this.legendItems.forEach((T,R)=>{const x=i+t/2+a.measureText(T.text).width;(R===0||f[f.length-1]+x+2*u>l)&&(v+=p,f[f.length-(R>0?0:1)]=0,b+=p,_++),h[R]={left:0,top:b,row:_,width:x,height:r},f[f.length-1]+=x+u}),v}_fitCols(e,t,i,r){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-e;let v=u,_=0,b=0,T=0,R=0;return this.legendItems.forEach((x,M)=>{const{itemWidth:V,itemHeight:z}=LW(i,t,a,x,r);M>0&&b+z+2*u>p&&(v+=_+u,f.push({width:_,height:b}),T+=_+u,R++,_=b=0),h[M]={left:T,top:b,col:R,width:V,height:z},_=Math.max(_,V),b+=z+u}),v+=_,f.push({width:_,height:b}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:a}}=this,l=Bl(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=$n(i,this.left+r,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,h=$n(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+e+r,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+r}else{let u=0,h=$n(i,this.top+e+r,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,h=$n(i,this.top+e+r,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+r,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;a0(e,this),this._draw(),o0(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:a,labels:l}=e,u=It.color,h=Bl(e.rtl,this.left,this.width),f=Vn(l.font),{padding:p}=l,v=f.size,_=v/2;let b;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:T,boxHeight:R,itemHeight:x}=hR(l,v),M=function(ne,N,D){if(isNaN(T)||T<=0||isNaN(R)||R<0)return;r.save();const I=it(D.lineWidth,1);if(r.fillStyle=it(D.fillStyle,u),r.lineCap=it(D.lineCap,"butt"),r.lineDashOffset=it(D.lineDashOffset,0),r.lineJoin=it(D.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=it(D.strokeStyle,u),r.setLineDash(it(D.lineDash,[])),l.usePointStyle){const O={radius:R*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:I},j=h.xPlus(ne,T/2),B=N+_;Ik(r,O,j,B,l.pointStyleWidth&&T)}else{const O=N+Math.max((v-R)/2,0),j=h.leftForLtr(ne,T),B=th(D.borderRadius);r.beginPath(),Object.values(B).some(P=>P!==0)?E_(r,{x:j,y:O,w:T,h:R,radius:B}):r.rect(j,O,T,R),r.fill(),I!==0&&r.stroke()}r.restore()},V=function(ne,N,D){$g(r,D.text,ne,N+x/2,f,{strikethrough:D.hidden,textAlign:h.textAlign(D.textAlign)})},z=this.isHorizontal(),$=this._computeTitleHeight();z?b={x:$n(a,this.left+p,this.right-i[0]),y:this.top+p+$,line:0}:b={x:this.left+p,y:$n(a,this.top+$+p,this.bottom-t[0].height),line:0},Lk(this.ctx,e.textDirection);const J=x+p;this.legendItems.forEach((ne,N)=>{r.strokeStyle=ne.fontColor,r.fillStyle=ne.fontColor;const D=r.measureText(ne.text).width,I=h.textAlign(ne.textAlign||(ne.textAlign=l.textAlign)),O=T+_+D;let j=b.x,B=b.y;h.setWidth(this.width),z?N>0&&j+O+p>this.right&&(B=b.y+=J,b.line++,j=b.x=$n(a,this.left+p,this.right-i[b.line])):N>0&&B+J>this.bottom&&(j=b.x=j+t[b.line].width+p,b.line++,B=b.y=$n(a,this.top+$+p,this.bottom-t[b.line].height));const P=h.x(j);if(M(P,B,ne),j=bq(I,j+T+_,z?j+O:this.right,e.rtl),V(h.x(j),B,ne),z)b.x+=O+p;else if(typeof ne.text!="string"){const Oe=f.lineHeight;b.y+=Qk(ne,Oe)+p}else b.y+=J}),Vk(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Vn(t.font),r=Mi(t.padding);if(!t.display)return;const a=Bl(e.rtl,this.left,this.width),l=this.ctx,u=t.position,h=i.size/2,f=r.top+h;let p,v=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,v=$n(e.align,v,this.right-_);else{const T=this.columnSizes.reduce((R,x)=>Math.max(R,x.height),0);p=f+$n(e.align,this.top,this.bottom-T-e.labels.padding-this._computeTitleHeight())}const b=$n(u,v,v+_);l.textAlign=a.textAlign(Ck(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=i.string,$g(l,t.text,b,p,i)}_computeTitleHeight(){const e=this.options.title,t=Vn(e.font),i=Mi(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,a;if(Lu(e,this.left,this.right)&&Lu(t,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(r=a[i],Lu(e,r.left,r.left+r.width)&&Lu(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!UW(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,a=PW(r,i);r&&!a&&ct(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!a&&ct(t.onHover,[e,i,this],this)}else i&&ct(t.onClick,[e,i,this],this)}}function LW(n,e,t,i,r){const a=VW(i,n,e,t),l=jW(r,i,e.lineHeight);return{itemWidth:a,itemHeight:l}}function VW(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+i.measureText(r).width}function jW(n,e,t){let i=n;return typeof e.text!="string"&&(i=Qk(e,t)),i}function Qk(n,e){const t=n.text?n.text.length:0;return e*t}function UW(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var zW={id:"legend",_element:dR,start(n,e,t){const i=n.legend=new dR({ctx:n.ctx,options:t,chart:n});Zs.configure(n,i,t),Zs.addBox(n,i)},stop(n){Zs.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Zs.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(t?0:void 0),p=Mi(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const zu={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,a=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),r+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:r/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=fq(e,f);p<r&&(r=p,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function Ji(n,e){return e&&(un(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Br(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function BW(n,e){const{element:t,datasetIndex:i,index:r}=e,a=n.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(r);return{chart:n,label:l,parsed:a.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function fR(n,e){const t=n.chart.ctx,{body:i,footer:r,title:a}=n,{boxWidth:l,boxHeight:u}=e,h=Vn(e.bodyFont),f=Vn(e.titleFont),p=Vn(e.footerFont),v=a.length,_=r.length,b=i.length,T=Mi(e.padding);let R=T.height,x=0,M=i.reduce(($,J)=>$+J.before.length+J.lines.length+J.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,v&&(R+=v*f.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),M){const $=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;R+=b*$+(M-b)*h.lineHeight+(M-1)*e.bodySpacing}_&&(R+=e.footerMarginTop+_*p.lineHeight+(_-1)*e.footerSpacing);let V=0;const z=function($){x=Math.max(x,t.measureText($).width+V)};return t.save(),t.font=f.string,nt(n.title,z),t.font=h.string,nt(n.beforeBody.concat(n.afterBody),z),V=e.displayColors?l+2+e.boxPadding:0,nt(i,$=>{nt($.before,z),nt($.lines,z),nt($.after,z)}),V=0,t.font=p.string,nt(n.footer,z),t.restore(),x+=T.width,{width:x,height:R}}function HW(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function FW(n,e,t,i){const{x:r,width:a}=i,l=t.caretSize+t.caretPadding;if(n==="left"&&r+a+l>e.width||n==="right"&&r-a-l<0)return!0}function qW(n,e,t,i){const{x:r,width:a}=t,{width:l,chartArea:{left:u,right:h}}=n;let f="center";return i==="center"?f=r<=(u+h)/2?"left":"right":r<=a/2?f="left":r>=l-a/2&&(f="right"),FW(f,n,e,t)&&(f="center"),f}function gR(n,e,t){const i=t.yAlign||e.yAlign||HW(n,t);return{xAlign:t.xAlign||e.xAlign||qW(n,e,t,i),yAlign:i}}function WW(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function GW(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function pR(n,e,t,i){const{caretSize:r,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:h}=t,f=r+a,{topLeft:p,topRight:v,bottomLeft:_,bottomRight:b}=th(l);let T=WW(e,u);const R=GW(e,h,f);return h==="center"?u==="left"?T+=f:u==="right"&&(T-=f):u==="left"?T-=Math.max(p,_)+r:u==="right"&&(T+=Math.max(v,b)+r),{x:mi(T,0,i.width-e.width),y:mi(R,0,i.height-e.height)}}function Pf(n,e,t){const i=Mi(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function mR(n){return Ji([],Br(n))}function $W(n,e,t){return dc(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function yR(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Kk={beforeTitle:Ur,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Ur,beforeBody:Ur,beforeLabel:Ur,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return bn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ur,afterBody:Ur,beforeFooter:Ur,footer:Ur,afterFooter:Ur};function Mn(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?Kk[e].call(t,i):r}class S_ extends So{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,a=new jk(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=$W(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Mn(i,"beforeTitle",this,e),a=Mn(i,"title",this,e),l=Mn(i,"afterTitle",this,e);let u=[];return u=Ji(u,Br(r)),u=Ji(u,Br(a)),u=Ji(u,Br(l)),u}getBeforeBody(e,t){return mR(Mn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return nt(e,a=>{const l={before:[],lines:[],after:[]},u=yR(i,a);Ji(l.before,Br(Mn(u,"beforeLabel",this,a))),Ji(l.lines,Mn(u,"label",this,a)),Ji(l.after,Br(Mn(u,"afterLabel",this,a))),r.push(l)}),r}getAfterBody(e,t){return mR(Mn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Mn(i,"beforeFooter",this,e),a=Mn(i,"footer",this,e),l=Mn(i,"afterFooter",this,e);let u=[];return u=Ji(u,Br(r)),u=Ji(u,Br(a)),u=Ji(u,Br(l)),u}_createItems(e){const t=this._active,i=this.chart.data,r=[],a=[],l=[];let u=[],h,f;for(h=0,f=t.length;h<f;++h)u.push(BW(this.chart,t[h]));return e.filter&&(u=u.filter((p,v,_)=>e.filter(p,v,_,i))),e.itemSort&&(u=u.sort((p,v)=>e.itemSort(p,v,i))),nt(u,p=>{const v=yR(e.callbacks,p);r.push(Mn(v,"labelColor",this,p)),a.push(Mn(v,"labelPointStyle",this,p)),l.push(Mn(v,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let a,l=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const u=zu[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=fR(this,i),f=Object.assign({},u,h),p=gR(this.chart,i,f),v=pR(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const a=this.getCaretPosition(e,i,r);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:v}=th(u),{x:_,y:b}=e,{width:T,height:R}=t;let x,M,V,z,$,J;return a==="center"?($=b+R/2,r==="left"?(x=_,M=x-l,z=$+l,J=$-l):(x=_+T,M=x+l,z=$-l,J=$+l),V=x):(r==="left"?M=_+Math.max(h,p)+l:r==="right"?M=_+T-Math.max(f,v)-l:M=this.caretX,a==="top"?(z=b,$=z-l,x=M-l,V=M+l):(z=b+R,$=z+l,x=M+l,V=M-l),J=z),{x1:x,x2:M,x3:V,y1:z,y2:$,y3:J}}drawTitle(e,t,i){const r=this.title,a=r.length;let l,u,h;if(a){const f=Bl(i.rtl,this.x,this.width);for(e.x=Pf(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",l=Vn(i.titleFont),u=i.titleSpacing,t.fillStyle=i.titleColor,t.font=l.string,h=0;h<a;++h)t.fillText(r[h],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===a&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,t,i,r,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,p=Vn(a.bodyFont),v=Pf(this,"left",a),_=r.x(v),b=h<p.lineHeight?(p.lineHeight-h)/2:0,T=t.y+b;if(a.usePointStyle){const R={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},x=r.leftForLtr(_,f)+f/2,M=T+h/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Px(e,R,x,M),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Px(e,R,x,M)}else{e.lineWidth=Ke(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const R=r.leftForLtr(_,f),x=r.leftForLtr(r.xPlus(_,1),f-2),M=th(l.borderRadius);Object.values(M).some(V=>V!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,E_(e,{x:R,y:T,w:f,h,radius:M}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),E_(e,{x,y:T+1,w:f-2,h:h-2,radius:M}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(R,T,f,h),e.strokeRect(R,T,f,h),e.fillStyle=l.backgroundColor,e.fillRect(x,T+1,f-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:p}=i,v=Vn(i.bodyFont);let _=v.lineHeight,b=0;const T=Bl(i.rtl,this.x,this.width),R=function(D){t.fillText(D,T.x(e.x+b),e.y+_/2),e.y+=_+a},x=T.textAlign(l);let M,V,z,$,J,ne,N;for(t.textAlign=l,t.textBaseline="middle",t.font=v.string,e.x=Pf(this,x,i),t.fillStyle=i.bodyColor,nt(this.beforeBody,R),b=u&&x!=="right"?l==="center"?f/2+p:f+2+p:0,$=0,ne=r.length;$<ne;++$){for(M=r[$],V=this.labelTextColors[$],t.fillStyle=V,nt(M.before,R),z=M.lines,u&&z.length&&(this._drawColorBox(t,e,$,T,i),_=Math.max(v.lineHeight,h)),J=0,N=z.length;J<N;++J)R(z[J]),_=v.lineHeight;nt(M.after,R)}b=0,_=v.lineHeight,nt(this.afterBody,R),e.y-=a}drawFooter(e,t,i){const r=this.footer,a=r.length;let l,u;if(a){const h=Bl(i.rtl,this.x,this.width);for(e.x=Pf(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",l=Vn(i.footerFont),t.fillStyle=i.footerColor,t.font=l.string,u=0;u<a;++u)t.fillText(r[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=e,{width:f,height:p}=i,{topLeft:v,topRight:_,bottomLeft:b,bottomRight:T}=th(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(u+v,h),l==="top"&&this.drawCaret(e,t,i,r),t.lineTo(u+f-_,h),t.quadraticCurveTo(u+f,h,u+f,h+_),l==="center"&&a==="right"&&this.drawCaret(e,t,i,r),t.lineTo(u+f,h+p-T),t.quadraticCurveTo(u+f,h+p,u+f-T,h+p),l==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(u+b,h+p),t.quadraticCurveTo(u,h+p,u,h+p-b),l==="center"&&a==="left"&&this.drawCaret(e,t,i,r),t.lineTo(u,h+v),t.quadraticCurveTo(u,h,u+v,h),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,a=i&&i.y;if(r||a){const l=zu[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=fR(this,e),h=Object.assign({},l,this._size),f=gR(t,e,h),p=pR(e,h,f,t);(r._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Mi(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,r,t),Lk(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Vk(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),a=!Bg(i,r),l=this._positionChanged(r,t);(a||l)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,i),u=this._positionChanged(l,e),h=t||!Bg(l,a)||u;return h&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,r){const a=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:i,caretY:r,options:a}=this,l=zu[a.position].call(this,e,t);return l!==!1&&(i!==l.x||r!==l.y)}}Le(S_,"positioners",zu);var YW={id:"tooltip",_element:S_,positioners:zu,afterInit(n,e,t){t&&(n.tooltip=new S_({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Kk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Vp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pn=Object.keys(Vp);function vR(n,e){return n-e}function _R(n,e){if(bn(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:a}=n._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),ns(l)||(l=typeof i=="string"?t.parse(l,i):t.parse(l)),l===null?null:(r&&(l=r==="week"&&(Wg(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,r)),+l)}function bR(n,e,t,i){const r=Pn.length;for(let a=Pn.indexOf(n);a<r-1;++a){const l=Vp[Pn[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=i)return Pn[a]}return Pn[r-1]}function QW(n,e,t,i,r){for(let a=Pn.length-1;a>=Pn.indexOf(t);a--){const l=Pn[a];if(Vp[l].common&&n._adapter.diff(r,i,l)>=e-1)return l}return Pn[t?Pn.indexOf(t):0]}function KW(n){for(let e=Pn.indexOf(n)+1,t=Pn.length;e<t;++e)if(Vp[Pn[e]].common)return Pn[e]}function ER(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=s0(t,e),a=t[i]>=e?t[i]:t[r];n[a]=!0}}function XW(n,e,t,i){const r=n._adapter,a=+r.startOf(e[0].value,i),l=e[e.length-1].value;let u,h;for(u=a;u<=l;u=+r.add(u,1,i))h=t[u],h>=0&&(e[h].major=!0);return e}function AR(n,e,t){const i=[],r={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],r[u]=l,i.push({value:u,major:!1});return a===0||!t?i:XW(n,i,r,t)}class Xg extends Pp{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new b8._date(e.adapters.date);r.init(t),Zu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:_R(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=ns(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),a=ns(a)&&!isNaN(a)?a:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,l=this.max,u=mq(r,a,l);return this._unit=t.unit||(i.autoSkip?bR(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):QW(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:KW(this._unit),this.initOffsets(r),e.reverse&&u.reverse(),AR(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,a;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=mi(t,0,l),i=mi(i,0,l),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,a=r.time,l=a.unit||bR(a.minUnit,t,i,this._getLabelCapacity(t)),u=it(r.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=Wg(h)||h===!0,p={};let v=t,_,b;if(f&&(v=+e.startOf(v,"isoWeek",h)),v=+e.startOf(v,f?"day":l),e.diff(i,t,l)>1e5*u)throw new Error(t+" and "+i+" are too far apart with stepSize of "+u+" "+l);const T=r.ticks.source==="data"&&this.getDataTimestamps();for(_=v,b=0;_<i;_=+e.add(_,u,l),b++)ER(p,_,T);return(_===i||r.bounds==="ticks"||b===1)&&ER(p,_,T),Object.keys(p).sort(vR).map(R=>+R)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,a=this._unit,l=t||r[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,i,r){const a=this.options,l=a.ticks.callback;if(l)return ct(l,[e,t,i],this);const u=a.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&u[h],v=f&&u[f],_=i[t],b=f&&v&&_&&_.major;return this._adapter.format(e,r||(b?v:p))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=ho(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,a=this._tickFormatFunction(e,0,AR(this,[e],this._majorUnit),r),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(_R(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return vq(e.sort(vR))}}Le(Xg,"id","time"),Le(Xg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Lf(n,e,t){let i=0,r=n.length-1,a,l,u,h;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=__(n,"pos",e)),{pos:a,time:u}=n[i],{pos:l,time:h}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=__(n,"time",e)),{time:a,pos:u}=n[i],{time:l,pos:h}=n[r]);const f=l-a;return f?u+(h-u)*(e-a)/f:u}class wR extends Xg{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Lf(t,this.min),this._tableRange=Lf(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],a=[];let l,u,h,f,p;for(l=0,u=e.length;l<u;++l)f=e[l],f>=t&&f<=i&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)p=r[l+1],h=r[l-1],f=r[l],Math.round((p+h)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,a)=>r-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Lf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Lf(this._table,i*this._tableRange+this._minPos,!0)}}Le(wR,"id","timeseries"),Le(wR,"defaults",Xg.defaults);const Xk="label";function SR(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function ZW(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function Zk(n,e){n.labels=e}function Jk(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xk;const i=[];n.datasets=e.map(r=>{const a=n.datasets.find(l=>l[t]===r[t]);return!a||!r.data||i.includes(a)?{...r}:(i.push(a),Object.assign(a,r),a)})}function JW(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xk;const t={labels:[],datasets:[]};return Zk(t,n.labels),Jk(t,n.datasets,e),t}function eG(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:f=[],fallbackContent:p,updateMode:v,..._}=n,b=F.useRef(null),T=F.useRef(null),R=()=>{b.current&&(T.current=new Lp(b.current,{type:l,data:JW(u,a),options:h&&{...h},plugins:f}),SR(e,T.current))},x=()=>{SR(e,null),T.current&&(T.current.destroy(),T.current=null)};return F.useEffect(()=>{!r&&T.current&&h&&ZW(T.current,h)},[r,h]),F.useEffect(()=>{!r&&T.current&&Zk(T.current.config.data,u.labels)},[r,u.labels]),F.useEffect(()=>{!r&&T.current&&u.datasets&&Jk(T.current.config.data,u.datasets,a)},[r,u.datasets]),F.useEffect(()=>{T.current&&(r?(x(),setTimeout(R)):T.current.update(v))},[r,h,u.labels,u.datasets,v]),F.useEffect(()=>{T.current&&(x(),setTimeout(R))},[l]),F.useEffect(()=>(R(),()=>x()),[]),yi.createElement("canvas",{ref:b,role:"img",height:t,width:i,..._},p)}const tG=F.forwardRef(eG);function nG(n,e){return Lp.register(e),F.forwardRef((t,i)=>yi.createElement(tG,{...t,ref:i,type:n}))}const Ru=nG("doughnut",Vu);Lp.register(Uu,YW,zW);const Cu={responzive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},Vf=(n,e,t)=>({datasets:[{data:[n,Math.max(e-n,0)],backgroundColor:[t,"#E5E5E5"],borderWidth:0,cutout:"80%"}]}),iG=({data:n})=>{const{currentKcal:e,goalKcal:t,protein:i,carbs:r,fat:a,fiber:l,fluid:u,burned:h}=n,f=(R,x)=>x>0?Math.min((R/x*100).toFixed(0),100):0,p=f(i.current,i.goal),v=f(r.current,r.goal),_=f(a.current,a.goal),b=f(l.current,l.goal),T={datasets:[{data:[e,Math.max(t-e,0)],backgroundColor:["#F7941D","#E5E5E5"],borderWidth:0,cutout:"80%"}]};return A.jsxs("div",{className:"p-4",children:[A.jsxs("div",{className:"relative w-40 h-40 mx-auto",children:[A.jsx(Ru,{data:T,options:Cu}),A.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[A.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[e," kcal"]}),A.jsxs("div",{className:"text-sm text-gray-500",children:["z ",t," kcal"]})]})]}),A.jsxs("div",{className:"flex justify-around mt-6",children:[A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsxs("div",{className:"relative w-12 h-12",children:[A.jsx(Ru,{data:Vf(i.current,i.goal,"#69C267"),options:Cu}),A.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:A.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[p,"%"]})})]}),A.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Bielkoviny"}),A.jsxs("div",{className:"text-xs text-gray-700",children:[i.current," g z ",i.goal," g"]})]}),A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsxs("div",{className:"relative w-12 h-12",children:[A.jsx(Ru,{data:Vf(r.current,r.goal,"#F7941D"),options:Cu}),A.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:A.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[v,"%"]})})]}),A.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Sacharidy"}),A.jsxs("div",{className:"text-xs text-gray-700",children:[r.current," g z ",r.goal," g"]})]}),A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsxs("div",{className:"relative w-12 h-12",children:[A.jsx(Ru,{data:Vf(a.current,a.goal,"#F16664"),options:Cu}),A.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:A.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[_,"%"]})})]}),A.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Tuky"}),A.jsxs("div",{className:"text-xs text-gray-700",children:[a.current," g z ",a.goal," g"]})]}),A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsxs("div",{className:"relative w-12 h-12",children:[A.jsx(Ru,{data:Vf(l.current,l.goal,"#8E8E93"),options:Cu}),A.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:A.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[b,"%"]})})]}),A.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Vlknina"}),A.jsxs("div",{className:"text-xs text-gray-700",children:[l.current," g z ",l.goal," g"]})]})]}),A.jsxs("div",{className:"mt-4 text-center text-sm text-gray-700",children:[A.jsxs("p",{children:["Tekutiny: ",u.current," l z ",u.goal," l"]}),A.jsxs("p",{children:["Splen: ",h," kcal"]})]})]})},rG=({selectedDate:n,overviewData:e,eventsForDay:t})=>A.jsx("div",{className:"w-full lg:w-3/3 bg-white rounded-lg shadow p-4",children:n&&e?A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3",children:n}),A.jsx(iG,{data:e}),A.jsxs("div",{className:"mt-4",children:[A.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-2",children:"Jedl da"}),A.jsx("ul",{className:"space-y-2 text-sm",children:t.map((i,r)=>A.jsx("li",{className:"p-2 bg-green-100 rounded shadow border-l-4 border-green-500",children:i.title},r))})]})]}):A.jsx("div",{className:"text-gray-500 text-center",children:"Kliknite na de v kalendri pre zobrazenie detailov."})}),sG=({selectedDate:n,onAddFood:e})=>{const[t,i]=F.useState(""),r=a=>{if(a.preventDefault(),!t||!n)return;e({title:t,start:n,extendedProps:{kcal:0,protein:0,fat:0,carbs:0,fiber:0,fluid:0,burned:0}}),i("")};return A.jsxs("form",{onSubmit:r,className:"p-4 bg-white rounded-lg shadow mb-4",children:[A.jsx("h3",{className:"text-lg font-bold text-green-700 mb-2",children:"Prida jedlo"}),A.jsxs("div",{className:"mb-2",children:[A.jsx("label",{className:"block text-gray-700",children:"Nzov jedla:"}),A.jsx("input",{type:"text",value:t,onChange:a=>i(a.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Zadaj nzov jedla"})]}),A.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Prida"})]})},TR=()=>{const n=[{title:"Raajky: Ovsen kaa",start:"2025-09-01",extendedProps:{kcal:350,protein:10,fat:5,carbs:60,fiber:5,fluid:.2,burned:0}},{title:"Obed: Grilovan kuracie prsia",start:"2025-09-01",extendedProps:{kcal:500,protein:30,fat:15,carbs:40,fiber:2,fluid:.3,burned:0}},{title:"Veera: Zeleninov alt",start:"2025-09-01",extendedProps:{kcal:400,protein:15,fat:10,carbs:50,fiber:4,fluid:.2,burned:0}},{title:"Beh 30 mint",start:"2025-09-01",extendedProps:{kcal:-100,protein:0,fat:0,carbs:0,fiber:0,fluid:0,burned:100}},{title:"Raajky: Jogurt s ovocm",start:"2025-02-25",extendedProps:{kcal:300,protein:12,fat:8,carbs:45,fiber:3,fluid:.2,burned:0}}],[e,t]=F.useState(n),[i,r]=F.useState(null),[a,l]=F.useState(null);F.useEffect(()=>{if(i){const v=e.filter(_=>_.start===i);u(v)}},[e,i]);const u=v=>{let _=0,b=0,T=0,R=0,x=0,M=0,V=0;v.forEach($=>{const{kcal:J,protein:ne,fat:N,carbs:D,fiber:I,fluid:O,burned:j}=$.extendedProps;_+=J,b+=ne,T+=N,R+=D,x+=I,M+=O,V+=j});const z={currentKcal:Math.max(_,0),goalKcal:1500,protein:{current:b,goal:79},carbs:{current:R,goal:192},fat:{current:T,goal:43},fiber:{current:x,goal:28},fluid:{current:parseFloat(M.toFixed(1)),goal:1.2},burned:V};l(z)},h=v=>{r(v.dateStr)},f=v=>{t(_=>[..._,v])},p=i?e.filter(v=>v.start===i):[];return A.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4",children:[A.jsx(O7,{events:e,onDateClick:h}),A.jsxs("div",{className:"w-full lg:w-1/3",children:[i&&A.jsx(sG,{selectedDate:i,onAddFood:f}),A.jsx(rG,{selectedDate:i,overviewData:a,eventsForDay:p})]})]})},aG=()=>{const{pathname:n}=Ni();return F.useEffect(()=>{window.scrollTo(0,0)},[n]),null};function oG(){F.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")},[]);const[n,e]=F.useState(""),[t,i]=F.useState([]),[r,a]=F.useState(null),[l,u]=F.useState(!1),[h,f]=F.useState(!1),[p,v]=F.useState(""),_=ma(),b=Ni();F.useEffect(()=>{b.pathname==="/"&&f(!1)},[b.pathname]);const T=async()=>{_("/results"),e(""),u(!0),f(!0),v(n),setTimeout(async()=>{console.log(`Sending request to Nutritionix API: ${new Date().toISOString()}`);try{const R=`https://api.spoonacular.com/food/ingredients/search?query=${encodeURIComponent(n)}&number=10&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,x=await fetch(R);if(!x.ok)throw new Error(`Instant API HTTP error: ${x.status}`);const V=(await x.json()).results||[],z=await Promise.all(V.map(async $=>{var j;const J=`https://api.spoonacular.com/food/ingredients/${$.id}/information?amount=100&unit=grams&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,ne=await fetch(J);if(!ne.ok){const B=await ne.text();return console.error("Nutrients fetch error:",ne.status,B),{...$,nutrition:null}}const D=((j=(await ne.json()).nutrition)==null?void 0:j.nutrients)||[],I=B=>{const P=D.find(Oe=>Oe.name.toLowerCase()===B.toLowerCase());return P?P.amount:0},O={servingSize:"100g",photo:{thumb:`https://spoonacular.com/cdn/ingredients_500x500/${$.image}`},nf_calories:I("Calories"),nf_total_fat:I("Fat"),nf_protein:I("Protein"),nf_total_carbohydrate:I("Carbohydrates")};return{...$,food_name:$.name,nutrition:O}}));i(z),a(null)}catch(R){console.error("Fetch error:",R),a(R),i([])}finally{u(!1)}},500)};return A.jsxs("div",{children:[A.jsx(lH,{}),A.jsx(aG,{}),A.jsxs(IN,{children:[A.jsx(Cn,{path:"/register",element:A.jsx(yH,{})}),A.jsx(Cn,{path:"/terms",element:A.jsx(AH,{})}),A.jsx(Cn,{path:"/privacy",element:A.jsx(wH,{})}),A.jsx(Cn,{path:"/verify-email",element:A.jsx(vH,{})}),A.jsx(Cn,{path:"/login",element:A.jsx(EH,{})}),A.jsx(Cn,{path:"/logout",element:A.jsx(bH,{})}),A.jsx(Cn,{path:"/dashboard",element:A.jsxs(pf,{children:[" ",A.jsx(yT,{})," "]})}),A.jsx(Cn,{path:"/",element:A.jsxs(A.Fragment,{children:[A.jsx(cH,{}),A.jsx(uH,{query:n,setQuery:e,handleSearch:T,disabled:h}),A.jsx(fH,{}),A.jsx(mH,{})]})}),A.jsx(Cn,{path:"/results",element:A.jsx(hH,{results:t,searchTerm:p,error:r,query:n,setQuery:e,handleSearch:T,isLoading:l})}),A.jsx(Cn,{path:"/blog/:id",element:A.jsx(pH,{})}),A.jsxs(Cn,{path:"/dashboard",element:A.jsxs(pf,{children:[" ",A.jsx(yT,{})," "]}),children:[A.jsx(Cn,{index:!0,element:A.jsx(TR,{})}),A.jsx(Cn,{path:"calendar",element:A.jsxs(pf,{children:[" ",A.jsx(TR,{})," "]})}),A.jsx(Cn,{path:"my-foods",element:A.jsxs(pf,{children:[" ",A.jsx(TH,{})," "]})})]})]})]})}PO.createRoot(document.getElementById("root")).render(A.jsx(e2,{children:A.jsx(oG,{})}));
