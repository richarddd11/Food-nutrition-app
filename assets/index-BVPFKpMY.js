var vO=Object.defineProperty;var _O=(n,e,t)=>e in n?vO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var we=(n,e,t)=>_O(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function bO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ev={exports:{}},Nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS;function EO(){if(FS)return Nu;FS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,r){var l=null;if(r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),"key"in s){r={};for(var c in s)c!=="key"&&(r[c]=s[c])}else r=s;return s=r.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:r}}return Nu.Fragment=e,Nu.jsx=t,Nu.jsxs=t,Nu}var qS;function wO(){return qS||(qS=1,ev.exports=EO()),ev.exports}var w=wO(),tv={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GS;function SO(){if(GS)return Pe;GS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function A(F,oe,ge){this.props=F,this.context=oe,this.refs=x,this.updater=ge||b}A.prototype.isReactComponent={},A.prototype.setState=function(F,oe){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,oe,"setState")},A.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function I(){}I.prototype=A.prototype;function O(F,oe,ge){this.props=F,this.context=oe,this.refs=x,this.updater=ge||b}var j=O.prototype=new I;j.constructor=O,S(j,A.prototype),j.isPureReactComponent=!0;var B=Array.isArray,q={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function M(F,oe,ge,he,ue,Re){return ge=Re.ref,{$$typeof:n,type:F,key:oe,ref:ge!==void 0?ge:null,props:Re}}function C(F,oe){return M(F.type,oe,void 0,void 0,void 0,F.props)}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function P(F){var oe={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return oe[ge]})}var V=/\/+/g;function H(F,oe){return typeof F=="object"&&F!==null&&F.key!=null?P(""+F.key):oe.toString(36)}function L(){}function De(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(L,L):(F.status="pending",F.then(function(oe){F.status==="pending"&&(F.status="fulfilled",F.value=oe)},function(oe){F.status==="pending"&&(F.status="rejected",F.reason=oe)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function _e(F,oe,ge,he,ue){var Re=typeof F;(Re==="undefined"||Re==="boolean")&&(F=null);var Ae=!1;if(F===null)Ae=!0;else switch(Re){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(F.$$typeof){case n:case e:Ae=!0;break;case g:return Ae=F._init,_e(Ae(F._payload),oe,ge,he,ue)}}if(Ae)return ue=ue(F),Ae=he===""?"."+H(F,0):he,B(ue)?(ge="",Ae!=null&&(ge=Ae.replace(V,"$&/")+"/"),_e(ue,oe,ge,"",function(ft){return ft})):ue!=null&&(D(ue)&&(ue=C(ue,ge+(ue.key==null||F&&F.key===ue.key?"":(""+ue.key).replace(V,"$&/")+"/")+Ae)),oe.push(ue)),1;Ae=0;var Qe=he===""?".":he+":";if(B(F))for(var qe=0;qe<F.length;qe++)he=F[qe],Re=Qe+H(he,qe),Ae+=_e(he,oe,ge,Re,ue);else if(qe=_(F),typeof qe=="function")for(F=qe.call(F),qe=0;!(he=F.next()).done;)he=he.value,Re=Qe+H(he,qe++),Ae+=_e(he,oe,ge,Re,ue);else if(Re==="object"){if(typeof F.then=="function")return _e(De(F),oe,ge,he,ue);throw oe=String(F),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function re(F,oe,ge){if(F==null)return F;var he=[],ue=0;return _e(F,he,"","",function(Re){return oe.call(ge,Re,ue++)}),he}function de(F){if(F._status===-1){var oe=F._result;oe=oe(),oe.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=oe)}if(F._status===1)return F._result.default;throw F._result}var fe=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function be(){}return Pe.Children={map:re,forEach:function(F,oe,ge){re(F,function(){oe.apply(this,arguments)},ge)},count:function(F){var oe=0;return re(F,function(){oe++}),oe},toArray:function(F){return re(F,function(oe){return oe})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Pe.Component=A,Pe.Fragment=t,Pe.Profiler=s,Pe.PureComponent=O,Pe.StrictMode=i,Pe.Suspense=h,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Pe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Pe.cache=function(F){return function(){return F.apply(null,arguments)}},Pe.cloneElement=function(F,oe,ge){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var he=S({},F.props),ue=F.key,Re=void 0;if(oe!=null)for(Ae in oe.ref!==void 0&&(Re=void 0),oe.key!==void 0&&(ue=""+oe.key),oe)!K.call(oe,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&oe.ref===void 0||(he[Ae]=oe[Ae]);var Ae=arguments.length-2;if(Ae===1)he.children=ge;else if(1<Ae){for(var Qe=Array(Ae),qe=0;qe<Ae;qe++)Qe[qe]=arguments[qe+2];he.children=Qe}return M(F.type,ue,void 0,void 0,Re,he)},Pe.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:r,_context:F},F},Pe.createElement=function(F,oe,ge){var he,ue={},Re=null;if(oe!=null)for(he in oe.key!==void 0&&(Re=""+oe.key),oe)K.call(oe,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ue[he]=oe[he]);var Ae=arguments.length-2;if(Ae===1)ue.children=ge;else if(1<Ae){for(var Qe=Array(Ae),qe=0;qe<Ae;qe++)Qe[qe]=arguments[qe+2];ue.children=Qe}if(F&&F.defaultProps)for(he in Ae=F.defaultProps,Ae)ue[he]===void 0&&(ue[he]=Ae[he]);return M(F,Re,void 0,void 0,null,ue)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(F){return{$$typeof:c,render:F}},Pe.isValidElement=D,Pe.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:de}},Pe.memo=function(F,oe){return{$$typeof:d,type:F,compare:oe===void 0?null:oe}},Pe.startTransition=function(F){var oe=q.T,ge={};q.T=ge;try{var he=F(),ue=q.S;ue!==null&&ue(ge,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(be,fe)}catch(Re){fe(Re)}finally{q.T=oe}},Pe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Pe.use=function(F){return q.H.use(F)},Pe.useActionState=function(F,oe,ge){return q.H.useActionState(F,oe,ge)},Pe.useCallback=function(F,oe){return q.H.useCallback(F,oe)},Pe.useContext=function(F){return q.H.useContext(F)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(F,oe){return q.H.useDeferredValue(F,oe)},Pe.useEffect=function(F,oe){return q.H.useEffect(F,oe)},Pe.useId=function(){return q.H.useId()},Pe.useImperativeHandle=function(F,oe,ge){return q.H.useImperativeHandle(F,oe,ge)},Pe.useInsertionEffect=function(F,oe){return q.H.useInsertionEffect(F,oe)},Pe.useLayoutEffect=function(F,oe){return q.H.useLayoutEffect(F,oe)},Pe.useMemo=function(F,oe){return q.H.useMemo(F,oe)},Pe.useOptimistic=function(F,oe){return q.H.useOptimistic(F,oe)},Pe.useReducer=function(F,oe,ge){return q.H.useReducer(F,oe,ge)},Pe.useRef=function(F){return q.H.useRef(F)},Pe.useState=function(F){return q.H.useState(F)},Pe.useSyncExternalStore=function(F,oe,ge){return q.H.useSyncExternalStore(F,oe,ge)},Pe.useTransition=function(){return q.H.useTransition()},Pe.version="19.0.0",Pe}var WS;function $_(){return WS||(WS=1,tv.exports=SO()),tv.exports}var z=$_();const Ti=bO(z);var nv={exports:{}},Mu={},iv={exports:{}},sv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S;function AO(){return $S||($S=1,function(n){function e(re,de){var fe=re.length;re.push(de);e:for(;0<fe;){var be=fe-1>>>1,F=re[be];if(0<s(F,de))re[be]=de,re[fe]=F,fe=be;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var de=re[0],fe=re.pop();if(fe!==de){re[0]=fe;e:for(var be=0,F=re.length,oe=F>>>1;be<oe;){var ge=2*(be+1)-1,he=re[ge],ue=ge+1,Re=re[ue];if(0>s(he,fe))ue<F&&0>s(Re,he)?(re[be]=Re,re[ue]=fe,be=ue):(re[be]=he,re[ge]=fe,be=ge);else if(ue<F&&0>s(Re,fe))re[be]=Re,re[ue]=fe,be=ue;else break e}}return de}function s(re,de){var fe=re.sortIndex-de.sortIndex;return fe!==0?fe:re.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],d=[],g=1,y=null,_=3,b=!1,S=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function j(re){for(var de=t(d);de!==null;){if(de.callback===null)i(d);else if(de.startTime<=re)i(d),de.sortIndex=de.expirationTime,e(h,de);else break;de=t(d)}}function B(re){if(x=!1,j(re),!S)if(t(h)!==null)S=!0,De();else{var de=t(d);de!==null&&_e(B,de.startTime-re)}}var q=!1,K=-1,M=5,C=-1;function D(){return!(n.unstable_now()-C<M)}function P(){if(q){var re=n.unstable_now();C=re;var de=!0;try{e:{S=!1,x&&(x=!1,I(K),K=-1),b=!0;var fe=_;try{t:{for(j(re),y=t(h);y!==null&&!(y.expirationTime>re&&D());){var be=y.callback;if(typeof be=="function"){y.callback=null,_=y.priorityLevel;var F=be(y.expirationTime<=re);if(re=n.unstable_now(),typeof F=="function"){y.callback=F,j(re),de=!0;break t}y===t(h)&&i(h),j(re)}else i(h);y=t(h)}if(y!==null)de=!0;else{var oe=t(d);oe!==null&&_e(B,oe.startTime-re),de=!1}}break e}finally{y=null,_=fe,b=!1}de=void 0}}finally{de?V():q=!1}}}var V;if(typeof O=="function")V=function(){O(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,L=H.port2;H.port1.onmessage=P,V=function(){L.postMessage(null)}}else V=function(){A(P,0)};function De(){q||(q=!0,V())}function _e(re,de){K=A(function(){re(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){S||b||(S=!0,De())},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(re){switch(_){case 1:case 2:case 3:var de=3;break;default:de=_}var fe=_;_=de;try{return re()}finally{_=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,de){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var fe=_;_=re;try{return de()}finally{_=fe}},n.unstable_scheduleCallback=function(re,de,fe){var be=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?be+fe:be):fe=be,re){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=fe+F,re={id:g++,callback:de,priorityLevel:re,startTime:fe,expirationTime:F,sortIndex:-1},fe>be?(re.sortIndex=fe,e(d,re),t(h)===null&&re===t(d)&&(x?(I(K),K=-1):x=!0,_e(B,fe-be))):(re.sortIndex=F,e(h,re),S||b||(S=!0,De())),re},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(re){var de=_;return function(){var fe=_;_=de;try{return re.apply(this,arguments)}finally{_=fe}}}}(sv)),sv}var YS;function TO(){return YS||(YS=1,iv.exports=AO()),iv.exports}var rv={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS;function xO(){if(QS)return An;QS=1;var n=$_();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(h,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:d,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,An.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return r(h,d,null,g)},An.flushSync=function(h){var d=l.T,g=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=d,i.p=g,i.d.f()}},An.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},An.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},An.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,y=c(g,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):g==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},An.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},An.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=c(g,d.crossOrigin);i.d.L(h,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},An.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=c(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},An.requestFormReset=function(h){i.d.r(h)},An.unstable_batchedUpdates=function(h,d){return h(d)},An.useFormState=function(h,d,g){return l.H.useFormState(h,d,g)},An.useFormStatus=function(){return l.H.useHostTransitionStatus()},An.version="19.0.0",An}var KS;function aC(){if(KS)return rv.exports;KS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rv.exports=xO(),rv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS;function RO(){if(XS)return Mu;XS=1;var n=TO(),e=$_(),t=aC();function i(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var r=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),b=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),B=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function K(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var M=Symbol.for("react.client.reference");function C(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===M?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case h:return"Fragment";case c:return"Portal";case g:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case A:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case b:return(a.displayName||"Context")+".Provider";case _:return(a._context.displayName||"Context")+".Consumer";case S:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return o=a.displayName||null,o!==null?o:C(a.type)||"Memo";case O:o=a._payload,a=a._init;try{return C(a(o))}catch{}}return null}var D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign,V,H;function L(a){if(V===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||"",H=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+a+H}var De=!1;function _e(a,o){if(!a||De)return"";De=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var X=te}Reflect.construct(a,[],le)}else{try{le.call()}catch(te){X=te}a.call(le.prototype)}}else{try{throw Error()}catch(te){X=te}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&X&&typeof te.stack=="string")return[te.stack,X.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),R=v[0],k=v[1];if(R&&k){var U=R.split(`
`),W=k.split(`
`);for(m=f=0;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;for(;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;if(f===U.length||m===W.length)for(f=U.length-1,m=W.length-1;1<=f&&0<=m&&U[f]!==W[m];)m--;for(;1<=f&&0<=m;f--,m--)if(U[f]!==W[m]){if(f!==1||m!==1)do if(f--,m--,0>m||U[f]!==W[m]){var ne=`
`+U[f].replace(" at new "," at ");return a.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",a.displayName)),ne}while(1<=f&&0<=m);break}}}finally{De=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?L(u):""}function re(a){switch(a.tag){case 26:case 27:case 5:return L(a.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return a=_e(a.type,!1),a;case 11:return a=_e(a.type.render,!1),a;case 1:return a=_e(a.type,!0),a;default:return""}}function de(a){try{var o="";do o+=re(a),a=a.return;while(a);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function fe(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,o.flags&4098&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function be(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function F(a){if(fe(a)!==a)throw Error(i(188))}function oe(a){var o=a.alternate;if(!o){if(o=fe(a),o===null)throw Error(i(188));return o!==a?null:a}for(var u=a,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return F(m),a;if(v===f)return F(m),o;v=v.sibling}throw Error(i(188))}if(u.return!==f.return)u=m,f=v;else{for(var R=!1,k=m.child;k;){if(k===u){R=!0,u=m,f=v;break}if(k===f){R=!0,f=m,u=v;break}k=k.sibling}if(!R){for(k=v.child;k;){if(k===u){R=!0,u=v,f=m;break}if(k===f){R=!0,f=v,u=m;break}k=k.sibling}if(!R)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?a:o}function ge(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=ge(a),o!==null)return o;a=a.sibling}return null}var he=Array.isArray,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},Ae=[],Qe=-1;function qe(a){return{current:a}}function ft(a){0>Qe||(a.current=Ae[Qe],Ae[Qe]=null,Qe--)}function et(a,o){Qe++,Ae[Qe]=a.current,a.current=o}var hn=qe(null),Ni=qe(null),xe=qe(null),En=qe(null);function ct(a,o){switch(et(xe,o),et(Ni,a),et(hn,null),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?vS(o):0;break;default:if(a=a===8?o.parentNode:o,o=a.tagName,a=a.namespaceURI)a=vS(a),o=_S(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ft(hn),et(hn,o)}function gt(){ft(hn),ft(Ni),ft(xe)}function dn(a){a.memoizedState!==null&&et(En,a);var o=hn.current,u=_S(o,a.type);o!==u&&(et(Ni,a),et(hn,u))}function Yi(a){Ni.current===a&&(ft(hn),ft(Ni)),En.current===a&&(ft(En),Ru._currentValue=Re)}var Qi=Object.prototype.hasOwnProperty,Rs=n.unstable_scheduleCallback,Qo=n.unstable_cancelCallback,nm=n.unstable_shouldYield,Cc=n.unstable_requestPaint,zn=n.unstable_now,ad=n.unstable_getCurrentPriorityLevel,Gt=n.unstable_ImmediatePriority,en=n.unstable_UserBlockingPriority,Cs=n.unstable_NormalPriority,od=n.unstable_LowPriority,Dc=n.unstable_IdlePriority,im=n.log,Oa=n.unstable_setDisableYieldValue,Er=null,wn=null;function Ic(a){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Er,a,void 0,(a.current.flags&128)===128)}catch{}}function Ki(a){if(typeof im=="function"&&Oa(a),wn&&typeof wn.setStrictMode=="function")try{wn.setStrictMode(Er,a)}catch{}}var Mn=Math.clz32?Math.clz32:cd,kc=Math.log,ld=Math.LN2;function cd(a){return a>>>=0,a===0?32:31-(kc(a)/ld|0)|0}var Xi=128,wr=4194304;function Mi(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ai(a,o){var u=a.pendingLanes;if(u===0)return 0;var f=0,m=a.suspendedLanes,v=a.pingedLanes,R=a.warmLanes;a=a.finishedLanes!==0;var k=u&134217727;return k!==0?(u=k&~m,u!==0?f=Mi(u):(v&=k,v!==0?f=Mi(v):a||(R=k&~R,R!==0&&(f=Mi(R))))):(k=u&~m,k!==0?f=Mi(k):v!==0?f=Mi(v):a||(R=u&~R,R!==0&&(f=Mi(R)))),f===0?0:o!==0&&o!==f&&!(o&m)&&(m=f&-f,R=o&-o,m>=R||m===32&&(R&4194176)!==0)?o:f}function Sr(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Ko(a,o){switch(a){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nc(){var a=Xi;return Xi<<=1,!(Xi&4194176)&&(Xi=128),a}function Ar(){var a=wr;return wr<<=1,!(wr&62914560)&&(wr=4194304),a}function Xo(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Pt(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ud(a,o,u,f,m,v){var R=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var k=a.entanglements,U=a.expirationTimes,W=a.hiddenUpdates;for(u=R&~u;0<u;){var ne=31-Mn(u),le=1<<ne;k[ne]=0,U[ne]=-1;var X=W[ne];if(X!==null)for(W[ne]=null,ne=0;ne<X.length;ne++){var te=X[ne];te!==null&&(te.lane&=-536870913)}u&=~le}f!==0&&Tr(a,f,0),v!==0&&m===0&&a.tag!==0&&(a.suspendedLanes|=v&~(R&~o))}function Tr(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var f=31-Mn(o);a.entangledLanes|=o,a.entanglements[f]=a.entanglements[f]|1073741824|u&4194218}function xr(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var f=31-Mn(u),m=1<<f;m&o|a[f]&o&&(a[f]|=o),u&=~m}}function hd(a){return a&=-a,2<a?8<a?a&134217727?32:268435456:8:2}function dd(){var a=ue.p;return a!==0?a:(a=window.event,a===void 0?32:LS(a.type))}function Rr(a,o){var u=ue.p;try{return ue.p=a,o()}finally{ue.p=u}}var Zi=Math.random().toString(36).slice(2),tn="__reactFiber$"+Zi,Wt="__reactProps$"+Zi,Ds="__reactContainer$"+Zi,Pa="__reactEvents$"+Zi,Zo="__reactListeners$"+Zi,Ji="__reactHandles$"+Zi,Mc="__reactResources$"+Zi,Cr="__reactMarker$"+Zi;function ja(a){delete a[tn],delete a[Wt],delete a[Pa],delete a[Zo],delete a[Ji]}function Oi(a){var o=a[tn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Ds]||u[tn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=wS(a);a!==null;){if(u=a[tn])return u;a=wS(a)}return o}a=u,u=a.parentNode}return null}function Is(a){if(a=a[tn]||a[Ds]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function Dr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(i(33))}function Ir(a){var o=a[Mc];return o||(o=a[Mc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Et(a){a[Cr]=!0}var Oc=new Set,Jo={};function Kn(a,o){Bn(a,o),Bn(a+"Capture",o)}function Bn(a,o){for(Jo[a]=o,a=0;a<o.length;a++)Oc.add(o[a])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pc={},jc={};function fd(a){return Qi.call(jc,a)?!0:Qi.call(Pc,a)?!1:sm.test(a)?jc[a]=!0:(Pc[a]=!0,!1)}function kr(a,o,u){if(fd(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Nr(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function oi(a,o,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+f)}}function On(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function gd(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function rm(a){var o=gd(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),f=""+a[o];if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return m.call(this)},set:function(R){f=""+R,v.call(this,R)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function La(a){a._valueTracker||(a._valueTracker=rm(a))}function Lc(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return a&&(f=gd(a)?a.checked?"true":"false":a.value),a=f,a!==u?(o.setValue(a),!0):!1}function el(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var ks=/[\n"\\]/g;function Ct(a){return a.replace(ks,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Mr(a,o,u,f,m,v,R,k){a.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.type=R:a.removeAttribute("type"),o!=null?R==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+On(o)):a.value!==""+On(o)&&(a.value=""+On(o)):R!=="submit"&&R!=="reset"||a.removeAttribute("value"),o!=null?tl(a,R,On(o)):u!=null?tl(a,R,On(u)):f!=null&&a.removeAttribute("value"),m==null&&v!=null&&(a.defaultChecked=!!v),m!=null&&(a.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+On(k):a.removeAttribute("name")}function Va(a,o,u,f,m,v,R,k){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),o!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;u=u!=null?""+On(u):"",o=o!=null?""+On(o):u,k||o===a.value||(a.value=o),a.defaultValue=o}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=k?a.checked:!!f,a.defaultChecked=!!f,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(a.name=R)}function tl(a,o,u){o==="number"&&el(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Ke(a,o,u,f){if(a=a.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<a.length;u++)m=o.hasOwnProperty("$"+a[u].value),a[u].selected!==m&&(a[u].selected=m),m&&f&&(a[u].defaultSelected=!0)}else{for(u=""+On(u),o=null,m=0;m<a.length;m++){if(a[m].value===u){a[m].selected=!0,f&&(a[m].defaultSelected=!0);return}o!==null||a[m].disabled||(o=a[m])}o!==null&&(o.selected=!0)}}function Ua(a,o,u){if(o!=null&&(o=""+On(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+On(u):""}function Or(a,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(i(92));if(he(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=On(o),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f)}function li(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var am=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vc(a,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":f?a.setProperty(o,u):typeof u!="number"||u===0||am.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function pd(a,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var m in o)f=o[m],o.hasOwnProperty(m)&&u[m]!==f&&Vc(a,m,f)}else for(var v in o)o.hasOwnProperty(v)&&Vc(a,v,o[v])}function Uc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function es(a){return lm.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var ci=null;function nl(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ns=null,Ms=null;function Os(a){var o=Is(a);if(o&&(a=o.stateNode)){var u=a[Wt]||null;e:switch(a=o.stateNode,o.type){case"input":if(Mr(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ct(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==a&&f.form===a.form){var m=f[Wt]||null;if(!m)throw Error(i(90));Mr(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===a.form&&Lc(f)}break e;case"textarea":Ua(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Ke(a,!!u.multiple,o,!1)}}}var zc=!1;function md(a,o,u){if(zc)return a(o,u);zc=!0;try{var f=a(o);return f}finally{if(zc=!1,(Ns!==null||Ms!==null)&&(lf(),Ns&&(o=Ns,a=Ms,Ms=Ns=null,Os(o),a)))for(o=0;o<a.length;o++)Os(a[o])}}function za(a,o){var u=a.stateNode;if(u===null)return null;var f=u[Wt]||null;if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var ui=!1;if(Xn)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){ui=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{ui=!1}var ts=null,Pr=null,Ps=null;function Bc(){if(Ps)return Ps;var a,o=Pr,u=o.length,f,m="value"in ts?ts.value:ts.textContent,v=m.length;for(a=0;a<u&&o[a]===m[a];a++);var R=u-a;for(f=1;f<=R&&o[u-f]===m[v-f];f++);return Ps=m.slice(a,1<f?1-f:void 0)}function ns(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function is(){return!0}function Hc(){return!1}function nn(a){function o(u,f,m,v,R){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=R,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(u=a[k],this[k]=u?u(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?is:Hc,this.isPropagationStopped=Hc,this}return P(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),o}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=nn(it),Ha=P({},it,{view:0,detail:0}),yd=nn(Ha),sl,rl,ss,Fa=P({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ss&&(ss&&a.type==="mousemove"?(sl=a.screenX-ss.screenX,rl=a.screenY-ss.screenY):rl=sl=0,ss=a),sl)},movementY:function(a){return"movementY"in a?a.movementY:rl}}),hi=nn(Fa),vd=P({},Fa,{dataTransfer:0}),cm=nn(vd),qa=P({},Ha,{relatedTarget:0}),al=nn(qa),Fc=P({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),ol=nn(Fc),_d=P({},it,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ll=nn(_d),um=P({},it,{data:0}),qc=nn(um),Ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ed={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gc(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Ed[a])?!!o[a]:!1}function Wa(){return Gc}var wd=P({},Ha,{key:function(a){if(a.key){var o=Ga[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=ns(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?bd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(a){return a.type==="keypress"?ns(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ns(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),cl=nn(wd),Sd=P({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wc=nn(Sd),js=P({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),Ad=nn(js),Td=P({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),xd=nn(Td),Rd=P({},Fa,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ul=nn(Rd),Pn=P({},it,{newState:0,oldState:0}),Cd=nn(Pn),Dd=[9,13,27,32],rs=Xn&&"CompositionEvent"in window,p=null;Xn&&"documentMode"in document&&(p=document.documentMode);var E=Xn&&"TextEvent"in window&&!p,T=Xn&&(!rs||p&&8<p&&11>=p),N=" ",Y=!1;function J(a,o){switch(a){case"keyup":return Dd.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ge=!1;function $t(a,o){switch(a){case"compositionend":return ce(o);case"keypress":return o.which!==32?null:(Y=!0,N);case"textInput":return a=o.data,a===N&&Y?null:a;default:return null}}function We(a,o){if(Ge)return a==="compositionend"||!rs&&J(a,o)?(a=Bc(),Ps=Pr=ts=null,Ge=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return T&&o.locale!=="ko"?null:o.data;default:return null}}var sn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yt(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!sn[a.type]:o==="textarea"}function Ls(a,o,u,f){Ns?Ms?Ms.push(f):Ms=[f]:Ns=f,o=ff(o,"onChange"),0<o.length&&(u=new il("onChange","change",null,u,f),a.push({event:u,listeners:o}))}var fn=null,as=null;function $c(a){fS(a,0)}function Id(a){var o=Dr(a);if(Lc(o))return a}function H0(a,o){if(a==="change")return o}var F0=!1;if(Xn){var hm;if(Xn){var dm="oninput"in document;if(!dm){var q0=document.createElement("div");q0.setAttribute("oninput","return;"),dm=typeof q0.oninput=="function"}hm=dm}else hm=!1;F0=hm&&(!document.documentMode||9<document.documentMode)}function G0(){fn&&(fn.detachEvent("onpropertychange",W0),as=fn=null)}function W0(a){if(a.propertyName==="value"&&Id(as)){var o=[];Ls(o,as,a,nl(a)),md($c,o)}}function YN(a,o,u){a==="focusin"?(G0(),fn=o,as=u,fn.attachEvent("onpropertychange",W0)):a==="focusout"&&G0()}function QN(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Id(as)}function KN(a,o){if(a==="click")return Id(o)}function XN(a,o){if(a==="input"||a==="change")return Id(o)}function ZN(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Zn=typeof Object.is=="function"?Object.is:ZN;function Yc(a,o){if(Zn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!Qi.call(o,m)||!Zn(a[m],o[m]))return!1}return!0}function $0(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Y0(a,o){var u=$0(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=o&&f>=o)return{node:u,offset:o-a};a=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=$0(u)}}function Q0(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Q0(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function K0(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=el(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=el(a.document)}return o}function fm(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function JN(a,o){var u=K0(o);o=a.focusedElem;var f=a.selectionRange;if(u!==o&&o&&o.ownerDocument&&Q0(o.ownerDocument.documentElement,o)){if(f!==null&&fm(o)){if(a=f.start,u=f.end,u===void 0&&(u=a),"selectionStart"in o)o.selectionStart=a,o.selectionEnd=Math.min(u,o.value.length);else if(u=(a=o.ownerDocument||document)&&a.defaultView||window,u.getSelection){u=u.getSelection();var m=o.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!u.extend&&v>f&&(m=f,f=v,v=m),m=Y0(o,v);var R=Y0(o,f);m&&R&&(u.rangeCount!==1||u.anchorNode!==m.node||u.anchorOffset!==m.offset||u.focusNode!==R.node||u.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),u.removeAllRanges(),v>f?(u.addRange(a),u.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),u.addRange(a)))}}for(a=[],u=o;u=u.parentNode;)u.nodeType===1&&a.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<a.length;o++)u=a[o],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var eM=Xn&&"documentMode"in document&&11>=document.documentMode,hl=null,gm=null,Qc=null,pm=!1;function X0(a,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;pm||hl==null||hl!==el(f)||(f=hl,"selectionStart"in f&&fm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Qc&&Yc(Qc,f)||(Qc=f,f=ff(gm,"onSelect"),0<f.length&&(o=new il("onSelect","select",null,o,u),a.push({event:o,listeners:f}),o.target=hl)))}function $a(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var dl={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},mm={},Z0={};Xn&&(Z0=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function Ya(a){if(mm[a])return mm[a];if(!dl[a])return a;var o=dl[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in Z0)return mm[a]=o[u];return a}var J0=Ya("animationend"),eE=Ya("animationiteration"),tE=Ya("animationstart"),tM=Ya("transitionrun"),nM=Ya("transitionstart"),iM=Ya("transitioncancel"),nE=Ya("transitionend"),iE=new Map,sE="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Pi(a,o){iE.set(a,o),Kn(o,[a])}var di=[],fl=0,ym=0;function kd(){for(var a=fl,o=ym=fl=0;o<a;){var u=di[o];di[o++]=null;var f=di[o];di[o++]=null;var m=di[o];di[o++]=null;var v=di[o];if(di[o++]=null,f!==null&&m!==null){var R=f.pending;R===null?m.next=m:(m.next=R.next,R.next=m),f.pending=m}v!==0&&rE(u,m,v)}}function Nd(a,o,u,f){di[fl++]=a,di[fl++]=o,di[fl++]=u,di[fl++]=f,ym|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function vm(a,o,u,f){return Nd(a,o,u,f),Md(a)}function jr(a,o){return Nd(a,null,null,o),Md(a)}function rE(a,o,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var m=!1,v=a.return;v!==null;)v.childLanes|=u,f=v.alternate,f!==null&&(f.childLanes|=u),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(m=!0)),a=v,v=v.return;m&&o!==null&&a.tag===3&&(v=a.stateNode,m=31-Mn(u),v=v.hiddenUpdates,a=v[m],a===null?v[m]=[o]:a.push(o),o.lane=u|536870912)}function Md(a){if(50<bu)throw bu=0,Ay=null,Error(i(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var gl={},aE=new WeakMap;function fi(a,o){if(typeof a=="object"&&a!==null){var u=aE.get(a);return u!==void 0?u:(o={value:a,source:o,stack:de(o)},aE.set(a,o),o)}return{value:a,source:o,stack:de(o)}}var pl=[],ml=0,Od=null,Pd=0,gi=[],pi=0,Qa=null,Vs=1,Us="";function Ka(a,o){pl[ml++]=Pd,pl[ml++]=Od,Od=a,Pd=o}function oE(a,o,u){gi[pi++]=Vs,gi[pi++]=Us,gi[pi++]=Qa,Qa=a;var f=Vs;a=Us;var m=32-Mn(f)-1;f&=~(1<<m),u+=1;var v=32-Mn(o)+m;if(30<v){var R=m-m%5;v=(f&(1<<R)-1).toString(32),f>>=R,m-=R,Vs=1<<32-Mn(o)+m|u<<m|f,Us=v+a}else Vs=1<<v|u<<m|f,Us=a}function _m(a){a.return!==null&&(Ka(a,1),oE(a,1,0))}function bm(a){for(;a===Od;)Od=pl[--ml],pl[ml]=null,Pd=pl[--ml],pl[ml]=null;for(;a===Qa;)Qa=gi[--pi],gi[pi]=null,Us=gi[--pi],gi[pi]=null,Vs=gi[--pi],gi[pi]=null}var jn=null,gn=null,Xe=!1,ji=null,os=!1,Em=Error(i(519));function Xa(a){var o=Error(i(418,""));throw Zc(fi(o,a)),Em}function lE(a){var o=a.stateNode,u=a.type,f=a.memoizedProps;switch(o[tn]=a,o[Wt]=f,u){case"dialog":He("cancel",o),He("close",o);break;case"iframe":case"object":case"embed":He("load",o);break;case"video":case"audio":for(u=0;u<wu.length;u++)He(wu[u],o);break;case"source":He("error",o);break;case"img":case"image":case"link":He("error",o),He("load",o);break;case"details":He("toggle",o);break;case"input":He("invalid",o),Va(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),La(o);break;case"select":He("invalid",o);break;case"textarea":He("invalid",o),Or(o,f.value,f.defaultValue,f.children),La(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||yS(o.textContent,u)?(f.popover!=null&&(He("beforetoggle",o),He("toggle",o)),f.onScroll!=null&&He("scroll",o),f.onScrollEnd!=null&&He("scrollend",o),f.onClick!=null&&(o.onclick=gf),o=!0):o=!1,o||Xa(a)}function cE(a){for(jn=a.return;jn;)switch(jn.tag){case 3:case 27:os=!0;return;case 5:case 13:os=!1;return;default:jn=jn.return}}function Kc(a){if(a!==jn)return!1;if(!Xe)return cE(a),Xe=!0,!1;var o=!1,u;if((u=a.tag!==3&&a.tag!==27)&&((u=a.tag===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||By(a.type,a.memoizedProps)),u=!u),u&&(o=!0),o&&gn&&Xa(a),cE(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(o===0){gn=Vi(a.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;a=a.nextSibling}gn=null}}else gn=jn?Vi(a.stateNode.nextSibling):null;return!0}function Xc(){gn=jn=null,Xe=!1}function Zc(a){ji===null?ji=[a]:ji.push(a)}var Jc=Error(i(460)),uE=Error(i(474)),wm={then:function(){}};function hE(a){return a=a.status,a==="fulfilled"||a==="rejected"}function jd(){}function dE(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(jd,jd),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===Jc?Error(i(483)):a;default:if(typeof o.status=="string")o.then(jd,jd);else{if(a=ut,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=o,a.status="pending",a.then(function(f){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=f}},function(f){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===Jc?Error(i(483)):a}throw eu=o,Jc}}var eu=null;function fE(){if(eu===null)throw Error(i(459));var a=eu;return eu=null,a}var yl=null,tu=0;function Ld(a){var o=tu;return tu+=1,yl===null&&(yl=[]),dE(yl,a,o)}function nu(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Vd(a,o){throw o.$$typeof===r?Error(i(525)):(a=Object.prototype.toString.call(o),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function gE(a){var o=a._init;return o(a._payload)}function pE(a){function o($,G){if(a){var Q=$.deletions;Q===null?($.deletions=[G],$.flags|=16):Q.push(G)}}function u($,G){if(!a)return null;for(;G!==null;)o($,G),G=G.sibling;return null}function f($){for(var G=new Map;$!==null;)$.key!==null?G.set($.key,$):G.set($.index,$),$=$.sibling;return G}function m($,G){return $=Yr($,G),$.index=0,$.sibling=null,$}function v($,G,Q){return $.index=Q,a?(Q=$.alternate,Q!==null?(Q=Q.index,Q<G?($.flags|=33554434,G):Q):($.flags|=33554434,G)):($.flags|=1048576,G)}function R($){return a&&$.alternate===null&&($.flags|=33554434),$}function k($,G,Q,ie){return G===null||G.tag!==6?(G=my(Q,$.mode,ie),G.return=$,G):(G=m(G,Q),G.return=$,G)}function U($,G,Q,ie){var ye=Q.type;return ye===h?ne($,G,Q.props.children,ie,Q.key):G!==null&&(G.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===O&&gE(ye)===G.type)?(G=m(G,Q.props),nu(G,Q),G.return=$,G):(G=nf(Q.type,Q.key,Q.props,null,$.mode,ie),nu(G,Q),G.return=$,G)}function W($,G,Q,ie){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=yy(Q,$.mode,ie),G.return=$,G):(G=m(G,Q.children||[]),G.return=$,G)}function ne($,G,Q,ie,ye){return G===null||G.tag!==7?(G=oo(Q,$.mode,ie,ye),G.return=$,G):(G=m(G,Q),G.return=$,G)}function le($,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=my(""+G,$.mode,Q),G.return=$,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case l:return Q=nf(G.type,G.key,G.props,null,$.mode,Q),nu(Q,G),Q.return=$,Q;case c:return G=yy(G,$.mode,Q),G.return=$,G;case O:var ie=G._init;return G=ie(G._payload),le($,G,Q)}if(he(G)||K(G))return G=oo(G,$.mode,Q,null),G.return=$,G;if(typeof G.then=="function")return le($,Ld(G),Q);if(G.$$typeof===b)return le($,Jd($,G),Q);Vd($,G)}return null}function X($,G,Q,ie){var ye=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ye!==null?null:k($,G,""+Q,ie);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case l:return Q.key===ye?U($,G,Q,ie):null;case c:return Q.key===ye?W($,G,Q,ie):null;case O:return ye=Q._init,Q=ye(Q._payload),X($,G,Q,ie)}if(he(Q)||K(Q))return ye!==null?null:ne($,G,Q,ie,null);if(typeof Q.then=="function")return X($,G,Ld(Q),ie);if(Q.$$typeof===b)return X($,G,Jd($,Q),ie);Vd($,Q)}return null}function te($,G,Q,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return $=$.get(Q)||null,k(G,$,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case l:return $=$.get(ie.key===null?Q:ie.key)||null,U(G,$,ie,ye);case c:return $=$.get(ie.key===null?Q:ie.key)||null,W(G,$,ie,ye);case O:var Le=ie._init;return ie=Le(ie._payload),te($,G,Q,ie,ye)}if(he(ie)||K(ie))return $=$.get(Q)||null,ne(G,$,ie,ye,null);if(typeof ie.then=="function")return te($,G,Q,Ld(ie),ye);if(ie.$$typeof===b)return te($,G,Q,Jd(G,ie),ye);Vd(G,ie)}return null}function ve($,G,Q,ie){for(var ye=null,Le=null,Ee=G,Ce=G=0,on=null;Ee!==null&&Ce<Q.length;Ce++){Ee.index>Ce?(on=Ee,Ee=null):on=Ee.sibling;var Ze=X($,Ee,Q[Ce],ie);if(Ze===null){Ee===null&&(Ee=on);break}a&&Ee&&Ze.alternate===null&&o($,Ee),G=v(Ze,G,Ce),Le===null?ye=Ze:Le.sibling=Ze,Le=Ze,Ee=on}if(Ce===Q.length)return u($,Ee),Xe&&Ka($,Ce),ye;if(Ee===null){for(;Ce<Q.length;Ce++)Ee=le($,Q[Ce],ie),Ee!==null&&(G=v(Ee,G,Ce),Le===null?ye=Ee:Le.sibling=Ee,Le=Ee);return Xe&&Ka($,Ce),ye}for(Ee=f(Ee);Ce<Q.length;Ce++)on=te(Ee,$,Ce,Q[Ce],ie),on!==null&&(a&&on.alternate!==null&&Ee.delete(on.key===null?Ce:on.key),G=v(on,G,Ce),Le===null?ye=on:Le.sibling=on,Le=on);return a&&Ee.forEach(function(ta){return o($,ta)}),Xe&&Ka($,Ce),ye}function Me($,G,Q,ie){if(Q==null)throw Error(i(151));for(var ye=null,Le=null,Ee=G,Ce=G=0,on=null,Ze=Q.next();Ee!==null&&!Ze.done;Ce++,Ze=Q.next()){Ee.index>Ce?(on=Ee,Ee=null):on=Ee.sibling;var ta=X($,Ee,Ze.value,ie);if(ta===null){Ee===null&&(Ee=on);break}a&&Ee&&ta.alternate===null&&o($,Ee),G=v(ta,G,Ce),Le===null?ye=ta:Le.sibling=ta,Le=ta,Ee=on}if(Ze.done)return u($,Ee),Xe&&Ka($,Ce),ye;if(Ee===null){for(;!Ze.done;Ce++,Ze=Q.next())Ze=le($,Ze.value,ie),Ze!==null&&(G=v(Ze,G,Ce),Le===null?ye=Ze:Le.sibling=Ze,Le=Ze);return Xe&&Ka($,Ce),ye}for(Ee=f(Ee);!Ze.done;Ce++,Ze=Q.next())Ze=te(Ee,$,Ce,Ze.value,ie),Ze!==null&&(a&&Ze.alternate!==null&&Ee.delete(Ze.key===null?Ce:Ze.key),G=v(Ze,G,Ce),Le===null?ye=Ze:Le.sibling=Ze,Le=Ze);return a&&Ee.forEach(function(yO){return o($,yO)}),Xe&&Ka($,Ce),ye}function kt($,G,Q,ie){if(typeof Q=="object"&&Q!==null&&Q.type===h&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case l:e:{for(var ye=Q.key;G!==null;){if(G.key===ye){if(ye=Q.type,ye===h){if(G.tag===7){u($,G.sibling),ie=m(G,Q.props.children),ie.return=$,$=ie;break e}}else if(G.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===O&&gE(ye)===G.type){u($,G.sibling),ie=m(G,Q.props),nu(ie,Q),ie.return=$,$=ie;break e}u($,G);break}else o($,G);G=G.sibling}Q.type===h?(ie=oo(Q.props.children,$.mode,ie,Q.key),ie.return=$,$=ie):(ie=nf(Q.type,Q.key,Q.props,null,$.mode,ie),nu(ie,Q),ie.return=$,$=ie)}return R($);case c:e:{for(ye=Q.key;G!==null;){if(G.key===ye)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){u($,G.sibling),ie=m(G,Q.children||[]),ie.return=$,$=ie;break e}else{u($,G);break}else o($,G);G=G.sibling}ie=yy(Q,$.mode,ie),ie.return=$,$=ie}return R($);case O:return ye=Q._init,Q=ye(Q._payload),kt($,G,Q,ie)}if(he(Q))return ve($,G,Q,ie);if(K(Q)){if(ye=K(Q),typeof ye!="function")throw Error(i(150));return Q=ye.call(Q),Me($,G,Q,ie)}if(typeof Q.then=="function")return kt($,G,Ld(Q),ie);if(Q.$$typeof===b)return kt($,G,Jd($,Q),ie);Vd($,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,G!==null&&G.tag===6?(u($,G.sibling),ie=m(G,Q),ie.return=$,$=ie):(u($,G),ie=my(Q,$.mode,ie),ie.return=$,$=ie),R($)):u($,G)}return function($,G,Q,ie){try{tu=0;var ye=kt($,G,Q,ie);return yl=null,ye}catch(Ee){if(Ee===Jc)throw Ee;var Le=_i(29,Ee,null,$.mode);return Le.lanes=ie,Le.return=$,Le}finally{}}}var Za=pE(!0),mE=pE(!1),vl=qe(null),Ud=qe(0);function yE(a,o){a=Ks,et(Ud,a),et(vl,o),Ks=a|o.baseLanes}function Sm(){et(Ud,Ks),et(vl,vl.current)}function Am(){Ks=Ud.current,ft(vl),ft(Ud)}var mi=qe(null),ls=null;function Lr(a){var o=a.alternate;et(Qt,Qt.current&1),et(mi,a),ls===null&&(o===null||vl.current!==null||o.memoizedState!==null)&&(ls=a)}function vE(a){if(a.tag===22){if(et(Qt,Qt.current),et(mi,a),ls===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(ls=a)}}else Vr()}function Vr(){et(Qt,Qt.current),et(mi,mi.current)}function zs(a){ft(mi),ls===a&&(ls=null),ft(Qt)}var Qt=qe(0);function zd(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var sM=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},rM=n.unstable_scheduleCallback,aM=n.unstable_NormalPriority,Kt={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tm(){return{controller:new sM,data:new Map,refCount:0}}function iu(a){a.refCount--,a.refCount===0&&rM(aM,function(){a.controller.abort()})}var su=null,xm=0,_l=0,bl=null;function oM(a,o){if(su===null){var u=su=[];xm=0,_l=Ny(),bl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return xm++,o.then(_E,_E),o}function _E(){if(--xm===0&&su!==null){bl!==null&&(bl.status="fulfilled");var a=su;su=null,_l=0,bl=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function lM(a,o){var u=[],f={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return a.then(function(){f.status="fulfilled",f.value=o;for(var m=0;m<u.length;m++)(0,u[m])(o)},function(m){for(f.status="rejected",f.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),f}var bE=D.S;D.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&oM(a,o),bE!==null&&bE(a,o)};var Ja=qe(null);function Rm(){var a=Ja.current;return a!==null?a:ut.pooledCache}function Bd(a,o){o===null?et(Ja,Ja.current):et(Ja,o.pool)}function EE(){var a=Rm();return a===null?null:{parent:Kt._currentValue,pool:a}}var Ur=0,je=null,at=null,zt=null,Hd=!1,El=!1,eo=!1,Fd=0,ru=0,wl=null,cM=0;function jt(){throw Error(i(321))}function Cm(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Zn(a[u],o[u]))return!1;return!0}function Dm(a,o,u,f,m,v){return Ur=v,je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,D.H=a===null||a.memoizedState===null?to:zr,eo=!1,v=u(f,m),eo=!1,El&&(v=SE(o,u,f,m)),wE(a),v}function wE(a){D.H=cs;var o=at!==null&&at.next!==null;if(Ur=0,zt=at=je=null,Hd=!1,ru=0,wl=null,o)throw Error(i(300));a===null||rn||(a=a.dependencies,a!==null&&Zd(a)&&(rn=!0))}function SE(a,o,u,f){je=a;var m=0;do{if(El&&(wl=null),ru=0,El=!1,25<=m)throw Error(i(301));if(m+=1,zt=at=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}D.H=no,v=o(u,f)}while(El);return v}function uM(){var a=D.H,o=a.useState()[0];return o=typeof o.then=="function"?au(o):o,a=a.useState()[0],(at!==null?at.memoizedState:null)!==a&&(je.flags|=1024),o}function Im(){var a=Fd!==0;return Fd=0,a}function km(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Nm(a){if(Hd){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Hd=!1}Ur=0,zt=at=je=null,El=!1,ru=Fd=0,wl=null}function Hn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?je.memoizedState=zt=a:zt=zt.next=a,zt}function Bt(){if(at===null){var a=je.alternate;a=a!==null?a.memoizedState:null}else a=at.next;var o=zt===null?je.memoizedState:zt.next;if(o!==null)zt=o,at=a;else{if(a===null)throw je.alternate===null?Error(i(467)):Error(i(310));at=a,a={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},zt===null?je.memoizedState=zt=a:zt=zt.next=a}return zt}var qd;qd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function au(a){var o=ru;return ru+=1,wl===null&&(wl=[]),a=dE(wl,a,o),o=je,(zt===null?o.memoizedState:zt.next)===null&&(o=o.alternate,D.H=o===null||o.memoizedState===null?to:zr),a}function Gd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return au(a);if(a.$$typeof===b)return Sn(a)}throw Error(i(438,String(a)))}function Mm(a){var o=null,u=je.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=je.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=qd(),je.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),f=0;f<a;f++)u[f]=B;return o.index++,u}function Bs(a,o){return typeof o=="function"?o(a):o}function Wd(a){var o=Bt();return Om(o,at,a)}function Om(a,o,u){var f=a.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var m=a.baseQueue,v=f.pending;if(v!==null){if(m!==null){var R=m.next;m.next=v.next,v.next=R}o.baseQueue=m=v,f.pending=null}if(v=a.baseState,m===null)a.memoizedState=v;else{o=m.next;var k=R=null,U=null,W=o,ne=!1;do{var le=W.lane&-536870913;if(le!==W.lane?($e&le)===le:(Ur&le)===le){var X=W.revertLane;if(X===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),le===_l&&(ne=!0);else if((Ur&X)===X){W=W.next,X===_l&&(ne=!0);continue}else le={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(k=U=le,R=v):U=U.next=le,je.lanes|=X,Qr|=X;le=W.action,eo&&u(v,le),v=W.hasEagerState?W.eagerState:u(v,le)}else X={lane:le,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(k=U=X,R=v):U=U.next=X,je.lanes|=le,Qr|=le;W=W.next}while(W!==null&&W!==o);if(U===null?R=v:U.next=k,!Zn(v,a.memoizedState)&&(rn=!0,ne&&(u=bl,u!==null)))throw u;a.memoizedState=v,a.baseState=R,a.baseQueue=U,f.lastRenderedState=v}return m===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function Pm(a){var o=Bt(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var R=m=m.next;do v=a(v,R.action),R=R.next;while(R!==m);Zn(v,o.memoizedState)||(rn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function AE(a,o,u){var f=je,m=Bt(),v=Xe;if(v){if(u===void 0)throw Error(i(407));u=u()}else u=o();var R=!Zn((at||m).memoizedState,u);if(R&&(m.memoizedState=u,rn=!0),m=m.queue,Vm(RE.bind(null,f,m,a),[a]),m.getSnapshot!==o||R||zt!==null&&zt.memoizedState.tag&1){if(f.flags|=2048,Sl(9,xE.bind(null,f,m,u,o),{destroy:void 0},null),ut===null)throw Error(i(349));v||Ur&60||TE(f,o,u)}return u}function TE(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=je.updateQueue,o===null?(o=qd(),je.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function xE(a,o,u,f){o.value=u,o.getSnapshot=f,CE(o)&&DE(a)}function RE(a,o,u){return u(function(){CE(o)&&DE(a)})}function CE(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Zn(a,u)}catch{return!0}}function DE(a){var o=jr(a,2);o!==null&&Ln(o,a,2)}function jm(a){var o=Hn();if(typeof a=="function"){var u=a;if(a=u(),eo){Ki(!0);try{u()}finally{Ki(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:a},o}function IE(a,o,u,f){return a.baseState=u,Om(a,at,typeof f=="function"?f:Bs)}function hM(a,o,u,f,m){if(Qd(a))throw Error(i(485));if(a=o.action,a!==null){var v={payload:m,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){v.listeners.push(R)}};D.T!==null?u(!0):v.isTransition=!1,f(v),u=o.pending,u===null?(v.next=o.pending=v,kE(o,v)):(v.next=u.next,o.pending=u.next=v)}}function kE(a,o){var u=o.action,f=o.payload,m=a.state;if(o.isTransition){var v=D.T,R={};D.T=R;try{var k=u(m,f),U=D.S;U!==null&&U(R,k),NE(a,o,k)}catch(W){Lm(a,o,W)}finally{D.T=v}}else try{v=u(m,f),NE(a,o,v)}catch(W){Lm(a,o,W)}}function NE(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){ME(a,o,f)},function(f){return Lm(a,o,f)}):ME(a,o,u)}function ME(a,o,u){o.status="fulfilled",o.value=u,OE(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,kE(a,u)))}function Lm(a,o,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,OE(o),o=o.next;while(o!==f)}a.action=null}function OE(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function PE(a,o){return o}function jE(a,o){if(Xe){var u=ut.formState;if(u!==null){e:{var f=je;if(Xe){if(gn){t:{for(var m=gn,v=os;m.nodeType!==8;){if(!v){m=null;break t}if(m=Vi(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){gn=Vi(m.nextSibling),f=m.data==="F!";break e}}Xa(f)}f=!1}f&&(o=u[0])}}return u=Hn(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:PE,lastRenderedState:o},u.queue=f,u=ew.bind(null,je,f),f.dispatch=u,f=jm(!1),v=Fm.bind(null,je,!1,f.queue),f=Hn(),m={state:o,dispatch:null,action:a,pending:null},f.queue=m,u=hM.bind(null,je,m,v,u),m.dispatch=u,f.memoizedState=a,[o,u,!1]}function LE(a){var o=Bt();return VE(o,at,a)}function VE(a,o,u){o=Om(a,o,PE)[0],a=Wd(Bs)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?au(o):o;var f=Bt(),m=f.queue,v=m.dispatch;return u!==f.memoizedState&&(je.flags|=2048,Sl(9,dM.bind(null,m,u),{destroy:void 0},null)),[o,v,a]}function dM(a,o){a.action=o}function UE(a){var o=Bt(),u=at;if(u!==null)return VE(o,u,a);Bt(),o=o.memoizedState,u=Bt();var f=u.queue.dispatch;return u.memoizedState=a,[o,f,!1]}function Sl(a,o,u,f){return a={tag:a,create:o,inst:u,deps:f,next:null},o=je.updateQueue,o===null&&(o=qd(),je.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,o.lastEffect=a),a}function zE(){return Bt().memoizedState}function $d(a,o,u,f){var m=Hn();je.flags|=a,m.memoizedState=Sl(1|o,u,{destroy:void 0},f===void 0?null:f)}function Yd(a,o,u,f){var m=Bt();f=f===void 0?null:f;var v=m.memoizedState.inst;at!==null&&f!==null&&Cm(f,at.memoizedState.deps)?m.memoizedState=Sl(o,u,v,f):(je.flags|=a,m.memoizedState=Sl(1|o,u,v,f))}function BE(a,o){$d(8390656,8,a,o)}function Vm(a,o){Yd(2048,8,a,o)}function HE(a,o){return Yd(4,2,a,o)}function FE(a,o){return Yd(4,4,a,o)}function qE(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function GE(a,o,u){u=u!=null?u.concat([a]):null,Yd(4,4,qE.bind(null,o,a),u)}function Um(){}function WE(a,o){var u=Bt();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&Cm(o,f[1])?f[0]:(u.memoizedState=[a,o],a)}function $E(a,o){var u=Bt();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&Cm(o,f[1]))return f[0];if(f=a(),eo){Ki(!0);try{a()}finally{Ki(!1)}}return u.memoizedState=[f,o],f}function zm(a,o,u){return u===void 0||Ur&1073741824?a.memoizedState=o:(a.memoizedState=u,a=Qw(),je.lanes|=a,Qr|=a,u)}function YE(a,o,u,f){return Zn(u,o)?u:vl.current!==null?(a=zm(a,u,f),Zn(a,o)||(rn=!0),a):Ur&42?(a=Qw(),je.lanes|=a,Qr|=a,o):(rn=!0,a.memoizedState=u)}function QE(a,o,u,f,m){var v=ue.p;ue.p=v!==0&&8>v?v:8;var R=D.T,k={};D.T=k,Fm(a,!1,o,u);try{var U=m(),W=D.S;if(W!==null&&W(k,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ne=lM(U,f);ou(a,o,ne,ni(a))}else ou(a,o,f,ni(a))}catch(le){ou(a,o,{then:function(){},status:"rejected",reason:le},ni())}finally{ue.p=v,D.T=R}}function fM(){}function Bm(a,o,u,f){if(a.tag!==5)throw Error(i(476));var m=KE(a).queue;QE(a,m,o,Re,u===null?fM:function(){return XE(a),u(f)})}function KE(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:Re},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function XE(a){var o=KE(a).next.queue;ou(a,o,{},ni())}function Hm(){return Sn(Ru)}function ZE(){return Bt().memoizedState}function JE(){return Bt().memoizedState}function gM(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=ni();a=Fr(u);var f=qr(o,a,u);f!==null&&(Ln(f,o,u),uu(f,o,u)),o={cache:Tm()},a.payload=o;return}o=o.return}}function pM(a,o,u){var f=ni();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Qd(a)?tw(o,u):(u=vm(a,o,u,f),u!==null&&(Ln(u,a,f),nw(u,o,f)))}function ew(a,o,u){var f=ni();ou(a,o,u,f)}function ou(a,o,u,f){var m={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Qd(a))tw(o,m);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var R=o.lastRenderedState,k=v(R,u);if(m.hasEagerState=!0,m.eagerState=k,Zn(k,R))return Nd(a,o,m,0),ut===null&&kd(),!1}catch{}finally{}if(u=vm(a,o,m,f),u!==null)return Ln(u,a,f),nw(u,o,f),!0}return!1}function Fm(a,o,u,f){if(f={lane:2,revertLane:Ny(),action:f,hasEagerState:!1,eagerState:null,next:null},Qd(a)){if(o)throw Error(i(479))}else o=vm(a,u,f,2),o!==null&&Ln(o,a,2)}function Qd(a){var o=a.alternate;return a===je||o!==null&&o===je}function tw(a,o){El=Hd=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function nw(a,o,u){if(u&4194176){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,xr(a,u)}}var cs={readContext:Sn,use:Gd,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt};cs.useCacheRefresh=jt,cs.useMemoCache=jt,cs.useHostTransitionStatus=jt,cs.useFormState=jt,cs.useActionState=jt,cs.useOptimistic=jt;var to={readContext:Sn,use:Gd,useCallback:function(a,o){return Hn().memoizedState=[a,o===void 0?null:o],a},useContext:Sn,useEffect:BE,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,$d(4194308,4,qE.bind(null,o,a),u)},useLayoutEffect:function(a,o){return $d(4194308,4,a,o)},useInsertionEffect:function(a,o){$d(4,2,a,o)},useMemo:function(a,o){var u=Hn();o=o===void 0?null:o;var f=a();if(eo){Ki(!0);try{a()}finally{Ki(!1)}}return u.memoizedState=[f,o],f},useReducer:function(a,o,u){var f=Hn();if(u!==void 0){var m=u(o);if(eo){Ki(!0);try{u(o)}finally{Ki(!1)}}}else m=o;return f.memoizedState=f.baseState=m,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:m},f.queue=a,a=a.dispatch=pM.bind(null,je,a),[f.memoizedState,a]},useRef:function(a){var o=Hn();return a={current:a},o.memoizedState=a},useState:function(a){a=jm(a);var o=a.queue,u=ew.bind(null,je,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Um,useDeferredValue:function(a,o){var u=Hn();return zm(u,a,o)},useTransition:function(){var a=jm(!1);return a=QE.bind(null,je,a.queue,!0,!1),Hn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var f=je,m=Hn();if(Xe){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),ut===null)throw Error(i(349));$e&60||TE(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,BE(RE.bind(null,f,v,a),[a]),f.flags|=2048,Sl(9,xE.bind(null,f,v,u,o),{destroy:void 0},null),u},useId:function(){var a=Hn(),o=ut.identifierPrefix;if(Xe){var u=Us,f=Vs;u=(f&~(1<<32-Mn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Fd++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=cM++,o=":"+o+"r"+u.toString(32)+":";return a.memoizedState=o},useCacheRefresh:function(){return Hn().memoizedState=gM.bind(null,je)}};to.useMemoCache=Mm,to.useHostTransitionStatus=Hm,to.useFormState=jE,to.useActionState=jE,to.useOptimistic=function(a){var o=Hn();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Fm.bind(null,je,!0,u),u.dispatch=o,[a,o]};var zr={readContext:Sn,use:Gd,useCallback:WE,useContext:Sn,useEffect:Vm,useImperativeHandle:GE,useInsertionEffect:HE,useLayoutEffect:FE,useMemo:$E,useReducer:Wd,useRef:zE,useState:function(){return Wd(Bs)},useDebugValue:Um,useDeferredValue:function(a,o){var u=Bt();return YE(u,at.memoizedState,a,o)},useTransition:function(){var a=Wd(Bs)[0],o=Bt().memoizedState;return[typeof a=="boolean"?a:au(a),o]},useSyncExternalStore:AE,useId:ZE};zr.useCacheRefresh=JE,zr.useMemoCache=Mm,zr.useHostTransitionStatus=Hm,zr.useFormState=LE,zr.useActionState=LE,zr.useOptimistic=function(a,o){var u=Bt();return IE(u,at,a,o)};var no={readContext:Sn,use:Gd,useCallback:WE,useContext:Sn,useEffect:Vm,useImperativeHandle:GE,useInsertionEffect:HE,useLayoutEffect:FE,useMemo:$E,useReducer:Pm,useRef:zE,useState:function(){return Pm(Bs)},useDebugValue:Um,useDeferredValue:function(a,o){var u=Bt();return at===null?zm(u,a,o):YE(u,at.memoizedState,a,o)},useTransition:function(){var a=Pm(Bs)[0],o=Bt().memoizedState;return[typeof a=="boolean"?a:au(a),o]},useSyncExternalStore:AE,useId:ZE};no.useCacheRefresh=JE,no.useMemoCache=Mm,no.useHostTransitionStatus=Hm,no.useFormState=UE,no.useActionState=UE,no.useOptimistic=function(a,o){var u=Bt();return at!==null?IE(u,at,a,o):(u.baseState=a,[a,u.queue.dispatch])};function qm(a,o,u,f){o=a.memoizedState,u=u(f,o),u=u==null?o:P({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Gm={isMounted:function(a){return(a=a._reactInternals)?fe(a)===a:!1},enqueueSetState:function(a,o,u){a=a._reactInternals;var f=ni(),m=Fr(f);m.payload=o,u!=null&&(m.callback=u),o=qr(a,m,f),o!==null&&(Ln(o,a,f),uu(o,a,f))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var f=ni(),m=Fr(f);m.tag=1,m.payload=o,u!=null&&(m.callback=u),o=qr(a,m,f),o!==null&&(Ln(o,a,f),uu(o,a,f))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=ni(),f=Fr(u);f.tag=2,o!=null&&(f.callback=o),o=qr(a,f,u),o!==null&&(Ln(o,a,u),uu(o,a,u))}};function iw(a,o,u,f,m,v,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,v,R):o.prototype&&o.prototype.isPureReactComponent?!Yc(u,f)||!Yc(m,v):!0}function sw(a,o,u,f){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==a&&Gm.enqueueReplaceState(o,o.state,null)}function io(a,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(a=a.defaultProps){u===o&&(u=P({},u));for(var m in a)u[m]===void 0&&(u[m]=a[m])}return u}var Kd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function rw(a){Kd(a)}function aw(a){console.error(a)}function ow(a){Kd(a)}function Xd(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function lw(a,o,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Wm(a,o,u){return u=Fr(u),u.tag=3,u.payload={element:null},u.callback=function(){Xd(a,o)},u}function cw(a){return a=Fr(a),a.tag=3,a}function uw(a,o,u,f){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var v=f.value;a.payload=function(){return m(v)},a.callback=function(){lw(o,u,f)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(a.callback=function(){lw(o,u,f),typeof m!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function mM(a,o,u,f,m){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&cu(o,u,m,!0),u=mi.current,u!==null){switch(u.tag){case 13:return ls===null?Ry():u.alternate===null&&It===0&&(It=3),u.flags&=-257,u.flags|=65536,u.lanes=m,f===wm?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),Dy(a,f,m)),!1;case 22:return u.flags|=65536,f===wm?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),Dy(a,f,m)),!1}throw Error(i(435,u.tag))}return Dy(a,f,m),Ry(),!1}if(Xe)return o=mi.current,o!==null?(!(o.flags&65536)&&(o.flags|=256),o.flags|=65536,o.lanes=m,f!==Em&&(a=Error(i(422),{cause:f}),Zc(fi(a,u)))):(f!==Em&&(o=Error(i(423),{cause:f}),Zc(fi(o,u))),a=a.current.alternate,a.flags|=65536,m&=-m,a.lanes|=m,f=fi(f,u),m=Wm(a.stateNode,f,m),oy(a,m),It!==4&&(It=2)),!1;var v=Error(i(520),{cause:f});if(v=fi(v,u),vu===null?vu=[v]:vu.push(v),It!==4&&(It=2),o===null)return!0;f=fi(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=m&-m,u.lanes|=a,a=Wm(u.stateNode,f,a),oy(u,a),!1;case 1:if(o=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Kr===null||!Kr.has(v))))return u.flags|=65536,m&=-m,u.lanes|=m,m=cw(m),uw(m,a,u,f),oy(u,m),!1}u=u.return}while(u!==null);return!1}var hw=Error(i(461)),rn=!1;function pn(a,o,u,f){o.child=a===null?mE(o,null,u,f):Za(o,a.child,u,f)}function dw(a,o,u,f,m){u=u.render;var v=o.ref;if("ref"in f){var R={};for(var k in f)k!=="ref"&&(R[k]=f[k])}else R=f;return ro(o),f=Dm(a,o,u,R,v,m),k=Im(),a!==null&&!rn?(km(a,o,m),Hs(a,o,m)):(Xe&&k&&_m(o),o.flags|=1,pn(a,o,f,m),o.child)}function fw(a,o,u,f,m){if(a===null){var v=u.type;return typeof v=="function"&&!py(v)&&v.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=v,gw(a,o,v,f,m)):(a=nf(u.type,null,f,o,o.mode,m),a.ref=o.ref,a.return=o,o.child=a)}if(v=a.child,!ty(a,m)){var R=v.memoizedProps;if(u=u.compare,u=u!==null?u:Yc,u(R,f)&&a.ref===o.ref)return Hs(a,o,m)}return o.flags|=1,a=Yr(v,f),a.ref=o.ref,a.return=o,o.child=a}function gw(a,o,u,f,m){if(a!==null){var v=a.memoizedProps;if(Yc(v,f)&&a.ref===o.ref)if(rn=!1,o.pendingProps=f=v,ty(a,m))a.flags&131072&&(rn=!0);else return o.lanes=a.lanes,Hs(a,o,m)}return $m(a,o,u,f,m)}function pw(a,o,u){var f=o.pendingProps,m=f.children,v=(o.stateNode._pendingVisibility&2)!==0,R=a!==null?a.memoizedState:null;if(lu(a,o),f.mode==="hidden"||v){if(o.flags&128){if(f=R!==null?R.baseLanes|u:u,a!==null){for(m=o.child=a.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;o.childLanes=v&~f}else o.childLanes=0,o.child=null;return mw(a,o,f,u)}if(u&536870912)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Bd(o,R!==null?R.cachePool:null),R!==null?yE(o,R):Sm(),vE(o);else return o.lanes=o.childLanes=536870912,mw(a,o,R!==null?R.baseLanes|u:u,u)}else R!==null?(Bd(o,R.cachePool),yE(o,R),Vr(),o.memoizedState=null):(a!==null&&Bd(o,null),Sm(),Vr());return pn(a,o,m,u),o.child}function mw(a,o,u,f){var m=Rm();return m=m===null?null:{parent:Kt._currentValue,pool:m},o.memoizedState={baseLanes:u,cachePool:m},a!==null&&Bd(o,null),Sm(),vE(o),a!==null&&cu(a,o,f,!0),null}function lu(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(a===null||a.ref!==u)&&(o.flags|=2097664)}}function $m(a,o,u,f,m){return ro(o),u=Dm(a,o,u,f,void 0,m),f=Im(),a!==null&&!rn?(km(a,o,m),Hs(a,o,m)):(Xe&&f&&_m(o),o.flags|=1,pn(a,o,u,m),o.child)}function yw(a,o,u,f,m,v){return ro(o),o.updateQueue=null,u=SE(o,f,u,m),wE(a),f=Im(),a!==null&&!rn?(km(a,o,v),Hs(a,o,v)):(Xe&&f&&_m(o),o.flags|=1,pn(a,o,u,v),o.child)}function vw(a,o,u,f,m){if(ro(o),o.stateNode===null){var v=gl,R=u.contextType;typeof R=="object"&&R!==null&&(v=Sn(R)),v=new u(f,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Gm,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=f,v.state=o.memoizedState,v.refs={},ry(o),R=u.contextType,v.context=typeof R=="object"&&R!==null?Sn(R):gl,v.state=o.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(qm(o,u,R,f),v.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(R=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),R!==v.state&&Gm.enqueueReplaceState(v,v.state,null),du(o,f,v,m),hu(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(a===null){v=o.stateNode;var k=o.memoizedProps,U=io(u,k);v.props=U;var W=v.context,ne=u.contextType;R=gl,typeof ne=="object"&&ne!==null&&(R=Sn(ne));var le=u.getDerivedStateFromProps;ne=typeof le=="function"||typeof v.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,ne||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k||W!==R)&&sw(o,v,f,R),Hr=!1;var X=o.memoizedState;v.state=X,du(o,f,v,m),hu(),W=o.memoizedState,k||X!==W||Hr?(typeof le=="function"&&(qm(o,u,le,f),W=o.memoizedState),(U=Hr||iw(o,u,U,f,X,W,R))?(ne||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=W),v.props=f,v.state=W,v.context=R,f=U):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{v=o.stateNode,ay(a,o),R=o.memoizedProps,ne=io(u,R),v.props=ne,le=o.pendingProps,X=v.context,W=u.contextType,U=gl,typeof W=="object"&&W!==null&&(U=Sn(W)),k=u.getDerivedStateFromProps,(W=typeof k=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==le||X!==U)&&sw(o,v,f,U),Hr=!1,X=o.memoizedState,v.state=X,du(o,f,v,m),hu();var te=o.memoizedState;R!==le||X!==te||Hr||a!==null&&a.dependencies!==null&&Zd(a.dependencies)?(typeof k=="function"&&(qm(o,u,k,f),te=o.memoizedState),(ne=Hr||iw(o,u,ne,f,X,te,U)||a!==null&&a.dependencies!==null&&Zd(a.dependencies))?(W||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,te,U),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,te,U)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||R===a.memoizedProps&&X===a.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&X===a.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=te),v.props=f,v.state=te,v.context=U,f=ne):(typeof v.componentDidUpdate!="function"||R===a.memoizedProps&&X===a.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&X===a.memoizedState||(o.flags|=1024),f=!1)}return v=f,lu(a,o),f=(o.flags&128)!==0,v||f?(v=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,a!==null&&f?(o.child=Za(o,a.child,null,m),o.child=Za(o,null,u,m)):pn(a,o,u,m),o.memoizedState=v.state,a=o.child):a=Hs(a,o,m),a}function _w(a,o,u,f){return Xc(),o.flags|=256,pn(a,o,u,f),o.child}var Ym={dehydrated:null,treeContext:null,retryLane:0};function Qm(a){return{baseLanes:a,cachePool:EE()}}function Km(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=bi),a}function bw(a,o,u){var f=o.pendingProps,m=!1,v=(o.flags&128)!==0,R;if((R=v)||(R=a!==null&&a.memoizedState===null?!1:(Qt.current&2)!==0),R&&(m=!0,o.flags&=-129),R=(o.flags&32)!==0,o.flags&=-33,a===null){if(Xe){if(m?Lr(o):Vr(),Xe){var k=gn,U;if(U=k){e:{for(U=k,k=os;U.nodeType!==8;){if(!k){k=null;break e}if(U=Vi(U.nextSibling),U===null){k=null;break e}}k=U}k!==null?(o.memoizedState={dehydrated:k,treeContext:Qa!==null?{id:Vs,overflow:Us}:null,retryLane:536870912},U=_i(18,null,null,0),U.stateNode=k,U.return=o,o.child=U,jn=o,gn=null,U=!0):U=!1}U||Xa(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?o.lanes=16:o.lanes=536870912,null;zs(o)}return k=f.children,f=f.fallback,m?(Vr(),m=o.mode,k=Zm({mode:"hidden",children:k},m),f=oo(f,m,u,null),k.return=o,f.return=o,k.sibling=f,o.child=k,m=o.child,m.memoizedState=Qm(u),m.childLanes=Km(a,R,u),o.memoizedState=Ym,f):(Lr(o),Xm(o,k))}if(U=a.memoizedState,U!==null&&(k=U.dehydrated,k!==null)){if(v)o.flags&256?(Lr(o),o.flags&=-257,o=Jm(a,o,u)):o.memoizedState!==null?(Vr(),o.child=a.child,o.flags|=128,o=null):(Vr(),m=f.fallback,k=o.mode,f=Zm({mode:"visible",children:f.children},k),m=oo(m,k,u,null),m.flags|=2,f.return=o,m.return=o,f.sibling=m,o.child=f,Za(o,a.child,null,u),f=o.child,f.memoizedState=Qm(u),f.childLanes=Km(a,R,u),o.memoizedState=Ym,o=m);else if(Lr(o),k.data==="$!"){if(R=k.nextSibling&&k.nextSibling.dataset,R)var W=R.dgst;R=W,f=Error(i(419)),f.stack="",f.digest=R,Zc({value:f,source:null,stack:null}),o=Jm(a,o,u)}else if(rn||cu(a,o,u,!1),R=(u&a.childLanes)!==0,rn||R){if(R=ut,R!==null){if(f=u&-u,f&42)f=1;else switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=64;break;case 268435456:f=134217728;break;default:f=0}if(f=f&(R.suspendedLanes|u)?0:f,f!==0&&f!==U.retryLane)throw U.retryLane=f,jr(a,f),Ln(R,a,f),hw}k.data==="$?"||Ry(),o=Jm(a,o,u)}else k.data==="$?"?(o.flags|=128,o.child=a.child,o=kM.bind(null,a),k._reactRetry=o,o=null):(a=U.treeContext,gn=Vi(k.nextSibling),jn=o,Xe=!0,ji=null,os=!1,a!==null&&(gi[pi++]=Vs,gi[pi++]=Us,gi[pi++]=Qa,Vs=a.id,Us=a.overflow,Qa=o),o=Xm(o,f.children),o.flags|=4096);return o}return m?(Vr(),m=f.fallback,k=o.mode,U=a.child,W=U.sibling,f=Yr(U,{mode:"hidden",children:f.children}),f.subtreeFlags=U.subtreeFlags&31457280,W!==null?m=Yr(W,m):(m=oo(m,k,u,null),m.flags|=2),m.return=o,f.return=o,f.sibling=m,o.child=f,f=m,m=o.child,k=a.child.memoizedState,k===null?k=Qm(u):(U=k.cachePool,U!==null?(W=Kt._currentValue,U=U.parent!==W?{parent:W,pool:W}:U):U=EE(),k={baseLanes:k.baseLanes|u,cachePool:U}),m.memoizedState=k,m.childLanes=Km(a,R,u),o.memoizedState=Ym,f):(Lr(o),u=a.child,a=u.sibling,u=Yr(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,a!==null&&(R=o.deletions,R===null?(o.deletions=[a],o.flags|=16):R.push(a)),o.child=u,o.memoizedState=null,u)}function Xm(a,o){return o=Zm({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Zm(a,o){return Ww(a,o,0,null)}function Jm(a,o,u){return Za(o,a.child,null,u),a=Xm(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Ew(a,o,u){a.lanes|=o;var f=a.alternate;f!==null&&(f.lanes|=o),iy(a.return,o,u)}function ey(a,o,u,f,m){var v=a.memoizedState;v===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function ww(a,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(pn(a,o,f.children,u),f=Qt.current,f&2)f=f&1|2,o.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ew(a,u,o);else if(a.tag===19)Ew(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(et(Qt,f),m){case"forwards":for(u=o.child,m=null;u!==null;)a=u.alternate,a!==null&&zd(a)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),ey(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(a=m.alternate,a!==null&&zd(a)===null){o.child=m;break}a=m.sibling,m.sibling=u,u=m,m=a}ey(o,!0,u,null,v);break;case"together":ey(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Hs(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Qr|=o.lanes,!(u&o.childLanes))if(a!==null){if(cu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(i(153));if(o.child!==null){for(a=o.child,u=Yr(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Yr(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function ty(a,o){return a.lanes&o?!0:(a=a.dependencies,!!(a!==null&&Zd(a)))}function yM(a,o,u){switch(o.tag){case 3:ct(o,o.stateNode.containerInfo),Br(o,Kt,a.memoizedState.cache),Xc();break;case 27:case 5:dn(o);break;case 4:ct(o,o.stateNode.containerInfo);break;case 10:Br(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Lr(o),o.flags|=128,null):u&o.child.childLanes?bw(a,o,u):(Lr(o),a=Hs(a,o,u),a!==null?a.sibling:null);Lr(o);break;case 19:var m=(a.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(cu(a,o,u,!1),f=(u&o.childLanes)!==0),m){if(f)return ww(a,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(Qt,Qt.current),f)break;return null;case 22:case 23:return o.lanes=0,pw(a,o,u);case 24:Br(o,Kt,a.memoizedState.cache)}return Hs(a,o,u)}function Sw(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)rn=!0;else{if(!ty(a,u)&&!(o.flags&128))return rn=!1,yM(a,o,u);rn=!!(a.flags&131072)}else rn=!1,Xe&&o.flags&1048576&&oE(o,Pd,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var f=o.elementType,m=f._init;if(f=m(f._payload),o.type=f,typeof f=="function")py(f)?(a=io(f,a),o.tag=1,o=vw(null,o,f,a,u)):(o.tag=0,o=$m(null,o,f,a,u));else{if(f!=null){if(m=f.$$typeof,m===S){o.tag=11,o=dw(null,o,f,a,u);break e}else if(m===I){o.tag=14,o=fw(null,o,f,a,u);break e}}throw o=C(f)||f,Error(i(306,o,""))}}return o;case 0:return $m(a,o,o.type,o.pendingProps,u);case 1:return f=o.type,m=io(f,o.pendingProps),vw(a,o,f,m,u);case 3:e:{if(ct(o,o.stateNode.containerInfo),a===null)throw Error(i(387));var v=o.pendingProps;m=o.memoizedState,f=m.element,ay(a,o),du(o,v,null,u);var R=o.memoizedState;if(v=R.cache,Br(o,Kt,v),v!==m.cache&&sy(o,[Kt],u,!0),hu(),v=R.element,m.isDehydrated)if(m={element:v,isDehydrated:!1,cache:R.cache},o.updateQueue.baseState=m,o.memoizedState=m,o.flags&256){o=_w(a,o,v,u);break e}else if(v!==f){f=fi(Error(i(424)),o),Zc(f),o=_w(a,o,v,u);break e}else for(gn=Vi(o.stateNode.containerInfo.firstChild),jn=o,Xe=!0,ji=null,os=!0,u=mE(o,null,v,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Xc(),v===f){o=Hs(a,o,u);break e}pn(a,o,v,u)}o=o.child}return o;case 26:return lu(a,o),a===null?(u=xS(o.type,null,o.pendingProps,null))?o.memoizedState=u:Xe||(u=o.type,a=o.pendingProps,f=pf(xe.current).createElement(u),f[tn]=o,f[Wt]=a,mn(f,u,a),Et(f),o.stateNode=f):o.memoizedState=xS(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return dn(o),a===null&&Xe&&(f=o.stateNode=SS(o.type,o.pendingProps,xe.current),jn=o,os=!0,gn=Vi(f.firstChild)),f=o.pendingProps.children,a!==null||Xe?pn(a,o,f,u):o.child=Za(o,null,f,u),lu(a,o),o.child;case 5:return a===null&&Xe&&((m=f=gn)&&(f=$M(f,o.type,o.pendingProps,os),f!==null?(o.stateNode=f,jn=o,gn=Vi(f.firstChild),os=!1,m=!0):m=!1),m||Xa(o)),dn(o),m=o.type,v=o.pendingProps,R=a!==null?a.memoizedProps:null,f=v.children,By(m,v)?f=null:R!==null&&By(m,R)&&(o.flags|=32),o.memoizedState!==null&&(m=Dm(a,o,uM,null,null,u),Ru._currentValue=m),lu(a,o),pn(a,o,f,u),o.child;case 6:return a===null&&Xe&&((a=u=gn)&&(u=YM(u,o.pendingProps,os),u!==null?(o.stateNode=u,jn=o,gn=null,a=!0):a=!1),a||Xa(o)),null;case 13:return bw(a,o,u);case 4:return ct(o,o.stateNode.containerInfo),f=o.pendingProps,a===null?o.child=Za(o,null,f,u):pn(a,o,f,u),o.child;case 11:return dw(a,o,o.type,o.pendingProps,u);case 7:return pn(a,o,o.pendingProps,u),o.child;case 8:return pn(a,o,o.pendingProps.children,u),o.child;case 12:return pn(a,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,Br(o,o.type,f.value),pn(a,o,f.children,u),o.child;case 9:return m=o.type._context,f=o.pendingProps.children,ro(o),m=Sn(m),f=f(m),o.flags|=1,pn(a,o,f,u),o.child;case 14:return fw(a,o,o.type,o.pendingProps,u);case 15:return gw(a,o,o.type,o.pendingProps,u);case 19:return ww(a,o,u);case 22:return pw(a,o,u);case 24:return ro(o),f=Sn(Kt),a===null?(m=Rm(),m===null&&(m=ut,v=Tm(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=u),m=v),o.memoizedState={parent:f,cache:m},ry(o),Br(o,Kt,m)):(a.lanes&u&&(ay(a,o),du(o,null,null,u),hu()),m=a.memoizedState,v=o.memoizedState,m.parent!==f?(m={parent:f,cache:f},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Br(o,Kt,f)):(f=v.cache,Br(o,Kt,f),f!==m.cache&&sy(o,[Kt],u,!0))),pn(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}var ny=qe(null),so=null,Fs=null;function Br(a,o,u){et(ny,o._currentValue),o._currentValue=u}function qs(a){a._currentValue=ny.current,ft(ny)}function iy(a,o,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),a===u)break;a=a.return}}function sy(a,o,u,f){var m=a.child;for(m!==null&&(m.return=a);m!==null;){var v=m.dependencies;if(v!==null){var R=m.child;v=v.firstContext;e:for(;v!==null;){var k=v;v=m;for(var U=0;U<o.length;U++)if(k.context===o[U]){v.lanes|=u,k=v.alternate,k!==null&&(k.lanes|=u),iy(v.return,u,a),f||(R=null);break e}v=k.next}}else if(m.tag===18){if(R=m.return,R===null)throw Error(i(341));R.lanes|=u,v=R.alternate,v!==null&&(v.lanes|=u),iy(R,u,a),R=null}else R=m.child;if(R!==null)R.return=m;else for(R=m;R!==null;){if(R===a){R=null;break}if(m=R.sibling,m!==null){m.return=R.return,R=m;break}R=R.return}m=R}}function cu(a,o,u,f){a=null;for(var m=o,v=!1;m!==null;){if(!v){if(m.flags&524288)v=!0;else if(m.flags&262144)break}if(m.tag===10){var R=m.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var k=m.type;Zn(m.pendingProps.value,R.value)||(a!==null?a.push(k):a=[k])}}else if(m===En.current){if(R=m.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(a!==null?a.push(Ru):a=[Ru])}m=m.return}a!==null&&sy(o,a,u,f),o.flags|=262144}function Zd(a){for(a=a.firstContext;a!==null;){if(!Zn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ro(a){so=a,Fs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Sn(a){return Aw(so,a)}function Jd(a,o){return so===null&&ro(a),Aw(a,o)}function Aw(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Fs===null){if(a===null)throw Error(i(308));Fs=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Fs=Fs.next=o;return u}var Hr=!1;function ry(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ay(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Fr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function qr(a,o,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,St&2){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,o=Md(a),rE(a,null,u),o}return Nd(a,f,o,u),Md(a)}function uu(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194176)!==0)){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,xr(a,u)}}function oy(a,o){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?m=v=R:v=v.next=R,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var ly=!1;function hu(){if(ly){var a=bl;if(a!==null)throw a}}function du(a,o,u,f){ly=!1;var m=a.updateQueue;Hr=!1;var v=m.firstBaseUpdate,R=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var U=k,W=U.next;U.next=null,R===null?v=W:R.next=W,R=U;var ne=a.alternate;ne!==null&&(ne=ne.updateQueue,k=ne.lastBaseUpdate,k!==R&&(k===null?ne.firstBaseUpdate=W:k.next=W,ne.lastBaseUpdate=U))}if(v!==null){var le=m.baseState;R=0,ne=W=U=null,k=v;do{var X=k.lane&-536870913,te=X!==k.lane;if(te?($e&X)===X:(f&X)===X){X!==0&&X===_l&&(ly=!0),ne!==null&&(ne=ne.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var ve=a,Me=k;X=o;var kt=u;switch(Me.tag){case 1:if(ve=Me.payload,typeof ve=="function"){le=ve.call(kt,le,X);break e}le=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Me.payload,X=typeof ve=="function"?ve.call(kt,le,X):ve,X==null)break e;le=P({},le,X);break e;case 2:Hr=!0}}X=k.callback,X!==null&&(a.flags|=64,te&&(a.flags|=8192),te=m.callbacks,te===null?m.callbacks=[X]:te.push(X))}else te={lane:X,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ne===null?(W=ne=te,U=le):ne=ne.next=te,R|=X;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;te=k,k=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);ne===null&&(U=le),m.baseState=U,m.firstBaseUpdate=W,m.lastBaseUpdate=ne,v===null&&(m.shared.lanes=0),Qr|=R,a.lanes=R,a.memoizedState=le}}function Tw(a,o){if(typeof a!="function")throw Error(i(191,a));a.call(o)}function xw(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Tw(u[a],o)}function fu(a,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&a)===a){f=void 0;var v=u.create,R=u.inst;f=v(),R.destroy=f}u=u.next}while(u!==m)}}catch(k){lt(o,o.return,k)}}function Gr(a,o,u){try{var f=o.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var v=m.next;f=v;do{if((f.tag&a)===a){var R=f.inst,k=R.destroy;if(k!==void 0){R.destroy=void 0,m=o;var U=u;try{k()}catch(W){lt(m,U,W)}}}f=f.next}while(f!==v)}}catch(W){lt(o,o.return,W)}}function Rw(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{xw(o,u)}catch(f){lt(a,a.return,f)}}}function Cw(a,o,u){u.props=io(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){lt(a,o,f)}}function ao(a,o){try{var u=a.ref;if(u!==null){var f=a.stateNode;switch(a.tag){case 26:case 27:case 5:var m=f;break;default:m=f}typeof u=="function"?a.refCleanup=u(m):u.current=m}}catch(v){lt(a,o,v)}}function Jn(a,o){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(m){lt(a,o,m)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){lt(a,o,m)}else u.current=null}function Dw(a){var o=a.type,u=a.memoizedProps,f=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(m){lt(a,a.return,m)}}function Iw(a,o,u){try{var f=a.stateNode;HM(f,a.type,u,o),f[Wt]=o}catch(m){lt(a,a.return,m)}}function kw(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function cy(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||kw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function uy(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(a,o):u.insertBefore(a,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(a,u)):(o=u,o.appendChild(a)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=gf));else if(f!==4&&f!==27&&(a=a.child,a!==null))for(uy(a,o,u),a=a.sibling;a!==null;)uy(a,o,u),a=a.sibling}function ef(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(f!==4&&f!==27&&(a=a.child,a!==null))for(ef(a,o,u),a=a.sibling;a!==null;)ef(a,o,u),a=a.sibling}var Gs=!1,Dt=!1,hy=!1,Nw=typeof WeakSet=="function"?WeakSet:Set,an=null,Mw=!1;function vM(a,o){if(a=a.containerInfo,Uy=Ef,a=K0(a),fm(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var R=0,k=-1,U=-1,W=0,ne=0,le=a,X=null;t:for(;;){for(var te;le!==u||m!==0&&le.nodeType!==3||(k=R+m),le!==v||f!==0&&le.nodeType!==3||(U=R+f),le.nodeType===3&&(R+=le.nodeValue.length),(te=le.firstChild)!==null;)X=le,le=te;for(;;){if(le===a)break t;if(X===u&&++W===m&&(k=R),X===v&&++ne===f&&(U=R),(te=le.nextSibling)!==null)break;le=X,X=le.parentNode}le=te}u=k===-1||U===-1?null:{start:k,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(zy={focusedElem:a,selectionRange:u},Ef=!1,an=o;an!==null;)if(o=an,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,an=a;else for(;an!==null;){switch(o=an,v=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if(a&1024&&v!==null){a=void 0,u=o,m=v.memoizedProps,v=v.memoizedState,f=u.stateNode;try{var ve=io(u.type,m,u.elementType===u.type);a=f.getSnapshotBeforeUpdate(ve,v),f.__reactInternalSnapshotBeforeUpdate=a}catch(Me){lt(u,u.return,Me)}}break;case 3:if(a&1024){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)qy(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":qy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(a&1024)throw Error(i(163))}if(a=o.sibling,a!==null){a.return=o.return,an=a;break}an=o.return}return ve=Mw,Mw=!1,ve}function Ow(a,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:$s(a,u),f&4&&fu(5,u);break;case 1:if($s(a,u),f&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(k){lt(u,u.return,k)}else{var m=io(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(m,o,a.__reactInternalSnapshotBeforeUpdate)}catch(k){lt(u,u.return,k)}}f&64&&Rw(u),f&512&&ao(u,u.return);break;case 3:if($s(a,u),f&64&&(f=u.updateQueue,f!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{xw(f,a)}catch(k){lt(u,u.return,k)}}break;case 26:$s(a,u),f&512&&ao(u,u.return);break;case 27:case 5:$s(a,u),o===null&&f&4&&Dw(u),f&512&&ao(u,u.return);break;case 12:$s(a,u);break;case 13:$s(a,u),f&4&&Lw(a,u);break;case 22:if(m=u.memoizedState!==null||Gs,!m){o=o!==null&&o.memoizedState!==null||Dt;var v=Gs,R=Dt;Gs=m,(Dt=o)&&!R?Wr(a,u,(u.subtreeFlags&8772)!==0):$s(a,u),Gs=v,Dt=R}f&512&&(u.memoizedProps.mode==="manual"?ao(u,u.return):Jn(u,u.return));break;default:$s(a,u)}}function Pw(a){var o=a.alternate;o!==null&&(a.alternate=null,Pw(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&ja(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ht=null,ei=!1;function Ws(a,o,u){for(u=u.child;u!==null;)jw(a,o,u),u=u.sibling}function jw(a,o,u){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Er,u)}catch{}switch(u.tag){case 26:Dt||Jn(u,o),Ws(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Dt||Jn(u,o);var f=Ht,m=ei;for(Ht=u.stateNode,Ws(a,o,u),u=u.stateNode,o=u.attributes;o.length;)u.removeAttributeNode(o[0]);ja(u),Ht=f,ei=m;break;case 5:Dt||Jn(u,o);case 6:m=Ht;var v=ei;if(Ht=null,Ws(a,o,u),Ht=m,ei=v,Ht!==null)if(ei)try{a=Ht,f=u.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)}catch(R){lt(u,o,R)}else try{Ht.removeChild(u.stateNode)}catch(R){lt(u,o,R)}break;case 18:Ht!==null&&(ei?(o=Ht,u=u.stateNode,o.nodeType===8?Fy(o.parentNode,u):o.nodeType===1&&Fy(o,u),ku(o)):Fy(Ht,u.stateNode));break;case 4:f=Ht,m=ei,Ht=u.stateNode.containerInfo,ei=!0,Ws(a,o,u),Ht=f,ei=m;break;case 0:case 11:case 14:case 15:Dt||Gr(2,u,o),Dt||Gr(4,u,o),Ws(a,o,u);break;case 1:Dt||(Jn(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Cw(u,o,f)),Ws(a,o,u);break;case 21:Ws(a,o,u);break;case 22:Dt||Jn(u,o),Dt=(f=Dt)||u.memoizedState!==null,Ws(a,o,u),Dt=f;break;default:Ws(a,o,u)}}function Lw(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ku(a)}catch(u){lt(o,o.return,u)}}function _M(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Nw),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Nw),o;default:throw Error(i(435,a.tag))}}function dy(a,o){var u=_M(a);o.forEach(function(f){var m=NM.bind(null,a,f);u.has(f)||(u.add(f),f.then(m,m))})}function yi(a,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f],v=a,R=o,k=R;e:for(;k!==null;){switch(k.tag){case 27:case 5:Ht=k.stateNode,ei=!1;break e;case 3:Ht=k.stateNode.containerInfo,ei=!0;break e;case 4:Ht=k.stateNode.containerInfo,ei=!0;break e}k=k.return}if(Ht===null)throw Error(i(160));jw(v,R,m),Ht=null,ei=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Vw(o,a),o=o.sibling}var Li=null;function Vw(a,o){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:yi(o,a),vi(a),f&4&&(Gr(3,a,a.return),fu(3,a),Gr(5,a,a.return));break;case 1:yi(o,a),vi(a),f&512&&(Dt||u===null||Jn(u,u.return)),f&64&&Gs&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var m=Li;if(yi(o,a),vi(a),f&512&&(Dt||u===null||Jn(u,u.return)),f&4){var v=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){e:{f=a.type,u=a.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Cr]||v[tn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(f),m.head.insertBefore(v,m.querySelector("head > title"))),mn(v,f,u),v[tn]=a,Et(v),f=v;break e;case"link":var R=DS("link","href",m).get(f+(u.href||""));if(R){for(var k=0;k<R.length;k++)if(v=R[k],v.getAttribute("href")===(u.href==null?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(k,1);break t}}v=m.createElement(f),mn(v,f,u),m.head.appendChild(v);break;case"meta":if(R=DS("meta","content",m).get(f+(u.content||""))){for(k=0;k<R.length;k++)if(v=R[k],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(k,1);break t}}v=m.createElement(f),mn(v,f,u),m.head.appendChild(v);break;default:throw Error(i(468,f))}v[tn]=a,Et(v),f=v}a.stateNode=f}else IS(m,a.type,a.stateNode);else a.stateNode=CS(m,f,a.memoizedProps);else v!==f?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,f===null?IS(m,a.type,a.stateNode):CS(m,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Iw(a,a.memoizedProps,u.memoizedProps)}break;case 27:if(f&4&&a.alternate===null){m=a.stateNode,v=a.memoizedProps;try{for(var U=m.firstChild;U;){var W=U.nextSibling,ne=U.nodeName;U[Cr]||ne==="HEAD"||ne==="BODY"||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&U.rel.toLowerCase()==="stylesheet"||m.removeChild(U),U=W}for(var le=a.type,X=m.attributes;X.length;)m.removeAttributeNode(X[0]);mn(m,le,v),m[tn]=a,m[Wt]=v}catch(ve){lt(a,a.return,ve)}}case 5:if(yi(o,a),vi(a),f&512&&(Dt||u===null||Jn(u,u.return)),a.flags&32){m=a.stateNode;try{li(m,"")}catch(ve){lt(a,a.return,ve)}}f&4&&a.stateNode!=null&&(m=a.memoizedProps,Iw(a,m,u!==null?u.memoizedProps:m)),f&1024&&(hy=!0);break;case 6:if(yi(o,a),vi(a),f&4){if(a.stateNode===null)throw Error(i(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(ve){lt(a,a.return,ve)}}break;case 3:if(vf=null,m=Li,Li=mf(o.containerInfo),yi(o,a),Li=m,vi(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{ku(o.containerInfo)}catch(ve){lt(a,a.return,ve)}hy&&(hy=!1,Uw(a));break;case 4:f=Li,Li=mf(a.stateNode.containerInfo),yi(o,a),vi(a),Li=f;break;case 12:yi(o,a),vi(a);break;case 13:yi(o,a),vi(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ey=zn()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,dy(a,f)));break;case 22:if(f&512&&(Dt||u===null||Jn(u,u.return)),U=a.memoizedState!==null,W=u!==null&&u.memoizedState!==null,ne=Gs,le=Dt,Gs=ne||U,Dt=le||W,yi(o,a),Dt=le,Gs=ne,vi(a),o=a.stateNode,o._current=a,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,f&8192&&(o._visibility=U?o._visibility&-2:o._visibility|1,U&&(o=Gs||Dt,u===null||W||o||Al(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))e:for(u=null,o=a;;){if(o.tag===5||o.tag===26||o.tag===27){if(u===null){W=u=o;try{if(m=W.stateNode,U)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{R=W.stateNode,k=W.memoizedProps.style;var te=k!=null&&k.hasOwnProperty("display")?k.display:null;R.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ve){lt(W,W.return,ve)}}}else if(o.tag===6){if(u===null){W=o;try{W.stateNode.nodeValue=U?"":W.memoizedProps}catch(ve){lt(W,W.return,ve)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,dy(a,u))));break;case 19:yi(o,a),vi(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,dy(a,f)));break;case 21:break;default:yi(o,a),vi(a)}}function vi(a){var o=a.flags;if(o&2){try{if(a.tag!==27){e:{for(var u=a.return;u!==null;){if(kw(u)){var f=u;break e}u=u.return}throw Error(i(160))}switch(f.tag){case 27:var m=f.stateNode,v=cy(a);ef(a,v,m);break;case 5:var R=f.stateNode;f.flags&32&&(li(R,""),f.flags&=-33);var k=cy(a);ef(a,k,R);break;case 3:case 4:var U=f.stateNode.containerInfo,W=cy(a);uy(a,W,U);break;default:throw Error(i(161))}}}catch(ne){lt(a,a.return,ne)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function Uw(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;Uw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function $s(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Ow(a,o.alternate,o),o=o.sibling}function Al(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Gr(4,o,o.return),Al(o);break;case 1:Jn(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Cw(o,o.return,u),Al(o);break;case 26:case 27:case 5:Jn(o,o.return),Al(o);break;case 22:Jn(o,o.return),o.memoizedState===null&&Al(o);break;default:Al(o)}a=a.sibling}}function Wr(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,m=a,v=o,R=v.flags;switch(v.tag){case 0:case 11:case 15:Wr(m,v,u),fu(4,v);break;case 1:if(Wr(m,v,u),f=v,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(W){lt(f,f.return,W)}if(f=v,m=f.updateQueue,m!==null){var k=f.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)Tw(U[m],k)}catch(W){lt(f,f.return,W)}}u&&R&64&&Rw(v),ao(v,v.return);break;case 26:case 27:case 5:Wr(m,v,u),u&&f===null&&R&4&&Dw(v),ao(v,v.return);break;case 12:Wr(m,v,u);break;case 13:Wr(m,v,u),u&&R&4&&Lw(m,v);break;case 22:v.memoizedState===null&&Wr(m,v,u),ao(v,v.return);break;default:Wr(m,v,u)}o=o.sibling}}function fy(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&iu(u))}function gy(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&iu(a))}function $r(a,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)zw(a,o,u,f),o=o.sibling}function zw(a,o,u,f){var m=o.flags;switch(o.tag){case 0:case 11:case 15:$r(a,o,u,f),m&2048&&fu(9,o);break;case 3:$r(a,o,u,f),m&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&iu(a)));break;case 12:if(m&2048){$r(a,o,u,f),a=o.stateNode;try{var v=o.memoizedProps,R=v.id,k=v.onPostCommit;typeof k=="function"&&k(R,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(U){lt(o,o.return,U)}}else $r(a,o,u,f);break;case 23:break;case 22:v=o.stateNode,o.memoizedState!==null?v._visibility&4?$r(a,o,u,f):gu(a,o):v._visibility&4?$r(a,o,u,f):(v._visibility|=4,Tl(a,o,u,f,(o.subtreeFlags&10256)!==0)),m&2048&&fy(o.alternate,o);break;case 24:$r(a,o,u,f),m&2048&&gy(o.alternate,o);break;default:$r(a,o,u,f)}}function Tl(a,o,u,f,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=a,R=o,k=u,U=f,W=R.flags;switch(R.tag){case 0:case 11:case 15:Tl(v,R,k,U,m),fu(8,R);break;case 23:break;case 22:var ne=R.stateNode;R.memoizedState!==null?ne._visibility&4?Tl(v,R,k,U,m):gu(v,R):(ne._visibility|=4,Tl(v,R,k,U,m)),m&&W&2048&&fy(R.alternate,R);break;case 24:Tl(v,R,k,U,m),m&&W&2048&&gy(R.alternate,R);break;default:Tl(v,R,k,U,m)}o=o.sibling}}function gu(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,f=o,m=f.flags;switch(f.tag){case 22:gu(u,f),m&2048&&fy(f.alternate,f);break;case 24:gu(u,f),m&2048&&gy(f.alternate,f);break;default:gu(u,f)}o=o.sibling}}var pu=8192;function xl(a){if(a.subtreeFlags&pu)for(a=a.child;a!==null;)Bw(a),a=a.sibling}function Bw(a){switch(a.tag){case 26:xl(a),a.flags&pu&&a.memoizedState!==null&&oO(Li,a.memoizedState,a.memoizedProps);break;case 5:xl(a);break;case 3:case 4:var o=Li;Li=mf(a.stateNode.containerInfo),xl(a),Li=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=pu,pu=16777216,xl(a),pu=o):xl(a));break;default:xl(a)}}function Hw(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function mu(a){var o=a.deletions;if(a.flags&16){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];an=f,qw(f,a)}Hw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Fw(a),a=a.sibling}function Fw(a){switch(a.tag){case 0:case 11:case 15:mu(a),a.flags&2048&&Gr(9,a,a.return);break;case 3:mu(a);break;case 12:mu(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&4&&(a.return===null||a.return.tag!==13)?(o._visibility&=-5,tf(a)):mu(a);break;default:mu(a)}}function tf(a){var o=a.deletions;if(a.flags&16){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];an=f,qw(f,a)}Hw(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Gr(8,o,o.return),tf(o);break;case 22:u=o.stateNode,u._visibility&4&&(u._visibility&=-5,tf(o));break;default:tf(o)}a=a.sibling}}function qw(a,o){for(;an!==null;){var u=an;switch(u.tag){case 0:case 11:case 15:Gr(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:iu(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,an=f;else e:for(u=a;an!==null;){f=an;var m=f.sibling,v=f.return;if(Pw(f),f===u){an=null;break e}if(m!==null){m.return=v,an=m;break e}an=v}}}function bM(a,o,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(a,o,u,f){return new bM(a,o,u,f)}function py(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Yr(a,o){var u=a.alternate;return u===null?(u=_i(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&31457280,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function Gw(a,o){a.flags&=31457282;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function nf(a,o,u,f,m,v){var R=0;if(f=a,typeof a=="function")py(a)&&(R=1);else if(typeof a=="string")R=rO(a,u,hn.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case h:return oo(u.children,m,v,o);case d:R=8,m|=24;break;case g:return a=_i(12,u,o,m|2),a.elementType=g,a.lanes=v,a;case x:return a=_i(13,u,o,m),a.elementType=x,a.lanes=v,a;case A:return a=_i(19,u,o,m),a.elementType=A,a.lanes=v,a;case j:return Ww(u,m,v,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case y:case b:R=10;break e;case _:R=9;break e;case S:R=11;break e;case I:R=14;break e;case O:R=16,f=null;break e}R=29,u=Error(i(130,a===null?"null":typeof a,"")),f=null}return o=_i(R,u,o,m),o.elementType=a,o.type=f,o.lanes=v,o}function oo(a,o,u,f){return a=_i(7,a,f,o),a.lanes=u,a}function Ww(a,o,u,f){a=_i(22,a,f,o),a.elementType=j,a.lanes=u;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var v=m._current;if(v===null)throw Error(i(456));if(!(m._pendingVisibility&2)){var R=jr(v,2);R!==null&&(m._pendingVisibility|=2,Ln(R,v,2))}},attach:function(){var v=m._current;if(v===null)throw Error(i(456));if(m._pendingVisibility&2){var R=jr(v,2);R!==null&&(m._pendingVisibility&=-3,Ln(R,v,2))}}};return a.stateNode=m,a}function my(a,o,u){return a=_i(6,a,null,o),a.lanes=u,a}function yy(a,o,u){return o=_i(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function Ys(a){a.flags|=4}function $w(a,o){if(o.type!=="stylesheet"||o.state.loading&4)a.flags&=-16777217;else if(a.flags|=16777216,!kS(o)){if(o=mi.current,o!==null&&(($e&4194176)===$e?ls!==null:($e&62914560)!==$e&&!($e&536870912)||o!==ls))throw eu=wm,uE;a.flags|=8192}}function sf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Ar():536870912,a.lanes|=o,Cl|=o)}function yu(a,o){if(!Xe)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function wt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(o)for(var m=a.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&31457280,f|=m.flags&31457280,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=f,a.childLanes=u,o}function EM(a,o,u){var f=o.pendingProps;switch(bm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(o),null;case 1:return wt(o),null;case 3:return u=o.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),qs(Kt),gt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Kc(o)?Ys(o):a===null||a.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,ji!==null&&(Ty(ji),ji=null))),wt(o),null;case 26:return u=o.memoizedState,a===null?(Ys(o),u!==null?(wt(o),$w(o,u)):(wt(o),o.flags&=-16777217)):u?u!==a.memoizedState?(Ys(o),wt(o),$w(o,u)):(wt(o),o.flags&=-16777217):(a.memoizedProps!==f&&Ys(o),wt(o),o.flags&=-16777217),null;case 27:Yi(o),u=xe.current;var m=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==f&&Ys(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return wt(o),null}a=hn.current,Kc(o)?lE(o):(a=SS(m,f,u),o.stateNode=a,Ys(o))}return wt(o),null;case 5:if(Yi(o),u=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&Ys(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return wt(o),null}if(a=hn.current,Kc(o))lE(o);else{switch(m=pf(xe.current),a){case 1:a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=m.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?m.createElement(u,{is:f.is}):m.createElement(u)}}a[tn]=o,a[Wt]=f;e:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break e;for(;m.sibling===null;){if(m.return===null||m.return===o)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=a;e:switch(mn(a,u,f),u){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ys(o)}}return wt(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==f&&Ys(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(a=xe.current,Kc(o)){if(a=o.stateNode,u=o.memoizedProps,f=null,m=jn,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}a[tn]=o,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||yS(a.nodeValue,u)),a||Xa(o)}else a=pf(a).createTextNode(f),a[tn]=o,o.stateNode=a}return wt(o),null;case 13:if(f=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(m=Kc(o),f!==null&&f.dehydrated!==null){if(a===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[tn]=o}else Xc(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;wt(o),m=!1}else ji!==null&&(Ty(ji),ji=null),m=!0;if(!m)return o.flags&256?(zs(o),o):(zs(o),null)}if(zs(o),o.flags&128)return o.lanes=u,o;if(u=f!==null,a=a!==null&&a.memoizedState!==null,u){f=o.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==m&&(f.flags|=2048)}return u!==a&&u&&(o.child.flags|=8192),sf(o,o.updateQueue),wt(o),null;case 4:return gt(),a===null&&jy(o.stateNode.containerInfo),wt(o),null;case 10:return qs(o.type),wt(o),null;case 19:if(ft(Qt),m=o.memoizedState,m===null)return wt(o),null;if(f=(o.flags&128)!==0,v=m.rendering,v===null)if(f)yu(m,!1);else{if(It!==0||a!==null&&a.flags&128)for(a=o.child;a!==null;){if(v=zd(a),v!==null){for(o.flags|=128,yu(m,!1),a=v.updateQueue,o.updateQueue=a,sf(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)Gw(u,a),u=u.sibling;return et(Qt,Qt.current&1|2),o.child}a=a.sibling}m.tail!==null&&zn()>rf&&(o.flags|=128,f=!0,yu(m,!1),o.lanes=4194304)}else{if(!f)if(a=zd(v),a!==null){if(o.flags|=128,f=!0,a=a.updateQueue,o.updateQueue=a,sf(o,a),yu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Xe)return wt(o),null}else 2*zn()-m.renderingStartTime>rf&&u!==536870912&&(o.flags|=128,f=!0,yu(m,!1),o.lanes=4194304);m.isBackwards?(v.sibling=o.child,o.child=v):(a=m.last,a!==null?a.sibling=v:o.child=v,m.last=v)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=zn(),o.sibling=null,a=Qt.current,et(Qt,f?a&1|2:a&1),o):(wt(o),null);case 22:case 23:return zs(o),Am(),f=o.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?u&536870912&&!(o.flags&128)&&(wt(o),o.subtreeFlags&6&&(o.flags|=8192)):wt(o),u=o.updateQueue,u!==null&&sf(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),a!==null&&ft(Ja),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),qs(Kt),wt(o),null;case 25:return null}throw Error(i(156,o.tag))}function wM(a,o){switch(bm(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return qs(Kt),gt(),a=o.flags,a&65536&&!(a&128)?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Yi(o),null;case 13:if(zs(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Xc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ft(Qt),null;case 4:return gt(),null;case 10:return qs(o.type),null;case 22:case 23:return zs(o),Am(),a!==null&&ft(Ja),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return qs(Kt),null;case 25:return null;default:return null}}function Yw(a,o){switch(bm(o),o.tag){case 3:qs(Kt),gt();break;case 26:case 27:case 5:Yi(o);break;case 4:gt();break;case 13:zs(o);break;case 19:ft(Qt);break;case 10:qs(o.type);break;case 22:case 23:zs(o),Am(),a!==null&&ft(Ja);break;case 24:qs(Kt)}}var SM={getCacheForType:function(a){var o=Sn(Kt),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u}},AM=typeof WeakMap=="function"?WeakMap:Map,St=0,ut=null,Ve=null,$e=0,ht=0,ti=null,Qs=!1,Rl=!1,vy=!1,Ks=0,It=0,Qr=0,lo=0,_y=0,bi=0,Cl=0,vu=null,us=null,by=!1,Ey=0,rf=1/0,af=null,Kr=null,of=!1,co=null,_u=0,wy=0,Sy=null,bu=0,Ay=null;function ni(){if(St&2&&$e!==0)return $e&-$e;if(D.T!==null){var a=_l;return a!==0?a:Ny()}return dd()}function Qw(){bi===0&&(bi=!($e&536870912)||Xe?Nc():536870912);var a=mi.current;return a!==null&&(a.flags|=32),bi}function Ln(a,o,u){(a===ut&&ht===2||a.cancelPendingCommit!==null)&&(Dl(a,0),Xs(a,$e,bi,!1)),Pt(a,u),(!(St&2)||a!==ut)&&(a===ut&&(!(St&2)&&(lo|=u),It===4&&Xs(a,$e,bi,!1)),hs(a))}function Kw(a,o,u){if(St&6)throw Error(i(327));var f=!u&&(o&60)===0&&(o&a.expiredLanes)===0||Sr(a,o),m=f?RM(a,o):Cy(a,o,!0),v=f;do{if(m===0){Rl&&!f&&Xs(a,o,0,!1);break}else if(m===6)Xs(a,o,0,!Qs);else{if(u=a.current.alternate,v&&!TM(u)){m=Cy(a,o,!1),v=!1;continue}if(m===2){if(v=o,a.errorRecoveryDisabledLanes&v)var R=0;else R=a.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){o=R;e:{var k=a;m=vu;var U=k.current.memoizedState.isDehydrated;if(U&&(Dl(k,R).flags|=256),R=Cy(k,R,!1),R!==2){if(vy&&!U){k.errorRecoveryDisabledLanes|=v,lo|=v,m=4;break e}v=us,us=m,v!==null&&Ty(v)}m=R}if(v=!1,m!==2)continue}}if(m===1){Dl(a,0),Xs(a,o,0,!0);break}e:{switch(f=a,m){case 0:case 1:throw Error(i(345));case 4:if((o&4194176)===o){Xs(f,o,bi,!Qs);break e}break;case 2:us=null;break;case 3:case 5:break;default:throw Error(i(329))}if(f.finishedWork=u,f.finishedLanes=o,(o&62914560)===o&&(v=Ey+300-zn(),10<v)){if(Xs(f,o,bi,!Qs),ai(f,0)!==0)break e;f.timeoutHandle=bS(Xw.bind(null,f,u,us,af,by,o,bi,lo,Cl,Qs,2,-0,0),v);break e}Xw(f,u,us,af,by,o,bi,lo,Cl,Qs,0,-0,0)}}break}while(!0);hs(a)}function Ty(a){us===null?us=a:us.push.apply(us,a)}function Xw(a,o,u,f,m,v,R,k,U,W,ne,le,X){var te=o.subtreeFlags;if((te&8192||(te&16785408)===16785408)&&(xu={stylesheets:null,count:0,unsuspend:aO},Bw(o),o=lO(),o!==null)){a.cancelPendingCommit=o(sS.bind(null,a,u,f,m,R,k,U,1,le,X)),Xs(a,v,R,!W);return}sS(a,u,f,m,R,k,U,ne,le,X)}function TM(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!Zn(v(),m))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Xs(a,o,u,f){o&=~_y,o&=~lo,a.suspendedLanes|=o,a.pingedLanes&=~o,f&&(a.warmLanes|=o),f=a.expirationTimes;for(var m=o;0<m;){var v=31-Mn(m),R=1<<v;f[v]=-1,m&=~R}u!==0&&Tr(a,u,o)}function lf(){return St&6?!0:(Eu(0),!1)}function xy(){if(Ve!==null){if(ht===0)var a=Ve.return;else a=Ve,Fs=so=null,Nm(a),yl=null,tu=0,a=Ve;for(;a!==null;)Yw(a.alternate,a),a=a.return;Ve=null}}function Dl(a,o){a.finishedWork=null,a.finishedLanes=0;var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,qM(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),xy(),ut=a,Ve=u=Yr(a.current,null),$e=o,ht=0,ti=null,Qs=!1,Rl=Sr(a,o),vy=!1,Cl=bi=_y=lo=Qr=It=0,us=vu=null,by=!1,o&8&&(o|=o&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=o;0<f;){var m=31-Mn(f),v=1<<m;o|=a[m],f&=~v}return Ks=o,kd(),u}function Zw(a,o){je=null,D.H=cs,o===Jc?(o=fE(),ht=3):o===uE?(o=fE(),ht=4):ht=o===hw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ti=o,Ve===null&&(It=1,Xd(a,fi(o,a.current)))}function Jw(){var a=D.H;return D.H=cs,a===null?cs:a}function eS(){var a=D.A;return D.A=SM,a}function Ry(){It=4,Qs||($e&4194176)!==$e&&mi.current!==null||(Rl=!0),!(Qr&134217727)&&!(lo&134217727)||ut===null||Xs(ut,$e,bi,!1)}function Cy(a,o,u){var f=St;St|=2;var m=Jw(),v=eS();(ut!==a||$e!==o)&&(af=null,Dl(a,o)),o=!1;var R=It;e:do try{if(ht!==0&&Ve!==null){var k=Ve,U=ti;switch(ht){case 8:xy(),R=6;break e;case 3:case 2:case 6:mi.current===null&&(o=!0);var W=ht;if(ht=0,ti=null,Il(a,k,U,W),u&&Rl){R=0;break e}break;default:W=ht,ht=0,ti=null,Il(a,k,U,W)}}xM(),R=It;break}catch(ne){Zw(a,ne)}while(!0);return o&&a.shellSuspendCounter++,Fs=so=null,St=f,D.H=m,D.A=v,Ve===null&&(ut=null,$e=0,kd()),R}function xM(){for(;Ve!==null;)tS(Ve)}function RM(a,o){var u=St;St|=2;var f=Jw(),m=eS();ut!==a||$e!==o?(af=null,rf=zn()+500,Dl(a,o)):Rl=Sr(a,o);e:do try{if(ht!==0&&Ve!==null){o=Ve;var v=ti;t:switch(ht){case 1:ht=0,ti=null,Il(a,o,v,1);break;case 2:if(hE(v)){ht=0,ti=null,nS(o);break}o=function(){ht===2&&ut===a&&(ht=7),hs(a)},v.then(o,o);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:hE(v)?(ht=0,ti=null,nS(o)):(ht=0,ti=null,Il(a,o,v,7));break;case 5:var R=null;switch(Ve.tag){case 26:R=Ve.memoizedState;case 5:case 27:var k=Ve;if(!R||kS(R)){ht=0,ti=null;var U=k.sibling;if(U!==null)Ve=U;else{var W=k.return;W!==null?(Ve=W,cf(W)):Ve=null}break t}}ht=0,ti=null,Il(a,o,v,5);break;case 6:ht=0,ti=null,Il(a,o,v,6);break;case 8:xy(),It=6;break e;default:throw Error(i(462))}}CM();break}catch(ne){Zw(a,ne)}while(!0);return Fs=so=null,D.H=f,D.A=m,St=u,Ve!==null?0:(ut=null,$e=0,kd(),It)}function CM(){for(;Ve!==null&&!nm();)tS(Ve)}function tS(a){var o=Sw(a.alternate,a,Ks);a.memoizedProps=a.pendingProps,o===null?cf(a):Ve=o}function nS(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=yw(u,o,o.pendingProps,o.type,void 0,$e);break;case 11:o=yw(u,o,o.pendingProps,o.type.render,o.ref,$e);break;case 5:Nm(o);default:Yw(u,o),o=Ve=Gw(o,Ks),o=Sw(u,o,Ks)}a.memoizedProps=a.pendingProps,o===null?cf(a):Ve=o}function Il(a,o,u,f){Fs=so=null,Nm(o),yl=null,tu=0;var m=o.return;try{if(mM(a,m,o,u,$e)){It=1,Xd(a,fi(u,a.current)),Ve=null;return}}catch(v){if(m!==null)throw Ve=m,v;It=1,Xd(a,fi(u,a.current)),Ve=null;return}o.flags&32768?(Xe||f===1?a=!0:Rl||$e&536870912?a=!1:(Qs=a=!0,(f===2||f===3||f===6)&&(f=mi.current,f!==null&&f.tag===13&&(f.flags|=16384))),iS(o,a)):cf(o)}function cf(a){var o=a;do{if(o.flags&32768){iS(o,Qs);return}a=o.return;var u=EM(o.alternate,o,Ks);if(u!==null){Ve=u;return}if(o=o.sibling,o!==null){Ve=o;return}Ve=o=a}while(o!==null);It===0&&(It=5)}function iS(a,o){do{var u=wM(a.alternate,a);if(u!==null){u.flags&=32767,Ve=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){Ve=a;return}Ve=a=u}while(a!==null);It=6,Ve=null}function sS(a,o,u,f,m,v,R,k,U,W){var ne=D.T,le=ue.p;try{ue.p=2,D.T=null,DM(a,o,u,f,le,m,v,R,k,U,W)}finally{D.T=ne,ue.p=le}}function DM(a,o,u,f,m,v,R,k){do kl();while(co!==null);if(St&6)throw Error(i(327));var U=a.finishedWork;if(f=a.finishedLanes,U===null)return null;if(a.finishedWork=null,a.finishedLanes=0,U===a.current)throw Error(i(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var W=U.lanes|U.childLanes;if(W|=ym,ud(a,f,W,v,R,k),a===ut&&(Ve=ut=null,$e=0),!(U.subtreeFlags&10256)&&!(U.flags&10256)||of||(of=!0,wy=W,Sy=u,MM(Cs,function(){return kl(),null})),u=(U.flags&15990)!==0,U.subtreeFlags&15990||u?(u=D.T,D.T=null,v=ue.p,ue.p=2,R=St,St|=4,vM(a,U),Vw(U,a),JN(zy,a.containerInfo),Ef=!!Uy,zy=Uy=null,a.current=U,Ow(a,U.alternate,U),Cc(),St=R,ue.p=v,D.T=u):a.current=U,of?(of=!1,co=a,_u=f):rS(a,W),W=a.pendingLanes,W===0&&(Kr=null),Ic(U.stateNode),hs(a),o!==null)for(m=a.onRecoverableError,U=0;U<o.length;U++)W=o[U],m(W.value,{componentStack:W.stack});return _u&3&&kl(),W=a.pendingLanes,f&4194218&&W&42?a===Ay?bu++:(bu=0,Ay=a):bu=0,Eu(0),null}function rS(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,iu(o)))}function kl(){if(co!==null){var a=co,o=wy;wy=0;var u=hd(_u),f=D.T,m=ue.p;try{if(ue.p=32>u?32:u,D.T=null,co===null)var v=!1;else{u=Sy,Sy=null;var R=co,k=_u;if(co=null,_u=0,St&6)throw Error(i(331));var U=St;if(St|=4,Fw(R.current),zw(R,R.current,k,u),St=U,Eu(0,!1),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Er,R)}catch{}v=!0}return v}finally{ue.p=m,D.T=f,rS(a,o)}}return!1}function aS(a,o,u){o=fi(u,o),o=Wm(a.stateNode,o,2),a=qr(a,o,2),a!==null&&(Pt(a,2),hs(a))}function lt(a,o,u){if(a.tag===3)aS(a,a,u);else for(;o!==null;){if(o.tag===3){aS(o,a,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Kr===null||!Kr.has(f))){a=fi(u,a),u=cw(2),f=qr(o,u,2),f!==null&&(uw(u,f,o,a),Pt(f,2),hs(f));break}}o=o.return}}function Dy(a,o,u){var f=a.pingCache;if(f===null){f=a.pingCache=new AM;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(vy=!0,m.add(u),a=IM.bind(null,a,o,u),o.then(a,a))}function IM(a,o,u){var f=a.pingCache;f!==null&&f.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,ut===a&&($e&u)===u&&(It===4||It===3&&($e&62914560)===$e&&300>zn()-Ey?!(St&2)&&Dl(a,0):_y|=u,Cl===$e&&(Cl=0)),hs(a)}function oS(a,o){o===0&&(o=Ar()),a=jr(a,o),a!==null&&(Pt(a,o),hs(a))}function kM(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),oS(a,u)}function NM(a,o){var u=0;switch(a.tag){case 13:var f=a.stateNode,m=a.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),oS(a,u)}function MM(a,o){return Rs(a,o)}var uf=null,Nl=null,Iy=!1,hf=!1,ky=!1,uo=0;function hs(a){a!==Nl&&a.next===null&&(Nl===null?uf=Nl=a:Nl=Nl.next=a),hf=!0,Iy||(Iy=!0,PM(OM))}function Eu(a,o){if(!ky&&hf){ky=!0;do for(var u=!1,f=uf;f!==null;){if(a!==0){var m=f.pendingLanes;if(m===0)var v=0;else{var R=f.suspendedLanes,k=f.pingedLanes;v=(1<<31-Mn(42|a)+1)-1,v&=m&~(R&~k),v=v&201326677?v&201326677|1:v?v|2:0}v!==0&&(u=!0,uS(f,v))}else v=$e,v=ai(f,f===ut?v:0),!(v&3)||Sr(f,v)||(u=!0,uS(f,v));f=f.next}while(u);ky=!1}}function OM(){hf=Iy=!1;var a=0;uo!==0&&(FM()&&(a=uo),uo=0);for(var o=zn(),u=null,f=uf;f!==null;){var m=f.next,v=lS(f,o);v===0?(f.next=null,u===null?uf=m:u.next=m,m===null&&(Nl=u)):(u=f,(a!==0||v&3)&&(hf=!0)),f=m}Eu(a)}function lS(a,o){for(var u=a.suspendedLanes,f=a.pingedLanes,m=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var R=31-Mn(v),k=1<<R,U=m[R];U===-1?(!(k&u)||k&f)&&(m[R]=Ko(k,o)):U<=o&&(a.expiredLanes|=k),v&=~k}if(o=ut,u=$e,u=ai(a,a===o?u:0),f=a.callbackNode,u===0||a===o&&ht===2||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Qo(f),a.callbackNode=null,a.callbackPriority=0;if(!(u&3)||Sr(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(f!==null&&Qo(f),hd(u)){case 2:case 8:u=en;break;case 32:u=Cs;break;case 268435456:u=Dc;break;default:u=Cs}return f=cS.bind(null,a),u=Rs(u,f),a.callbackPriority=o,a.callbackNode=u,o}return f!==null&&f!==null&&Qo(f),a.callbackPriority=2,a.callbackNode=null,2}function cS(a,o){var u=a.callbackNode;if(kl()&&a.callbackNode!==u)return null;var f=$e;return f=ai(a,a===ut?f:0),f===0?null:(Kw(a,f,o),lS(a,zn()),a.callbackNode!=null&&a.callbackNode===u?cS.bind(null,a):null)}function uS(a,o){if(kl())return null;Kw(a,o,!0)}function PM(a){GM(function(){St&6?Rs(Gt,a):a()})}function Ny(){return uo===0&&(uo=Nc()),uo}function hS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:es(""+a)}function dS(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function jM(a,o,u,f,m){if(o==="submit"&&u&&u.stateNode===m){var v=hS((m[Wt]||null).action),R=f.submitter;R&&(o=(o=R[Wt]||null)?hS(o.formAction):R.getAttribute("formAction"),o!==null&&(v=o,R=null));var k=new il("action","action",null,f,m);a.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(uo!==0){var U=R?dS(m,R):new FormData(m);Bm(u,{pending:!0,data:U,method:m.method,action:v},null,U)}}else typeof v=="function"&&(k.preventDefault(),U=R?dS(m,R):new FormData(m),Bm(u,{pending:!0,data:U,method:m.method,action:v},v,U))},currentTarget:m}]})}}for(var My=0;My<sE.length;My++){var Oy=sE[My],LM=Oy.toLowerCase(),VM=Oy[0].toUpperCase()+Oy.slice(1);Pi(LM,"on"+VM)}Pi(J0,"onAnimationEnd"),Pi(eE,"onAnimationIteration"),Pi(tE,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(tM,"onTransitionRun"),Pi(nM,"onTransitionStart"),Pi(iM,"onTransitionCancel"),Pi(nE,"onTransitionEnd"),Bn("onMouseEnter",["mouseout","mouseover"]),Bn("onMouseLeave",["mouseout","mouseover"]),Bn("onPointerEnter",["pointerout","pointerover"]),Bn("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wu));function fS(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var R=f.length-1;0<=R;R--){var k=f[R],U=k.instance,W=k.currentTarget;if(k=k.listener,U!==v&&m.isPropagationStopped())break e;v=k,m.currentTarget=W;try{v(m)}catch(ne){Kd(ne)}m.currentTarget=null,v=U}else for(R=0;R<f.length;R++){if(k=f[R],U=k.instance,W=k.currentTarget,k=k.listener,U!==v&&m.isPropagationStopped())break e;v=k,m.currentTarget=W;try{v(m)}catch(ne){Kd(ne)}m.currentTarget=null,v=U}}}}function He(a,o){var u=o[Pa];u===void 0&&(u=o[Pa]=new Set);var f=a+"__bubble";u.has(f)||(gS(o,a,2,!1),u.add(f))}function Py(a,o,u){var f=0;o&&(f|=4),gS(u,a,f,o)}var df="_reactListening"+Math.random().toString(36).slice(2);function jy(a){if(!a[df]){a[df]=!0,Oc.forEach(function(u){u!=="selectionchange"&&(UM.has(u)||Py(u,!1,a),Py(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[df]||(o[df]=!0,Py("selectionchange",!1,o))}}function gS(a,o,u,f){switch(LS(o)){case 2:var m=hO;break;case 8:m=dO;break;default:m=Qy}u=m.bind(null,o,u,a),m=void 0,!ui||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?a.addEventListener(o,u,{capture:!0,passive:m}):a.addEventListener(o,u,!0):m!==void 0?a.addEventListener(o,u,{passive:m}):a.addEventListener(o,u,!1)}function Ly(a,o,u,f,m){var v=f;if(!(o&1)&&!(o&2)&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var k=f.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(R===4)for(R=f.return;R!==null;){var U=R.tag;if((U===3||U===4)&&(U=R.stateNode.containerInfo,U===m||U.nodeType===8&&U.parentNode===m))return;R=R.return}for(;k!==null;){if(R=Oi(k),R===null)return;if(U=R.tag,U===5||U===6||U===26||U===27){f=v=R;continue e}k=k.parentNode}}f=f.return}md(function(){var W=v,ne=nl(u),le=[];e:{var X=iE.get(a);if(X!==void 0){var te=il,ve=a;switch(a){case"keypress":if(ns(u)===0)break e;case"keydown":case"keyup":te=cl;break;case"focusin":ve="focus",te=al;break;case"focusout":ve="blur",te=al;break;case"beforeblur":case"afterblur":te=al;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Ad;break;case J0:case eE:case tE:te=ol;break;case nE:te=xd;break;case"scroll":case"scrollend":te=yd;break;case"wheel":te=ul;break;case"copy":case"cut":case"paste":te=ll;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Wc;break;case"toggle":case"beforetoggle":te=Cd}var Me=(o&4)!==0,kt=!Me&&(a==="scroll"||a==="scrollend"),$=Me?X!==null?X+"Capture":null:X;Me=[];for(var G=W,Q;G!==null;){var ie=G;if(Q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Q===null||$===null||(ie=za(G,$),ie!=null&&Me.push(Su(G,ie,Q))),kt)break;G=G.return}0<Me.length&&(X=new te(X,ve,null,u,ne),le.push({event:X,listeners:Me}))}}if(!(o&7)){e:{if(X=a==="mouseover"||a==="pointerover",te=a==="mouseout"||a==="pointerout",X&&u!==ci&&(ve=u.relatedTarget||u.fromElement)&&(Oi(ve)||ve[Ds]))break e;if((te||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,te?(ve=u.relatedTarget||u.toElement,te=W,ve=ve?Oi(ve):null,ve!==null&&(kt=fe(ve),Me=ve.tag,ve!==kt||Me!==5&&Me!==27&&Me!==6)&&(ve=null)):(te=null,ve=W),te!==ve)){if(Me=hi,ie="onMouseLeave",$="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Me=Wc,ie="onPointerLeave",$="onPointerEnter",G="pointer"),kt=te==null?X:Dr(te),Q=ve==null?X:Dr(ve),X=new Me(ie,G+"leave",te,u,ne),X.target=kt,X.relatedTarget=Q,ie=null,Oi(ne)===W&&(Me=new Me($,G+"enter",ve,u,ne),Me.target=Q,Me.relatedTarget=kt,ie=Me),kt=ie,te&&ve)t:{for(Me=te,$=ve,G=0,Q=Me;Q;Q=Ml(Q))G++;for(Q=0,ie=$;ie;ie=Ml(ie))Q++;for(;0<G-Q;)Me=Ml(Me),G--;for(;0<Q-G;)$=Ml($),Q--;for(;G--;){if(Me===$||$!==null&&Me===$.alternate)break t;Me=Ml(Me),$=Ml($)}Me=null}else Me=null;te!==null&&pS(le,X,te,Me,!1),ve!==null&&kt!==null&&pS(le,kt,ve,Me,!0)}}e:{if(X=W?Dr(W):window,te=X.nodeName&&X.nodeName.toLowerCase(),te==="select"||te==="input"&&X.type==="file")var ye=H0;else if(Yt(X))if(F0)ye=XN;else{ye=QN;var Le=YN}else te=X.nodeName,!te||te.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&Uc(W.elementType)&&(ye=H0):ye=KN;if(ye&&(ye=ye(a,W))){Ls(le,ye,u,ne);break e}Le&&Le(a,X,W),a==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&tl(X,"number",X.value)}switch(Le=W?Dr(W):window,a){case"focusin":(Yt(Le)||Le.contentEditable==="true")&&(hl=Le,gm=W,Qc=null);break;case"focusout":Qc=gm=hl=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,X0(le,u,ne);break;case"selectionchange":if(eM)break;case"keydown":case"keyup":X0(le,u,ne)}var Ee;if(rs)e:{switch(a){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ge?J(a,u)&&(Ce="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(T&&u.locale!=="ko"&&(Ge||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ge&&(Ee=Bc()):(ts=ne,Pr="value"in ts?ts.value:ts.textContent,Ge=!0)),Le=ff(W,Ce),0<Le.length&&(Ce=new qc(Ce,a,null,u,ne),le.push({event:Ce,listeners:Le}),Ee?Ce.data=Ee:(Ee=ce(u),Ee!==null&&(Ce.data=Ee)))),(Ee=E?$t(a,u):We(a,u))&&(Ce=ff(W,"onBeforeInput"),0<Ce.length&&(Le=new qc("onBeforeInput","beforeinput",null,u,ne),le.push({event:Le,listeners:Ce}),Le.data=Ee)),jM(le,a,W,u,ne)}fS(le,o)})}function Su(a,o,u){return{instance:a,listener:o,currentTarget:u}}function ff(a,o){for(var u=o+"Capture",f=[];a!==null;){var m=a,v=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=za(a,u),m!=null&&f.unshift(Su(a,m,v)),m=za(a,o),m!=null&&f.push(Su(a,m,v))),a=a.return}return f}function Ml(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function pS(a,o,u,f,m){for(var v=o._reactName,R=[];u!==null&&u!==f;){var k=u,U=k.alternate,W=k.stateNode;if(k=k.tag,U!==null&&U===f)break;k!==5&&k!==26&&k!==27||W===null||(U=W,m?(W=za(u,v),W!=null&&R.unshift(Su(u,W,U))):m||(W=za(u,v),W!=null&&R.push(Su(u,W,U)))),u=u.return}R.length!==0&&a.push({event:o,listeners:R})}var zM=/\r\n?/g,BM=/\u0000|\uFFFD/g;function mS(a){return(typeof a=="string"?a:""+a).replace(zM,`
`).replace(BM,"")}function yS(a,o){return o=mS(o),mS(a)===o}function gf(){}function ot(a,o,u,f,m,v){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||li(a,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&li(a,""+f);break;case"className":Nr(a,"class",f);break;case"tabIndex":Nr(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Nr(a,u,f);break;case"style":pd(a,f,v);break;case"data":if(o!=="object"){Nr(a,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=es(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(o!=="input"&&ot(a,o,"name",m.name,m,null),ot(a,o,"formEncType",m.formEncType,m,null),ot(a,o,"formMethod",m.formMethod,m,null),ot(a,o,"formTarget",m.formTarget,m,null)):(ot(a,o,"encType",m.encType,m,null),ot(a,o,"method",m.method,m,null),ot(a,o,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=es(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=gf);break;case"onScroll":f!=null&&He("scroll",a);break;case"onScrollEnd":f!=null&&He("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=es(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":He("beforetoggle",a),He("toggle",a),kr(a,"popover",f);break;case"xlinkActuate":oi(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":oi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":oi(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":oi(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":oi(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":oi(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":oi(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":oi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":oi(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":kr(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=om.get(u)||u,kr(a,u,f))}}function Vy(a,o,u,f,m,v){switch(u){case"style":pd(a,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"children":typeof f=="string"?li(a,f):(typeof f=="number"||typeof f=="bigint")&&li(a,""+f);break;case"onScroll":f!=null&&He("scroll",a);break;case"onScrollEnd":f!=null&&He("scrollend",a);break;case"onClick":f!=null&&(a.onclick=gf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jo.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),o=u.slice(2,m?u.length-7:void 0),v=a[Wt]||null,v=v!=null?v[u]:null,typeof v=="function"&&a.removeEventListener(o,v,m),typeof f=="function")){typeof v!="function"&&v!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,f,m);break e}u in a?a[u]=f:f===!0?a.setAttribute(u,""):kr(a,u,f)}}}function mn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",a),He("load",a);var f=!1,m=!1,v;for(v in u)if(u.hasOwnProperty(v)){var R=u[v];if(R!=null)switch(v){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ot(a,o,v,R,u,null)}}m&&ot(a,o,"srcSet",u.srcSet,u,null),f&&ot(a,o,"src",u.src,u,null);return;case"input":He("invalid",a);var k=v=R=m=null,U=null,W=null;for(f in u)if(u.hasOwnProperty(f)){var ne=u[f];if(ne!=null)switch(f){case"name":m=ne;break;case"type":R=ne;break;case"checked":U=ne;break;case"defaultChecked":W=ne;break;case"value":v=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,o));break;default:ot(a,o,f,ne,u,null)}}Va(a,v,k,U,W,R,m,!1),La(a);return;case"select":He("invalid",a),f=R=v=null;for(m in u)if(u.hasOwnProperty(m)&&(k=u[m],k!=null))switch(m){case"value":v=k;break;case"defaultValue":R=k;break;case"multiple":f=k;default:ot(a,o,m,k,u,null)}o=v,u=R,a.multiple=!!f,o!=null?Ke(a,!!f,o,!1):u!=null&&Ke(a,!!f,u,!0);return;case"textarea":He("invalid",a),v=m=f=null;for(R in u)if(u.hasOwnProperty(R)&&(k=u[R],k!=null))switch(R){case"value":f=k;break;case"defaultValue":m=k;break;case"children":v=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:ot(a,o,R,k,u,null)}Or(a,f,m,v),La(a);return;case"option":for(U in u)if(u.hasOwnProperty(U)&&(f=u[U],f!=null))switch(U){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ot(a,o,U,f,u,null)}return;case"dialog":He("cancel",a),He("close",a);break;case"iframe":case"object":He("load",a);break;case"video":case"audio":for(f=0;f<wu.length;f++)He(wu[f],a);break;case"image":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"embed":case"source":case"link":He("error",a),He("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in u)if(u.hasOwnProperty(W)&&(f=u[W],f!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ot(a,o,W,f,u,null)}return;default:if(Uc(o)){for(ne in u)u.hasOwnProperty(ne)&&(f=u[ne],f!==void 0&&Vy(a,o,ne,f,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(f=u[k],f!=null&&ot(a,o,k,f,u,null))}function HM(a,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,R=null,k=null,U=null,W=null,ne=null;for(te in u){var le=u[te];if(u.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":U=le;default:f.hasOwnProperty(te)||ot(a,o,te,null,f,le)}}for(var X in f){var te=f[X];if(le=u[X],f.hasOwnProperty(X)&&(te!=null||le!=null))switch(X){case"type":v=te;break;case"name":m=te;break;case"checked":W=te;break;case"defaultChecked":ne=te;break;case"value":R=te;break;case"defaultValue":k=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,o));break;default:te!==le&&ot(a,o,X,te,f,le)}}Mr(a,R,k,U,W,ne,v,m);return;case"select":te=R=k=X=null;for(v in u)if(U=u[v],u.hasOwnProperty(v)&&U!=null)switch(v){case"value":break;case"multiple":te=U;default:f.hasOwnProperty(v)||ot(a,o,v,null,f,U)}for(m in f)if(v=f[m],U=u[m],f.hasOwnProperty(m)&&(v!=null||U!=null))switch(m){case"value":X=v;break;case"defaultValue":k=v;break;case"multiple":R=v;default:v!==U&&ot(a,o,m,v,f,U)}o=k,u=R,f=te,X!=null?Ke(a,!!u,X,!1):!!f!=!!u&&(o!=null?Ke(a,!!u,o,!0):Ke(a,!!u,u?[]:"",!1));return;case"textarea":te=X=null;for(k in u)if(m=u[k],u.hasOwnProperty(k)&&m!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ot(a,o,k,null,f,m)}for(R in f)if(m=f[R],v=u[R],f.hasOwnProperty(R)&&(m!=null||v!=null))switch(R){case"value":X=m;break;case"defaultValue":te=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==v&&ot(a,o,R,m,f,v)}Ua(a,X,te);return;case"option":for(var ve in u)if(X=u[ve],u.hasOwnProperty(ve)&&X!=null&&!f.hasOwnProperty(ve))switch(ve){case"selected":a.selected=!1;break;default:ot(a,o,ve,null,f,X)}for(U in f)if(X=f[U],te=u[U],f.hasOwnProperty(U)&&X!==te&&(X!=null||te!=null))switch(U){case"selected":a.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ot(a,o,U,X,f,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in u)X=u[Me],u.hasOwnProperty(Me)&&X!=null&&!f.hasOwnProperty(Me)&&ot(a,o,Me,null,f,X);for(W in f)if(X=f[W],te=u[W],f.hasOwnProperty(W)&&X!==te&&(X!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,o));break;default:ot(a,o,W,X,f,te)}return;default:if(Uc(o)){for(var kt in u)X=u[kt],u.hasOwnProperty(kt)&&X!==void 0&&!f.hasOwnProperty(kt)&&Vy(a,o,kt,void 0,f,X);for(ne in f)X=f[ne],te=u[ne],!f.hasOwnProperty(ne)||X===te||X===void 0&&te===void 0||Vy(a,o,ne,X,f,te);return}}for(var $ in u)X=u[$],u.hasOwnProperty($)&&X!=null&&!f.hasOwnProperty($)&&ot(a,o,$,null,f,X);for(le in f)X=f[le],te=u[le],!f.hasOwnProperty(le)||X===te||X==null&&te==null||ot(a,o,le,X,f,te)}var Uy=null,zy=null;function pf(a){return a.nodeType===9?a:a.ownerDocument}function vS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _S(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function By(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hy=null;function FM(){var a=window.event;return a&&a.type==="popstate"?a===Hy?!1:(Hy=a,!0):(Hy=null,!1)}var bS=typeof setTimeout=="function"?setTimeout:void 0,qM=typeof clearTimeout=="function"?clearTimeout:void 0,ES=typeof Promise=="function"?Promise:void 0,GM=typeof queueMicrotask=="function"?queueMicrotask:typeof ES<"u"?function(a){return ES.resolve(null).then(a).catch(WM)}:bS;function WM(a){setTimeout(function(){throw a})}function Fy(a,o){var u=o,f=0;do{var m=u.nextSibling;if(a.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){a.removeChild(m),ku(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);ku(o)}function qy(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":qy(u),ja(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function $M(a,o,u,f){for(;a.nodeType===1;){var m=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Cr])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==m.rel||a.getAttribute("href")!==(m.href==null?null:m.href)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||a.getAttribute("title")!==(m.title==null?null:m.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(m.src==null?null:m.src)||a.getAttribute("type")!==(m.type==null?null:m.type)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=Vi(a.nextSibling),a===null)break}return null}function YM(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Vi(a.nextSibling),a===null))return null;return a}function Vi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}function wS(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}function SS(a,o,u){switch(o=pf(u),a){case"html":if(a=o.documentElement,!a)throw Error(i(452));return a;case"head":if(a=o.head,!a)throw Error(i(453));return a;case"body":if(a=o.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}var Ei=new Map,AS=new Set;function mf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var Zs=ue.d;ue.d={f:QM,r:KM,D:XM,C:ZM,L:JM,m:eO,X:nO,S:tO,M:iO};function QM(){var a=Zs.f(),o=lf();return a||o}function KM(a){var o=Is(a);o!==null&&o.tag===5&&o.type==="form"?XE(o):Zs.r(a)}var Ol=typeof document>"u"?null:document;function TS(a,o,u){var f=Ol;if(f&&typeof o=="string"&&o){var m=Ct(o);m='link[rel="'+a+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),AS.has(m)||(AS.add(m),a={rel:a,crossOrigin:u,href:o},f.querySelector(m)===null&&(o=f.createElement("link"),mn(o,"link",a),Et(o),f.head.appendChild(o)))}}function XM(a){Zs.D(a),TS("dns-prefetch",a,null)}function ZM(a,o){Zs.C(a,o),TS("preconnect",a,o)}function JM(a,o,u){Zs.L(a,o,u);var f=Ol;if(f&&a&&o){var m='link[rel="preload"][as="'+Ct(o)+'"]';o==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+Ct(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+Ct(u.imageSizes)+'"]')):m+='[href="'+Ct(a)+'"]';var v=m;switch(o){case"style":v=Pl(a);break;case"script":v=jl(a)}Ei.has(v)||(a=P({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Ei.set(v,a),f.querySelector(m)!==null||o==="style"&&f.querySelector(Au(v))||o==="script"&&f.querySelector(Tu(v))||(o=f.createElement("link"),mn(o,"link",a),Et(o),f.head.appendChild(o)))}}function eO(a,o){Zs.m(a,o);var u=Ol;if(u&&a){var f=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+Ct(f)+'"][href="'+Ct(a)+'"]',v=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=jl(a)}if(!Ei.has(v)&&(a=P({rel:"modulepreload",href:a},o),Ei.set(v,a),u.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Tu(v)))return}f=u.createElement("link"),mn(f,"link",a),Et(f),u.head.appendChild(f)}}}function tO(a,o,u){Zs.S(a,o,u);var f=Ol;if(f&&a){var m=Ir(f).hoistableStyles,v=Pl(a);o=o||"default";var R=m.get(v);if(!R){var k={loading:0,preload:null};if(R=f.querySelector(Au(v)))k.loading=5;else{a=P({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Ei.get(v))&&Gy(a,u);var U=R=f.createElement("link");Et(U),mn(U,"link",a),U._p=new Promise(function(W,ne){U.onload=W,U.onerror=ne}),U.addEventListener("load",function(){k.loading|=1}),U.addEventListener("error",function(){k.loading|=2}),k.loading|=4,yf(R,o,f)}R={type:"stylesheet",instance:R,count:1,state:k},m.set(v,R)}}}function nO(a,o){Zs.X(a,o);var u=Ol;if(u&&a){var f=Ir(u).hoistableScripts,m=jl(a),v=f.get(m);v||(v=u.querySelector(Tu(m)),v||(a=P({src:a,async:!0},o),(o=Ei.get(m))&&Wy(a,o),v=u.createElement("script"),Et(v),mn(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(m,v))}}function iO(a,o){Zs.M(a,o);var u=Ol;if(u&&a){var f=Ir(u).hoistableScripts,m=jl(a),v=f.get(m);v||(v=u.querySelector(Tu(m)),v||(a=P({src:a,async:!0,type:"module"},o),(o=Ei.get(m))&&Wy(a,o),v=u.createElement("script"),Et(v),mn(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(m,v))}}function xS(a,o,u,f){var m=(m=xe.current)?mf(m):null;if(!m)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Pl(u.href),u=Ir(m).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Pl(u.href);var v=Ir(m).hoistableStyles,R=v.get(a);if(R||(m=m.ownerDocument||m,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,R),(v=m.querySelector(Au(a)))&&!v._p&&(R.instance=v,R.state.loading=5),Ei.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ei.set(a,u),v||sO(m,a,u,R.state))),o&&f===null)throw Error(i(528,""));return R}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=jl(u),u=Ir(m).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Pl(a){return'href="'+Ct(a)+'"'}function Au(a){return'link[rel="stylesheet"]['+a+"]"}function RS(a){return P({},a,{"data-precedence":a.precedence,precedence:null})}function sO(a,o,u,f){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=a.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),mn(o,"link",u),Et(o),a.head.appendChild(o))}function jl(a){return'[src="'+Ct(a)+'"]'}function Tu(a){return"script[async]"+a}function CS(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=a.querySelector('style[data-href~="'+Ct(u.href)+'"]');if(f)return o.instance=f,Et(f),f;var m=P({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),Et(f),mn(f,"style",m),yf(f,u.precedence,a),o.instance=f;case"stylesheet":m=Pl(u.href);var v=a.querySelector(Au(m));if(v)return o.state.loading|=4,o.instance=v,Et(v),v;f=RS(u),(m=Ei.get(m))&&Gy(f,m),v=(a.ownerDocument||a).createElement("link"),Et(v);var R=v;return R._p=new Promise(function(k,U){R.onload=k,R.onerror=U}),mn(v,"link",f),o.state.loading|=4,yf(v,u.precedence,a),o.instance=v;case"script":return v=jl(u.src),(m=a.querySelector(Tu(v)))?(o.instance=m,Et(m),m):(f=u,(m=Ei.get(v))&&(f=P({},u),Wy(f,m)),a=a.ownerDocument||a,m=a.createElement("script"),Et(m),mn(m,"link",f),a.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&!(o.state.loading&4)&&(f=o.instance,o.state.loading|=4,yf(f,u.precedence,a));return o.instance}function yf(a,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,v=m,R=0;R<f.length;R++){var k=f[R];if(k.dataset.precedence===o)v=k;else if(v!==m)break}v?v.parentNode.insertBefore(a,v.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Gy(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Wy(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var vf=null;function DS(a,o,u){if(vf===null){var f=new Map,m=vf=new Map;m.set(u,f)}else m=vf,f=m.get(u),f||(f=new Map,m.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),m=0;m<u.length;m++){var v=u[m];if(!(v[Cr]||v[tn]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var R=v.getAttribute(o)||"";R=a+R;var k=f.get(R);k?k.push(v):f.set(R,[v])}}return f}function IS(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function rO(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kS(a){return!(a.type==="stylesheet"&&!(a.state.loading&3))}var xu=null;function aO(){}function oO(a,o,u){if(xu===null)throw Error(i(475));var f=xu;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&!(o.state.loading&4)){if(o.instance===null){var m=Pl(u.href),v=a.querySelector(Au(m));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=_f.bind(f),a.then(f,f)),o.state.loading|=4,o.instance=v,Et(v);return}v=a.ownerDocument||a,u=RS(u),(m=Ei.get(m))&&Gy(u,m),v=v.createElement("link"),Et(v);var R=v;R._p=new Promise(function(k,U){R.onload=k,R.onerror=U}),mn(v,"link",u),o.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,a),(a=o.state.preload)&&!(o.state.loading&3)&&(f.count++,o=_f.bind(f),a.addEventListener("load",o),a.addEventListener("error",o))}}function lO(){if(xu===null)throw Error(i(475));var a=xu;return a.stylesheets&&a.count===0&&$y(a,a.stylesheets),0<a.count?function(o){var u=setTimeout(function(){if(a.stylesheets&&$y(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(u)}}:null}function _f(){if(this.count--,this.count===0){if(this.stylesheets)$y(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var bf=null;function $y(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,bf=new Map,o.forEach(cO,a),bf=null,_f.call(a))}function cO(a,o){if(!(o.state.loading&4)){var u=bf.get(a);if(u)var f=u.get(null);else{u=new Map,bf.set(a,u);for(var m=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var R=m[v];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),f=R)}f&&u.set(null,f)}m=o.instance,R=m.getAttribute("data-precedence"),v=u.get(R)||f,v===f&&u.set(null,m),u.set(R,m),this.count++,f=_f.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),v?v.parentNode.insertBefore(m,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(m,a.firstChild)),o.state.loading|=4}}var Ru={$$typeof:b,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function uO(a,o,u,f,m,v,R,k){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.hiddenUpdates=Xo(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function NS(a,o,u,f,m,v,R,k,U,W,ne,le){return a=new uO(a,o,u,R,k,U,W,le),o=1,v===!0&&(o|=24),v=_i(3,null,null,o),a.current=v,v.stateNode=a,o=Tm(),o.refCount++,a.pooledCache=o,o.refCount++,v.memoizedState={element:f,isDehydrated:u,cache:o},ry(v),a}function MS(a){return a?(a=gl,a):gl}function OS(a,o,u,f,m,v){m=MS(m),f.context===null?f.context=m:f.pendingContext=m,f=Fr(o),f.payload={element:u},v=v===void 0?null:v,v!==null&&(f.callback=v),u=qr(a,f,o),u!==null&&(Ln(u,a,o),uu(u,a,o))}function PS(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Yy(a,o){PS(a,o),(a=a.alternate)&&PS(a,o)}function jS(a){if(a.tag===13){var o=jr(a,67108864);o!==null&&Ln(o,a,67108864),Yy(a,67108864)}}var Ef=!0;function hO(a,o,u,f){var m=D.T;D.T=null;var v=ue.p;try{ue.p=2,Qy(a,o,u,f)}finally{ue.p=v,D.T=m}}function dO(a,o,u,f){var m=D.T;D.T=null;var v=ue.p;try{ue.p=8,Qy(a,o,u,f)}finally{ue.p=v,D.T=m}}function Qy(a,o,u,f){if(Ef){var m=Ky(f);if(m===null)Ly(a,o,f,wf,u),VS(a,f);else if(gO(m,a,o,u,f))f.stopPropagation();else if(VS(a,f),o&4&&-1<fO.indexOf(a)){for(;m!==null;){var v=Is(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var R=Mi(v.pendingLanes);if(R!==0){var k=v;for(k.pendingLanes|=2,k.entangledLanes|=2;R;){var U=1<<31-Mn(R);k.entanglements[1]|=U,R&=~U}hs(v),!(St&6)&&(rf=zn()+500,Eu(0))}}break;case 13:k=jr(v,2),k!==null&&Ln(k,v,2),lf(),Yy(v,2)}if(v=Ky(f),v===null&&Ly(a,o,f,wf,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else Ly(a,o,f,null,u)}}function Ky(a){return a=nl(a),Xy(a)}var wf=null;function Xy(a){if(wf=null,a=Oi(a),a!==null){var o=fe(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=be(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return wf=a,null}function LS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ad()){case Gt:return 2;case en:return 8;case Cs:case od:return 32;case Dc:return 268435456;default:return 32}default:return 32}}var Zy=!1,Xr=null,Zr=null,Jr=null,Cu=new Map,Du=new Map,ea=[],fO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VS(a,o){switch(a){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Cu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(o.pointerId)}}function Iu(a,o,u,f,m,v){return a===null||a.nativeEvent!==v?(a={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Is(o),o!==null&&jS(o)),a):(a.eventSystemFlags|=f,o=a.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),a)}function gO(a,o,u,f,m){switch(o){case"focusin":return Xr=Iu(Xr,a,o,u,f,m),!0;case"dragenter":return Zr=Iu(Zr,a,o,u,f,m),!0;case"mouseover":return Jr=Iu(Jr,a,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return Cu.set(v,Iu(Cu.get(v)||null,a,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Du.set(v,Iu(Du.get(v)||null,a,o,u,f,m)),!0}return!1}function US(a){var o=Oi(a.target);if(o!==null){var u=fe(o);if(u!==null){if(o=u.tag,o===13){if(o=be(u),o!==null){a.blockedOn=o,Rr(a.priority,function(){if(u.tag===13){var f=ni(),m=jr(u,f);m!==null&&Ln(m,u,f),Yy(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Sf(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Ky(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);ci=f,u.target.dispatchEvent(f),ci=null}else return o=Is(u),o!==null&&jS(o),a.blockedOn=u,!1;o.shift()}return!0}function zS(a,o,u){Sf(a)&&u.delete(o)}function pO(){Zy=!1,Xr!==null&&Sf(Xr)&&(Xr=null),Zr!==null&&Sf(Zr)&&(Zr=null),Jr!==null&&Sf(Jr)&&(Jr=null),Cu.forEach(zS),Du.forEach(zS)}function Af(a,o){a.blockedOn===o&&(a.blockedOn=null,Zy||(Zy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,pO)))}var Tf=null;function BS(a){Tf!==a&&(Tf=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tf===a&&(Tf=null);for(var o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],m=a[o+2];if(typeof f!="function"){if(Xy(f||u)===null)continue;break}var v=Is(u);v!==null&&(a.splice(o,3),o-=3,Bm(v,{pending:!0,data:m,method:u.method,action:f},f,m))}}))}function ku(a){function o(U){return Af(U,a)}Xr!==null&&Af(Xr,a),Zr!==null&&Af(Zr,a),Jr!==null&&Af(Jr,a),Cu.forEach(o),Du.forEach(o);for(var u=0;u<ea.length;u++){var f=ea[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<ea.length&&(u=ea[0],u.blockedOn===null);)US(u),u.blockedOn===null&&ea.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var m=u[f],v=u[f+1],R=m[Wt]||null;if(typeof v=="function")R||BS(u);else if(R){var k=null;if(v&&v.hasAttribute("formAction")){if(m=v,R=v[Wt]||null)k=R.formAction;else if(Xy(m)!==null)continue}else k=R.action;typeof k=="function"?u[f+1]=k:(u.splice(f,3),f-=3),BS(u)}}}function Jy(a){this._internalRoot=a}xf.prototype.render=Jy.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,f=ni();OS(u,f,a,o,null,null)},xf.prototype.unmount=Jy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;a.tag===0&&kl(),OS(a.current,2,null,a,null,null),lf(),o[Ds]=null}};function xf(a){this._internalRoot=a}xf.prototype.unstable_scheduleHydration=function(a){if(a){var o=dd();a={blockedOn:null,target:a,priority:o};for(var u=0;u<ea.length&&o!==0&&o<ea[u].priority;u++);ea.splice(u,0,a),u===0&&US(a)}};var HS=e.version;if(HS!=="19.0.0")throw Error(i(527,HS,"19.0.0"));ue.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=oe(o),a=a!==null?ge(a):null,a=a===null?null:a.stateNode,a};var mO={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:D,findFiberByHostInstance:Oi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rf.isDisabled&&Rf.supportsFiber)try{Er=Rf.inject(mO),wn=Rf}catch{}}return Mu.createRoot=function(a,o){if(!s(a))throw Error(i(299));var u=!1,f="",m=rw,v=aw,R=ow,k=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=NS(a,1,!1,null,null,u,f,m,v,R,k,null),a[Ds]=o.current,jy(a.nodeType===8?a.parentNode:a),new Jy(o)},Mu.hydrateRoot=function(a,o,u){if(!s(a))throw Error(i(299));var f=!1,m="",v=rw,R=aw,k=ow,U=null,W=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(U=u.unstable_transitionCallbacks),u.formState!==void 0&&(W=u.formState)),o=NS(a,1,!0,o,u??null,f,m,v,R,k,U,W),o.context=MS(null),u=o.current,f=ni(),m=Fr(f),m.callback=null,qr(u,m,f),o.current.lanes=f,Pt(o,f),hs(o),a[Ds]=o.current,jy(a),new xf(o)},Mu.version="19.0.0",Mu}var ZS;function CO(){if(ZS)return nv.exports;ZS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nv.exports=RO(),nv.exports}var DO=CO(),Ou={},JS;function IO(){if(JS)return Ou;JS=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.parse=l,Ou.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,r=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,b){const S=new r,x=_.length;if(x<2)return S;const A=(b==null?void 0:b.decode)||g;let I=0;do{const O=_.indexOf("=",I);if(O===-1)break;const j=_.indexOf(";",I),B=j===-1?x:j;if(O>B){I=_.lastIndexOf(";",O-1)+1;continue}const q=c(_,I,O),K=h(_,O,q),M=_.slice(q,K);if(S[M]===void 0){let C=c(_,O+1,B),D=h(_,B,C);const P=A(_.slice(C,D));S[M]=P}I=B+1}while(I<x);return S}function c(_,b,S){do{const x=_.charCodeAt(b);if(x!==32&&x!==9)return b}while(++b<S);return S}function h(_,b,S){for(;b>S;){const x=_.charCodeAt(--b);if(x!==32&&x!==9)return b+1}return S}function d(_,b,S){const x=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const A=x(b);if(!e.test(A))throw new TypeError(`argument val is invalid: ${b}`);let I=_+"="+A;if(!S)return I;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);I+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);I+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);I+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);I+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(I+="; HttpOnly"),S.secure&&(I+="; Secure"),S.partitioned&&(I+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return I}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return s.call(_)==="[object Date]"}return Ou}IO();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eA="popstate";function kO(n={}){function e(s,r){let{pathname:l="/",search:c="",hash:h=""}=jo(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Yv("",{pathname:l,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(s,r){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=s.location.href,d=h.indexOf("#");c=d===-1?h:h.slice(0,d)}return c+"#"+(typeof r=="string"?r:vh(r))}function i(s,r){Ci(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return MO(e,t,i,n)}function bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ci(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NO(){return Math.random().toString(36).substring(2,10)}function tA(n,e){return{usr:n.state,key:n.key,idx:e}}function Yv(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?jo(e):e,state:t,key:e&&e.key||i||NO()}}function vh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function jo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function MO(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,l=s.history,c="POP",h=null,d=g();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function g(){return(l.state||{idx:null}).idx}function y(){c="POP";let A=g(),I=A==null?null:A-d;d=A,h&&h({action:c,location:x.location,delta:I})}function _(A,I){c="PUSH";let O=Yv(x.location,A,I);t&&t(O,A),d=g()+1;let j=tA(O,d),B=x.createHref(O);try{l.pushState(j,"",B)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(B)}r&&h&&h({action:c,location:x.location,delta:1})}function b(A,I){c="REPLACE";let O=Yv(x.location,A,I);t&&t(O,A),d=g();let j=tA(O,d),B=x.createHref(O);l.replaceState(j,"",B),r&&h&&h({action:c,location:x.location,delta:0})}function S(A){let I=s.location.origin!=="null"?s.location.origin:s.location.href,O=typeof A=="string"?A:vh(A);return O=O.replace(/ $/,"%20"),bt(I,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,I)}let x={get action(){return c},get location(){return n(s,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(eA,y),h=A,()=>{s.removeEventListener(eA,y),h=null}},createHref(A){return e(s,A)},createURL:S,encodeLocation(A){let I=S(A);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:b,go(A){return l.go(A)}};return x}function oC(n,e,t="/"){return OO(n,e,t,!1)}function OO(n,e,t,i){let s=typeof e=="string"?jo(e):e,r=_a(s.pathname||"/",t);if(r==null)return null;let l=lC(n);PO(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=WO(r);c=qO(l[h],d,i)}return c}function lC(n,e=[],t=[],i=""){let s=(r,l,c)=>{let h={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};h.relativePath.startsWith("/")&&(bt(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=lr([i,h.relativePath]),g=t.concat(h);r.children&&r.children.length>0&&(bt(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),lC(r.children,e,g,d)),!(r.path==null&&!r.index)&&e.push({path:d,score:HO(d,r.index),routesMeta:g})};return n.forEach((r,l)=>{var c;if(r.path===""||!((c=r.path)!=null&&c.includes("?")))s(r,l);else for(let h of cC(r.path))s(r,l,h)}),e}function cC(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let l=cC(i.join("/")),c=[];return c.push(...l.map(h=>h===""?r:[r,h].join("/"))),s&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function PO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:FO(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var jO=/^:[\w-]+$/,LO=3,VO=2,UO=1,zO=10,BO=-2,nA=n=>n==="*";function HO(n,e){let t=n.split("/"),i=t.length;return t.some(nA)&&(i+=BO),e&&(i+=VO),t.filter(s=>!nA(s)).reduce((s,r)=>s+(jO.test(r)?LO:r===""?UO:zO),i)}function FO(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function qO(n,e,t=!1){let{routesMeta:i}=n,s={},r="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,g=r==="/"?e:e.slice(r.length)||"/",y=Ag({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},g),_=h.route;if(!y&&d&&t&&!i[i.length-1].route.index&&(y=Ag({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:lr([r,y.pathname]),pathnameBase:KO(lr([r,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(r=lr([r,y.pathnameBase]))}return l}function Ag(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=GO(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let r=s[0],l=r.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:y},_)=>{if(g==="*"){let S=c[_]||"";l=r.slice(0,r.length-S.length).replace(/(.)\/+$/,"$1")}const b=c[_];return y&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:l,pattern:n}}function GO(n,e=!1,t=!0){Ci(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function WO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ci(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _a(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function $O(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?jo(n):n;return{pathname:t?t.startsWith("/")?t:YO(t,e):e,search:XO(i),hash:ZO(s)}}function YO(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function av(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Y_(n){let e=QO(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Q_(n,e,t,i=!1){let s;typeof n=="string"?s=jo(n):(s={...n},bt(!s.pathname||!s.pathname.includes("?"),av("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),av("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),av("#","search","hash",s)));let r=n===""||s.pathname==="",l=r?"/":s.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?e[y]:"/"}let h=$O(s,c),d=l&&l!=="/"&&l.endsWith("/"),g=(r||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}var lr=n=>n.join("/").replace(/\/\/+/g,"/"),KO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),XO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ZO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function JO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var uC=["POST","PUT","PATCH","DELETE"];new Set(uC);var e2=["GET",...uC];new Set(e2);var mc=z.createContext(null);mc.displayName="DataRouter";var vp=z.createContext(null);vp.displayName="DataRouterState";var hC=z.createContext({isTransitioning:!1});hC.displayName="ViewTransition";var t2=z.createContext(new Map);t2.displayName="Fetchers";var n2=z.createContext(null);n2.displayName="Await";var qi=z.createContext(null);qi.displayName="Navigation";var zh=z.createContext(null);zh.displayName="Location";var ki=z.createContext({outlet:null,matches:[],isDataRoute:!1});ki.displayName="Route";var K_=z.createContext(null);K_.displayName="RouteError";function i2(n,{relative:e}={}){bt(yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=z.useContext(qi),{hash:s,pathname:r,search:l}=Hh(n,{relative:e}),c=r;return t!=="/"&&(c=r==="/"?t:lr([t,r])),i.createHref({pathname:c,search:l,hash:s})}function yc(){return z.useContext(zh)!=null}function Gi(){return bt(yc(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(zh).location}var dC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fC(n){z.useContext(qi).static||z.useLayoutEffect(n)}function Da(){let{isDataRoute:n}=z.useContext(ki);return n?v2():s2()}function s2(){bt(yc(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(mc),{basename:e,navigator:t}=z.useContext(qi),{matches:i}=z.useContext(ki),{pathname:s}=Gi(),r=JSON.stringify(Y_(i)),l=z.useRef(!1);return fC(()=>{l.current=!0}),z.useCallback((h,d={})=>{if(Ci(l.current,dC),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=Q_(h,JSON.parse(r),s,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:lr([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,r,s,n])}var gC=z.createContext(null);function Bh(){return z.useContext(gC)}function r2(n){let e=z.useContext(ki).outlet;return e&&z.createElement(gC.Provider,{value:n},e)}function a2(){let{matches:n}=z.useContext(ki),e=n[n.length-1];return e?e.params:{}}function Hh(n,{relative:e}={}){let{matches:t}=z.useContext(ki),{pathname:i}=Gi(),s=JSON.stringify(Y_(t));return z.useMemo(()=>Q_(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function o2(n,e){return pC(n,e)}function pC(n,e,t,i){var O;bt(yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:r}=z.useContext(qi),{matches:l}=z.useContext(ki),c=l[l.length-1],h=c?c.params:{},d=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let j=y&&y.path||"";mC(d,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let _=Gi(),b;if(e){let j=typeof e=="string"?jo(e):e;bt(g==="/"||((O=j.pathname)==null?void 0:O.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),b=j}else b=_;let S=b.pathname||"/",x=S;if(g!=="/"){let j=g.replace(/^\//,"").split("/");x="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let A=!r&&t&&t.matches&&t.matches.length>0?t.matches:oC(n,{pathname:x});Ci(y||A!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ci(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=d2(A&&A.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:lr([g,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:lr([g,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,t,i);return e&&I?z.createElement(zh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},I):I}function l2(){let n=y2(),e=JO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:r},"ErrorBoundary")," or"," ",z.createElement("code",{style:r},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:s},t):null,l)}var c2=z.createElement(l2,null),u2=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?z.createElement(ki.Provider,{value:this.props.routeContext},z.createElement(K_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function h2({routeContext:n,match:e,children:t}){let i=z.useContext(mc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ki.Provider,{value:n},t)}function d2(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,r=t==null?void 0:t.errors;if(r!=null){let h=s.findIndex(d=>d.route.id&&(r==null?void 0:r[d.route.id])!==void 0);bt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:g,errors:y}=t,_=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,d,g)=>{let y,_=!1,b=null,S=null;t&&(y=r&&d.route.id?r[d.route.id]:void 0,b=d.route.errorElement||c2,l&&(c<0&&g===0?(mC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):c===g&&(_=!0,S=d.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,g+1)),A=()=>{let I;return y?I=b:_?I=S:d.route.Component?I=z.createElement(d.route.Component,null):d.route.element?I=d.route.element:I=h,z.createElement(h2,{match:d,routeContext:{outlet:h,matches:x,isDataRoute:t!=null},children:I})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?z.createElement(u2,{location:t.location,revalidation:t.revalidation,component:b,error:y,children:A(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):A()},null)}function X_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f2(n){let e=z.useContext(mc);return bt(e,X_(n)),e}function g2(n){let e=z.useContext(vp);return bt(e,X_(n)),e}function p2(n){let e=z.useContext(ki);return bt(e,X_(n)),e}function Z_(n){let e=p2(n),t=e.matches[e.matches.length-1];return bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function m2(){return Z_("useRouteId")}function y2(){var i;let n=z.useContext(K_),e=g2("useRouteError"),t=Z_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function v2(){let{router:n}=f2("useNavigate"),e=Z_("useNavigate"),t=z.useRef(!1);return fC(()=>{t.current=!0}),z.useCallback(async(s,r={})=>{Ci(t.current,dC),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...r}))},[n,e])}var iA={};function mC(n,e,t){!e&&!iA[n]&&(iA[n]=!0,Ci(!1,t))}z.memo(_2);function _2({routes:n,future:e,state:t}){return pC(n,void 0,t,e)}function b2({to:n,replace:e,state:t,relative:i}){bt(yc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=z.useContext(qi);Ci(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=z.useContext(ki),{pathname:l}=Gi(),c=Da(),h=Q_(n,Y_(r),l,i==="path"),d=JSON.stringify(h);return z.useEffect(()=>{c(JSON.parse(d),{replace:e,state:t,relative:i})},[c,d,i,e,t]),null}function E2(n){return r2(n.context)}function yn(n){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function w2({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:r=!1}){bt(!yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=z.useMemo(()=>({basename:l,navigator:s,static:r,future:{}}),[l,s,r]);typeof t=="string"&&(t=jo(t));let{pathname:h="/",search:d="",hash:g="",state:y=null,key:_="default"}=t,b=z.useMemo(()=>{let S=_a(h,l);return S==null?null:{location:{pathname:S,search:d,hash:g,state:y,key:_},navigationType:i}},[l,h,d,g,y,_,i]);return Ci(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:z.createElement(qi.Provider,{value:c},z.createElement(zh.Provider,{children:e,value:b}))}function S2({children:n,location:e}){return o2(Qv(n),e)}function Qv(n,e=[]){let t=[];return z.Children.forEach(n,(i,s)=>{if(!z.isValidElement(i))return;let r=[...e,s];if(i.type===z.Fragment){t.push.apply(t,Qv(i.props.children,r));return}bt(i.type===yn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Qv(i.props.children,r)),t.push(l)}),t}var sg="get",rg="application/x-www-form-urlencoded";function _p(n){return n!=null&&typeof n.tagName=="string"}function A2(n){return _p(n)&&n.tagName.toLowerCase()==="button"}function T2(n){return _p(n)&&n.tagName.toLowerCase()==="form"}function x2(n){return _p(n)&&n.tagName.toLowerCase()==="input"}function R2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function C2(n,e){return n.button===0&&(!e||e==="_self")&&!R2(n)}var Cf=null;function D2(){if(Cf===null)try{new FormData(document.createElement("form"),0),Cf=!1}catch{Cf=!0}return Cf}var I2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ov(n){return n!=null&&!I2.has(n)?(Ci(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rg}"`),null):n}function k2(n,e){let t,i,s,r,l;if(T2(n)){let c=n.getAttribute("action");i=c?_a(c,e):null,t=n.getAttribute("method")||sg,s=ov(n.getAttribute("enctype"))||rg,r=new FormData(n)}else if(A2(n)||x2(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(i=h?_a(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||sg,s=ov(n.getAttribute("formenctype"))||ov(c.getAttribute("enctype"))||rg,r=new FormData(c,n),!D2()){let{name:d,type:g,value:y}=n;if(g==="image"){let _=d?`${d}.`:"";r.append(`${_}x`,"0"),r.append(`${_}y`,"0")}else d&&r.append(d,y)}}else{if(_p(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sg,i=null,s=rg,l=n}return r&&s==="text/plain"&&(l=r,r=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:r,body:l}}function J_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function N2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function M2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function O2(n,e,t){let i=await Promise.all(n.map(async s=>{let r=e.routes[s.route.id];if(r){let l=await N2(r,t);return l.links?l.links():[]}return[]}));return V2(i.flat(1).filter(M2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function sA(n,e,t,i,s,r){let l=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,c=(h,d)=>{var g;return t[d].pathname!==h.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return r==="assets"?e.filter((h,d)=>l(h,d)||c(h,d)):r==="data"?e.filter((h,d)=>{var y;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function P2(n,e){return j2(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let s=[i.module];return i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function j2(n){return[...new Set(n)]}function L2(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function V2(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let r=JSON.stringify(L2(s));return t.has(r)||(t.add(r),i.push({key:r,link:s})),i},[])}function U2(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function z2(){let n=z.useContext(mc);return J_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function B2(){let n=z.useContext(vp);return J_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var eb=z.createContext(void 0);eb.displayName="FrameworkContext";function yC(){let n=z.useContext(eb);return J_(n,"You must render this element inside a <HydratedRouter> element"),n}function H2(n,e){let t=z.useContext(eb),[i,s]=z.useState(!1),[r,l]=z.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:g,onTouchStart:y}=e,_=z.useRef(null);z.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let x=I=>{I.forEach(O=>{l(O.isIntersecting)})},A=new IntersectionObserver(x,{threshold:.5});return _.current&&A.observe(_.current),()=>{A.disconnect()}}},[n]),z.useEffect(()=>{if(i){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[i]);let b=()=>{s(!0)},S=()=>{s(!1),l(!1)};return t?n!=="intent"?[r,_,{}]:[r,_,{onFocus:Pu(c,b),onBlur:Pu(h,S),onMouseEnter:Pu(d,b),onMouseLeave:Pu(g,S),onTouchStart:Pu(y,b)}]:[!1,_,{}]}function Pu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function F2({page:n,...e}){let{router:t}=z2(),i=z.useMemo(()=>oC(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?z.createElement(G2,{page:n,matches:i,...e}):null}function q2(n){let{manifest:e,routeModules:t}=yC(),[i,s]=z.useState([]);return z.useEffect(()=>{let r=!1;return O2(n,e,t).then(l=>{r||s(l)}),()=>{r=!0}},[n,e,t]),i}function G2({page:n,matches:e,...t}){let i=Gi(),{manifest:s,routeModules:r}=yC(),{loaderData:l,matches:c}=B2(),h=z.useMemo(()=>sA(n,e,c,s,i,"data"),[n,e,c,s,i]),d=z.useMemo(()=>sA(n,e,c,s,i,"assets"),[n,e,c,s,i]),g=z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,S=!1;if(e.forEach(A=>{var O;let I=s.routes[A.route.id];!I||!I.hasLoader||(!h.some(j=>j.route.id===A.route.id)&&A.route.id in l&&((O=r[A.route.id])!=null&&O.shouldRevalidate)||I.hasClientLoader?S=!0:b.add(A.route.id))}),b.size===0)return[];let x=U2(n);return S&&b.size>0&&x.searchParams.set("_routes",e.filter(A=>b.has(A.route.id)).map(A=>A.route.id).join(",")),[x.pathname+x.search]},[l,i,s,h,e,n,r]),y=z.useMemo(()=>P2(d,s),[d,s]),_=q2(d);return z.createElement(z.Fragment,null,g.map(b=>z.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),y.map(b=>z.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),_.map(({key:b,link:S})=>z.createElement("link",{key:b,...S})))}function W2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vC&&(window.__reactRouterVersion="7.1.5")}catch{}function $2({basename:n,children:e,window:t}){let i=z.useRef();i.current==null&&(i.current=kO({window:t,v5Compat:!0}));let s=i.current,[r,l]=z.useState({action:s.action,location:s.location}),c=z.useCallback(h=>{z.startTransition(()=>l(h))},[l]);return z.useLayoutEffect(()=>s.listen(c),[s,c]),z.createElement(w2,{basename:n,children:e,location:r.location,navigationType:r.action,navigator:s})}var _C=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=z.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:r,replace:l,state:c,target:h,to:d,preventScrollReset:g,viewTransition:y,..._},b){let{basename:S}=z.useContext(qi),x=typeof d=="string"&&_C.test(d),A,I=!1;if(typeof d=="string"&&x&&(A=d,vC))try{let D=new URL(window.location.href),P=d.startsWith("//")?new URL(D.protocol+d):new URL(d),V=_a(P.pathname,S);P.origin===D.origin&&V!=null?d=V+P.search+P.hash:I=!0}catch{Ci(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=i2(d,{relative:s}),[j,B,q]=H2(i,_),K=X2(d,{replace:l,state:c,target:h,preventScrollReset:g,relative:s,viewTransition:y});function M(D){e&&e(D),D.defaultPrevented||K(D)}let C=z.createElement("a",{..._,...q,href:A||O,onClick:I||r?e:M,ref:W2(b,B),target:h,"data-discover":!x&&t==="render"?"true":void 0});return j&&!x?z.createElement(z.Fragment,null,C,z.createElement(F2,{page:O})):C});yt.displayName="Link";var Y2=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:r,to:l,viewTransition:c,children:h,...d},g){let y=Hh(l,{relative:d.relative}),_=Gi(),b=z.useContext(vp),{navigator:S,basename:x}=z.useContext(qi),A=b!=null&&nP(y)&&c===!0,I=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,O=_.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(O=O.toLowerCase(),j=j?j.toLowerCase():null,I=I.toLowerCase()),j&&x&&(j=_a(j,x)||j);const B=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let q=O===I||!s&&O.startsWith(I)&&O.charAt(B)==="/",K=j!=null&&(j===I||!s&&j.startsWith(I)&&j.charAt(I.length)==="/"),M={isActive:q,isPending:K,isTransitioning:A},C=q?e:void 0,D;typeof i=="function"?D=i(M):D=[i,q?"active":null,K?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let P=typeof r=="function"?r(M):r;return z.createElement(yt,{...d,"aria-current":C,className:D,ref:g,style:P,to:l,viewTransition:c},typeof h=="function"?h(M):h)});Y2.displayName="NavLink";var Q2=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:r,method:l=sg,action:c,onSubmit:h,relative:d,preventScrollReset:g,viewTransition:y,..._},b)=>{let S=eP(),x=tP(c,{relative:d}),A=l.toLowerCase()==="get"?"get":"post",I=typeof c=="string"&&_C.test(c),O=j=>{if(h&&h(j),j.defaultPrevented)return;j.preventDefault();let B=j.nativeEvent.submitter,q=(B==null?void 0:B.getAttribute("formmethod"))||l;S(B||j.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:s,state:r,relative:d,preventScrollReset:g,viewTransition:y})};return z.createElement("form",{ref:b,method:A,action:x,onSubmit:i?h:O,..._,"data-discover":!I&&n==="render"?"true":void 0})});Q2.displayName="Form";function K2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bC(n){let e=z.useContext(mc);return bt(e,K2(n)),e}function X2(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:r,viewTransition:l}={}){let c=Da(),h=Gi(),d=Hh(n,{relative:r});return z.useCallback(g=>{if(C2(g,e)){g.preventDefault();let y=t!==void 0?t:vh(h)===vh(d);c(n,{replace:y,state:i,preventScrollReset:s,relative:r,viewTransition:l})}},[h,c,d,t,i,e,n,s,r,l])}var Z2=0,J2=()=>`__${String(++Z2)}__`;function eP(){let{router:n}=bC("useSubmit"),{basename:e}=z.useContext(qi),t=m2();return z.useCallback(async(i,s={})=>{let{action:r,method:l,encType:c,formData:h,body:d}=k2(i,e);if(s.navigate===!1){let g=s.fetcherKey||J2();await n.fetch(g,t,s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function tP(n,{relative:e}={}){let{basename:t}=z.useContext(qi),i=z.useContext(ki);bt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...Hh(n||".",{relative:e})},l=Gi();if(n==null){r.search=l.search;let c=new URLSearchParams(r.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();r.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:lr([t,r.pathname])),vh(r)}function nP(n,e={}){let t=z.useContext(hC);bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=bC("useViewTransitionState"),s=Hh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let r=_a(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=_a(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Ag(s.pathname,l)!=null||Ag(s.pathname,r)!=null}new TextEncoder;var Kv=aC(),EC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rA=Ti.createContext&&Ti.createContext(EC),iP=["attr","size","title"];function sP(n,e){if(n==null)return{};var t=rP(n,e),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function rP(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Tg(){return Tg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Tg.apply(this,arguments)}function aA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function xg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aA(Object(t),!0).forEach(function(i){aP(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function aP(n,e,t){return e=oP(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oP(n){var e=lP(n,"string");return typeof e=="symbol"?e:e+""}function lP(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wC(n){return n&&n.map((e,t)=>Ti.createElement(e.tag,xg({key:t},e.attr),wC(e.child)))}function SC(n){return e=>Ti.createElement(cP,Tg({attr:xg({},n.attr)},e),wC(n.child))}function cP(n){var e=t=>{var{attr:i,size:s,title:r}=n,l=sP(n,iP),c=s||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Ti.createElement("svg",Tg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:h,style:xg(xg({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),r&&Ti.createElement("title",null,r),n.children)};return rA!==void 0?Ti.createElement(rA.Consumer,null,t=>e(t)):e(EC)}function uP(n){return SC({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function hP(n){return SC({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}var oA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},dP=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=n[t++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=n[t++],l=n[t++],c=n[t++],h=((s&7)<<18|(r&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const r=n[t++],l=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|l&63)}}return e.join("")},TC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const r=n[s],l=s+1<n.length,c=l?n[s+1]:0,h=s+2<n.length,d=h?n[s+2]:0,g=r>>2,y=(r&3)<<4|c>>4;let _=(c&15)<<2|d>>6,b=d&63;h||(b=64,l||(_=64)),i.push(t[g],t[y],t[_],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(AC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const r=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const y=s<n.length?t[n.charAt(s)]:64;if(++s,r==null||c==null||d==null||y==null)throw new fP;const _=r<<2|c>>4;if(i.push(_),d!==64){const b=c<<4&240|d>>2;if(i.push(b),y!==64){const S=d<<6&192|y;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gP=function(n){const e=AC(n);return TC.encodeByteArray(e,!0)},Rg=function(n){return gP(n).replace(/\./g,"")},xC=function(n){try{return TC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=()=>pP().__FIREBASE_DEFAULTS__,yP=()=>{if(typeof process>"u"||typeof oA>"u")return;const n=oA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xC(n[1]);return e&&JSON.parse(e)},bp=()=>{try{return mP()||yP()||vP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},RC=n=>{var e,t;return(t=(e=bp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_P=n=>{const e=RC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},CC=()=>{var n;return(n=bp())===null||n===void 0?void 0:n.config},DC=n=>{var e;return(e=bp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Rg(JSON.stringify(t)),Rg(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function SP(){var n;const e=(n=bp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function TP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xP(){const n=Nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function RP(){return!SP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kC(){try{return typeof indexedDB=="object"}catch{return!1}}function NC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}function CP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="FirebaseError";class Wi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=DP,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,r=this.errors[e],l=r?IP(r,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Wi(s,c,i)}}function IP(n,e){return n.replace(kP,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const kP=/\{\$([^}]+)}/g;function NP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _h(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const r=n[s],l=e[s];if(lA(r)&&lA(l)){if(!_h(r,l))return!1}else if(r!==l)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function lA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Fu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function qu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function MP(n,e){const t=new OP(n,e);return t.subscribe.bind(t)}class OP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");PP(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=lv),s.error===void 0&&(s.error=lv),s.complete===void 0&&(s.complete=lv);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function lv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=1e3,LP=2,VP=4*60*60*1e3,UP=.5;function cA(n,e=jP,t=LP){const i=e*Math.pow(t,n),s=Math.round(UP*i*(Math.random()-.5)*2);return Math.min(VP,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n){return n&&n._delegate?n._delegate:n}class zi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new bP;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HP(e))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=po){return this.instances.has(e)}getOptions(e=po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[r,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(r);i===c&&l.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const l=this.instances.get(s);return l&&e(l,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:BP(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=po){return this.component?this.component.multipleInstances?e:po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BP(n){return n===po?void 0:n}function HP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const qP={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},GP=Ue.INFO,WP={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},$P=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=WP[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ep{constructor(e){this.name=e,this._logLevel=GP,this._logHandler=$P,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const YP=(n,e)=>e.some(t=>n instanceof t);let uA,hA;function QP(){return uA||(uA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KP(){return hA||(hA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MC=new WeakMap,Xv=new WeakMap,OC=new WeakMap,cv=new WeakMap,tb=new WeakMap;function XP(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",l)},r=()=>{t(fa(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&MC.set(t,n)}).catch(()=>{}),tb.set(e,n),e}function ZP(n){if(Xv.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",l),n.removeEventListener("abort",l)},r=()=>{t(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",l),n.addEventListener("abort",l)});Xv.set(n,e)}let Zv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||OC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function JP(n){Zv=n(Zv)}function ej(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(uv(this),e,...t);return OC.set(i,e.sort?e.sort():[e]),fa(i)}:KP().includes(n)?function(...e){return n.apply(uv(this),e),fa(MC.get(this))}:function(...e){return fa(n.apply(uv(this),e))}}function tj(n){return typeof n=="function"?ej(n):(n instanceof IDBTransaction&&ZP(n),YP(n,QP())?new Proxy(n,Zv):n)}function fa(n){if(n instanceof IDBRequest)return XP(n);if(cv.has(n))return cv.get(n);const e=tj(n);return e!==n&&(cv.set(n,e),tb.set(e,n)),e}const uv=n=>tb.get(n);function PC(n,e,{blocked:t,upgrade:i,blocking:s,terminated:r}={}){const l=indexedDB.open(n,e),c=fa(l);return i&&l.addEventListener("upgradeneeded",h=>{i(fa(l.result),h.oldVersion,h.newVersion,fa(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{r&&h.addEventListener("close",()=>r()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const nj=["get","getKey","getAll","getAllKeys","count"],ij=["put","add","delete","clear"],hv=new Map;function dA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hv.get(e))return hv.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=ij.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||nj.includes(t)))return;const r=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),s&&h.done]))[0]};return hv.set(e,r),r}JP(n=>({...n,get:(e,t,i)=>dA(e,t)||n.get(e,t,i),has:(e,t)=>!!dA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rj(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function rj(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jv="@firebase/app",fA="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new Ep("@firebase/app"),aj="@firebase/app-compat",oj="@firebase/analytics-compat",lj="@firebase/analytics",cj="@firebase/app-check-compat",uj="@firebase/app-check",hj="@firebase/auth",dj="@firebase/auth-compat",fj="@firebase/database",gj="@firebase/data-connect",pj="@firebase/database-compat",mj="@firebase/functions",yj="@firebase/functions-compat",vj="@firebase/installations",_j="@firebase/installations-compat",bj="@firebase/messaging",Ej="@firebase/messaging-compat",wj="@firebase/performance",Sj="@firebase/performance-compat",Aj="@firebase/remote-config",Tj="@firebase/remote-config-compat",xj="@firebase/storage",Rj="@firebase/storage-compat",Cj="@firebase/firestore",Dj="@firebase/vertexai",Ij="@firebase/firestore-compat",kj="firebase",Nj="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="[DEFAULT]",Mj={[Jv]:"fire-core",[aj]:"fire-core-compat",[lj]:"fire-analytics",[oj]:"fire-analytics-compat",[uj]:"fire-app-check",[cj]:"fire-app-check-compat",[hj]:"fire-auth",[dj]:"fire-auth-compat",[fj]:"fire-rtdb",[gj]:"fire-data-connect",[pj]:"fire-rtdb-compat",[mj]:"fire-fn",[yj]:"fire-fn-compat",[vj]:"fire-iid",[_j]:"fire-iid-compat",[bj]:"fire-fcm",[Ej]:"fire-fcm-compat",[wj]:"fire-perf",[Sj]:"fire-perf-compat",[Aj]:"fire-rc",[Tj]:"fire-rc-compat",[xj]:"fire-gcs",[Rj]:"fire-gcs-compat",[Cj]:"fire-fst",[Ij]:"fire-fst-compat",[Dj]:"fire-vertex","fire-js":"fire-js",[kj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=new Map,Oj=new Map,t_=new Map;function gA(n,e){try{n.container.addComponent(e)}catch(t){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ws(n){const e=n.name;if(t_.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;t_.set(e,n);for(const t of Cg.values())gA(t,n);for(const t of Oj.values())gA(t,n);return!0}function Vo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Si(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ga=new Lo("app","Firebase",Pj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=Nj;function jC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:e_,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw ga.create("bad-app-name",{appName:String(s)});if(t||(t=CC()),!t)throw ga.create("no-options");const r=Cg.get(s);if(r){if(_h(t,r.options)&&_h(i,r.config))return r;throw ga.create("duplicate-app",{appName:s})}const l=new FP(s);for(const h of t_.values())l.addComponent(h);const c=new jj(t,i,l);return Cg.set(s,c),c}function nb(n=e_){const e=Cg.get(n);if(!e&&n===e_&&CC())return jC();if(!e)throw ga.create("no-app",{appName:n});return e}function xi(n,e,t){var i;let s=(i=Mj[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const r=s.match(/\s|\//),l=e.match(/\s|\//);if(r||l){const c=[`Unable to register library "${s}" with version "${e}":`];r&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(c.join(" "));return}ws(new zi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="firebase-heartbeat-database",Vj=1,bh="firebase-heartbeat-store";let dv=null;function LC(){return dv||(dv=PC(Lj,Vj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bh)}catch(t){console.warn(t)}}}}).catch(n=>{throw ga.create("idb-open",{originalErrorMessage:n.message})})),dv}async function Uj(n){try{const t=(await LC()).transaction(bh),i=await t.objectStore(bh).get(VC(n));return await t.done,i}catch(e){if(e instanceof Wi)gr.warn(e.message);else{const t=ga.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(t.message)}}}async function pA(n,e){try{const i=(await LC()).transaction(bh,"readwrite");await i.objectStore(bh).put(e,VC(n)),await i.done}catch(t){if(t instanceof Wi)gr.warn(t.message);else{const i=ga.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});gr.warn(i.message)}}}function VC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=1024,Bj=30;class Hj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qj(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>Bj){const l=Gj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){gr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mA(),{heartbeatsToSend:i,unsentEntries:s}=Fj(this._heartbeatsCache.heartbeats),r=Rg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return gr.warn(t),""}}}function mA(){return new Date().toISOString().substring(0,10)}function Fj(n,e=zj){const t=[];let i=n.slice();for(const s of n){const r=t.find(l=>l.agent===s.agent);if(r){if(r.dates.push(s.date),yA(t)>e){r.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),yA(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class qj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kC()?NC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Uj(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return pA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return pA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yA(n){return Rg(JSON.stringify({version:2,heartbeats:n})).length}function Gj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(n){ws(new zi("platform-logger",e=>new sj(e),"PRIVATE")),ws(new zi("heartbeat",e=>new Hj(e),"PRIVATE")),xi(Jv,fA,n),xi(Jv,fA,"esm2017"),xi("fire-js","")}Wj("");function ib(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function UC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $j=UC,zC=new Lo("auth","Firebase",UC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=new Ep("@firebase/auth");function Yj(n,...e){Dg.logLevel<=Ue.WARN&&Dg.warn(`Auth (${vc}): ${n}`,...e)}function ag(n,...e){Dg.logLevel<=Ue.ERROR&&Dg.error(`Auth (${vc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(n,...e){throw sb(n,...e)}function vs(n,...e){return sb(n,...e)}function BC(n,e,t){const i=Object.assign(Object.assign({},$j()),{[e]:t});return new Lo("auth","Firebase",i).create(e,{appName:n.name})}function cr(n){return BC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sb(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return zC.create(n,...e)}function Ie(n,e,...t){if(!n)throw sb(e,...t)}function sr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ag(e),new Error(e)}function pr(n,e){n||sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function HC(){return vA()==="http:"||vA()==="https:"}function vA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HC()||IC()||"connection"in navigator)?navigator.onLine:!0}function Kj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t){this.shortDelay=e,this.longDelay=t,pr(t>e,"Short delay should be less than long delay!"),this.isMobile=wP()||TP()}get(){return Qj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(n,e){pr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new qh(3e4,6e4);function xs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $i(n,e,t,i,s={}){return qC(n,s,async()=>{let r={},l={};i&&(e==="GET"?l=i:r={body:JSON.stringify(i)});const c=Fh(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:h},r);return AP()||(d.referrerPolicy="no-referrer"),FC.fetch()(GC(n,n.config.apiHost,t,c),d)})}async function qC(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Xj),e);try{const s=new eL(n),r=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await r.json();if("needConfirmation"in l)throw Df(n,"account-exists-with-different-credential",l);if(r.ok&&!("errorMessage"in l))return l;{const c=r.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Df(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Df(n,"user-disabled",l);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw BC(n,g,d);Bi(n,g)}}catch(s){if(s instanceof Wi)throw s;Bi(n,"network-request-failed",{message:String(s)})}}async function Gh(n,e,t,i,s={}){const r=await $i(n,e,t,i,s);return"mfaPendingCredential"in r&&Bi(n,"multi-factor-auth-required",{_serverResponse:r}),r}function GC(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?rb(n.config,s):`${n.config.apiScheme}://${s}`}function Jj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(vs(this.auth,"network-request-failed")),Zj.get())})}}function Df(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=vs(n,e,i);return s.customData._tokenResponse=t,s}function _A(n){return n!==void 0&&n.enterprise!==void 0}class tL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Jj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nL(n,e){return $i(n,"GET","/v2/recaptchaConfig",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(n,e){return $i(n,"POST","/v1/accounts:delete",e)}async function WC(n,e){return $i(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sL(n,e=!1){const t=Tt(n),i=await t.getIdToken(e),s=ab(i);Ie(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,l=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:th(fv(s.auth_time)),issuedAtTime:th(fv(s.iat)),expirationTime:th(fv(s.exp)),signInProvider:l||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function fv(n){return Number(n)*1e3}function ab(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ag("JWT malformed, contained fewer than 3 sections"),null;try{const s=xC(t);return s?JSON.parse(s):(ag("Failed to decode base64 JWT payload"),null)}catch(s){return ag("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function bA(n){const e=ab(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Wi&&rL(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function rL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=th(this.lastLoginAt),this.creationTime=th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kg(n){var e;const t=n.auth,i=await n.getIdToken(),s=await nc(n,WC(t,{idToken:i}));Ie(s==null?void 0:s.users.length,t,"internal-error");const r=s.users[0];n._notifyReloadListener(r);const l=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?$C(r.providerUserInfo):[],c=lL(n.providerData,l),h=n.isAnonymous,d=!(n.email&&r.passwordHash)&&!(c!=null&&c.length),g=h?d:!1,y={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new n_(r.createdAt,r.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function oL(n){const e=Tt(n);await kg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lL(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function $C(n){return n.map(e=>{var{providerId:t}=e,i=ib(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(n,e){const t=await qC(n,{},async()=>{const i=Fh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=n.config,l=GC(n,s,"/v1/token",`key=${r}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",FC.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function uL(n,e){return $i(n,"POST","/v2/accounts:revokeToken",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=bA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:r}=await cL(e,t);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:r}=t,l=new Yl;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(Ie(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),r&&(Ie(typeof r=="number","internal-error",{appName:e}),l.expirationTime=r),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yl,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class rr{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,r=ib(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new n_(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await nc(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return sL(this,e)}reload(){return oL(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await kg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await nc(this,iL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,r,l,c,h,d,g;const y=(i=t.displayName)!==null&&i!==void 0?i:void 0,_=(s=t.email)!==null&&s!==void 0?s:void 0,b=(r=t.phoneNumber)!==null&&r!==void 0?r:void 0,S=(l=t.photoURL)!==null&&l!==void 0?l:void 0,x=(c=t.tenantId)!==null&&c!==void 0?c:void 0,A=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,I=(d=t.createdAt)!==null&&d!==void 0?d:void 0,O=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:j,emailVerified:B,isAnonymous:q,providerData:K,stsTokenManager:M}=t;Ie(j&&M,e,"internal-error");const C=Yl.fromJSON(this.name,M);Ie(typeof j=="string",e,"internal-error"),na(y,e.name),na(_,e.name),Ie(typeof B=="boolean",e,"internal-error"),Ie(typeof q=="boolean",e,"internal-error"),na(b,e.name),na(S,e.name),na(x,e.name),na(A,e.name),na(I,e.name),na(O,e.name);const D=new rr({uid:j,auth:e,email:_,emailVerified:B,displayName:y,isAnonymous:q,photoURL:S,phoneNumber:b,tenantId:x,stsTokenManager:C,createdAt:I,lastLoginAt:O});return K&&Array.isArray(K)&&(D.providerData=K.map(P=>Object.assign({},P))),A&&(D._redirectEventId=A),D}static async _fromIdTokenResponse(e,t,i=!1){const s=new Yl;s.updateFromServerResponse(t);const r=new rr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await kg(r),r}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ie(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?$C(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),c=new Yl;c.updateFromIdToken(i);const h=new rr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new n_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new Map;function ar(n){pr(n instanceof Function,"Expected a class definition");let e=EA.get(n);return e?(pr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,EA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}YC.type="NONE";const wA=YC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(n,e,t){return`firebase:${n}:${e}:${t}`}class Ql{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=og(this.userKey,s.apiKey,r),this.fullPersistenceKey=og("persistence",s.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?rr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ql(ar(wA),e,i);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let r=s[0]||ar(wA);const l=og(i,e.config.apiKey,e.name);let c=null;for(const d of t)try{const g=await d._get(l);if(g){const y=rr._fromJSON(e,g);d!==r&&(c=y),r=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!r._shouldAllowMigration||!h.length?new Ql(r,e,i):(r=h[0],c&&await r._set(l,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==r)try{await d._remove(l)}catch{}})),new Ql(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eD(e))return"Blackberry";if(tD(e))return"Webos";if(KC(e))return"Safari";if((e.includes("chrome/")||XC(e))&&!e.includes("edge/"))return"Chrome";if(JC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function QC(n=Nn()){return/firefox\//i.test(n)}function KC(n=Nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XC(n=Nn()){return/crios\//i.test(n)}function ZC(n=Nn()){return/iemobile/i.test(n)}function JC(n=Nn()){return/android/i.test(n)}function eD(n=Nn()){return/blackberry/i.test(n)}function tD(n=Nn()){return/webos/i.test(n)}function ob(n=Nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hL(n=Nn()){var e;return ob(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dL(){return xP()&&document.documentMode===10}function nD(n=Nn()){return ob(n)||JC(n)||tD(n)||eD(n)||/windows phone/i.test(n)||ZC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(n,e=[]){let t;switch(n){case"Browser":t=SA(Nn());break;case"Worker":t=`${SA(Nn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=r=>new Promise((l,c)=>{try{const h=e(r);l(h)}catch(h){c(h)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(n,e={}){return $i(n,"GET","/v2/passwordPolicy",xs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=6;class mL{constructor(e){var t,i,s,r;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:pL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,r,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(r=h.containsUppercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AA(this),this.idTokenSubscription=new AA(this),this.beforeStateQueue=new fL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ar(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Ql.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await WC(this,{idToken:e}),i=await rr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Si(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Kj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Si(this.app))return Promise.reject(cr(this));const t=e?Tt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Si(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gL(this),t=new mL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lo("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await uL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ar(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Ql.create(this,[ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const r=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(c,this,"internal-error"),c.then(()=>{l||r(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Yj(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Uo(n){return Tt(n)}class AA{constructor(e){this.auth=e,this.observer=null,this.addObserver=MP(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vL(n){wp=n}function sD(n){return wp.loadJS(n)}function _L(){return wp.recaptchaEnterpriseScript}function bL(){return wp.gapiScript}function EL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class wL{constructor(){this.enterprise=new SL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class SL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AL="recaptcha-enterprise",rD="NO_RECAPTCHA";class TL{constructor(e){this.type=AL,this.auth=Uo(e)}async verify(e="verify",t=!1){async function i(r){if(!t){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(l,c)=>{nL(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new tL(h);return r.tenantId==null?r._agentRecaptchaConfig=d:r._tenantRecaptchaConfigs[r.tenantId]=d,l(d.siteKey)}}).catch(h=>{c(h)})})}function s(r,l,c){const h=window.grecaptcha;_A(h)?h.enterprise.ready(()=>{h.enterprise.execute(r,{action:e}).then(d=>{l(d)}).catch(()=>{l(rD)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wL().execute("siteKey",{action:"verify"}):new Promise((r,l)=>{i(this.auth).then(c=>{if(!t&&_A(window.grecaptcha))s(c,r,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=_L();h.length!==0&&(h+=c),sD(h).then(()=>{s(c,r,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function TA(n,e,t,i=!1,s=!1){const r=new TL(n);let l;if(s)l=rD;else try{l=await r.verify(t)}catch{l=await r.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function i_(n,e,t,i,s){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await TA(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await TA(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(n,e){const t=Vo(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),r=t.getOptions();if(_h(r,e??{}))return s;Bi(s,"already-initialized")}return t.initialize({options:e})}function RL(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ar);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function CL(n,e,t){const i=Uo(n);Ie(i._canInitEmulator,i,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=aD(e),{host:l,port:c}=DL(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${r}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),IL()}function aD(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function DL(n){const e=aD(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:xA(i.substr(r.length+1))}}else{const[r,l]=i.split(":");return{host:r,port:xA(l)}}}function xA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function IL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,t){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function kL(n,e){return $i(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(n,e){return Gh(n,"POST","/v1/accounts:signInWithPassword",xs(n,e))}async function ML(n,e){return $i(n,"POST","/v1/accounts:sendOobCode",xs(n,e))}async function OL(n,e){return ML(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(n,e){return Gh(n,"POST","/v1/accounts:signInWithEmailLink",xs(n,e))}async function jL(n,e){return Gh(n,"POST","/v1/accounts:signInWithEmailLink",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends lb{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Eh(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Eh(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i_(e,t,"signInWithPassword",NL);case"emailLink":return PL(e,{email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i_(e,i,"signUpPassword",kL);case"emailLink":return jL(e,{idToken:t,email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(n,e){return Gh(n,"POST","/v1/accounts:signInWithIdp",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="http://localhost";class Ro extends lb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,r=ib(t,["providerId","signInMethod"]);if(!i||!s)return null;const l=new Ro(i,s);return l.idToken=r.idToken||void 0,l.accessToken=r.accessToken||void 0,l.secret=r.secret,l.nonce=r.nonce,l.pendingToken=r.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Kl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Kl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Kl(e,t)}buildRequest(){const e={requestUri:LL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UL(n){const e=Fu(qu(n)).link,t=e?Fu(qu(e)).deep_link_id:null,i=Fu(qu(n)).deep_link_id;return(i?Fu(qu(i)).link:null)||i||t||e||n}class cb{constructor(e){var t,i,s,r,l,c;const h=Fu(qu(e)),d=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(i=h.oobCode)!==null&&i!==void 0?i:null,y=VL((s=h.mode)!==null&&s!==void 0?s:null);Ie(d&&g&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=g,this.continueUrl=(r=h.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=UL(e);try{return new cb(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.providerId=_c.PROVIDER_ID}static credential(e,t){return Eh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=cb.parseLink(t);return Ie(i,"argument-error"),Eh._fromEmailAndCode(e,i.code,i.tenantId)}}_c.PROVIDER_ID="password";_c.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_c.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends oD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Wh{constructor(){super("facebook.com")}static credential(e){return Ro._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ra.credential(e.oauthAccessToken)}catch{return null}}}ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Wh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ro._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ir.credential(t,i)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Wh{constructor(){super("github.com")}static credential(e){return Ro._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Wh{constructor(){super("twitter.com")}static credential(e,t){return Ro._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return oa.credential(t,i)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(n,e){return Gh(n,"POST","/v1/accounts:signUp",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const r=await rr._fromIdTokenResponse(e,i,s),l=RA(i);return new Co({user:r,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=RA(i);return new Co({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function RA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends Wi{constructor(e,t,i,s){var r;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Ng.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Ng(e,t,i,s)}}function lD(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Ng._fromErrorAndOperation(n,r,e,i):r})}async function BL(n,e,t=!1){const i=await nc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Co._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(n,e,t=!1){const{auth:i}=n;if(Si(i.app))return Promise.reject(cr(i));const s="reauthenticate";try{const r=await nc(n,lD(i,s,e,n),t);Ie(r.idToken,i,"internal-error");const l=ab(r.idToken);Ie(l,i,"internal-error");const{sub:c}=l;return Ie(n.uid===c,i,"user-mismatch"),Co._forOperation(n,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Bi(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n,e,t=!1){if(Si(n.app))return Promise.reject(cr(n));const i="signIn",s=await lD(n,i,e),r=await Co._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(r.user),r}async function FL(n,e){return cD(Uo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(n){const e=Uo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qL(n,e,t){if(Si(n.app))return Promise.reject(cr(n));const i=Uo(n),l=await i_(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zL).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&uD(n),h}),c=await Co._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function GL(n,e,t){return Si(n.app)?Promise.reject(cr(n)):FL(Tt(n),_c.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&uD(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(n,e){return $i(n,"POST","/v1/accounts:createAuthUri",xs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(n,e){const t=HC()?Ig():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:s}=await WL(Tt(n),i);return s||[]}async function YL(n,e){const t=Tt(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:r}=await OL(t.auth,s);r!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(n,e){return $i(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Tt(n),r={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await nc(i,QL(i.auth,r));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function XL(n,e,t,i){return Tt(n).onIdTokenChanged(e,t,i)}function ZL(n,e,t){return Tt(n).beforeAuthStateChanged(e,t)}function hD(n,e,t,i){return Tt(n).onAuthStateChanged(e,t,i)}function JL(n){return Tt(n).signOut()}const Mg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mg,"1"),this.storage.removeItem(Mg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=1e3,tV=10;class fD extends dD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},r=this.storage.getItem(i);dL()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,tV):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},eV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fD.type="LOCAL";const nV=fD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD extends dD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gD.type="SESSION";const pD=gD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Sp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:r}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async d=>d(t.origin,r)),h=await iV(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,l;return new Promise((c,h)=>{const d=ub("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(g),r=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),c(_.data.response);break;default:clearTimeout(g),clearTimeout(r),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return window}function rV(n){_s().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function aV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function lV(){return mD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="firebaseLocalStorageDb",cV=1,Og="firebaseLocalStorage",vD="fbase_key";class $h{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ap(n,e){return n.transaction([Og],e?"readwrite":"readonly").objectStore(Og)}function uV(){const n=indexedDB.deleteDatabase(yD);return new $h(n).toPromise()}function s_(){const n=indexedDB.open(yD,cV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Og,{keyPath:vD})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Og)?e(i):(i.close(),await uV(),e(await s_()))})})}async function CA(n,e,t){const i=Ap(n,!0).put({[vD]:e,value:t});return new $h(i).toPromise()}async function hV(n,e){const t=Ap(n,!1).get(e),i=await new $h(t).toPromise();return i===void 0?null:i.value}function DA(n,e){const t=Ap(n,!0).delete(e);return new $h(t).toPromise()}const dV=800,fV=3;class _D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await s_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>fV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sp._getInstance(lV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await aV(),!this.activeServiceWorker)return;this.sender=new sV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await s_();return await CA(e,Mg,"1"),await DA(e,Mg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>CA(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>hV(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>DA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Ap(s,!1).getAll();return new $h(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_D.type="LOCAL";const gV=_D;new qh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(n,e){return e?ar(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb extends lb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Kl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mV(n){return cD(n.auth,new hb(n),n.bypassAuthState)}function yV(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),HL(t,new hb(n),n.bypassAuthState)}async function vV(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),BL(t,new hb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,t,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:r,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mV;case"linkViaPopup":case"linkViaRedirect":return vV;case"reauthViaPopup":case"reauthViaRedirect":return yV;default:Bi(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=new qh(2e3,1e4);class Gl extends bD{constructor(e,t,i,s,r){super(e,t,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Gl.currentPopupAction&&Gl.currentPopupAction.cancel(),Gl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=ub();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_V.get())};e()}}Gl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="pendingRedirect",lg=new Map;class EV extends bD{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=lg.get(this.auth._key());if(!e){try{const i=await wV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}lg.set(this.auth._key(),e)}return this.bypassAuthState||lg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wV(n,e){const t=TV(e),i=AV(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function SV(n,e){lg.set(n._key(),e)}function AV(n){return ar(n._redirectPersistence)}function TV(n){return og(bV,n.config.apiKey,n.name)}async function xV(n,e,t=!1){if(Si(n.app))return Promise.reject(cr(n));const i=Uo(n),s=pV(i,e),l=await new EV(i,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=10*60*1e3;class CV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!ED(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(vs(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RV&&this.cachedEventUids.clear(),this.cachedEventUids.has(IA(e))}saveEventToCache(e){this.cachedEventUids.add(IA(e)),this.lastProcessedEventTime=Date.now()}}function IA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ED({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ED(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(n,e={}){return $i(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NV=/^https?/;async function MV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await IV(n);for(const t of e)try{if(OV(t))return}catch{}Bi(n,"unauthorized-domain")}function OV(n){const e=Ig(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!NV.test(t))return!1;if(kV.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=new qh(3e4,6e4);function kA(){const n=_s().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jV(n){return new Promise((e,t)=>{var i,s,r;function l(){kA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kA(),t(vs(n,"network-request-failed"))},timeout:PV.get()})}if(!((s=(i=_s().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=_s().gapi)===null||r===void 0)&&r.load)l();else{const c=EL("iframefcb");return _s()[c]=()=>{gapi.load?l():t(vs(n,"network-request-failed"))},sD(`${bL()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw cg=null,e})}let cg=null;function LV(n){return cg=cg||jV(n),cg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=new qh(5e3,15e3),UV="__/auth/iframe",zV="emulator/auth/iframe",BV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FV(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?rb(e,zV):`https://${n.config.authDomain}/${UV}`,i={apiKey:e.apiKey,appName:n.name,v:vc},s=HV.get(n.config.apiHost);s&&(i.eid=s);const r=n._getFrameworks();return r.length&&(i.fw=r.join(",")),`${t}?${Fh(i).slice(1)}`}async function qV(n){const e=await LV(n),t=_s().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:FV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BV,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const l=vs(n,"network-request-failed"),c=_s().setTimeout(()=>{r(l)},VV.get());function h(){_s().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{r(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WV=500,$V=600,YV="_blank",QV="http://localhost";class NA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KV(n,e,t,i=WV,s=$V){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},GV),{width:i.toString(),height:s.toString(),top:r,left:l}),d=Nn().toLowerCase();t&&(c=XC(d)?YV:t),QC(d)&&(e=e||QV,h.scrollbars="yes");const g=Object.entries(h).reduce((_,[b,S])=>`${_}${b}=${S},`,"");if(hL(d)&&c!=="_self")return XV(e||"",c),new NA(null);const y=window.open(e||"",c,g);Ie(y,n,"popup-blocked");try{y.focus()}catch{}return new NA(y)}function XV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="__/auth/handler",JV="emulator/auth/handler",eU=encodeURIComponent("fac");async function MA(n,e,t,i,s,r){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:vc,eventId:s};if(e instanceof oD){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",NP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof Wh){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),d=h?`#${eU}=${encodeURIComponent(h)}`:"";return`${tU(n)}?${Fh(c).slice(1)}${d}`}function tU({config:n}){return n.emulator?rb(n,JV):`https://${n.authDomain}/${ZV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="webStorageSupport";class nU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pD,this._completeRedirectFn=xV,this._overrideRedirectResult=SV}async _openPopup(e,t,i,s){var r;pr((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const l=await MA(e,t,i,Ig(),s);return KV(e,l,ub())}async _openRedirect(e,t,i,s){await this._originValidation(e);const r=await MA(e,t,i,Ig(),s);return rV(r),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:r}=this.eventManagers[t];return s?Promise.resolve(s):(pr(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await qV(e),i=new CV(e);return t.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gv,{type:gv},s=>{var r;const l=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[gv];l!==void 0&&t(!!l),Bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=MV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nD()||KC()||ob()}}const iU=nU;var OA="@firebase/auth",PA="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aU(n){ws(new zi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Ie(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iD(n)},d=new yL(i,s,r,h);return RL(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ws(new zi("auth-internal",e=>{const t=Uo(e.getProvider("auth").getImmediate());return(i=>new sU(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(OA,PA,rU(n)),xi(OA,PA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=5*60,lU=DC("authIdTokenMaxAge")||oU;let jA=null;const cU=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>lU)return;const s=t==null?void 0:t.token;jA!==s&&(jA=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function uU(n=nb()){const e=Vo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xL(n,{popupRedirectResolver:iU,persistence:[gV,nV,pD]}),i=DC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const l=cU(r.toString());ZL(t,l,()=>l(t.currentUser)),XL(t,c=>l(c))}}const s=RC("auth");return s&&CL(t,`http://${s}`),t}function hU(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vL({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const r=vs("internal-error");r.customData=s,t(r)},i.type="text/javascript",i.charset="UTF-8",hU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aU("Browser");var dU="firebase",fU="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(dU,fU,"app");const wD="@firebase/installations",db="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=1e4,AD=`w:${db}`,TD="FIS_v2",gU="https://firebaseinstallations.googleapis.com/v1",pU=60*60*1e3,mU="installations",yU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Do=new Lo(mU,yU,vU);function xD(n){return n instanceof Wi&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD({projectId:n}){return`${gU}/projects/${n}/installations`}function CD(n){return{token:n.token,requestStatus:2,expiresIn:bU(n.expiresIn),creationTime:Date.now()}}async function DD(n,e){const i=(await e.json()).error;return Do.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function ID({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function _U(n,{refreshToken:e}){const t=ID(n);return t.append("Authorization",EU(e)),t}async function kD(n){const e=await n();return e.status>=500&&e.status<600?n():e}function bU(n){return Number(n.replace("s","000"))}function EU(n){return`${TD} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=RD(n),s=ID(n),r=e.getImmediate({optional:!0});if(r){const d=await r.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const l={fid:t,authVersion:TD,appId:n.appId,sdkVersion:AD},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await kD(()=>fetch(i,c));if(h.ok){const d=await h.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:CD(d.authToken)}}else throw await DD("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=/^[cdef][\w-]{21}$/,r_="";function TU(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=xU(n);return AU.test(t)?t:r_}catch{return r_}}function xU(n){return SU(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new Map;function OD(n,e){const t=Tp(n);PD(t,e),RU(t,e)}function PD(n,e){const t=MD.get(n);if(t)for(const i of t)i(e)}function RU(n,e){const t=CU();t&&t.postMessage({key:n,fid:e}),DU()}let Eo=null;function CU(){return!Eo&&"BroadcastChannel"in self&&(Eo=new BroadcastChannel("[Firebase] FID Change"),Eo.onmessage=n=>{PD(n.data.key,n.data.fid)}),Eo}function DU(){MD.size===0&&Eo&&(Eo.close(),Eo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="firebase-installations-database",kU=1,Io="firebase-installations-store";let pv=null;function fb(){return pv||(pv=PC(IU,kU,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Io)}}})),pv}async function Pg(n,e){const t=Tp(n),s=(await fb()).transaction(Io,"readwrite"),r=s.objectStore(Io),l=await r.get(t);return await r.put(e,t),await s.done,(!l||l.fid!==e.fid)&&OD(n,e.fid),e}async function jD(n){const e=Tp(n),i=(await fb()).transaction(Io,"readwrite");await i.objectStore(Io).delete(e),await i.done}async function xp(n,e){const t=Tp(n),s=(await fb()).transaction(Io,"readwrite"),r=s.objectStore(Io),l=await r.get(t),c=e(l);return c===void 0?await r.delete(t):await r.put(c,t),await s.done,c&&(!l||l.fid!==c.fid)&&OD(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(n){let e;const t=await xp(n.appConfig,i=>{const s=NU(i),r=MU(n,s);return e=r.registrationPromise,r.installationEntry});return t.fid===r_?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function NU(n){const e=n||{fid:TU(),registrationStatus:0};return LD(e)}function MU(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Do.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=OU(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:PU(n)}:{installationEntry:e}}async function OU(n,e){try{const t=await wU(n,e);return Pg(n.appConfig,t)}catch(t){throw xD(t)&&t.customData.serverCode===409?await jD(n.appConfig):await Pg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function PU(n){let e=await LA(n.appConfig);for(;e.registrationStatus===1;)await ND(100),e=await LA(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await gb(n);return i||t}return e}function LA(n){return xp(n,e=>{if(!e)throw Do.create("installation-not-found");return LD(e)})}function LD(n){return jU(n)?{fid:n.fid,registrationStatus:0}:n}function jU(n){return n.registrationStatus===1&&n.registrationTime+SD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU({appConfig:n,heartbeatServiceProvider:e},t){const i=VU(n,t),s=_U(n,t),r=e.getImmediate({optional:!0});if(r){const d=await r.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const l={installation:{sdkVersion:AD,appId:n.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await kD(()=>fetch(i,c));if(h.ok){const d=await h.json();return CD(d)}else throw await DD("Generate Auth Token",h)}function VU(n,{fid:e}){return`${RD(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(n,e=!1){let t;const i=await xp(n.appConfig,r=>{if(!VD(r))throw Do.create("not-registered");const l=r.authToken;if(!e&&BU(l))return r;if(l.requestStatus===1)return t=UU(n,e),r;{if(!navigator.onLine)throw Do.create("app-offline");const c=FU(r);return t=zU(n,c),c}});return t?await t:i.authToken}async function UU(n,e){let t=await VA(n.appConfig);for(;t.authToken.requestStatus===1;)await ND(100),t=await VA(n.appConfig);const i=t.authToken;return i.requestStatus===0?pb(n,e):i}function VA(n){return xp(n,e=>{if(!VD(e))throw Do.create("not-registered");const t=e.authToken;return qU(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function zU(n,e){try{const t=await LU(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await Pg(n.appConfig,i),t}catch(t){if(xD(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await jD(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Pg(n.appConfig,i)}throw t}}function VD(n){return n!==void 0&&n.registrationStatus===2}function BU(n){return n.requestStatus===2&&!HU(n)}function HU(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+pU}function FU(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function qU(n){return n.requestStatus===1&&n.requestTime+SD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GU(n){const e=n,{installationEntry:t,registrationPromise:i}=await gb(e);return i?i.catch(console.error):pb(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(n,e=!1){const t=n;return await $U(t),(await pb(t,e)).token}async function $U(n){const{registrationPromise:e}=await gb(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(n){if(!n||!n.options)throw mv("App Configuration");if(!n.name)throw mv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw mv(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function mv(n){return Do.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="installations",QU="installations-internal",KU=n=>{const e=n.getProvider("app").getImmediate(),t=YU(e),i=Vo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},XU=n=>{const e=n.getProvider("app").getImmediate(),t=Vo(e,UD).getImmediate();return{getId:()=>GU(t),getToken:s=>WU(t,s)}};function ZU(){ws(new zi(UD,KU,"PUBLIC")),ws(new zi(QU,XU,"PRIVATE"))}ZU();xi(wD,db);xi(wD,db,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="analytics",JU="firebase_id",ez="origin",tz=60*1e3,nz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new Ep("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},si=new Lo("analytics","Analytics",iz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(n){if(!n.startsWith(mb)){const e=si.create("invalid-gtag-resource",{gtagURL:n});return Qn.warn(e.message),""}return n}function zD(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function rz(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function az(n,e){const t=rz("firebase-js-sdk-policy",{createScriptURL:sz}),i=document.createElement("script"),s=`${mb}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function oz(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function lz(n,e,t,i,s,r){const l=i[s];try{if(l)await e[l];else{const h=(await zD(t)).find(d=>d.measurementId===s);h&&await e[h.appId]}}catch(c){Qn.error(c)}n("config",s,r)}async function cz(n,e,t,i,s){try{let r=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const c=await zD(t);for(const h of l){const d=c.find(y=>y.measurementId===h),g=d&&e[d.appId];if(g)r.push(g);else{r=[];break}}}r.length===0&&(r=Object.values(e)),await Promise.all(r),n("event",i,s||{})}catch(r){Qn.error(r)}}function uz(n,e,t,i){async function s(r,...l){try{if(r==="event"){const[c,h]=l;await cz(n,e,t,c,h)}else if(r==="config"){const[c,h]=l;await lz(n,e,t,i,c,h)}else if(r==="consent"){const[c,h]=l;n("consent",c,h)}else if(r==="get"){const[c,h,d]=l;n("get",c,h,d)}else if(r==="set"){const[c]=l;n("set",c)}else n(r,...l)}catch(c){Qn.error(c)}}return s}function hz(n,e,t,i,s){let r=function(...l){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=uz(r,n,e,t),{gtagCore:r,wrappedGtag:window[s]}}function dz(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(mb)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=30,gz=1e3;class pz{constructor(e={},t=gz){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const BD=new pz;function mz(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function yz(n){var e;const{appId:t,apiKey:i}=n,s={method:"GET",headers:mz(i)},r=nz.replace("{app-id}",t),l=await fetch(r,s);if(l.status!==200&&l.status!==304){let c="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(c=h.error.message)}catch{}throw si.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function vz(n,e=BD,t){const{appId:i,apiKey:s,measurementId:r}=n.options;if(!i)throw si.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw si.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Ez;return setTimeout(async()=>{c.abort()},tz),HD({appId:i,apiKey:s,measurementId:r},l,c,e)}async function HD(n,{throttleEndTimeMillis:e,backoffCount:t},i,s=BD){var r;const{appId:l,measurementId:c}=n;try{await _z(i,e)}catch(h){if(c)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw h}try{const h=await yz(n);return s.deleteThrottleMetadata(l),h}catch(h){const d=h;if(!bz(d)){if(s.deleteThrottleMetadata(l),c)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:c};throw h}const g=Number((r=d==null?void 0:d.customData)===null||r===void 0?void 0:r.httpStatus)===503?cA(t,s.intervalMillis,fz):cA(t,s.intervalMillis),y={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return s.setThrottleMetadata(l,y),Qn.debug(`Calling attemptFetch again in ${g} millis`),HD(n,y,i,s)}}function _z(n,e){return new Promise((t,i)=>{const s=Math.max(e-Date.now(),0),r=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(r),i(si.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bz(n){if(!(n instanceof Wi)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class Ez{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function wz(n,e,t,i,s){if(s&&s.global){n("event",t,i);return}else{const r=await e,l=Object.assign(Object.assign({},i),{send_to:r});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sz(){if(kC())try{await NC()}catch(n){return Qn.warn(si.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Qn.warn(si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Az(n,e,t,i,s,r,l){var c;const h=vz(n);h.then(b=>{t[b.measurementId]=b.appId,n.options.measurementId&&b.measurementId!==n.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Qn.error(b)),e.push(h);const d=Sz().then(b=>{if(b)return i.getId()}),[g,y]=await Promise.all([h,d]);dz(r)||az(r,g.measurementId),s("js",new Date);const _=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return _[ez]="firebase",_.update=!0,y!=null&&(_[JU]=y),s("config",g.measurementId,_),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e){this.app=e}_delete(){return delete nh[this.app.options.appId],Promise.resolve()}}let nh={},UA=[];const zA={};let yv="dataLayer",xz="gtag",BA,FD,HA=!1;function Rz(){const n=[];if(IC()&&n.push("This is a browser extension environment."),CP()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,s)=>`(${s+1}) ${i}`).join(" "),t=si.create("invalid-analytics-context",{errorInfo:e});Qn.warn(t.message)}}function Cz(n,e,t){Rz();const i=n.options.appId;if(!i)throw si.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw si.create("no-api-key");if(nh[i]!=null)throw si.create("already-exists",{id:i});if(!HA){oz(yv);const{wrappedGtag:r,gtagCore:l}=hz(nh,UA,zA,yv,xz);FD=r,BA=l,HA=!0}return nh[i]=Az(n,UA,zA,e,BA,yv,t),new Tz(n)}function Dz(n=nb()){n=Tt(n);const e=Vo(n,jg);return e.isInitialized()?e.getImmediate():Iz(n)}function Iz(n,e={}){const t=Vo(n,jg);if(t.isInitialized()){const s=t.getImmediate();if(_h(e,t.getOptions()))return s;throw si.create("already-initialized")}return t.initialize({options:e})}function kz(n,e,t,i){n=Tt(n),wz(FD,nh[n.app.options.appId],e,t,i).catch(s=>Qn.error(s))}const FA="@firebase/analytics",qA="0.10.11";function Nz(){ws(new zi(jg,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Cz(i,s,t)},"PUBLIC")),ws(new zi("analytics-internal",n,"PRIVATE")),xi(FA,qA),xi(FA,qA,"esm2017");function n(e){try{const t=e.getProvider(jg).getImmediate();return{logEvent:(i,s,r)=>kz(t,i,s,r)}}catch(t){throw si.create("interop-component-reg-failed",{reason:t})}}}Nz();var GA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pa,qD;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function D(){}D.prototype=C.prototype,M.D=C.prototype,M.prototype=new D,M.prototype.constructor=M,M.C=function(P,V,H){for(var L=Array(arguments.length-2),De=2;De<arguments.length;De++)L[De-2]=arguments[De];return C.prototype[V].apply(P,L)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,C,D){D||(D=0);var P=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)P[V]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(V=0;16>V;++V)P[V]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=M.g[0],D=M.g[1],V=M.g[2];var H=M.g[3],L=C+(H^D&(V^H))+P[0]+3614090360&4294967295;C=D+(L<<7&4294967295|L>>>25),L=H+(V^C&(D^V))+P[1]+3905402710&4294967295,H=C+(L<<12&4294967295|L>>>20),L=V+(D^H&(C^D))+P[2]+606105819&4294967295,V=H+(L<<17&4294967295|L>>>15),L=D+(C^V&(H^C))+P[3]+3250441966&4294967295,D=V+(L<<22&4294967295|L>>>10),L=C+(H^D&(V^H))+P[4]+4118548399&4294967295,C=D+(L<<7&4294967295|L>>>25),L=H+(V^C&(D^V))+P[5]+1200080426&4294967295,H=C+(L<<12&4294967295|L>>>20),L=V+(D^H&(C^D))+P[6]+2821735955&4294967295,V=H+(L<<17&4294967295|L>>>15),L=D+(C^V&(H^C))+P[7]+4249261313&4294967295,D=V+(L<<22&4294967295|L>>>10),L=C+(H^D&(V^H))+P[8]+1770035416&4294967295,C=D+(L<<7&4294967295|L>>>25),L=H+(V^C&(D^V))+P[9]+2336552879&4294967295,H=C+(L<<12&4294967295|L>>>20),L=V+(D^H&(C^D))+P[10]+4294925233&4294967295,V=H+(L<<17&4294967295|L>>>15),L=D+(C^V&(H^C))+P[11]+2304563134&4294967295,D=V+(L<<22&4294967295|L>>>10),L=C+(H^D&(V^H))+P[12]+1804603682&4294967295,C=D+(L<<7&4294967295|L>>>25),L=H+(V^C&(D^V))+P[13]+4254626195&4294967295,H=C+(L<<12&4294967295|L>>>20),L=V+(D^H&(C^D))+P[14]+2792965006&4294967295,V=H+(L<<17&4294967295|L>>>15),L=D+(C^V&(H^C))+P[15]+1236535329&4294967295,D=V+(L<<22&4294967295|L>>>10),L=C+(V^H&(D^V))+P[1]+4129170786&4294967295,C=D+(L<<5&4294967295|L>>>27),L=H+(D^V&(C^D))+P[6]+3225465664&4294967295,H=C+(L<<9&4294967295|L>>>23),L=V+(C^D&(H^C))+P[11]+643717713&4294967295,V=H+(L<<14&4294967295|L>>>18),L=D+(H^C&(V^H))+P[0]+3921069994&4294967295,D=V+(L<<20&4294967295|L>>>12),L=C+(V^H&(D^V))+P[5]+3593408605&4294967295,C=D+(L<<5&4294967295|L>>>27),L=H+(D^V&(C^D))+P[10]+38016083&4294967295,H=C+(L<<9&4294967295|L>>>23),L=V+(C^D&(H^C))+P[15]+3634488961&4294967295,V=H+(L<<14&4294967295|L>>>18),L=D+(H^C&(V^H))+P[4]+3889429448&4294967295,D=V+(L<<20&4294967295|L>>>12),L=C+(V^H&(D^V))+P[9]+568446438&4294967295,C=D+(L<<5&4294967295|L>>>27),L=H+(D^V&(C^D))+P[14]+3275163606&4294967295,H=C+(L<<9&4294967295|L>>>23),L=V+(C^D&(H^C))+P[3]+4107603335&4294967295,V=H+(L<<14&4294967295|L>>>18),L=D+(H^C&(V^H))+P[8]+1163531501&4294967295,D=V+(L<<20&4294967295|L>>>12),L=C+(V^H&(D^V))+P[13]+2850285829&4294967295,C=D+(L<<5&4294967295|L>>>27),L=H+(D^V&(C^D))+P[2]+4243563512&4294967295,H=C+(L<<9&4294967295|L>>>23),L=V+(C^D&(H^C))+P[7]+1735328473&4294967295,V=H+(L<<14&4294967295|L>>>18),L=D+(H^C&(V^H))+P[12]+2368359562&4294967295,D=V+(L<<20&4294967295|L>>>12),L=C+(D^V^H)+P[5]+4294588738&4294967295,C=D+(L<<4&4294967295|L>>>28),L=H+(C^D^V)+P[8]+2272392833&4294967295,H=C+(L<<11&4294967295|L>>>21),L=V+(H^C^D)+P[11]+1839030562&4294967295,V=H+(L<<16&4294967295|L>>>16),L=D+(V^H^C)+P[14]+4259657740&4294967295,D=V+(L<<23&4294967295|L>>>9),L=C+(D^V^H)+P[1]+2763975236&4294967295,C=D+(L<<4&4294967295|L>>>28),L=H+(C^D^V)+P[4]+1272893353&4294967295,H=C+(L<<11&4294967295|L>>>21),L=V+(H^C^D)+P[7]+4139469664&4294967295,V=H+(L<<16&4294967295|L>>>16),L=D+(V^H^C)+P[10]+3200236656&4294967295,D=V+(L<<23&4294967295|L>>>9),L=C+(D^V^H)+P[13]+681279174&4294967295,C=D+(L<<4&4294967295|L>>>28),L=H+(C^D^V)+P[0]+3936430074&4294967295,H=C+(L<<11&4294967295|L>>>21),L=V+(H^C^D)+P[3]+3572445317&4294967295,V=H+(L<<16&4294967295|L>>>16),L=D+(V^H^C)+P[6]+76029189&4294967295,D=V+(L<<23&4294967295|L>>>9),L=C+(D^V^H)+P[9]+3654602809&4294967295,C=D+(L<<4&4294967295|L>>>28),L=H+(C^D^V)+P[12]+3873151461&4294967295,H=C+(L<<11&4294967295|L>>>21),L=V+(H^C^D)+P[15]+530742520&4294967295,V=H+(L<<16&4294967295|L>>>16),L=D+(V^H^C)+P[2]+3299628645&4294967295,D=V+(L<<23&4294967295|L>>>9),L=C+(V^(D|~H))+P[0]+4096336452&4294967295,C=D+(L<<6&4294967295|L>>>26),L=H+(D^(C|~V))+P[7]+1126891415&4294967295,H=C+(L<<10&4294967295|L>>>22),L=V+(C^(H|~D))+P[14]+2878612391&4294967295,V=H+(L<<15&4294967295|L>>>17),L=D+(H^(V|~C))+P[5]+4237533241&4294967295,D=V+(L<<21&4294967295|L>>>11),L=C+(V^(D|~H))+P[12]+1700485571&4294967295,C=D+(L<<6&4294967295|L>>>26),L=H+(D^(C|~V))+P[3]+2399980690&4294967295,H=C+(L<<10&4294967295|L>>>22),L=V+(C^(H|~D))+P[10]+4293915773&4294967295,V=H+(L<<15&4294967295|L>>>17),L=D+(H^(V|~C))+P[1]+2240044497&4294967295,D=V+(L<<21&4294967295|L>>>11),L=C+(V^(D|~H))+P[8]+1873313359&4294967295,C=D+(L<<6&4294967295|L>>>26),L=H+(D^(C|~V))+P[15]+4264355552&4294967295,H=C+(L<<10&4294967295|L>>>22),L=V+(C^(H|~D))+P[6]+2734768916&4294967295,V=H+(L<<15&4294967295|L>>>17),L=D+(H^(V|~C))+P[13]+1309151649&4294967295,D=V+(L<<21&4294967295|L>>>11),L=C+(V^(D|~H))+P[4]+4149444226&4294967295,C=D+(L<<6&4294967295|L>>>26),L=H+(D^(C|~V))+P[11]+3174756917&4294967295,H=C+(L<<10&4294967295|L>>>22),L=V+(C^(H|~D))+P[2]+718787259&4294967295,V=H+(L<<15&4294967295|L>>>17),L=D+(H^(V|~C))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(V+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+H&4294967295}i.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var D=C-this.blockSize,P=this.B,V=this.h,H=0;H<C;){if(V==0)for(;H<=D;)s(this,M,H),H+=this.blockSize;if(typeof M=="string"){for(;H<C;)if(P[V++]=M.charCodeAt(H++),V==this.blockSize){s(this,P),V=0;break}}else for(;H<C;)if(P[V++]=M[H++],V==this.blockSize){s(this,P),V=0;break}}this.h=V,this.o+=C},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var D=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=D&255,D/=256;for(this.u(M),M=Array(16),C=D=0;4>C;++C)for(var P=0;32>P;P+=8)M[D++]=this.g[C]>>>P&255;return M};function r(M,C){var D=c;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=C(M)}function l(M,C){this.h=C;for(var D=[],P=!0,V=M.length-1;0<=V;V--){var H=M[V]|0;P&&H==C||(D[V]=H,P=!1)}this.g=D}var c={};function h(M){return-128<=M&&128>M?r(M,function(C){return new l([C|0],0>C?-1:0)}):new l([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return y;if(0>M)return A(d(-M));for(var C=[],D=1,P=0;M>=D;P++)C[P]=M/D|0,D*=4294967296;return new l(C,0)}function g(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return A(g(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=d(Math.pow(C,8)),P=y,V=0;V<M.length;V+=8){var H=Math.min(8,M.length-V),L=parseInt(M.substring(V,V+H),C);8>H?(H=d(Math.pow(C,H)),P=P.j(H).add(d(L))):(P=P.j(D),P=P.add(d(L)))}return P}var y=h(0),_=h(1),b=h(16777216);n=l.prototype,n.m=function(){if(x(this))return-A(this).m();for(var M=0,C=1,D=0;D<this.g.length;D++){var P=this.i(D);M+=(0<=P?P:4294967296+P)*C,C*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(S(this))return"0";if(x(this))return"-"+A(this).toString(M);for(var C=d(Math.pow(M,6)),D=this,P="";;){var V=B(D,C).g;D=I(D,V.j(C));var H=((0<D.g.length?D.g[0]:D.h)>>>0).toString(M);if(D=V,S(D))return H+P;for(;6>H.length;)H="0"+H;P=H+P}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function S(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function x(M){return M.h==-1}n.l=function(M){return M=I(this,M),x(M)?-1:S(M)?0:1};function A(M){for(var C=M.g.length,D=[],P=0;P<C;P++)D[P]=~M.g[P];return new l(D,~M.h).add(_)}n.abs=function(){return x(this)?A(this):this},n.add=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],P=0,V=0;V<=C;V++){var H=P+(this.i(V)&65535)+(M.i(V)&65535),L=(H>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);P=L>>>16,H&=65535,L&=65535,D[V]=L<<16|H}return new l(D,D[D.length-1]&-2147483648?-1:0)};function I(M,C){return M.add(A(C))}n.j=function(M){if(S(this)||S(M))return y;if(x(this))return x(M)?A(this).j(A(M)):A(A(this).j(M));if(x(M))return A(this.j(A(M)));if(0>this.l(b)&&0>M.l(b))return d(this.m()*M.m());for(var C=this.g.length+M.g.length,D=[],P=0;P<2*C;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<M.g.length;V++){var H=this.i(P)>>>16,L=this.i(P)&65535,De=M.i(V)>>>16,_e=M.i(V)&65535;D[2*P+2*V]+=L*_e,O(D,2*P+2*V),D[2*P+2*V+1]+=H*_e,O(D,2*P+2*V+1),D[2*P+2*V+1]+=L*De,O(D,2*P+2*V+1),D[2*P+2*V+2]+=H*De,O(D,2*P+2*V+2)}for(P=0;P<C;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=C;P<2*C;P++)D[P]=0;return new l(D,0)};function O(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function j(M,C){this.g=M,this.h=C}function B(M,C){if(S(C))throw Error("division by zero");if(S(M))return new j(y,y);if(x(M))return C=B(A(M),C),new j(A(C.g),A(C.h));if(x(C))return C=B(M,A(C)),new j(A(C.g),C.h);if(30<M.g.length){if(x(M)||x(C))throw Error("slowDivide_ only works with positive integers.");for(var D=_,P=C;0>=P.l(M);)D=q(D),P=q(P);var V=K(D,1),H=K(P,1);for(P=K(P,2),D=K(D,2);!S(P);){var L=H.add(P);0>=L.l(M)&&(V=V.add(D),H=L),P=K(P,1),D=K(D,1)}return C=I(M,V.j(C)),new j(V,C)}for(V=y;0<=M.l(C);){for(D=Math.max(1,Math.floor(M.m()/C.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),H=d(D),L=H.j(C);x(L)||0<L.l(M);)D-=P,H=d(D),L=H.j(C);S(H)&&(H=_),V=V.add(H),M=I(M,L)}return new j(V,M)}n.A=function(M){return B(this,M).h},n.and=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],P=0;P<C;P++)D[P]=this.i(P)&M.i(P);return new l(D,this.h&M.h)},n.or=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],P=0;P<C;P++)D[P]=this.i(P)|M.i(P);return new l(D,this.h|M.h)},n.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],P=0;P<C;P++)D[P]=this.i(P)^M.i(P);return new l(D,this.h^M.h)};function q(M){for(var C=M.g.length+1,D=[],P=0;P<C;P++)D[P]=M.i(P)<<1|M.i(P-1)>>>31;return new l(D,M.h)}function K(M,C){var D=C>>5;C%=32;for(var P=M.g.length-D,V=[],H=0;H<P;H++)V[H]=0<C?M.i(H+D)>>>C|M.i(H+D+1)<<32-C:M.i(H+D);return new l(V,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,qD=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=g,pa=l}).apply(typeof GA<"u"?GA:typeof self<"u"?self:typeof window<"u"?window:{});var If=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GD,Gu,WD,ug,a_,$D,YD,QD;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,T){return p==Array.prototype||p==Object.prototype||(p[E]=T.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof If=="object"&&If];for(var E=0;E<p.length;++E){var T=p[E];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function s(p,E){if(E)e:{var T=i;p=p.split(".");for(var N=0;N<p.length-1;N++){var Y=p[N];if(!(Y in T))break e;T=T[Y]}p=p[p.length-1],N=T[p],E=E(N),E!=N&&E!=null&&e(T,p,{configurable:!0,writable:!0,value:E})}}function r(p,E){p instanceof String&&(p+="");var T=0,N=!1,Y={next:function(){if(!N&&T<p.length){var J=T++;return{value:E(J,p[J]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(p){return p||function(){return r(this,function(E,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function d(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,T){return p.call.apply(p.bind,arguments)}function y(p,E,T){if(!p)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,N),p.apply(E,Y)}}return function(){return p.apply(E,arguments)}}function _(p,E,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,_.apply(null,arguments)}function b(p,E){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),p.apply(this,N)}}function S(p,E){function T(){}T.prototype=E.prototype,p.aa=E.prototype,p.prototype=new T,p.prototype.constructor=p,p.Qb=function(N,Y,J){for(var ce=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ce[Ge-2]=arguments[Ge];return E.prototype[Y].apply(N,ce)}}function x(p){const E=p.length;if(0<E){const T=Array(E);for(let N=0;N<E;N++)T[N]=p[N];return T}return[]}function A(p,E){for(let T=1;T<arguments.length;T++){const N=arguments[T];if(h(N)){const Y=p.length||0,J=N.length||0;p.length=Y+J;for(let ce=0;ce<J;ce++)p[Y+ce]=N[ce]}else p.push(N)}}class I{constructor(E,T){this.i=E,this.j=T,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function O(p){return/^[\s\xa0]*$/.test(p)}function j(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function B(p){return B[" "](p),p}B[" "]=function(){};var q=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function K(p,E,T){for(const N in p)E.call(T,p[N],N,p)}function M(p,E){for(const T in p)E.call(void 0,p[T],T,p)}function C(p){const E={};for(const T in p)E[T]=p[T];return E}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(p,E){let T,N;for(let Y=1;Y<arguments.length;Y++){N=arguments[Y];for(T in N)p[T]=N[T];for(let J=0;J<D.length;J++)T=D[J],Object.prototype.hasOwnProperty.call(N,T)&&(p[T]=N[T])}}function V(p){var E=1;p=p.split(":");const T=[];for(;0<E&&p.length;)T.push(p.shift()),E--;return p.length&&T.push(p.join(":")),T}function H(p){c.setTimeout(()=>{throw p},0)}function L(){var p=be;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class De{constructor(){this.h=this.g=null}add(E,T){const N=_e.get();N.set(E,T),this.h?this.h.next=N:this.g=N,this.h=N}}var _e=new I(()=>new re,p=>p.reset());class re{constructor(){this.next=this.g=this.h=null}set(E,T){this.h=E,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let de,fe=!1,be=new De,F=()=>{const p=c.Promise.resolve(void 0);de=()=>{p.then(oe)}};var oe=()=>{for(var p;p=L();){try{p.h.call(p.g)}catch(T){H(T)}var E=_e;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}fe=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};c.addEventListener("test",T,E),c.removeEventListener("test",T,E)}catch{}return p}();function Re(p,E){if(he.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var T=this.type=p.type,N=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(q){e:{try{B(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else T=="mouseover"?E=p.fromElement:T=="mouseout"&&(E=p.toElement);this.relatedTarget=E,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ae[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Re.aa.h.call(this)}}S(Re,he);var Ae={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),qe=0;function ft(p,E,T,N,Y){this.listener=p,this.proxy=null,this.src=E,this.type=T,this.capture=!!N,this.ha=Y,this.key=++qe,this.da=this.fa=!1}function et(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function hn(p){this.src=p,this.g={},this.h=0}hn.prototype.add=function(p,E,T,N,Y){var J=p.toString();p=this.g[J],p||(p=this.g[J]=[],this.h++);var ce=xe(p,E,N,Y);return-1<ce?(E=p[ce],T||(E.fa=!1)):(E=new ft(E,this.src,J,!!N,Y),E.fa=T,p.push(E)),E};function Ni(p,E){var T=E.type;if(T in p.g){var N=p.g[T],Y=Array.prototype.indexOf.call(N,E,void 0),J;(J=0<=Y)&&Array.prototype.splice.call(N,Y,1),J&&(et(E),p.g[T].length==0&&(delete p.g[T],p.h--))}}function xe(p,E,T,N){for(var Y=0;Y<p.length;++Y){var J=p[Y];if(!J.da&&J.listener==E&&J.capture==!!T&&J.ha==N)return Y}return-1}var En="closure_lm_"+(1e6*Math.random()|0),ct={};function gt(p,E,T,N,Y){if(Array.isArray(E)){for(var J=0;J<E.length;J++)gt(p,E[J],T,N,Y);return null}return T=ad(T),p&&p[Qe]?p.K(E,T,d(N)?!!N.capture:!1,Y):dn(p,E,T,!1,N,Y)}function dn(p,E,T,N,Y,J){if(!E)throw Error("Invalid event type");var ce=d(Y)?!!Y.capture:!!Y,Ge=Cc(p);if(Ge||(p[En]=Ge=new hn(p)),T=Ge.add(E,T,N,ce,J),T.proxy)return T;if(N=Yi(),T.proxy=N,N.src=p,N.listener=T,p.addEventListener)ue||(Y=ce),Y===void 0&&(Y=!1),p.addEventListener(E.toString(),N,Y);else if(p.attachEvent)p.attachEvent(Qo(E.toString()),N);else if(p.addListener&&p.removeListener)p.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Yi(){function p(T){return E.call(p.src,p.listener,T)}const E=nm;return p}function Qi(p,E,T,N,Y){if(Array.isArray(E))for(var J=0;J<E.length;J++)Qi(p,E[J],T,N,Y);else N=d(N)?!!N.capture:!!N,T=ad(T),p&&p[Qe]?(p=p.i,E=String(E).toString(),E in p.g&&(J=p.g[E],T=xe(J,T,N,Y),-1<T&&(et(J[T]),Array.prototype.splice.call(J,T,1),J.length==0&&(delete p.g[E],p.h--)))):p&&(p=Cc(p))&&(E=p.g[E.toString()],p=-1,E&&(p=xe(E,T,N,Y)),(T=-1<p?E[p]:null)&&Rs(T))}function Rs(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[Qe])Ni(E.i,p);else{var T=p.type,N=p.proxy;E.removeEventListener?E.removeEventListener(T,N,p.capture):E.detachEvent?E.detachEvent(Qo(T),N):E.addListener&&E.removeListener&&E.removeListener(N),(T=Cc(E))?(Ni(T,p),T.h==0&&(T.src=null,E[En]=null)):et(p)}}}function Qo(p){return p in ct?ct[p]:ct[p]="on"+p}function nm(p,E){if(p.da)p=!0;else{E=new Re(E,this);var T=p.listener,N=p.ha||p.src;p.fa&&Rs(p),p=T.call(N,E)}return p}function Cc(p){return p=p[En],p instanceof hn?p:null}var zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ad(p){return typeof p=="function"?p:(p[zn]||(p[zn]=function(E){return p.handleEvent(E)}),p[zn])}function Gt(){ge.call(this),this.i=new hn(this),this.M=this,this.F=null}S(Gt,ge),Gt.prototype[Qe]=!0,Gt.prototype.removeEventListener=function(p,E,T,N){Qi(this,p,E,T,N)};function en(p,E){var T,N=p.F;if(N)for(T=[];N;N=N.F)T.push(N);if(p=p.M,N=E.type||E,typeof E=="string")E=new he(E,p);else if(E instanceof he)E.target=E.target||p;else{var Y=E;E=new he(N,p),P(E,Y)}if(Y=!0,T)for(var J=T.length-1;0<=J;J--){var ce=E.g=T[J];Y=Cs(ce,N,!0,E)&&Y}if(ce=E.g=p,Y=Cs(ce,N,!0,E)&&Y,Y=Cs(ce,N,!1,E)&&Y,T)for(J=0;J<T.length;J++)ce=E.g=T[J],Y=Cs(ce,N,!1,E)&&Y}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var T=p.g[E],N=0;N<T.length;N++)et(T[N]);delete p.g[E],p.h--}}this.F=null},Gt.prototype.K=function(p,E,T,N){return this.i.add(String(p),E,!1,T,N)},Gt.prototype.L=function(p,E,T,N){return this.i.add(String(p),E,!0,T,N)};function Cs(p,E,T,N){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,J=0;J<E.length;++J){var ce=E[J];if(ce&&!ce.da&&ce.capture==T){var Ge=ce.listener,$t=ce.ha||ce.src;ce.fa&&Ni(p.i,ce),Y=Ge.call($t,N)!==!1&&Y}}return Y&&!N.defaultPrevented}function od(p,E,T){if(typeof p=="function")T&&(p=_(p,T));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(p,E||0)}function Dc(p){p.g=od(()=>{p.g=null,p.i&&(p.i=!1,Dc(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class im extends ge{constructor(E,T){super(),this.m=E,this.l=T,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Dc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oa(p){ge.call(this),this.h=p,this.g={}}S(Oa,ge);var Er=[];function wn(p){K(p.g,function(E,T){this.g.hasOwnProperty(T)&&Rs(E)},p),p.g={}}Oa.prototype.N=function(){Oa.aa.N.call(this),wn(this)},Oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ic=c.JSON.stringify,Ki=c.JSON.parse,Mn=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function kc(){}kc.prototype.h=null;function ld(p){return p.h||(p.h=p.i())}function cd(){}var Xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){he.call(this,"d")}S(wr,he);function Mi(){he.call(this,"c")}S(Mi,he);var ai={},Sr=null;function Ko(){return Sr=Sr||new Gt}ai.La="serverreachability";function Nc(p){he.call(this,ai.La,p)}S(Nc,he);function Ar(p){const E=Ko();en(E,new Nc(E))}ai.STAT_EVENT="statevent";function Xo(p,E){he.call(this,ai.STAT_EVENT,p),this.stat=E}S(Xo,he);function Pt(p){const E=Ko();en(E,new Xo(E,p))}ai.Ma="timingevent";function ud(p,E){he.call(this,ai.Ma,p),this.size=E}S(ud,he);function Tr(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},E)}function xr(){this.g=!0}xr.prototype.xa=function(){this.g=!1};function hd(p,E,T,N,Y,J){p.info(function(){if(p.g)if(J)for(var ce="",Ge=J.split("&"),$t=0;$t<Ge.length;$t++){var We=Ge[$t].split("=");if(1<We.length){var sn=We[0];We=We[1];var Yt=sn.split("_");ce=2<=Yt.length&&Yt[1]=="type"?ce+(sn+"="+We+"&"):ce+(sn+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+N+") [attempt "+Y+"]: "+E+`
`+T+`
`+ce})}function dd(p,E,T,N,Y,J,ce){p.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Y+"]: "+E+`
`+T+`
`+J+" "+ce})}function Rr(p,E,T,N){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+tn(p,T)+(N?" "+N:"")})}function Zi(p,E){p.info(function(){return"TIMEOUT: "+E})}xr.prototype.info=function(){};function tn(p,E){if(!p.g)return E;if(!E)return null;try{var T=JSON.parse(E);if(T){for(p=0;p<T.length;p++)if(Array.isArray(T[p])){var N=T[p];if(!(2>N.length)){var Y=N[1];if(Array.isArray(Y)&&!(1>Y.length)){var J=Y[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<Y.length;ce++)Y[ce]=""}}}}return Ic(T)}catch{return E}}var Wt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ds={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pa;function Zo(){}S(Zo,kc),Zo.prototype.g=function(){return new XMLHttpRequest},Zo.prototype.i=function(){return{}},Pa=new Zo;function Ji(p,E,T,N){this.j=p,this.i=E,this.l=T,this.R=N||1,this.U=new Oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mc}function Mc(){this.i=null,this.g="",this.h=!1}var Cr={},ja={};function Oi(p,E,T){p.L=1,p.v=Ua(Ct(E)),p.m=T,p.P=!0,Is(p,null)}function Is(p,E){p.F=Date.now(),Et(p),p.A=Ct(p.v);var T=p.A,N=p.R;Array.isArray(N)||(N=[String(N)]),Ms(T.i,"t",N),p.C=0,T=p.j.J,p.h=new Mc,p.g=xd(p.j,T?E:null,!p.m),0<p.O&&(p.M=new im(_(p.Y,p,p.g),p.O)),E=p.U,T=p.g,N=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Er[0]=Y.toString()),Y=Er);for(var J=0;J<Y.length;J++){var ce=gt(T,Y[J],N||E.handleEvent,!1,E.h||E);if(!ce)break;E.g[ce.key]=ce}E=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Ar(),hd(p.i,p.u,p.A,p.l,p.R,p.m)}Ji.prototype.ca=function(p){p=p.target;const E=this.M;E&&hi(p)==3?E.j():this.Y(p)},Ji.prototype.Y=function(p){try{if(p==this.g)e:{const Yt=hi(this.g);var E=this.g.Ba();const Ls=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||vd(this.g)))){this.J||Yt!=4||E==7||(E==8||0>=Ls?Ar(3):Ar(2)),Jo(this);var T=this.g.Z();this.X=T;t:if(Dr(this)){var N=vd(this.g);p="";var Y=N.length,J=hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),Kn(this);var ce="";break t}this.h.i=new c.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,p+=this.h.i.decode(N[E],{stream:!(J&&E==Y-1)});N.length=0,this.h.g+=p,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=T==200,dd(this.i,this.u,this.A,this.l,this.R,Yt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,$t=this.g;if((Ge=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Ge)){var We=Ge;break t}}We=null}if(T=We)Rr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xn(this,T);else{this.o=!1,this.s=3,Pt(12),Bn(this),Kn(this);break e}}if(this.P){T=!0;let fn;for(;!this.J&&this.C<ce.length;)if(fn=Ir(this,ce),fn==ja){Yt==4&&(this.s=4,Pt(14),T=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Cr){this.s=4,Pt(15),Rr(this.i,this.l,ce,"[Invalid Chunk]"),T=!1;break}else Rr(this.i,this.l,fn,null),Xn(this,fn);if(Dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||ce.length!=0||this.h.h||(this.s=1,Pt(16),T=!1),this.o=this.o&&T,!T)Rr(this.i,this.l,ce,"[Invalid Chunked Response]"),Bn(this),Kn(this);else if(0<ce.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Wa(sn),sn.M=!0,Pt(11))}}else Rr(this.i,this.l,ce,null),Xn(this,ce);Yt==4&&Bn(this),this.o&&!this.J&&(Yt==4?Sd(this.j,this):(this.o=!1,Et(this)))}else cm(this.g),T==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Bn(this),Kn(this)}}}catch{}finally{}};function Dr(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Ir(p,E){var T=p.C,N=E.indexOf(`
`,T);return N==-1?ja:(T=Number(E.substring(T,N)),isNaN(T)?Cr:(N+=1,N+T>E.length?ja:(E=E.slice(N,N+T),p.C=N+T,E)))}Ji.prototype.cancel=function(){this.J=!0,Bn(this)};function Et(p){p.S=Date.now()+p.I,Oc(p,p.I)}function Oc(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Tr(_(p.ba,p),E)}function Jo(p){p.B&&(c.clearTimeout(p.B),p.B=null)}Ji.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Zi(this.i,this.A),this.L!=2&&(Ar(),Pt(17)),Bn(this),this.s=2,Kn(this)):Oc(this,this.S-p)};function Kn(p){p.j.G==0||p.J||Sd(p.j,p)}function Bn(p){Jo(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,wn(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function Xn(p,E){try{var T=p.j;if(T.G!=0&&(T.g==p||kr(T.h,p))){if(!p.K&&kr(T.h,p)&&T.G==3){try{var N=T.Da.g.parse(E)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Y=N;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<p.F)cl(T),ol(T);else break e;Gc(T),Pt(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=Tr(_(T.Za,T),6e3));if(1>=fd(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else js(T,11)}else if((p.K||T.g==p)&&cl(T),!O(E))for(Y=T.Da.g.parse(E),E=0;E<Y.length;E++){let We=Y[E];if(T.T=We[0],We=We[1],T.G==2)if(We[0]=="c"){T.K=We[1],T.ia=We[2];const sn=We[3];sn!=null&&(T.la=sn,T.j.info("VER="+T.la));const Yt=We[4];Yt!=null&&(T.Aa=Yt,T.j.info("SVER="+T.Aa));const Ls=We[5];Ls!=null&&typeof Ls=="number"&&0<Ls&&(N=1.5*Ls,T.L=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const fn=p.g;if(fn){const as=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(as){var J=N.h;J.g||as.indexOf("spdy")==-1&&as.indexOf("quic")==-1&&as.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Nr(J,J.h),J.h=null))}if(N.D){const $c=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;$c&&(N.ya=$c,Ke(N.I,N.D,$c))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-p.F,T.j.info("Handshake RTT: "+T.R+"ms")),N=T;var ce=p;if(N.qa=Td(N,N.J?N.ia:null,N.W),ce.K){oi(N.h,ce);var Ge=ce,$t=N.L;$t&&(Ge.I=$t),Ge.B&&(Jo(Ge),Et(Ge)),N.g=ce}else Ed(N);0<T.i.length&&ll(T)}else We[0]!="stop"&&We[0]!="close"||js(T,7);else T.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?js(T,7):Fc(T):We[0]!="noop"&&T.l&&T.l.ta(We),T.v=0)}}Ar(4)}catch{}}var sm=class{constructor(p,E){this.g=p,this.map=E}};function Pc(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jc(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function fd(p){return p.h?1:p.g?p.g.size:0}function kr(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function Nr(p,E){p.g?p.g.add(E):p.h=E}function oi(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Pc.prototype.cancel=function(){if(this.i=On(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function On(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const T of p.g.values())E=E.concat(T.D);return E}return x(p.i)}function gd(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var E=[],T=p.length,N=0;N<T;N++)E.push(p[N]);return E}E=[],T=0;for(N in p)E[T++]=p[N];return E}function rm(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var E=[];p=p.length;for(var T=0;T<p;T++)E.push(T);return E}E=[],T=0;for(const N in p)E[T++]=N;return E}}}function La(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var T=rm(p),N=gd(p),Y=N.length,J=0;J<Y;J++)E.call(void 0,N[J],T&&T[J],p)}var Lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function el(p,E){if(p){p=p.split("&");for(var T=0;T<p.length;T++){var N=p[T].indexOf("="),Y=null;if(0<=N){var J=p[T].substring(0,N);Y=p[T].substring(N+1)}else J=p[T];E(J,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ks(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof ks){this.h=p.h,Mr(this,p.j),this.o=p.o,this.g=p.g,Va(this,p.s),this.l=p.l;var E=p.i,T=new es;T.i=E.i,E.g&&(T.g=new Map(E.g),T.h=E.h),tl(this,T),this.m=p.m}else p&&(E=String(p).match(Lc))?(this.h=!1,Mr(this,E[1]||"",!0),this.o=Or(E[2]||""),this.g=Or(E[3]||"",!0),Va(this,E[4]),this.l=Or(E[5]||"",!0),tl(this,E[6]||"",!0),this.m=Or(E[7]||"")):(this.h=!1,this.i=new es(null,this.h))}ks.prototype.toString=function(){var p=[],E=this.j;E&&p.push(li(E,Vc,!0),":");var T=this.g;return(T||E=="file")&&(p.push("//"),(E=this.o)&&p.push(li(E,Vc,!0),"@"),p.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&p.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(li(T,T.charAt(0)=="/"?Uc:pd,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",li(T,lm)),p.join("")};function Ct(p){return new ks(p)}function Mr(p,E,T){p.j=T?Or(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Va(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function tl(p,E,T){E instanceof es?(p.i=E,zc(p.i,p.h)):(T||(E=li(E,om)),p.i=new es(E,p.h))}function Ke(p,E,T){p.i.set(E,T)}function Ua(p){return Ke(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Or(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function li(p,E,T){return typeof p=="string"?(p=encodeURI(p).replace(E,am),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function am(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Vc=/[#\/\?@]/g,pd=/[#\?:]/g,Uc=/[#\?]/g,om=/[#\?@]/g,lm=/#/g;function es(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function ci(p){p.g||(p.g=new Map,p.h=0,p.i&&el(p.i,function(E,T){p.add(decodeURIComponent(E.replace(/\+/g," ")),T)}))}n=es.prototype,n.add=function(p,E){ci(this),this.i=null,p=Os(this,p);var T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(E),this.h+=1,this};function nl(p,E){ci(p),E=Os(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function Ns(p,E){return ci(p),E=Os(p,E),p.g.has(E)}n.forEach=function(p,E){ci(this),this.g.forEach(function(T,N){T.forEach(function(Y){p.call(E,Y,N,this)},this)},this)},n.na=function(){ci(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),T=[];for(let N=0;N<E.length;N++){const Y=p[N];for(let J=0;J<Y.length;J++)T.push(E[N])}return T},n.V=function(p){ci(this);let E=[];if(typeof p=="string")Ns(this,p)&&(E=E.concat(this.g.get(Os(this,p))));else{p=Array.from(this.g.values());for(let T=0;T<p.length;T++)E=E.concat(p[T])}return E},n.set=function(p,E){return ci(this),this.i=null,p=Os(this,p),Ns(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function Ms(p,E,T){nl(p,E),0<T.length&&(p.i=null,p.g.set(Os(p,E),x(T)),p.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var T=0;T<E.length;T++){var N=E[T];const J=encodeURIComponent(String(N)),ce=this.V(N);for(N=0;N<ce.length;N++){var Y=J;ce[N]!==""&&(Y+="="+encodeURIComponent(String(ce[N]))),p.push(Y)}}return this.i=p.join("&")};function Os(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function zc(p,E){E&&!p.j&&(ci(p),p.i=null,p.g.forEach(function(T,N){var Y=N.toLowerCase();N!=Y&&(nl(this,N),Ms(this,Y,T))},p)),p.j=E}function md(p,E){const T=new xr;if(c.Image){const N=new Image;N.onload=b(ui,T,"TestLoadImage: loaded",!0,E,N),N.onerror=b(ui,T,"TestLoadImage: error",!1,E,N),N.onabort=b(ui,T,"TestLoadImage: abort",!1,E,N),N.ontimeout=b(ui,T,"TestLoadImage: timeout",!1,E,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=p}else E(!1)}function za(p,E){const T=new xr,N=new AbortController,Y=setTimeout(()=>{N.abort(),ui(T,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:N.signal}).then(J=>{clearTimeout(Y),J.ok?ui(T,"TestPingServer: ok",!0,E):ui(T,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),ui(T,"TestPingServer: error",!1,E)})}function ui(p,E,T,N,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),N(T)}catch{}}function Ba(){this.g=new Mn}function ts(p,E,T){const N=T||"";try{La(p,function(Y,J){let ce=Y;d(Y)&&(ce=Ic(Y)),E.push(N+J+"="+encodeURIComponent(ce))})}catch(Y){throw E.push(N+"type="+encodeURIComponent("_badmap")),Y}}function Pr(p){this.l=p.Ub||null,this.j=p.eb||!1}S(Pr,kc),Pr.prototype.g=function(){return new Ps(this.l,this.j)},Pr.prototype.i=function(p){return function(){return p}}({});function Ps(p,E){Gt.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ps,Gt),n=Ps.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,is(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ns(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?ns(this):is(this),this.readyState==3&&Bc(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,ns(this))},n.Qa=function(p){this.g&&(this.response=p,ns(this))},n.ga=function(){this.g&&ns(this)};function ns(p){p.readyState=4,p.l=null,p.j=null,p.v=null,is(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var T=E.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=E.next();return p.join(`\r
`)};function is(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Hc(p){let E="";return K(p,function(T,N){E+=N,E+=":",E+=T,E+=`\r
`}),E}function nn(p,E,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=Hc(T),typeof p=="string"?T!=null&&encodeURIComponent(String(T)):Ke(p,E,T))}function it(p){Gt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(it,Gt);var il=/^https?$/i,Ha=["POST","PUT"];n=it.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pa.g(),this.v=this.o?ld(this.o):ld(Pa),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(J){yd(this,J);return}if(p=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Y in N)T.set(Y,N[Y]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const J of N.keys())T.set(J,N.get(J));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),Y=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ha,E,void 0))||N||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of T)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fa(this),this.u=!0,this.g.send(p),this.u=!1}catch(J){yd(this,J)}};function yd(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,sl(p),ss(p)}function sl(p){p.A||(p.A=!0,en(p,"complete"),en(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,en(this,"complete"),en(this,"abort"),ss(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?rl(this):this.bb())},n.bb=function(){rl(this)};function rl(p){if(p.h&&typeof l<"u"&&(!p.v[1]||hi(p)!=4||p.Z()!=2)){if(p.u&&hi(p)==4)od(p.Ea,0,p);else if(en(p,"readystatechange"),hi(p)==4){p.h=!1;try{const ce=p.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var T;if(!(T=E)){var N;if(N=ce===0){var Y=String(p.D).match(Lc)[1]||null;!Y&&c.self&&c.self.location&&(Y=c.self.location.protocol.slice(0,-1)),N=!il.test(Y?Y.toLowerCase():"")}T=N}if(T)en(p,"complete"),en(p,"success");else{p.m=6;try{var J=2<hi(p)?p.g.statusText:""}catch{J=""}p.l=J+" ["+p.Z()+"]",sl(p)}}finally{ss(p)}}}}function ss(p,E){if(p.g){Fa(p);const T=p.g,N=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||en(p,"ready");try{T.onreadystatechange=N}catch{}}}function Fa(p){p.I&&(c.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function hi(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Ki(E)}};function vd(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function cm(p){const E={};p=(p.g&&2<=hi(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<p.length;N++){if(O(p[N]))continue;var T=V(p[N]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=E[Y]||[];E[Y]=J,J.push(T)}M(E,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(p,E,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||E}function al(p){this.Aa=0,this.i=[],this.j=new xr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,p),this.cb=qa("retryDelaySeedMs",1e4,p),this.Wa=qa("forwardChannelMaxRetries",2,p),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Pc(p&&p.concurrentRequestLimit),this.Da=new Ba,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=al.prototype,n.la=8,n.G=1,n.connect=function(p,E,T,N){Pt(0),this.W=p,this.H=E||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.I=Td(this,null,this.W),ll(this)};function Fc(p){if(_d(p),p.G==3){var E=p.U++,T=Ct(p.I);if(Ke(T,"SID",p.K),Ke(T,"RID",E),Ke(T,"TYPE","terminate"),Ga(p,T),E=new Ji(p,p.j,E),E.L=2,E.v=Ua(Ct(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=E.v,T=!0),T||(E.g=xd(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Et(E)}Ad(p)}function ol(p){p.g&&(Wa(p),p.g.cancel(),p.g=null)}function _d(p){ol(p),p.u&&(c.clearTimeout(p.u),p.u=null),cl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function ll(p){if(!jc(p.h)&&!p.s){p.s=!0;var E=p.Ga;de||F(),fe||(de(),fe=!0),be.add(E,p),p.B=0}}function um(p,E){return fd(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Tr(_(p.Ga,p,E),Wc(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new Ji(this,this.j,p);let J=this.o;if(this.S&&(J?(J=C(J),P(J,this.S)):J=this.S),this.m!==null||this.O||(Y.H=J,J=null),this.P)e:{for(var E=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(E+=N,4096<E){E=T;break e}if(E===4096||T===this.i.length-1){E=T+1;break e}}E=1e3}else E=1e3;E=bd(this,Y,E),T=Ct(this.I),Ke(T,"RID",p),Ke(T,"CVER",22),this.D&&Ke(T,"X-HTTP-Session-Id",this.D),Ga(this,T),J&&(this.O?E="headers="+encodeURIComponent(String(Hc(J)))+"&"+E:this.m&&nn(T,this.m,J)),Nr(this.h,Y),this.Ua&&Ke(T,"TYPE","init"),this.P?(Ke(T,"$req",E),Ke(T,"SID","null"),Y.T=!0,Oi(Y,T,null)):Oi(Y,T,E),this.G=2}}else this.G==3&&(p?qc(this,p):this.i.length==0||jc(this.h)||qc(this))};function qc(p,E){var T;E?T=E.l:T=p.U++;const N=Ct(p.I);Ke(N,"SID",p.K),Ke(N,"RID",T),Ke(N,"AID",p.T),Ga(p,N),p.m&&p.o&&nn(N,p.m,p.o),T=new Ji(p,p.j,T,p.B+1),p.m===null&&(T.H=p.o),E&&(p.i=E.D.concat(p.i)),E=bd(p,T,1e3),T.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Nr(p.h,T),Oi(T,N,E)}function Ga(p,E){p.H&&K(p.H,function(T,N){Ke(E,N,T)}),p.l&&La({},function(T,N){Ke(E,N,T)})}function bd(p,E,T){T=Math.min(p.i.length,T);var N=p.l?_(p.l.Na,p.l,p):null;e:{var Y=p.i;let J=-1;for(;;){const ce=["count="+T];J==-1?0<T?(J=Y[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let Ge=!0;for(let $t=0;$t<T;$t++){let We=Y[$t].g;const sn=Y[$t].map;if(We-=J,0>We)J=Math.max(0,Y[$t].g-100),Ge=!1;else try{ts(sn,ce,"req"+We+"_")}catch{N&&N(sn)}}if(Ge){N=ce.join("&");break e}}}return p=p.i.splice(0,T),E.D=p,N}function Ed(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;de||F(),fe||(de(),fe=!0),be.add(E,p),p.v=0}}function Gc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Tr(_(p.Fa,p),Wc(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,wd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Tr(_(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),ol(this),wd(this))};function Wa(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function wd(p){p.g=new Ji(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Ct(p.qa);Ke(E,"RID","rpc"),Ke(E,"SID",p.K),Ke(E,"AID",p.T),Ke(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ke(E,"TO",p.ja),Ke(E,"TYPE","xmlhttp"),Ga(p,E),p.m&&p.o&&nn(E,p.m,p.o),p.L&&(p.g.I=p.L);var T=p.g;p=p.ia,T.L=1,T.v=Ua(Ct(E)),T.m=null,T.P=!0,Is(T,p)}n.Za=function(){this.C!=null&&(this.C=null,ol(this),Gc(this),Pt(19))};function cl(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Sd(p,E){var T=null;if(p.g==E){cl(p),Wa(p),p.g=null;var N=2}else if(kr(p.h,E))T=E.D,oi(p.h,E),N=1;else return;if(p.G!=0){if(E.o)if(N==1){T=E.m?E.m.length:0,E=Date.now()-E.F;var Y=p.B;N=Ko(),en(N,new ud(N,T)),ll(p)}else Ed(p);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(N==1&&um(p,E)||N==2&&Gc(p)))switch(T&&0<T.length&&(E=p.h,E.i=E.i.concat(T)),Y){case 1:js(p,5);break;case 4:js(p,10);break;case 3:js(p,6);break;default:js(p,2)}}}function Wc(p,E){let T=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(T*=2),T*E}function js(p,E){if(p.j.info("Error code "+E),E==2){var T=_(p.fb,p),N=p.Xa;const Y=!N;N=new ks(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Mr(N,"https"),Ua(N),Y?md(N.toString(),T):za(N.toString(),T)}else Pt(2);p.G=0,p.l&&p.l.sa(E),Ad(p),_d(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Ad(p){if(p.G=0,p.ka=[],p.l){const E=On(p.h);(E.length!=0||p.i.length!=0)&&(A(p.ka,E),A(p.ka,p.i),p.h.i.length=0,x(p.i),p.i.length=0),p.l.ra()}}function Td(p,E,T){var N=T instanceof ks?Ct(T):new ks(T);if(N.g!="")E&&(N.g=E+"."+N.g),Va(N,N.s);else{var Y=c.location;N=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var J=new ks(null);N&&Mr(J,N),E&&(J.g=E),Y&&Va(J,Y),T&&(J.l=T),N=J}return T=p.D,E=p.ya,T&&E&&Ke(N,T,E),Ke(N,"VER",p.la),Ga(p,N),N}function xd(p,E,T){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new it(new Pr({eb:T})):new it(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rd(){}n=Rd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ul(){}ul.prototype.g=function(p,E){return new Pn(p,E)};function Pn(p,E){Gt.call(this),this.g=new al(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!O(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!O(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new rs(this)}S(Pn,Gt),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Fc(this.g)},Pn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.u&&(T={},T.__data__=Ic(p),p=T);E.i.push(new sm(E.Ya++,p)),E.G==3&&ll(E)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Fc(this.g),delete this.g,Pn.aa.N.call(this)};function Cd(p){wr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const T in E){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}S(Cd,wr);function Dd(){Mi.call(this),this.status=1}S(Dd,Mi);function rs(p){this.g=p}S(rs,Rd),rs.prototype.ua=function(){en(this.g,"a")},rs.prototype.ta=function(p){en(this.g,new Cd(p))},rs.prototype.sa=function(p){en(this.g,new Dd)},rs.prototype.ra=function(){en(this.g,"b")},ul.prototype.createWebChannel=ul.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,QD=function(){return new ul},YD=function(){return Ko()},$D=ai,a_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wt.NO_ERROR=0,Wt.TIMEOUT=8,Wt.HTTP_ERROR=6,ug=Wt,Ds.COMPLETE="complete",WD=Ds,cd.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,Gu=cd,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,GD=it}).apply(typeof If<"u"?If:typeof self<"u"?self:typeof window<"u"?window:{});const WA="@firebase/firestore",$A="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new Ep("@firebase/firestore");function zl(){return ko.logLevel}function pe(n,...e){if(ko.logLevel<=Ue.DEBUG){const t=e.map(yb);ko.debug(`Firestore (${bc}): ${n}`,...t)}}function mr(n,...e){if(ko.logLevel<=Ue.ERROR){const t=e.map(yb);ko.error(`Firestore (${bc}): ${n}`,...t)}}function ic(n,...e){if(ko.logLevel<=Ue.WARN){const t=e.map(yb);ko.warn(`Firestore (${bc}): ${n}`,...t)}}function yb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n="Unexpected state"){const e=`FIRESTORE (${bc}) INTERNAL ASSERTION FAILED: `+n;throw mr(e),new Error(e)}function st(n,e){n||ke()}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rn.UNAUTHENTICATED))}shutdown(){}}class Oz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Pz{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0);let i=this.i;const s=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let r=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ur,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=r;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ur)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(st(typeof i.accessToken=="string"),new KD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new Rn(e)}}class jz{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Lz{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new jz(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vz{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Si(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){st(this.o===void 0);const i=r=>{r.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const l=r.token!==this.R;return this.R=r.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new YA(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(st(typeof t.token=="string"),this.R=t.token,new YA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=Uz(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<t&&(i+=e.charAt(s[r]%62))}return i}}function Fe(n,e){return n<e?-1:n>e?1:0}function sc(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=-62135596800,KA=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*KA);return new Zt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<QA)throw new me(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KA}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-QA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Zt(0,0))}static max(){return new Ne(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="__name__";class ps{constructor(e,t,i){t===void 0?t=0:t>e.length&&ke(),i===void 0?i=e.length-t:i>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ps.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ps?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const r=ps.compareSegments(e.get(s),t.get(s));if(r!==0)return r}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=ps.isNumericId(e),s=ps.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?ps.extractNumericId(e).compare(ps.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pa.fromString(e.substring(4,e.length-2))}}class mt extends ps{construct(e,t,i){return new mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new mt(t)}static emptyPath(){return new mt([])}}const zz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends ps{construct(e,t,i){return new _n(e,t,i)}static isValidIdentifier(e){return zz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XA}static keyField(){return new _n([XA])}static fromServerFormat(e){const t=[];let i="",s=0;const r=()=>{if(i.length===0)throw new me(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new me(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(r(),s++)}if(r(),l)throw new me(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(t)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(mt.fromString(e))}static fromName(e){return new Se(mt.fromString(e).popFirst(5))}static empty(){return new Se(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=-1;function Bz(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(i===1e9?new Zt(t+1,0):new Zt(t,i));return new ba(s,Se.empty(),e)}function Hz(n){return new ba(n.readTime,n.key,wh)}class ba{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ba(Ne.min(),Se.empty(),wh)}static max(){return new ba(Ne.max(),Se.empty(),wh)}}function Fz(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==qz)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(t,r).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let s=0,r=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++r,l&&r===s&&t()},h=>i(h))}),l=!0,r===s&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(s=>s?se.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,r)=>{i.push(t.call(this,s,r))}),this.waitFor(i)}static mapArray(e,t){return new se((i,s)=>{const r=e.length,l=new Array(r);let c=0;for(let h=0;h<r;h++){const d=h;t(e[d]).next(g=>{l[d]=g,++c,c===r&&i(l)},g=>s(g))}})}static doWhile(e,t){return new se((i,s)=>{const r=()=>{e()===!0?t().next(()=>{r()},s):i()};r()})}}function Wz(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Rp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=-1;function Cp(n){return n==null}function Lg(n){return n===0&&1/n==-1/0}function $z(n){return typeof n=="number"&&Number.isInteger(n)&&!Lg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="";function Yz(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZA(e)),e=Qz(n.get(t),e);return ZA(e)}function Qz(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const r=n.charAt(s);switch(r){case"\0":t+="";break;case ZD:t+="";break;default:t+=r}}return t}function ZA(n){return n+ZD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ia(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function JD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,t){this.comparator=e,this.root=t||vn.EMPTY}insert(e,t){return new xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kf(this.root,e,this.comparator,!1)}getReverseIterator(){return new kf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kf(this.root,e,this.comparator,!0)}}class kf{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?i(e.key,t):1,t&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,t,i,s,r){this.key=e,this.value=t,this.color=i??vn.RED,this.left=s??vn.EMPTY,this.right=r??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,r){return new vn(e??this.key,t??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,t,i),null):r===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return vn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,i,s,r){return this}insert(e,t,i){return new vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new eT(this.data.getIterator())}getIteratorFrom(e){return new eT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jt(this.comparator);return t.data=e,t}}class eT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new ii([])}unionWith(e){let t=new Jt(_n.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ii(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new eI("Invalid base64 string: "+r):r}}(e);return new bn(t)}static fromUint8Array(e){const t=function(s){let r="";for(let l=0;l<s.length;++l)r+=String.fromCharCode(s[l]);return r}(e);return new bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const Kz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(n){if(st(!!n),typeof n=="string"){let e=0;const t=Kz.exec(n);if(st(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(n.seconds),nanos:Lt(n.nanos)}}function Lt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wa(n){return typeof n=="string"?bn.fromBase64String(n):bn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="server_timestamp",nI="__type__",iI="__previous_value__",sI="__local_write_time__";function _b(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[nI])===null||t===void 0?void 0:t.stringValue)===tI}function Dp(n){const e=n.mapValue.fields[iI];return _b(e)?Dp(e):e}function Sh(n){const e=Ea(n.mapValue.fields[sI].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,t,i,s,r,l,c,h,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d}}const Vg="(default)";class Ah{constructor(e,t){this.projectId=e,this.database=t||Vg}static empty(){return new Ah("","")}get isDefaultDatabase(){return this.database===Vg}isEqual(e){return e instanceof Ah&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="__type__",Zz="__max__",Nf={mapValue:{}},aI="__vector__",Ug="value";function Sa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_b(n)?4:e4(n)?9007199254740991:Jz(n)?10:11:ke()}function Ss(n,e){if(n===e)return!0;const t=Sa(n);if(t!==Sa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sh(n).isEqual(Sh(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const l=Ea(s.timestampValue),c=Ea(r.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,r){return wa(s.bytesValue).isEqual(wa(r.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,r){return Lt(s.geoPointValue.latitude)===Lt(r.geoPointValue.latitude)&&Lt(s.geoPointValue.longitude)===Lt(r.geoPointValue.longitude)}(n,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Lt(s.integerValue)===Lt(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const l=Lt(s.doubleValue),c=Lt(r.doubleValue);return l===c?Lg(l)===Lg(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return sc(n.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:case 11:return function(s,r){const l=s.mapValue.fields||{},c=r.mapValue.fields||{};if(JA(l)!==JA(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Ss(l[h],c[h])))return!1;return!0}(n,e);default:return ke()}}function Th(n,e){return(n.values||[]).find(t=>Ss(t,e))!==void 0}function rc(n,e){if(n===e)return 0;const t=Sa(n),i=Sa(e);if(t!==i)return Fe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(r,l){const c=Lt(r.integerValue||r.doubleValue),h=Lt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return tT(n.timestampValue,e.timestampValue);case 4:return tT(Sh(n),Sh(e));case 5:return Fe(n.stringValue,e.stringValue);case 6:return function(r,l){const c=wa(r),h=wa(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,l){const c=r.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const g=Fe(c[d],h[d]);if(g!==0)return g}return Fe(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,l){const c=Fe(Lt(r.latitude),Lt(l.latitude));return c!==0?c:Fe(Lt(r.longitude),Lt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return nT(n.arrayValue,e.arrayValue);case 10:return function(r,l){var c,h,d,g;const y=r.fields||{},_=l.fields||{},b=(c=y[Ug])===null||c===void 0?void 0:c.arrayValue,S=(h=_[Ug])===null||h===void 0?void 0:h.arrayValue,x=Fe(((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return x!==0?x:nT(b,S)}(n.mapValue,e.mapValue);case 11:return function(r,l){if(r===Nf.mapValue&&l===Nf.mapValue)return 0;if(r===Nf.mapValue)return 1;if(l===Nf.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),d=l.fields||{},g=Object.keys(d);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const _=Fe(h[y],g[y]);if(_!==0)return _;const b=rc(c[h[y]],d[g[y]]);if(b!==0)return b}return Fe(h.length,g.length)}(n.mapValue,e.mapValue);default:throw ke()}}function tT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=Ea(n),i=Ea(e),s=Fe(t.seconds,i.seconds);return s!==0?s:Fe(t.nanos,i.nanos)}function nT(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const r=rc(t[s],i[s]);if(r)return r}return Fe(t.length,i.length)}function ac(n){return o_(n)}function o_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ea(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return wa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const r of t.values||[])s?s=!1:i+=",",i+=o_(r);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",r=!0;for(const l of i)r?r=!1:s+=",",s+=`${l}:${o_(t.fields[l])}`;return s+"}"}(n.mapValue):ke()}function hg(n){switch(Sa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dp(n);return e?16+hg(e):16;case 5:return 2*n.stringValue.length;case 6:return wa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+hg(r),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Ia(i.fields,(r,l)=>{s+=r.length+hg(l)}),s}(n.mapValue);default:throw ke()}}function iT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function l_(n){return!!n&&"integerValue"in n}function bb(n){return!!n&&"arrayValue"in n}function sT(n){return!!n&&"nullValue"in n}function rT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dg(n){return!!n&&"mapValue"in n}function Jz(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rI])===null||t===void 0?void 0:t.stringValue)===aI}function ih(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ia(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ih(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ih(n.arrayValue.values[t]);return e}return Object.assign({},n)}function e4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Zz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!dg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ih(t)}setAll(e){let t=_n.emptyPath(),i={},s=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,i,s),i={},s=[],t=c.popLast()}l?i[c.lastSegment()]=ih(l):s.push(c.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,i,s)}delete(e){const t=this.field(e.popLast());dg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ss(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];dg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Ia(t,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new Wn(ih(this.value))}}function oI(n){const e=[];return Ia(n.fields,(t,i)=>{const s=new _n([t]);if(dg(i)){const r=oI(i.mapValue).fields;if(r.length===0)e.push(s);else for(const l of r)e.push(s.child(l))}else e.push(s)}),new ii(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,t,i,s,r,l,c){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=r,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Cn(e,0,Ne.min(),Ne.min(),Ne.min(),Wn.empty(),0)}static newFoundDocument(e,t,i,s){return new Cn(e,1,t,Ne.min(),i,s,0)}static newNoDocument(e,t){return new Cn(e,2,t,Ne.min(),Ne.min(),Wn.empty(),0)}static newUnknownDocument(e,t){return new Cn(e,3,t,Ne.min(),Ne.min(),Wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t){this.position=e,this.inclusive=t}}function aT(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const r=e[s],l=n.position[s];if(r.field.isKeyField()?i=Se.comparator(Se.fromName(l.referenceValue),t.key):i=rc(l,t.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function oT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ss(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t="asc"){this.field=e,this.dir=t}}function t4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{}class qt extends lI{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new i4(e,t,i):t==="array-contains"?new a4(e,i):t==="in"?new o4(e,i):t==="not-in"?new l4(e,i):t==="array-contains-any"?new c4(e,i):new qt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new s4(e,i):new r4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(rc(t,this.value)):t!==null&&Sa(this.value)===Sa(t)&&this.matchesComparison(rc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends lI{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Hi(e,t)}matches(e){return cI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function cI(n){return n.op==="and"}function uI(n){return n4(n)&&cI(n)}function n4(n){for(const e of n.filters)if(e instanceof Hi)return!1;return!0}function c_(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+ac(n.value);if(uI(n))return n.filters.map(e=>c_(e)).join(",");{const e=n.filters.map(t=>c_(t)).join(",");return`${n.op}(${e})`}}function hI(n,e){return n instanceof qt?function(i,s){return s instanceof qt&&i.op===s.op&&i.field.isEqual(s.field)&&Ss(i.value,s.value)}(n,e):n instanceof Hi?function(i,s){return s instanceof Hi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,l,c)=>r&&hI(l,s.filters[c]),!0):!1}(n,e):void ke()}function dI(n){return n instanceof qt?function(t){return`${t.field.canonicalString()} ${t.op} ${ac(t.value)}`}(n):n instanceof Hi?function(t){return t.op.toString()+" {"+t.getFilters().map(dI).join(" ,")+"}"}(n):"Filter"}class i4 extends qt{constructor(e,t,i){super(e,t,i),this.key=Se.fromName(i.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class s4 extends qt{constructor(e,t){super(e,"in",t),this.keys=fI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class r4 extends qt{constructor(e,t){super(e,"not-in",t),this.keys=fI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Se.fromName(i.referenceValue))}class a4 extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bb(t)&&Th(t.arrayValue,this.value)}}class o4 extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Th(this.value.arrayValue,t)}}class l4 extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Th(this.value.arrayValue,t)}}class c4 extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Th(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,t=null,i=[],s=[],r=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=l,this.endAt=c,this.le=null}}function lT(n,e=null,t=[],i=[],s=null,r=null,l=null){return new u4(n,e,t,i,s,r,l)}function Eb(n){const e=Oe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>c_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Cp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ac(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ac(i)).join(",")),e.le=t}return e.le}function wb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!t4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oT(n.startAt,e.startAt)&&oT(n.endAt,e.endAt)}function u_(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t=null,i=[],s=[],r=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function h4(n,e,t,i,s,r,l,c){return new Yh(n,e,t,i,s,r,l,c)}function Sb(n){return new Yh(n)}function cT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gI(n){return n.collectionGroup!==null}function sh(n){const e=Oe(n);if(e.he===null){e.he=[];const t=new Set;for(const r of e.explicitOrderBy)e.he.push(r),t.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Jt(_n.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(r=>{t.has(r.canonicalString())||r.isKeyField()||e.he.push(new Bg(r,i))}),t.has(_n.keyField().canonicalString())||e.he.push(new Bg(_n.keyField(),i))}return e.he}function bs(n){const e=Oe(n);return e.Pe||(e.Pe=d4(e,sh(n))),e.Pe}function d4(n,e){if(n.limitType==="F")return lT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Bg(s.field,r)});const t=n.endAt?new zg(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new zg(n.startAt.position,n.startAt.inclusive):null;return lT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function h_(n,e){const t=n.filters.concat([e]);return new Yh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function d_(n,e,t){return new Yh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ip(n,e){return wb(bs(n),bs(e))&&n.limitType===e.limitType}function pI(n){return`${Eb(bs(n))}|lt:${n.limitType}`}function Bl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>dI(s)).join(", ")}]`),Cp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>ac(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>ac(s)).join(",")),`Target(${i})`}(bs(n))}; limitType=${n.limitType})`}function kp(n,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Se.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(n,e)&&function(i,s){for(const r of sh(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(l,c,h){const d=aT(l,c,h);return l.inclusive?d<=0:d<0}(i.startAt,sh(i),s)||i.endAt&&!function(l,c,h){const d=aT(l,c,h);return l.inclusive?d>=0:d>0}(i.endAt,sh(i),s))}(n,e)}function f4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mI(n){return(e,t)=>{let i=!1;for(const s of sh(n)){const r=g4(s,e,t);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function g4(n,e,t){const i=n.field.isKeyField()?Se.comparator(e.key,t.key):function(r,l,c){const h=l.data.field(r),d=c.data.field(r);return h!==null&&d!==null?rc(h,d):ke()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,(t,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return JD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new xt(Se.comparator);function yr(){return p4}const yI=new xt(Se.comparator);function Wu(...n){let e=yI;for(const t of n)e=e.insert(t.key,t);return e}function vI(n){let e=yI;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function wo(){return rh()}function _I(){return rh()}function rh(){return new zo(n=>n.toString(),(n,e)=>n.isEqual(e))}const m4=new xt(Se.comparator),y4=new Jt(Se.comparator);function Be(...n){let e=y4;for(const t of n)e=e.add(t);return e}const v4=new Jt(Fe);function _4(){return v4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lg(e)?"-0":e}}function bI(n){return{integerValue:""+n}}function b4(n,e){return $z(e)?bI(e):Ab(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(){this._=void 0}}function E4(n,e,t){return n instanceof Hg?function(s,r){const l={fields:{[nI]:{stringValue:tI},[sI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&_b(r)&&(r=Dp(r)),r&&(l.fields[iI]=r),{mapValue:l}}(t,e):n instanceof xh?wI(n,e):n instanceof Rh?SI(n,e):function(s,r){const l=EI(s,r),c=uT(l)+uT(s.Ie);return l_(l)&&l_(s.Ie)?bI(c):Ab(s.serializer,c)}(n,e)}function w4(n,e,t){return n instanceof xh?wI(n,e):n instanceof Rh?SI(n,e):t}function EI(n,e){return n instanceof Fg?function(i){return l_(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class Hg extends Np{}class xh extends Np{constructor(e){super(),this.elements=e}}function wI(n,e){const t=AI(e);for(const i of n.elements)t.some(s=>Ss(s,i))||t.push(i);return{arrayValue:{values:t}}}class Rh extends Np{constructor(e){super(),this.elements=e}}function SI(n,e){let t=AI(e);for(const i of n.elements)t=t.filter(s=>!Ss(s,i));return{arrayValue:{values:t}}}class Fg extends Np{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function uT(n){return Lt(n.integerValue||n.doubleValue)}function AI(n){return bb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function S4(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof xh&&s instanceof xh||i instanceof Rh&&s instanceof Rh?sc(i.elements,s.elements,Ss):i instanceof Fg&&s instanceof Fg?Ss(i.Ie,s.Ie):i instanceof Hg&&s instanceof Hg}(n.transform,e.transform)}class A4{constructor(e,t){this.version=e,this.transformResults=t}}class Ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Mp{}function TI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Tb(n.key,Ri.none()):new Qh(n.key,n.data,Ri.none());{const t=n.data,i=Wn.empty();let s=new Jt(_n.comparator);for(let r of e.fields)if(!s.has(r)){let l=t.field(r);l===null&&r.length>1&&(r=r.popLast(),l=t.field(r)),l===null?i.delete(r):i.set(r,l),s=s.add(r)}return new ka(n.key,i,new ii(s.toArray()),Ri.none())}}function T4(n,e,t){n instanceof Qh?function(s,r,l){const c=s.value.clone(),h=dT(s.fieldTransforms,r,l.transformResults);c.setAll(h),r.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ka?function(s,r,l){if(!fg(s.precondition,r))return void r.convertToUnknownDocument(l.version);const c=dT(s.fieldTransforms,r,l.transformResults),h=r.data;h.setAll(xI(s)),h.setAll(c),r.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(s,r,l){r.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function ah(n,e,t,i){return n instanceof Qh?function(r,l,c,h){if(!fg(r.precondition,l))return c;const d=r.value.clone(),g=fT(r.fieldTransforms,h,l);return d.setAll(g),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof ka?function(r,l,c,h){if(!fg(r.precondition,l))return c;const d=fT(r.fieldTransforms,h,l),g=l.data;return g.setAll(xI(r)),g.setAll(d),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(y=>y.field))}(n,e,t,i):function(r,l,c){return fg(r.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function x4(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),r=EI(i.transform,s||null);r!=null&&(t===null&&(t=Wn.empty()),t.set(i.field,r))}return t||null}function hT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&sc(i,s,(r,l)=>S4(r,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Qh extends Mp{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ka extends Mp{constructor(e,t,i,s,r=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function xI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function dT(n,e,t){const i=new Map;st(n.length===t.length);for(let s=0;s<t.length;s++){const r=n[s],l=r.transform,c=e.data.field(r.field);i.set(r.field,w4(l,c,t[s]))}return i}function fT(n,e,t){const i=new Map;for(const s of n){const r=s.transform,l=t.data.field(s.field);i.set(s.field,E4(r,l,e))}return i}class Tb extends Mp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R4 extends Mp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&T4(r,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ah(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ah(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=_I();return this.mutations.forEach(s=>{const r=e.get(s.key),l=r.overlayedDocument;let c=this.applyToLocalView(l,r.mutatedFields);c=t.has(s.key)?null:c;const h=TI(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ne.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&sc(this.mutations,e.mutations,(t,i)=>hT(t,i))&&sc(this.baseMutations,e.baseMutations,(t,i)=>hT(t,i))}}class xb{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){st(e.mutations.length===i.length);let s=function(){return m4}();const r=e.mutations;for(let l=0;l<r.length;l++)s=s.insert(r[l].key,i[l].version);return new xb(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Ye;function k4(n){switch(n){case ae.OK:return ke();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return ke()}}function RI(n){if(n===void 0)return mr("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Ft.OK:return ae.OK;case Ft.CANCELLED:return ae.CANCELLED;case Ft.UNKNOWN:return ae.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ae.INTERNAL;case Ft.UNAVAILABLE:return ae.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ae.NOT_FOUND;case Ft.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Ft.ABORTED:return ae.ABORTED;case Ft.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Ft.DATA_LOSS:return ae.DATA_LOSS;default:return ke()}}(Ye=Ft||(Ft={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=new pa([4294967295,4294967295],0);function gT(n){const e=N4().encode(n),t=new qD;return t.update(e),new Uint8Array(t.digest())}function pT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new pa([t,i],0),new pa([s,r],0)]}class Rb{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new $u(`Invalid padding: ${t}`);if(i<0)throw new $u(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new $u(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new $u(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=pa.fromNumber(this.Ee)}Ae(e,t,i){let s=e.add(t.multiply(pa.fromNumber(i)));return s.compare(M4)===1&&(s=new pa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=gT(e),[i,s]=pT(t);for(let r=0;r<this.hashCount;r++){const l=this.Ae(i,s,r);if(!this.Re(l))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),l=new Rb(r,s,t);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=gT(e),[i,s]=pT(t);for(let r=0;r<this.hashCount;r++){const l=this.Ae(i,s,r);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class $u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t,i,s,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Kh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Op(Ne.min(),s,new xt(Fe),yr(),Be())}}class Kh{constructor(e,t,i,s,r){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Kh(i,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t,i,s){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=s}}class CI{constructor(e,t){this.targetId=e,this.ge=t}}class DI{constructor(e,t,i=bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class mT{constructor(){this.pe=0,this.ye=yT(),this.we=bn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Be(),t=Be(),i=Be();return this.ye.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:ke()}}),new Kh(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=yT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,st(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class O4{constructor(e){this.ke=e,this.qe=new Map,this.Qe=yr(),this.$e=Mf(),this.Ke=Mf(),this.Ue=new xt(Fe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,i=e.ge.count,s=this.Xe(t);if(s){const r=s.target;if(u_(r))if(i===0){const l=new Se(r.path);this.ze(t,l,Cn.newNoDocument(l,Ne.min()))}else st(i===1);else{const l=this.et(t);if(l!==i){const c=this.tt(e),h=c?this.nt(c,e,l):1;if(h!==0){this.Ye(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,d)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=t;let l,c;try{l=wa(i).toUint8Array()}catch(h){if(h instanceof eI)return ic("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Rb(l,s,r)}catch(h){return ic(h instanceof $u?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let s=0;return i.forEach(r=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${r.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,r,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((r,l)=>{const c=this.Xe(l);if(c){if(r.current&&u_(c.target)){const h=new Se(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,Cn.newNoDocument(h,e))}r.ve&&(t.set(l,r.Fe()),r.Me())}});let i=Be();this.Ke.forEach((r,l)=>{let c=!0;l.forEachWhile(h=>{const d=this.Xe(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(r))}),this.Qe.forEach((r,l)=>l.setReadTime(e));const s=new Op(e,t,this.Ue,this.Qe,i);return this.Qe=yr(),this.$e=Mf(),this.Ke=Mf(),this.Ue=new xt(Fe),s}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new mT,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Jt(Fe),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Jt(Fe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Mf(){return new xt(Se.comparator)}function yT(){return new xt(Se.comparator)}const P4={asc:"ASCENDING",desc:"DESCENDING"},j4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L4={and:"AND",or:"OR"};class V4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function f_(n,e){return n.useProto3Json||Cp(e)?e:{value:e}}function qg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function II(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function U4(n,e){return qg(n,e.toTimestamp())}function Es(n){return st(!!n),Ne.fromTimestamp(function(t){const i=Ea(t);return new Zt(i.seconds,i.nanos)}(n))}function Cb(n,e){return g_(n,e).canonicalString()}function g_(n,e){const t=function(s){return new mt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function kI(n){const e=mt.fromString(n);return st(jI(e)),e}function p_(n,e){return Cb(n.databaseId,e.path)}function vv(n,e){const t=kI(e);if(t.get(1)!==n.databaseId.projectId)throw new me(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(MI(t))}function NI(n,e){return Cb(n.databaseId,e)}function z4(n){const e=kI(n);return e.length===4?mt.emptyPath():MI(e)}function m_(n){return new mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MI(n){return st(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function vT(n,e,t){return{name:p_(n,e),fields:t.value.mapValue.fields}}function B4(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(d,g){return d.useProto3Json?(st(g===void 0||typeof g=="string"),bn.fromBase64String(g||"")):(st(g===void 0||g instanceof Buffer||g instanceof Uint8Array),bn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(d){const g=d.code===void 0?ae.UNKNOWN:RI(d.code);return new me(g,d.message||"")}(l);t=new DI(i,s,r,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=vv(n,i.document.name),r=Es(i.document.updateTime),l=i.document.createTime?Es(i.document.createTime):Ne.min(),c=new Wn({mapValue:{fields:i.document.fields}}),h=Cn.newFoundDocument(s,r,l,c),d=i.targetIds||[],g=i.removedTargetIds||[];t=new gg(d,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=vv(n,i.document),r=i.readTime?Es(i.readTime):Ne.min(),l=Cn.newNoDocument(s,r),c=i.removedTargetIds||[];t=new gg([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=vv(n,i.document),r=i.removedTargetIds||[];t=new gg([],r,s,null)}else{if(!("filter"in e))return ke();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,l=new I4(s,r),c=i.targetId;t=new CI(c,l)}}return t}function H4(n,e){let t;if(e instanceof Qh)t={update:vT(n,e.key,e.value)};else if(e instanceof Tb)t={delete:p_(n,e.key)};else if(e instanceof ka)t={update:vT(n,e.key,e.data),updateMask:X4(e.fieldMask)};else{if(!(e instanceof R4))return ke();t={verify:p_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,l){const c=l.transform;if(c instanceof Hg)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof xh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Rh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Fg)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw ke()}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:U4(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ke()}(n,e.precondition)),t}function F4(n,e){return n&&n.length>0?(st(e!==void 0),n.map(t=>function(s,r){let l=s.updateTime?Es(s.updateTime):Es(r);return l.isEqual(Ne.min())&&(l=Es(r)),new A4(l,s.transformResults||[])}(t,e))):[]}function q4(n,e){return{documents:[NI(n,e.path)]}}function G4(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=NI(n,s);const r=function(d){if(d.length!==0)return PI(Hi.create(d,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const l=function(d){if(d.length!==0)return d.map(g=>function(_){return{field:Hl(_.field),direction:Y4(_.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=f_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ht:t,parent:s}}function W4(n){let e=z4(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){st(i===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let r=[];t.where&&(r=function(y){const _=OI(y);return _ instanceof Hi&&uI(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(_=>function(S){return new Bg(Fl(S.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(t.orderBy));let c=null;t.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Cp(_)?null:_}(t.limit));let h=null;t.startAt&&(h=function(y){const _=!!y.before,b=y.values||[];return new zg(b,_)}(t.startAt));let d=null;return t.endAt&&(d=function(y){const _=!y.before,b=y.values||[];return new zg(b,_)}(t.endAt)),h4(e,s,l,r,c,"F",h,d)}function $4(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function OI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Fl(t.unaryFilter.field);return qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Fl(t.unaryFilter.field);return qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Fl(t.unaryFilter.field);return qt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Fl(t.unaryFilter.field);return qt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(n):n.fieldFilter!==void 0?function(t){return qt.create(Fl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Hi.create(t.compositeFilter.filters.map(i=>OI(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ke()}}(t.compositeFilter.op))}(n):ke()}function Y4(n){return P4[n]}function Q4(n){return j4[n]}function K4(n){return L4[n]}function Hl(n){return{fieldPath:n.canonicalString()}}function Fl(n){return _n.fromServerFormat(n.fieldPath)}function PI(n){return n instanceof qt?function(t){if(t.op==="=="){if(rT(t.value))return{unaryFilter:{field:Hl(t.field),op:"IS_NAN"}};if(sT(t.value))return{unaryFilter:{field:Hl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rT(t.value))return{unaryFilter:{field:Hl(t.field),op:"IS_NOT_NAN"}};if(sT(t.value))return{unaryFilter:{field:Hl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(t.field),op:Q4(t.op),value:t.value}}}(n):n instanceof Hi?function(t){const i=t.getFilters().map(s=>PI(s));return i.length===1?i[0]:{compositeFilter:{op:K4(t.op),filters:i}}}(n):ke()}function X4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,i,s,r=Ne.min(),l=Ne.min(),c=bn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.Tt=e}}function J4(n){const e=W4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?d_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(){this.Tn=new tB}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(ba.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(ba.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class tB{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Jt(mt.comparator),r=!s.has(i);return this.index[t]=s.add(i),r}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Jt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LI=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(LI,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new oc(0)}static Un(){return new oc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="LruGarbageCollector",nB=1048576;function ET([n,e],[t,i]){const s=Fe(n,t);return s===0?Fe(e,i):s}class iB{constructor(e){this.Hn=e,this.buffer=new Jt(ET),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ET(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sB{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(bT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wc(t)?pe(bT,"Ignoring IndexedDB error during garbage collection: ",t):await Ec(t)}await this.er(3e5)})}}class rB{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Rp.ae);const i=new iB(t);return this.tr.forEachTarget(e,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(_T)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_T):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,s,r,l,c,h,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(e,i,t))).next(y=>(r=y,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(y=>(d=Date.now(),zl()<=Ue.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${r} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-g}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:y})))}}function aB(n,e){return new rB(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(){this.changes=new zo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&ah(i.mutation,s,ii.empty(),Zt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Be()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Be()){const s=wo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(r=>{let l=Wu();return r.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=wo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Be()))}populateOverlays(e,t,i){const s=[];return i.forEach(r=>{t.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,i,s){let r=yr();const l=rh(),c=function(){return rh()}();return t.forEach((h,d)=>{const g=i.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof ka)?r=r.insert(d.key,d):g!==void 0?(l.set(d.key,g.mutation.getFieldMask()),ah(g.mutation,d,g.mutation.getFieldMask(),Zt.now())):l.set(d.key,ii.empty())}),this.recalculateAndSaveOverlays(e,r).next(h=>(h.forEach((d,g)=>l.set(d,g)),t.forEach((d,g)=>{var y;return c.set(d,new lB(g,(y=l.get(d))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,t){const i=rh();let s=new xt((l,c)=>l-c),r=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const d=t.get(h);if(d===null)return;let g=i.get(h)||ii.empty();g=c.applyToLocalView(d,g),i.set(h,g);const y=(s.get(c.batchId)||Be()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,g=h.value,y=_I();g.forEach(_=>{if(!r.has(_)){const b=TI(t.get(_),i.get(_));b!==null&&y.set(_,b),r=r.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,y))}return se.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(r=>{const l=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-r.size):se.resolve(wo());let c=wh,h=r;return l.next(d=>se.forEach(d,(g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),r.get(g)?se.resolve():this.remoteDocumentCache.getEntry(e,g).next(_=>{h=h.insert(g,_)}))).next(()=>this.populateOverlays(e,d,r)).next(()=>this.computeViews(e,h,d,Be())).next(g=>({batchId:c,changes:vI(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(i=>{let s=Wu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const r=t.collectionGroup;let l=Wu();return this.indexManager.getCollectionParents(e,r).next(c=>se.forEach(c,h=>{const d=function(y,_){return new Yh(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,h.child(r));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next(g=>{g.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(r=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r,s))).next(l=>{r.forEach((h,d)=>{const g=d.getKey();l.get(g)===null&&(l=l.insert(g,Cn.newInvalidDocument(g)))});let c=Wu();return l.forEach((h,d)=>{const g=r.get(h);g!==void 0&&ah(g.mutation,d,ii.empty(),Zt.now()),kp(t,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Es(s.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:J4(s.bundledQuery),readTime:Es(s.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(){this.overlays=new xt(Se.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=wo();return se.forEach(t,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,r)=>{this.Et(e,t,r)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Rr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const s=wo(),r=t.length+1,l=new Se(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===r&&h.largestBatchId>i&&s.set(h.getKey(),h)}return se.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let r=new xt((d,g)=>d-g);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let g=r.get(d.largestBatchId);g===null&&(g=wo(),r=r.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=wo(),h=r.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,g)=>c.set(d,g)),!(c.size()>=s)););return se.resolve(c)}Et(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new D4(t,i));let r=this.Rr.get(t);r===void 0&&(r=Be(),this.Rr.set(t,r)),this.Rr.set(t,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.Vr=new Jt(ln.mr),this.gr=new Jt(ln.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new ln(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new ln(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Se(new mt([])),i=new ln(t,e),s=new ln(t,e+1),r=[];return this.gr.forEachInRange([i,s],l=>{this.wr(l),r.push(l.key)}),r}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Se(new mt([])),i=new ln(t,e),s=new ln(t,e+1);let r=Be();return this.gr.forEachInRange([i,s],l=>{r=r.add(l.key)}),r}containsKey(e){const t=new ln(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class ln{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Se.comparator(e.key,t.key)||Fe(e.Cr,t.Cr)}static pr(e,t){return Fe(e.Cr,t.Cr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Jt(ln.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const r=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new C4(r,t,i,s);this.mutationQueue.push(l);for(const c of s)this.Mr=this.Mr.add(new ln(c.key,r)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Nr(i),r=s<0?0:s;return se.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?vb:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ln(t,0),s=new ln(t,Number.POSITIVE_INFINITY),r=[];return this.Mr.forEachInRange([i,s],l=>{const c=this.Or(l.Cr);r.push(c)}),se.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Jt(Fe);return t.forEach(s=>{const r=new ln(s,0),l=new ln(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([r,l],c=>{i=i.add(c.Cr)})}),se.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let r=i;Se.isDocumentKey(r)||(r=r.child(""));const l=new ln(new Se(r),0);let c=new Jt(Fe);return this.Mr.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.Cr)),!0)},l),se.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(i=>{const s=this.Or(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){st(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return se.forEach(t.mutations,s=>{const r=new ln(s.key,t.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new ln(t,0),s=this.Mr.firstAfterOrEqual(i);return se.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.kr=e,this.docs=function(){return new xt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),r=s?s.size:0,l=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():Cn.newInvalidDocument(t))}getEntries(e,t){let i=yr();return t.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Cn.newInvalidDocument(s))}),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let r=yr();const l=t.path,c=new Se(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:g}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||Fz(Hz(g),i)<=0||(s.has(g.key)||kp(t,g))&&(r=r.insert(g.key,g.mutableCopy()))}return se.resolve(r)}getAllFromCollectionGroup(e,t,i,s){ke()}qr(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new pB(this)}getSize(e){return se.resolve(this.size)}}class pB extends oB{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e){this.persistence=e,this.Qr=new zo(t=>Eb(t),wb),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Db,this.targetCount=0,this.Ur=oc.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,s)=>t(s)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new oc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let s=0;const r=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.Qr.delete(l),r.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),se.waitFor(r).next(()=>s)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const s=this.persistence.referenceDelegate,r=[];return s&&t.forEach(l=>{r.push(s.markPotentiallyOrphaned(e,l))}),se.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Rp(0),this.zr=!1,this.zr=!0,this.jr=new dB,this.referenceDelegate=e(this),this.Hr=new mB(this),this.indexManager=new eB,this.remoteDocumentCache=function(s){return new gB(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new Z4(t),this.Yr=new uB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new fB(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const s=new yB(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(r=>this.referenceDelegate.Xr(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}ei(e,t){return se.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class yB extends Gz{constructor(e){super(),this.currentSequenceNumber=e}}class Ib{constructor(e){this.persistence=e,this.ti=new Db,this.ni=null}static ri(e){return new Ib(e)}get ii(){if(this.ni)return this.ni;throw ke()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(r=>this.ii.add(r.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,i=>{const s=Se.fromPath(i);return this.si(e,s).next(r=>{r||t.removeEntry(s,Ne.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Gg{constructor(e,t){this.persistence=e,this.oi=new zo(i=>Yz(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=aB(this,t)}static ri(e,t){return new Gg(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(i,s)=>this.ar(e,i,s).next(r=>r?se.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,t).next(c=>{c||(i++,r.removeEntry(l,Ne.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hg(e.data.value)),t}ar(e,t,i){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return se.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=s}static Yi(e,t){let i=Be(),s=Be();for(const r of t.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new kb(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return RP()?8:Wz(Nn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,s){const r={result:null};return this.rs(e,t).next(l=>{r.result=l}).next(()=>{if(!r.result)return this.ss(e,t,s,i).next(l=>{r.result=l})}).next(()=>{if(r.result)return;const l=new vB;return this._s(e,t,l).next(c=>{if(r.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>r.result)}us(e,t,i,s){return i.documentReadCount<this.es?(zl()<=Ue.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Bl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(zl()<=Ue.DEBUG&&pe("QueryEngine","Query:",Bl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(zl()<=Ue.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Bl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bs(t))):se.resolve())}rs(e,t){if(cT(t))return se.resolve(null);let i=bs(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=d_(t,null,"F"),i=bs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const l=Be(...r);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const d=this.cs(t,c);return this.ls(t,d,l,h.readTime)?this.rs(e,d_(t,null,"F")):this.hs(e,d,t,h)}))})))}ss(e,t,i,s){return cT(t)||s.isEqual(Ne.min())?se.resolve(null):this.ns.getDocuments(e,i).next(r=>{const l=this.cs(t,r);return this.ls(t,l,i,s)?se.resolve(null):(zl()<=Ue.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bl(t)),this.hs(e,l,t,Bz(s,wh)).next(c=>c))})}cs(e,t){let i=new Jt(mI(e));return t.forEach((s,r)=>{kp(e,r)&&(i=i.add(r))}),i}ls(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const r=e.limitType==="F"?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}_s(e,t,i){return zl()<=Ue.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Bl(t)),this.ns.getDocumentsMatchingQuery(e,t,ba.min(),i)}hs(e,t,i,s){return this.ns.getDocumentsMatchingQuery(e,i,s).next(r=>(t.forEach(l=>{r=r.insert(l.key,l)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="LocalStore",bB=3e8;class EB{constructor(e,t,i,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new xt(Fe),this.Is=new zo(r=>Eb(r),wb),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cB(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function wB(n,e,t,i){return new EB(n,e,t,i)}async function UI(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(r=>{const l=[],c=[];let h=Be();for(const d of s){l.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of r){c.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(i,h).next(d=>({Rs:d,removedBatchIds:l,addedBatchIds:c}))})})}function SB(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,d,g){const y=d.batch,_=y.keys();let b=se.resolve();return _.forEach(S=>{b=b.next(()=>g.getEntry(h,S)).next(x=>{const A=d.docVersions.get(S);st(A!==null),x.version.compareTo(A)<0&&(y.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),g.addEntry(x)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(t,i,e,r).next(()=>r.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Be();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function zI(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function AB(n,e){const t=Oe(n),i=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const c=[];e.targetChanges.forEach((g,y)=>{const _=s.get(y);if(!_)return;c.push(t.Hr.removeMatchingKeys(r,g.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(r,g.addedDocuments,y)));let b=_.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(y)!==null?b=b.withResumeToken(bn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,i)),s=s.insert(y,b),function(x,A,I){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=bB?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(_,b,g)&&c.push(t.Hr.updateTargetData(r,b))});let h=yr(),d=Be();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(r,g))}),c.push(TB(r,l,e.documentUpdates).next(g=>{h=g.Vs,d=g.fs})),!i.isEqual(Ne.min())){const g=t.Hr.getLastRemoteSnapshotVersion(r).next(y=>t.Hr.setTargetsMetadata(r,r.currentSequenceNumber,i));c.push(g)}return se.waitFor(c).next(()=>l.apply(r)).next(()=>t.localDocuments.getLocalViewOfDocuments(r,h,d)).next(()=>h)}).then(r=>(t.Ts=s,r))}function TB(n,e,t){let i=Be(),s=Be();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let l=yr();return t.forEach((c,h)=>{const d=r.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Ne.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):pe(Nb,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{Vs:l,fs:s}})}function xB(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=vb),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function RB(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Hr.getTargetData(i,e).next(r=>r?(s=r,se.resolve(s)):t.Hr.allocateTargetId(i).next(l=>(s=new la(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function y_(n,e,t){const i=Oe(n),s=i.Ts.get(e),r=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",r,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!wc(l))throw l;pe(Nb,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ts=i.Ts.remove(e),i.Is.delete(s.target)}function wT(n,e,t){const i=Oe(n);let s=Ne.min(),r=Be();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,g){const y=Oe(h),_=y.Is.get(g);return _!==void 0?se.resolve(y.Ts.get(_)):y.Hr.getTargetData(d,g)}(i,l,bs(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{r=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(l,e,t?s:Ne.min(),t?r:Be())).next(c=>(CB(i,f4(e),c),{documents:c,gs:r})))}function CB(n,e,t){let i=n.Es.get(e)||Ne.min();t.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),n.Es.set(e,i)}class ST{constructor(){this.activeTargetIds=_4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DB{constructor(){this.ho=new ST,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ST,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="ConnectivityMonitor";class TT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(AT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(AT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of=null;function v_(){return Of===null?Of=function(){return 268435456+Math.round(2147483648*Math.random())}():Of++,"0x"+Of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="RestConnection",kB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NB{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===Vg?`project_id=${i}`:`project_id=${i}&database_id=${s}`}So(e,t,i,s,r){const l=v_(),c=this.bo(e,t.toUriEncodedString());pe(_v,`Sending RPC '${e}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,r),this.vo(e,c,h,i).then(d=>(pe(_v,`Received RPC '${e}' ${l}: `,d),d),d=>{throw ic(_v,`RPC '${e}' ${l} failed with error: `,d,"url: ",c,"request:",i),d})}Co(e,t,i,s,r,l){return this.So(e,t,i,s,r)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}bo(e,t){const i=kB[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class OB extends NB{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,s){const r=v_();return new Promise((l,c)=>{const h=new GD;h.setWithCredentials(!0),h.listenOnce(WD.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ug.NO_ERROR:const g=h.getResponseJson();pe(Tn,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(g)),l(g);break;case ug.TIMEOUT:pe(Tn,`RPC '${e}' ${r} timed out`),c(new me(ae.DEADLINE_EXCEEDED,"Request time out"));break;case ug.HTTP_ERROR:const y=h.getStatus();if(pe(Tn,`RPC '${e}' ${r} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const b=_==null?void 0:_.error;if(b&&b.status&&b.message){const S=function(A){const I=A.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(I)>=0?I:ae.UNKNOWN}(b.status);c(new me(S,b.message))}else c(new me(ae.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new me(ae.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{pe(Tn,`RPC '${e}' ${r} completed.`)}});const d=JSON.stringify(s);pe(Tn,`RPC '${e}' ${r} sending request:`,s),h.send(t,"POST",d,i,15)})}Wo(e,t,i){const s=v_(),r=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=QD(),c=YD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const g=r.join("");pe(Tn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const y=l.createWebChannel(g,h);let _=!1,b=!1;const S=new MB({Fo:A=>{b?pe(Tn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(_||(pe(Tn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),_=!0),pe(Tn,`RPC '${e}' stream ${s} sending:`,A),y.send(A))},Mo:()=>y.close()}),x=(A,I,O)=>{A.listen(I,j=>{try{O(j)}catch(B){setTimeout(()=>{throw B},0)}})};return x(y,Gu.EventType.OPEN,()=>{b||(pe(Tn,`RPC '${e}' stream ${s} transport opened.`),S.Qo())}),x(y,Gu.EventType.CLOSE,()=>{b||(b=!0,pe(Tn,`RPC '${e}' stream ${s} transport closed`),S.Ko())}),x(y,Gu.EventType.ERROR,A=>{b||(b=!0,ic(Tn,`RPC '${e}' stream ${s} transport errored:`,A),S.Ko(new me(ae.UNAVAILABLE,"The operation could not be completed")))}),x(y,Gu.EventType.MESSAGE,A=>{var I;if(!b){const O=A.data[0];st(!!O);const j=O,B=(j==null?void 0:j.error)||((I=j[0])===null||I===void 0?void 0:I.error);if(B){pe(Tn,`RPC '${e}' stream ${s} received error:`,B);const q=B.status;let K=function(D){const P=Ft[D];if(P!==void 0)return RI(P)}(q),M=B.message;K===void 0&&(K=ae.INTERNAL,M="Unknown error status: "+q+" with message "+B.message),b=!0,S.Ko(new me(K,M)),y.close()}else pe(Tn,`RPC '${e}' stream ${s} received:`,O),S.Uo(O)}}),x(c,$D.STAT_EVENT,A=>{A.stat===a_.PROXY?pe(Tn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===a_.NOPROXY&&pe(Tn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}}function bv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n){return new V4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t,i=1e3,s=1.5,r=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=s,this.jo=r,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-i);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="PersistentStream";class HI{constructor(e,t,i,s,r,l,c,h){this.Ti=e,this.n_=i,this.r_=s,this.connection=r,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new BI(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(mr(t.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===t&&this.V_(i,s)},i=>{e(()=>{const s=new me(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(xT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(xT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PB extends HI{constructor(e,t,i,s,r,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,l),this.serializer=r}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=B4(this.serializer,e),i=function(r){if(!("targetChange"in r))return Ne.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?Ne.min():l.readTime?Es(l.readTime):Ne.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=m_(this.serializer),t.addTarget=function(r,l){let c;const h=l.target;if(c=u_(h)?{documents:q4(r,h)}:{query:G4(r,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=II(r,l.resumeToken);const d=f_(r,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(Ne.min())>0){c.readTime=qg(r,l.snapshotVersion.toTimestamp());const d=f_(r,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const i=$4(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=m_(this.serializer),t.removeTarget=e,this.I_(t)}}class jB extends HI{constructor(e,t,i,s,r,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,l),this.serializer=r}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=F4(e.writeResults,e.commitTime),i=Es(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=m_(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>H4(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{}class VB extends LB{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new me(ae.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.connection.So(e,g_(t,i),s,r,l)).catch(r=>{throw r.name==="FirebaseError"?(r.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new me(ae.UNKNOWN,r.toString())})}Co(e,t,i,s,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,g_(t,i),s,l,c,r)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ae.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class UB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(mr(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="RemoteStore";class zB{constructor(e,t,i,s,r){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=r,this.z_.To(l=>{i.enqueueAndForget(async()=>{Bo(this)&&(pe(No,"Restarting streams for network reachability change."),await async function(h){const d=Oe(h);d.W_.add(4),await Xh(d),d.j_.set("Unknown"),d.W_.delete(4),await jp(d)}(this))})}),this.j_=new UB(i,s)}}async function jp(n){if(Bo(n))for(const e of n.G_)await e(!0)}async function Xh(n){for(const e of n.G_)await e(!1)}function FI(n,e){const t=Oe(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),jb(t)?Pb(t):Sc(t).c_()&&Ob(t,e))}function Mb(n,e){const t=Oe(n),i=Sc(t);t.U_.delete(e),i.c_()&&qI(t,e),t.U_.size===0&&(i.c_()?i.P_():Bo(t)&&t.j_.set("Unknown"))}function Ob(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sc(n).y_(e)}function qI(n,e){n.H_.Ne(e),Sc(n).w_(e)}function Pb(n){n.H_=new O4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Sc(n).start(),n.j_.B_()}function jb(n){return Bo(n)&&!Sc(n).u_()&&n.U_.size>0}function Bo(n){return Oe(n).W_.size===0}function GI(n){n.H_=void 0}async function BB(n){n.j_.set("Online")}async function HB(n){n.U_.forEach((e,t)=>{Ob(n,e)})}async function FB(n,e){GI(n),jb(n)?(n.j_.q_(e),Pb(n)):n.j_.set("Unknown")}async function qB(n,e,t){if(n.j_.set("Online"),e instanceof DI&&e.state===2&&e.cause)try{await async function(s,r){const l=r.cause;for(const c of r.targetIds)s.U_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.U_.delete(c),s.H_.removeTarget(c))}(n,e)}catch(i){pe(No,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Wg(n,i)}else if(e instanceof gg?n.H_.We(e):e instanceof CI?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ne.min()))try{const i=await zI(n.localStore);t.compareTo(i)>=0&&await function(r,l){const c=r.H_.ot(l);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const g=r.U_.get(d);g&&r.U_.set(d,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,d)=>{const g=r.U_.get(h);if(!g)return;r.U_.set(h,g.withResumeToken(bn.EMPTY_BYTE_STRING,g.snapshotVersion)),qI(r,h);const y=new la(g.target,h,d,g.sequenceNumber);Ob(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(i){pe(No,"Failed to raise snapshot:",i),await Wg(n,i)}}async function Wg(n,e,t){if(!wc(e))throw e;n.W_.add(1),await Xh(n),n.j_.set("Offline"),t||(t=()=>zI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(No,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await jp(n)})}function WI(n,e){return e().catch(t=>Wg(n,t,e))}async function Lp(n){const e=Oe(n),t=Aa(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:vb;for(;GB(e);)try{const s=await xB(e.localStore,i);if(s===null){e.K_.length===0&&t.P_();break}i=s.batchId,WB(e,s)}catch(s){await Wg(e,s)}$I(e)&&YI(e)}function GB(n){return Bo(n)&&n.K_.length<10}function WB(n,e){n.K_.push(e);const t=Aa(n);t.c_()&&t.S_&&t.b_(e.mutations)}function $I(n){return Bo(n)&&!Aa(n).u_()&&n.K_.length>0}function YI(n){Aa(n).start()}async function $B(n){Aa(n).C_()}async function YB(n){const e=Aa(n);for(const t of n.K_)e.b_(t.mutations)}async function QB(n,e,t){const i=n.K_.shift(),s=xb.from(i,e,t);await WI(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Lp(n)}async function KB(n,e){e&&Aa(n).S_&&await async function(i,s){if(function(l){return k4(l)&&l!==ae.ABORTED}(s.code)){const r=i.K_.shift();Aa(i).h_(),await WI(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Lp(i)}}(n,e),$I(n)&&YI(n)}async function RT(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),pe(No,"RemoteStore received new credentials");const i=Bo(t);t.W_.add(3),await Xh(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await jp(t)}async function XB(n,e){const t=Oe(n);e?(t.W_.delete(2),await jp(t)):e||(t.W_.add(2),await Xh(t),t.j_.set("Unknown"))}function Sc(n){return n.J_||(n.J_=function(t,i,s){const r=Oe(t);return r.M_(),new PB(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{xo:BB.bind(null,n),No:HB.bind(null,n),Lo:FB.bind(null,n),p_:qB.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),jb(n)?Pb(n):n.j_.set("Unknown")):(await n.J_.stop(),GI(n))})),n.J_}function Aa(n){return n.Y_||(n.Y_=function(t,i,s){const r=Oe(t);return r.M_(),new jB(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:$B.bind(null,n),Lo:KB.bind(null,n),D_:YB.bind(null,n),v_:QB.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Lp(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(No,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t,i,s,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,r){const l=Date.now()+i,c=new Lb(e,t,l,s,r);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vb(n,e){if(mr("AsyncQueue",`${e}: ${n}`),wc(n))return new me(ae.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{static emptySet(e){return new Xl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Se.comparator(t.key,i.key):(t,i)=>Se.comparator(t.key,i.key),this.keyedMap=Wu(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Xl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.Z_=new xt(Se.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ke():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class lc{constructor(e,t,i,s,r,l,c,h,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,s,r){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new lc(e,t,Xl.emptySet(t),l,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ip(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class JB{constructor(){this.queries=DT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const s=Oe(t),r=s.queries;s.queries=DT(),r.forEach((l,c)=>{for(const h of c.ta)h.onError(i)})})(this,new me(ae.ABORTED,"Firestore shutting down"))}}function DT(){return new zo(n=>pI(n),Ip)}async function QI(n,e){const t=Oe(n);let i=3;const s=e.query;let r=t.queries.get(s);r?!r.na()&&e.ra()&&(i=2):(r=new ZB,i=e.ra()?0:1);try{switch(i){case 0:r.ea=await t.onListen(s,!0);break;case 1:r.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=Vb(l,`Initialization of query '${Bl(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,r),r.ta.push(e),e.sa(t.onlineState),r.ea&&e.oa(r.ea)&&Ub(t)}async function KI(n,e){const t=Oe(n),i=e.query;let s=3;const r=t.queries.get(i);if(r){const l=r.ta.indexOf(e);l>=0&&(r.ta.splice(l,1),r.ta.length===0?s=e.ra()?0:1:!r.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function eH(n,e){const t=Oe(n);let i=!1;for(const s of e){const r=s.query,l=t.queries.get(r);if(l){for(const c of l.ta)c.oa(s)&&(i=!0);l.ea=s}}i&&Ub(t)}function tH(n,e,t){const i=Oe(n),s=i.queries.get(e);if(s)for(const r of s.ta)r.onError(t);i.queries.delete(e)}function Ub(n){n.ia.forEach(e=>{e.next()})}var __,IT;(IT=__||(__={}))._a="default",IT.Cache="cache";class XI{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new lc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=lc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==__.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.key=e}}class JI{constructor(e){this.key=e}}class nH{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Be(),this.mutatedKeys=Be(),this.ya=mI(e),this.wa=new Xl(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new CT,s=t?t.wa:this.wa;let r=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,y)=>{const _=s.get(g),b=kp(this.query,y)?y:null,S=!!_&&this.mutatedKeys.has(_.key),x=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let A=!1;_&&b?_.data.isEqual(b.data)?S!==x&&(i.track({type:3,doc:b}),A=!0):this.va(_,b)||(i.track({type:2,doc:b}),A=!0,(h&&this.ya(b,h)>0||d&&this.ya(b,d)<0)&&(c=!0)):!_&&b?(i.track({type:0,doc:b}),A=!0):_&&!b&&(i.track({type:1,doc:_}),A=!0,(h||d)&&(c=!0)),A&&(b?(l=l.add(b),r=x?r.add(g):r.delete(g)):(l=l.delete(g),r=r.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),r=r.delete(g.key),i.track({type:1,doc:g})}return{wa:l,Da:i,ls:c,mutatedKeys:r}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const r=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,y)=>function(b,S){const x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return x(b)-x(S)}(g.type,y.type)||this.ya(g.doc,y.doc)),this.Ca(i),s=s!=null&&s;const c=t&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,d=h!==this.ga;return this.ga=h,l.length!==0||d?{snapshot:new lc(this.query,e.wa,r,l,e.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new CT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Be(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new JI(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new ZI(i))}),t}Oa(e){this.fa=e.gs,this.pa=Be();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return lc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const zb="SyncEngine";class iH{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class sH{constructor(e){this.key=e,this.Ba=!1}}class rH{constructor(e,t,i,s,r,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new zo(c=>pI(c),Ip),this.qa=new Map,this.Qa=new Set,this.$a=new xt(Se.comparator),this.Ka=new Map,this.Ua=new Db,this.Wa={},this.Ga=new Map,this.za=oc.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function aH(n,e,t=!0){const i=r1(n);let s;const r=i.ka.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.Na()):s=await e1(i,e,t,!0),s}async function oH(n,e){const t=r1(n);await e1(t,e,!0,!1)}async function e1(n,e,t,i){const s=await RB(n.localStore,bs(e)),r=s.targetId,l=n.sharedClientState.addLocalQueryTarget(r,t);let c;return i&&(c=await lH(n,e,r,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&FI(n.remoteStore,s),c}async function lH(n,e,t,i,s){n.Ha=(y,_,b)=>async function(x,A,I,O){let j=A.view.ba(I);j.ls&&(j=await wT(x.localStore,A.query,!1).then(({documents:M})=>A.view.ba(M,j)));const B=O&&O.targetChanges.get(A.targetId),q=O&&O.targetMismatches.get(A.targetId)!=null,K=A.view.applyChanges(j,x.isPrimaryClient,B,q);return NT(x,A.targetId,K.Ma),K.snapshot}(n,y,_,b);const r=await wT(n.localStore,e,!0),l=new nH(e,r.gs),c=l.ba(r.documents),h=Kh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),d=l.applyChanges(c,n.isPrimaryClient,h);NT(n,t,d.Ma);const g=new iH(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),d.snapshot}async function cH(n,e,t){const i=Oe(n),s=i.ka.get(e),r=i.qa.get(s.targetId);if(r.length>1)return i.qa.set(s.targetId,r.filter(l=>!Ip(l,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await y_(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Mb(i.remoteStore,s.targetId),b_(i,s.targetId)}).catch(Ec)):(b_(i,s.targetId),await y_(i.localStore,s.targetId,!0))}async function uH(n,e){const t=Oe(n),i=t.ka.get(e),s=t.qa.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Mb(t.remoteStore,i.targetId))}async function hH(n,e,t){const i=vH(n);try{const s=await function(l,c){const h=Oe(l),d=Zt.now(),g=c.reduce((b,S)=>b.add(S.key),Be());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let S=yr(),x=Be();return h.ds.getEntries(b,g).next(A=>{S=A,S.forEach((I,O)=>{O.isValidDocument()||(x=x.add(I))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,S)).next(A=>{y=A;const I=[];for(const O of c){const j=x4(O,y.get(O.key).overlayedDocument);j!=null&&I.push(new ka(O.key,j,oI(j.value.mapValue),Ri.exists(!0)))}return h.mutationQueue.addMutationBatch(b,d,I,c)}).next(A=>{_=A;const I=A.applyToLocalDocumentSet(y,x);return h.documentOverlayCache.saveOverlays(b,A.batchId,I)})}).then(()=>({batchId:_.batchId,changes:vI(y)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let d=l.Wa[l.currentUser.toKey()];d||(d=new xt(Fe)),d=d.insert(c,h),l.Wa[l.currentUser.toKey()]=d}(i,s.batchId,t),await Zh(i,s.changes),await Lp(i.remoteStore)}catch(s){const r=Vb(s,"Failed to persist write");t.reject(r)}}async function t1(n,e){const t=Oe(n);try{const i=await AB(t.localStore,e);e.targetChanges.forEach((s,r)=>{const l=t.Ka.get(r);l&&(st(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?st(l.Ba):s.removedDocuments.size>0&&(st(l.Ba),l.Ba=!1))}),await Zh(t,i,e)}catch(i){await Ec(i)}}function kT(n,e,t){const i=Oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.ka.forEach((r,l)=>{const c=l.view.sa(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Oe(l);h.onlineState=c;let d=!1;h.queries.forEach((g,y)=>{for(const _ of y.ta)_.sa(c)&&(d=!0)}),d&&Ub(h)}(i.eventManager,e),s.length&&i.La.p_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function dH(n,e,t){const i=Oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Ka.get(e),r=s&&s.key;if(r){let l=new xt(Se.comparator);l=l.insert(r,Cn.newNoDocument(r,Ne.min()));const c=Be().add(r),h=new Op(Ne.min(),new Map,new xt(Fe),l,c);await t1(i,h),i.$a=i.$a.remove(r),i.Ka.delete(e),Bb(i)}else await y_(i.localStore,e,!1).then(()=>b_(i,e,t)).catch(Ec)}async function fH(n,e){const t=Oe(n),i=e.batch.batchId;try{const s=await SB(t.localStore,e);i1(t,i,null),n1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Zh(t,s)}catch(s){await Ec(s)}}async function gH(n,e,t){const i=Oe(n);try{const s=await function(l,c){const h=Oe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return h.mutationQueue.lookupMutationBatch(d,c).next(y=>(st(y!==null),g=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>h.localDocuments.getDocuments(d,g))})}(i.localStore,e);i1(i,e,t),n1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Zh(i,s)}catch(s){await Ec(s)}}function n1(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function i1(n,e,t){const i=Oe(n);let s=i.Wa[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(t?r.reject(t):r.resolve(),s=s.remove(e)),i.Wa[i.currentUser.toKey()]=s}}function b_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||s1(n,i)})}function s1(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Mb(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Bb(n))}function NT(n,e,t){for(const i of t)i instanceof ZI?(n.Ua.addReference(i.key,e),pH(n,i)):i instanceof JI?(pe(zb,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||s1(n,i.key)):ke()}function pH(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(pe(zb,"New document in limbo: "+t),n.Qa.add(i),Bb(n))}function Bb(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Se(mt.fromString(e)),i=n.za.next();n.Ka.set(i,new sH(t)),n.$a=n.$a.insert(t,i),FI(n.remoteStore,new la(bs(Sb(t.path)),i,"TargetPurposeLimboResolution",Rp.ae))}}async function Zh(n,e,t){const i=Oe(n),s=[],r=[],l=[];i.ka.isEmpty()||(i.ka.forEach((c,h)=>{l.push(i.Ha(h,e,t).then(d=>{var g;if((d||t)&&i.isPrimaryClient){const y=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){s.push(d);const y=kb.Yi(h.targetId,d);r.push(y)}}))}),await Promise.all(l),i.La.p_(s),await async function(h,d){const g=Oe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>se.forEach(d,_=>se.forEach(_.Hi,b=>g.persistence.referenceDelegate.addReference(y,_.targetId,b)).next(()=>se.forEach(_.Ji,b=>g.persistence.referenceDelegate.removeReference(y,_.targetId,b)))))}catch(y){if(!wc(y))throw y;pe(Nb,"Failed to update sequence numbers: "+y)}for(const y of d){const _=y.targetId;if(!y.fromCache){const b=g.Ts.get(_),S=b.snapshotVersion,x=b.withLastLimboFreeSnapshotVersion(S);g.Ts=g.Ts.insert(_,x)}}}(i.localStore,r))}async function mH(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){pe(zb,"User change. New user:",e.toKey());const i=await UI(t.localStore,e);t.currentUser=e,function(r,l){r.Ga.forEach(c=>{c.forEach(h=>{h.reject(new me(ae.CANCELLED,l))})}),r.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Zh(t,i.Rs)}}function yH(n,e){const t=Oe(n),i=t.Ka.get(e);if(i&&i.Ba)return Be().add(i.key);{let s=Be();const r=t.qa.get(e);if(!r)return s;for(const l of r){const c=t.ka.get(l);s=s.unionWith(c.view.Sa)}return s}}function r1(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=t1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dH.bind(null,e),e.La.p_=eH.bind(null,e.eventManager),e.La.Ja=tH.bind(null,e.eventManager),e}function vH(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gH.bind(null,e),e}class $g{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return wB(this.persistence,new _B,e.initialUser,this.serializer)}Xa(e){return new VI(Ib.ri,this.serializer)}Za(e){return new DB}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$g.provider={build:()=>new $g};class _H extends $g{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){st(this.persistence.referenceDelegate instanceof Gg);const i=this.persistence.referenceDelegate.garbageCollector;return new sB(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new VI(i=>Gg.ri(i,t),this.serializer)}}class E_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mH.bind(null,this.syncEngine),await XB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JB}()}createDatastore(e){const t=Pp(e.databaseInfo.databaseId),i=function(r){return new OB(r)}(e.databaseInfo);return function(r,l,c,h){return new VB(r,l,c,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,r,l,c){return new zB(i,s,r,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>kT(this.syncEngine,t,0),function(){return TT.D()?new TT:new IB}())}createSyncEngine(e,t){return function(s,r,l,c,h,d,g){const y=new rH(s,r,l,c,h,d);return g&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const r=Oe(s);pe(No,"RemoteStore shutting down."),r.W_.add(5),await Xh(r),r.z_.shutdown(),r.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}E_.provider={build:()=>new E_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="FirestoreClient";class bH{constructor(e,t,i,s,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Rn.UNAUTHENTICATED,this.clientId=XD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async l=>{pe(Ta,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(pe(Ta,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Vb(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ev(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Ta,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await UI(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function MT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await EH(n);pe(Ta,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>RT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>RT(e.remoteStore,s)),n._onlineComponents=e}async function EH(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Ta,"Using user provided OfflineComponentProvider");try{await Ev(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ic("Error using user provided cache. Falling back to memory cache: "+t),await Ev(n,new $g)}}else pe(Ta,"Using default OfflineComponentProvider"),await Ev(n,new _H(void 0));return n._offlineComponents}async function o1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Ta,"Using user provided OnlineComponentProvider"),await MT(n,n._uninitializedComponentsProvider._online)):(pe(Ta,"Using default OnlineComponentProvider"),await MT(n,new E_))),n._onlineComponents}function wH(n){return o1(n).then(e=>e.syncEngine)}async function l1(n){const e=await o1(n),t=e.eventManager;return t.onListen=aH.bind(null,e.syncEngine),t.onUnlisten=cH.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oH.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uH.bind(null,e.syncEngine),t}function SH(n,e,t={}){const i=new ur;return n.asyncQueue.enqueueAndForget(async()=>function(r,l,c,h,d){const g=new a1({next:_=>{g.su(),l.enqueueAndForget(()=>KI(r,y));const b=_.docs.has(c);!b&&_.fromCache?d.reject(new me(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&h&&h.source==="server"?d.reject(new me(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new XI(Sb(c.path),g,{includeMetadataChanges:!0,Ta:!0});return QI(r,y)}(await l1(n),n.asyncQueue,e,t,i)),i.promise}function AH(n,e,t={}){const i=new ur;return n.asyncQueue.enqueueAndForget(async()=>function(r,l,c,h,d){const g=new a1({next:_=>{g.su(),l.enqueueAndForget(()=>KI(r,y)),_.fromCache&&h.source==="server"?d.reject(new me(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new XI(c,g,{includeMetadataChanges:!0,Ta:!0});return QI(r,y)}(await l1(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(n,e,t){if(!t)throw new me(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TH(n,e,t,i){if(e===!0&&i===!0)throw new me(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function PT(n){if(!Se.isDocumentKey(n))throw new me(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jT(n){if(Se.isDocumentKey(n))throw new me(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Vp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke()}function Fi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vp(n);throw new me(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="firestore.googleapis.com",LT=!0;class VT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h1,this.ssl=LT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:LT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nB)throw new me(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Up{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Mz;switch(i.type){case"firstParty":return new Lz(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=OT.get(t);i&&(pe("ComponentProvider","Removing Datastore"),OT.delete(t),i.terminate())}(this),Promise.resolve()}}function xH(n,e,t,i={}){var s;const r=(n=Fi(n,Up))._getSettings(),l=`${e}:${t}`;if(r.host!==h1&&r.host!==l&&ic("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},r),{host:l,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=Rn.MOCK_USER;else{c=EP(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new me(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Rn(d)}n._authCredentials=new Oz(new KD(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ac(this.firestore,e,this._query)}}class Un{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class ma extends Ac{constructor(e,t,i){super(e,t,Sb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new Se(e))}withConverter(e){return new ma(this.firestore,e,this._path)}}function Gn(n,e,...t){if(n=Tt(n),u1("collection","path",e),n instanceof Up){const i=mt.fromString(e,...t);return jT(i),new ma(n,null,i)}{if(!(n instanceof Un||n instanceof ma))throw new me(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(e,...t));return jT(i),new ma(n.firestore,null,i)}}function ys(n,e,...t){if(n=Tt(n),arguments.length===1&&(e=XD.newId()),u1("doc","path",e),n instanceof Up){const i=mt.fromString(e,...t);return PT(i),new Un(n,null,new Se(i))}{if(!(n instanceof Un||n instanceof ma))throw new me(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(e,...t));return PT(i),new Un(n.firestore,n instanceof ma?n.converter:null,new Se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="AsyncQueue";class zT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new BI(this,"async_queue_retry"),this.Su=()=>{const i=bv();i&&pe(UT,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=bv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=bv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ur;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!wc(e))throw e;pe(UT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw mr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=Lb.createAndSchedule(this,e,t,i,r=>this.Fu(r));return this.fu.push(s),s}Du(){this.gu&&ke()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Ho extends Up{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new zT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zT(e),this._firestoreClient=void 0,await e}}}function RH(n,e){const t=typeof n=="object"?n:nb(),i=typeof n=="string"?n:Vg,s=Vo(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=_P("firestore");r&&xH(s,...r)}return s}function Hb(n){if(n._terminated)throw new me(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||CH(n),n._firestoreClient}function CH(n){var e,t,i;const s=n._freezeSettings(),r=function(c,h,d,g){return new Xz(c,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,c1(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new bH(n._authCredentials,n._appCheckCredentials,n._queue,r,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cc(bn.fromBase64String(e))}catch(t){throw new me(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cc(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH=/^__.*__$/;class IH{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ka(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qh(e,this.data,t,this.fieldTransforms)}}class d1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ka(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function f1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class Wb{constructor(e,t,i,s,r,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Bu(),this.fieldTransforms=r||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Wb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.$u(e),s}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Yg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(f1(this.Lu)&&DH.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class kH{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Pp(e)}ju(e,t,i,s=!1){return new Wb({Lu:e,methodName:t,zu:i,path:_n.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bp(n){const e=n._freezeSettings(),t=Pp(n._databaseId);return new kH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function g1(n,e,t,i,s,r={}){const l=n.ju(r.merge||r.mergeFields?2:0,e,t,s);$b("Data must be an object, but it was:",l,i);const c=p1(i,l);let h,d;if(r.merge)h=new ii(l.fieldMask),d=l.fieldTransforms;else if(r.mergeFields){const g=[];for(const y of r.mergeFields){const _=w_(e,y,t);if(!l.contains(_))throw new me(ae.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);y1(g,_)||g.push(_)}h=new ii(g),d=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=l.fieldTransforms;return new IH(new Wn(c),h,d)}class Hp extends Fb{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hp}}function NH(n,e,t,i){const s=n.ju(1,e,t);$b("Data must be an object, but it was:",s,i);const r=[],l=Wn.empty();Ia(i,(h,d)=>{const g=Yb(e,h,t);d=Tt(d);const y=s.Ku(g);if(d instanceof Hp)r.push(g);else{const _=Jh(d,y);_!=null&&(r.push(g),l.set(g,_))}});const c=new ii(r);return new d1(l,c,s.fieldTransforms)}function MH(n,e,t,i,s,r){const l=n.ju(1,e,t),c=[w_(e,i,t)],h=[s];if(r.length%2!=0)throw new me(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<r.length;_+=2)c.push(w_(e,r[_])),h.push(r[_+1]);const d=[],g=Wn.empty();for(let _=c.length-1;_>=0;--_)if(!y1(d,c[_])){const b=c[_];let S=h[_];S=Tt(S);const x=l.Ku(b);if(S instanceof Hp)d.push(b);else{const A=Jh(S,x);A!=null&&(d.push(b),g.set(b,A))}}const y=new ii(d);return new d1(g,y,l.fieldTransforms)}function OH(n,e,t,i=!1){return Jh(t,n.ju(i?4:3,e))}function Jh(n,e){if(m1(n=Tt(n)))return $b("Unsupported field value:",e,n),p1(n,e);if(n instanceof Fb)return function(i,s){if(!f1(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,s){const r=[];let l=0;for(const c of i){let h=Jh(c,s.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),r.push(h),l++}return{arrayValue:{values:r}}}(n,e)}return function(i,s){if((i=Tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return b4(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Zt.fromDate(i);return{timestampValue:qg(s.serializer,r)}}if(i instanceof Zt){const r=new Zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:qg(s.serializer,r)}}if(i instanceof qb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof cc)return{bytesValue:II(s.serializer,i._byteString)};if(i instanceof Un){const r=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(r))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Cb(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Gb)return function(l,c){return{mapValue:{fields:{[rI]:{stringValue:aI},[Ug]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.Wu("VectorValues must only contain numeric values.");return Ab(c.serializer,d)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${Vp(i)}`)}(n,e)}function p1(n,e){const t={};return JD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(n,(i,s)=>{const r=Jh(s,e.qu(i));r!=null&&(t[i]=r)}),{mapValue:{fields:t}}}function m1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zt||n instanceof qb||n instanceof cc||n instanceof Un||n instanceof Fb||n instanceof Gb)}function $b(n,e,t){if(!m1(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=Vp(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function w_(n,e,t){if((e=Tt(e))instanceof zp)return e._internalPath;if(typeof e=="string")return Yb(n,e);throw Yg("Field path arguments must be of type string or ",n,!1,void 0,t)}const PH=new RegExp("[~\\*/\\[\\]]");function Yb(n,e,t){if(e.search(PH)>=0)throw Yg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zp(...e.split("."))._internalPath}catch{throw Yg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yg(n,e,t,i,s){const r=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(r||l)&&(h+=" (found",r&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new me(ae.INVALID_ARGUMENT,c+n+h)}function y1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,t,i,s,r){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class jH extends v1{data(){return super.data()}}function Qb(n,e){return typeof e=="string"?Yb(n,e):e instanceof zp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kb{}class VH extends Kb{}function hr(n,e,...t){let i=[];e instanceof Kb&&i.push(e),i=i.concat(t),function(r){const l=r.filter(h=>h instanceof Xb).length,c=r.filter(h=>h instanceof Fp).length;if(l>1||l>0&&c>0)throw new me(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class Fp extends VH{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Fp(e,t,i)}_apply(e){const t=this._parse(e);return _1(e._query,t),new Ac(e.firestore,e.converter,h_(e._query,t))}_parse(e){const t=Bp(e.firestore);return function(r,l,c,h,d,g,y){let _;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new me(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){HT(y,g);const S=[];for(const x of y)S.push(BT(h,r,x));_={arrayValue:{values:S}}}else _=BT(h,r,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||HT(y,g),_=OH(c,l,y,g==="in"||g==="not-in");return qt.create(d,g,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function dr(n,e,t){const i=e,s=Qb("where",n);return Fp._create(s,i,t)}class Xb extends Kb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xb(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Hi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,r){let l=s;const c=r.getFlattenedFilters();for(const h of c)_1(l,h),l=h_(l,h)}(e._query,t),new Ac(e.firestore,e.converter,h_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function BT(n,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new me(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gI(e)&&t.indexOf("/")!==-1)throw new me(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(mt.fromString(t));if(!Se.isDocumentKey(i))throw new me(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return iT(n,new Se(i))}if(t instanceof Un)return iT(n,t._key);throw new me(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vp(t)}.`)}function HT(n,e){if(!Array.isArray(n)||n.length===0)throw new me(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _1(n,e){const t=function(s,r){for(const l of s)for(const c of l.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class UH{convertValue(e,t="none"){switch(Sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ia(e,(s,r)=>{i[s]=this.convertValue(r,t)}),i}convertVectorValue(e){var t,i,s;const r=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Ug].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>Lt(l.doubleValue));return new Gb(r)}convertGeoPoint(e){return new qb(Lt(e.latitude),Lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Dp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Sh(e));default:return null}}convertTimestamp(e){const t=Ea(e);return new Zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mt.fromString(e);st(jI(i));const s=new Ah(i.get(1),i.get(3)),r=new Se(i.popFirst(5));return s.isEqual(t)||mr(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class E1 extends v1{constructor(e,t,i,s,r,l){super(e,t,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Qb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class pg extends E1{data(e={}){return super.data(e)}}class zH{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Yu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new pg(this._firestore,this._userDataWriter,i.key,i,new Yu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new pg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Yu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>r||c.type!==3).map(c=>{const h=new pg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Yu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:BH(c.type),doc:h,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(n){n=Fi(n,Un);const e=Fi(n.firestore,Ho);return SH(Hb(e),n._key).then(t=>FH(e,n,t))}class S1 extends UH{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,t)}}function fr(n){n=Fi(n,Ac);const e=Fi(n.firestore,Ho),t=Hb(e),i=new S1(e);return LH(n._query),AH(t,n._query).then(s=>new zH(e,i,n,s))}function HH(n,e,t){n=Fi(n,Un);const i=Fi(n.firestore,Ho),s=b1(n.converter,e);return qp(i,[g1(Bp(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Ri.none())])}function FT(n,e,t,...i){n=Fi(n,Un);const s=Fi(n.firestore,Ho),r=Bp(s);let l;return l=typeof(e=Tt(e))=="string"||e instanceof zp?MH(r,"updateDoc",n._key,e,t,i):NH(r,"updateDoc",n._key,e),qp(s,[l.toMutation(n._key,Ri.exists(!0))])}function Qg(n){return qp(Fi(n.firestore,Ho),[new Tb(n._key,Ri.none())])}function oh(n,e){const t=Fi(n.firestore,Ho),i=ys(n),s=b1(n.converter,e);return qp(t,[g1(Bp(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Ri.exists(!1))]).then(()=>i)}function qp(n,e){return function(i,s){const r=new ur;return i.asyncQueue.enqueueAndForget(async()=>hH(await wH(i),s,r)),r.promise}(Hb(n),e)}function FH(n,e,t){const i=t.docs.get(e._key),s=new S1(n);return new E1(n,s,e._key,i,new Yu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){bc=s})(vc),ws(new zi("firestore",(i,{instanceIdentifier:s,options:r})=>{const l=i.getProvider("app").getImmediate(),c=new Ho(new Pz(i.getProvider("auth-internal")),new Vz(l,i.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new me(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ah(d.options.projectId,g)}(l,s),l);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),xi(WA,$A,e),xi(WA,$A,"esm2017")})();const qH={apiKey:"AIzaSyDPgMa2cQIJJHAD5loZZrQOrn8oGyCtuXQ",authDomain:"getfit-79396.firebaseapp.com",projectId:"getfit-79396",storageBucket:"getfit-79396.appspot.com",messagingSenderId:"241827461493",appId:"1:241827461493:web:704bb4a0c2d368043ebb3c",measurementId:"G-J44KNXJ2BP"},Zb=jC(qH);Dz(Zb);const Nt=uU(Zb),At=RH(Zb);new ir;const GH=()=>{Da();const[n,e]=z.useState(!1),[t,i]=z.useState(null),s=()=>e(!n);z.useEffect(()=>hD(Nt,h=>{i(h)}),[]);const r=()=>{e(!1)},l=c=>t?t.emailVerified?w.jsxs(w.Fragment,{children:[w.jsx(yt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Domov"}),w.jsx(yt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Vyhľadávanie"}),w.jsx(yt,{to:"/profil",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Profil"}),w.jsx(yt,{to:"/dashboard",className:"pr-7 text-[#616161] cursor-pointer hover:underline",onClick:c,children:"Dashboard"}),w.jsx(yt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Odhlásiť sa"})]}):w.jsxs(w.Fragment,{children:[w.jsx(yt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Domov"}),w.jsx(yt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Vyhľadávanie"}),w.jsx(yt,{to:"/verify-email",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Over si email"}),w.jsx(yt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Odhlásiť sa"})]}):w.jsxs(w.Fragment,{children:[w.jsx(yt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Domov"}),w.jsx(yt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Vyhľadávanie"}),w.jsx(yt,{to:"/login",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Prihlásiť sa"}),w.jsx(yt,{to:"/register",className:"pr-7 text-[#616161] hover:underline",onClick:c,children:"Registrácia"})]});return w.jsxs("nav",{className:"bg-white shadow-md fixed top-0 left-0 w-full py-4 px-10 flex justify-between items-center z-50",children:[w.jsx("span",{className:"text-2xl font-bold text-green-700",children:"GetFit"}),w.jsx("div",{className:"hidden md:flex space-x-6 text-gray-700 font-bold",children:l()}),w.jsx("div",{className:"md:hidden",children:w.jsx("button",{onClick:s,children:n?w.jsx(hP,{size:24}):w.jsx(uP,{size:24})})}),w.jsx("div",{className:`
          absolute top-full left-0 w-full bg-white shadow-md flex flex-col items-center py-4 space-y-4 
          md:hidden transition-all duration-300 overflow-hidden
          ${n?"max-h-96 opacity-100":"max-h-0 opacity-0"}
        `,children:l(r)})]})},WH=()=>w.jsxs("header",{className:"w-full text-center py-20 bg-gradient-to-r from-green-300 to-green-500 text-white",children:[w.jsx("h1",{className:"text-5xl font-bold",children:"Zdravý život je jednoduchý"}),w.jsx("p",{className:"text-lg mt-4",children:"Nájdite tie najlepšie jedlá, ktoré zodpovedajú vášmu životnému štýlu"}),w.jsx("button",{className:"mt-6 px-6 py-3 bg-white text-green-600 rounded-lg shadow-lg hover:shadow-xl transition",children:"Sign Up"})]}),$H=({query:n,setQuery:e,handleSearch:t,disabled:i})=>w.jsxs("section",{className:"max-w-5xl mx-auto py-16 px-6",children:[w.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"Prečo si vybrať našu platformu?"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[w.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Sledujte svoju výživu"}),w.jsx("p",{className:"text-gray-700 mt-3",children:"Ľahko zaznamenávajte svoje jedlá a sledujte makrá bez problémov."})]}),w.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[w.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Personalizované stravovacie plány"}),w.jsx("p",{className:"text-gray-700 mt-3",children:"Upravte svoj jedálniček na základe vašich fitness cieľov."})]})]}),w.jsxs("div",{className:"mt-12 text-center",children:[w.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Vyhľadajte informácie o výžive"}),w.jsxs("div",{className:"flex justify-center gap-4",children:[w.jsx("input",{type:"text",placeholder:"Zadajte názov jedla...",value:n,onChange:s=>e(s.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500"}),w.jsx("button",{onClick:t,disabled:i,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition disabled:bg-green-950",children:"Hľadať"})]})]})]}),A1=()=>w.jsxs("div",{role:"status",children:[w.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-indigo-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),w.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),w.jsx("span",{className:"sr-only",children:"Loading..."})]}),YH=({results:n=[],query:e,setQuery:t,handleSearch:i,searchTerm:s,error:r,isLoading:l})=>l?w.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:w.jsx(A1,{})}):w.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12",children:w.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[r&&w.jsxs("p",{className:"text-red-600 text-center mb-4",children:["Chyba pri načítaní dát: ",r.message]}),w.jsxs("h2",{className:"text-3xl font-semibold text-green-700 text-center mb-6 mt-6",children:["Výsledky pre: ",w.jsx("em",{className:"font-normal text-green-600",children:s})]}),w.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[w.jsx("input",{type:"text",placeholder:"Zadaj iné jedlo...",value:e,onChange:c=>t(c.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:ring-2 focus:ring-green-500"}),w.jsx("button",{onClick:i,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition",children:"Hľadať"})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map((c,h)=>{var A;const{food_name:d,nutrition:g}=c,y=((A=g==null?void 0:g.photo)==null?void 0:A.thumb)||"https://via.placeholder.com/300x150",_=(g==null?void 0:g.nf_calories)??0,b=(g==null?void 0:g.nf_total_fat)??0,S=(g==null?void 0:g.nf_protein)??0,x=(g==null?void 0:g.nf_total_carbohydrate)??0;return w.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition p-5",children:[w.jsx("img",{src:y,alt:d,className:"w-full h-40 object-cover rounded-md"}),w.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-3",children:d}),(g==null?void 0:g.servingSize)&&w.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Nutričné hodnoty pre: ",w.jsx("strong",{children:g.servingSize})]}),w.jsxs("div",{className:"text-gray-600 text-sm leading-relaxed mt-2",children:[w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Kalórie:"})," ",_," kcal"]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Tuky:"})," ",b," g"]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Bielkoviny:"})," ",S," g"]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Sacharidy:"})," ",x," g"]})]})]},h)}):w.jsx("p",{className:"col-span-full text-center text-gray-600",children:"Žiadne výsledky na zobrazenie."})})]})}),QH=[{id:1,title:"Top 5 zdravých potravín na spaľovanie tukov",excerpt:"Tieto potraviny ti pomôžu zrýchliť metabolizmus a efektívne spaľovať tuk.",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:"Celý článok o zdravých potravinách..."},{id:2,title:"Ako správne kombinovať sacharidy, tuky a bielkoviny?",excerpt:"Vyvážená strava je kľúčom k zdraviu. Pozri si, ako kombinovať makroživiny.",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:"Celý článok o kombinovaní makroživín..."},{id:3,title:"Prečo je hydratácia kľúčová pri chudnutí?",excerpt:"Pitný režim hrá obrovskú úlohu pri tvojom metabolizme a spaľovaní tukov.",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:"Celý článok o hydratácii a jej výhodách..."}],KH=()=>{const n=Gi();return z.useEffect(()=>{if(n.state&&n.state.scrollTo){const e=document.getElementById(`blog-${n.state.scrollTo}`);e&&e.scrollIntoView({behavior:"smooth"})}},[n]),w.jsx("div",{children:w.jsxs("section",{className:"max-w-6xl mx-auto pb-16 px-6",children:[w.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-10",children:"Najnovšie tipy a rady"}),w.jsx("div",{className:"grid gird-cols-1 md:grid-cols-3 gap-8",children:QH.map(e=>w.jsxs("div",{id:`blog-${e.id}`,className:"bg-white shadow-lg rounded-lg overflow-hidden hover:shadow-xl transition",children:[w.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),w.jsxs("div",{className:"p-6",children:[w.jsx("h3",{className:"text-2xl font-bold text-green-600",children:e.title}),w.jsx("p",{className:"text-gray-700 mt-3",children:e.excerpt}),w.jsx(yt,{to:`/blog/${e.id}`,className:"inline-block mt-4 text-green-700 font-semibold hover:underline",children:"Čítať viac →"})]})]},e.id))})]})})},XH=[{id:1,title:"Top 5 zdravých potravín na spaľovanie tukov",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Spaľovanie tukov nie je len o cvičení, ale aj o správnej výžive. Medzi najlepšie potraviny, ktoré ti pomôžu spaľovať tuky patria:"}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Avokádo"})," – obsahuje zdravé tuky, ktoré podporujú metabolizmus."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Losos"})," – bohatý na omega-3 mastné kyseliny, ktoré pomáhajú regulovať hladinu cukru v krvi."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Zelený čaj"})," – zrýchľuje spaľovanie kalórií a podporuje trávenie."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Chilli papričky"})," – obsahujú kapsaicín, ktorý podporuje spaľovanie tukov."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Orechy"})," – skvelý zdroj bielkovín a zdravých tukov."]})]}),w.jsxs("p",{className:"mt-6",children:[w.jsx("span",{className:"font-semibold text-green-600",children:"Záver:"})," Pravidelné konzumovanie týchto potravín v kombinácii s fyzickou aktivitou môže výrazne pomôcť pri spaľovaní tukov a udržiavaní zdravej hmotnosti."]})]})},{id:2,title:"Ako správne kombinovať sacharidy, tuky a bielkoviny?",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Vyvážená strava je základ zdravého životného štýlu. Dôležité je pochopiť, ako správne kombinovať makroživiny:"}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Sacharidy"})," – hlavný zdroj energie. Ideálne sú celozrnné potraviny, ovocie a zelenina."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Tuky"})," – esenciálne pre správne fungovanie organizmu. Uprednostni zdravé tuky ako olivový olej, orechy a avokádo."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Bielkoviny"})," – dôležité pre svalovú regeneráciu. Kvalitné zdroje sú kuracie mäso, ryby, tofu a strukoviny."]})]}),w.jsxs("p",{className:"mt-6",children:[w.jsx("span",{className:"font-semibold text-green-600",children:"Tip:"})," Správne jedlo by malo obsahovať vyvážený pomer všetkých troch makroživín. Napríklad:"]}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Raňajky:"})," Ovsená kaša s mandľami a banánom."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Obed:"})," Grilované kuracie mäso s quinoou a avokádovým šalátom."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Večera:"})," Pečený losos s dusenou zeleninou."]})]})]})},{id:3,title:"Prečo je hydratácia kľúčová pri chudnutí?",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Voda hrá zásadnú úlohu pri metabolizme a chudnutí. Je dôležité dodržiavať správny pitný režim:"}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsx("li",{children:"Pomáha tráveniu a detoxikácii organizmu."}),w.jsx("li",{children:"Podporuje spaľovanie tukov."}),w.jsx("li",{children:"Znižuje pocit hladu – často si zamieňame smäd za hlad."})]}),w.jsx("p",{className:"mt-6",children:w.jsx("span",{className:"font-semibold text-green-600",children:"Koľko vody by si mal/a piť?"})}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:["Minimálne ",w.jsx("strong",{children:"2-3 litre denne"}),"."]}),w.jsxs("li",{children:["Počas cvičenia doplň aspoň ",w.jsx("strong",{children:"0,5 L vody"})," na hodinu."]}),w.jsx("li",{children:"Ráno začni pohárom vody s citrónom pre lepší metabolizmus."})]})]})}],ZH=()=>{const{id:n}=a2(),e=XH.find(t=>t.id===parseInt(n));return e?w.jsx("div",{children:w.jsxs("section",{className:"max-w-4xl mx-auto py-16 mt-8 px-6",children:[w.jsx("img",{src:e.image,alt:e.title,className:"w-full h-80 object-cover rounded-lg mb-6"}),w.jsx("h1",{className:"text-4xl font-bold text-green-700",children:e.title}),w.jsx("div",{className:"text-gray-700 mt-6 leading-fixed",children:e.content}),w.jsx(yt,{to:"/",state:{scrollTo:e.id},className:"inline-block mt-6 text-green-700 font-semibold hover:underline",children:" ← Späť na blog"})]})}):w.jsx("p",{className:"text-center text-red-600 text-xl mt-10",children:"Článok neexistuje!"})},JH=()=>{const[n,e]=z.useState(""),[t,i]=z.useState(""),[s,r]=z.useState(""),[l,c]=z.useState("male"),[h,d]=z.useState(1.2),[g,y]=z.useState("maintain"),[_,b]=z.useState(null),S=x=>{if(x.preventDefault(),!n||!t||!s){alert("Prosím, vyplň všetky polia.");return}let A;l==="male"?A=88.36+13.4*parseFloat(n)+4.8*parseFloat(t)-5.7*parseFloat(s):A=447.6+9.2*parseFloat(n)+3.1*parseFloat(t)-4.3*parseFloat(s);let I=A*parseFloat(h);g==="lose"?I-=500:g==="gain"&&(I+=500),b(Math.round(I))};return w.jsxs("section",{className:"max-w-4xl mx-auto py-16 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"BMR kalkulačka"}),w.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 sm:grid-cols-2 gap-6 bg-gray-50 p-6 rounded-lg shadow-md",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Váha (kg)"}),w.jsx("input",{type:"number",value:n,onChange:x=>e(x.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte váhu"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Výška (cm)"}),w.jsx("input",{type:"number",value:t,onChange:x=>i(x.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte výšku"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Vek"}),w.jsx("input",{type:"number",value:s,onChange:x=>r(x.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte vek"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Pohlavie"}),w.jsxs("select",{value:l,onChange:x=>c(x.target.value),className:" focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[w.jsx("option",{value:"male",children:"Muž"}),w.jsx("option",{value:"female",children:"Žena"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Úroveň aktivity"}),w.jsxs("select",{value:h,onChange:x=>d(x.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[w.jsx("option",{value:"1.2",children:"Sedavý životný štýl"}),w.jsx("option",{value:"1.375",children:"Ľahká aktivita (1-3x týždenne cvičenie)"}),w.jsx("option",{value:"1.55",children:"Stredná aktivita (3-5x týždenne cvičenie)"}),w.jsx("option",{value:"1.725",children:"Vysoká aktivita (6-7x týždenne cvičenie)"}),w.jsx("option",{value:"1.9",children:"Extrémna aktivita (ťažká fyzická práca + tréning)"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Cieľ"}),w.jsxs("select",{value:g,onChange:x=>y(x.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[w.jsx("option",{value:"lose",children:"Schudnúť"}),w.jsx("option",{value:"maintain",children:"Udržať váhu"}),w.jsx("option",{value:"gain",children:"Nabrať svaly"})]})]}),w.jsx("div",{className:"col-span-1 sm:col-span-2 flex justify-center",children:w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition text-lg font-semibold shadow-md w-full sm:w-1/2",children:"Vypočítať kalórie"})})]}),_!==null&&w.jsxs("div",{className:"mt-8 p-6 bg-green-100 text-center rounded-lg shadow-md",children:[w.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Odporúčaný denný kalorický príjem:"}),w.jsxs("p",{className:"text-4xl font-bold text-green-700 mt-2",children:[_," kcal"]})]})]})},e6=()=>{const[n,e]=z.useState(1),[t,i]=z.useState(!1),[s,r]=z.useState(""),[l,c]=z.useState(""),[h,d]=z.useState(""),[g,y]=z.useState(""),[_,b]=z.useState(!1),[S,x]=z.useState(null),[A,I]=z.useState(""),[O,j]=z.useState(""),[B,q]=z.useState(""),[K,M]=z.useState("male"),[C,D]=z.useState("1.2"),[P,V]=z.useState("maintain"),[H,L]=z.useState(null),[De,_e]=z.useState(!1),[re,de]=z.useState(!1),[fe,be]=z.useState(null),[F,oe]=z.useState(null),[ge,he]=z.useState(null),[ue,Re]=z.useState(null),[Ae,Qe]=z.useState(null),qe=Da();if(t)return w.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:w.jsx(A1,{})});const ft=()=>{const xe=Number(O),En=Number(B),ct=Number(A);let gt;K==="male"?gt=88.36+13.4*xe+4.8*En-5.7*ct:gt=447.6+9.2*xe+3.1*En-4.3*ct;let dn=gt*Number(C);P==="lose"?dn-=500:P==="gain"&&(dn+=500),dn=Math.round(dn),be(dn);const Yi=Math.round(.3*dn/4),Qi=Math.round(.25*dn/9),Rs=Math.round(.45*dn/4);oe(Yi),he(Qi),Re(Rs),de(!0)},et=async()=>{const xe=s.trim().toLowerCase();if(!xe||!xe.includes("@"))return Qe("Prosím, zadaj platný email."),!1;if(l.length<8)return Qe("Heslo musí mať aspoň 8 znakov."),!1;if(!/[A-Z]/.test(l))return Qe("Heslo musí obsahovať aspoň 1 veľké písmeno (A-Z)."),!1;if(!/\d/.test(l))return Qe("Heslo musí obsahovať aspoň 1 číslicu."),!1;if(l!==h)return Qe("Heslá sa nezhodujú."),!1;if(!_)return Qe("Musíš súhlasiť s podmienkami používania a ochranou osobných údajov."),!1;const En=async ct=>{const gt=hr(Gn(At,"users"),dr("email","==",ct));return!(await fr(gt)).empty};try{if((await $L(Nt,xe)).length>0||await En(xe))return Qe("Tento email už existuje."),!1}catch(ct){return console.error("Chyba pri overovaní emailu:",ct),Qe("Nastala chyba pri overovaní emailu."),!1}return Qe(null),!0},hn=async()=>{await et()&&e(2)},Ni=async xe=>{xe.preventDefault(),i(!0);const En=s.trim().toLowerCase();if(ft(),!fe||!F||!ge||!ue){let ct;K==="male"?ct=88.36+13.4*Number(O)+4.8*Number(B)-5.7*Number(A):ct=447.6+9.2*Number(O)+3.1*Number(B)-4.3*Number(A);let gt=ct*Number(C);P==="lose"?gt-=500:P==="gain"&&(gt+=500),gt=Math.round(gt);const dn=Math.round(.3*gt/4),Yi=Math.round(.25*gt/9),Qi=Math.round(.45*gt/4);be(gt),oe(dn),he(Yi),Re(Qi),de(!0)}try{const ct=await qL(Nt,En,l);await KL(ct.user,{displayName:g}),await YL(ct.user),await HH(ys(At,"users",ct.user.uid),{name:g,email:En,agreedToTerms:!0,age:Number(A),weight:Number(O),height:Number(B),gender:K,activity:Number(C),goal:P,dailyCalories:fe,proteinGrams:F,fatGrams:ge,carbsGrams:ue}),i(!1),qe("/verify-email")}catch(ct){Qe("Chyba pri registrácii: "+ct.message)}};return w.jsxs("section",{className:"max-w-md mt-30 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Registrácia"}),Ae&&w.jsx("p",{className:"text-red-600 text-center mt-2",children:Ae}),w.jsxs("form",{onSubmit:Ni,className:"mt-4",children:[n===1&&w.jsxs(w.Fragment,{children:[w.jsx("label",{className:"block mt-2",children:"Meno"}),w.jsx("input",{type:"text",placeholder:"Meno",value:g,onChange:xe=>y(xe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Email"}),w.jsx("input",{type:"email",placeholder:"Email",value:s,onChange:xe=>r(xe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Heslo"}),w.jsx("input",{type:"password",placeholder:"Heslo",value:l,onChange:xe=>c(xe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Potvrdiť heslo"}),w.jsx("input",{type:"password",placeholder:"Potvrdiť heslo",value:h,onChange:xe=>d(xe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsxs("div",{className:"mt-6 flex items-start",children:[w.jsx("input",{type:"checkbox",checked:_,onChange:()=>b(!_),className:"mr-2 ml-2 mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),w.jsxs("label",{className:"text-gray-600 mr-5",children:["Súhlasím s ",w.jsx(yt,{to:"/terms",className:"text-blue-600 underline",children:"podmienkami používania"})," a ",w.jsx(yt,{to:"/privacy",className:"text-blue-600 underline",children:"ochranou osobných údajov"}),"."]})]}),w.jsx("button",{type:"button",onClick:hn,className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Ďalej"})]}),n===2&&w.jsxs(w.Fragment,{children:[w.jsx("label",{className:"block mt-2",children:"Vek"}),w.jsx("input",{type:"number",placeholder:"Vek",value:A,onChange:xe=>I(xe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Váha (kg)"}),w.jsx("input",{type:"number",placeholder:"Váha (kg)",value:O,onChange:xe=>j(xe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Výška (cm)"}),w.jsx("input",{type:"number",placeholder:"Výška (cm)",value:B,onChange:xe=>q(xe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Pohlavie"}),w.jsxs("select",{value:K,onChange:xe=>M(xe.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[w.jsx("option",{value:"male",children:"Muž"}),w.jsx("option",{value:"female",children:"Žena"})]}),w.jsx("button",{type:"button",onClick:()=>e(3),className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Ďalej"})]}),n===3&&w.jsxs(w.Fragment,{children:[w.jsx("label",{className:"block mt-2",children:"Cieľ"}),w.jsxs("select",{value:P,onChange:xe=>V(xe.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[w.jsx("option",{value:"lose",children:"Schudnúť"}),w.jsx("option",{value:"maintain",children:"Udržať váhu"}),w.jsx("option",{value:"gain",children:"Nabrať svaly"})]}),w.jsx("label",{className:"block mt-2",children:"Úroveň aktivity"}),w.jsxs("select",{value:C,onChange:xe=>D(xe.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[w.jsx("option",{value:"1.2",children:"Sedavý životný štýl"}),w.jsx("option",{value:"1.375",children:"Ľahká aktivita (1-3x/týž)"}),w.jsx("option",{value:"1.55",children:"Stredná aktivita (3-5x/týž)"}),w.jsx("option",{value:"1.725",children:"Vysoká aktivita (6-7x/týž)"}),w.jsx("option",{value:"1.9",children:"Extrémna aktivita"})]}),w.jsx("label",{className:"block mt-2 font-semibold",children:"BMR / Kalórie"}),De?w.jsx("input",{type:"number",value:fe||"",onChange:xe=>be(Number(xe.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):w.jsxs("p",{className:"mt-2 font-semibold text-center",children:[fe," kcal"]}),w.jsx("label",{className:"block mt-2 font-semibold",children:"Proteíny (g)"}),De?w.jsx("input",{type:"number",value:F||"",onChange:xe=>oe(Number(xe.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):w.jsxs("p",{className:"mt-2 font-semibold text-center",children:[F," g"]}),w.jsx("label",{className:"block mt-2 font-semibold",children:"Tuky (g)"}),De?w.jsx("input",{type:"number",value:ge||"",onChange:xe=>he(Number(xe.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):w.jsxs("p",{className:"mt-2 font-semibold text-center",children:[ge," g"]}),w.jsx("label",{className:"block mt-2 font-semibold",children:"Sacharidy (g)"}),De?w.jsx("input",{type:"number",value:ue||"",onChange:xe=>Re(Number(xe.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):w.jsxs("p",{className:"mt-2 font-semibold text-center",children:[ue," g"]}),w.jsxs("div",{className:"flex justify-between mt-4",children:[w.jsx("button",{type:"button",onClick:ft,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Vypočítať BMR a makrá"}),re&&w.jsx("button",{type:"button",onClick:()=>_e(!De),className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600",children:De?"Uložiť":"Upraviť"})]}),w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Registrovať sa"})]})]})]})},t6=()=>{const n=Da(),e=async()=>{Nt.currentUser&&(await Nt.currentUser.reload(),Nt.currentUser.emailVerified?n("/dashboard"):alert("Email ešte nie je overený. Skontroluj schránku a skús znovu."))};return w.jsxs("section",{className:"pt-20 mt-30 max-w-md mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Overenie emailu"}),w.jsx("p",{className:"mt-4 text-center",children:"Na tvoj email bol odoslaný overovací odkaz. Prosím otvor si email, klikni na overovací link a potom sa vráť sem."}),w.jsx("button",{onClick:e,className:"bg-green-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-green-700",children:"Skontrolovať, či som email potvrdil"})]})},n6=()=>w.jsx("aside",{className:"w-full lg:w-1/5 bg-gray-100 p-4 rounded-lg shadow-md",children:w.jsxs("nav",{className:"flex flex-col space-y-4",children:[w.jsx(yt,{to:"/dashboard/calendar",className:"text-green-700 font-bold hover:underline",children:"Kalendár"}),w.jsx(yt,{to:"/dashboard/my-foods",className:"text-green-700 font-bold hover:underline",children:"Moje jedlá"}),w.jsx(yt,{to:"/dashboard/statistics",className:"text-green-700 font-bold hover:underline",children:"Štatistiky"}),w.jsx(yt,{to:"/dashboard/my-activites",className:"text-green-700 font-bold hover:underline",children:"Moje Aktivity"})]})}),i6=({onAddActivity:n})=>{const[e,t]=z.useState(""),[i,s]=z.useState(""),[r,l]=z.useState(""),[c,h]=z.useState(""),d=g=>{if(g.preventDefault(),!e.trim())return;const y={activityName:e,duration:Number(i),burnedCalories:Number(r),description:c,createdAt:new Date};n&&n(y),t(""),s(""),l(""),h("")};return w.jsxs("form",{onSubmit:d,className:"p-4 bg-white rounded-lg shadow-md mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-green-700 mb-4",children:"Pridať novú aktivitu"}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block text-gray-700",children:"Názov aktivity:"}),w.jsx("input",{type:"text",value:e,onChange:g=>t(g.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Zadaj názov aktivity (napr. beh, plávanie)"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Dĺžka (min):"}),w.jsx("input",{type:"number",value:i,onChange:g=>s(g.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"napr. 30"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Spálené kalórie:"}),w.jsx("input",{type:"number",value:r,onChange:g=>l(g.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"napr. 200"})]})]}),w.jsxs("div",{className:"mt-4",children:[w.jsx("label",{className:"block text-gray-700",children:"Popis (nepovinné):"}),w.jsx("textarea",{value:c,onChange:g=>h(g.target.value),className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Krátky opis, napr. intenzita behu, miesto atď."})]}),w.jsx("button",{type:"submit",className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať aktivitu"})]})},s6=()=>{const{handleEditActivity:n,handleAddActivity:e,savedActivities:t,handleDeleteActivity:i,handleAddEventToCalendar:s}=Bh(),[r,l]=z.useState(null),[c,h]=z.useState({activityName:"",duration:"",burnedCalories:"",description:""}),d=_=>{l(_.id),h({activityName:_.activityName,duration:_.duration,burnedCalories:_.burnedCalories,description:_.description||""})},g=()=>{l(null),h({activityName:"",duration:"",burnedCalories:"",description:""})},y=()=>{if(!r)return;const _={...c,duration:Number(c.duration),burnedCalories:Number(c.burnedCalories)};n(r,_),g()};return w.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[w.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Moje aktivity"}),w.jsx(i6,{onAddActivity:e}),w.jsx("div",{className:"mt-6",children:t&&t.length>0?w.jsx("ul",{className:"space-y-4",children:t.map(_=>w.jsx("li",{className:"p-4 bg-white rounded-lg shadow border-l-4 border-green-500 flex justify-between items-start",children:r===_.id?w.jsxs("div",{className:"flex-1",children:[w.jsx("input",{type:"text",value:c.activityName,onChange:b=>h({...c,activityName:b.target.value}),className:"border border-gray-300 rounded px-3 py-2 w-full mb-2",placeholder:"Názov aktivity"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[w.jsx("input",{type:"number",value:c.duration,onChange:b=>h({...c,duration:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Dĺžka (min)"}),w.jsx("input",{type:"number",value:c.burnedCalories,onChange:b=>h({...c,burnedCalories:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Spálené kalórie"})]}),w.jsx("textarea",{value:c.description,onChange:b=>h({...c,description:b.target.value}),className:"border border-gray-300 rounded px-3 py-2 w-full",placeholder:"Popis"}),w.jsxs("div",{className:"mt-2 flex space-x-2",children:[w.jsx("button",{onClick:y,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Uložiť"}),w.jsx("button",{onClick:g,className:"bg-gray-500 text-white px-3 py-1 rounded hover:bg-gray-600",children:"Zrušiť"})]})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-800",children:_.activityName}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Dĺžka: ",_.duration," min"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Spálené kalórie: ",_.burnedCalories," kcal"]}),_.description&&w.jsxs("p",{className:"text-sm text-gray-700",children:["Popis: ",_.description]})]}),w.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[w.jsx("button",{onClick:()=>i(_.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Zmazať"}),w.jsx("button",{onClick:()=>d(_),className:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600",children:"Upraviť"})]})]})},_.id))}):w.jsx("p",{className:"text-gray-500 text-center",children:"Zatiaľ ste nepridali žiadne aktivity."})})]})},qT=()=>{const[n,e]=z.useState([]),[t,i]=z.useState(null);z.useEffect(()=>{(async()=>{const b=Nt.currentUser;if(b)try{const S=ys(At,"users",b.uid),x=await w1(S);x.exists()&&i(x.data())}catch(S){console.error("Chyba pri načítaní nutričných údajov:",S)}})()},[]);const s=async _=>{try{const b=ys(At,"foods",_);await Qg(b),e(S=>S.filter(x=>x.id!==_))}catch(b){console.error("Chyba pri mazaní jedla z Firestore:",b)}},r=async(_,b)=>{try{const S=ys(At,"foods",_);await FT(S,b),e(x=>x.map(A=>A.id===_?{...A,...b}:A))}catch(S){console.error("Chyba pri úprave jedla vo Firestore:",S)}},l=async _=>{try{const b=Nt.currentUser;if(!b){console.error("Používateľ nie je prihlásený");return}const S={..._,userId:b.uid,userName:b.displayName,createdAt:new Date},x=await oh(Gn(At,"foods"),S);console.log("Jedlo pridané s ID:",x.id),e(A=>[...A,{id:x.id,...S}])}catch(b){console.error("Chyba pri pridávaní jedla:",b)}};z.useEffect(()=>{(async()=>{try{const b=Nt.currentUser;if(!b)return;const S=hr(Gn(At,"foods"),dr("userId","==",b.uid)),A=(await fr(S)).docs.map(I=>({id:I.id,...I.data()}));e(A)}catch(b){console.error("Chyba pri načítaní jedál:",b)}})()},[]);const[c,h]=z.useState([]),d=async _=>{try{const b=Nt.currentUser;if(!b)return;const S={..._,userId:b.uid,userName:b.displayName},x=await oh(Gn(At,"activities"),S);h(A=>[...A,{id:x.id,..._}])}catch(b){console.error("Chyba pri načítaní aktivít:",b)}};z.useEffect(()=>{(async()=>{try{const b=Nt.currentUser;if(!b)return;const S=hr(Gn(At,"activities"),dr("userId","==",b.uid)),A=(await fr(S)).docs.map(I=>({id:I.id,...I.data()}));h(A)}catch{console.error("Vyskytla sa chyba")}})()},[]);const g=async _=>{try{const b=ys(At,"activities",_);await Qg(b),h(S=>S.filter(x=>x.id!==_))}catch{console.error("Vyskytla sa chyba")}},y=async(_,b)=>{try{const S=ys(At,"activities",_);await FT(S,b),h(x=>x.map(A=>A.id===_?{...A,...b}:A))}catch{console.error("Vyskytla sa chyba")}};return w.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4 mt-20",children:[w.jsx(n6,{}),w.jsx("div",{className:"flex-1",children:w.jsx(E2,{context:{savedFoods:n,handleAddCustomFood:l,handleDeleteFood:s,handleEditFood:r,nutritionGoal:t,handleEditActivity:y,handleAddActivity:d,savedActivities:c,handleDeleteActivity:g}})})]})},Ll=({children:n})=>{const[e,t]=z.useState(void 0),[i,s]=z.useState(!0);return z.useEffect(()=>{const r=hD(Nt,l=>{t(l),s(!1)});return()=>r()},[]),i?w.jsx("p",{children:"Načítavam..."}):!e||!e.emailVerified?w.jsx(b2,{to:"/login"}):n},r6=()=>{const n=Da(),e=async()=>{try{await JL(Nt),n("/")}catch(t){console.error("Chyba pri odhlasovaní:",t)}};return w.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg text-center",children:[w.jsx("h2",{className:"text-3xl font-semibold text-green-700",children:"Odhlásenie"}),w.jsx("p",{className:"mt-4 text-gray-600",children:"Si si istý, že sa chceš odhlásiť?"}),w.jsx("button",{onClick:e,className:"bg-red-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-red-700 transition",children:"Odhlásiť sa"})]})},a6=()=>{const[n,e]=z.useState(""),[t,i]=z.useState(""),[s,r]=z.useState(""),l=Da(),c=async h=>{h.preventDefault();try{await GL(Nt,n,t),l("/dashboard")}catch(d){r("Chyba pri prihlasovaní: "+d.message)}};return w.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Prihlásenie"}),s&&w.jsx("p",{className:"text-red-600 text-center mt-2",children:s}),w.jsxs("form",{onSubmit:c,className:"mt-4",children:[w.jsx("label",{className:"block mt-2",children:"Email"}),w.jsx("input",{value:n,onChange:h=>e(h.target.value),type:"email",placeholder:"Email",className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Heslo"}),w.jsx("input",{value:t,onChange:h=>i(h.target.value),type:"password",placeholder:"Heslo",className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mb-3 mt-4 w-full rounded-lg hover:bg-green-700",children:"Prihlásiť sa"}),w.jsx(yt,{to:"/register",className:"text-blue-600 underline",children:"Nemáš ešte účet ? Vytvor si ho"})]})]})},o6=()=>w.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky používania"}),w.jsx("p",{className:"mt-4 text-gray-600",children:"Posledná aktualizácia: 21. február 2025"}),w.jsxs("p",{className:"mt-4",children:["Vitajte v našej aplikácii ",w.jsx("strong",{children:"[Your App Name]"}),". Používaním tejto aplikácie súhlasíte s nasledujúcimi podmienkami."]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptácia podmienok"}),w.jsx("p",{className:"mt-2",children:"Používaním našich služieb vyjadrujete súhlas s týmito podmienkami. Ak s nimi nesúhlasíte, nesmiete aplikáciu používať."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie účtu"}),w.jsx("p",{className:"mt-2",children:"Pri registrácii musíte poskytnúť pravdivé a aktuálne informácie. Ste zodpovedný za bezpečnosť vášho účtu."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakázané aktivity"}),w.jsxs("p",{className:"mt-2",children:["Používateľ nesmie:",w.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[w.jsx("li",{children:"Porušovať platné zákony alebo práva tretích strán."}),w.jsx("li",{children:"Vytvárať falošné účty alebo sa vydávať za iných."}),w.jsx("li",{children:"Zasahovať do bezpečnosti aplikácie."})]})]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zrušenie účtu"}),w.jsx("p",{className:"mt-2",children:"Môžeme zablokovať alebo odstrániť váš účet v prípade porušenia podmienok alebo neaktivity."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednosť a obmedzenie"}),w.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednosť za akékoľvek priame alebo nepriame škody spôsobené používaním tejto aplikácie."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),w.jsx("p",{className:"mt-2",children:"Vyhradzujeme si právo kedykoľvek upraviť tieto podmienky. Pokračovanie v používaní aplikácie znamená súhlas so zmenami."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),w.jsxs("p",{className:"mt-2",children:["Ak máte otázky týkajúce sa týchto podmienok, kontaktujte nás na ",w.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),l6=()=>w.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky používania"}),w.jsx("p",{className:"mt-4 text-gray-600",children:"Posledná aktualizácia: 21. február 2025"}),w.jsxs("p",{className:"mt-4",children:["Vitajte v našej aplikácii ",w.jsx("strong",{children:"[Your App Name]"}),". Používaním tejto aplikácie súhlasíte s nasledujúcimi podmienkami."]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptácia podmienok"}),w.jsx("p",{className:"mt-2",children:"Používaním našich služieb vyjadrujete súhlas s týmito podmienkami. Ak s nimi nesúhlasíte, nesmiete aplikáciu používať."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie účtu"}),w.jsx("p",{className:"mt-2",children:"Pri registrácii musíte poskytnúť pravdivé a aktuálne informácie. Ste zodpovedný za bezpečnosť vášho účtu."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakázané aktivity"}),w.jsxs("p",{className:"mt-2",children:["Používateľ nesmie:",w.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[w.jsx("li",{children:"Porušovať platné zákony alebo práva tretích strán."}),w.jsx("li",{children:"Vytvárať falošné účty alebo sa vydávať za iných."}),w.jsx("li",{children:"Zasahovať do bezpečnosti aplikácie."})]})]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zrušenie účtu"}),w.jsx("p",{className:"mt-2",children:"Môžeme zablokovať alebo odstrániť váš účet v prípade porušenia podmienok alebo neaktivity."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednosť a obmedzenie"}),w.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednosť za akékoľvek priame alebo nepriame škody spôsobené používaním tejto aplikácie."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),w.jsx("p",{className:"mt-2",children:"Vyhradzujeme si právo kedykoľvek upraviť tieto podmienky. Pokračovanie v používaní aplikácie znamená súhlas so zmenami."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),w.jsxs("p",{className:"mt-2",children:["Ak máte otázky týkajúce sa týchto podmienok, kontaktujte nás na ",w.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),c6=({onAddCustomFood:n})=>{const[e,t]=z.useState(""),[i,s]=z.useState(""),[r,l]=z.useState(""),[c,h]=z.useState(""),[d,g]=z.useState(""),[y,_]=z.useState(""),[b,S]=z.useState(""),x=A=>{if(A.preventDefault(),!e.trim())return;const I={foodName:e,kcal:Number(i),protein:Number(r),fat:Number(c),carbs:Number(d),fiber:Number(y)};n(I),t(""),s(""),l(""),h(""),g(""),_("")};return w.jsxs("form",{onSubmit:x,className:"p-4 bg-white rounded-lg shadow-md mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-green-700 mb-4",children:"Pridať vlastné jedlo"}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block text-gray-700",children:"Názov jedla:"}),w.jsx("input",{type:"text",value:e,onChange:A=>t(A.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Názov jedla"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Kalórie:"}),w.jsx("input",{type:"number",value:i,onChange:A=>s(A.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"kcal"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Bielkoviny (g):"}),w.jsx("input",{type:"number",value:r,onChange:A=>l(A.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"bielkoviny"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Tuky (g):"}),w.jsx("input",{type:"number",value:c,onChange:A=>h(A.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"tuky"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Sacharidy (g):"}),w.jsx("input",{type:"number",value:d,onChange:A=>g(A.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"sacharidy"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 mt-2",children:"Vláknina (g):"}),w.jsx("input",{type:"number",value:y,onChange:A=>_(A.target.value),required:!0,className:"w-1/2 mx-auto border border-gray-300 rounded px-3 py-2",placeholder:"vláknina"})]}),w.jsx("button",{type:"submit",className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať jedlo"})]})},u6=()=>{const{savedFoods:n,handleAddCustomFood:e,handleDeleteFood:t,handleEditFood:i}=Bh(),[s,r]=z.useState(null),[l,c]=z.useState({foodName:"",kcal:"",protein:"",fat:"",carbs:"",fiber:""}),h=y=>{r(y.id),c({foodName:y.foodName,kcal:y.kcal,protein:y.protein,fat:y.fat,carbs:y.carbs,fiber:y.fiber})},d=()=>{r(null),c({foodName:"",kcal:"",protein:"",fat:"",carbs:"",fiber:""})},g=()=>{i(s,{foodName:l.foodName,kcal:Number(l.kcal),protein:Number(l.protein),fat:Number(l.fat),carbs:Number(l.carbs),fiber:Number(l.fiber)}),d()};return w.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[w.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Moje jedlá"}),w.jsx(c6,{onAddCustomFood:e}),w.jsx("div",{className:"mt-6",children:n.length>0?w.jsx("ul",{className:"space-y-4",children:n.map((y,_)=>w.jsx("li",{className:"p-4 bg-white rounded-lg shadow border-l-4 border-green-500 flex justify-between items-center",children:s===y.id?w.jsxs("div",{className:"flex-1",children:[w.jsx("input",{type:"text",value:l.foodName,onChange:b=>c({...l,foodName:b.target.value}),className:"border border-gray-300 rounded px-3 py-2 w-full mb-2",placeholder:"Názov jedla"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsx("input",{type:"number",value:l.kcal,onChange:b=>c({...l,kcal:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Kalórie"}),w.jsx("input",{type:"number",value:l.protein,onChange:b=>c({...l,protein:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Bielkoviny"}),w.jsx("input",{type:"number",value:l.fat,onChange:b=>c({...l,fat:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Tuky"}),w.jsx("input",{type:"number",value:l.carbs,onChange:b=>c({...l,carbs:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Sacharidy"}),w.jsx("input",{type:"number",value:l.fiber,onChange:b=>c({...l,fiber:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Vláknina"}),w.jsx("input",{type:"number",value:l.fluid,onChange:b=>c({...l,fluid:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Tekutiny"})]}),w.jsxs("div",{className:"mt-2 flex space-x-2",children:[w.jsx("button",{onClick:g,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Uložiť"}),w.jsx("button",{onClick:d,className:"bg-gray-500 text-white px-3 py-1 rounded hover:bg-gray-600",children:"Zrušiť"})]})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-800",children:y.foodName}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Kalórie: ",y.kcal," kcal"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Bielkoviny: ",y.protein," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Tuky: ",y.fat," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Sacharidy: ",y.carbs," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Vláknina: ",y.fiber," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Tekutiny: ",y.fluid," l"]})]}),w.jsxs("div",{className:"flex flex-col space-y-2",children:[w.jsx("button",{onClick:()=>t(y.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Zmazať"}),w.jsx("button",{onClick:()=>h(y),className:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600",children:"Upraviť"})]})]})},_))}):w.jsx("p",{className:"text-gray-500 text-center",children:"Zatiaľ ste nepridali žiadne jedlá."})})]})};var Gp,Te,T1,x1,uc,bo,GT,R1,C1,Kg={},D1=[],h6=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ca(n,e){for(var t in e)n[t]=e[t];return n}function I1(n){var e=n.parentNode;e&&e.removeChild(n)}function ee(n,e,t){var i,s,r,l={};for(r in e)r=="key"?i=e[r]:r=="ref"?s=e[r]:l[r]=e[r];if(arguments.length>2&&(l.children=arguments.length>3?Gp.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(r in n.defaultProps)l[r]===void 0&&(l[r]=n.defaultProps[r]);return mg(n,l,i,s,null)}function mg(n,e,t,i,s){var r={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++T1};return s==null&&Te.vnode!=null&&Te.vnode(r),r}function vr(){return{current:null}}function Vt(n){return n.children}function d6(n,e,t,i,s){var r;for(r in t)r==="children"||r==="key"||r in e||Xg(n,r,null,t[r],i);for(r in e)s&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||t[r]===e[r]||Xg(n,r,e[r],t[r],i)}function WT(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||h6.test(e)?t:t+"px"}function Xg(n,e,t,i,s){var r;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||WT(n.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||WT(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+r]=t,t?i||n.addEventListener(e,r?YT:$T,r):n.removeEventListener(e,r?YT:$T,r);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function $T(n){uc=!0;try{return this.l[n.type+!1](Te.event?Te.event(n):n)}finally{uc=!1}}function YT(n){uc=!0;try{return this.l[n.type+!0](Te.event?Te.event(n):n)}finally{uc=!1}}function ri(n,e){this.props=n,this.context=e}function Ch(n,e){if(e==null)return n.__?Ch(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Ch(n):null}function k1(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return k1(n)}}function f6(n){uc?setTimeout(n):R1(n)}function S_(n){(!n.__d&&(n.__d=!0)&&bo.push(n)&&!Zg.__r++||GT!==Te.debounceRendering)&&((GT=Te.debounceRendering)||f6)(Zg)}function Zg(){var n,e,t,i,s,r,l,c;for(bo.sort(function(h,d){return h.__v.__b-d.__v.__b});n=bo.shift();)n.__d&&(e=bo.length,i=void 0,s=void 0,l=(r=(t=n).__v).__e,(c=t.__P)&&(i=[],(s=ca({},r)).__v=r.__v+1,Jb(c,r,s,t.__n,c.ownerSVGElement!==void 0,r.__h!=null?[l]:null,i,l??Ch(r),r.__h),j1(i,r),r.__e!=l&&k1(r)),bo.length>e&&bo.sort(function(h,d){return h.__v.__b-d.__v.__b}));Zg.__r=0}function N1(n,e,t,i,s,r,l,c,h,d){var g,y,_,b,S,x,A,I=i&&i.__k||D1,O=I.length;for(t.__k=[],g=0;g<e.length;g++)if((b=t.__k[g]=(b=e[g])==null||typeof b=="boolean"?null:typeof b=="string"||typeof b=="number"||typeof b=="bigint"?mg(null,b,null,null,b):Array.isArray(b)?mg(Vt,{children:b},null,null,null):b.__b>0?mg(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)!=null){if(b.__=t,b.__b=t.__b+1,(_=I[g])===null||_&&b.key==_.key&&b.type===_.type)I[g]=void 0;else for(y=0;y<O;y++){if((_=I[y])&&b.key==_.key&&b.type===_.type){I[y]=void 0;break}_=null}Jb(n,b,_=_||Kg,s,r,l,c,h,d),S=b.__e,(y=b.ref)&&_.ref!=y&&(A||(A=[]),_.ref&&A.push(_.ref,null,b),A.push(y,b.__c||S,b)),S!=null?(x==null&&(x=S),typeof b.type=="function"&&b.__k===_.__k?b.__d=h=M1(b,h,n):h=O1(n,b,_,I,S,h),typeof t.type=="function"&&(t.__d=h)):h&&_.__e==h&&h.parentNode!=n&&(h=Ch(_))}for(t.__e=x,g=O;g--;)I[g]!=null&&(typeof t.type=="function"&&I[g].__e!=null&&I[g].__e==t.__d&&(t.__d=P1(i).nextSibling),V1(I[g],I[g]));if(A)for(g=0;g<A.length;g++)L1(A[g],A[++g],A[++g])}function M1(n,e,t){for(var i,s=n.__k,r=0;s&&r<s.length;r++)(i=s[r])&&(i.__=n,e=typeof i.type=="function"?M1(i,e,t):O1(t,i,i,s,i.__e,e));return e}function Jg(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){Jg(t,e)}):e.push(n)),e}function O1(n,e,t,i,s,r){var l,c,h;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(t==null||s!=r||s.parentNode==null)e:if(r==null||r.parentNode!==n)n.appendChild(s),l=null;else{for(c=r,h=0;(c=c.nextSibling)&&h<i.length;h+=1)if(c==s)break e;n.insertBefore(s,r),l=r}return l!==void 0?l:s.nextSibling}function P1(n){var e,t,i;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(i=P1(t)))return i}return null}function Jb(n,e,t,i,s,r,l,c,h){var d,g,y,_,b,S,x,A,I,O,j,B,q,K,M,C=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(h=t.__h,c=e.__e=t.__e,e.__h=null,r=[c]),(d=Te.__b)&&d(e);try{e:if(typeof C=="function"){if(A=e.props,I=(d=C.contextType)&&i[d.__c],O=d?I?I.props.value:d.__:i,t.__c?x=(g=e.__c=t.__c).__=g.__E:("prototype"in C&&C.prototype.render?e.__c=g=new C(A,O):(e.__c=g=new ri(A,O),g.constructor=C,g.render=p6),I&&I.sub(g),g.props=A,g.state||(g.state={}),g.context=O,g.__n=i,y=g.__d=!0,g.__h=[],g._sb=[]),g.__s==null&&(g.__s=g.state),C.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=ca({},g.__s)),ca(g.__s,C.getDerivedStateFromProps(A,g.__s))),_=g.props,b=g.state,g.__v=e,y)C.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(C.getDerivedStateFromProps==null&&A!==_&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(A,O),!g.__e&&g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(A,g.__s,O)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(g.props=A,g.state=g.__s,g.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(D){D&&(D.__=e)}),j=0;j<g._sb.length;j++)g.__h.push(g._sb[j]);g._sb=[],g.__h.length&&l.push(g);break e}g.componentWillUpdate!=null&&g.componentWillUpdate(A,g.__s,O),g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(_,b,S)})}if(g.context=O,g.props=A,g.__P=n,B=Te.__r,q=0,"prototype"in C&&C.prototype.render){for(g.state=g.__s,g.__d=!1,B&&B(e),d=g.render(g.props,g.state,g.context),K=0;K<g._sb.length;K++)g.__h.push(g._sb[K]);g._sb=[]}else do g.__d=!1,B&&B(e),d=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++q<25);g.state=g.__s,g.getChildContext!=null&&(i=ca(ca({},i),g.getChildContext())),y||g.getSnapshotBeforeUpdate==null||(S=g.getSnapshotBeforeUpdate(_,b)),M=d!=null&&d.type===Vt&&d.key==null?d.props.children:d,N1(n,Array.isArray(M)?M:[M],e,t,i,s,r,l,c,h),g.base=e.__e,e.__h=null,g.__h.length&&l.push(g),x&&(g.__E=g.__=null),g.__e=!1}else r==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=g6(t.__e,e,t,i,s,r,l,h);(d=Te.diffed)&&d(e)}catch(D){e.__v=null,(h||r!=null)&&(e.__e=c,e.__h=!!h,r[r.indexOf(c)]=null),Te.__e(D,e,t)}}function j1(n,e){Te.__c&&Te.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){Te.__e(i,t.__v)}})}function g6(n,e,t,i,s,r,l,c){var h,d,g,y=t.props,_=e.props,b=e.type,S=0;if(b==="svg"&&(s=!0),r!=null){for(;S<r.length;S++)if((h=r[S])&&"setAttribute"in h==!!b&&(b?h.localName===b:h.nodeType===3)){n=h,r[S]=null;break}}if(n==null){if(b===null)return document.createTextNode(_);n=s?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,_.is&&_),r=null,c=!1}if(b===null)y===_||c&&n.data===_||(n.data=_);else{if(r=r&&Gp.call(n.childNodes),d=(y=t.props||Kg).dangerouslySetInnerHTML,g=_.dangerouslySetInnerHTML,!c){if(r!=null)for(y={},S=0;S<n.attributes.length;S++)y[n.attributes[S].name]=n.attributes[S].value;(g||d)&&(g&&(d&&g.__html==d.__html||g.__html===n.innerHTML)||(n.innerHTML=g&&g.__html||""))}if(d6(n,_,y,s,c),g)e.__k=[];else if(S=e.props.children,N1(n,Array.isArray(S)?S:[S],e,t,i,s&&b!=="foreignObject",r,l,r?r[0]:t.__k&&Ch(t,0),c),r!=null)for(S=r.length;S--;)r[S]!=null&&I1(r[S]);c||("value"in _&&(S=_.value)!==void 0&&(S!==n.value||b==="progress"&&!S||b==="option"&&S!==y.value)&&Xg(n,"value",S,y.value,!1),"checked"in _&&(S=_.checked)!==void 0&&S!==n.checked&&Xg(n,"checked",S,y.checked,!1))}return n}function L1(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(i){Te.__e(i,t)}}function V1(n,e,t){var i,s;if(Te.unmount&&Te.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||L1(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){Te.__e(r,e)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(s=0;s<i.length;s++)i[s]&&V1(i[s],e,t||typeof n.type!="function");t||n.__e==null||I1(n.__e),n.__=n.__e=n.__d=void 0}function p6(n,e,t){return this.constructor(n,t)}function Dh(n,e,t){var i,s,r;Te.__&&Te.__(n,e),s=(i=!1)?null:e.__k,r=[],Jb(e,n=e.__k=ee(Vt,null,[n]),s||Kg,Kg,e.ownerSVGElement!==void 0,s?null:e.firstChild?Gp.call(e.childNodes):null,r,s?s.__e:e.firstChild,i),j1(r,n)}function m6(n,e){var t={__c:e="__cC"+C1++,__:n,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,r;return this.getChildContext||(s=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&s.some(function(c){c.__e=!0,S_(c)})},this.sub=function(l){s.push(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){s.splice(s.indexOf(l),1),c&&c.call(l)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}Gp=D1.slice,Te={__e:function(n,e,t,i){for(var s,r,l;e=e.__;)if((s=e.__c)&&!s.__)try{if((r=s.constructor)&&r.getDerivedStateFromError!=null&&(s.setState(r.getDerivedStateFromError(n)),l=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(n,i||{}),l=s.__d),l)return s.__E=s}catch(c){n=c}throw n}},T1=0,x1=function(n){return n!=null&&n.constructor===void 0},uc=!1,ri.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ca({},this.state),typeof n=="function"&&(n=n(ca({},t),this.props)),n&&ca(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),S_(this))},ri.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),S_(this))},ri.prototype.render=Vt,bo=[],R1=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Zg.__r=0,C1=0;var ms,wv,QT,U1=[],Sv=[],KT=Te.__b,XT=Te.__r,ZT=Te.diffed,JT=Te.__c,ex=Te.unmount;function y6(){for(var n;n=U1.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(yg),n.__H.__h.forEach(A_),n.__H.__h=[]}catch(e){n.__H.__h=[],Te.__e(e,n.__v)}}Te.__b=function(n){ms=null,KT&&KT(n)},Te.__r=function(n){XT&&XT(n);var e=(ms=n.__c).__H;e&&(wv===ms?(e.__h=[],ms.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=Sv,t.__N=t.i=void 0})):(e.__h.forEach(yg),e.__h.forEach(A_),e.__h=[])),wv=ms},Te.diffed=function(n){ZT&&ZT(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(U1.push(e)!==1&&QT===Te.requestAnimationFrame||((QT=Te.requestAnimationFrame)||v6)(y6)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==Sv&&(t.__=t.__V),t.i=void 0,t.__V=Sv})),wv=ms=null},Te.__c=function(n,e){e.some(function(t){try{t.__h.forEach(yg),t.__h=t.__h.filter(function(i){return!i.__||A_(i)})}catch(i){e.some(function(s){s.__h&&(s.__h=[])}),e=[],Te.__e(i,t.__v)}}),JT&&JT(n,e)},Te.unmount=function(n){ex&&ex(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{yg(i)}catch(s){e=s}}),t.__H=void 0,e&&Te.__e(e,t.__v))};var tx=typeof requestAnimationFrame=="function";function v6(n){var e,t=function(){clearTimeout(i),tx&&cancelAnimationFrame(e),setTimeout(n)},i=setTimeout(t,100);tx&&(e=requestAnimationFrame(t))}function yg(n){var e=ms,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),ms=e}function A_(n){var e=ms;n.__c=n.__(),ms=e}function _6(n,e){for(var t in e)n[t]=e[t];return n}function nx(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&n[i]!==e[i])return!0;return!1}function ix(n){this.props=n}(ix.prototype=new ri).isPureReactComponent=!0,ix.prototype.shouldComponentUpdate=function(n,e){return nx(this.props,n)||nx(this.state,e)};var sx=Te.__b;Te.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),sx&&sx(n)};var b6=Te.__e;Te.__e=function(n,e,t,i){if(n.then){for(var s,r=e;r=r.__;)if((s=r.__c)&&s.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),s.__c(n,e)}b6(n,e,t,i)};var rx=Te.unmount;function z1(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=_6({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return z1(i,e,t)})),n}function B1(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return B1(i,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function Av(){this.__u=0,this.t=null,this.__b=null}function H1(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function Pf(){this.u=null,this.o=null}Te.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),rx&&rx(n)},(Av.prototype=new ri).__c=function(n,e){var t=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(t);var s=H1(i.__v),r=!1,l=function(){r||(r=!0,t.__R=null,s?s(c):c())};t.__R=l;var c=function(){if(!--i.__u){if(i.state.__a){var d=i.state.__a;i.__v.__k[0]=B1(d,d.__c.__P,d.__c.__O)}var g;for(i.setState({__a:i.__b=null});g=i.t.pop();)g.forceUpdate()}},h=e.__h===!0;i.__u++||h||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(l,l)},Av.prototype.componentWillUnmount=function(){this.t=[]},Av.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=z1(this.__b,t,i.__O=i.__P)}this.__b=null}var s=e.__a&&ee(Vt,null,n.fallback);return s&&(s.__h=null),[ee(Vt,null,e.__a?null:n.children),s]};var ax=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function E6(n){return this.getChildContext=function(){return n.context},n.children}function w6(n){var e=this,t=n.i;e.componentWillUnmount=function(){Dh(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,s){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),Dh(ee(E6,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function S6(n,e){var t=ee(w6,{__v:n,i:e});return t.containerInfo=e,t}(Pf.prototype=new ri).__a=function(n){var e=this,t=H1(e.__v),i=e.o.get(n);return i[0]++,function(s){var r=function(){e.props.revealOrder?(i.push(s),ax(e,n,i)):s()};t?t(r):r()}},Pf.prototype.render=function(n){this.u=null,this.o=new Map;var e=Jg(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},Pf.prototype.componentDidUpdate=Pf.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){ax(n,t,e)})};var A6=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,T6=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,x6=typeof document<"u",R6=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};ri.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(ri.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var ox=Te.event;function C6(){}function D6(){return this.cancelBubble}function I6(){return this.defaultPrevented}Te.event=function(n){return ox&&(n=ox(n)),n.persist=C6,n.isPropagationStopped=D6,n.isDefaultPrevented=I6,n.nativeEvent=n};var lx={configurable:!0,get:function(){return this.class}},cx=Te.vnode;Te.vnode=function(n){var e=n.type,t=n.props,i=t;if(typeof e=="string"){var s=e.indexOf("-")===-1;for(var r in i={},t){var l=t[r];x6&&r==="children"&&e==="noscript"||r==="value"&&"defaultValue"in t&&l==null||(r==="defaultValue"&&"value"in t&&t.value==null?r="value":r==="download"&&l===!0?l="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+e)&&!R6(t.type)?r="oninput":/^onfocus$/i.test(r)?r="onfocusin":/^onblur$/i.test(r)?r="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(r)?r=r.toLowerCase():s&&T6.test(r)?r=r.replace(/[A-Z0-9]/g,"-$&").toLowerCase():l===null&&(l=void 0),/^oninput$/i.test(r)&&(r=r.toLowerCase(),i[r]&&(r="oninputCapture")),i[r]=l)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Jg(t.children).forEach(function(c){c.props.selected=i.value.indexOf(c.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=Jg(t.children).forEach(function(c){c.props.selected=i.multiple?i.defaultValue.indexOf(c.props.value)!=-1:i.defaultValue==c.props.value})),n.props=i,t.class!=t.className&&(lx.enumerable="className"in t,t.className!=null&&(i.class=t.className),Object.defineProperty(i,"className",lx))}n.$$typeof=A6,cx&&cx(n)};var ux=Te.__r;Te.__r=function(n){ux&&ux(n),n.__c};const F1=[],T_=new Map;function q1(n){F1.push(n),T_.forEach(e=>{W1(e,n)})}function k6(n){n.isConnected&&n.getRootNode&&G1(n.getRootNode())}function G1(n){let e=T_.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=M6();t&&(e.nonce=t);const i=n===document?document.head:n,s=n===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,s)}T_.set(n,e),N6(e)}}function N6(n){for(const e of F1)W1(n,e)}function W1(n,e){const{sheet:t}=n,i=t.cssRules.length;e.split("}").forEach((s,r)=>{s=s.trim(),s&&t.insertRule(s+"}",i+r)})}let Tv;function M6(){return Tv===void 0&&(Tv=O6()),Tv}function O6(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&G1(document);var P6=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';q1(P6);class e0{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:i}=this;e in i&&(t?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function t0(n){n.parentNode&&n.parentNode.removeChild(n)}function Dn(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(j6(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function j6(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function L6(n,e){let t=n instanceof HTMLElement?[n]:n,i=[];for(let s=0;s<t.length;s+=1){let r=t[s].querySelectorAll(e);for(let l=0;l<r.length;l+=1)i.push(r[l])}return i}const V6=/(top|left|right|bottom|width|height)$/i;function lh(n,e){for(let t in e)$1(n,t,e[t])}function $1(n,e,t){t==null?n.style[e]="":typeof t=="number"&&V6.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function Y1(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let hx=0;function Wp(){return hx+=1,"fc-dom-"+hx}function $p(n){n.preventDefault()}function U6(n,e){return t=>{let i=Dn(t.target,n);i&&e.call(i,t,i)}}function Q1(n,e,t,i){let s=U6(t,i);return n.addEventListener(e,s),()=>{n.removeEventListener(e,s)}}function z6(n,e,t,i){let s;return Q1(n,"mouseover",e,(r,l)=>{if(l!==s){s=l,t(r,l);let c=h=>{s=null,i(h,l),l.removeEventListener("mouseleave",c)};l.addEventListener("mouseleave",c)}})}const dx=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function B6(n,e){let t=i=>{e(i),dx.forEach(s=>{n.removeEventListener(s,t)})};dx.forEach(i=>{n.addEventListener(i,t)})}function K1(n){return Object.assign({onClick:n},X1(n))}function X1(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let fx=0;function Fo(){return fx+=1,String(fx)}function n0(){document.body.classList.add("fc-not-allowed")}function i0(){document.body.classList.remove("fc-not-allowed")}function H6(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",$p)}function F6(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",$p)}function q6(n){n.addEventListener("contextmenu",$p)}function G6(n){n.removeEventListener("contextmenu",$p)}function W6(n){let e=[],t=[],i,s;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)s=t[i],typeof s=="string"?e.push(s.charAt(0)==="-"?{field:s.substring(1),order:-1}:{field:s,order:1}):typeof s=="function"&&e.push({func:s});return e}function $6(n,e,t){let i,s;for(i=0;i<t.length;i+=1)if(s=Y6(n,e,t[i]),s)return s;return 0}function Y6(n,e,t){return t.func?t.func(n,e):Q6(n[t.field],e[t.field])*(t.order||1)}function Q6(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function xv(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function ch(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((i,s,r)=>i.replace("$"+r,s||""),n):t}function K6(n,e){return n-e}function Rv(n){return n%1===0}function X6(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const Z6=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function tt(n,e){return typeof n=="string"?J6(n):typeof n=="object"&&n?gx(n):typeof n=="number"?gx({[e||"milliseconds"]:n}):null}function J6(n){let e=Z6.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function gx(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function e5(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function t5(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function n5(n){return Zl(n)/365}function i5(n){return Zl(n)/30}function Zl(n){return Ih(n)/864e5}function Ih(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function x_(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function xa(n,e,t){if(n===e)return!0;let i=n.length,s;if(i!==e.length)return!1;for(s=0;s<i;s+=1)if(!(t?t(n[s],e[s]):n[s]===e[s]))return!1;return!0}const s5=["sun","mon","tue","wed","thu","fri","sat"];function px(n,e){let t=ua(n);return t[2]+=e*7,Yn(t)}function kn(n,e){let t=ua(n);return t[2]+=e,Yn(t)}function Ra(n,e){let t=ua(n);return t[6]+=e,Yn(t)}function r5(n,e){return Tc(n,e)/7}function Tc(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function a5(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function o5(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function l5(n,e){return(e.valueOf()-n.valueOf())/1e3}function c5(n,e){let t=vt(n),i=vt(e);return{years:0,months:0,days:Math.round(Tc(t,i)),milliseconds:e.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}function u5(n,e){let t=ep(n,e);return t!==null&&t%7===0?t/7:null}function ep(n,e){return ha(n)===ha(e)?Math.round(Tc(n,e)):null}function vt(n){return Yn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function h5(n){return Yn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function d5(n){return Yn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function f5(n){return Yn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function g5(n,e,t){let i=n.getUTCFullYear(),s=Cv(n,i,e,t);if(s<1)return Cv(n,i-1,e,t);let r=Cv(n,i+1,e,t);return r>=1?Math.min(s,r):s}function Cv(n,e,t,i){let s=Yn([e,0,1+p5(e,t,i)]),r=vt(n),l=Math.round(Tc(s,r));return Math.floor(l/7)+1}function p5(n,e,t){let i=7+e-t;return-((7+Yn([n,0,i]).getUTCDay()-e)%7)+i-1}function mx(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function yx(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function ua(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Yn(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function Z1(n){return!isNaN(n.valueOf())}function ha(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function m5(n,e,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",r0(e,!0)))),i}function s0(n){return n.toISOString().replace(/T.*$/,"")}function y5(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function r0(n,e=!1){let t=n<0?"-":"+",i=Math.abs(n),s=Math.floor(i/60),r=Math.round(i%60);return e?`${t+xv(s,2)}:${xv(r,2)}`:`GMT${t}${s}${r?`:${xv(r,2)}`:""}`}function nt(n,e,t){let i,s;return function(...r){if(!i)s=n.apply(this,r);else if(!xa(i,r)){let l=n.apply(this,r);(!e||!e(l,s))&&(s=l)}return i=r,s}}function vg(n,e,t){let i,s;return r=>(i?As(i,r)||(s=n.call(this,r)):s=n.call(this,r),i=r,s)}const vx={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},tp={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},jf=/\s*([ap])\.?m\.?/i,v5=/,/g,_5=/\s+/g,b5=/\u200e/g,E5=/UTC|GMT/;class w5{constructor(e){let t={},i={},s=0;for(let r in e)r in vx?(i[r]=e[r],s=Math.max(vx[r],s)):(t[r]=e[r],r in tp&&(s=Math.max(tp[r],s)));this.standardDateProps=t,this.extendedSettings=i,this.severity=s,this.buildFormattingFunc=nt(_x)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,i,s){let{standardDateProps:r,extendedSettings:l}=this,c=C5(e.marker,t.marker,i.calendarSystem);if(!c)return this.format(e,i);let h=c;h>1&&(r.year==="numeric"||r.year==="2-digit")&&(r.month==="numeric"||r.month==="2-digit")&&(r.day==="numeric"||r.day==="2-digit")&&(h=1);let d=this.format(e,i),g=this.format(t,i);if(d===g)return d;let y=D5(r,h),_=_x(y,l,i),b=_(e),S=_(t),x=I5(d,b,g,S),A=l.separator||s||i.defaultSeparator||"";return x?x.before+b+A+S+x.after:d+A+g}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function _x(n,e,t){let i=Object.keys(n).length;return i===1&&n.timeZoneName==="short"?s=>r0(s.timeZoneOffset):i===0&&e.week?s=>R5(t.computeWeekNumber(s.marker),t.weekText,t.weekTextLong,t.locale,e.week):S5(n,e,t)}function S5(n,e,t){n=Object.assign({},n),e=Object.assign({},e),A5(n,e),n.timeZone="UTC";let i=new Intl.DateTimeFormat(t.locale.codes,n),s;if(e.omitZeroMinute){let r=Object.assign({},n);delete r.minute,s=new Intl.DateTimeFormat(t.locale.codes,r)}return r=>{let{marker:l}=r,c;s&&!l.getUTCMinutes()?c=s:c=i;let h=c.format(l);return T5(h,r,n,e,t)}}function A5(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function T5(n,e,t,i,s){return n=n.replace(b5,""),t.timeZoneName==="short"&&(n=x5(n,s.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":r0(e.timeZoneOffset))),i.omitCommas&&(n=n.replace(v5,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),i.meridiem===!1?n=n.replace(jf,"").trim():i.meridiem==="narrow"?n=n.replace(jf,(r,l)=>l.toLocaleLowerCase()):i.meridiem==="short"?n=n.replace(jf,(r,l)=>`${l.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(n=n.replace(jf,r=>r.toLocaleLowerCase())),n=n.replace(_5," "),n=n.trim(),n}function x5(n,e){let t=!1;return n=n.replace(E5,()=>(t=!0,e)),t||(n+=` ${e}`),n}function R5(n,e,t,i,s){let r=[];return s==="long"?r.push(t):(s==="short"||s==="narrow")&&r.push(e),(s==="long"||s==="short")&&r.push(" "),r.push(i.simpleNumberFormat.format(n)),i.options.direction==="rtl"&&r.reverse(),r.join("")}function C5(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:ha(n)!==ha(e)?1:0}function D5(n,e){let t={};for(let i in n)(!(i in tp)||tp[i]<=e)&&(t[i]=n[i]);return t}function I5(n,e,t,i){let s=0;for(;s<n.length;){let r=n.indexOf(e,s);if(r===-1)break;let l=n.substr(0,r);s=r+e.length;let c=n.substr(s),h=0;for(;h<t.length;){let d=t.indexOf(i,h);if(d===-1)break;let g=t.substr(0,d);h=d+i.length;let y=t.substr(h);if(l===g&&c===y)return{before:l,after:c}}}return null}function bx(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function np(n,e,t,i){let s=bx(n,t.calendarSystem),r=e?bx(e,t.calendarSystem):null;return{date:s,start:s,end:r,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}class k5{constructor(e){this.cmdStr=e}format(e,t,i){return t.cmdFormatter(this.cmdStr,np(e,null,t,i))}formatRange(e,t,i,s){return i.cmdFormatter(this.cmdStr,np(e,t,i,s))}}class N5{constructor(e){this.func=e}format(e,t,i){return this.func(np(e,null,t,i))}formatRange(e,t,i,s){return this.func(np(e,t,i,s))}}function cn(n){return typeof n=="object"&&n?new w5(n):typeof n=="string"?new k5(n):typeof n=="function"?new N5(n):null}const Ex={navLinkDayClick:Z,navLinkWeekClick:Z,duration:tt,bootstrapFontAwesome:Z,buttonIcons:Z,customButtons:Z,defaultAllDayEventDuration:tt,defaultTimedEventDuration:tt,nextDayThreshold:tt,scrollTime:tt,scrollTimeReset:Boolean,slotMinTime:tt,slotMaxTime:tt,dayPopoverFormat:cn,slotDuration:tt,snapDuration:tt,headerToolbar:Z,footerToolbar:Z,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:cn,dayHeaderClassNames:Z,dayHeaderContent:Z,dayHeaderDidMount:Z,dayHeaderWillUnmount:Z,dayCellClassNames:Z,dayCellContent:Z,dayCellDidMount:Z,dayCellWillUnmount:Z,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Z,weekNumbers:Boolean,weekNumberClassNames:Z,weekNumberContent:Z,weekNumberDidMount:Z,weekNumberWillUnmount:Z,editable:Boolean,viewClassNames:Z,viewDidMount:Z,viewWillUnmount:Z,nowIndicator:Boolean,nowIndicatorClassNames:Z,nowIndicatorContent:Z,nowIndicatorDidMount:Z,nowIndicatorWillUnmount:Z,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Z,locale:Z,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Z,eventOrder:W6,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Z,contentHeight:Z,direction:String,weekNumberFormat:cn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Z,initialDate:Z,now:Z,eventDataTransform:Z,stickyHeaderDates:Z,stickyFooterScrollbar:Z,viewHeight:Z,defaultAllDay:Boolean,eventSourceFailure:Z,eventSourceSuccess:Z,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Z,eventConstraint:Z,eventAllow:Z,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Z,eventContent:Z,eventDidMount:Z,eventWillUnmount:Z,selectConstraint:Z,selectOverlap:Z,selectAllow:Z,droppable:Boolean,unselectCancel:String,slotLabelFormat:Z,slotLaneClassNames:Z,slotLaneContent:Z,slotLaneDidMount:Z,slotLaneWillUnmount:Z,slotLabelClassNames:Z,slotLabelContent:Z,slotLabelDidMount:Z,slotLabelWillUnmount:Z,dayMaxEvents:Z,dayMaxEventRows:Z,dayMinWidth:Number,slotLabelInterval:tt,allDayText:String,allDayClassNames:Z,allDayContent:Z,allDayDidMount:Z,allDayWillUnmount:Z,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:cn,rerenderDelay:Number,moreLinkText:Z,moreLinkHint:Z,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Z,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:tt,hiddenDays:Z,fixedWeekCount:Boolean,validRange:Z,visibleRange:Z,titleFormat:Z,eventInteractive:Boolean,noEventsText:String,viewHint:Z,navLinkHint:Z,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Z,moreLinkClassNames:Z,moreLinkContent:Z,moreLinkDidMount:Z,moreLinkWillUnmount:Z,monthStartFormat:cn,handleCustomRendering:Z,customRenderingMetaMap:Z,customRenderingReplaces:Boolean},uh={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},wx={datesSet:Z,eventsSet:Z,eventAdd:Z,eventChange:Z,eventRemove:Z,windowResize:Z,eventClick:Z,eventMouseEnter:Z,eventMouseLeave:Z,select:Z,unselect:Z,loading:Z,_unmount:Z,_beforeprint:Z,_afterprint:Z,_noEventDrop:Z,_noEventResize:Z,_resize:Z,_scrollRequest:Z},Sx={buttonText:Z,buttonHints:Z,views:Z,plugins:Z,initialEvents:Z,events:Z,eventSources:Z},mo={headerToolbar:yo,footerToolbar:yo,buttonText:yo,buttonHints:yo,buttonIcons:yo,dateIncrement:yo,plugins:Lf,events:Lf,eventSources:Lf,resources:Lf};function yo(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?As(n,e):n===e}function Lf(n,e){return Array.isArray(n)&&Array.isArray(e)?xa(n,e):n===e}const M5={type:String,component:Z,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Z,usesMinMaxTime:Boolean,classNames:Z,content:Z,didMount:Z,willUnmount:Z};function Dv(n){return o0(n,mo)}function a0(n,e){let t={},i={};for(let s in e)s in n&&(t[s]=e[s](n[s]));for(let s in n)s in e||(i[s]=n[s]);return{refined:t,extra:i}}function Z(n){return n}const{hasOwnProperty:ip}=Object.prototype;function o0(n,e){let t={};if(e){for(let i in e)if(e[i]===yo){let s=[];for(let r=n.length-1;r>=0;r-=1){let l=n[r][i];if(typeof l=="object"&&l)s.unshift(l);else if(l!==void 0){t[i]=l;break}}s.length&&(t[i]=o0(s))}}for(let i=n.length-1;i>=0;i-=1){let s=n[i];for(let r in s)r in t||(t[r]=s[r])}return t}function Mo(n,e){let t={};for(let i in n)e(n[i],i)&&(t[i]=n[i]);return t}function qo(n,e){let t={};for(let i in n)t[i]=e(n[i],i);return t}function J1(n){let e={};for(let t of n)e[t]=!0;return e}function l0(n){let e=[];for(let t in n)e.push(n[t]);return e}function As(n,e){if(n===e)return!0;for(let t in n)if(ip.call(n,t)&&!(t in e))return!1;for(let t in e)if(ip.call(e,t)&&n[t]!==e[t])return!1;return!0}const O5=/^on[A-Z]/;function P5(n,e){const t=R_(n,e);for(let i of t)if(!O5.test(i))return!1;return!0}function R_(n,e){let t=[];for(let i in n)ip.call(n,i)&&(i in e||t.push(i));for(let i in e)ip.call(e,i)&&n[i]!==e[i]&&t.push(i);return t}function Iv(n,e,t={}){if(n===e)return!0;for(let i in e)if(!(i in n&&j5(n[i],e[i],t[i])))return!1;for(let i in n)if(!(i in e))return!1;return!0}function j5(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function L5(n,e=0,t,i=1){let s=[];t==null&&(t=Object.keys(n).length);for(let r=e;r<t;r+=i){let l=n[r];l!==void 0&&s.push(l)}return s}let ek={};function V5(n,e){ek[n]=e}function U5(n){return new ek[n]}class z5{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Yn(e)}markerToArray(e){return ua(e)}}V5("gregory",z5);const B5=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function H5(n){let e=B5.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(Z1(t)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}class F5{constructor(e){let t=this.timeZone=e.timeZone,i=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=U5(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Yn(mx(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Yn(e)),t===null||!Z1(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=H5(e);if(t===null)return null;let{marker:i}=t,s=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-t.timeZoneOffset*60*1e3):s=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:s}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(e,t){let i=this.calendarSystem.markerToArray(e);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,t){let{calendarSystem:i}=this;return ha(e)===ha(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)&&i.getMarkerMonth(e)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:i}=this;return ha(e)===ha(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(e)+(i.getMarkerYear(t)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let i=this.diffWholeYears(e,t);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,t),i!==null?{unit:"month",value:i}:(i=u5(e,t),i!==null?{unit:"week",value:i}:(i=ep(e,t),i!==null?{unit:"day",value:i}:(i=a5(e,t),Rv(i)?{unit:"hour",value:i}:(i=o5(e,t),Rv(i)?{unit:"minute",value:i}:(i=l5(e,t),Rv(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,i){let s;return i.years&&(s=this.diffWholeYears(e,t),s!==null)?s/n5(i):i.months&&(s=this.diffWholeMonths(e,t),s!==null)?s/i5(i):i.days&&(s=ep(e,t),s!==null)?s/Zl(i):(t.valueOf()-e.valueOf())/Ih(i)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?vt(e):t==="hour"?h5(e):t==="minute"?d5(e):t==="second"?f5(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):g5(e,this.weekDow,this.weekDoy)}format(e,t,i={}){return t.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,i,s={}){return s.isEndExclusive&&(t=Ra(t,-1)),i.formatRange({marker:e,timeZoneOffset:s.forcedStartTzo!=null?s.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:s.forcedEndTzo!=null?s.forcedEndTzo:this.offsetForMarker(t)},this,s.defaultSeparator)}formatIso(e,t={}){let i=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?i=t.forcedTzo:i=this.offsetForMarker(e)),m5(e,i,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Yn(mx(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Yn(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-yx(ua(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(ua(e)):null}toDate(e,t){return this.timeZone==="local"?yx(ua(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(ua(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class ed{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,i;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(i in e)t[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let i;return t&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}ed.prototype.classes={};ed.prototype.iconClasses={};ed.prototype.baseIconClass="";ed.prototype.iconOverridePrefix="";function sp(n){n();let e=Te.debounceRendering,t=[];function i(s){t.push(s)}for(Te.debounceRendering=i,Dh(ee(q5,{}),document.createElement("div"));t.length;)t.shift()();Te.debounceRendering=e}class q5 extends ri{render(){return ee("div",{})}componentDidMount(){this.setState({})}}function tk(n){let e=m6(n),t=e.Provider;return e.Provider=function(){let i=!this.getChildContext,s=t.apply(this,arguments);if(i){let r=[];this.shouldComponentUpdate=l=>{this.props.value!==l.value&&r.forEach(c=>{c.context=l.value,c.forceUpdate()})},this.sub=l=>{r.push(l);let c=l.componentWillUnmount;l.componentWillUnmount=()=>{r.splice(r.indexOf(l),1),c&&c.call(l)}}}return s},e}class G5{constructor(e,t,i,s){this.execFunc=e,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=s,this.handleScrollRequest=r=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},r),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Go=tk({});function W5(n,e,t,i,s,r,l,c,h,d,g,y,_){return{dateEnv:s,options:t,pluginHooks:l,emitter:d,dispatch:c,getCurrentData:h,calendarApi:g,viewSpec:n,viewApi:e,dateProfileGenerator:i,theme:r,isRtl:t.direction==="rtl",addResizeHandler(b){d.on("_resize",b)},removeResizeHandler(b){d.off("_resize",b)},createScrollResponder(b){return new G5(b,d,tt(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:y,unregisterInteractiveComponent:_}}class Wo extends ri{shouldComponentUpdate(e,t){return this.debug&&console.log(R_(e,this.props),R_(t,this.state)),!Iv(this.props,e,this.propEquality)||!Iv(this.state,t,this.stateEquality)}safeSetState(e){Iv(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Wo.addPropsEquality=$5;Wo.addStateEquality=Y5;Wo.contextType=Go;Wo.prototype.propEquality={};Wo.prototype.stateEquality={};class Rt extends Wo{}Rt.contextType=Go;function $5(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function Y5(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function _r(n,e){typeof n=="function"?n(e):n&&(n.current=e)}class c0 extends Rt{constructor(){super(...arguments),this.id=Fo(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:i}=this.props;(!t.customRenderingReplaces||!C_(i,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&_r(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:i}=t,{customGenerator:s,defaultGenerator:r,renderProps:l}=e,c=nk(e,[],this.handleEl);let h=!1,d,g=[],y;if(s!=null){const _=typeof s=="function"?s(l,ee):s;if(_===!0)h=!0;else{const b=_&&typeof _=="object";b&&"html"in _?c.dangerouslySetInnerHTML={__html:_.html}:b&&"domNodes"in _?g=Array.prototype.slice.call(_.domNodes):(b?x1(_):typeof _!="function")?d=_:y=_}}else h=!C_(e.generatorName,i);return h&&r&&(d=r(l)),this.queuedDomNodes=g,this.currentGeneratorMeta=y,ee(e.elTag,c,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:i,context:s}=this,{handleCustomRendering:r,customRenderingMetaMap:l}=s.options;if(r){const c=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:l==null?void 0:l[i.generatorName];c&&r(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:c},i),{elClasses:(i.elClasses||[]).filter(Q5)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,i=this.base;if(!xa(e,t)){t.forEach(t0);for(let s of e)i.appendChild(s);this.currentDomNodes=e}}}c0.addPropsEquality({elClasses:xa,elStyle:As,elAttrs:P5,renderProps:As});function C_(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function nk(n,e,t){const i=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(i.className=(n.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),n.elStyle&&(i.style=n.elStyle),i}function Q5(n){return!!n}const ik=tk(0);class br extends ri{constructor(){super(...arguments),this.InnerContent=K5.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(_r(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=X5(e.classNameGenerator,e.renderProps);if(e.children){const i=nk(e,t,this.handleEl),s=e.children(this.InnerContent,e.renderProps,i);return e.elTag?ee(e.elTag,i,s):s}else return ee(c0,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}br.contextType=ik;function K5(n,e){const t=n.props;return ee(c0,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function X5(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}class Ax extends Rt{render(){let{props:e,context:t}=this,{options:i}=t,s={view:t.viewApi};return ee(br,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...sk(e.viewSpec),...e.elClasses||[]],renderProps:s,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>e.children)}}function sk(n){return[`fc-${n.type}-view`,"fc-view"]}function Z5(n,e){let t=null,i=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(i=e.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}function Tx(n,e){let t=[],{start:i}=e,s,r;for(n.sort(J5),s=0;s<n.length;s+=1)r=n[s],r.start>i&&t.push({start:i,end:r.start}),r.end>i&&(i=r.end);return i<e.end&&t.push({start:i,end:e.end}),t}function J5(n,e){return n.start.valueOf()-e.start.valueOf()}function hc(n,e){let{start:t,end:i}=n,s=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(t===null||i===null||t<i)&&(s={start:t,end:i}),s}function eF(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function u0(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function Yp(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function ya(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function tF(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function rk(n){let e=Math.floor(Tc(n.start,n.end))||1,t=vt(n.start),i=kn(t,e);return{start:t,end:i}}function ak(n,e=tt(0)){let t=null,i=null;if(n.end){i=vt(n.end);let s=n.end.valueOf()-i.valueOf();s&&s>=Ih(e)&&(i=kn(i,1))}return n.start&&(t=vt(n.start),i&&i<=t&&(i=kn(t,1))),{start:t,end:i}}function Wl(n,e,t,i){return i==="year"?tt(t.diffWholeYears(n,e),"year"):i==="month"?tt(t.diffWholeMonths(n,e),"month"):c5(n,e)}function nF(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function iF(n,e){let t=n.initialDate;return t!=null?e.createMarker(t):td(n.now,e)}function td(n,e){return typeof n=="function"&&(n=n()),n==null?e.createNowMarker():e.createMarker(n)}class ok{constructor(e){this.props=e,this.nowDate=td(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,i){let{dateEnv:s}=this.props,r=s.subtract(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(r,-1,i)}buildNext(e,t,i){let{dateEnv:s}=this.props,r=s.add(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(r,1,i)}build(e,t,i=!0){let{props:s}=this,r,l,c,h,d,g;return r=this.buildValidRange(),r=this.trimHiddenDays(r),i&&(e=tF(e,r)),l=this.buildCurrentRangeInfo(e,t),c=/^(year|month|week|day)$/.test(l.unit),h=this.buildRenderRange(this.trimHiddenDays(l.range),l.unit,c),h=this.trimHiddenDays(h),d=h,s.showNonCurrentDates||(d=hc(d,l.range)),d=this.adjustActiveRange(d),d=hc(d,r),g=u0(l.range,r),ya(h,e)||(e=h.start),{currentDate:e,validRange:r,currentRange:l.range,currentRangeUnit:l.unit,isRangeAllDay:c,activeRange:d,renderRange:h,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:g,dateIncrement:this.buildDateIncrement(l.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:i}=this,s=null,r=null,l=null,c;return i.duration?(s=i.duration,r=i.durationUnit,l=this.buildRangeFromDuration(e,t,s,r)):(c=this.props.dayCount)?(r="day",l=this.buildRangeFromDayCount(e,t,c)):(l=this.buildCustomVisibleRange(e))?r=i.dateEnv.greatestWholeUnit(l.start,l.end).unit:(s=this.getFallbackDuration(),r=x_(s).unit,l=this.buildRangeFromDuration(e,t,s,r)),{duration:s,unit:r,range:l}}getFallbackDuration(){return tt({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:s,slotMaxTime:r}=this.props,{start:l,end:c}=e;return i&&(Zl(s)<0&&(l=vt(l),l=t.add(l,s)),Zl(r)>1&&(c=vt(c),c=kn(c,-1),c=t.add(c,r))),{start:l,end:c}}buildRangeFromDuration(e,t,i,s){let{dateEnv:r,dateAlignment:l}=this.props,c,h,d;if(!l){let{dateIncrement:y}=this.props;y&&Ih(y)<Ih(i)?l=x_(y).unit:l=s}Zl(i)<=1&&this.isHiddenDay(c)&&(c=this.skipHiddenDays(c,t),c=vt(c));function g(){c=r.startOf(e,l),h=r.add(c,i),d={start:c,end:h}}return g(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,t),g()),d}buildRangeFromDayCount(e,t,i){let{dateEnv:s,dateAlignment:r}=this.props,l=0,c=e,h;r&&(c=s.startOf(c,r)),c=vt(c),c=this.skipHiddenDays(c,t),h=c;do h=kn(h,1),this.isHiddenDay(h)||(l+=1);while(l<i);return{start:c,end:h}}buildCustomVisibleRange(e){let{props:t}=this,i=t.visibleRangeInput,s=typeof i=="function"?i.call(t.calendarApi,t.dateEnv.toDate(e)):i,r=this.refineRange(s);return r&&(r.start==null||r.end==null)?null:r}buildRenderRange(e,t,i){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,i;return t||((i=this.props.dateAlignment)?tt(1,i):e||tt({days:1}))}refineRange(e){if(e){let t=Z5(e,this.props.dateEnv);return t&&(t=ak(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],i=0,s;for(this.props.weekends===!1&&e.push(0,6),s=0;s<7;s+=1)(t[s]=e.indexOf(s)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:i}=e;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),t==null||i==null||t<i?{start:t,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?t:0)+7)%7];)e=kn(e,t);return e}}function h0(n,e,t,i){return{instanceId:Fo(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:i??null}}function sF(n,e,t,i){for(let s=0;s<i.length;s+=1){let r=i[s].parse(n,t);if(r){let{allDay:l}=n;return l==null&&(l=e,l==null&&(l=r.allDayGuess,l==null&&(l=!1))),{allDay:l,duration:r.duration,typeData:r.typeData,typeId:s}}}return null}function Oo(n,e,t){let{dateEnv:i,pluginHooks:s,options:r}=t,{defs:l,instances:c}=n;c=Mo(c,h=>!l[h.defId].recurringDef);for(let h in l){let d=l[h];if(d.recurringDef){let{duration:g}=d.recurringDef;g||(g=d.allDay?r.defaultAllDayEventDuration:r.defaultTimedEventDuration);let y=rF(d,g,e,i,s.recurringTypes);for(let _ of y){let b=h0(h,{start:_,end:i.add(_,g)});c[b.instanceId]=b}}}return{defs:l,instances:c}}function rF(n,e,t,i,s){let l=s[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,e),end:t.end},i);return n.allDay&&(l=l.map(vt)),l}const _g={id:String,groupId:String,title:String,url:String,interactive:Boolean},lk={start:Z,end:Z,date:Z,allDay:Boolean},aF=Object.assign(Object.assign(Object.assign({},_g),lk),{extendedProps:Z});function ck(n,e,t,i,s=d0(t),r,l){let{refined:c,extra:h}=uk(n,t,s),d=lF(e,t),g=sF(c,d,t.dateEnv,t.pluginHooks.recurringTypes);if(g){let _=D_(c,h,e?e.sourceId:"",g.allDay,!!g.duration,t,r);return _.recurringDef={typeId:g.typeId,typeData:g.typeData,duration:g.duration},{def:_,instance:null}}let y=oF(c,d,t,i);if(y){let _=D_(c,h,e?e.sourceId:"",y.allDay,y.hasEnd,t,r),b=h0(_.defId,y.range,y.forcedStartTzo,y.forcedEndTzo);return l&&_.publicId&&l[_.publicId]&&(b.instanceId=l[_.publicId]),{def:_,instance:b}}return null}function uk(n,e,t=d0(e)){return a0(n,t)}function d0(n){return Object.assign(Object.assign(Object.assign({},rp),aF),n.pluginHooks.eventRefiners)}function D_(n,e,t,i,s,r,l){let c={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(l&&n.id?l[n.id]:"")||Fo(),sourceId:t,allDay:i,hasEnd:s,interactive:n.interactive,ui:ap(n,r),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let h of r.pluginHooks.eventDefMemberAdders)Object.assign(c,h(n));return Object.freeze(c.ui.classNames),Object.freeze(c.extendedProps),c}function oF(n,e,t,i){let{allDay:s}=n,r,l=null,c=!1,h,d=null,g=n.start!=null?n.start:n.date;if(r=t.dateEnv.createMarkerMeta(g),r)l=r.marker;else if(!i)return null;return n.end!=null&&(h=t.dateEnv.createMarkerMeta(n.end)),s==null&&(e!=null?s=e:s=(!r||r.isTimeUnspecified)&&(!h||h.isTimeUnspecified)),s&&l&&(l=vt(l)),h&&(d=h.marker,s&&(d=vt(d)),l&&d<=l&&(d=null)),d?c=!0:i||(c=t.options.forceEventDuration||!1,d=t.dateEnv.add(l,s?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:s,hasEnd:c,range:{start:l,end:d},forcedStartTzo:r?r.forcedTzo:null,forcedEndTzo:h?h.forcedTzo:null}}function lF(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function kh(n,e,t,i,s,r){let l=Ui(),c=d0(t);for(let h of n){let d=ck(h,e,t,i,c,s,r);d&&I_(d,l)}return l}function I_(n,e=Ui()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function f0(n,e){let t=n.instances[e];if(t){let i=n.defs[t.defId],s=Qp(n,r=>cF(i,r));return s.defs[i.defId]=i,s.instances[t.instanceId]=t,s}return Ui()}function cF(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function Ui(){return{defs:{},instances:{}}}function g0(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function Qp(n,e){let t=Mo(n.defs,e),i=Mo(n.instances,s=>t[s.defId]);return{defs:t,instances:i}}function uF(n,e){let{defs:t,instances:i}=n,s={},r={};for(let l in t)e.defs[l]||(s[l]=t[l]);for(let l in i)!e.instances[l]&&s[i[l].defId]&&(r[l]=i[l]);return{defs:s,instances:r}}function hF(n,e){return Array.isArray(n)?kh(n,null,e,!0):typeof n=="object"&&n?kh([n],null,e,!0):n!=null?String(n):null}function xx(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}const rp={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Z,overlap:Z,allow:Z,className:xx,classNames:xx,color:String,backgroundColor:String,borderColor:String,textColor:String},dF={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function ap(n,e){let t=hF(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function fF(n){return n.reduce(gF,dF)}function gF(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const pF={id:String,defaultAllDay:Boolean,url:String,format:String,events:Z,eventDataTransform:Z,success:Z,failure:Z};function hk(n,e,t=dk(e)){let i;if(typeof n=="string"?i={url:n}:typeof n=="function"||Array.isArray(n)?i={events:n}:typeof n=="object"&&n&&(i=n),i){let{refined:s,extra:r}=a0(i,t),l=mF(s,e);if(l)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:Fo(),sourceDefId:l.sourceDefId,meta:l.meta,ui:ap(s,e),extendedProps:r}}return null}function dk(n){return Object.assign(Object.assign(Object.assign({},rp),pF),n.pluginHooks.eventSourceRefiners)}function mF(n,e){let t=e.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let r=t[i].parseMeta(n);if(r)return{sourceDefId:i,meta:r}}return null}function yF(n,e,t,i,s){switch(e.type){case"RECEIVE_EVENTS":return vF(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,s);case"RESET_RAW_EVENTS":return _F(n,t[e.sourceId],e.rawEvents,i.activeRange,s);case"ADD_EVENTS":return bF(n,e.eventStore,i?i.activeRange:null,s);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return g0(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?Oo(n,i.activeRange,s):n;case"REMOVE_EVENTS":return uF(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return gk(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Qp(n,r=>!r.sourceId);case"REMOVE_ALL_EVENTS":return Ui();default:return n}}function vF(n,e,t,i,s,r){if(e&&t===e.latestFetchId){let l=kh(fk(s,e,r),e,r);return i&&(l=Oo(l,i,r)),g0(gk(n,e.sourceId),l)}return n}function _F(n,e,t,i,s){const{defIdMap:r,instanceIdMap:l}=wF(n);let c=kh(fk(t,e,s),e,s,!1,r,l);return Oo(c,i,s)}function fk(n,e,t){let i=t.options.eventDataTransform,s=e?e.eventDataTransform:null;return s&&(n=Rx(n,s)),i&&(n=Rx(n,i)),n}function Rx(n,e){let t;if(!e)t=n;else{t=[];for(let i of n){let s=e(i);s?t.push(s):s==null&&t.push(i)}}return t}function bF(n,e,t,i){return t&&(e=Oo(e,t,i)),g0(n,e)}function Cx(n,e,t){let{defs:i}=n,s=qo(n.instances,r=>i[r.defId].allDay?r:Object.assign(Object.assign({},r),{range:{start:t.createMarker(e.toDate(r.range.start,r.forcedStartTzo)),end:t.createMarker(e.toDate(r.range.end,r.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:r.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:r.forcedEndTzo}));return{defs:i,instances:s}}function gk(n,e){return Qp(n,t=>t.sourceId!==e)}function EF(n,e){return{defs:n.defs,instances:Mo(n.instances,t=>!e[t.instanceId])}}function wF(n){const{defs:e,instances:t}=n,i={},s={};for(let r in e){const l=e[r],{publicId:c}=l;c&&(i[c]=r)}for(let r in t){const l=t[r],c=e[l.defId],{publicId:h}=c;h&&(s[h]=r)}return{defIdMap:i,instanceIdMap:s}}class Kp{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){SF(this.handlers,e,t)}off(e,t){AF(this.handlers,e,t)}trigger(e,...t){let i=this.handlers[e]||[],s=this.options&&this.options[e],r=[].concat(s||[],i);for(let l of r)l.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function SF(n,e,t){(n[e]||(n[e]=[])).push(t)}function AF(n,e,t){t?n[e]&&(n[e]=n[e].filter(i=>i!==t)):delete n[e]}const TF={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function xF(n,e){return kh(RF(n),null,e)}function RF(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},TF),t)),e}function pk(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},p0(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function CF(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function p0(n,e){let t={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,e));return Object.assign(t,FF(n,e.dateEnv)),t}function Dx(n,e,t){let{dateEnv:i,options:s}=t,r=e;return n?(r=vt(r),r=i.add(r,s.defaultAllDayEventDuration)):r=i.add(r,s.defaultTimedEventDuration),r}function m0(n,e,t,i){let s=op(n.defs,e),r=Ui();for(let l in n.defs){let c=n.defs[l];r.defs[l]=DF(c,s[l],t,i)}for(let l in n.instances){let c=n.instances[l],h=r.defs[c.defId];r.instances[l]=IF(c,h,s[c.defId],t,i)}return r}function DF(n,e,t,i){let s=t.standardProps||{};s.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(s.hasEnd=!0);let r=Object.assign(Object.assign(Object.assign({},n),s),{ui:Object.assign(Object.assign({},n.ui),s.ui)});t.extendedProps&&(r.extendedProps=Object.assign(Object.assign({},r.extendedProps),t.extendedProps));for(let l of i.pluginHooks.eventDefMutationAppliers)l(r,t,i);return!r.hasEnd&&i.options.forceEventDuration&&(r.hasEnd=!0),r}function IF(n,e,t,i,s){let{dateEnv:r}=s,l=i.standardProps&&i.standardProps.allDay===!0,c=i.standardProps&&i.standardProps.hasEnd===!1,h=Object.assign({},n);return l&&(h.range=rk(h.range)),i.datesDelta&&t.startEditable&&(h.range={start:r.add(h.range.start,i.datesDelta),end:r.add(h.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(h.range={start:r.add(h.range.start,i.startDelta),end:h.range.end}),i.endDelta&&t.durationEditable&&(h.range={start:h.range.start,end:r.add(h.range.end,i.endDelta)}),c&&(h.range={start:h.range.start,end:Dx(e.allDay,h.range.start,s)}),e.allDay&&(h.range={start:vt(h.range.start),end:vt(h.range.end)}),h.range.end<h.range.start&&(h.range.end=Dx(e.allDay,h.range.start,s)),h}class ql{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class _t{constructor(e,t,i){this._context=e,this._def=t,this._instance=i||null}setProp(e,t){if(e in lk)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=_g[e](t),this.mutate({standardProps:{publicId:t}});else if(e in _g)t=_g[e](t),this.mutate({standardProps:{[e]:t}});else if(e in rp){let i=rp[e](t);e==="color"?i={backgroundColor:t,borderColor:t}:e==="editable"?i={startEditable:t,durationEditable:t}:i={[e]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:i}=this._context,s=i.createMarker(e);if(s&&this._instance){let r=this._instance.range,l=Wl(r.start,s,i,t.granularity);t.maintainDuration?this.mutate({datesDelta:l}):this.mutate({startDelta:l})}}setEnd(e,t={}){let{dateEnv:i}=this._context,s;if(!(e!=null&&(s=i.createMarker(e),!s))&&this._instance)if(s){let r=Wl(this._instance.range.end,s,i,t.granularity);this.mutate({endDelta:r})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,i={}){let{dateEnv:s}=this._context,r={allDay:i.allDay},l=s.createMarker(e),c;if(l&&!(t!=null&&(c=s.createMarker(t),!c))&&this._instance){let h=this._instance.range;i.allDay===!0&&(h=rk(h));let d=Wl(h.start,l,s,i.granularity);if(c){let g=Wl(h.end,c,s,i.granularity);e5(d,g)?this.mutate({datesDelta:d,standardProps:r}):this.mutate({startDelta:d,endDelta:g,standardProps:r})}else r.hasEnd=!1,this.mutate({datesDelta:d,standardProps:r})}}moveStart(e){let t=tt(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=tt(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=tt(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let i={allDay:e},{maintainDuration:s}=t;s==null&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=s),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:t}=this._context,i=this._instance,s=cn(e);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,s,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,s,{forcedTzo:i.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let i=this._def,s=this._context,{eventStore:r}=s.getCurrentData(),l=f0(r,t.instanceId);l=m0(l,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,s);let h=new _t(s,i,t);this._def=l.defs[i.defId],this._instance=l.instances[t.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:l}),s.emitter.trigger("eventChange",{oldEvent:h,event:this,relatedEvents:To(l,s,t),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:r})}})}}remove(){let e=this._context,t=mk(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new ql(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:i}=t,{startStr:s,endStr:r}=this,l={allDay:t.allDay};return t.title&&(l.title=t.title),s&&(l.start=s),r&&(l.end=r),t.publicId&&(l.id=t.publicId),t.groupId&&(l.groupId=t.groupId),t.url&&(l.url=t.url),i.display&&i.display!=="auto"&&(l.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?l.color=i.backgroundColor:(i.backgroundColor&&(l.backgroundColor=i.backgroundColor),i.borderColor&&(l.borderColor=i.borderColor)),i.textColor&&(l.textColor=i.textColor),i.classNames.length&&(l.classNames=i.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(l,t.extendedProps):l.extendedProps=t.extendedProps),l}toJSON(){return this.toPlainObject()}}function mk(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function To(n,e,t){let{defs:i,instances:s}=n,r=[],l=t?t.instanceId:"";for(let c in s){let h=s[c],d=i[h.defId];h.instanceId!==l&&r.push(new _t(e,d,h))}return r}function Ix(n,e,t,i){let s={},r={},l={},c=[],h=[],d=op(n.defs,e);for(let g in n.defs){let y=n.defs[g];d[y.defId].display==="inverse-background"&&(y.groupId?(s[y.groupId]=[],l[y.groupId]||(l[y.groupId]=y)):r[g]=[])}for(let g in n.instances){let y=n.instances[g],_=n.defs[y.defId],b=d[_.defId],S=y.range,x=!_.allDay&&i?ak(S,i):S,A=hc(x,t);A&&(b.display==="inverse-background"?_.groupId?s[_.groupId].push(A):r[y.defId].push(A):b.display!=="none"&&(b.display==="background"?c:h).push({def:_,ui:b,instance:y,range:A,isStart:x.start&&x.start.valueOf()===A.start.valueOf(),isEnd:x.end&&x.end.valueOf()===A.end.valueOf()}))}for(let g in s){let y=s[g],_=Tx(y,t);for(let b of _){let S=l[g],x=d[S.defId];c.push({def:S,ui:x,instance:null,range:b,isStart:!1,isEnd:!1})}}for(let g in r){let y=r[g],_=Tx(y,t);for(let b of _)c.push({def:n.defs[g],ui:d[g],instance:null,range:b,isStart:!1,isEnd:!1})}return{bg:c,fg:h}}function kx(n,e){n.fcSeg=e}function dc(n){return n.fcSeg||n.parentNode.fcSeg||null}function op(n,e){return qo(n,t=>yk(t,e))}function yk(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),fF(t)}function kF(n,e){let t=n.map(NF);return t.sort((i,s)=>$6(i,s,e)),t.map(i=>i._seg)}function NF(n){let{eventRange:e}=n,t=e.def,i=e.instance?e.instance.range:e.range,s=i.start?i.start.valueOf():0,r=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:s,end:r,duration:r-s,allDay:Number(t.allDay),_seg:n})}function MF(n,e){let{pluginHooks:t}=e,i=t.isDraggableTransformers,{def:s,ui:r}=n.eventRange,l=r.startEditable;for(let c of i)l=c(l,s,r,e);return l}function OF(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function PF(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function vk(n,e,t,i,s,r,l){let{dateEnv:c,options:h}=t,{displayEventTime:d,displayEventEnd:g}=h,y=n.eventRange.def,_=n.eventRange.instance;d==null&&(d=i!==!1),g==null&&(g=s!==!1);let b=_.range.start,S=_.range.end,x=n.start||n.eventRange.range.start,A=n.end||n.eventRange.range.end,I=vt(b).valueOf()===vt(x).valueOf(),O=vt(Ra(S,-1)).valueOf()===vt(Ra(A,-1)).valueOf();return d&&!y.allDay&&(I||O)?(x=I?b:x,A=O?S:A,g&&y.hasEnd?c.formatRange(x,A,e,{forcedStartTzo:_.forcedStartTzo,forcedEndTzo:_.forcedEndTzo}):c.format(x,e,{forcedTzo:_.forcedStartTzo})):""}function hh(n,e,t){let i=n.eventRange.range;return{isPast:i.end<=e.start,isFuture:i.start>=e.end,isToday:e&&ya(e,i.start)}}function jF(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function LF(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function _k(n,e){let{def:t,instance:i}=n.eventRange,{url:s}=t;if(s)return{href:s};let{emitter:r,options:l}=e,{eventInteractive:c}=l;return c==null&&(c=t.interactive,c==null&&(c=!!r.hasHandlers("eventClick"))),c?X1(h=>{r.trigger("eventClick",{el:h.target,event:new _t(e,t,i),jsEvent:h,view:e.viewApi})}):{}}const VF={start:Z,end:Z,allDay:Boolean};function UF(n,e,t){let i=zF(n,e),{range:s}=i;if(!s.start)return null;if(!s.end){if(t==null)return null;s.end=e.add(s.start,t)}return i}function zF(n,e){let{refined:t,extra:i}=a0(n,VF),s=t.start?e.createMarkerMeta(t.start):null,r=t.end?e.createMarkerMeta(t.end):null,{allDay:l}=t;return l==null&&(l=s&&s.isTimeUnspecified&&(!r||r.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:r?r.marker:null},allDay:l},i)}function BF(n,e){return eF(n.range,e.range)&&n.allDay===e.allDay&&HF(n,e)}function HF(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function FF(n,e){return Object.assign(Object.assign({},Ek(n.range,e,n.allDay)),{allDay:n.allDay})}function bk(n,e,t){return Object.assign(Object.assign({},Ek(n,e,t)),{timeZone:e.timeZone})}function Ek(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function qF(n,e,t){let i=uk({editable:!1},t),s=D_(i.refined,i.extra,"",n.allDay,!0,t);return{def:s,ui:yk(s,e),instance:h0(s.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function GF(n,e,t){let i=!1,s=function(c){i||(i=!0,e(c))},r=function(c){i||(i=!0,t(c))},l=n(s,r);l&&typeof l.then=="function"&&l.then(s,r)}class Nx extends Error{constructor(e,t){super(e),this.response=t}}function WF(n,e,t){n=n.toUpperCase();const i={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(s=>{if(s.ok)return s.json().then(r=>[r,s],()=>{throw new Nx("Failure parsing JSON",s)});throw new Nx("Request failed",s)})}let kv;function wk(){return kv==null&&(kv=$F()),kv}function $F(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}class YF extends Rt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{sp(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{sp(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:i}=this.state,s=i||t.height==="auto"||t.contentHeight==="auto",r=!s&&t.height!=null?t.height:"",l=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return wk()||l.push("fc-liquid-hack"),e.children(l,r,s,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let xc=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function QF(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function y0(n){return{[n.component.uid]:n}}const k_={};class KF{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let i=this.getCurrentData(),s;t=t||"day",s=i.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),s?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),s=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),r,l;for(let c in t)s.push(c);for(r=0;r<s.length;r+=1)if(l=t[s[r]],l&&l.singleUnit===e)return l;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:td(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),i=tt(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),cn(t))}formatRange(e,t,i){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(e),s.createMarker(t),cn(i),i)}formatIso(e,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:t})}select(e,t){let i;t==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:t};let s=this.getCurrentData(),r=UF(i,s.dateEnv,tt({days:1}));r&&(this.dispatch({type:"SELECT_DATES",selection:r}),pk(r,null,s))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),CF(e,t))}addEvent(e,t){if(e instanceof _t){let l=e._def,c=e._instance;return this.getCurrentData().eventStore.defs[l.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:I_({def:l,instance:c})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),s;if(t instanceof ql)s=t.internalEventSource;else if(typeof t=="boolean")t&&([s]=l0(i.eventSources));else if(t!=null){let l=this.getEventSourceById(t);if(!l)return console.warn(`Could not find an event source with ID "${t}"`),null;s=l.internalEventSource}let r=ck(e,s,i,!1);if(r){let l=new _t(i,r.def,r.def.recurringDef?null:r.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:I_(r)}),this.triggerEventAdd(l),l}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:mk(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:i,instances:s}=t.eventStore;e=String(e);for(let r in i){let l=i[r];if(l.publicId===e){if(l.recurringDef)return new _t(t,l,null);for(let c in s){let h=s[c];if(h.defId===l.defId)return new _t(t,l,h)}}}return null}getEvents(){let e=this.getCurrentData();return To(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,i=[];for(let s in t)i.push(new ql(e,t[s]));return i}getEventSourceById(e){let t=this.getCurrentData(),i=t.eventSources;e=String(e);for(let s in i)if(i[s].publicId===e)return new ql(t,i[s]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof ql)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=hk(e,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new ql(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=tt(e);t&&this.trigger("_scrollRequest",{time:t})}}function XF(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function Sk(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function ZF(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function JF(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function e3(n,e){return{left:n.left-e.left,top:n.top-e.top}}function Ak(n,e,t,i){return{dow:n.getUTCDay(),isDisabled:!!(i&&!ya(i.activeRange,n)),isOther:!!(i&&!ya(i.currentRange,n)),isToday:!!(e&&ya(e,n)),isPast:!!(e&&n<e.start),isFuture:!!(e&&n>=e.end)}}function v0(n,e){let t=["fc-day",`fc-day-${s5[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const t3=cn({year:"numeric",month:"long",day:"numeric"}),n3=cn({week:"long"});function N_(n,e,t="day",i=!0){const{dateEnv:s,options:r,calendarApi:l}=n;let c=s.format(e,t==="week"?n3:t3);if(r.navLinks){let h=s.toDate(e);const d=g=>{let y=t==="day"?r.navLinkDayClick:t==="week"?r.navLinkWeekClick:null;typeof y=="function"?y.call(l,s.toDate(e),g):(typeof y=="string"&&(t=y),l.zoomTo(e,t))};return Object.assign({title:ch(r.navLinkHint,[c,h],c),"data-navlink":""},i?K1(d):{onClick:d})}return{"aria-label":c}}let Nv=null;function i3(){return Nv===null&&(Nv=s3()),Nv}function s3(){let n=document.createElement("div");lh(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return t0(n),t}let Mv;function r3(){return Mv||(Mv=a3()),Mv}function a3(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=Tk(n);return document.body.removeChild(n),e}function Tk(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function o3(n,e=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,s=parseInt(t.borderRightWidth,10)||0,r=parseInt(t.borderTopWidth,10)||0,l=parseInt(t.borderBottomWidth,10)||0,c=Tk(n),h=c.y-i-s,d=c.x-r-l,g={borderLeft:i,borderRight:s,borderTop:r,borderBottom:l,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return i3()&&t.direction==="rtl"?g.scrollbarLeft=h:g.scrollbarRight=h,e&&(g.paddingLeft=parseInt(t.paddingLeft,10)||0,g.paddingRight=parseInt(t.paddingRight,10)||0,g.paddingTop=parseInt(t.paddingTop,10)||0,g.paddingBottom=parseInt(t.paddingBottom,10)||0),g}function l3(n,e=!1,t){let i=_0(n),s=o3(n,e),r={left:i.left+s.borderLeft+s.scrollbarLeft,right:i.right-s.borderRight-s.scrollbarRight,top:i.top+s.borderTop,bottom:i.bottom-s.borderBottom-s.scrollbarBottom};return e&&(r.left+=s.paddingLeft,r.right-=s.paddingRight,r.top+=s.paddingTop,r.bottom-=s.paddingBottom),r}function _0(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function c3(n){let e=xk(n),t=n.getBoundingClientRect();for(let i of e){let s=Sk(t,i.getBoundingClientRect());if(s)t=s;else return null}return t}function xk(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}class lp{constructor(e,t,i,s){this.els=t;let r=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(r.left),s&&this.buildElVerticals(r.top)}buildElHorizontals(e){let t=[],i=[];for(let s of this.els){let r=s.getBoundingClientRect();t.push(r.left-e),i.push(r.right-e)}this.lefts=t,this.rights=i}buildElVerticals(e){let t=[],i=[];for(let s of this.els){let r=s.getBoundingClientRect();t.push(r.top-e),i.push(r.bottom-e)}this.tops=t,this.bottoms=i}leftToIndex(e){let{lefts:t,rights:i}=this,s=t.length,r;for(r=0;r<s;r+=1)if(e>=t[r]&&e<i[r])return r}topToIndex(e){let{tops:t,bottoms:i}=this,s=t.length,r;for(r=0;r<s;r+=1)if(e>=t[r]&&e<i[r])return r}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Vf(this.tops||[],e.tops||[])&&Vf(this.bottoms||[],e.bottoms||[])&&Vf(this.lefts||[],e.lefts||[])&&Vf(this.rights||[],e.rights||[])}}function Vf(n,e){const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(e[i]))return!1;return!0}class b0{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class u3 extends b0{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class h3 extends b0{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class $o extends Rt{constructor(){super(...arguments),this.uid=Fo()}prepareHits(){}queryHit(e,t,i,s){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Dn(e,".fc-event-mirror")}isValidDateDownEl(e){return!Dn(e,".fc-event:not(.fc-bg-event)")&&!Dn(e,".fc-more-link")&&!Dn(e,"a[data-navlink]")&&!Dn(e,".fc-popover")}}class d3{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let i of e)this.insertEntry(i,t);return t}insertEntry(e,t){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,i){if(this.allowReslicing&&e.touchingEntry){const s=Object.assign(Object.assign({},t),{span:Rk(t.span,e.touchingEntry.span)});i.push(s),this.splitEntry(t,e.touchingEntry,i)}else i.push(t)}splitEntry(e,t,i){let s=e.span,r=t.span;s.start<r.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:r.start}},i),s.end>r.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.end,end:s.end}},i)}insertEntryAt(e,t){let{entriesByLevel:i,levelCoords:s}=this;t.lateral===-1?(Ov(s,t.level,t.levelCoord),Ov(i,t.level,[e])):Ov(i[t.level],t.lateral,e),this.stackCnts[dh(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:i,strictOrder:s,stackCnts:r}=this,l=t.length,c=0,h=-1,d=-1,g=null,y=0;for(let S=0;S<l;S+=1){const x=t[S];if(!s&&x>=c+this.getEntryThickness(e))break;let A=i[S],I,O=Ox(A,e.span.start,Mx),j=O[0]+O[1];for(;(I=A[j])&&I.span.start<e.span.end;){let B=x+this.getEntryThickness(I);B>c&&(c=B,g=I,h=S,d=j),B===c&&(y=Math.max(y,r[dh(I)]+1)),j+=1}}let _=0;if(g)for(_=h+1;_<l&&t[_]<c;)_+=1;let b=-1;return _<l&&t[_]===c&&(b=Ox(i[_],e.span.end,Mx)[0]),{touchingLevel:h,touchingLateral:d,touchingEntry:g,stackCnt:y,levelCoord:c,level:_,lateral:b}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,i=e.length,s=[];for(let r=0;r<i;r+=1){let l=e[r],c=t[r];for(let h of l)s.push(Object.assign(Object.assign({},h),{thickness:this.getEntryThickness(h),levelCoord:c}))}return s}}function Mx(n){return n.span.end}function dh(n){return n.index+":"+n.span.start}function Rk(n,e){let t=Math.max(n.start,e.start),i=Math.min(n.end,e.end);return t<i?{start:t,end:i}:null}function Ov(n,e,t){n.splice(e,0,t)}function Ox(n,e,t){let i=0,s=n.length;if(!s||e<t(n[i]))return[0,0];if(e>t(n[s-1]))return[s,0];for(;i<s;){let r=Math.floor(i+(s-i)/2),l=t(n[r]);if(e<l)s=r;else if(e>l)i=r+1;else return[r,1]}return[i,0]}class f3{constructor(e,t){this.emitter=new Kp}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const E0={};function g3(n,e){return!n||e>10?cn({weekday:"short"}):e>1?cn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):cn({weekday:"long"})}const Ck="fc-col-header-cell";function Dk(n){return n.text}class p3 extends Rt{render(){let{dateEnv:e,options:t,theme:i,viewApi:s}=this.context,{props:r}=this,{date:l,dateProfile:c}=r,h=Ak(l,r.todayRange,null,c),d=[Ck].concat(v0(h,i)),g=e.format(l,r.dayHeaderFormat),y=!h.isDisabled&&r.colCnt>1?N_(this.context,l):{},_=Object.assign(Object.assign(Object.assign({date:e.toDate(l),view:s},r.extraRenderProps),{text:g}),h);return ee(br,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:r.colSpan,"data-date":h.isDisabled?void 0:s0(l)},r.extraDataAttrs),renderProps:_,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:Dk,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},b=>ee("div",{className:"fc-scrollgrid-sync-inner"},!h.isDisabled&&ee(b,{elTag:"a",elAttrs:y,elClasses:["fc-col-header-cell-cushion",r.isSticky&&"fc-sticky"]})))}}const m3=cn({weekday:"long"});class y3 extends Rt{render(){let{props:e}=this,{dateEnv:t,theme:i,viewApi:s,options:r}=this.context,l=kn(new Date(2592e5),e.dow),c={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},h=t.format(l,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:l},c),{view:s}),e.extraRenderProps),{text:h});return ee(br,{elTag:"th",elClasses:[Ck,...v0(c,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:Dk,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},g=>ee("div",{className:"fc-scrollgrid-sync-inner"},ee(g,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(l,m3)}})))}}class w0 extends ri{constructor(e,t){super(e,t),this.initialNowDate=td(t.options.now,t.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:t}=this,i=Ra(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),s=t.dateEnv.startOf(i,e.unit),r=t.dateEnv.add(s,tt(1,e.unit)),l=r.valueOf()-i.valueOf();return l=Math.min(1e3*60*60*24,l),{currentState:{nowDate:s,todayRange:Px(s)},nextState:{nowDate:r,todayRange:Px(r)},waitMs:l}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}w0.contextType=Go;function Px(n){let e=vt(n),t=kn(e,1);return{start:e,end:t}}class v3 extends Rt{constructor(){super(...arguments),this.createDayHeaderFormatter=nt(_3)}render(){let{context:e}=this,{dates:t,dateProfile:i,datesRepDistinctDays:s,renderIntro:r}=this.props,l=this.createDayHeaderFormatter(e.options.dayHeaderFormat,s,t.length);return ee(w0,{unit:"day"},(c,h)=>ee("tr",{role:"row"},r&&r("day"),t.map(d=>s?ee(p3,{key:d.toISOString(),date:d,dateProfile:i,todayRange:h,colCnt:t.length,dayHeaderFormat:l}):ee(y3,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:l}))))}}function _3(n,e,t){return n||g3(e,t)}class b3{constructor(e,t){let i=e.start,{end:s}=e,r=[],l=[],c=-1;for(;i<s;)t.isHiddenDay(i)?r.push(c+.5):(c+=1,r.push(c),l.push(i)),i=kn(i,1);this.dates=l,this.indices=r,this.cnt=l.length}sliceRange(e){let t=this.getDateDayIndex(e.start),i=this.getDateDayIndex(kn(e.end,-1)),s=Math.max(0,t),r=Math.min(this.cnt-1,i);return s=Math.ceil(s),r=Math.floor(r),s<=r?{firstIndex:s,lastIndex:r,isStart:t===s,isEnd:i===r}:null}getDateDayIndex(e){let{indices:t}=this,i=Math.floor(Tc(this.dates[0],e));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}}class E3{constructor(e,t){let{dates:i}=e,s,r,l;if(t){for(r=i[0].getUTCDay(),s=1;s<i.length&&i[s].getUTCDay()!==r;s+=1);l=Math.ceil(i.length/s)}else l=1,s=i.length;this.rowCnt=l,this.colCnt=s,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let s=0;s<this.colCnt;s+=1)i.push(this.buildCell(t,s));e.push(i)}return e}buildCell(e,t){let i=this.daySeries.dates[e*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,i=this.daySeries.sliceRange(e),s=[];if(i){let{firstIndex:r,lastIndex:l}=i,c=r;for(;c<=l;){let h=Math.floor(c/t),d=Math.min((h+1)*t,l+1);s.push({row:h,firstCol:c%t,lastCol:(d-1)%t,isStart:i.isStart&&c===r,isEnd:i.isEnd&&d-1===l}),c=d}}return s}}class w3{constructor(){this.sliceBusinessHours=nt(this._sliceBusinessHours),this.sliceDateSelection=nt(this._sliceDateSpan),this.sliceEventStore=nt(this._sliceEventStore),this.sliceEventDrag=nt(this._sliceInteraction),this.sliceEventResize=nt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,i,s,...r){let{eventUiBases:l}=e,c=this.sliceEventStore(e.eventStore,l,t,i,...r);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,i,l,s,...r),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,i,s,...r),fgEventSegs:c.fg,bgEventSegs:c.bg,eventDrag:this.sliceEventDrag(e.eventDrag,l,t,i,...r),eventResize:this.sliceEventResize(e.eventResize,l,t,i,...r),eventSelection:e.eventSelection}}sliceNowDate(e,t,i,s,...r){return this._sliceDateSpan({range:{start:e,end:Ra(e,1)},allDay:!1},t,i,{},s,...r)}_sliceBusinessHours(e,t,i,s,...r){return e?this._sliceEventStore(Oo(e,Uf(t,!!i),s),{},t,i,...r).bg:[]}_sliceEventStore(e,t,i,s,...r){if(e){let l=Ix(e,t,Uf(i,!!s),s);return{bg:this.sliceEventRanges(l.bg,r),fg:this.sliceEventRanges(l.fg,r)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,i,s,...r){if(!e)return null;let l=Ix(e.mutatedEvents,t,Uf(i,!!s),s);return{segs:this.sliceEventRanges(l.fg,r),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,i,s,r,...l){if(!e)return[];let c=Uf(t,!!i),h=hc(e.range,c);if(h){e=Object.assign(Object.assign({},e),{range:h});let d=qF(e,s,r),g=this.sliceRange(e.range,...l);for(let y of g)y.eventRange=d;return g}return[]}sliceEventRanges(e,t){let i=[];for(let s of e)i.push(...this.sliceEventRange(s,t));return i}sliceEventRange(e,t){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:kn(i.start,1)});let s=this.sliceRange(i,...t);for(let r of s)r.eventRange=e,r.isStart=e.isStart&&r.isStart,r.isEnd=e.isEnd&&r.isEnd;return s}}function Uf(n,e){let t=n.activeRange;return e?t:{start:Ra(t.start,n.slotMinTime.milliseconds),end:Ra(t.end,n.slotMaxTime.milliseconds-864e5)}}function Ik(n,e,t){let{instances:i}=n.mutatedEvents;for(let s in i)if(!Yp(e.validRange,i[s].range))return!1;return kk({eventDrag:n},t)}function S3(n,e,t){return Yp(e.validRange,n.range)?kk({dateSelection:n},t):!1}function kk(n,e){let t=e.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||A3)(i,e)}function A3(n,e,t={},i){return!(n.eventDrag&&!T3(n,e,t,i)||n.dateSelection&&!x3(n,e,t,i))}function T3(n,e,t,i){let s=e.getCurrentData(),r=n.eventDrag,l=r.mutatedEvents,c=l.defs,h=l.instances,d=op(c,r.isEvent?n.eventUiBases:{"":s.selectionConfig});i&&(d=qo(d,i));let g=EF(n.eventStore,r.affectedEvents.instances),y=g.defs,_=g.instances,b=op(y,n.eventUiBases);for(let S in h){let x=h[S],A=x.range,I=d[x.defId],O=c[x.defId];if(!Nk(I.constraints,A,g,n.businessHours,e))return!1;let{eventOverlap:j}=e.options,B=typeof j=="function"?j:null;for(let K in _){let M=_[K];if(u0(A,M.range)&&(b[M.defId].overlap===!1&&r.isEvent||I.overlap===!1||B&&!B(new _t(e,y[M.defId],M),new _t(e,O,x))))return!1}let q=s.eventStore;for(let K of I.allows){let M=Object.assign(Object.assign({},t),{range:x.range,allDay:O.allDay}),C=q.defs[O.defId],D=q.instances[S],P;if(C?P=new _t(e,C,D):P=new _t(e,O),!K(p0(M,e),P))return!1}}return!0}function x3(n,e,t,i){let s=n.eventStore,r=s.defs,l=s.instances,c=n.dateSelection,h=c.range,{selectionConfig:d}=e.getCurrentData();if(i&&(d=i(d)),!Nk(d.constraints,h,s,n.businessHours,e))return!1;let{selectOverlap:g}=e.options,y=typeof g=="function"?g:null;for(let _ in l){let b=l[_];if(u0(h,b.range)&&(d.overlap===!1||y&&!y(new _t(e,r[b.defId],b),null)))return!1}for(let _ of d.allows){let b=Object.assign(Object.assign({},t),c);if(!_(p0(b,e),null))return!1}return!0}function Nk(n,e,t,i,s){for(let r of n)if(!C3(R3(r,e,t,i,s),e))return!1;return!0}function R3(n,e,t,i,s){return n==="businessHours"?Pv(Oo(i,e,s)):typeof n=="string"?Pv(Qp(t,r=>r.groupId===n)):typeof n=="object"&&n?Pv(Oo(n,e,s)):[]}function Pv(n){let{instances:e}=n,t=[];for(let i in e)t.push(e[i].range);return t}function C3(n,e){for(let t of n)if(Yp(t,e))return!0;return!1}const zf=/^(visible|hidden)$/;class D3 extends Rt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,_r(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:i}=e,s=t&&i,r=["fc-scroller"];return t&&(i?r.push("fc-scroller-liquid-absolute"):r.push("fc-scroller-liquid")),ee("div",{ref:this.handleEl,className:r.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:s&&-(e.overcomeLeft||0)||"",right:s&&-(e.overcomeRight||0)||"",bottom:s&&-(e.overcomeBottom||0)||"",marginLeft:!s&&-(e.overcomeLeft||0)||"",marginRight:!s&&-(e.overcomeRight||0)||"",marginBottom:!s&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(zf.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let s=0;s<i.length;s+=1)if(i[s].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(zf.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let s=0;s<i.length;s+=1)if(i[s].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return zf.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return zf.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class So{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:s,currentMap:r}=this,l=!1,c=!1;t!==null?(l=i in r,r[i]=t,s[i]=(s[i]||0)+1,c=!0):(s[i]-=1,s[i]||(delete r[i],delete this.callbackMap[i],l=!0)),this.masterCallback&&(l&&this.masterCallback(null,String(i)),c&&this.masterCallback(t,String(i)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),t}collect(e,t,i){return L5(this.currentMap,e,t,i)}getAll(){return l0(this.currentMap)}}function I3(n){let e=L6(n,".fc-scrollgrid-shrink"),t=0;for(let i of e)t=Math.max(t,X6(i));return Math.ceil(t)}function Mk(n,e){return n.liquid&&e.liquid}function k3(n,e){return e.maxHeight!=null||Mk(n,e)}function N3(n,e,t,i){let{expandRows:s}=t;return typeof e.content=="function"?e.content(t):ee("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:s?t.clientHeight:""}},t.tableColGroupNode,ee(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function M3(n,e){return xa(n,e,As)}function O3(n,e){let t=[];for(let i of n){let s=i.span||1;for(let r=0;r<s;r+=1)t.push(ee("col",{style:{width:i.width==="shrink"?P3(e):i.width||"",minWidth:i.minWidth||""}}))}return ee("colgroup",{},...t)}function P3(n){return n??4}function j3(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function L3(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function V3(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function U3(n){return ee("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function jx(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function z3(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}class Ok extends Rt{constructor(){super(...arguments),this.processCols=nt(e=>e,M3),this.renderMicroColGroup=nt(O3),this.scrollerRefs=new So,this.scrollerElRefs=new So(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:i}=this,s=e.sections||[],r=this.processCols(e.cols),l=this.renderMicroColGroup(r,t.shrinkWidth),c=L3(e.liquid,i);e.collapsibleWidth&&c.push("fc-scrollgrid-collapsible");let h=s.length,d=0,g,y=[],_=[],b=[];for(;d<h&&(g=s[d]).type==="header";)y.push(this.renderSection(g,l,!0)),d+=1;for(;d<h&&(g=s[d]).type==="body";)_.push(this.renderSection(g,l,!1)),d+=1;for(;d<h&&(g=s[d]).type==="footer";)b.push(this.renderSection(g,l,!0)),d+=1;let S=!wk();const x={role:"rowgroup"};return ee("table",{role:"grid",className:c.join(" "),style:{height:e.height}},!!(!S&&y.length)&&ee("thead",x,...y),!!(!S&&_.length)&&ee("tbody",x,..._),!!(!S&&b.length)&&ee("tfoot",x,...b),S&&ee("tbody",x,...y,..._,...b))}renderSection(e,t,i){return"outerContent"in e?ee(Vt,{key:e.key},e.outerContent):ee("tr",{key:e.key,role:"presentation",className:V3(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,i))}renderChunkTd(e,t,i,s){if("outerContent"in i)return i.outerContent;let{props:r}=this,{forceYScrollbars:l,scrollerClientWidths:c,scrollerClientHeights:h}=this.state,d=k3(r,e),g=Mk(r,e),y=r.liquid?l?"scroll":d?"auto":"hidden":"visible",_=e.key,b=N3(e,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!r.collapsibleWidth&&c[_]!==void 0?c[_]:null,clientHeight:h[_]!==void 0?h[_]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return ee(s?"th":"td",{ref:i.elRef,role:"presentation"},ee("div",{className:`fc-scroller-harness${g?" fc-scroller-harness-liquid":""}`},ee(D3,{ref:this.scrollerRefs.createRef(_),elRef:this.scrollerElRefs.createRef(_),overflowY:y,overflowX:r.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:g,liquidIsAbsolute:!0},b)))}_handleScrollerEl(e,t){let i=B3(this.props.sections,t);i&&_r(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return j3(this.props.cols)?I3(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=r3(),{scrollerRefs:t,scrollerElRefs:i}=this,s=!1,r={},l={};for(let c in t.currentMap){let h=t.currentMap[c];if(h&&h.needsYScrolling()){s=!0;break}}for(let c of this.props.sections){let h=c.key,d=i.currentMap[h];if(d){let g=d.parentNode;r[h]=Math.floor(g.getBoundingClientRect().width-(s?e.y:0)),l[h]=Math.floor(g.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:r,scrollerClientHeights:l}}}Ok.addStateEquality({scrollerClientWidths:As,scrollerClientHeights:As});function B3(n,e){for(let t of n)if(t.key===e)return t;return null}class S0 extends Rt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&kx(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:i}=t,{seg:s}=e,{eventRange:r}=s,{ui:l}=r,c={event:new _t(t,r.def,r.instance),view:t.viewApi,timeText:e.timeText,textColor:l.textColor,backgroundColor:l.backgroundColor,borderColor:l.borderColor,isDraggable:!e.disableDragging&&MF(s,t),isStartResizable:!e.disableResizing&&OF(s,t),isEndResizable:!e.disableResizing&&PF(s),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!s.isStart,isEnd:!!s.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return ee(br,Object.assign({},e,{elRef:this.handleEl,elClasses:[...jF(c),...s.eventRange.ui.classNames,...e.elClasses||[]],renderProps:c,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&kx(this.el,this.props.seg)}}class H3 extends Rt{render(){let{props:e,context:t}=this,{options:i}=t,{seg:s}=e,{ui:r}=s.eventRange,l=i.eventTimeFormat||e.defaultTimeFormat,c=vk(s,l,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return ee(S0,Object.assign({},e,{elTag:"a",elStyle:{borderColor:r.borderColor,backgroundColor:r.backgroundColor},elAttrs:_k(s,t),defaultGenerator:F3,timeText:c}),(h,d)=>ee(Vt,null,ee(h,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&ee("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&ee("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function F3(n){return ee("div",{className:"fc-event-main-frame"},n.timeText&&ee("div",{className:"fc-event-time"},n.timeText),ee("div",{className:"fc-event-title-container"},ee("div",{className:"fc-event-title fc-sticky"},n.event.title||ee(Vt,null," "))))}const q3=cn({day:"numeric"});class Pk extends Rt{constructor(){super(...arguments),this.refineRenderProps=vg(G3)}render(){let{props:e,context:t}=this,{options:i}=t,s=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return ee(br,Object.assign({},e,{elClasses:[...v0(s,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),s.isDisabled?{}:{"data-date":s0(e.date)}),renderProps:s,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:s.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}}function jk(n){return!!(n.dayCellContent||C_("dayCellContent",n))}function G3(n){let{date:e,dateEnv:t,dateProfile:i,isMonthStart:s}=n,r=Ak(e,n.todayRange,null,i),l=n.showDayNumber?t.format(e,s?n.monthStartFormat:q3):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},r),{isMonthStart:s,dayNumberText:l}),n.extraRenderProps)}class W3 extends Rt{render(){let{props:e}=this,{seg:t}=e;return ee(S0,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:$3,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function $3(n){let{title:e}=n.event;return e&&ee("div",{className:"fc-event-title"},n.event.title)}function Y3(n){return ee("div",{className:`fc-${n}`})}const Q3=n=>ee(Go.Consumer,null,e=>{let{dateEnv:t,options:i}=e,{date:s}=n,r=i.weekNumberFormat||n.defaultFormat,l=t.computeWeekNumber(s),c=t.format(s,r);return ee(br,Object.assign({},n,{renderProps:{num:l,text:c,date:s},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:K3,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function K3(n){return n.text}const jv=10;class X3 extends Rt{constructor(){super(...arguments),this.state={titleId:Wp()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&_r(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=Y1(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:i,state:s}=this,r=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return S6(ee("div",Object.assign({},i.extraAttrs,{id:i.id,className:r.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),ee("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},ee("span",{className:"fc-popover-title",id:s.titleId},i.title),ee("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),ee("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:s}=this,r=c3(t);if(r){let l=s.getBoundingClientRect(),c=i?Dn(t,".fc-scrollgrid").getBoundingClientRect().top:r.top,h=e?r.right-l.width:r.left;c=Math.max(c,jv),h=Math.min(h,document.documentElement.clientWidth-jv-l.width),h=Math.max(h,jv);let d=s.offsetParent.getBoundingClientRect();lh(s,{top:c-d.top,left:h-d.left})}}}class Z3 extends $o{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:i}=this,{startDate:s,todayRange:r,dateProfile:l}=i,c=t.format(s,e.dayPopoverFormat);return ee(Pk,{elRef:this.handleRootEl,date:s,dateProfile:l,todayRange:r},(h,d,g)=>ee(X3,{elRef:g.ref,id:i.id,title:c,extraClassNames:["fc-more-popover"].concat(g.className||[]),extraAttrs:g,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},jk(e)&&ee(h,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,t,i,s){let{rootEl:r,props:l}=this;return e>=0&&e<i&&t>=0&&t<s?{dateProfile:l.dateProfile,dateSpan:Object.assign({allDay:!l.forceTimed,range:{start:l.startDate,end:l.endDate}},l.extraDateSpan),dayEl:r,rect:{left:0,top:0,right:i,bottom:s},layer:1}:null}}class J3 extends Rt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Wp()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&_r(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:i}=this,{moreLinkClick:s}=i.options,r=Lx(t).start;function l(c){let{def:h,instance:d,range:g}=c.eventRange;return{event:new _t(i,h,d),start:i.dateEnv.toDate(g.start),end:i.dateEnv.toDate(g.end),isStart:c.isStart,isEnd:c.isEnd}}typeof s=="function"&&(s=s({date:r,allDay:!!t.allDayDate,allSegs:t.allSegs.map(l),hiddenSegs:t.hiddenSegs.map(l),jsEvent:e,view:i.viewApi})),!s||s==="popover"?this.setState({isPopoverOpen:!0}):typeof s=="string"&&i.calendarApi.zoomTo(r,s)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return ee(Go.Consumer,null,i=>{let{viewApi:s,options:r,calendarApi:l}=i,{moreLinkText:c}=r,{moreCnt:h}=e,d=Lx(e),g=typeof c=="function"?c.call(l,h):`+${h} ${c}`,y=ch(r.moreLinkHint,[h],g),_={num:h,shortText:`+${h}`,text:g,view:s};return ee(Vt,null,!!e.moreCnt&&ee(br,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),K1(this.handleClick)),{title:y,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:_,generatorName:"moreLinkContent",customGenerator:r.moreLinkContent,defaultGenerator:e.defaultGenerator||e9,classNameGenerator:r.moreLinkClassNames,didMount:r.moreLinkDidMount,willUnmount:r.moreLinkWillUnmount},e.children),t.isPopoverOpen&&ee(Z3,{id:t.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Dn(this.linkEl,".fc-view-harness"))}}function e9(n){return n.text}function Lx(n){if(n.allDayDate)return{start:n.allDayDate,end:kn(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:t9(e),end:i9(e)}}function t9(n){return n.reduce(n9).eventRange.range.start}function n9(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function i9(n){return n.reduce(s9).eventRange.range.end}function s9(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class r9{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class a9 extends r9{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let i=!1;e.isActive?(t.set(e.id,e),i=!0):t.has(e.id)&&(t.delete(e.id),i=!0),i&&this.set(t)}}const o9=[],Lk={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Vk=Object.assign(Object.assign({},Lk),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function l9(n){let e=n.length>0?n[0].code:"en",t=o9.concat(n),i={en:Vk};for(let s of t)i[s.code]=s;return{map:i,defaultCode:e}}function Uk(n,e){return typeof n=="object"&&!Array.isArray(n)?zk(n.code,[n.code],n):c9(n,e)}function c9(n,e){let t=[].concat(n||[]),i=u9(t,e)||Vk;return zk(n,t,i)}function u9(n,e){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let s=i.length;s>0;s-=1){let r=i.slice(0,s).join("-");if(e[r])return e[r]}}return null}function zk(n,e,t){let i=o0([Lk,t],["buttonText"]);delete i.code;let{week:s}=i;return delete i.week,{codeArg:n,codes:e,week:s,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function Na(n){return{id:Fo(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function h9(n,e){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(r){for(let l of r){const c=l.name,h=t[c];h===void 0?(t[c]=l.id,s(l.deps),i=f9(i,l)):h!==l.id&&console.warn(`Duplicate plugin '${c}'`)}}return n&&s(n),s(e),i}function d9(){let n=[],e=[],t;return(i,s)=>((!t||!xa(i,n)||!xa(s,e))&&(t=h9(i,s)),n=i,e=s,t)}function f9(n,e){return{premiumReleaseDate:g9(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function g9(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class Ma extends ed{}Ma.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Ma.prototype.baseIconClass="fc-icon";Ma.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Ma.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Ma.prototype.iconOverrideOption="buttonIcons";Ma.prototype.iconOverrideCustomButtonOption="icon";Ma.prototype.iconOverridePrefix="fc-icon-";function p9(n,e){let t={},i;for(i in n)M_(i,t,n,e);for(i in e)M_(i,t,n,e);return t}function M_(n,e,t,i){if(e[n])return e[n];let s=m9(n,e,t,i);return s&&(e[n]=s),s}function m9(n,e,t,i){let s=t[n],r=i[n],l=g=>s&&s[g]!==null?s[g]:r&&r[g]!==null?r[g]:null,c=l("component"),h=l("superType"),d=null;if(h){if(h===n)throw new Error("Can't have a custom view type that references itself");d=M_(h,e,t,i)}return!c&&d&&(c=d.component),c?{type:n,component:c,defaults:Object.assign(Object.assign({},d?d.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),r?r.rawOptions:{})}:null}function Vx(n){return qo(n,y9)}function y9(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=Ux(e):t&&!(t.prototype instanceof Rt)&&(t=Ux(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function Ux(n){return e=>ee(Go.Consumer,null,t=>ee(br,{elTag:"div",elClasses:sk(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function v9(n,e,t,i){let s=Vx(n),r=Vx(e.views),l=p9(s,r);return qo(l,c=>_9(c,r,e,t,i))}function _9(n,e,t,i,s){let r=n.overrides.duration||n.defaults.duration||i.duration||t.duration,l=null,c="",h="",d={};if(r&&(l=b9(r),l)){let _=x_(l);c=_.unit,_.value===1&&(h=c,d=e[c]?e[c].rawOptions:{})}let g=_=>{let b=_.buttonText||{},S=n.defaults.buttonTextKey;return S!=null&&b[S]!=null?b[S]:b[n.type]!=null?b[n.type]:b[h]!=null?b[h]:null},y=_=>{let b=_.buttonHints||{},S=n.defaults.buttonTextKey;return S!=null&&b[S]!=null?b[S]:b[n.type]!=null?b[n.type]:b[h]!=null?b[h]:null};return{type:n.type,component:n.component,duration:l,durationUnit:c,singleUnit:h,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},d),n.overrides),buttonTextOverride:g(i)||g(t)||n.overrides.buttonText,buttonTextDefault:g(s)||n.defaults.buttonText||g(uh)||n.type,buttonTitleOverride:y(i)||y(t)||n.overrides.buttonHint,buttonTitleDefault:y(s)||n.defaults.buttonHint||y(uh)}}let zx={};function b9(n){let e=JSON.stringify(n),t=zx[e];return t===void 0&&(t=tt(n),zx[e]=t),t}function E9(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function w9(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function S9(n,e,t,i){let s;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||t);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(s=i.buildPrev(n,t),s.isValid)return s;break;case"NEXT":if(s=i.buildNext(n,t),s.isValid)return s;break}return n}function A9(n,e,t){let i=e?e.activeRange:null;return Hk({},k9(n,t),i,t)}function T9(n,e,t,i){let s=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return Hk(n,e.sources,s,i);case"REMOVE_EVENT_SOURCE":return R9(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?Fk(n,s,i):n;case"FETCH_EVENT_SOURCES":return A0(n,e.sourceIds?J1(e.sourceIds):qk(n,i),s,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return I9(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function x9(n,e,t){let i=e?e.activeRange:null;return A0(n,qk(n,t),i,!0,t)}function Bk(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function Hk(n,e,t,i){let s={};for(let r of e)s[r.sourceId]=r;return t&&(s=Fk(s,t,i)),Object.assign(Object.assign({},n),s)}function R9(n,e){return Mo(n,t=>t.sourceId!==e)}function Fk(n,e,t){return A0(n,Mo(n,i=>C9(i,e,t)),e,!1,t)}function C9(n,e,t){return Gk(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function A0(n,e,t,i,s){let r={};for(let l in n){let c=n[l];e[l]?r[l]=D9(c,t,i,s):r[l]=c}return r}function D9(n,e,t,i){let{options:s,calendarApi:r}=i,l=i.pluginHooks.eventSourceDefs[n.sourceDefId],c=Fo();return l.fetch({eventSource:n,range:e,isRefetch:t,context:i},h=>{let{rawEvents:d}=h;s.eventSourceSuccess&&(d=s.eventSourceSuccess.call(r,d,h.response)||d),n.success&&(d=n.success.call(r,d,h.response)||d),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:c,fetchRange:e,rawEvents:d})},h=>{let d=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(r,h),d=!0),n.failure&&(n.failure(h),d=!0),d||console.warn(h.message,h),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:c,fetchRange:e,error:h})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:c})}function I9(n,e,t,i){let s=n[e];return s&&t===s.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:i})}):n}function qk(n,e){return Mo(n,t=>Gk(t,e))}function k9(n,e){let t=dk(e),i=[].concat(n.eventSources||[]),s=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let r of i){let l=hk(r,e,t);l&&s.push(l)}return s}function Gk(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function N9(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function M9(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function O9(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function P9(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function j9(n,e,t,i,s){let r=n.headerToolbar?Bx(n.headerToolbar,n,e,t,i,s):null,l=n.footerToolbar?Bx(n.footerToolbar,n,e,t,i,s):null;return{header:r,footer:l}}function Bx(n,e,t,i,s,r){let l={},c=[],h=!1;for(let d in n){let g=n[d],y=L9(g,e,t,i,s,r);l[d]=y.widgets,c.push(...y.viewsWithButtons),h=h||y.hasTitle}return{sectionWidgets:l,viewsWithButtons:c,hasTitle:h}}function L9(n,e,t,i,s,r){let l=e.direction==="rtl",c=e.customButtons||{},h=t.buttonText||{},d=e.buttonText||{},g=t.buttonHints||{},y=e.buttonHints||{},_=n?n.split(" "):[],b=[],S=!1;return{widgets:_.map(A=>A.split(",").map(I=>{if(I==="title")return S=!0,{buttonName:I};let O,j,B,q,K,M;if(O=c[I])B=C=>{O.click&&O.click.call(C.target,C,C.target)},(q=i.getCustomButtonIconClass(O))||(q=i.getIconClass(I,l))||(K=O.text),M=O.hint||O.text;else if(j=s[I]){b.push(I),B=()=>{r.changeView(I)},(K=j.buttonTextOverride)||(q=i.getIconClass(I,l))||(K=j.buttonTextDefault);let C=j.buttonTextOverride||j.buttonTextDefault;M=ch(j.buttonTitleOverride||j.buttonTitleDefault||e.viewHint,[C,I],C)}else if(r[I])if(B=()=>{r[I]()},(K=h[I])||(q=i.getIconClass(I,l))||(K=d[I]),I==="prevYear"||I==="nextYear"){let C=I==="prevYear"?"prev":"next";M=ch(g[C]||y[C],[d.year||"year","year"],d[I])}else M=C=>ch(g[I]||y[I],[d[C]||C,C],d[I]);return{buttonName:I,buttonClick:B,buttonIcon:q,buttonText:K,buttonHint:M}})),viewsWithButtons:b,hasTitle:S}}class V9{constructor(e,t,i){this.type=e,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let U9={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const z9=Na({name:"array-event-source",eventSourceDefs:[U9]});let B9={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:i}=n.context,s=n.eventSource.meta;GF(s.bind(null,bk(n.range,i)),r=>e({rawEvents:r}),t)}};const H9=Na({name:"func-event-source",eventSourceDefs:[B9]}),F9={method:String,extraParams:Z,startParam:String,endParam:String,timeZoneParam:String};let q9={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:i}=n.eventSource,s=W9(i,n.range,n.context);WF(i.method,i.url,s).then(([r,l])=>{e({rawEvents:r,response:l})},t)}};const G9=Na({name:"json-event-source",eventSourceRefiners:F9,eventSourceDefs:[q9]});function W9(n,e,t){let{dateEnv:i,options:s}=t,r,l,c,h,d={};return r=n.startParam,r==null&&(r=s.startParam),l=n.endParam,l==null&&(l=s.endParam),c=n.timeZoneParam,c==null&&(c=s.timeZoneParam),typeof n.extraParams=="function"?h=n.extraParams():h=n.extraParams||{},Object.assign(d,h),d[r]=i.formatIso(e.start),d[l]=i.formatIso(e.end),i.timeZone!=="local"&&(d[c]=i.timeZone),d}const $9={daysOfWeek:Z,startTime:tt,endTime:tt,duration:tt,startRecur:Z,endRecur:Z};let Y9={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null},i;return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=t5(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:i,typeData:t}}return null},expand(n,e,t){let i=hc(e,{start:n.startRecur,end:n.endRecur});return i?K9(n.daysOfWeek,n.startTime,i,t):[]}};const Q9=Na({name:"simple-recurring-event",recurringTypes:[Y9],eventRefiners:$9});function K9(n,e,t,i){let s=n?J1(n):null,r=vt(t.start),l=t.end,c=[];for(;r<l;){let h;(!s||s[r.getUTCDay()])&&(e?h=i.add(r,e):h=r,c.push(h)),r=kn(r,1)}return c}const X9=Na({name:"change-handler",optionChangeHandlers:{events(n,e){Hx([n],e)},eventSources:Hx}});function Hx(n,e){let t=l0(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let i=[];for(let s of n){let r=!1;for(let l=0;l<t.length;l+=1)if(t[l]._raw===s){t.splice(l,1),r=!0;break}r||i.push(s)}for(let s of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of i)e.calendarApi.addEventSource(s)}function Z9(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},bk(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function J9(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",To(n,e))}const e7=[z9,H9,G9,Q9,X9,Na({name:"misc",isLoadingFuncs:[n=>Bk(n.eventSources)],propSetHandlers:{dateProfile:Z9,eventStore:J9}})];class t7{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new e0(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],i;for(;i=e.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function n7(n,e,t){let i;return/^(year|month)$/.test(n.currentRangeUnit)?i=n.currentRange:i=n.activeRange,t.formatRange(i.start,i.end,cn(e.titleFormat||i7(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function i7(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=ep(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class s7{constructor(e){this.computeCurrentViewData=nt(this._computeCurrentViewData),this.organizeRawLocales=nt(l9),this.buildLocale=nt(Uk),this.buildPluginHooks=d9(),this.buildDateEnv=nt(r7),this.buildTheme=nt(a7),this.parseToolbars=nt(j9),this.buildViewSpecs=nt(v9),this.buildDateProfileGenerator=vg(o7),this.buildViewApi=nt(l7),this.buildViewUiProps=vg(h7),this.buildEventUiBySource=nt(c7,As),this.buildEventUiBases=nt(u7),this.parseContextBusinessHours=vg(d7),this.buildTitle=nt(n7),this.emitter=new Kp,this.actionRunner=new t7(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=_=>{this.actionRunner.request(_)},this.props=e,this.actionRunner.pause();let t={},i=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),s=i.calendarOptions.initialView||i.pluginHooks.initialView,r=this.computeCurrentViewData(s,i,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(r.options);let l=iF(i.calendarOptions,i.dateEnv),c=r.dateProfileGenerator.build(l);ya(c.activeRange,l)||(l=c.currentRange.start);let h={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let _ of i.pluginHooks.contextInit)_(h);let d=A9(i.calendarOptions,c,h),g={dynamicOptionOverrides:t,currentViewType:s,currentDate:l,dateProfile:c,businessHours:this.parseContextBusinessHours(h),eventSources:d,eventUiBases:{},eventStore:Ui(),renderableEventStore:Ui(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(h).selectionConfig},y=Object.assign(Object.assign({},h),g);for(let _ of i.pluginHooks.reducers)Object.assign(g,_(null,null,y));Lv(g,h)&&this.emitter.trigger("loading",!0),this.state=g,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:i}=this;t===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:i,emitter:s}=this,r=w9(i.dynamicOptionOverrides,e),l=this.computeOptionsData(t.optionOverrides,r,t.calendarApi),c=E9(i.currentViewType,e),h=this.computeCurrentViewData(c,l,t.optionOverrides,r);t.calendarApi.currentDataManager=this,s.setThisContext(t.calendarApi),s.setOptions(h.options);let d={dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:g,dateProfile:y}=i;this.data&&this.data.dateProfileGenerator!==h.dateProfileGenerator&&(y=h.dateProfileGenerator.build(g)),g=nF(g,e),y=S9(y,e,g,h.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!ya(y.currentRange,g))&&(g=y.currentRange.start);let _=T9(i.eventSources,e,y,d),b=yF(i.eventStore,e,_,y,d),x=Bk(_)&&!h.options.progressiveEventRendering&&i.renderableEventStore||b,{eventUiSingleBase:A,selectionConfig:I}=this.buildViewUiProps(d),O=this.buildEventUiBySource(_),j=this.buildEventUiBases(x.defs,A,O),B={dynamicOptionOverrides:r,currentViewType:c,currentDate:g,dateProfile:y,eventSources:_,eventStore:b,renderableEventStore:x,selectionConfig:I,eventUiBases:j,businessHours:this.parseContextBusinessHours(d),dateSelection:N9(i.dateSelection,e),eventSelection:M9(i.eventSelection,e),eventDrag:O9(i.eventDrag,e),eventResize:P9(i.eventResize,e)},q=Object.assign(Object.assign({},d),B);for(let C of l.pluginHooks.reducers)Object.assign(B,C(i,e,q));let K=Lv(i,d),M=Lv(B,d);!K&&M?s.trigger("loading",!0):K&&!M&&s.trigger("loading",!1),this.state=B,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,i=this.data,s=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),r=this.computeCurrentViewData(t.currentViewType,s,e.optionOverrides,t.dynamicOptionOverrides),l=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,r.options,s.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),r),t),c=s.pluginHooks.optionChangeHandlers,h=i&&i.calendarOptions,d=s.calendarOptions;if(h&&h!==d){h.timeZone!==d.timeZone&&(t.eventSources=l.eventSources=x9(l.eventSources,t.dateProfile,l),t.eventStore=l.eventStore=Cx(l.eventStore,i.dateEnv,l.dateEnv),t.renderableEventStore=l.renderableEventStore=Cx(l.renderableEventStore,i.dateEnv,l.dateEnv));for(let g in c)(this.optionsForHandling.indexOf(g)!==-1||h[g]!==d[g])&&c[g](d[g],l)}this.optionsForHandling=[],e.onData&&e.onData(l)}computeOptionsData(e,t,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:r,localeDefaults:l,availableLocaleData:c,extra:h}=this.processRawCalendarOptions(e,t);Fx(h);let d=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,r,c,s.defaultRangeSeparator),g=this.buildViewSpecs(r.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,l),y=this.buildTheme(s,r),_=this.parseToolbars(s,this.stableOptionOverrides,y,g,i);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:r,dateEnv:d,viewSpecs:g,theme:y,toolbarConfig:_,localeDefaults:l,availableRawLocales:c.map}}processRawCalendarOptions(e,t){let{locales:i,locale:s}=Dv([uh,e,t]),r=this.organizeRawLocales(i),l=r.map,c=this.buildLocale(s||r.defaultCode,l).options,h=this.buildPluginHooks(e.plugins||[],e7),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ex),wx),Sx),h.listenerRefiners),h.optionRefiners),g={},y=Dv([uh,c,e,t]),_={},b=this.currentCalendarOptionsInput,S=this.currentCalendarOptionsRefined,x=!1;for(let A in y)this.optionsForRefining.indexOf(A)===-1&&(y[A]===b[A]||mo[A]&&A in b&&mo[A](b[A],y[A]))?_[A]=S[A]:d[A]?(_[A]=d[A](y[A]),x=!0):g[A]=b[A];return x&&(this.currentCalendarOptionsInput=y,this.currentCalendarOptionsRefined=_,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:h,availableLocaleData:r,localeDefaults:c,extra:g}}_computeCurrentViewData(e,t,i,s){let r=t.viewSpecs[e];if(!r)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:l,extra:c}=this.processRawViewOptions(r,t.pluginHooks,t.localeDefaults,i,s);Fx(c);let h=this.buildDateProfileGenerator({dateProfileGeneratorClass:r.optionDefaults.dateProfileGeneratorClass,duration:r.duration,durationUnit:r.durationUnit,usesMinMaxTime:r.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,nowInput:l.now,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,fixedWeekCount:l.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:r,options:l,dateProfileGenerator:h,viewApi:d}}processRawViewOptions(e,t,i,s,r){let l=Dv([uh,e.optionDefaults,i,s,e.optionOverrides,r]),c=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ex),wx),Sx),M5),t.listenerRefiners),t.optionRefiners),h={},d=this.currentViewOptionsInput,g=this.currentViewOptionsRefined,y=!1,_={};for(let b in l)l[b]===d[b]||mo[b]&&mo[b](l[b],d[b])?h[b]=g[b]:(l[b]===this.currentCalendarOptionsInput[b]||mo[b]&&mo[b](l[b],this.currentCalendarOptionsInput[b])?b in this.currentCalendarOptionsRefined&&(h[b]=this.currentCalendarOptionsRefined[b]):c[b]?h[b]=c[b](l[b]):_[b]=l[b],y=!0);return y&&(this.currentViewOptionsInput=l,this.currentViewOptionsRefined=h),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:_}}}function r7(n,e,t,i,s,r,l,c){let h=Uk(e||l.defaultCode,l.map);return new F5({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:r.namedTimeZonedImpl,locale:h,weekNumberCalculation:t,firstDay:i,weekText:s,cmdFormatter:r.cmdFormatter,defaultSeparator:c})}function a7(n,e){let t=e.themeClasses[n.themeSystem]||Ma;return new t(n)}function o7(n){let e=n.dateProfileGeneratorClass||ok;return new e(n)}function l7(n,e,t){return new V9(n,e,t)}function c7(n){return qo(n,e=>e.ui)}function u7(n,e,t){let i={"":e};for(let s in n){let r=n[s];r.sourceId&&t[r.sourceId]&&(i[s]=t[r.sourceId])}return i}function h7(n){let{options:e}=n;return{eventUiSingleBase:ap({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:ap({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function Lv(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function d7(n){return xF(n.options.businessHours,n)}function Fx(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class f7 extends Rt{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return ee("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:i}=this.context,s=[],r=!0;for(let l of e){let{buttonName:c,buttonClick:h,buttonText:d,buttonIcon:g,buttonHint:y}=l;if(c==="title")r=!1,s.push(ee("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let _=c===t.activeButton,b=!t.isTodayEnabled&&c==="today"||!t.isPrevEnabled&&c==="prev"||!t.isNextEnabled&&c==="next",S=[`fc-${c}-button`,i.getClass("button")];_&&S.push(i.getClass("buttonActive")),s.push(ee("button",{type:"button",title:typeof y=="function"?y(t.navUnit):y,disabled:b,"aria-pressed":_,className:S.join(" "),onClick:h},d||(g?ee("span",{className:g,role:"img"}):"")))}}if(s.length>1){let l=r&&i.getClass("buttonGroup")||"";return ee("div",{className:l},...s)}return s[0]}}class qx extends Rt{render(){let{model:e,extraClassName:t}=this.props,i=!1,s,r,l=e.sectionWidgets,c=l.center;return l.left?(i=!0,s=l.left):s=l.start,l.right?(i=!0,r=l.right):r=l.end,ee("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",c||[]),this.renderSection("end",r||[]))}renderSection(e,t){let{props:i}=this;return ee(f7,{key:e,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class g7 extends Rt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,_r(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:i}=e,s=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],r="",l="";return i?t.availableWidth!==null?r=t.availableWidth/i:l=`${1/i*100}%`:r=e.height||"",ee("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:s.join(" "),style:{height:r,paddingBottom:l}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class p7 extends xc{constructor(e){super(e),this.handleSegClick=(t,i)=>{let{component:s}=this,{context:r}=s,l=dc(i);if(l&&s.isValidSegDownEl(t.target)){let c=Dn(t.target,".fc-event-forced-url"),h=c?c.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:i,event:new _t(s.context,l.eventRange.def,l.eventRange.instance),jsEvent:t,view:r.viewApi}),h&&!t.defaultPrevented&&(window.location.href=h)}},this.destroy=Q1(e.el,"click",".fc-event",this.handleSegClick)}}class m7 extends xc{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{dc(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=z6(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,i){let{component:s}=this,{context:r}=s,l=dc(i);(!t||s.isValidSegDownEl(t.target))&&r.emitter.trigger(e,{el:i,event:new _t(r,l.eventRange.def,l.eventRange.instance),jsEvent:t,view:r.viewApi})}}class y7 extends Wo{constructor(){super(...arguments),this.buildViewContext=nt(W5),this.buildViewPropTransformers=nt(_7),this.buildToolbarProps=nt(v7),this.headerRef=vr(),this.footerRef=vr(),this.interactionsStore={},this.state={viewLabelId:Wp()},this.registerInteractiveComponent=(e,t)=>{let i=QF(e,t),l=[p7,m7].concat(this.props.pluginHooks.componentInteractions).map(c=>new c(i));this.interactionsStore[e.uid]=l,k_[e.uid]=i},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[e.uid]}delete k_[e.uid]},this.resizeRunner=new e0(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:i}=e,s=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,td(e.options.now,e.dateEnv),e.viewTitle),r=!1,l="",c;e.isHeightAuto||e.forPrint?l="":i.height!=null?r=!0:i.contentHeight!=null?l=i.contentHeight:c=Math.max(i.aspectRatio,.5);let h=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),d=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return ee(Go.Provider,{value:h},t.header&&ee(qx,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:d},s)),ee(g7,{liquid:r,height:l,aspectRatio:c,labeledById:d},this.renderView(e),this.buildAppendContent()),t.footer&&ee(qx,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},s)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let i in t)t[i](e[i],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let s in i)t[s]!==e[s]&&i[s](t[s],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(i=>i(e));return ee(Vt,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:i}=e,s={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},r=this.buildViewPropTransformers(t.viewPropsTransformers);for(let c of r)Object.assign(s,c.transform(s,e));let l=i.component;return ee(l,Object.assign({},s))}}function v7(n,e,t,i,s,r){let l=t.build(s,void 0,!1),c=t.buildPrev(e,i,!1),h=t.buildNext(e,i,!1);return{title:r,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:l.isValid&&!ya(e.currentRange,s),isPrevEnabled:c.isValid,isNextEnabled:h.isValid}}function _7(n){return n.map(e=>new e)}class b7 extends KF{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;sp(()=>{Dh(ee(YF,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(s,r,l,c)=>(this.setClassNames(s),this.setHeight(r),ee(ik.Provider,{value:this.customContentRenderId},ee(y7,Object.assign({isHeightAuto:l,forPrint:c},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Dh(null,this.el),this.setClassNames([]),this.setHeight(""))},k6(e),this.el=e,this.renderRunner=new e0(this.handleRenderRequest),new s7({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){sp(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!xa(e,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of e)t.add(i);this.currentClassNames=e}}setHeight(e){$1(this.el,"height",e)}}const E7=parseInt(String(Ti.version).split(".")[0]),w7=E7<18;class Wk extends z.Component{constructor(){super(...arguments),this.elRef=z.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(Ti.createElement(S7,{key:t.id,customRendering:t}));return Ti.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new a9;this.handleCustomRendering=e.handle.bind(e),this.calendar=new b7(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Kv.flushSync(()=>{})});let t;e.subscribe(i=>{const s=Date.now(),r=!t;(w7||r||this.isUpdating||this.isUnmounting||s-t<100?$k:Kv.flushSync)(()=>{this.setState({customRenderingMap:i},()=>{t=s,r?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}Wk.act=$k;class S7 extends z.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,i=typeof t=="function"?t(e.renderProps):t;return Kv.createPortal(i,e.containerEl)}}function $k(n){n()}class A7 extends $o{constructor(){super(...arguments),this.headerElRef=vr()}renderSimpleLayout(e,t){let{props:i,context:s}=this,r=[],l=jx(s.options);return e&&r.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),ee(Ax,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},ee(Ok,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:r}))}renderHScrollLayout(e,t,i,s){let r=this.context.pluginHooks.scrollGridImpl;if(!r)throw new Error("No ScrollGrid implementation");let{props:l,context:c}=this,h=!l.forPrint&&jx(c.options),d=!l.forPrint&&z3(c.options),g=[];return e&&g.push({type:"header",key:"header",isSticky:h,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),g.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),d&&g.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:U3}]}),ee(Ax,{elClasses:["fc-daygrid"],viewSpec:c.viewSpec},ee(r,{liquid:!l.isHeightAuto&&!l.forPrint,forPrint:l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:i,minWidth:s}]}],sections:g}))}}function Bf(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function Hf(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function Gx(n,e){let t=[];if(n){for(let i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}const Yk=cn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Qk(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class Kk extends Rt{render(){let{props:e}=this;return ee(H3,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Yk,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class Xk extends Rt{render(){let{props:e,context:t}=this,{options:i}=t,{seg:s}=e,r=i.eventTimeFormat||Yk,l=vk(s,r,t,!0,e.defaultDisplayEventEnd);return ee(S0,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:_k(e.seg,t),defaultGenerator:T7,timeText:l,isResizing:!1,isDateSelecting:!1}))}}function T7(n){return ee(Vt,null,ee("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&ee("div",{className:"fc-event-time"},n.timeText),ee("div",{className:"fc-event-title"},n.event.title||ee(Vt,null," ")))}class x7 extends Rt{constructor(){super(...arguments),this.compileSegs=nt(R7)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return ee(J3,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let s=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return ee(Vt,null,t.map(r=>{let l=r.eventRange.instance.instanceId;return ee("div",{className:"fc-daygrid-event-harness",key:l,style:{visibility:s[l]?"hidden":""}},Qk(r)?ee(Xk,Object.assign({seg:r,isDragging:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},hh(r,e.todayRange))):ee(Kk,Object.assign({seg:r,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},hh(r,e.todayRange))))}))}})}}function R7(n){let e=[],t=[];for(let i of n)e.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:e,invisibleSegs:t}}const C7=cn({week:"narrow"});class D7 extends $o{constructor(){super(...arguments),this.rootElRef=vr(),this.state={dayNumberId:Wp()},this.handleRootEl=e=>{_r(this.rootElRef,e),_r(this.props.elRef,e)}}render(){let{context:e,props:t,state:i,rootElRef:s}=this,{options:r,dateEnv:l}=e,{date:c,dateProfile:h}=t;const d=t.showDayNumber&&k7(c,h.currentRange,l);return ee(Pk,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:I7,date:c,dateProfile:h,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:d,extraRenderProps:t.extraRenderProps},(g,y)=>ee("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&ee(Q3,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:N_(e,c,"week"),date:c,defaultFormat:C7}),!y.isDisabled&&(t.showDayNumber||jk(r)||t.forceDayTop)?ee("div",{className:"fc-daygrid-day-top"},ee(g,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},N_(e,c)),{id:i.dayNumberId})})):t.showDayNumber?ee("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},ee("a",{className:"fc-daygrid-day-number"}," ")):void 0,ee("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,ee("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},ee(x7,{allDayDate:c,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:s,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),ee("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function I7(n){return n.dayNumberText||ee(Vt,null," ")}function k7(n,e,t){const{start:i,end:s}=e,r=Ra(s,-1),l=t.getYear(i),c=t.getMonth(i),h=t.getYear(r),d=t.getMonth(r);return!(l===h&&c===d)&&(n.valueOf()===i.valueOf()||t.getDay(n)===1&&n.valueOf()<s.valueOf())}function Zk(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function Jk(n){return Zk(n)+":"+n.lastCol}function N7(n,e,t,i,s,r,l){let c=new P7(I=>{let O=n[I.index].eventRange.instance.instanceId+":"+I.span.start+":"+(I.span.end-1);return s[O]||1});c.allowReslicing=!0,c.strictOrder=i,e===!0||t===!0?(c.maxCoord=r,c.hiddenConsumes=!0):typeof e=="number"?c.maxStackCnt=e:typeof t=="number"&&(c.maxStackCnt=t,c.hiddenConsumes=!0);let h=[],d=[];for(let I=0;I<n.length;I+=1){let O=n[I],j=Jk(O);s[j]!=null?h.push({index:I,span:{start:O.firstCol,end:O.lastCol+1}}):d.push(O)}let g=c.addSegs(h),y=c.toRects(),{singleColPlacements:_,multiColPlacements:b,leftoverMargins:S}=M7(y,n,l),x=[],A=[];for(let I of d){b[I.firstCol].push({seg:I,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let O=I.firstCol;O<=I.lastCol;O+=1)_[O].push({seg:Jl(I,O,O+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let I=0;I<l.length;I+=1)x.push(0);for(let I of g){let O=n[I.index],j=I.span;b[j.start].push({seg:Jl(O,j.start,j.end,l),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let B=j.start;B<j.end;B+=1)x[B]+=1,_[B].push({seg:Jl(O,B,B+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let I=0;I<l.length;I+=1)A.push(S[I]);return{singleColPlacements:_,multiColPlacements:b,moreCnts:x,moreMarginTops:A}}function M7(n,e,t){let i=O7(n,t.length),s=[],r=[],l=[];for(let c=0;c<t.length;c+=1){let h=i[c],d=[],g=0,y=0;for(let b of h){let S=e[b.index];d.push({seg:Jl(S,c,c+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:b.levelCoord,marginTop:b.levelCoord-g}),g=b.levelCoord+b.thickness}let _=[];g=0,y=0;for(let b of h){let S=e[b.index],x=b.span.end-b.span.start>1,A=b.span.start===c;y+=b.levelCoord-g,g=b.levelCoord+b.thickness,x?(y+=b.thickness,A&&_.push({seg:Jl(S,b.span.start,b.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:b.levelCoord,marginTop:0})):A&&(_.push({seg:Jl(S,b.span.start,b.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:b.levelCoord,marginTop:y}),y=0)}s.push(d),r.push(_),l.push(y)}return{singleColPlacements:s,multiColPlacements:r,leftoverMargins:l}}function O7(n,e){let t=[];for(let i=0;i<e;i+=1)t.push([]);for(let i of n)for(let s=i.span.start;s<i.span.end;s+=1)t[s].push(i);return t}function Jl(n,e,t,i){if(n.firstCol===e&&n.lastCol===t-1)return n;let s=n.eventRange,r=s.range,l=hc(r,{start:i[e].date,end:kn(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:l},isStart:n.isStart&&l.start.valueOf()===r.start.valueOf(),isEnd:n.isEnd&&l.end.valueOf()===r.end.valueOf()})}class P7 extends d3{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:i}=this,s=r=>!this.forceHidden[dh(r)];for(let r=0;r<i.length;r+=1)i[r]=i[r].filter(s);return t}handleInvalidInsertion(e,t,i){const{entriesByLevel:s,forceHidden:r}=this,{touchingEntry:l,touchingLevel:c,touchingLateral:h}=e;if(this.hiddenConsumes&&l){const d=dh(l);if(!r[d])if(this.allowReslicing){const g=Object.assign(Object.assign({},l),{span:Rk(l.span,t.span)}),y=dh(g);r[y]=!0,s[c][h]=g,i.push(g),this.splitEntry(l,t,i)}else r[d]=!0,i.push(l)}super.handleInvalidInsertion(e,t,i)}}class eN extends $o{constructor(){super(...arguments),this.cellElRefs=new So,this.frameElRefs=new So,this.fgElRefs=new So,this.segHarnessRefs=new So,this.rootElRef=vr(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:i}=this,{options:s}=i,r=e.cells.length,l=Hf(e.businessHourSegs,r),c=Hf(e.bgEventSegs,r),h=Hf(this.getHighlightSegs(),r),d=Hf(this.getMirrorSegs(),r),{singleColPlacements:g,multiColPlacements:y,moreCnts:_,moreMarginTops:b}=N7(kF(e.fgEventSegs,s.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,s.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),S=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return ee("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((x,A)=>{let I=this.renderFgSegs(A,e.forPrint?g[A]:y[A],e.todayRange,S),O=this.renderFgSegs(A,j7(d[A],y),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return ee(D7,{key:x.key,elRef:this.cellElRefs.createRef(x.key),innerElRef:this.frameElRefs.createRef(x.key),dateProfile:e.dateProfile,date:x.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&A===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:x.extraRenderProps,extraDataAttrs:x.extraDataAttrs,extraClassNames:x.extraClassNames,extraDateSpan:x.extraDateSpan,moreCnt:_[A],moreMarginTop:b[A],singlePlacements:g[A],fgContentElRef:this.fgElRefs.createRef(x.key),fgContent:ee(Vt,null,ee(Vt,null,I),ee(Vt,null,O)),bgContent:ee(Vt,null,this.renderFillSegs(h[A],"highlight"),this.renderFillSegs(l[A],"non-business"),this.renderFillSegs(c[A],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let i=this.props;this.updateSizing(!As(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,i,s,r,l,c){let{context:h}=this,{eventSelection:d}=this.props,{framePositions:g}=this.state,y=this.props.cells.length===1,_=r||l||c,b=[];if(g)for(let S of t){let{seg:x}=S,{instanceId:A}=x.eventRange.instance,I=S.isVisible&&!s[A],O=S.isAbsolute,j="",B="";O&&(h.isRtl?(B=0,j=g.lefts[x.lastCol]-g.lefts[x.firstCol]):(j=0,B=g.rights[x.firstCol]-g.rights[x.lastCol])),b.push(ee("div",{className:"fc-daygrid-event-harness"+(O?" fc-daygrid-event-harness-abs":""),key:Zk(x),ref:_?null:this.segHarnessRefs.createRef(Jk(x)),style:{visibility:I?"":"hidden",marginTop:O?"":S.marginTop,top:O?S.absoluteTop:"",left:j,right:B}},Qk(x)?ee(Xk,Object.assign({seg:x,isDragging:r,isSelected:A===d,defaultDisplayEventEnd:y},hh(x,i))):ee(Kk,Object.assign({seg:x,isDragging:r,isResizing:l,isDateSelecting:c,isSelected:A===d,defaultDisplayEventEnd:y},hh(x,i)))))}return b}renderFillSegs(e,t){let{isRtl:i}=this.context,{todayRange:s}=this.props,{framePositions:r}=this.state,l=[];if(r)for(let c of e){let h=i?{right:0,left:r.lefts[c.lastCol]-r.lefts[c.firstCol]}:{left:0,right:r.rights[c.firstCol]-r.rights[c.lastCol]};l.push(ee("div",{key:LF(c.eventRange),className:"fc-daygrid-bg-harness",style:h},t==="bg-event"?ee(W3,Object.assign({seg:c},hh(c,s))):Y3(t)))}return ee(Vt,{},...l)}updateSizing(e){let{props:t,state:i,frameElRefs:s}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let h=t.cells.map(d=>s.currentMap[d.key]);if(h.length){let d=this.rootElRef.current,g=new lp(d,h,!0,!1);(!i.framePositions||!i.framePositions.similarTo(g))&&this.setState({framePositions:new lp(d,h,!0,!1)})}}const r=this.state.segHeights,l=this.querySegHeights(),c=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},r),l),maxContentHeight:c?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let i in e){let s=Math.round(e[i].getBoundingClientRect().height);t[i]=Math.max(t[i]||0,s)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}eN.addStateEquality({segHeights:As});function j7(n,e){if(!n.length)return[];let t=L7(e);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}function L7(n){let e={};for(let t of n)for(let i of t)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}class V7 extends $o{constructor(){super(...arguments),this.splitBusinessHourSegs=nt(Bf),this.splitBgEventSegs=nt(Bf),this.splitFgEventSegs=nt(Bf),this.splitDateSelectionSegs=nt(Bf),this.splitEventDrag=nt(Gx),this.splitEventResize=nt(Gx),this.rowRefs=new So}render(){let{props:e,context:t}=this,i=e.cells.length,s=this.splitBusinessHourSegs(e.businessHourSegs,i),r=this.splitBgEventSegs(e.bgEventSegs,i),l=this.splitFgEventSegs(e.fgEventSegs,i),c=this.splitDateSelectionSegs(e.dateSelectionSegs,i),h=this.splitEventDrag(e.eventDrag,i),d=this.splitEventResize(e.eventResize,i),g=i>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return ee(w0,{unit:"day"},(y,_)=>ee(Vt,null,e.cells.map((b,S)=>ee(eN,{ref:this.rowRefs.createRef(S),key:b.length?b[0].date.toISOString():S,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:_,dateProfile:e.dateProfile,cells:b,renderIntro:e.renderRowIntro,businessHourSegs:s[S],eventSelection:e.eventSelection,bgEventSegs:r[S].filter(U7),fgEventSegs:l[S],dateSelectionSegs:c[S],eventDrag:h[S],eventResize:d[S],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:g,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new lp(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new lp(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:i,rowPositions:s}=this,r=i.leftToIndex(e),l=s.topToIndex(t);if(l!=null&&r!=null){let c=this.props.cells[l][r];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(l,r),allDay:!0},c.extraDateSpan),dayEl:this.getCellEl(l,r),rect:{left:i.lefts[r],right:i.rights[r],top:s.tops[l],bottom:s.bottoms[l]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let i=this.props.cells[e][t].date,s=kn(i,1);return{start:i,end:s}}}function U7(n){return n.eventRange.def.allDay}class z7 extends $o{constructor(){super(...arguments),this.elRef=vr(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:s}=e,r=i===!0||t===!0;r&&!s&&(r=!1,t=null,i=null);let l=["fc-daygrid-body",r?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return ee("div",{ref:this.elRef,className:l.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},ee("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:s?e.clientHeight:""}},e.colGroupNode,ee("tbody",{role:"presentation"},ee(V7,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=B7(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),s=e.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}function B7(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${y5(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${s0(e.currentDate)}"]`)),t}class H7 extends w3{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class F7 extends $o{constructor(){super(...arguments),this.slicer=new H7,this.tableRef=vr()}render(){let{props:e,context:t}=this;return ee(z7,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class q7 extends A7{constructor(){super(...arguments),this.buildDayTableModel=nt(G7),this.headerRef=vr(),this.tableRef=vr()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:i}=this,s=this.buildDayTableModel(i.dateProfile,t),r=e.dayHeaders&&ee(v3,{ref:this.headerRef,dateProfile:i.dateProfile,dates:s.headerDates,datesRepDistinctDays:s.rowCnt===1}),l=c=>ee(F7,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:s,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:c.tableColGroupNode,tableMinWidth:c.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:c.clientWidth,clientHeight:c.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(r,l,s.colCnt,e.dayMinWidth):this.renderSimpleLayout(r,l)}}function G7(n,e){let t=new b3(n.renderRange,e);return new E3(t,/year|month|week/.test(n.currentRangeUnit))}class W7 extends ok{buildRenderRange(e,t,i){let s=super.buildRenderRange(e,t,i),{props:r}=this;return $7({currentRange:s,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:r.fixedWeekCount,dateEnv:r.dateEnv})}}function $7(n){let{dateEnv:e,currentRange:t}=n,{start:i,end:s}=t,r;if(n.snapToWeek&&(i=e.startOfWeek(i),r=e.startOfWeek(s),r.valueOf()!==s.valueOf()&&(s=px(r,1))),n.fixedWeekCount){let l=e.startOfWeek(e.startOfMonth(kn(t.end,-1))),c=Math.ceil(r5(l,s));s=px(s,6-c)}return{start:i,end:s}}var Y7=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';q1(Y7);var Q7=Na({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:q7,dateProfileGeneratorClass:W7},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});E0.touchMouseIgnoreWait=500;let O_=0,cp=0,P_=!1;class tN{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&K7(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let s=t.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,X7()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,s=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:i-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new Kp,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Z7()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),J7()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||Dn(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){P_=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Dn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return O_||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(P_=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,s=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:s}}createEventFromTouch(e,t){let i=e.touches,s,r,l=0,c=0;return i&&i.length?(s=i[0].pageX,r=i[0].pageY):(s=e.pageX,r=e.pageY),t?(this.origPageX=s,this.origPageY=r):(l=s-this.origPageX,c=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:r,deltaX:l,deltaY:c}}}function K7(n){return n.button===0&&!n.ctrlKey}function X7(){O_+=1,setTimeout(()=>{O_-=1},E0.touchMouseIgnoreWait)}function Z7(){cp+=1,cp===1&&window.addEventListener("touchmove",nN,{passive:!1})}function J7(){cp-=1,cp||window.removeEventListener("touchmove",nN,{passive:!1})}function nN(n){P_&&n.preventDefault()}class eq{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",lh(i,{left:s.left,top:s.top}),B6(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(t0(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&lh(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),lh(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class iN extends b0{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class sN extends iN{constructor(e,t){super(new u3(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return l3(this.scrollController.el)}}class tq extends iN{constructor(e){super(new h3,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Wx=typeof performance=="function"?performance.now:Date.now;class nq{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=Wx();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,s=t-window.scrollY,r=this.pointerScreenY===null?0:s-this.pointerScreenY,l=this.pointerScreenX===null?0:i-this.pointerScreenX;r<0?this.everMovedUp=!0:r>0&&(this.everMovedDown=!0),l<0?this.everMovedLeft=!0:l>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Wx()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:s}=this,r=s-e.distance,l=r*r/(s*s)*this.maxVelocity*t,c=1;switch(e.name){case"left":c=-1;case"right":i.setScrollLeft(i.getScrollLeft()+l*c);break;case"top":c=-1;case"bottom":i.setScrollTop(i.getScrollTop()+l*c);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,s=null,r=this.scrollCaches||[];for(let l of r){let c=l.clientRect,h=e-c.left,d=c.right-e,g=t-c.top,y=c.bottom-t;h>=0&&d>=0&&g>=0&&y>=0&&(g<=i&&this.everMovedUp&&l.canScrollUp()&&(!s||s.distance>g)&&(s={scrollCache:l,name:"top",distance:g}),y<=i&&this.everMovedDown&&l.canScrollDown()&&(!s||s.distance>y)&&(s={scrollCache:l,name:"bottom",distance:y}),h<=i&&this.everMovedLeft&&l.canScrollLeft()&&(!s||s.distance>h)&&(s={scrollCache:l,name:"left",distance:h}),d<=i&&this.everMovedRight&&l.canScrollRight()&&(!s||s.distance>d)&&(s={scrollCache:l,name:"right",distance:d}))}return s}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new tq(!1):new sN(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}}class nd extends f3{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,H6(document.body),q6(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let r=this.minDistance,l,{deltaX:c,deltaY:h}=s;l=c*c+h*h,l>=r*r&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,F6(document.body),G6(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new tN(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new eq,this.autoScroller=new nq}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class iq{constructor(e){this.el=e,this.origRect=_0(e),this.scrollCaches=xk(e).map(t=>new sN(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let s of this.scrollCaches)if(!sq(s.getEventTarget())&&!XF(i,s.clientRect))return!1;return!0}}function sq(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class Xp{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):s.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Kp}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,s=e.subjectEl,r;s instanceof HTMLElement&&(r=_0(s),i=ZF(i,r));let l=this.initialHit=this.queryHitForOffset(i.left,i.top);if(l){if(this.useSubjectCenter&&r){let c=Sk(r,l.rect);c&&(i=JF(c))}this.coordAdjust=e3(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Zp(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=qo(this.droppableStore,e=>(e.component.prepareHits(),new iq(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:s}=this,r=null;for(let l in i){let c=i[l].component,h=s[l];if(h&&h.isWithinClipping(e,t)){let d=h.computeLeft(),g=h.computeTop(),y=e-d,_=t-g,{origRect:b}=h,S=b.right-b.left,x=b.bottom-b.top;if(y>=0&&y<S&&_>=0&&_<x){let A=c.queryHit(y,_,S,x);A&&Yp(A.dateProfile.activeRange,A.dateSpan.range)&&(this.disablePointCheck||h.el.contains(h.el.getRootNode().elementFromPoint(y+d-window.scrollX,_+g-window.scrollY)))&&(!r||A.layer>r.layer)&&(A.componentId=l,A.context=c.context,A.rect.left+=d,A.rect.right+=d,A.rect.top+=g,A.rect.bottom+=g,r=A)}}}return r}}function Zp(n,e){return!n&&!e?!0:!!n!=!!e?!1:BF(n.dateSpan,e.dateSpan)}function rN(n,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(n,e));return Object.assign(t,rq(n,e.dateEnv)),t}function rq(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class aq extends xc{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:s}=this,r=i.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(r))},this.handleDragEnd=i=>{let{component:s}=this,{pointer:r}=this.dragging;if(!r.wasTouchScroll){let{initialHit:l,finalHit:c}=this.hitDragging;if(l&&c&&Zp(l,c)){let{context:h}=s,d=Object.assign(Object.assign({},rN(l.dateSpan,h)),{dayEl:l.dayEl,jsEvent:i.origEvent,view:h.viewApi||h.calendarApi.view});h.emitter.trigger("dateClick",d)}}},this.dragging=new nd(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Xp(this.dragging,y0(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class oq extends xc{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=l=>{let{component:c,dragging:h}=this,{options:d}=c.context,g=d.selectable&&c.isValidDateDownEl(l.origEvent.target);h.setIgnoreMove(!g),h.delay=l.isTouch?lq(c):null},this.handleDragStart=l=>{this.component.context.calendarApi.unselect(l)},this.handleHitUpdate=(l,c)=>{let{context:h}=this.component,d=null,g=!1;if(l){let y=this.hitDragging.initialHit;l.componentId===y.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(y,l)||(d=cq(y,l,h.pluginHooks.dateSelectionTransformers)),(!d||!S3(d,l.dateProfile,h))&&(g=!0,d=null)}d?h.dispatch({type:"SELECT_DATES",selection:d}):c||h.dispatch({type:"UNSELECT_DATES"}),g?n0():i0(),c||(this.dragSelection=d)},this.handlePointerUp=l=>{this.dragSelection&&(pk(this.dragSelection,l,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,s=this.dragging=new nd(e.el);s.touchScrollAllowed=!1,s.minDistance=i.selectMinDistance||0,s.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new Xp(this.dragging,y0(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function lq(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function cq(n,e,t){let i=n.dateSpan,s=e.dateSpan,r=[i.range.start,i.range.end,s.range.start,s.range.end];r.sort(K6);let l={};for(let c of t){let h=c(n,e);if(h===!1)return null;h&&Object.assign(l,h)}return l.range={start:r[0],end:r[3]},l.allDay=i.allDay,l}class id extends xc{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let c=l.origEvent.target,{component:h,dragging:d}=this,{mirror:g}=d,{options:y}=h.context,_=h.context;this.subjectEl=l.subjectEl;let b=this.subjectSeg=dc(l.subjectEl),x=(this.eventRange=b.eventRange).instance.instanceId;this.relevantEvents=f0(_.getCurrentData().eventStore,x),d.minDistance=l.isTouch?0:y.eventDragMinDistance,d.delay=l.isTouch&&x!==h.props.eventSelection?hq(h):null,y.fixedMirrorParent?g.parentNode=y.fixedMirrorParent:g.parentNode=Dn(c,".fc"),g.revertDuration=y.dragRevertDuration;let A=h.isValidSegDownEl(c)&&!Dn(c,".fc-event-resizer");d.setIgnoreMove(!A),this.isDragging=A&&l.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=l=>{let c=this.component.context,h=this.eventRange,d=h.instance.instanceId;l.isTouch?d!==this.component.props.eventSelection&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):c.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(c.calendarApi.unselect(l),c.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new _t(c,h.def,h.instance),jsEvent:l.origEvent,view:c.viewApi}))},this.handleHitUpdate=(l,c)=>{if(!this.isDragging)return;let h=this.relevantEvents,d=this.hitDragging.initialHit,g=this.component.context,y=null,_=null,b=null,S=!1,x={affectedEvents:h,mutatedEvents:Ui(),isEvent:!0};if(l){y=l.context;let A=y.options;g===y||A.editable&&A.droppable?(_=uq(d,l,this.eventRange.instance.range.start,y.getCurrentData().pluginHooks.eventDragMutationMassagers),_&&(b=m0(h,y.getCurrentData().eventUiBases,_,y),x.mutatedEvents=b,Ik(x,l.dateProfile,y)||(S=!0,_=null,b=null,x.mutatedEvents=Ui()))):y=null}this.displayDrag(y,x),S?n0():i0(),c||(g===y&&Zp(d,l)&&(_=null),this.dragging.setMirrorNeedsRevert(!_),this.dragging.setMirrorIsVisible(!l||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=y,this.validMutation=_,this.mutatedRelevantEvents=b)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=l=>{if(this.isDragging){let c=this.component.context,h=c.viewApi,{receivingContext:d,validMutation:g}=this,y=this.eventRange.def,_=this.eventRange.instance,b=new _t(c,y,_),S=this.relevantEvents,x=this.mutatedRelevantEvents,{finalHit:A}=this.hitDragging;if(this.clearDrag(),c.emitter.trigger("eventDragStop",{el:this.subjectEl,event:b,jsEvent:l.origEvent,view:h}),g){if(d===c){let I=new _t(c,x.defs[y.defId],_?x.instances[_.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:x});let O={oldEvent:b,event:I,relatedEvents:To(x,c,_),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:S})}},j={};for(let B of c.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(j,B(g,c));c.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},O),j),{el:l.subjectEl,delta:g.datesDelta,jsEvent:l.origEvent,view:h})),c.emitter.trigger("eventChange",O)}else if(d){let I={event:b,relatedEvents:To(S,c,_),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:S})}};c.emitter.trigger("eventLeave",Object.assign(Object.assign({},I),{draggedEl:l.subjectEl,view:h})),c.dispatch({type:"REMOVE_EVENTS",eventStore:S}),c.emitter.trigger("eventRemove",I);let O=x.defs[y.defId],j=x.instances[_.instanceId],B=new _t(d,O,j);d.dispatch({type:"MERGE_EVENTS",eventStore:x});let q={event:B,relatedEvents:To(x,d,j),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:x})}};d.emitter.trigger("eventAdd",q),l.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:_.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},rN(A.dateSpan,d)),{draggedEl:l.subjectEl,jsEvent:l.origEvent,view:A.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},q),{draggedEl:l.subjectEl,view:A.context.viewApi}))}}else c.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:i}=t.context,s=this.dragging=new nd(e.el);s.pointer.selector=id.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new Xp(this.dragging,k_);r.useSubjectCenter=e.useEventCenter,r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let i=this.component.context,s=this.receivingContext;s&&s!==e&&(s===i?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Ui(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}id.SELECTOR=".fc-event-draggable, .fc-event-resizable";function uq(n,e,t,i){let s=n.dateSpan,r=e.dateSpan,l=s.range.start,c=r.range.start,h={};s.allDay!==r.allDay&&(h.allDay=r.allDay,h.hasEnd=e.context.options.allDayMaintainDuration,r.allDay?l=vt(t):l=t);let d=Wl(l,c,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);d.milliseconds&&(h.allDay=!1);let g={datesDelta:d,standardProps:h};for(let y of i)y(g,n,e);return g}function hq(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class dq extends xc{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=r=>{let{component:l}=this,c=this.querySegEl(r),h=dc(c),d=this.eventRange=h.eventRange;this.dragging.minDistance=l.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(r.origEvent.target)||r.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=r=>{let{context:l}=this.component,c=this.eventRange;this.relevantEvents=f0(l.getCurrentData().eventStore,this.eventRange.instance.instanceId);let h=this.querySegEl(r);this.draggingSegEl=h,this.draggingSeg=dc(h),l.calendarApi.unselect(),l.emitter.trigger("eventResizeStart",{el:h,event:new _t(l,c.def,c.instance),jsEvent:r.origEvent,view:l.viewApi})},this.handleHitUpdate=(r,l,c)=>{let{context:h}=this.component,d=this.relevantEvents,g=this.hitDragging.initialHit,y=this.eventRange.instance,_=null,b=null,S=!1,x={affectedEvents:d,mutatedEvents:Ui(),isEvent:!0};r&&(r.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,r)||(_=fq(g,r,c.subjectEl.classList.contains("fc-event-resizer-start"),y.range))),_&&(b=m0(d,h.getCurrentData().eventUiBases,_,h),x.mutatedEvents=b,Ik(x,r.dateProfile,h)||(S=!0,_=null,b=null,x.mutatedEvents=null)),b?h.dispatch({type:"SET_EVENT_RESIZE",state:x}):h.dispatch({type:"UNSET_EVENT_RESIZE"}),S?n0():i0(),l||(_&&Zp(g,r)&&(_=null),this.validMutation=_,this.mutatedRelevantEvents=b)},this.handleDragEnd=r=>{let{context:l}=this.component,c=this.eventRange.def,h=this.eventRange.instance,d=new _t(l,c,h),g=this.relevantEvents,y=this.mutatedRelevantEvents;if(l.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:r.origEvent,view:l.viewApi}),this.validMutation){let _=new _t(l,y.defs[c.defId],h?y.instances[h.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:y});let b={oldEvent:d,event:_,relatedEvents:To(y,l,h),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:g})}};l.emitter.trigger("eventResize",Object.assign(Object.assign({},b),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||tt(0),endDelta:this.validMutation.endDelta||tt(0),jsEvent:r.origEvent,view:l.viewApi})),l.emitter.trigger("eventChange",b)}else l.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new nd(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let s=this.hitDragging=new Xp(this.dragging,y0(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Dn(e.subjectEl,".fc-event")}}function fq(n,e,t,i){let s=n.context.dateEnv,r=n.dateSpan.range.start,l=e.dateSpan.range.start,c=Wl(r,l,s,n.largeUnit);if(t){if(s.add(i.start,c)<i.end)return{startDelta:c}}else if(s.add(i.end,c)>i.start)return{endDelta:c};return null}class gq{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let s=this.context.options.unselectCancel,r=Y1(i.origEvent);this.matchesCancel=!!Dn(r,s),this.matchesEvent=!!Dn(r,id.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:s}=this,{documentPointer:r}=this,l=s.getCurrentData();if(!r.wasTouchScroll){if(l.dateSelection&&!this.isRecentPointerDateSelect){let c=s.options.unselectAuto;c&&(!c||!this.matchesCancel)&&s.calendarApi.unselect(i)}l.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new tN(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const pq={fixedMirrorParent:Z},mq={dateClick:Z,eventDragStart:Z,eventDragStop:Z,eventDrop:Z,eventResizeStart:Z,eventResizeStop:Z,eventResize:Z,drop:Z,eventReceive:Z,eventLeave:Z};E0.dataAttrPrefix="";var yq=Na({name:"@fullcalendar/interaction",componentInteractions:[aq,oq,id,dq],calendarInteractions:[gq],elementDraggingImpl:nd,optionRefiners:pq,listenerRefiners:mq});const vq=({events:n,onDateClick:e})=>{const[t,i]=z.useState(window.innerWidth<768);z.useEffect(()=>{const r=()=>i(window.innerWidth<768);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);const s=t?{left:"prev,next",center:"title",right:""}:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek"};return w.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-lg p-4",children:w.jsx(Wk,{plugins:[Q7,yq],initialView:"dayGridMonth",headerToolbar:s,events:n,dateClick:e,height:"auto"})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function sd(n){return n+.5|0}const da=(n,e,t)=>Math.max(Math.min(n,t),e);function Qu(n){return da(sd(n*2.55),0,255)}function va(n){return da(sd(n*255),0,255)}function nr(n){return da(sd(n/2.55)/100,0,1)}function $x(n){return da(sd(n*100),0,100)}const wi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},j_=[..."0123456789ABCDEF"],_q=n=>j_[n&15],bq=n=>j_[(n&240)>>4]+j_[n&15],Ff=n=>(n&240)>>4===(n&15),Eq=n=>Ff(n.r)&&Ff(n.g)&&Ff(n.b)&&Ff(n.a);function wq(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&wi[n[1]]*17,g:255&wi[n[2]]*17,b:255&wi[n[3]]*17,a:e===5?wi[n[4]]*17:255}:(e===7||e===9)&&(t={r:wi[n[1]]<<4|wi[n[2]],g:wi[n[3]]<<4|wi[n[4]],b:wi[n[5]]<<4|wi[n[6]],a:e===9?wi[n[7]]<<4|wi[n[8]]:255})),t}const Sq=(n,e)=>n<255?e(n):"";function Aq(n){var e=Eq(n)?_q:bq;return n?"#"+e(n.r)+e(n.g)+e(n.b)+Sq(n.a,e):void 0}const Tq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function aN(n,e,t){const i=e*Math.min(t,1-t),s=(r,l=(r+n/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function xq(n,e,t){const i=(s,r=(s+n/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Rq(n,e,t){const i=aN(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)i[s]*=1-e-t,i[s]+=e;return i}function Cq(n,e,t,i,s){return n===s?(e-t)/i+(e<t?6:0):e===s?(t-n)/i+2:(n-e)/i+4}function T0(n){const t=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(t,i,s),l=Math.min(t,i,s),c=(r+l)/2;let h,d,g;return r!==l&&(g=r-l,d=c>.5?g/(2-r-l):g/(r+l),h=Cq(t,i,s,g,r),h=h*60+.5),[h|0,d||0,c]}function x0(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(va)}function R0(n,e,t){return x0(aN,n,e,t)}function Dq(n,e,t){return x0(Rq,n,e,t)}function Iq(n,e,t){return x0(xq,n,e,t)}function oN(n){return(n%360+360)%360}function kq(n){const e=Tq.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Qu(+e[5]):va(+e[5]));const s=oN(+e[2]),r=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=Dq(s,r,l):e[1]==="hsv"?i=Iq(s,r,l):i=R0(s,r,l),{r:i[0],g:i[1],b:i[2],a:t}}function Nq(n,e){var t=T0(n);t[0]=oN(t[0]+e),t=R0(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Mq(n){if(!n)return;const e=T0(n),t=e[0],i=$x(e[1]),s=$x(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${s}%, ${nr(n.a)})`:`hsl(${t}, ${i}%, ${s}%)`}const Yx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Qx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Oq(){const n={},e=Object.keys(Qx),t=Object.keys(Yx);let i,s,r,l,c;for(i=0;i<e.length;i++){for(l=c=e[i],s=0;s<t.length;s++)r=t[s],c=c.replace(r,Yx[r]);r=parseInt(Qx[l],16),n[c]=[r>>16&255,r>>8&255,r&255]}return n}let qf;function Pq(n){qf||(qf=Oq(),qf.transparent=[0,0,0,0]);const e=qf[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const jq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Lq(n){const e=jq.exec(n);let t=255,i,s,r;if(e){if(e[7]!==i){const l=+e[7];t=e[8]?Qu(l):da(l*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?Qu(i):da(i,0,255)),s=255&(e[4]?Qu(s):da(s,0,255)),r=255&(e[6]?Qu(r):da(r,0,255)),{r:i,g:s,b:r,a:t}}}function Vq(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${nr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Vv=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Vl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Uq(n,e,t){const i=Vl(nr(n.r)),s=Vl(nr(n.g)),r=Vl(nr(n.b));return{r:va(Vv(i+t*(Vl(nr(e.r))-i))),g:va(Vv(s+t*(Vl(nr(e.g))-s))),b:va(Vv(r+t*(Vl(nr(e.b))-r))),a:n.a+t*(e.a-n.a)}}function Gf(n,e,t){if(n){let i=T0(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=R0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function lN(n,e){return n&&Object.assign(e||{},n)}function Kx(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=va(n[3]))):(e=lN(n,{r:0,g:0,b:0,a:1}),e.a=va(e.a)),e}function zq(n){return n.charAt(0)==="r"?Lq(n):kq(n)}class Nh{constructor(e){if(e instanceof Nh)return e;const t=typeof e;let i;t==="object"?i=Kx(e):t==="string"&&(i=wq(e)||Pq(e)||zq(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=lN(this._rgb);return e&&(e.a=nr(e.a)),e}set rgb(e){this._rgb=Kx(e)}rgbString(){return this._valid?Vq(this._rgb):void 0}hexString(){return this._valid?Aq(this._rgb):void 0}hslString(){return this._valid?Mq(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let r;const l=t===r?.5:t,c=2*l-1,h=i.a-s.a,d=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;r=1-d,i.r=255&d*i.r+r*s.r+.5,i.g=255&d*i.g+r*s.g+.5,i.b=255&d*i.b+r*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=Uq(this._rgb,e._rgb,t)),this}clone(){return new Nh(this.rgb)}alpha(e){return this._rgb.a=va(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=sd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Gf(this._rgb,2,e),this}darken(e){return Gf(this._rgb,2,-e),this}saturate(e){return Gf(this._rgb,1,e),this}desaturate(e){return Gf(this._rgb,1,-e),this}rotate(e){return Nq(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Js(){}const Bq=(()=>{let n=0;return()=>n++})();function dt(n){return n==null}function un(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Je(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Di(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ds(n,e){return Di(n)?n:e}function ze(n,e){return typeof n>"u"?e:n}const Hq=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,cN=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function pt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function rt(n,e,t,i){let s,r,l;if(un(n))for(r=n.length,s=0;s<r;s++)e.call(t,n[s],s);else if(Je(n))for(l=Object.keys(n),r=l.length,s=0;s<r;s++)e.call(t,n[l[s]],l[s])}function up(n,e){let t,i,s,r;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(s=n[t],r=e[t],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function hp(n){if(un(n))return n.map(hp);if(Je(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let s=0;for(;s<i;++s)e[t[s]]=hp(n[t[s]]);return e}return n}function uN(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Fq(n,e,t,i){if(!uN(n))return;const s=e[n],r=t[n];Je(s)&&Je(r)?Mh(s,r,i):e[n]=hp(r)}function Mh(n,e,t){const i=un(e)?e:[e],s=i.length;if(!Je(n))return n;t=t||{};const r=t.merger||Fq;let l;for(let c=0;c<s;++c){if(l=i[c],!Je(l))continue;const h=Object.keys(l);for(let d=0,g=h.length;d<g;++d)r(h[d],n,l,t)}return n}function fh(n,e){return Mh(n,e,{merger:qq})}function qq(n,e,t){if(!uN(n))return;const i=e[n],s=t[n];Je(i)&&Je(s)?fh(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=hp(s))}const Xx={"":n=>n,x:n=>n.x,y:n=>n.y};function Gq(n){const e=n.split("."),t=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function Wq(n){const e=Gq(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Oh(n,e){return(Xx[e]||(Xx[e]=Wq(e)))(n)}function C0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const dp=n=>typeof n<"u",Ca=n=>typeof n=="function",Zx=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function $q(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ot=Math.PI,Mt=2*Ot,Yq=Mt+Ot,fp=Number.POSITIVE_INFINITY,Qq=Ot/180,Xt=Ot/2,ho=Ot/4,Jx=Ot*2/3,hN=Math.log10,fc=Math.sign;function gh(n,e,t){return Math.abs(n-e)<t}function eR(n){const e=Math.round(n);n=gh(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(hN(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function Kq(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((s,r)=>s-r).pop(),e}function Xq(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Ph(n){return!Xq(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Zq(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function Jq(n,e,t){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function or(n){return n*(Ot/180)}function e8(n){return n*(180/Ot)}function tR(n){if(!Di(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function dN(n,e){const t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);let r=Math.atan2(i,t);return r<-.5*Ot&&(r+=Mt),{angle:r,distance:s}}function L_(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function t8(n,e){return(n-e+Yq)%Mt-Ot}function sa(n){return(n%Mt+Mt)%Mt}function jh(n,e,t,i){const s=sa(n),r=sa(e),l=sa(t),c=sa(r-s),h=sa(l-s),d=sa(s-r),g=sa(s-l);return s===r||s===l||i&&r===l||c>h&&d<g}function Vn(n,e,t){return Math.max(e,Math.min(t,n))}function n8(n){return Vn(n,-32768,32767)}function $l(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function D0(n,e,t){t=t||(l=>n[l]<e);let i=n.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,t(r)?s=r:i=r;return{lo:s,hi:i}}const Ao=(n,e,t,i)=>D0(n,t,i?s=>{const r=n[s][e];return r<t||r===t&&n[s+1][e]===t}:s=>n[s][e]<t),i8=(n,e,t)=>D0(n,t,i=>n[i][e]>=t);function s8(n,e,t){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>t;)s--;return i>0||s<n.length?n.slice(i,s):n}const fN=["push","pop","shift","splice","unshift"];function r8(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),fN.forEach(t=>{const i="_onData"+C0(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...r){const l=s.apply(this,r);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...r)}),l}})})}function nR(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(fN.forEach(r=>{delete n[r]}),delete n._chartjs)}function a8(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const gN=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function pN(n,e){let t=[],i=!1;return function(...s){t=s,i||(i=!0,gN.call(window,()=>{i=!1,n.apply(e,t)}))}}function o8(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const I0=n=>n==="start"?"left":n==="end"?"right":"center",xn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,l8=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function c8(n,e,t){const i=e.length;let s=0,r=i;if(n._sorted){const{iScale:l,vScale:c,_parsed:h}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:y,max:_,minDefined:b,maxDefined:S}=l.getUserBounds();if(b){if(s=Math.min(Ao(h,g,y).lo,t?i:Ao(e,g,l.getPixelForValue(y)).lo),d){const x=h.slice(0,s+1).reverse().findIndex(A=>!dt(A[c.axis]));s-=Math.max(0,x)}s=Vn(s,0,i-1)}if(S){let x=Math.max(Ao(h,l.axis,_,!0).hi+1,t?0:Ao(e,g,l.getPixelForValue(_),!0).hi+1);if(d){const A=h.slice(x-1).findIndex(I=>!dt(I[c.axis]));x+=Math.max(0,A)}r=Vn(x,s,i)-s}else r=i-s}return{start:s,count:r}}function u8(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),r}const Wf=n=>n===0||n===1,iR=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Mt/t)),sR=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Mt/t)+1,ph={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Xt)+1,easeOutSine:n=>Math.sin(n*Xt),easeInOutSine:n=>-.5*(Math.cos(Ot*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Wf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Wf(n)?n:iR(n,.075,.3),easeOutElastic:n=>Wf(n)?n:sR(n,.075,.3),easeInOutElastic(n){return Wf(n)?n:n<.5?.5*iR(n*2,.1125,.45):.5+.5*sR(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-ph.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ph.easeInBounce(n*2)*.5:ph.easeOutBounce(n*2-1)*.5+.5};function k0(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function rR(n){return k0(n)?n:new Nh(n)}function Uv(n){return k0(n)?n:new Nh(n).saturate(.5).darken(.1).hexString()}const h8=["x","y","borderWidth","radius","tension"],d8=["color","borderColor","backgroundColor"];function f8(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:d8},numbers:{type:"number",properties:h8}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function g8(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const aR=new Map;function p8(n,e){e=e||{};const t=n+JSON.stringify(e);let i=aR.get(t);return i||(i=new Intl.NumberFormat(n,e),aR.set(t,i)),i}function N0(n,e,t){return p8(e,t).format(n)}const m8={values(n){return un(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let s,r=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),r=y8(n,t)}const l=hN(Math.abs(r)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),N0(n,i,h)}};function y8(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var mN={formatters:m8};function v8(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:mN.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Po=Object.create(null),V_=Object.create(null);function mh(n,e){if(!e)return n;const t=e.split(".");for(let i=0,s=t.length;i<s;++i){const r=t[i];n=n[r]||(n[r]=Object.create(null))}return n}function zv(n,e,t){return typeof e=="string"?Mh(mh(n,e),t):Mh(mh(n,""),e)}class _8{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Uv(s.backgroundColor),this.hoverBorderColor=(i,s)=>Uv(s.borderColor),this.hoverColor=(i,s)=>Uv(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return zv(this,e,t)}get(e){return mh(this,e)}describe(e,t){return zv(V_,e,t)}override(e,t){return zv(Po,e,t)}route(e,t,i,s){const r=mh(this,e),l=mh(this,i),c="_"+t;Object.defineProperties(r,{[c]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],d=l[s];return Je(h)?Object.assign({},d,h):ze(h,d)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var Ut=new _8({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[f8,g8,v8]);function b8(n){return!n||dt(n.size)||dt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function oR(n,e,t,i,s){let r=e[s];return r||(r=e[s]=n.measureText(s).width,t.push(s)),r>i&&(i=r),i}function fo(n,e,t){const i=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*i)/i+s}function lR(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function U_(n,e,t,i){yN(n,e,t,i,null)}function yN(n,e,t,i,s){let r,l,c,h,d,g,y,_;const b=e.pointStyle,S=e.rotation,x=e.radius;let A=(S||0)*Qq;if(b&&typeof b=="object"&&(r=b.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(A),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(x)||x<=0)){switch(n.beginPath(),b){default:s?n.ellipse(t,i,s/2,x,0,0,Mt):n.arc(t,i,x,0,Mt),n.closePath();break;case"triangle":g=s?s/2:x,n.moveTo(t+Math.sin(A)*g,i-Math.cos(A)*x),A+=Jx,n.lineTo(t+Math.sin(A)*g,i-Math.cos(A)*x),A+=Jx,n.lineTo(t+Math.sin(A)*g,i-Math.cos(A)*x),n.closePath();break;case"rectRounded":d=x*.516,h=x-d,l=Math.cos(A+ho)*h,y=Math.cos(A+ho)*(s?s/2-d:h),c=Math.sin(A+ho)*h,_=Math.sin(A+ho)*(s?s/2-d:h),n.arc(t-y,i-c,d,A-Ot,A-Xt),n.arc(t+_,i-l,d,A-Xt,A),n.arc(t+y,i+c,d,A,A+Xt),n.arc(t-_,i+l,d,A+Xt,A+Ot),n.closePath();break;case"rect":if(!S){h=Math.SQRT1_2*x,g=s?s/2:h,n.rect(t-g,i-h,2*g,2*h);break}A+=ho;case"rectRot":y=Math.cos(A)*(s?s/2:x),l=Math.cos(A)*x,c=Math.sin(A)*x,_=Math.sin(A)*(s?s/2:x),n.moveTo(t-y,i-c),n.lineTo(t+_,i-l),n.lineTo(t+y,i+c),n.lineTo(t-_,i+l),n.closePath();break;case"crossRot":A+=ho;case"cross":y=Math.cos(A)*(s?s/2:x),l=Math.cos(A)*x,c=Math.sin(A)*x,_=Math.sin(A)*(s?s/2:x),n.moveTo(t-y,i-c),n.lineTo(t+y,i+c),n.moveTo(t+_,i-l),n.lineTo(t-_,i+l);break;case"star":y=Math.cos(A)*(s?s/2:x),l=Math.cos(A)*x,c=Math.sin(A)*x,_=Math.sin(A)*(s?s/2:x),n.moveTo(t-y,i-c),n.lineTo(t+y,i+c),n.moveTo(t+_,i-l),n.lineTo(t-_,i+l),A+=ho,y=Math.cos(A)*(s?s/2:x),l=Math.cos(A)*x,c=Math.sin(A)*x,_=Math.sin(A)*(s?s/2:x),n.moveTo(t-y,i-c),n.lineTo(t+y,i+c),n.moveTo(t+_,i-l),n.lineTo(t-_,i+l);break;case"line":l=s?s/2:Math.cos(A)*x,c=Math.sin(A)*x,n.moveTo(t-l,i-c),n.lineTo(t+l,i+c);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(A)*(s?s/2:x),i+Math.sin(A)*x);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Lh(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function M0(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function O0(n){n.restore()}function E8(n,e,t,i,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const r=(e.x+t.x)/2;n.lineTo(r,e.y),n.lineTo(r,t.y)}else s==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function w8(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function S8(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),dt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function A8(n,e,t,i,s){if(s.strikethrough||s.underline){const r=n.measureText(i),l=e-r.actualBoundingBoxLeft,c=e+r.actualBoundingBoxRight,h=t-r.actualBoundingBoxAscent,d=t+r.actualBoundingBoxDescent,g=s.strikethrough?(h+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,g),n.lineTo(c,g),n.stroke()}}function T8(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Vh(n,e,t,i,s,r={}){const l=un(e)?e:[e],c=r.strokeWidth>0&&r.strokeColor!=="";let h,d;for(n.save(),n.font=s.string,S8(n,r),h=0;h<l.length;++h)d=l[h],r.backdrop&&T8(n,r.backdrop),c&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),dt(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(d,t,i,r.maxWidth)),n.fillText(d,t,i,r.maxWidth),A8(n,t,i,d,r),i+=Number(s.lineHeight);n.restore()}function z_(n,e){const{x:t,y:i,w:s,h:r,radius:l}=e;n.arc(t+l.topLeft,i+l.topLeft,l.topLeft,1.5*Ot,Ot,!0),n.lineTo(t,i+r-l.bottomLeft),n.arc(t+l.bottomLeft,i+r-l.bottomLeft,l.bottomLeft,Ot,Xt,!0),n.lineTo(t+s-l.bottomRight,i+r),n.arc(t+s-l.bottomRight,i+r-l.bottomRight,l.bottomRight,Xt,0,!0),n.lineTo(t+s,i+l.topRight),n.arc(t+s-l.topRight,i+l.topRight,l.topRight,0,-Xt,!0),n.lineTo(t+l.topLeft,i)}const x8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,R8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function C8(n,e){const t=(""+n).match(x8);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const D8=n=>+n||0;function P0(n,e){const t={},i=Je(e),s=i?Object.keys(e):e,r=Je(n)?i?l=>ze(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of s)t[l]=D8(r(l));return t}function I8(n){return P0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function yh(n){return P0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ii(n){const e=I8(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function In(n,e){n=n||{},e=e||Ut.font;let t=ze(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=ze(n.style,e.style);i&&!(""+i).match(R8)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ze(n.family,e.family),lineHeight:C8(ze(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:ze(n.weight,e.weight),string:""};return s.string=b8(s),s}function $f(n,e,t,i){let s,r,l;for(s=0,r=n.length;s<r;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function k8(n,e,t){const{min:i,max:s}=n,r=cN(e,(s-i)/2),l=(c,h)=>t&&c===0?0:c+h;return{min:l(i,-Math.abs(r)),max:l(s,r)}}function Yo(n,e){return Object.assign(Object.create(n),e)}function j0(n,e=[""],t,i,s=()=>n[0]){const r=t||n;typeof i>"u"&&(i=EN("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:s,override:c=>j0([c,...n],e,r,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete n[0][h],!0},get(c,h){return _N(c,h,()=>U8(h,e,n,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,h){return uR(c).includes(h)},ownKeys(c){return uR(c)},set(c,h,d){const g=c._storage||(c._storage=s());return c[h]=g[h]=d,delete c._keys,!0}})}function gc(n,e,t,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:vN(n,i),setContext:r=>gc(n,r,t,i),override:r=>gc(n.override(r),e,t,i)};return new Proxy(s,{deleteProperty(r,l){return delete r[l],delete n[l],!0},get(r,l,c){return _N(r,l,()=>M8(r,l,c))},getOwnPropertyDescriptor(r,l){return r._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(r,l,c){return n[l]=c,delete r[l],!0}})}function vN(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:i,isScriptable:Ca(t)?t:()=>t,isIndexable:Ca(i)?i:()=>i}}const N8=(n,e)=>n?n+C0(e):e,L0=(n,e)=>Je(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _N(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function M8(n,e,t){const{_proxy:i,_context:s,_subProxy:r,_descriptors:l}=n;let c=i[e];return Ca(c)&&l.isScriptable(e)&&(c=O8(e,c,n,t)),un(c)&&c.length&&(c=P8(e,c,n,l.isIndexable)),L0(e,c)&&(c=gc(c,s,r&&r[e],l)),c}function O8(n,e,t,i){const{_proxy:s,_context:r,_subProxy:l,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=e(r,l||i);return c.delete(n),L0(n,h)&&(h=V0(s._scopes,s,n,h)),h}function P8(n,e,t,i){const{_proxy:s,_context:r,_subProxy:l,_descriptors:c}=t;if(typeof r.index<"u"&&i(n))return e[r.index%e.length];if(Je(e[0])){const h=e,d=s._scopes.filter(g=>g!==h);e=[];for(const g of h){const y=V0(d,s,n,g);e.push(gc(y,r,l&&l[n],c))}}return e}function bN(n,e,t){return Ca(n)?n(e,t):n}const j8=(n,e)=>n===!0?e:typeof n=="string"?Oh(e,n):void 0;function L8(n,e,t,i,s){for(const r of e){const l=j8(t,r);if(l){n.add(l);const c=bN(l._fallback,t,s);if(typeof c<"u"&&c!==t&&c!==i)return c}else if(l===!1&&typeof i<"u"&&t!==i)return null}return!1}function V0(n,e,t,i){const s=e._rootScopes,r=bN(e._fallback,t,i),l=[...n,...s],c=new Set;c.add(i);let h=cR(c,l,t,r||t,i);return h===null||typeof r<"u"&&r!==t&&(h=cR(c,l,r,h,i),h===null)?!1:j0(Array.from(c),[""],s,r,()=>V8(e,t,i))}function cR(n,e,t,i,s){for(;t;)t=L8(n,e,t,i,s);return t}function V8(n,e,t){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return un(s)&&Je(t)?t:s||{}}function U8(n,e,t,i){let s;for(const r of e)if(s=EN(N8(r,n),t),typeof s<"u")return L0(n,s)?V0(t,i,n,s):s}function EN(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function uR(n){let e=n._keys;return e||(e=n._keys=z8(n._scopes)),e}function z8(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const B8=Number.EPSILON||1e-14,pc=(n,e)=>e<n.length&&!n[e].skip&&n[e],wN=n=>n==="x"?"y":"x";function H8(n,e,t,i){const s=n.skip?e:n,r=e,l=t.skip?e:t,c=L_(r,s),h=L_(l,r);let d=c/(c+h),g=h/(c+h);d=isNaN(d)?0:d,g=isNaN(g)?0:g;const y=i*d,_=i*g;return{previous:{x:r.x-y*(l.x-s.x),y:r.y-y*(l.y-s.y)},next:{x:r.x+_*(l.x-s.x),y:r.y+_*(l.y-s.y)}}}function F8(n,e,t){const i=n.length;let s,r,l,c,h,d=pc(n,0);for(let g=0;g<i-1;++g)if(h=d,d=pc(n,g+1),!(!h||!d)){if(gh(e[g],0,B8)){t[g]=t[g+1]=0;continue}s=t[g]/e[g],r=t[g+1]/e[g],c=Math.pow(s,2)+Math.pow(r,2),!(c<=9)&&(l=3/Math.sqrt(c),t[g]=s*l*e[g],t[g+1]=r*l*e[g])}}function q8(n,e,t="x"){const i=wN(t),s=n.length;let r,l,c,h=pc(n,0);for(let d=0;d<s;++d){if(l=c,c=h,h=pc(n,d+1),!c)continue;const g=c[t],y=c[i];l&&(r=(g-l[t])/3,c[`cp1${t}`]=g-r,c[`cp1${i}`]=y-r*e[d]),h&&(r=(h[t]-g)/3,c[`cp2${t}`]=g+r,c[`cp2${i}`]=y+r*e[d])}}function G8(n,e="x"){const t=wN(e),i=n.length,s=Array(i).fill(0),r=Array(i);let l,c,h,d=pc(n,0);for(l=0;l<i;++l)if(c=h,h=d,d=pc(n,l+1),!!h){if(d){const g=d[e]-h[e];s[l]=g!==0?(d[t]-h[t])/g:0}r[l]=c?d?fc(s[l-1])!==fc(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}F8(n,s,r),q8(n,r,e)}function Yf(n,e,t){return Math.max(Math.min(n,t),e)}function W8(n,e){let t,i,s,r,l,c=Lh(n[0],e);for(t=0,i=n.length;t<i;++t)l=r,r=c,c=t<i-1&&Lh(n[t+1],e),r&&(s=n[t],l&&(s.cp1x=Yf(s.cp1x,e.left,e.right),s.cp1y=Yf(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=Yf(s.cp2x,e.left,e.right),s.cp2y=Yf(s.cp2y,e.top,e.bottom)))}function $8(n,e,t,i,s){let r,l,c,h;if(e.spanGaps&&(n=n.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")G8(n,s);else{let d=i?n[n.length-1]:n[0];for(r=0,l=n.length;r<l;++r)c=n[r],h=H8(d,c,n[Math.min(r+1,l-(i?0:1))%l],e.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,d=c}e.capBezierPoints&&W8(n,t)}function U0(){return typeof window<"u"&&typeof document<"u"}function z0(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function gp(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Jp=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Y8(n,e){return Jp(n).getPropertyValue(e)}const Q8=["top","right","bottom","left"];function xo(n,e,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const r=Q8[s];i[r]=parseFloat(n[e+"-"+r+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const K8=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function X8(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:s,offsetY:r}=i;let l=!1,c,h;if(K8(s,r,n.target))c=s,h=r;else{const d=e.getBoundingClientRect();c=i.clientX-d.left,h=i.clientY-d.top,l=!0}return{x:c,y:h,box:l}}function vo(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,s=Jp(t),r=s.boxSizing==="border-box",l=xo(s,"padding"),c=xo(s,"border","width"),{x:h,y:d,box:g}=X8(n,t),y=l.left+(g&&c.left),_=l.top+(g&&c.top);let{width:b,height:S}=e;return r&&(b-=l.width+c.width,S-=l.height+c.height),{x:Math.round((h-y)/b*t.width/i),y:Math.round((d-_)/S*t.height/i)}}function Z8(n,e,t){let i,s;if(e===void 0||t===void 0){const r=n&&z0(n);if(!r)e=n.clientWidth,t=n.clientHeight;else{const l=r.getBoundingClientRect(),c=Jp(r),h=xo(c,"border","width"),d=xo(c,"padding");e=l.width-d.width-h.width,t=l.height-d.height-h.height,i=gp(c.maxWidth,r,"clientWidth"),s=gp(c.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:i||fp,maxHeight:s||fp}}const Qf=n=>Math.round(n*10)/10;function J8(n,e,t,i){const s=Jp(n),r=xo(s,"margin"),l=gp(s.maxWidth,n,"clientWidth")||fp,c=gp(s.maxHeight,n,"clientHeight")||fp,h=Z8(n,e,t);let{width:d,height:g}=h;if(s.boxSizing==="content-box"){const _=xo(s,"border","width"),b=xo(s,"padding");d-=b.width+_.width,g-=b.height+_.height}return d=Math.max(0,d-r.width),g=Math.max(0,i?d/i:g-r.height),d=Qf(Math.min(d,l,h.maxWidth)),g=Qf(Math.min(g,c,h.maxHeight)),d&&!g&&(g=Qf(d/2)),(e!==void 0||t!==void 0)&&i&&h.height&&g>h.height&&(g=h.height,d=Qf(Math.floor(g*i))),{width:d,height:g}}function hR(n,e,t){const i=e||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==r?(n.currentDevicePixelRatio=i,l.height=s,l.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const eG=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};U0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function dR(n,e){const t=Y8(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function _o(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function tG(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function nG(n,e,t,i){const s={x:n.cp2x,y:n.cp2y},r={x:e.cp1x,y:e.cp1y},l=_o(n,s,t),c=_o(s,r,t),h=_o(r,e,t),d=_o(l,c,t),g=_o(c,h,t);return _o(d,g,t)}const iG=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},sG=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ec(n,e,t){return n?iG(e,t):sG()}function SN(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function AN(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function TN(n){return n==="angle"?{between:jh,compare:t8,normalize:sa}:{between:$l,compare:(e,t)=>e-t,normalize:e=>e}}function fR({start:n,end:e,count:t,loop:i,style:s}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:s}}function rG(n,e,t){const{property:i,start:s,end:r}=t,{between:l,normalize:c}=TN(i),h=e.length;let{start:d,end:g,loop:y}=n,_,b;if(y){for(d+=h,g+=h,_=0,b=h;_<b&&l(c(e[d%h][i]),s,r);++_)d--,g--;d%=h,g%=h}return g<d&&(g+=h),{start:d,end:g,loop:y,style:n.style}}function aG(n,e,t){if(!t)return[n];const{property:i,start:s,end:r}=t,l=e.length,{compare:c,between:h,normalize:d}=TN(i),{start:g,end:y,loop:_,style:b}=rG(n,e,t),S=[];let x=!1,A=null,I,O,j;const B=()=>h(s,j,I)&&c(s,j)!==0,q=()=>c(r,I)===0||h(r,j,I),K=()=>x||B(),M=()=>!x||q();for(let C=g,D=g;C<=y;++C)O=e[C%l],!O.skip&&(I=d(O[i]),I!==j&&(x=h(I,s,r),A===null&&K()&&(A=c(I,s)===0?C:D),A!==null&&M()&&(S.push(fR({start:A,end:C,loop:_,count:l,style:b})),A=null),D=C,j=I));return A!==null&&S.push(fR({start:A,end:y,loop:_,count:l,style:b})),S}function oG(n,e){const t=[],i=n.segments;for(let s=0;s<i.length;s++){const r=aG(i[s],n.points,e);r.length&&t.push(...r)}return t}function lG(n,e,t,i){let s=0,r=e-1;if(t&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(r+=s);r>s&&n[r%e].skip;)r--;return r%=e,{start:s,end:r}}function cG(n,e,t,i){const s=n.length,r=[];let l=e,c=n[e],h;for(h=e+1;h<=t;++h){const d=n[h%s];d.skip||d.stop?c.skip||(i=!1,r.push({start:e%s,end:(h-1)%s,loop:i}),e=l=d.stop?h:null):(l=h,c.skip&&(e=h)),c=d}return l!==null&&r.push({start:e%s,end:l%s,loop:i}),r}function uG(n,e){const t=n.points,i=n.options.spanGaps,s=t.length;if(!s)return[];const r=!!n._loop,{start:l,end:c}=lG(t,s,r,i);if(i===!0)return gR(n,[{start:l,end:c,loop:r}],t,e);const h=c<l?c+s:c,d=!!n._fullLoop&&l===0&&c===s-1;return gR(n,cG(t,l,h,d),t,e)}function gR(n,e,t,i){return!i||!i.setContext||!t?e:hG(n,e,t,i)}function hG(n,e,t,i){const s=n._chart.getContext(),r=pR(n.options),{_datasetIndex:l,options:{spanGaps:c}}=n,h=t.length,d=[];let g=r,y=e[0].start,_=y;function b(S,x,A,I){const O=c?-1:1;if(S!==x){for(S+=h;t[S%h].skip;)S-=O;for(;t[x%h].skip;)x+=O;S%h!==x%h&&(d.push({start:S%h,end:x%h,loop:A,style:I}),g=I,y=x%h)}}for(const S of e){y=c?y:S.start;let x=t[y%h],A;for(_=y+1;_<=S.end;_++){const I=t[_%h];A=pR(i.setContext(Yo(s,{type:"segment",p0:x,p1:I,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:l}))),dG(A,g)&&b(y,_-1,S.loop,g),x=I,g=A}y<_-1&&b(y,_-1,S.loop,g)}return d}function pR(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function dG(n,e){if(!e)return!1;const t=[],i=function(s,r){return k0(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class fG{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const r=t.listeners[s],l=t.duration;r.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=gN.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let l=r.length-1,c=!1,h;for(;l>=0;--l)h=r[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),c=!0):(r[l]=r[r.length-1],r.pop());c&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var er=new fG;const mR="transparent",gG={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=rR(n||mR),s=i.valid&&rR(e||mR);return s&&s.valid?s.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class pG{constructor(e,t,i,s){const r=t[i];s=$f([e.to,s,r,e.from]);const l=$f([e.from,r,s]);this._active=!0,this._fn=e.fn||gG[e.type||typeof l],this._easing=ph[e.easing]||ph.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,l=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=$f([e.to,t,s,e.from]),this._from=$f([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,r=this._from,l=this._loop,c=this._to;let h;if(this._active=r!==c&&(l||t<i),!this._active){this._target[s]=c,this._notify(!0);return}if(t<0){this._target[s]=r;return}h=t/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(r,c,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}class xN{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Je(e))return;const t=Object.keys(Ut.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!Je(r))return;const l={};for(const c of t)l[c]=r[c];(un(r.properties)&&r.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(e,t){const i=t.options,s=yG(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&mG(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,t){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const d=l[h];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,t));continue}const g=t[d];let y=r[d];const _=i.get(d);if(y)if(_&&y.active()){y.update(_,g,c);continue}else y.cancel();if(!_||!_.duration){e[d]=g;continue}r[d]=y=new pG(_,e,d,g),s.push(y)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return er.add(this._chart,i),!0}}function mG(n,e){const t=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=n[i[s]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function yG(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function yR(n,e){const t=n&&n.options||{},i=t.reverse,s=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function vG(n,e,t){if(t===!1)return!1;const i=yR(n,t),s=yR(e,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function _G(n){let e,t,i,s;return Je(n)?(e=n.top,t=n.right,i=n.bottom,s=n.left):e=t=i=s=n,{top:e,right:t,bottom:i,left:s,disabled:n===!1}}function RN(n,e){const t=[],i=n._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)t.push(i[s].index);return t}function vR(n,e,t,i={}){const s=n.keys,r=i.mode==="single";let l,c,h,d;if(e===null)return;let g=!1;for(l=0,c=s.length;l<c;++l){if(h=+s[l],h===t){if(g=!0,i.all)continue;break}d=n.values[h],Di(d)&&(r||e===0||fc(e)===fc(d))&&(e+=d)}return!g&&!i.all?0:e}function bG(n,e){const{iScale:t,vScale:i}=e,s=t.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let h,d,g;for(h=0,d=l.length;h<d;++h)g=l[h],c[h]={[s]:g,[r]:n[g]};return c}function Bv(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function EG(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function wG(n){const{min:e,max:t,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function SG(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function _R(n,e,t,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=n[s.index];if(t&&r>0||!t&&r<0)return s.index}return null}function bR(n,e){const{chart:t,_cachedMeta:i}=n,s=t._stacks||(t._stacks={}),{iScale:r,vScale:l,index:c}=i,h=r.axis,d=l.axis,g=EG(r,l,i),y=e.length;let _;for(let b=0;b<y;++b){const S=e[b],{[h]:x,[d]:A}=S,I=S._stacks||(S._stacks={});_=I[d]=SG(s,g,x),_[c]=A,_._top=_R(_,l,!0,i.type),_._bottom=_R(_,l,!1,i.type);const O=_._visualValues||(_._visualValues={});O[c]=A}}function Hv(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function AG(n,e){return Yo(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function TG(n,e,t){return Yo(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ju(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][t]===void 0)return;delete r[i][t],r[i]._visualValues!==void 0&&r[i]._visualValues[t]!==void 0&&delete r[i]._visualValues[t]}}}const Fv=n=>n==="reset"||n==="none",ER=(n,e)=>e?n:Object.assign({},n),xG=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:RN(t,!0),values:null};class tc{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Bv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ju(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(y,_,b,S)=>y==="x"?_:y==="r"?S:b,r=t.xAxisID=ze(i.xAxisID,Hv(e,"x")),l=t.yAxisID=ze(i.yAxisID,Hv(e,"y")),c=t.rAxisID=ze(i.rAxisID,Hv(e,"r")),h=t.indexAxis,d=t.iAxisID=s(h,r,l,c),g=t.vAxisID=s(h,l,r,c);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&nR(this._data,this),e._stacked&&ju(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Je(t)){const s=this._cachedMeta;this._data=bG(t,s)}else if(i!==t){if(i){nR(i,this);const s=this._cachedMeta;ju(s),s._parsed=[]}t&&Object.isExtensible(t)&&r8(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=t._stacked;t._stacked=Bv(t.vScale,t),t.stack!==i.stack&&(s=!0,ju(t),t.stack=i.stack),this._resyncElements(e),(s||r!==t._stacked)&&(bR(this,t._parsed),t._stacked=Bv(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:l}=i,c=r.axis;let h=e===0&&t===s.length?!0:i._sorted,d=e>0&&i._parsed[e-1],g,y,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{un(s[e])?_=this.parseArrayData(i,s,e,t):Je(s[e])?_=this.parseObjectData(i,s,e,t):_=this.parsePrimitiveData(i,s,e,t);const b=()=>y[c]===null||d&&y[c]<d[c];for(g=0;g<t;++g)i._parsed[g+e]=y=_[g],h&&(b()&&(h=!1),d=y);i._sorted=h}l&&bR(this,_)}parsePrimitiveData(e,t,i,s){const{iScale:r,vScale:l}=e,c=r.axis,h=l.axis,d=r.getLabels(),g=r===l,y=new Array(s);let _,b,S;for(_=0,b=s;_<b;++_)S=_+i,y[_]={[c]:g||r.parse(d[S],S),[h]:l.parse(t[S],S)};return y}parseArrayData(e,t,i,s){const{xScale:r,yScale:l}=e,c=new Array(s);let h,d,g,y;for(h=0,d=s;h<d;++h)g=h+i,y=t[g],c[h]={x:r.parse(y[0],g),y:l.parse(y[1],g)};return c}parseObjectData(e,t,i,s){const{xScale:r,yScale:l}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=new Array(s);let g,y,_,b;for(g=0,y=s;g<y;++g)_=g+i,b=t[_],d[g]={x:r.parse(Oh(b,c),_),y:l.parse(Oh(b,h),_)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,r=this._cachedMeta,l=t[e.axis],c={keys:RN(s,!0),values:t._stacks[e.axis]._visualValues};return vR(c,l,r.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const r=i[t.axis];let l=r===null?NaN:r;const c=s&&i._stacks[t.axis];s&&c&&(s.values=c,l=vR(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,l=s.length,c=this._getOtherScale(e),h=xG(t,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=wG(c);let _,b;function S(){b=s[_];const x=b[c.axis];return!Di(b[e.axis])||g>x||y<x}for(_=0;_<l&&!(!S()&&(this.updateRangeFromParsed(d,e,b,h),r));++_);if(r){for(_=l-1;_>=0;--_)if(!S()){this.updateRangeFromParsed(d,e,b,h);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,r,l;for(s=0,r=t.length;s<r;++s)l=t[s][e.axis],Di(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=_G(ze(this.options.clip,vG(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],r=t.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,r,c,h),g=c;g<c+h;++g){const y=s[g];y.hidden||(y.active&&d?l.push(y):y.draw(e,r))}for(g=0;g<l.length;++g)l[g].draw(e,r)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];r=l.$context||(l.$context=TG(this.getContext(),e,l)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=AG(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s=t==="active",r=this._cachedDataOpts,l=e+"-"+t,c=r[l],h=this.enableOptionSharing&&dp(i);if(c)return ER(c,h);const d=this.chart.config,g=d.datasetElementScopeKeys(this._type,e),y=s?[`${e}Hover`,"hover",e,""]:[e,""],_=d.getOptionScopes(this.getDataset(),g),b=Object.keys(Ut.elements[e]),S=()=>this.getContext(i,s,t),x=d.resolveNamedOptions(_,b,S,y);return x.$shared&&(x.$shared=h,r[l]=Object.freeze(ER(x,h))),x}_resolveAnimations(e,t,i){const s=this.chart,r=this._cachedDataOpts,l=`animation-${t}`,c=r[l];if(c)return c;let h;if(s.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,t),_=g.getOptionScopes(this.getDataset(),y);h=g.createResolver(_,this.getContext(e,i,t))}const d=new xN(s,h&&h.animations);return h&&h._cacheable&&(r[l]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Fv(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,r=this.getSharedOptions(i),l=this.includeOptions(t,r)||r!==s;return this.updateSharedOptions(r,t,i),{sharedOptions:r,includeOptions:l}}updateElement(e,t,i,s){Fv(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!Fv(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const r=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[c,h,d]of this._syncList)this[c](h,d);this._syncList=[];const s=i.length,r=t.length,l=Math.min(r,s);l&&this.parse(0,l),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,t,i=!0){const s=this._cachedMeta,r=s.data,l=e+t;let c;const h=d=>{for(d.length+=t,c=d.length-1;c>=l;c--)d[c]=d[c-t]};for(h(r),c=e;c<l;++c)r[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(e,t),i&&this.updateElements(r,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&ju(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}we(tc,"defaults",{}),we(tc,"datasetElementType",null),we(tc,"dataElementType",null);function RG(n,e,t){let i=1,s=1,r=0,l=0;if(e<Mt){const c=n,h=c+e,d=Math.cos(c),g=Math.sin(c),y=Math.cos(h),_=Math.sin(h),b=(j,B,q)=>jh(j,c,h,!0)?1:Math.max(B,B*t,q,q*t),S=(j,B,q)=>jh(j,c,h,!0)?-1:Math.min(B,B*t,q,q*t),x=b(0,d,y),A=b(Xt,g,_),I=S(Ot,d,y),O=S(Ot+Xt,g,_);i=(x-I)/2,s=(A-O)/2,r=-(x+I)/2,l=-(A+O)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:l}}class Ku extends tc{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=h=>+i[h];if(Je(i[e])){const{key:h="value"}=this._parsing;r=d=>+Oh(i[d],h)}let l,c;for(l=e,c=e+t;l<c;++l)s._parsed[l]=r(l)}}_getRotation(){return or(this.options.rotation-90)}_getCircumference(){return or(this.options.circumference)}_getRotationExtents(){let e=Mt,t=-Mt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),l=s._getCircumference();e=Math.min(e,r),t=Math.max(t,r+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,s=this._cachedMeta,r=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(Hq(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:g,rotation:y}=this._getRotationExtents(),{ratioX:_,ratioY:b,offsetX:S,offsetY:x}=RG(y,g,h),A=(i.width-l)/_,I=(i.height-l)/b,O=Math.max(Math.min(A,I)/2,0),j=cN(this.options.radius,O),B=Math.max(j*h,0),q=(j-B)/this._getVisibleDatasetWeightTotal();this.offsetX=S*j,this.offsetY=x*j,s.total=this.calculateTotal(),this.outerRadius=j-q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-q*d,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/Mt)}updateElements(e,t,i,s){const r=s==="reset",l=this.chart,c=l.chartArea,d=l.options.animation,g=(c.left+c.right)/2,y=(c.top+c.bottom)/2,_=r&&d.animateScale,b=_?0:this.innerRadius,S=_?0:this.outerRadius,{sharedOptions:x,includeOptions:A}=this._getSharedOptions(t,s);let I=this._getRotation(),O;for(O=0;O<t;++O)I+=this._circumference(O,r);for(O=t;O<t+i;++O){const j=this._circumference(O,r),B=e[O],q={x:g+this.offsetX,y:y+this.offsetY,startAngle:I,endAngle:I+j,circumference:j,outerRadius:S,innerRadius:b};A&&(q.options=x||this.resolveDataElementOptions(O,B.active?"active":s)),I+=j,this.updateElement(B,O,q,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,s;for(s=0;s<t.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Mt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=N0(t._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const i=this.chart;let s,r,l,c,h;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),e=l.data,c=l.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)h=c.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(ze(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}we(Ku,"id","doughnut"),we(Ku,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),we(Ku,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),we(Ku,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return t.labels.map((r,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class bg extends tc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=t,l=this.chart._animationsDisabled;let{start:c,count:h}=c8(t,s,l);this._drawStart=c,this._drawCount=h,u8(t)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},e),this.updateElements(s,c,h,e)}updateElements(e,t,i,s){const r=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(t,s),_=l.axis,b=c.axis,{spanGaps:S,segment:x}=this.options,A=Ph(S)?S:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||r||s==="none",O=t+i,j=e.length;let B=t>0&&this.getParsed(t-1);for(let q=0;q<j;++q){const K=e[q],M=I?K:{};if(q<t||q>=O){M.skip=!0;continue}const C=this.getParsed(q),D=dt(C[b]),P=M[_]=l.getPixelForValue(C[_],q),V=M[b]=r||D?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,C,h):C[b],q);M.skip=isNaN(P)||isNaN(V)||D,M.stop=q>0&&Math.abs(C[_]-B[_])>A,x&&(M.parsed=C,M.raw=d.data[q]),y&&(M.options=g||this.resolveDataElementOptions(q,K.active?"active":s)),I||this.updateElement(K,q,M,s),B=C}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}we(bg,"id","line"),we(bg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),we(bg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function go(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class B0{constructor(e){we(this,"options");this.options=e||{}}static override(e){Object.assign(B0.prototype,e)}init(){}formats(){return go()}parse(){return go()}format(){return go()}add(){return go()}diff(){return go()}startOf(){return go()}endOf(){return go()}}var CG={_date:B0};function DG(n,e,t,i){const{controller:s,data:r,_sorted:l}=n,c=s._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&r.length){const d=c._reversePixels?i8:Ao;if(i){if(s._sharedOptions){const g=r[0],y=typeof g.getRange=="function"&&g.getRange(e);if(y){const _=d(r,e,t-y),b=d(r,e,t+y);return{lo:_.lo,hi:b.hi}}}}else{const g=d(r,e,t);if(h){const{vScale:y}=s._cachedMeta,{_parsed:_}=n,b=_.slice(0,g.lo+1).reverse().findIndex(x=>!dt(x[y.axis]));g.lo-=Math.max(0,b);const S=_.slice(g.hi).findIndex(x=>!dt(x[y.axis]));g.hi+=Math.max(0,S)}return g}}return{lo:0,hi:r.length-1}}function em(n,e,t,i,s){const r=n.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,h=r.length;c<h;++c){const{index:d,data:g}=r[c],{lo:y,hi:_}=DG(r[c],e,l,s);for(let b=y;b<=_;++b){const S=g[b];S.skip||i(S,d,b)}}}function IG(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,l=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(l,2))}}function qv(n,e,t,i,s){const r=[];return!s&&!n.isPointInArea(e)||em(n,t,e,function(c,h,d){!s&&!Lh(c,n.chartArea,0)||c.inRange(e.x,e.y,i)&&r.push({element:c,datasetIndex:h,index:d})},!0),r}function kG(n,e,t,i){let s=[];function r(l,c,h){const{startAngle:d,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:y}=dN(l,{x:e.x,y:e.y});jh(y,d,g)&&s.push({element:l,datasetIndex:c,index:h})}return em(n,t,e,r),s}function NG(n,e,t,i,s,r){let l=[];const c=IG(t);let h=Number.POSITIVE_INFINITY;function d(g,y,_){const b=g.inRange(e.x,e.y,s);if(i&&!b)return;const S=g.getCenterPoint(s);if(!(!!r||n.isPointInArea(S))&&!b)return;const A=c(e,S);A<h?(l=[{element:g,datasetIndex:y,index:_}],h=A):A===h&&l.push({element:g,datasetIndex:y,index:_})}return em(n,t,e,d),l}function Gv(n,e,t,i,s,r){return!r&&!n.isPointInArea(e)?[]:t==="r"&&!i?kG(n,e,t,s):NG(n,e,t,i,s,r)}function wR(n,e,t,i,s){const r=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return em(n,t,e,(h,d,g)=>{h[l]&&h[l](e[t],s)&&(r.push({element:h,datasetIndex:d,index:g}),c=c||h.inRange(e.x,e.y,s))}),i&&!c?[]:r}var MG={modes:{index(n,e,t,i){const s=vo(e,n),r=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?qv(n,s,r,i,l):Gv(n,s,r,!1,i,l),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const g=c[0].index,y=d.data[g];y&&!y.skip&&h.push({element:y,datasetIndex:d.index,index:g})}),h):[]},dataset(n,e,t,i){const s=vo(e,n),r=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?qv(n,s,r,i,l):Gv(n,s,r,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,d=n.getDatasetMeta(h).data;c=[];for(let g=0;g<d.length;++g)c.push({element:d[g],datasetIndex:h,index:g})}return c},point(n,e,t,i){const s=vo(e,n),r=t.axis||"xy",l=t.includeInvisible||!1;return qv(n,s,r,i,l)},nearest(n,e,t,i){const s=vo(e,n),r=t.axis||"xy",l=t.includeInvisible||!1;return Gv(n,s,r,t.intersect,i,l)},x(n,e,t,i){const s=vo(e,n);return wR(n,s,"x",t.intersect,i)},y(n,e,t,i){const s=vo(e,n);return wR(n,s,"y",t.intersect,i)}}};const CN=["left","top","right","bottom"];function Lu(n,e){return n.filter(t=>t.pos===e)}function SR(n,e){return n.filter(t=>CN.indexOf(t.pos)===-1&&t.box.axis===e)}function Vu(n,e){return n.sort((t,i)=>{const s=e?i:t,r=e?t:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function OG(n){const e=[];let t,i,s,r,l,c;for(t=0,i=(n||[]).length;t<i;++t)s=n[t],{position:r,options:{stack:l,stackWeight:c=1}}=s,e.push({index:t,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&r+l,stackWeight:c});return e}function PG(n){const e={};for(const t of n){const{stack:i,pos:s,stackWeight:r}=t;if(!i||!CN.includes(s))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=r}return e}function jG(n,e){const t=PG(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,l,c;for(r=0,l=n.length;r<l;++r){c=n[r];const{fullSize:h}=c.box,d=t[c.stack],g=d&&c.stackWeight/d.weight;c.horizontal?(c.width=g?g*i:h&&e.availableWidth,c.height=s):(c.width=i,c.height=g?g*s:h&&e.availableHeight)}return t}function LG(n){const e=OG(n),t=Vu(e.filter(d=>d.box.fullSize),!0),i=Vu(Lu(e,"left"),!0),s=Vu(Lu(e,"right")),r=Vu(Lu(e,"top"),!0),l=Vu(Lu(e,"bottom")),c=SR(e,"x"),h=SR(e,"y");return{fullSize:t,leftAndTop:i.concat(r),rightAndBottom:s.concat(h).concat(l).concat(c),chartArea:Lu(e,"chartArea"),vertical:i.concat(s).concat(h),horizontal:r.concat(l).concat(c)}}function AR(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function DN(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function VG(n,e,t,i){const{pos:s,box:r}=t,l=n.maxPadding;if(!Je(s)){t.size&&(n[s]-=t.size);const y=i[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?r.height:r.width),t.size=y.size/y.count,n[s]+=t.size}r.getPadding&&DN(l,r.getPadding());const c=Math.max(0,e.outerWidth-AR(l,n,"left","right")),h=Math.max(0,e.outerHeight-AR(l,n,"top","bottom")),d=c!==n.w,g=h!==n.h;return n.w=c,n.h=h,t.horizontal?{same:d,other:g}:{same:g,other:d}}function UG(n){const e=n.maxPadding;function t(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function zG(n,e){const t=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{r[l]=Math.max(e[l],t[l])}),r}return i(n?["left","right"]:["top","bottom"])}function Xu(n,e,t,i){const s=[];let r,l,c,h,d,g;for(r=0,l=n.length,d=0;r<l;++r){c=n[r],h=c.box,h.update(c.width||e.w,c.height||e.h,zG(c.horizontal,e));const{same:y,other:_}=VG(e,t,c,i);d|=y&&s.length,g=g||_,h.fullSize||s.push(c)}return d&&Xu(s,e,t,i)||g}function Kf(n,e,t,i,s){n.top=t,n.left=e,n.right=e+i,n.bottom=t+s,n.width=i,n.height=s}function TR(n,e,t,i){const s=t.padding;let{x:r,y:l}=e;for(const c of n){const h=c.box,d=i[c.stack]||{placed:0,weight:1},g=c.stackWeight/d.weight||1;if(c.horizontal){const y=e.w*g,_=d.size||h.height;dp(d.start)&&(l=d.start),h.fullSize?Kf(h,s.left,l,t.outerWidth-s.right-s.left,_):Kf(h,e.left+d.placed,l,y,_),d.start=l,d.placed+=y,l=h.bottom}else{const y=e.h*g,_=d.size||h.width;dp(d.start)&&(r=d.start),h.fullSize?Kf(h,r,s.top,_,t.outerHeight-s.bottom-s.top):Kf(h,r,e.top+d.placed,_,y),d.start=r,d.placed+=y,r=h.right}}e.x=r,e.y=l}var Ai={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const s=Ii(n.options.layout.padding),r=Math.max(e-s.width,0),l=Math.max(t-s.height,0),c=LG(n.boxes),h=c.vertical,d=c.horizontal;rt(n.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const g=h.reduce((x,A)=>A.box.options&&A.box.options.display===!1?x:x+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:r,availableHeight:l,vBoxMaxWidth:r/2/g,hBoxMaxHeight:l/2}),_=Object.assign({},s);DN(_,Ii(i));const b=Object.assign({maxPadding:_,w:r,h:l,x:s.left,y:s.top},s),S=jG(h.concat(d),y);Xu(c.fullSize,b,y,S),Xu(h,b,y,S),Xu(d,b,y,S)&&Xu(h,b,y,S),UG(b),TR(c.leftAndTop,b,y,S),b.x+=b.w,b.y+=b.h,TR(c.rightAndBottom,b,y,S),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},rt(c.chartArea,x=>{const A=x.box;Object.assign(A,n.chartArea),A.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class IN{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class BG extends IN{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Eg="$chartjs",HG={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xR=n=>n===null||n==="";function FG(n,e){const t=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Eg]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",xR(s)){const r=dR(n,"width");r!==void 0&&(n.width=r)}if(xR(i))if(n.style.height==="")n.height=n.width/(e||2);else{const r=dR(n,"height");r!==void 0&&(n.height=r)}return n}const kN=eG?{passive:!0}:!1;function qG(n,e,t){n&&n.addEventListener(e,t,kN)}function GG(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,kN)}function WG(n,e){const t=HG[n.type]||n.type,{x:i,y:s}=vo(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function pp(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function $G(n,e,t){const i=n.canvas,s=new MutationObserver(r=>{let l=!1;for(const c of r)l=l||pp(c.addedNodes,i),l=l&&!pp(c.removedNodes,i);l&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function YG(n,e,t){const i=n.canvas,s=new MutationObserver(r=>{let l=!1;for(const c of r)l=l||pp(c.removedNodes,i),l=l&&!pp(c.addedNodes,i);l&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const Uh=new Map;let RR=0;function NN(){const n=window.devicePixelRatio;n!==RR&&(RR=n,Uh.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function QG(n,e){Uh.size||window.addEventListener("resize",NN),Uh.set(n,e)}function KG(n){Uh.delete(n),Uh.size||window.removeEventListener("resize",NN)}function XG(n,e,t){const i=n.canvas,s=i&&z0(i);if(!s)return;const r=pN((c,h)=>{const d=s.clientWidth;t(c,h),d<s.clientWidth&&t()},window),l=new ResizeObserver(c=>{const h=c[0],d=h.contentRect.width,g=h.contentRect.height;d===0&&g===0||r(d,g)});return l.observe(s),QG(n,r),l}function Wv(n,e,t){t&&t.disconnect(),e==="resize"&&KG(n)}function ZG(n,e,t){const i=n.canvas,s=pN(r=>{n.ctx!==null&&t(WG(r,n))},n);return qG(i,e,s),s}class JG extends IN{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(FG(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Eg])return!1;const i=t[Eg].initial;["height","width"].forEach(r=>{const l=i[r];dt(l)?t.removeAttribute(r):t.setAttribute(r,l)});const s=i.style||{};return Object.keys(s).forEach(r=>{t.style[r]=s[r]}),t.width=t.width,delete t[Eg],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),l={attach:$G,detach:YG,resize:XG}[t]||ZG;s[t]=l(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];if(!s)return;({attach:Wv,detach:Wv,resize:Wv}[t]||GG)(e,t,s),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return J8(e,t,i,s)}isAttached(e){const t=e&&z0(e);return!!(t&&t.isConnected)}}function eW(n){return!U0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?BG:JG}class Ts{constructor(){we(this,"x");we(this,"y");we(this,"active",!1);we(this,"options");we(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Ph(this.x)&&Ph(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}we(Ts,"defaults",{}),we(Ts,"defaultRoutes");function tW(n,e){const t=n.options.ticks,i=nW(n),s=Math.min(t.maxTicksLimit||i,i),r=t.major.enabled?sW(e):[],l=r.length,c=r[0],h=r[l-1],d=[];if(l>s)return rW(e,d,r,l/s),d;const g=iW(r,e,s);if(l>0){let y,_;const b=l>1?Math.round((h-c)/(l-1)):null;for(Xf(e,d,g,dt(b)?0:c-b,c),y=0,_=l-1;y<_;y++)Xf(e,d,g,r[y],r[y+1]);return Xf(e,d,g,h,dt(b)?e.length:h+b),d}return Xf(e,d,g),d}function nW(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(i,s))}function iW(n,e,t){const i=aW(n),s=e.length/t;if(!i)return Math.max(s,1);const r=Kq(i);for(let l=0,c=r.length-1;l<c;l++){const h=r[l];if(h>s)return h}return Math.max(s,1)}function sW(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function rW(n,e,t,i){let s=0,r=t[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===r&&(e.push(n[l]),s++,r=t[s*i])}function Xf(n,e,t,i,s){const r=ze(i,0),l=Math.min(ze(s,n.length),n.length);let c=0,h,d,g;for(t=Math.ceil(t),s&&(h=s-i,t=h/Math.floor(h/t)),g=r;g<0;)c++,g=Math.round(r+c*t);for(d=Math.max(r,0);d<l;d++)d===g&&(e.push(n[d]),c++,g=Math.round(r+c*t))}function aW(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const oW=n=>n==="left"?"right":n==="right"?"left":n,CR=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,DR=(n,e)=>Math.min(e||n,n);function IR(n,e){const t=[],i=n.length/e,s=n.length;let r=0;for(;r<s;r+=i)t.push(n[Math.floor(r)]);return t}function lW(n,e,t){const i=n.ticks.length,s=Math.min(e,i-1),r=n._startPixel,l=n._endPixel,c=1e-6;let h=n.getPixelForTick(s),d;if(!(t&&(i===1?d=Math.max(h-r,l-h):e===0?d=(n.getPixelForTick(1)-h)/2:d=(h-n.getPixelForTick(s-1))/2,h+=s<e?d:-d,h<r-c||h>l+c)))return h}function cW(n,e){rt(n,t=>{const i=t.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete t.data[i[r]];i.splice(0,s)}})}function Uu(n){return n.drawTicks?n.tickLength:0}function kR(n,e){if(!n.display)return 0;const t=In(n.font,e),i=Ii(n.padding);return(un(n.text)?n.text.length:1)*t.lineHeight+i.height}function uW(n,e){return Yo(n,{scale:e,type:"scale"})}function hW(n,e,t){return Yo(n,{tick:t,index:e,type:"tick"})}function dW(n,e,t){let i=I0(n);return(t&&e!=="right"||!t&&e==="right")&&(i=oW(i)),i}function fW(n,e,t,i){const{top:s,left:r,bottom:l,right:c,chart:h}=n,{chartArea:d,scales:g}=h;let y=0,_,b,S;const x=l-s,A=c-r;if(n.isHorizontal()){if(b=xn(i,r,c),Je(t)){const I=Object.keys(t)[0],O=t[I];S=g[I].getPixelForValue(O)+x-e}else t==="center"?S=(d.bottom+d.top)/2+x-e:S=CR(n,t,e);_=c-r}else{if(Je(t)){const I=Object.keys(t)[0],O=t[I];b=g[I].getPixelForValue(O)-A+e}else t==="center"?b=(d.left+d.right)/2-A+e:b=CR(n,t,e);S=xn(i,l,s),y=t==="left"?-Xt:Xt}return{titleX:b,titleY:S,maxWidth:_,rotation:y}}class Rc extends Ts{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=ds(e,Number.POSITIVE_INFINITY),t=ds(t,Number.NEGATIVE_INFINITY),i=ds(i,Number.POSITIVE_INFINITY),s=ds(s,Number.NEGATIVE_INFINITY),{min:ds(e,i),max:ds(t,s),minDefined:Di(e),maxDefined:Di(t)}}getMinMax(e){let{min:t,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),l;if(s&&r)return{min:t,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,d=c.length;h<d;++h)l=c[h].controller.getMinMax(this,e),s||(t=Math.min(t,l.min)),r||(i=Math.max(i,l.max));return t=r&&t>i?i:t,i=s&&t>i?t:i,{min:ds(t,ds(i,t)),max:ds(i,ds(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pt(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:r,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=k8(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?IR(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=tW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pt(this.options.afterUpdate,[this])}beforeSetDimensions(){pt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),pt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=pt(t.callback,[r.value,i,e],this)}afterTickToLabelConversion(){pt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=DR(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,r=t.maxRotation;let l=s,c,h,d;if(!this._isVisible()||!t.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const g=this._getLabelSizes(),y=g.widest.width,_=g.highest.height,b=Vn(this.chart.width-y,0,this.maxWidth);c=e.offset?this.maxWidth/i:b/(i-1),y+6>c&&(c=b/(i-(e.offset?.5:1)),h=this.maxHeight-Uu(e.grid)-t.padding-kR(e.title,this.chart.options.font),d=Math.sqrt(y*y+_*_),l=e8(Math.min(Math.asin(Vn((g.highest.height+6)/c,-1,1)),Math.asin(Vn(h/d,-1,1))-Math.asin(Vn(_/d,-1,1)))),l=Math.max(s,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){pt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:r}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=kR(s,t.options.font);if(c?(e.width=this.maxWidth,e.height=Uu(r)+h):(e.height=this.maxHeight,e.width=Uu(r)+h),i.display&&this.ticks.length){const{first:d,last:g,widest:y,highest:_}=this._getLabelSizes(),b=i.padding*2,S=or(this.labelRotation),x=Math.cos(S),A=Math.sin(S);if(c){const I=i.mirror?0:A*y.width+x*_.height;e.height=Math.min(this.maxHeight,e.height+I+b)}else{const I=i.mirror?0:x*y.width+A*_.height;e.width=Math.min(this.maxWidth,e.width+I+b)}this._calculatePadding(d,g,A,x)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:r,padding:l},position:c}=this.options,h=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,b=0;h?d?(_=s*e.width,b=i*t.height):(_=i*e.height,b=s*t.width):r==="start"?b=t.width:r==="end"?_=e.width:r!=="inner"&&(_=e.width/2,b=t.width/2),this.paddingLeft=Math.max((_-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((b-y+l)*this.width/(this.width-y),0)}else{let g=t.height/2,y=e.height/2;r==="start"?(g=0,y=e.height):r==="end"&&(g=t.height,y=0),this.paddingTop=g+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)dt(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=IR(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:s,_longestTextCache:r}=this,l=[],c=[],h=Math.floor(t/DR(t,i));let d=0,g=0,y,_,b,S,x,A,I,O,j,B,q;for(y=0;y<t;y+=h){if(S=e[y].label,x=this._resolveTickFontOptions(y),s.font=A=x.string,I=r[A]=r[A]||{data:{},gc:[]},O=x.lineHeight,j=B=0,!dt(S)&&!un(S))j=oR(s,I.data,I.gc,j,S),B=O;else if(un(S))for(_=0,b=S.length;_<b;++_)q=S[_],!dt(q)&&!un(q)&&(j=oR(s,I.data,I.gc,j,q),B+=O);l.push(j),c.push(B),d=Math.max(j,d),g=Math.max(B,g)}cW(r,t);const K=l.indexOf(d),M=c.indexOf(g),C=D=>({width:l[D]||0,height:c[D]||0});return{first:C(0),last:C(t-1),widest:C(K),highest:C(M),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return n8(this._alignToPixels?fo(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=hW(this.getContext(),e,i))}return this.$context||(this.$context=uW(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=or(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),r=this._getLabelSizes(),l=e.autoSkipPadding||0,c=r?r.widest.width+l:0,h=r?r.highest.height+l:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:r,position:l,border:c}=s,h=r.offset,d=this.isHorizontal(),y=this.ticks.length+(h?1:0),_=Uu(r),b=[],S=c.setContext(this.getContext()),x=S.display?S.width:0,A=x/2,I=function(re){return fo(i,re,x)};let O,j,B,q,K,M,C,D,P,V,H,L;if(l==="top")O=I(this.bottom),M=this.bottom-_,D=O-A,V=I(e.top)+A,L=e.bottom;else if(l==="bottom")O=I(this.top),V=e.top,L=I(e.bottom)-A,M=O+A,D=this.top+_;else if(l==="left")O=I(this.right),K=this.right-_,C=O-A,P=I(e.left)+A,H=e.right;else if(l==="right")O=I(this.left),P=e.left,H=I(e.right)-A,K=O+A,C=this.left+_;else if(t==="x"){if(l==="center")O=I((e.top+e.bottom)/2+.5);else if(Je(l)){const re=Object.keys(l)[0],de=l[re];O=I(this.chart.scales[re].getPixelForValue(de))}V=e.top,L=e.bottom,M=O+A,D=M+_}else if(t==="y"){if(l==="center")O=I((e.left+e.right)/2);else if(Je(l)){const re=Object.keys(l)[0],de=l[re];O=I(this.chart.scales[re].getPixelForValue(de))}K=O-A,C=K-_,P=e.left,H=e.right}const De=ze(s.ticks.maxTicksLimit,y),_e=Math.max(1,Math.ceil(y/De));for(j=0;j<y;j+=_e){const re=this.getContext(j),de=r.setContext(re),fe=c.setContext(re),be=de.lineWidth,F=de.color,oe=fe.dash||[],ge=fe.dashOffset,he=de.tickWidth,ue=de.tickColor,Re=de.tickBorderDash||[],Ae=de.tickBorderDashOffset;B=lW(this,j,h),B!==void 0&&(q=fo(i,B,be),d?K=C=P=H=q:M=D=V=L=q,b.push({tx1:K,ty1:M,tx2:C,ty2:D,x1:P,y1:V,x2:H,y2:L,width:be,color:F,borderDash:oe,borderDashOffset:ge,tickWidth:he,tickColor:ue,tickBorderDash:Re,tickBorderDashOffset:Ae}))}return this._ticksLength=y,this._borderValue=O,b}_computeLabelItems(e){const t=this.axis,i=this.options,{position:s,ticks:r}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:d,padding:g,mirror:y}=r,_=Uu(i.grid),b=_+g,S=y?-g:b,x=-or(this.labelRotation),A=[];let I,O,j,B,q,K,M,C,D,P,V,H,L="middle";if(s==="top")K=this.bottom-S,M=this._getXAxisLabelAlignment();else if(s==="bottom")K=this.top+S,M=this._getXAxisLabelAlignment();else if(s==="left"){const _e=this._getYAxisLabelAlignment(_);M=_e.textAlign,q=_e.x}else if(s==="right"){const _e=this._getYAxisLabelAlignment(_);M=_e.textAlign,q=_e.x}else if(t==="x"){if(s==="center")K=(e.top+e.bottom)/2+b;else if(Je(s)){const _e=Object.keys(s)[0],re=s[_e];K=this.chart.scales[_e].getPixelForValue(re)+b}M=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")q=(e.left+e.right)/2-b;else if(Je(s)){const _e=Object.keys(s)[0],re=s[_e];q=this.chart.scales[_e].getPixelForValue(re)}M=this._getYAxisLabelAlignment(_).textAlign}t==="y"&&(h==="start"?L="top":h==="end"&&(L="bottom"));const De=this._getLabelSizes();for(I=0,O=c.length;I<O;++I){j=c[I],B=j.label;const _e=r.setContext(this.getContext(I));C=this.getPixelForTick(I)+r.labelOffset,D=this._resolveTickFontOptions(I),P=D.lineHeight,V=un(B)?B.length:1;const re=V/2,de=_e.color,fe=_e.textStrokeColor,be=_e.textStrokeWidth;let F=M;l?(q=C,M==="inner"&&(I===O-1?F=this.options.reverse?"left":"right":I===0?F=this.options.reverse?"right":"left":F="center"),s==="top"?d==="near"||x!==0?H=-V*P+P/2:d==="center"?H=-De.highest.height/2-re*P+P:H=-De.highest.height+P/2:d==="near"||x!==0?H=P/2:d==="center"?H=De.highest.height/2-re*P:H=De.highest.height-V*P,y&&(H*=-1),x!==0&&!_e.showLabelBackdrop&&(q+=P/2*Math.sin(x))):(K=C,H=(1-V)*P/2);let oe;if(_e.showLabelBackdrop){const ge=Ii(_e.backdropPadding),he=De.heights[I],ue=De.widths[I];let Re=H-ge.top,Ae=0-ge.left;switch(L){case"middle":Re-=he/2;break;case"bottom":Re-=he;break}switch(M){case"center":Ae-=ue/2;break;case"right":Ae-=ue;break;case"inner":I===O-1?Ae-=ue:I>0&&(Ae-=ue/2);break}oe={left:Ae,top:Re,width:ue+ge.width,height:he+ge.height,color:_e.backdropColor}}A.push({label:B,font:D,textOffset:H,options:{rotation:x,color:de,strokeColor:fe,strokeWidth:be,textAlign:F,textBaseline:L,translation:[q,K],backdrop:oe}})}return A}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-or(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,l=this._getLabelSizes(),c=e+r,h=l.widest.width;let d,g;return t==="left"?s?(g=this.right+r,i==="near"?d="left":i==="center"?(d="center",g+=h/2):(d="right",g+=h)):(g=this.right-c,i==="near"?d="right":i==="center"?(d="center",g-=h/2):(d="left",g=this.left)):t==="right"?s?(g=this.left+r,i==="near"?d="right":i==="center"?(d="center",g-=h/2):(d="left",g-=h)):(g=this.left+c,i==="near"?d="left":i==="center"?(d="center",g+=h/2):(d="right",g=this.right)):d="right",{textAlign:d,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:r,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,r,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,l;const c=(h,d,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(r=0,l=s.length;r<l;++r){const h=s[r];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),l=i.display?r.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,g,y,_;this.isHorizontal()?(d=fo(e,this.left,l)-l/2,g=fo(e,this.right,c)+c/2,y=_=h):(y=fo(e,this.top,l)-l/2,_=fo(e,this.bottom,c)+c/2,d=g=h),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(d,y),t.lineTo(g,_),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&M0(i,s);const r=this.getLabelItems(e);for(const l of r){const c=l.options,h=l.font,d=l.label,g=l.textOffset;Vh(i,d,0,g,h,c)}s&&O0(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const r=In(i.font),l=Ii(i.padding),c=i.align;let h=r.lineHeight/2;t==="bottom"||t==="center"||Je(t)?(h+=l.bottom,un(i.text)&&(h+=r.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:d,titleY:g,maxWidth:y,rotation:_}=fW(this,h,t,c);Vh(e,i.text,0,0,r,{color:i.color,maxWidth:y,rotation:_,textAlign:dW(c,t,s),textBaseline:"middle",translation:[d,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=ze(e.grid&&e.grid.z,-1),s=ze(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Rc.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,l;for(r=0,l=t.length;r<l;++r){const c=t[r];c[i]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return In(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Zf{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;mW(t)&&(i=this.register(t));const s=this.items,r=e.id,l=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,gW(e,l,i),this.override&&Ut.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in Ut[s]&&(delete Ut[s][i],this.override&&delete Po[i])}}function gW(n,e,t){const i=Mh(Object.create(null),[t?Ut.get(t):{},Ut.get(e),n.defaults]);Ut.set(e,i),n.defaultRoutes&&pW(e,n.defaultRoutes),n.descriptors&&Ut.describe(e,n.descriptors)}function pW(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),s=i.pop(),r=[n].concat(i).join("."),l=e[t].split("."),c=l.pop(),h=l.join(".");Ut.route(r,s,h,c)})}function mW(n){return"id"in n&&"defaults"in n}class yW{constructor(){this.controllers=new Zf(tc,"datasets",!0),this.elements=new Zf(Ts,"elements"),this.plugins=new Zf(Object,"plugins"),this.scales=new Zf(Rc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):rt(s,l=>{const c=i||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,i){const s=C0(e);pt(i["before"+s],[],i),t[e](i),pt(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var gs=new yW;class vW{constructor(){this._init=[]}notify(e,t,i,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(r,e,t,i);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,i,s){s=s||{};for(const r of e){const l=r.plugin,c=l[i],h=[t,s,r.options];if(pt(c,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){dt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=ze(i.options&&i.options.plugins,{}),r=_W(i);return s===!1&&!t?[]:EW(e,r,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(r,l)=>r.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function _W(n){const e={},t=[],i=Object.keys(gs.plugins.items);for(let r=0;r<i.length;r++)t.push(gs.getPlugin(i[r]));const s=n.plugins||[];for(let r=0;r<s.length;r++){const l=s[r];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function bW(n,e){return!e&&n===!1?null:n===!0?{}:n}function EW(n,{plugins:e,localIds:t},i,s){const r=[],l=n.getContext();for(const c of e){const h=c.id,d=bW(i[h],s);d!==null&&r.push({plugin:c,options:wW(n.config,{plugin:c,local:t[h]},d,l)})}return r}function wW(n,{plugin:e,local:t},i,s){const r=n.pluginScopeKeys(e),l=n.getOptionScopes(i,r);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function B_(n,e){const t=Ut.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function SW(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function AW(n,e){return n===e?"_index_":"_value_"}function NR(n){if(n==="x"||n==="y"||n==="r")return n}function TW(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function H_(n,...e){if(NR(n))return n;for(const t of e){const i=t.axis||TW(t.position)||n.length>1&&NR(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function MR(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function xW(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return MR(n,"x",t[0])||MR(n,"y",t[0])}return{}}function RW(n,e){const t=Po[n.type]||{scales:{}},i=e.scales||{},s=B_(n.type,e),r=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!Je(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=H_(l,c,xW(l,n),Ut.scales[c.type]),d=AW(h,s),g=t.scales||{};r[l]=fh(Object.create(null),[{axis:h},c,g[h],g[d]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,h=l.indexAxis||B_(c,e),g=(Po[c]||{}).scales||{};Object.keys(g).forEach(y=>{const _=SW(y,h),b=l[_+"AxisID"]||_;r[b]=r[b]||Object.create(null),fh(r[b],[{axis:_},i[b],g[y]])})}),Object.keys(r).forEach(l=>{const c=r[l];fh(c,[Ut.scales[c.type],Ut.scale])}),r}function MN(n){const e=n.options||(n.options={});e.plugins=ze(e.plugins,{}),e.scales=RW(n,e)}function ON(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function CW(n){return n=n||{},n.data=ON(n.data),MN(n),n}const OR=new Map,PN=new Set;function Jf(n,e){let t=OR.get(n);return t||(t=e(),OR.set(n,t),PN.add(t)),t}const zu=(n,e,t)=>{const i=Oh(e,t);i!==void 0&&n.add(i)};class DW{constructor(e){this._config=CW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ON(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),MN(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Jf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Jf(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Jf(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return Jf(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return(!s||t)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:r}=this,l=this._cachedScopes(e,i),c=l.get(t);if(c)return c;const h=new Set;t.forEach(g=>{e&&(h.add(e),g.forEach(y=>zu(h,e,y))),g.forEach(y=>zu(h,s,y)),g.forEach(y=>zu(h,Po[r]||{},y)),g.forEach(y=>zu(h,Ut,y)),g.forEach(y=>zu(h,V_,y))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),PN.has(t)&&l.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,Po[t]||{},Ut.datasets[t]||{},{type:t},Ut,V_]}resolveNamedOptions(e,t,i,s=[""]){const r={$shared:!0},{resolver:l,subPrefixes:c}=PR(this._resolverCache,e,s);let h=l;if(kW(l,t)){r.$shared=!1,i=Ca(i)?i():i;const d=this.createResolver(e,i,c);h=gc(l,i,d)}for(const d of t)r[d]=h[d];return r}createResolver(e,t,i=[""],s){const{resolver:r}=PR(this._resolverCache,e,i);return Je(t)?gc(r,t,void 0,s):r}}function PR(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=t.join();let r=i.get(s);return r||(r={resolver:j0(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,r)),r}const IW=n=>Je(n)&&Object.getOwnPropertyNames(n).some(e=>Ca(n[e]));function kW(n,e){const{isScriptable:t,isIndexable:i}=vN(n);for(const s of e){const r=t(s),l=i(s),c=(l||r)&&n[s];if(r&&(Ca(c)||IW(c))||l&&un(c))return!0}return!1}var NW="4.4.8";const MW=["top","bottom","left","right","chartArea"];function jR(n,e){return n==="top"||n==="bottom"||MW.indexOf(n)===-1&&e==="x"}function LR(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function VR(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),pt(t&&t.onComplete,[n],e)}function OW(n){const e=n.chart,t=e.options.animation;pt(t&&t.onProgress,[n],e)}function jN(n){return U0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const wg={},UR=n=>{const e=jN(n);return Object.values(wg).filter(t=>t.canvas===e).pop()};function PW(n,e,t){const i=Object.keys(n);for(const s of i){const r=+s;if(r>=e){const l=n[s];delete n[s],(t>0||r>e)&&(n[r+t]=l)}}}function jW(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}function eg(n,e,t){return n.options.clip?n[t]:e[t]}function LW(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:eg(t,e,"left"),right:eg(t,e,"right"),top:eg(i,e,"top"),bottom:eg(i,e,"bottom")}:e}var ia;let rd=(ia=class{static register(...e){gs.add(...e),zR()}static unregister(...e){gs.remove(...e),zR()}constructor(e,t){const i=this.config=new DW(t),s=jN(e),r=UR(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||eW(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),h=c&&c.canvas,d=h&&h.height,g=h&&h.width;if(this.id=Bq(),this.ctx=c,this.canvas=h,this.width=g,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new vW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=o8(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],wg[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}er.listen(this,"complete",VR),er.listen(this,"progress",OW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:s,_aspectRatio:r}=this;return dt(e)?t&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return gs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return lR(this.canvas,this.ctx),this}stop(){return er.stop(this),this}resize(e,t){er.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,t,r),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,hR(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),pt(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};rt(t,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let r=[];t&&(r=r.concat(Object.keys(t).map(l=>{const c=t[l],h=H_(l,c),d=h==="r",g=h==="x";return{options:c,dposition:d?"chartArea":g?"bottom":"left",dtype:d?"radialLinear":g?"category":"linear"}}))),rt(r,l=>{const c=l.options,h=c.id,d=H_(h,c),g=ze(c.type,l.dtype);(c.position===void 0||jR(c.position,d)!==jR(l.dposition))&&(c.position=l.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===g)y=i[h];else{const _=gs.getScale(g);y=new _({id:h,type:g,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,e)}),rt(s,(l,c)=>{l||delete i[c]}),rt(i,l=>{Ai.configure(this,l,l.options),Ai.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(LR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,s)=>{t.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const r=t[i];let l=this.getDatasetMeta(i);const c=r.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=r.indexAxis||B_(c,this.options),l.order=r.order||0,l.index=i,l.label=""+r.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=gs.getController(c),{datasetElementType:d,dataElementType:g}=Ut.datasets[c];Object.assign(h,{dataElementType:gs.getElement(g),datasetElementType:d&&gs.getElement(d)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){rt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,g=this.data.datasets.length;d<g;d++){const{controller:y}=this.getDatasetMeta(d),_=!s&&r.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||rt(r,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(LR("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){rt(this.scales,e=>{Ai.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Zx(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of t){const l=i==="_removeElements"?-r:r;PW(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=r=>new Set(e.filter(l=>l[0]===r).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let r=1;r<t;r++)if(!Zx(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ai.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],rt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Ca(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(er.has(this)?this.attached&&!er.running(this)&&er.start(this):(this.draw(),VR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,r;for(s=0,r=t.length;s<r;++s){const l=t[s];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,s=!i.disabled,r=LW(e,this.chartArea),l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(s&&M0(t,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&O0(t),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return Lh(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const r=MG.modes[t];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Yo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),l=r.controller._resolveAnimations(void 0,s);dp(t)?(r.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(r,{visible:i}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),er.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),lR(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete wg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(r,l)=>{t.addEventListener(this,r,l),e[r]=l},s=(r,l,c)=>{r.offsetX=l,r.offsetY=c,this._eventHandler(r)};rt(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,d)=>{t.addEventListener(this,h,d),e[h]=d},s=(h,d)=>{e[h]&&(t.removeEventListener(this,h,d),delete e[h])},r=(h,d)=>{this.canvas&&this.resize(h,d)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",r),i("detach",l)};l=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){rt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},rt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let r,l,c,h;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){l=e[c];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:r,index:l})=>{const c=this.getDatasetMeta(r);if(!c)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:c.data[l],index:l}});!up(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const s=this.options.hover,r=(h,d)=>h.filter(g=>!d.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),l=r(t,e),c=i?e:r(e,t);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:r}=this,l=t,c=this._getActiveElements(e,s,i,l),h=$q(e),d=jW(e,this._lastEvent,i,h);i&&(this._lastEvent=null,pt(r.onHover,[e,c,this],this),h&&pt(r.onClick,[e,c,this],this));const g=!up(c,s);return(g||t)&&(this._active=c,this._updateHoverStyles(c,s,t)),this._lastEvent=d,g}_getActiveElements(e,t,i,s){if(e.type==="mouseout")return[];if(!i)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},we(ia,"defaults",Ut),we(ia,"instances",wg),we(ia,"overrides",Po),we(ia,"registry",gs),we(ia,"version",NW),we(ia,"getChart",UR),ia);function zR(){return rt(rd.instances,n=>n._plugins.invalidate())}function VW(n,e,t){const{startAngle:i,pixelMargin:s,x:r,y:l,outerRadius:c,innerRadius:h}=e;let d=s/c;n.beginPath(),n.arc(r,l,c,i-d,t+d),h>s?(d=s/h,n.arc(r,l,h,t+d,i-d,!0)):n.arc(r,l,s,t+Xt,i-Xt),n.closePath(),n.clip()}function UW(n){return P0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function zW(n,e,t,i){const s=UW(n.options.borderRadius),r=(t-e)/2,l=Math.min(r,i*e/2),c=h=>{const d=(t-Math.min(r,h))*i/2;return Vn(h,0,Math.min(r,d))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Vn(s.innerStart,0,l),innerEnd:Vn(s.innerEnd,0,l)}}function Ul(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function mp(n,e,t,i,s,r){const{x:l,y:c,startAngle:h,pixelMargin:d,innerRadius:g}=e,y=Math.max(e.outerRadius+i+t-d,0),_=g>0?g+i+t+d:0;let b=0;const S=s-h;if(i){const _e=g>0?g-i:0,re=y>0?y-i:0,de=(_e+re)/2,fe=de!==0?S*de/(de+i):S;b=(S-fe)/2}const x=Math.max(.001,S*y-t/Ot)/y,A=(S-x)/2,I=h+A+b,O=s-A-b,{outerStart:j,outerEnd:B,innerStart:q,innerEnd:K}=zW(e,_,y,O-I),M=y-j,C=y-B,D=I+j/M,P=O-B/C,V=_+q,H=_+K,L=I+q/V,De=O-K/H;if(n.beginPath(),r){const _e=(D+P)/2;if(n.arc(l,c,y,D,_e),n.arc(l,c,y,_e,P),B>0){const be=Ul(C,P,l,c);n.arc(be.x,be.y,B,P,O+Xt)}const re=Ul(H,O,l,c);if(n.lineTo(re.x,re.y),K>0){const be=Ul(H,De,l,c);n.arc(be.x,be.y,K,O+Xt,De+Math.PI)}const de=(O-K/_+(I+q/_))/2;if(n.arc(l,c,_,O-K/_,de,!0),n.arc(l,c,_,de,I+q/_,!0),q>0){const be=Ul(V,L,l,c);n.arc(be.x,be.y,q,L+Math.PI,I-Xt)}const fe=Ul(M,I,l,c);if(n.lineTo(fe.x,fe.y),j>0){const be=Ul(M,D,l,c);n.arc(be.x,be.y,j,I-Xt,D)}}else{n.moveTo(l,c);const _e=Math.cos(D)*y+l,re=Math.sin(D)*y+c;n.lineTo(_e,re);const de=Math.cos(P)*y+l,fe=Math.sin(P)*y+c;n.lineTo(de,fe)}n.closePath()}function BW(n,e,t,i,s){const{fullCircles:r,startAngle:l,circumference:c}=e;let h=e.endAngle;if(r){mp(n,e,t,i,h,s);for(let d=0;d<r;++d)n.fill();isNaN(c)||(h=l+(c%Mt||Mt))}return mp(n,e,t,i,h,s),n.fill(),h}function HW(n,e,t,i,s){const{fullCircles:r,startAngle:l,circumference:c,options:h}=e,{borderWidth:d,borderJoinStyle:g,borderDash:y,borderDashOffset:_}=h,b=h.borderAlign==="inner";if(!d)return;n.setLineDash(y||[]),n.lineDashOffset=_,b?(n.lineWidth=d*2,n.lineJoin=g||"round"):(n.lineWidth=d,n.lineJoin=g||"bevel");let S=e.endAngle;if(r){mp(n,e,t,i,S,s);for(let x=0;x<r;++x)n.stroke();isNaN(c)||(S=l+(c%Mt||Mt))}b&&VW(n,e,S),r||(mp(n,e,t,i,S,s),n.stroke())}class Zu extends Ts{constructor(t){super();we(this,"circumference");we(this,"endAngle");we(this,"fullCircles");we(this,"innerRadius");we(this,"outerRadius");we(this,"pixelMargin");we(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,s){const r=this.getProps(["x","y"],s),{angle:l,distance:c}=dN(r,{x:t,y:i}),{startAngle:h,endAngle:d,innerRadius:g,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),b=(this.options.spacing+this.options.borderWidth)/2,S=ze(_,d-h),x=jh(l,h,d)&&h!==d,A=S>=Mt||x,I=$l(c,g+b,y+b);return A&&I}getCenterPoint(t){const{x:i,y:s,startAngle:r,endAngle:l,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:g}=this.options,y=(r+l)/2,_=(c+h+g+d)/2;return{x:i+Math.cos(y)*_,y:s+Math.sin(y)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:s}=this,r=(i.offset||0)/4,l=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Mt?Math.floor(s/Mt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const d=1-Math.sin(Math.min(Ot,s||0)),g=r*d;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,BW(t,this,g,l,c),HW(t,this,g,l,c),t.restore()}}we(Zu,"id","arc"),we(Zu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),we(Zu,"defaultRoutes",{backgroundColor:"backgroundColor"}),we(Zu,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function LN(n,e,t=e){n.lineCap=ze(t.borderCapStyle,e.borderCapStyle),n.setLineDash(ze(t.borderDash,e.borderDash)),n.lineDashOffset=ze(t.borderDashOffset,e.borderDashOffset),n.lineJoin=ze(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ze(t.borderWidth,e.borderWidth),n.strokeStyle=ze(t.borderColor,e.borderColor)}function FW(n,e,t){n.lineTo(t.x,t.y)}function qW(n){return n.stepped?E8:n.tension||n.cubicInterpolationMode==="monotone"?w8:FW}function VN(n,e,t={}){const i=n.length,{start:s=0,end:r=i-1}=t,{start:l,end:c}=e,h=Math.max(s,l),d=Math.min(r,c),g=s<l&&r<l||s>c&&r>c;return{count:i,start:h,loop:e.loop,ilen:d<h&&!g?i+d-h:d-h}}function GW(n,e,t,i){const{points:s,options:r}=e,{count:l,start:c,loop:h,ilen:d}=VN(s,t,i),g=qW(r);let{move:y=!0,reverse:_}=i||{},b,S,x;for(b=0;b<=d;++b)S=s[(c+(_?d-b:b))%l],!S.skip&&(y?(n.moveTo(S.x,S.y),y=!1):g(n,x,S,_,r.stepped),x=S);return h&&(S=s[(c+(_?d:0))%l],g(n,x,S,_,r.stepped)),!!h}function WW(n,e,t,i){const s=e.points,{count:r,start:l,ilen:c}=VN(s,t,i),{move:h=!0,reverse:d}=i||{};let g=0,y=0,_,b,S,x,A,I;const O=B=>(l+(d?c-B:B))%r,j=()=>{x!==A&&(n.lineTo(g,A),n.lineTo(g,x),n.lineTo(g,I))};for(h&&(b=s[O(0)],n.moveTo(b.x,b.y)),_=0;_<=c;++_){if(b=s[O(_)],b.skip)continue;const B=b.x,q=b.y,K=B|0;K===S?(q<x?x=q:q>A&&(A=q),g=(y*g+B)/++y):(j(),n.lineTo(B,q),S=K,y=0,x=A=q),I=q}j()}function F_(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?WW:GW}function $W(n){return n.stepped?tG:n.tension||n.cubicInterpolationMode==="monotone"?nG:_o}function YW(n,e,t,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,i)&&s.closePath()),LN(n,e.options),n.stroke(s)}function QW(n,e,t,i){const{segments:s,options:r}=e,l=F_(e);for(const c of s)LN(n,r,c.style),n.beginPath(),l(n,e,c,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const KW=typeof Path2D=="function";function XW(n,e,t,i){KW&&!e.options.segment?YW(n,e,t,i):QW(n,e,t,i)}class Ju extends Ts{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;$8(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=uG(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],r=this.points,l=oG(this,{property:t,start:s,end:s});if(!l.length)return;const c=[],h=$W(i);let d,g;for(d=0,g=l.length;d<g;++d){const{start:y,end:_}=l[d],b=r[y],S=r[_];if(b===S){c.push(b);continue}const x=Math.abs((s-b[t])/(S[t]-b[t])),A=h(b,S,x,i.stepped);A[t]=e[t],c.push(A)}return c.length===1?c[0]:c}pathSegment(e,t,i){return F_(this)(e,this,t,i)}path(e,t,i){const s=this.segments,r=F_(this);let l=this._loop;t=t||0,i=i||this.points.length-t;for(const c of s)l&=r(e,this,c,{start:t,end:t+i-1});return!!l}draw(e,t,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),XW(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}we(Ju,"id","line"),we(Ju,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),we(Ju,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),we(Ju,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function BR(n,e,t,i){const s=n.options,{[t]:r}=n.getProps([t],i);return Math.abs(e-r)<s.radius+s.hitRadius}class Sg extends Ts{constructor(t){super();we(this,"parsed");we(this,"skip");we(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,s){const r=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(t-l,2)+Math.pow(i-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,i){return BR(this,t,"x",i)}inYRange(t,i){return BR(this,t,"y",i)}getCenterPoint(t){const{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const s=i&&t.borderWidth||0;return(i+s)*2}draw(t,i){const s=this.options;this.skip||s.radius<.1||!Lh(this,i,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,U_(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}we(Sg,"id","point"),we(Sg,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),we(Sg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const HR=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},ZW=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class FR extends Ts{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=pt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=In(i.font),r=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=HR(i,r);let d,g;t.font=s.string,this.isHorizontal()?(d=this.maxWidth,g=this._fitRows(l,r,c,h)+10):(g=this.maxHeight,d=this._fitCols(l,s,c,h)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,s){const{ctx:r,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],g=s+c;let y=e;r.textAlign="left",r.textBaseline="middle";let _=-1,b=-g;return this.legendItems.forEach((S,x)=>{const A=i+t/2+r.measureText(S.text).width;(x===0||d[d.length-1]+A+2*c>l)&&(y+=g,d[d.length-(x>0?0:1)]=0,b+=g,_++),h[x]={left:0,top:b,row:_,width:A,height:s},d[d.length-1]+=A+c}),y}_fitCols(e,t,i,s){const{ctx:r,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],g=l-e;let y=c,_=0,b=0,S=0,x=0;return this.legendItems.forEach((A,I)=>{const{itemWidth:O,itemHeight:j}=JW(i,t,r,A,s);I>0&&b+j+2*c>g&&(y+=_+c,d.push({width:_,height:b}),S+=_+c,x++,_=b=0),h[I]={left:S,top:b,col:x,width:O,height:j},_=Math.max(_,O),b+=j+c}),y+=_,d.push({width:_,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:s},rtl:r}}=this,l=ec(r,this.left,this.width);if(this.isHorizontal()){let c=0,h=xn(i,this.left+s,this.right-this.lineWidths[c]);for(const d of t)c!==d.row&&(c=d.row,h=xn(i,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+e+s,d.left=l.leftForLtr(l.x(h),d.width),h+=d.width+s}else{let c=0,h=xn(i,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const d of t)d.col!==c&&(c=d.col,h=xn(i,this.top+e+s,this.bottom-this.columnSizes[c].height)),d.top=h,d.left+=this.left+s,d.left=l.leftForLtr(l.x(d.left),d.width),h+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;M0(e,this),this._draw(),O0(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:s}=this,{align:r,labels:l}=e,c=Ut.color,h=ec(e.rtl,this.left,this.width),d=In(l.font),{padding:g}=l,y=d.size,_=y/2;let b;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:S,boxHeight:x,itemHeight:A}=HR(l,y),I=function(K,M,C){if(isNaN(S)||S<=0||isNaN(x)||x<0)return;s.save();const D=ze(C.lineWidth,1);if(s.fillStyle=ze(C.fillStyle,c),s.lineCap=ze(C.lineCap,"butt"),s.lineDashOffset=ze(C.lineDashOffset,0),s.lineJoin=ze(C.lineJoin,"miter"),s.lineWidth=D,s.strokeStyle=ze(C.strokeStyle,c),s.setLineDash(ze(C.lineDash,[])),l.usePointStyle){const P={radius:x*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:D},V=h.xPlus(K,S/2),H=M+_;yN(s,P,V,H,l.pointStyleWidth&&S)}else{const P=M+Math.max((y-x)/2,0),V=h.leftForLtr(K,S),H=yh(C.borderRadius);s.beginPath(),Object.values(H).some(L=>L!==0)?z_(s,{x:V,y:P,w:S,h:x,radius:H}):s.rect(V,P,S,x),s.fill(),D!==0&&s.stroke()}s.restore()},O=function(K,M,C){Vh(s,C.text,K,M+A/2,d,{strikethrough:C.hidden,textAlign:h.textAlign(C.textAlign)})},j=this.isHorizontal(),B=this._computeTitleHeight();j?b={x:xn(r,this.left+g,this.right-i[0]),y:this.top+g+B,line:0}:b={x:this.left+g,y:xn(r,this.top+B+g,this.bottom-t[0].height),line:0},SN(this.ctx,e.textDirection);const q=A+g;this.legendItems.forEach((K,M)=>{s.strokeStyle=K.fontColor,s.fillStyle=K.fontColor;const C=s.measureText(K.text).width,D=h.textAlign(K.textAlign||(K.textAlign=l.textAlign)),P=S+_+C;let V=b.x,H=b.y;h.setWidth(this.width),j?M>0&&V+P+g>this.right&&(H=b.y+=q,b.line++,V=b.x=xn(r,this.left+g,this.right-i[b.line])):M>0&&H+q>this.bottom&&(V=b.x=V+t[b.line].width+g,b.line++,H=b.y=xn(r,this.top+B+g,this.bottom-t[b.line].height));const L=h.x(V);if(I(L,H,K),V=l8(D,V+S+_,j?V+P:this.right,e.rtl),O(h.x(V),H,K),j)b.x+=P+g;else if(typeof K.text!="string"){const De=d.lineHeight;b.y+=UN(K,De)+g}else b.y+=q}),AN(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=In(t.font),s=Ii(t.padding);if(!t.display)return;const r=ec(e.rtl,this.left,this.width),l=this.ctx,c=t.position,h=i.size/2,d=s.top+h;let g,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),g=this.top+d,y=xn(e.align,y,this.right-_);else{const S=this.columnSizes.reduce((x,A)=>Math.max(x,A.height),0);g=d+xn(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const b=xn(c,y,y+_);l.textAlign=r.textAlign(I0(c)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=i.string,Vh(l,t.text,b,g,i)}_computeTitleHeight(){const e=this.options.title,t=In(e.font),i=Ii(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,s,r;if($l(e,this.left,this.right)&&$l(t,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],$l(e,s.left,s.left+s.width)&&$l(t,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!n$(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=ZW(s,i);s&&!r&&pt(t.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&pt(t.onHover,[e,i,this],this)}else i&&pt(t.onClick,[e,i,this],this)}}function JW(n,e,t,i,s){const r=e$(i,n,e,t),l=t$(s,i,e.lineHeight);return{itemWidth:r,itemHeight:l}}function e$(n,e,t,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((r,l)=>r.length>l.length?r:l)),e+t.size/2+i.measureText(s).width}function t$(n,e,t){let i=n;return typeof e.text!="string"&&(i=UN(e,t)),i}function UN(n,e){const t=n.text?n.text.length:0;return e*t}function n$(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var zN={id:"legend",_element:FR,start(n,e,t){const i=n.legend=new FR({ctx:n.ctx,options:t,chart:n});Ai.configure(n,i,t),Ai.addBox(n,i)},stop(n){Ai.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Ai.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,s=t.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:s,color:r,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(t?0:void 0),g=Ii(d.borderWidth);return{text:e[h.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:l&&(c||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class BN extends Ts{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=un(i.text)?i.text.length:1;this._padding=Ii(i.padding);const r=s*In(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:s,right:r,options:l}=this,c=l.align;let h=0,d,g,y;return this.isHorizontal()?(g=xn(c,i,r),y=t+e,d=r-i):(l.position==="left"?(g=i+e,y=xn(c,s,t),h=Ot*-.5):(g=r-e,y=xn(c,t,s),h=Ot*.5),d=s-t),{titleX:g,titleY:y,maxWidth:d,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=In(t.font),r=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:d}=this._drawArgs(r);Vh(e,t.text,0,0,i,{color:t.color,maxWidth:h,rotation:d,textAlign:I0(t.align),textBaseline:"middle",translation:[l,c]})}}function i$(n,e){const t=new BN({ctx:n.ctx,options:e,chart:n});Ai.configure(n,t,e),Ai.addBox(n,t),n.titleBlock=t}var s$={id:"title",_element:BN,start(n,e,t){i$(n,t)},stop(n){const e=n.titleBlock;Ai.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Ai.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const eh={average(n){if(!n.length)return!1;let e,t,i=new Set,s=0,r=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/r}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,l,c;for(r=0,l=n.length;r<l;++r){const h=n[r].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),g=L_(e,d);g<s&&(s=g,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function fs(n,e){return e&&(un(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function tr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function r$(n,e){const{element:t,datasetIndex:i,index:s}=e,r=n.getDatasetMeta(i).controller,{label:l,value:c}=r.getLabelAndValue(s);return{chart:n,label:l,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:c,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function qR(n,e){const t=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:l,boxHeight:c}=e,h=In(e.bodyFont),d=In(e.titleFont),g=In(e.footerFont),y=r.length,_=s.length,b=i.length,S=Ii(e.padding);let x=S.height,A=0,I=i.reduce((B,q)=>B+q.before.length+q.lines.length+q.after.length,0);if(I+=n.beforeBody.length+n.afterBody.length,y&&(x+=y*d.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),I){const B=e.displayColors?Math.max(c,h.lineHeight):h.lineHeight;x+=b*B+(I-b)*h.lineHeight+(I-1)*e.bodySpacing}_&&(x+=e.footerMarginTop+_*g.lineHeight+(_-1)*e.footerSpacing);let O=0;const j=function(B){A=Math.max(A,t.measureText(B).width+O)};return t.save(),t.font=d.string,rt(n.title,j),t.font=h.string,rt(n.beforeBody.concat(n.afterBody),j),O=e.displayColors?l+2+e.boxPadding:0,rt(i,B=>{rt(B.before,j),rt(B.lines,j),rt(B.after,j)}),O=0,t.font=g.string,rt(n.footer,j),t.restore(),A+=S.width,{width:A,height:x}}function a$(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function o$(n,e,t,i){const{x:s,width:r}=i,l=t.caretSize+t.caretPadding;if(n==="left"&&s+r+l>e.width||n==="right"&&s-r-l<0)return!0}function l$(n,e,t,i){const{x:s,width:r}=t,{width:l,chartArea:{left:c,right:h}}=n;let d="center";return i==="center"?d=s<=(c+h)/2?"left":"right":s<=r/2?d="left":s>=l-r/2&&(d="right"),o$(d,n,e,t)&&(d="center"),d}function GR(n,e,t){const i=t.yAlign||e.yAlign||a$(n,t);return{xAlign:t.xAlign||e.xAlign||l$(n,e,t,i),yAlign:i}}function c$(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function u$(n,e,t){let{y:i,height:s}=n;return e==="top"?i+=t:e==="bottom"?i-=s+t:i-=s/2,i}function WR(n,e,t,i){const{caretSize:s,caretPadding:r,cornerRadius:l}=n,{xAlign:c,yAlign:h}=t,d=s+r,{topLeft:g,topRight:y,bottomLeft:_,bottomRight:b}=yh(l);let S=c$(e,c);const x=u$(e,h,d);return h==="center"?c==="left"?S+=d:c==="right"&&(S-=d):c==="left"?S-=Math.max(g,_)+s:c==="right"&&(S+=Math.max(y,b)+s),{x:Vn(S,0,i.width-e.width),y:Vn(x,0,i.height-e.height)}}function tg(n,e,t){const i=Ii(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function $R(n){return fs([],tr(n))}function h$(n,e,t){return Yo(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function YR(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const HN={beforeTitle:Js,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Js,beforeBody:Js,beforeLabel:Js,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return dt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Js,afterBody:Js,beforeFooter:Js,footer:Js,afterFooter:Js};function Fn(n,e,t,i){const s=n[e].call(t,i);return typeof s>"u"?HN[e].call(t,i):s}class q_ extends Ts{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,r=new xN(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=h$(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,s=Fn(i,"beforeTitle",this,e),r=Fn(i,"title",this,e),l=Fn(i,"afterTitle",this,e);let c=[];return c=fs(c,tr(s)),c=fs(c,tr(r)),c=fs(c,tr(l)),c}getBeforeBody(e,t){return $R(Fn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,s=[];return rt(e,r=>{const l={before:[],lines:[],after:[]},c=YR(i,r);fs(l.before,tr(Fn(c,"beforeLabel",this,r))),fs(l.lines,Fn(c,"label",this,r)),fs(l.after,tr(Fn(c,"afterLabel",this,r))),s.push(l)}),s}getAfterBody(e,t){return $R(Fn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,s=Fn(i,"beforeFooter",this,e),r=Fn(i,"footer",this,e),l=Fn(i,"afterFooter",this,e);let c=[];return c=fs(c,tr(s)),c=fs(c,tr(r)),c=fs(c,tr(l)),c}_createItems(e){const t=this._active,i=this.chart.data,s=[],r=[],l=[];let c=[],h,d;for(h=0,d=t.length;h<d;++h)c.push(r$(this.chart,t[h]));return e.filter&&(c=c.filter((g,y,_)=>e.filter(g,y,_,i))),e.itemSort&&(c=c.sort((g,y)=>e.itemSort(g,y,i))),rt(c,g=>{const y=YR(e.callbacks,g);s.push(Fn(y,"labelColor",this,g)),r.push(Fn(y,"labelPointStyle",this,g)),l.push(Fn(y,"labelTextColor",this,g))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let r,l=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const c=eh[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=qR(this,i),d=Object.assign({},c,h),g=GR(this.chart,i,d),y=WR(i,d,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,r={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const r=this.getCaretPosition(e,i,s);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:r}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:d,bottomLeft:g,bottomRight:y}=yh(c),{x:_,y:b}=e,{width:S,height:x}=t;let A,I,O,j,B,q;return r==="center"?(B=b+x/2,s==="left"?(A=_,I=A-l,j=B+l,q=B-l):(A=_+S,I=A+l,j=B-l,q=B+l),O=A):(s==="left"?I=_+Math.max(h,g)+l:s==="right"?I=_+S-Math.max(d,y)-l:I=this.caretX,r==="top"?(j=b,B=j-l,A=I-l,O=I+l):(j=b+x,B=j+l,A=I+l,O=I-l),q=j),{x1:A,x2:I,x3:O,y1:j,y2:B,y3:q}}drawTitle(e,t,i){const s=this.title,r=s.length;let l,c,h;if(r){const d=ec(i.rtl,this.x,this.width);for(e.x=tg(this,i.titleAlign,i),t.textAlign=d.textAlign(i.titleAlign),t.textBaseline="middle",l=In(i.titleFont),c=i.titleSpacing,t.fillStyle=i.titleColor,t.font=l.string,h=0;h<r;++h)t.fillText(s[h],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,h+1===r&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,t,i,s,r){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:d}=r,g=In(r.bodyFont),y=tg(this,"left",r),_=s.x(y),b=h<g.lineHeight?(g.lineHeight-h)/2:0,S=t.y+b;if(r.usePointStyle){const x={radius:Math.min(d,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},A=s.leftForLtr(_,d)+d/2,I=S+h/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,U_(e,x,A,I),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,U_(e,x,A,I)}else{e.lineWidth=Je(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const x=s.leftForLtr(_,d),A=s.leftForLtr(s.xPlus(_,1),d-2),I=yh(l.borderRadius);Object.values(I).some(O=>O!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,z_(e,{x,y:S,w:d,h,radius:I}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),z_(e,{x:A,y:S+1,w:d-2,h:h-2,radius:I}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(x,S,d,h),e.strokeRect(x,S,d,h),e.fillStyle=l.backgroundColor,e.fillRect(A,S+1,d-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:r,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:d,boxPadding:g}=i,y=In(i.bodyFont);let _=y.lineHeight,b=0;const S=ec(i.rtl,this.x,this.width),x=function(C){t.fillText(C,S.x(e.x+b),e.y+_/2),e.y+=_+r},A=S.textAlign(l);let I,O,j,B,q,K,M;for(t.textAlign=l,t.textBaseline="middle",t.font=y.string,e.x=tg(this,A,i),t.fillStyle=i.bodyColor,rt(this.beforeBody,x),b=c&&A!=="right"?l==="center"?d/2+g:d+2+g:0,B=0,K=s.length;B<K;++B){for(I=s[B],O=this.labelTextColors[B],t.fillStyle=O,rt(I.before,x),j=I.lines,c&&j.length&&(this._drawColorBox(t,e,B,S,i),_=Math.max(y.lineHeight,h)),q=0,M=j.length;q<M;++q)x(j[q]),_=y.lineHeight;rt(I.after,x)}b=0,_=y.lineHeight,rt(this.afterBody,x),e.y-=r}drawFooter(e,t,i){const s=this.footer,r=s.length;let l,c;if(r){const h=ec(i.rtl,this.x,this.width);for(e.x=tg(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",l=In(i.footerFont),t.fillStyle=i.footerColor,t.font=l.string,c=0;c<r;++c)t.fillText(s[c],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:r,yAlign:l}=this,{x:c,y:h}=e,{width:d,height:g}=i,{topLeft:y,topRight:_,bottomLeft:b,bottomRight:S}=yh(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(c+y,h),l==="top"&&this.drawCaret(e,t,i,s),t.lineTo(c+d-_,h),t.quadraticCurveTo(c+d,h,c+d,h+_),l==="center"&&r==="right"&&this.drawCaret(e,t,i,s),t.lineTo(c+d,h+g-S),t.quadraticCurveTo(c+d,h+g,c+d-S,h+g),l==="bottom"&&this.drawCaret(e,t,i,s),t.lineTo(c+b,h+g),t.quadraticCurveTo(c,h+g,c,h+g-b),l==="center"&&r==="left"&&this.drawCaret(e,t,i,s),t.lineTo(c,h+y),t.quadraticCurveTo(c,h,c+y,h),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const l=eh[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=qR(this,e),h=Object.assign({},l,this._size),d=GR(t,e,h),g=WR(e,h,d,t);(s._to!==g.x||r._to!==g.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ii(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,t),SN(e,t.textDirection),r.y+=l.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),AN(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:c,index:h})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[h],index:h}}),r=!up(i,s),l=this._positionChanged(s,t);(r||l)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],l=this._getActiveElements(e,r,t,i),c=this._positionChanged(l,e),h=t||!up(l,r)||c;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:i,caretY:s,options:r}=this,l=eh[r.position].call(this,e,t);return l!==!1&&(i!==l.x||s!==l.y)}}we(q_,"positioners",eh);var FN={id:"tooltip",_element:q_,positioners:eh,afterInit(n,e,t){t&&(n.tooltip=new q_({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:HN},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const d$=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function f$(n,e,t,i){const s=n.indexOf(e);if(s===-1)return d$(n,e,t,i);const r=n.lastIndexOf(e);return s!==r?t:s}const g$=(n,e)=>n===null?null:Vn(Math.round(n),0,e);function QR(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class G_ extends Rc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:r}of t)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(dt(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:f$(i,e,ze(t,e),this._addedLabels),g$(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=t;l++)s.push({value:l});return s}getLabelForValue(e){return QR.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}we(G_,"id","category"),we(G_,"defaults",{ticks:{callback:QR}});function p$(n,e){const t=[],{bounds:s,step:r,min:l,max:c,precision:h,count:d,maxTicks:g,maxDigits:y,includeBounds:_}=n,b=r||1,S=g-1,{min:x,max:A}=e,I=!dt(l),O=!dt(c),j=!dt(d),B=(A-x)/(y+1);let q=eR((A-x)/S/b)*b,K,M,C,D;if(q<1e-14&&!I&&!O)return[{value:x},{value:A}];D=Math.ceil(A/q)-Math.floor(x/q),D>S&&(q=eR(D*q/S/b)*b),dt(h)||(K=Math.pow(10,h),q=Math.ceil(q*K)/K),s==="ticks"?(M=Math.floor(x/q)*q,C=Math.ceil(A/q)*q):(M=x,C=A),I&&O&&r&&Zq((c-l)/r,q/1e3)?(D=Math.round(Math.min((c-l)/q,g)),q=(c-l)/D,M=l,C=c):j?(M=I?l:M,C=O?c:C,D=d-1,q=(C-M)/D):(D=(C-M)/q,gh(D,Math.round(D),q/1e3)?D=Math.round(D):D=Math.ceil(D));const P=Math.max(tR(q),tR(M));K=Math.pow(10,dt(h)?P:h),M=Math.round(M*K)/K,C=Math.round(C*K)/K;let V=0;for(I&&(_&&M!==l?(t.push({value:l}),M<l&&V++,gh(Math.round((M+V*q)*K)/K,l,KR(l,B,n))&&V++):M<l&&V++);V<D;++V){const H=Math.round((M+V*q)*K)/K;if(O&&H>c)break;t.push({value:H})}return O&&_&&C!==c?t.length&&gh(t[t.length-1].value,c,KR(c,B,n))?t[t.length-1].value=c:t.push({value:c}):(!O||C===c)&&t.push({value:C}),t}function KR(n,e,{horizontal:t,minRotation:i}){const s=or(i),r=(t?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+n).length;return Math.min(e/r,l)}class m$ extends Rc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return dt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const l=h=>s=t?s:h,c=h=>r=i?r:h;if(e){const h=fc(s),d=fc(r);h<0&&d<0?c(0):h>0&&d>0&&l(0)}if(s===r){let h=r===0?1:Math.abs(r*.05);c(r+h),e||l(s-h)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,l=p$(s,r);return e.bounds==="ticks"&&Jq(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return N0(e,this.chart.options.locale,this.options.ticks.format)}}class W_ extends m${determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Di(e)?e:0,this.max=Di(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=or(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}we(W_,"id","linear"),we(W_,"defaults",{ticks:{callback:mN.formatters.numeric}});const tm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$n=Object.keys(tm);function XR(n,e){return n-e}function ZR(n,e){if(dt(e))return null;const t=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),Di(l)||(l=typeof i=="string"?t.parse(l,i):t.parse(l)),l===null?null:(s&&(l=s==="week"&&(Ph(r)||r===!0)?t.startOf(l,"isoWeek",r):t.startOf(l,s)),+l)}function JR(n,e,t,i){const s=$n.length;for(let r=$n.indexOf(n);r<s-1;++r){const l=tm[$n[r]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=i)return $n[r]}return $n[s-1]}function y$(n,e,t,i,s){for(let r=$n.length-1;r>=$n.indexOf(t);r--){const l=$n[r];if(tm[l].common&&n._adapter.diff(s,i,l)>=e-1)return l}return $n[t?$n.indexOf(t):0]}function v$(n){for(let e=$n.indexOf(n)+1,t=$n.length;e<t;++e)if(tm[$n[e]].common)return $n[e]}function eC(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:s}=D0(t,e),r=t[i]>=e?t[i]:t[s];n[r]=!0}}function _$(n,e,t,i){const s=n._adapter,r=+s.startOf(e[0].value,i),l=e[e.length-1].value;let c,h;for(c=r;c<=l;c=+s.add(c,1,i))h=t[c],h>=0&&(e[h].major=!0);return e}function tC(n,e,t){const i=[],s={},r=e.length;let l,c;for(l=0;l<r;++l)c=e[l],s[c]=l,i.push({value:c,major:!1});return r===0||!t?i:_$(n,i,s,t)}class yp extends Rc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),s=this._adapter=new CG._date(e.adapters.date);s.init(t),fh(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:ZR(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:l,maxDefined:c}=this.getUserBounds();function h(d){!l&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!l||!c)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Di(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),r=Di(r)&&!isNaN(r)?r:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,l=this.max,c=s8(s,r,l);return this._unit=t.unit||(i.autoSkip?JR(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):y$(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:v$(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),tC(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Vn(t,0,l),i=Vn(i,0,l),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,r=s.time,l=r.unit||JR(r.minUnit,t,i,this._getLabelCapacity(t)),c=ze(s.ticks.stepSize,1),h=l==="week"?r.isoWeekday:!1,d=Ph(h)||h===!0,g={};let y=t,_,b;if(d&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,d?"day":l),e.diff(i,t,l)>1e5*c)throw new Error(t+" and "+i+" are too far apart with stepSize of "+c+" "+l);const S=s.ticks.source==="data"&&this.getDataTimestamps();for(_=y,b=0;_<i;_=+e.add(_,c,l),b++)eC(g,_,S);return(_===i||s.bounds==="ticks"||b===1)&&eC(g,_,S),Object.keys(g).sort(XR).map(x=>+x)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,r=this._unit,l=t||s[r];return this._adapter.format(e,l)}_tickFormatFunction(e,t,i,s){const r=this.options,l=r.ticks.callback;if(l)return pt(l,[e,t,i],this);const c=r.time.displayFormats,h=this._unit,d=this._majorUnit,g=h&&c[h],y=d&&c[d],_=i[t],b=d&&y&&_&&_.major;return this._adapter.format(e,s||(b?y:g))}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=or(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*r+c*l,h:i*l+c*r}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,r=this._tickFormatFunction(e,0,tC(this,[e],this._majorUnit),s),l=this._getLabelSize(r),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,i=s.length;t<i;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(ZR(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return a8(e.sort(XR))}}we(yp,"id","time"),we(yp,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ng(n,e,t){let i=0,s=n.length-1,r,l,c,h;t?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=Ao(n,"pos",e)),{pos:r,time:c}=n[i],{pos:l,time:h}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=Ao(n,"time",e)),{time:r,pos:c}=n[i],{time:l,pos:h}=n[s]);const d=l-r;return d?c+(h-c)*(e-r)/d:c}class nC extends yp{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ng(t,this.min),this._tableRange=ng(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],r=[];let l,c,h,d,g;for(l=0,c=e.length;l<c;++l)d=e[l],d>=t&&d<=i&&s.push(d);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)g=s[l+1],h=s[l-1],d=s[l],Math.round((g+h)/2)!==d&&r.push({time:d,pos:l/(c-1)});return r}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(ng(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return ng(this._table,i*this._tableRange+this._minPos,!0)}}we(nC,"id","timeseries"),we(nC,"defaults",yp.defaults);const qN="label";function iC(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function b$(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function GN(n,e){n.labels=e}function WN(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qN;const i=[];n.datasets=e.map(s=>{const r=n.datasets.find(l=>l[t]===s[t]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function E$(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qN;const t={labels:[],datasets:[]};return GN(t,n.labels),WN(t,n.datasets,e),t}function w$(n,e){const{height:t=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:l,data:c,options:h,plugins:d=[],fallbackContent:g,updateMode:y,..._}=n,b=z.useRef(null),S=z.useRef(null),x=()=>{b.current&&(S.current=new rd(b.current,{type:l,data:E$(c,r),options:h&&{...h},plugins:d}),iC(e,S.current))},A=()=>{iC(e,null),S.current&&(S.current.destroy(),S.current=null)};return z.useEffect(()=>{!s&&S.current&&h&&b$(S.current,h)},[s,h]),z.useEffect(()=>{!s&&S.current&&GN(S.current.config.data,c.labels)},[s,c.labels]),z.useEffect(()=>{!s&&S.current&&c.datasets&&WN(S.current.config.data,c.datasets,r)},[s,c.datasets]),z.useEffect(()=>{S.current&&(s?(A(),setTimeout(x)):S.current.update(y))},[s,h,c.labels,c.datasets,y]),z.useEffect(()=>{S.current&&(A(),setTimeout(x))},[l]),z.useEffect(()=>(x(),()=>A()),[]),Ti.createElement("canvas",{ref:b,role:"img",height:t,width:i,..._},g)}const S$=z.forwardRef(w$);function $N(n,e){return rd.register(e),z.forwardRef((t,i)=>Ti.createElement(S$,{...t,ref:i,type:n}))}const sC=$N("line",bg),Bu=$N("doughnut",Ku);rd.register(Zu,FN,zN);const Hu={responzive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},ig=(n,e,t)=>({datasets:[{data:[n,Math.max(e-n,0)],backgroundColor:[t,"#E5E5E5"],borderWidth:0,cutout:"80%"}]}),A$=({data:n})=>{const{currentKcal:e,goalKcal:t,protein:i,carbs:s,fat:r,fiber:l,fluid:c,burned:h}=n,d=(x,A)=>A>0?Math.min((x/A*100).toFixed(0),100):0,g=d(i.current,i.goal),y=d(s.current,s.goal),_=d(r.current,r.goal),b=d(l.current,l.goal),S={datasets:[{data:[e,Math.max(t-e,0)],backgroundColor:["#F7941D","#E5E5E5"],borderWidth:0,cutout:"80%"}]};return w.jsxs("div",{className:"p-4",children:[w.jsxs("div",{className:"relative w-40 h-40 mx-auto",children:[w.jsx(Bu,{data:S,options:Hu}),w.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[w.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[e," kcal"]}),w.jsxs("div",{className:"text-sm text-gray-500",children:["z ",t," kcal"]})]})]}),w.jsxs("div",{className:"flex justify-around mt-6",children:[w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(Bu,{data:ig(i.current,i.goal,"#69C267"),options:Hu}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[g,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Bielkoviny"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[i.current," g z ",i.goal," g"]})]}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(Bu,{data:ig(s.current,s.goal,"#F7941D"),options:Hu}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[y,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Sacharidy"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[s.current," g z ",s.goal," g"]})]}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(Bu,{data:ig(r.current,r.goal,"#F16664"),options:Hu}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[_,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Tuky"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[r.current," g z ",r.goal," g"]})]}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(Bu,{data:ig(l.current,l.goal,"#8E8E93"),options:Hu}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[b,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Vláknina"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[l.current," g z ",l.goal," g"]})]})]}),w.jsxs("div",{className:"mt-4 text-center text-sm text-gray-700",children:[w.jsxs("p",{children:["Tekutiny: ",c.current," l z ",c.goal," l"]}),w.jsxs("p",{children:["Spálené: ",h," kcal"]})]})]})},T$=({selectedDate:n,overviewData:e,eventsForDay:t,onDeleteEvent:i})=>w.jsx("div",{className:"w-full lg:w-3/3 bg-white rounded-lg shadow p-4",children:n&&e?w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3",children:n}),w.jsx(A$,{data:e}),w.jsxs("div",{className:"mt-4",children:[w.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-2",children:"Jedlá a aktivity dňa"}),w.jsx("ul",{className:"space-y-2 text-sm",children:t.map((s,r)=>w.jsxs("li",{className:"p-2 bg-green-100 rounded shadow border-l-4 border-green-500",children:[s.title,w.jsx("button",{onClick:()=>i(s.id,s.type),className:"bg-red-500 text-white px-2 py-1 ml-5 rounded hover:bg-red-600",children:"Zmazať"})]},r))})]})]}):w.jsx("div",{className:"text-gray-500 text-center",children:"Kliknite na deň v kalendári pre zobrazenie detailov."})}),x$=({selectedDate:n,onAddFood:e})=>{const[t,i]=z.useState("custom"),[s,r]=z.useState(""),{savedFoods:l}=Bh(),[c,h]=z.useState([]),d=z.useRef(null);z.useEffect(()=>{const C=D=>{d.current&&!d.current.contains(D.target)&&h([])};return document.addEventListener("click",C,!0),()=>{document.removeEventListener("click",C,!0)}},[]);const g=C=>{const D=C.target.value;if(r(D),D.trim().length>0){const P=l.filter(V=>V.foodName.toLowerCase().includes(D.toLowerCase()));h(P)}else h([])},y=C=>{const D={title:C.foodName,start:n,extendedProps:{kcal:C.kcal,protein:C.protein,fat:C.fat,carbs:C.carbs,fiber:C.fiber}};e(D),r(""),h([])},_=C=>{if(C.preventDefault(),!s||!n)return;const D=l.find(V=>V.foodName.toLowerCase()===s.toLowerCase()),P=D?{title:D.foodName,start:n,extendedProps:{kcal:D.kcal,protein:D.protein,fat:D.fat,carbs:D.carbs,fiber:D.fiber}}:{title:s,start:n,extendedProps:{kcal:0,protein:0,fat:0,carbs:0,fiber:0}};e(P),r(""),h([])},[b,S]=z.useState(""),[x,A]=z.useState([]),[I,O]=z.useState(null),[j,B]=z.useState(!1),q=C=>{const D=C.target.value;S(D),D.trim()||(A([]),O(null))},K=async()=>{if(b.trim()){B(!0),O(null);try{const C=`https://api.spoonacular.com/food/ingredients/search?query=${encodeURIComponent(b)}&number=10&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,D=await fetch(C);if(!D.ok)throw new Error(`Chyba pri volaní spoonacular: ${D.status}`);const V=(await D.json()).results||[],H=await Promise.all(V.map(async L=>{var _e;const De=`https://api.spoonacular.com/food/ingredients/${L.id}/information?amount=100&unit=grams&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`;try{const re=await fetch(De);if(!re.ok)return{...L,nutrition:null};const de=await re.json(),fe=((_e=de.nutrition)==null?void 0:_e.nutrients)||[],be=oe=>{const ge=fe.find(he=>he.name.toLowerCase()===oe.toLowerCase());return ge?ge.amount:0},F={kcal:be("Calories"),protein:be("Protein"),fat:be("Fat"),carbs:be("Carbohydrates"),fiber:be("Fiber"),image:de.image};return{id:L.id,name:L.name,nutrition:F}}catch(re){return console.error("Detail fetch error",re),{...L,nutrition:null}}}));A(H)}catch(C){O(C.message),A([])}finally{B(!1)}}},M=C=>{const{name:D,nutrition:P}=C,{kcal:V,protein:H,fat:L,carbs:De,fiber:_e}=P||{};e({title:D,start:n,extendedProps:{kcal:V||0,protein:H||0,fat:L||0,carbs:De||0,fiber:_e||0}}),S(""),A([])};return w.jsxs("div",{className:"p-4 bg-white rounded-lg shadow mb-4",children:[w.jsx("h3",{className:"text-lg font-bold text-green-700 mb-4",children:"Pridať jedlo"}),w.jsxs("div",{className:"flex space-x-4 mb-4",children:[w.jsx("button",{className:`px-4 py-2 rounded ${t==="custom"?"bg-green-600 text-white":"bg-gray-200"}`,onClick:()=>i("custom"),children:"Moje jedlá"}),w.jsx("button",{className:`px-4 py-2 rounded ${t==="api"?"bg-green-600 text-white":"bg-gray-200"}`,onClick:()=>i("api"),children:"API"})]}),t==="custom"&&w.jsxs("form",{onSubmit:_,ref:d,children:[w.jsx("label",{className:"block text-gray-700",children:"Názov jedla:"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"text",value:s,onChange:g,className:"w-full border border-gray-300 rounded-lg px-4 py-2 mt-1",placeholder:"Zadaj názov jedla"}),c.length>0&&w.jsx("ul",{className:"absolute top-full left-0 z-10 w-full bg-white border border-gray-300 rounded-lg mt-1 max-h-40 overflow-y-auto shadow-lg",children:c.map(C=>w.jsx("li",{onClick:()=>y(C),className:"px-4 py-2 border-b border-gray-200 last:border-0 hover:bg-green-200 hover:text-green-900 transition-colors duration-200 cursor-pointer",children:C.foodName},C.id))})]}),w.jsx("button",{type:"submit",className:"mt-3 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať"})]}),t==="api"&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 mb-1",children:"Vyhľadaj v Spoonacular:"}),w.jsxs("div",{className:"flex space-x-2 mb-4",children:[w.jsx("input",{type:"text",value:b,onChange:q,className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Napíš názov (napr. 'apple', 'chicken'...)"}),w.jsx("button",{onClick:K,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Hľadať"})]}),j&&w.jsx("p",{children:"Načítavam..."}),I&&w.jsxs("p",{className:"text-red-500",children:["Chyba: ",I]}),x.map(C=>{const{id:D,name:P,nutrition:V}=C,H=(V==null?void 0:V.kcal)||0;return w.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-100 rounded my-2",children:[w.jsxs("div",{children:[w.jsx("strong",{children:P})," | ",Math.round(H)," kcal / 100g"]}),w.jsx("button",{onClick:()=>M(C),className:"bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700",children:"Pridať"})]},D)})]})]})},R$=({selectedDate:n,onAddFluid:e})=>{const[t,i]=z.useState(""),s=r=>{r.preventDefault(),t&&(e(Number(t)),i(""))};return w.jsxs("form",{onSubmit:s,className:"p-4 bg-white rounded-lg shadow mb-4",children:[w.jsx("h3",{className:"text-lg font-bold text-blue-700 mb-2",children:"Pridať tekutiny"}),w.jsxs("div",{className:"mb-2",children:[w.jsx("label",{className:"block text-gray-700",children:"Množstvo (l):"}),w.jsx("input",{type:"number",value:t,onChange:r=>i(r.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Zadaj množstvo v litroch"})]}),w.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Pridať tekutiny"})]})},C$=({selectedDate:n,onAddActivityEvent:e})=>{const{savedActivities:t}=Bh(),[i,s]=z.useState(""),[r,l]=z.useState(n||""),c=h=>{h.preventDefault();const d=t.find(y=>y.id===i);if(!d)return;const g={title:d.activityName,start:r,type:"activity",extendedProps:{burned:d.burnedCalories}};e(g),s("")};return w.jsxs("form",{onSubmit:c,className:"p-4 bg-white rounded-lg shadow mb-4",children:[w.jsx("h3",{className:"text-lg font-bold text-green-700 mb-2",children:"Pridať aktivitu do kalendára"}),w.jsxs("div",{className:"mb-2",children:[w.jsx("label",{className:"block text-gray-700",children:"Vyber aktivitu:"}),w.jsxs("select",{value:i,onChange:h=>s(h.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[w.jsx("option",{value:"",children:"--Vybrať--"}),t.map(h=>w.jsxs("option",{value:h.id,children:[h.activityName," (spálené ",h.burnedCalories," kcal)"]},h.id))]})]}),w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Pridať"})]})};function $v(n){return n.toISOString().split("T")[0]}async function D$(n,e){const t=Nt.currentUser;if(!t)return{};const i=$v(n),s=$v(e),r=hr(Gn(At,"calendarEvents"),dr("userId","==",t.uid)),l=await fr(r),c=hr(Gn(At,"calendarActivities"),dr("userId","==",t.uid)),h=await fr(c),d=hr(Gn(At,"calendarFluids"),dr("userId","==",t.uid)),g=await fr(d),y={},_=new Date(n);for(;_<=e;){const b=$v(_);y[b]={kcal:0,protein:0,fat:0,carbs:0,fiber:0,fluid:0,burned:0},_.setDate(_.getDate()+1)}return l.forEach(b=>{const S=b.data(),x=S.start;if(x>=i&&x<=s){const{kcal:A=0,protein:I=0,fat:O=0,carbs:j=0,fiber:B=0,burned:q=0}=S.extendedProps||{};y[x]&&(y[x].kcal+=Number(A),y[x].protein+=Number(I),y[x].fat+=Number(O),y[x].carbs+=Number(j),y[x].fiber+=Number(B),y[x].burned+=Number(q))}}),h.forEach(b=>{const S=b.data(),x=S.start;if(x>=i&&x<=s){const{burned:A=0}=S.extendedProps||{};y[x]&&(y[x].burned+=Number(A))}}),g.forEach(b=>{const S=b.data(),x=S.start;x>=i&&x<=s&&y[x]&&(y[x].fluid+=Number(S.amount||0))}),y}const rC=()=>{const{nutritionGoal:n}=Bh(),[e,t]=z.useState([]),[i,s]=z.useState(null),[r,l]=z.useState(null),[c,h]=z.useState({});z.useEffect(()=>{(async()=>{const j=Nt.currentUser;if(j)try{const B=hr(Gn(At,"calendarEvents"),dr("userId","==",j.uid)),K=(await fr(B)).docs.map(M=>({id:M.id,...M.data()}));t(M=>[...M,...K])}catch(B){console.error("Chyba pri načítaní udalostí:",B)}})()},[]),z.useEffect(()=>{(async()=>{const j=Nt.currentUser;if(j)try{const B=hr(Gn(At,"calendarFluids"),dr("userId","==",j.uid)),q=await fr(B),K={};q.docs.forEach(M=>{const C=M.data(),{date:D,amount:P}=C;K[D]=(K[D]||0)+P}),h(K)}catch(B){console.error("Chyba pri načítaní údajov o tekutinách:",B)}})()},[]),z.useEffect(()=>{(async()=>{const j=Nt.currentUser;if(j)try{const B=hr(Gn(At,"calendarActivities"),dr("userId","==",j.uid)),K=(await fr(B)).docs.map(M=>({id:M.id,...M.data()}));t(M=>[...M,...K])}catch(B){console.error("Chyba pri načítaní udalostí:",B)}})()},[]),z.useEffect(()=>{if(i){const O=e.filter(j=>j.start===i);d(O)}},[e,i,c]);const d=O=>{let j=0,B=0,q=0,K=0,M=0,C=0;O.forEach(V=>{const{kcal:H,protein:L,fat:De,carbs:_e,fiber:re,burned:de}=V.extendedProps;j+=Number(H)||0,B+=Number(L)||0,q+=Number(De)||0,K+=Number(_e)||0,M+=Number(re)||0,C+=Number(de)||0}),j=Math.round(j);const D=c[i]||0,P={currentKcal:Math.max(j,0),goalKcal:(n==null?void 0:n.dailyCalories)||1500,protein:{current:B,goal:(n==null?void 0:n.proteinGrams)||79},carbs:{current:K,goal:(n==null?void 0:n.carbsGrams)||192},fat:{current:q,goal:(n==null?void 0:n.fatGrams)||43},fiber:{current:M,goal:(n==null?void 0:n.fiber)||28},fluid:{current:D,goal:(n==null?void 0:n.fluid)||3},burned:C};l(P)},g=O=>{s(O.dateStr)},y=async O=>{const j=Nt.currentUser;if(!j){console.error("Používateľ nie je prihlásený");return}const B={...O,type:"food",userId:j.uid,createdAt:new Date,userName:j.displayName};try{const q=await oh(Gn(At,"calendarEvents"),B);B.id=q.id,t(K=>[...K,B])}catch(q){console.error("Chyba pri pridávaní udalosti:",q)}},_=async O=>{const j=Nt.currentUser;if(!j)return;const B={...O,type:"activity",userId:j.uid,createdAt:new Date,userName:j.displayName};try{const q=await oh(Gn(At,"calendarActivities"),B);B.id=q.id,t(K=>[...K,B])}catch(q){console.error("Chyba pri pridávaní udalosti:",q)}},b=async O=>{try{await Qg(ys(At,"calendarEvents",O)),t(j=>j.filter(B=>B.id!==O))}catch(j){console.error("Chyba pri mazaní udalosti:",j)}},S=async O=>{try{await Qg(ys(At,"calendarActivities",O)),t(j=>j.filter(B=>B.id!==O))}catch(j){console.error("Chyba pri mazaní udalosti:",j)}},x=async(O,j)=>{j==="activity"?await S(O):await b(O)},A=async(O,j)=>{const B=Nt.currentUser;if(!B)return;const q={userId:B.uid,userName:B.displayName,date:O,amount:j,createdAt:new Date};try{const K=await oh(Gn(At,"calendarFluids"),q);q.id=K.id,h(M=>({...M,[O]:(M[O]||0)+j}))}catch(K){console.error("Chyba pri pridávaní udalosti:",K)}},I=i?e.filter(O=>O.start===i):[];return w.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4",children:[w.jsx(vq,{events:e,onDateClick:g}),w.jsxs("div",{className:"w-full lg:w-1/3",children:[i&&w.jsx(x$,{selectedDate:i,onAddFood:y}),i&&w.jsxs(w.Fragment,{children:[w.jsx(R$,{selectedDate:i,onAddFluid:O=>A(i,O)}),w.jsx(C$,{selectedDate:i,onAddActivityEvent:_})]}),w.jsx(T$,{selectedDate:i,overviewData:r,eventsForDay:I,onDeleteEvent:x})]})]})};rd.register(G_,W_,Sg,Ju,s$,FN,zN);const I$=()=>{var h,d;const[n,e]=z.useState({}),[t,i]=z.useState({}),[s,r]=z.useState({}),[l,c]=z.useState(null);return z.useEffect(()=>{async function g(){const _=Nt.currentUser;if(_)try{const b=ys(At,"users",_.uid);(await w1(b)).exists()?c({dailyCalories:data.dailyCalories||2e3,proteinGrams:data.proteinGrams||100,carbsGrams:data.carbsGrams||200,fatGrams:data.fatGrams||50}):(console.warn("Dokument s cieľmi neexistuje, použijem default hodnoty."),c({dailyCalories:2e3,proteinGrams:100,carbsGrams:200,fatGrams:50}))}catch(b){console.error("Chyba pri načítaní goal z Firestore:",b),c({dailyCalories:2e3,proteinGrams:100,carbsGrams:200,fatGrams:50})}}async function y(){const _=new Date,b=new Date;b.setDate(_.getDate()-7);const S=await D$(b,_);e(S)}g(),y()},[]),z.useEffect(()=>{if(!l||!n||Object.keys(n).length===0)return;const g=Object.keys(n).sort(),y=g.map(q=>n[q].kcal),_=g.map(()=>l.dailyCalories);i({labels:g,datasets:[{label:"Daily Kcal",data:y,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.2},{label:"Goal Kcal",data:_,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",borderDash:[5,5],tension:.2}]});const S=g.map(q=>n[q].protein),x=g.map(q=>n[q].carbs),A=g.map(q=>n[q].fat),I=g.map(()=>l.proteinGrams),O=g.map(()=>l.carbsGrams),j=g.map(()=>l.fatGrams);r({labels:g,datasets:[{label:"Protein (g)",data:S,borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",tension:.2},{label:"Protein Goal (g)",data:I,borderColor:"rgba(54, 162, 235, 0.7)",backgroundColor:"rgba(54, 162, 235, 0.1)",borderDash:[5,5],tension:.2},{label:"Carbs (g)",data:x,borderColor:"rgba(255, 206, 86, 1)",backgroundColor:"rgba(255, 206, 86, 0.2)",tension:.2},{label:"Carbs Goal (g)",data:O,borderColor:"rgba(255, 206, 86, 0.7)",backgroundColor:"rgba(255, 206, 86, 0.1)",borderDash:[5,5],tension:.2},{label:"Fat (g)",data:A,borderColor:"rgba(153, 102, 255, 1)",backgroundColor:"rgba(153, 102, 255, 0.2)",tension:.2},{label:"Fat Goal (g)",data:j,borderColor:"rgba(153, 102, 255, 0.7)",backgroundColor:"rgba(153, 102, 255, 0.1)",borderDash:[5,5],tension:.2}]})},[n,l]),w.jsxs("div",{className:"mt-4",children:[w.jsx("h2",{className:"text-xl font-bold mb-4",children:"Štatistiky – Kalórie a Makrá vs. Ciele"}),w.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow p-4",children:[w.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Denný príjem kalórií (posledných 7 dní)"}),((h=t==null?void 0:t.labels)==null?void 0:h.length)>0?w.jsx(sC,{data:t}):w.jsx("p",{children:"Načítavam graf kalórií..."})]}),w.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow p-4",children:[w.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Denný príjem bielkovín, sacharidov, tukov (posledných 7 dní)"}),((d=s==null?void 0:s.labels)==null?void 0:d.length)>0?w.jsx(sC,{data:s}):w.jsx("p",{children:"Načítavam graf makier..."})]})]})},k$=()=>{const{pathname:n}=Gi();return z.useEffect(()=>{window.scrollTo(0,0)},[n]),null};function N$(){z.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")},[]);const[n,e]=z.useState(""),[t,i]=z.useState([]),[s,r]=z.useState(null),[l,c]=z.useState(!1),[h,d]=z.useState(!1),[g,y]=z.useState(""),_=Da(),b=Gi();z.useEffect(()=>{b.pathname==="/"&&d(!1)},[b.pathname]);const S=async()=>{_("/results"),e(""),c(!0),d(!0),y(n),setTimeout(async()=>{console.log(`Sending request to Nutritionix API: ${new Date().toISOString()}`);try{const x=`https://api.spoonacular.com/food/ingredients/search?query=${encodeURIComponent(n)}&number=10&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,A=await fetch(x);if(!A.ok)throw new Error(`Instant API HTTP error: ${A.status}`);const O=(await A.json()).results||[],j=await Promise.all(O.map(async B=>{var V;const q=`https://api.spoonacular.com/food/ingredients/${B.id}/information?amount=100&unit=grams&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,K=await fetch(q);if(!K.ok){const H=await K.text();return console.error("Nutrients fetch error:",K.status,H),{...B,nutrition:null}}const C=((V=(await K.json()).nutrition)==null?void 0:V.nutrients)||[],D=H=>{const L=C.find(De=>De.name.toLowerCase()===H.toLowerCase());return L?L.amount:0},P={servingSize:"100g",photo:{thumb:`https://spoonacular.com/cdn/ingredients_500x500/${B.image}`},nf_calories:D("Calories"),nf_total_fat:D("Fat"),nf_protein:D("Protein"),nf_total_carbohydrate:D("Carbohydrates")};return{...B,food_name:B.name,nutrition:P}}));i(j),r(null)}catch(x){console.error("Fetch error:",x),r(x),i([])}finally{c(!1)}},500)};return w.jsxs("div",{children:[w.jsx(GH,{}),w.jsx(k$,{}),w.jsxs(S2,{children:[w.jsx(yn,{path:"/register",element:w.jsx(e6,{})}),w.jsx(yn,{path:"/terms",element:w.jsx(o6,{})}),w.jsx(yn,{path:"/privacy",element:w.jsx(l6,{})}),w.jsx(yn,{path:"/verify-email",element:w.jsx(t6,{})}),w.jsx(yn,{path:"/login",element:w.jsx(a6,{})}),w.jsx(yn,{path:"/logout",element:w.jsx(r6,{})}),w.jsx(yn,{path:"/dashboard",element:w.jsxs(Ll,{children:[" ",w.jsx(qT,{})," "]})}),w.jsx(yn,{path:"/",element:w.jsxs(w.Fragment,{children:[w.jsx(WH,{}),w.jsx($H,{query:n,setQuery:e,handleSearch:S,disabled:h}),w.jsx(KH,{}),w.jsx(JH,{})]})}),w.jsx(yn,{path:"/results",element:w.jsx(YH,{results:t,searchTerm:g,error:s,query:n,setQuery:e,handleSearch:S,isLoading:l})}),w.jsx(yn,{path:"/blog/:id",element:w.jsx(ZH,{})}),w.jsxs(yn,{path:"/dashboard",element:w.jsxs(Ll,{children:[" ",w.jsx(qT,{})," "]}),children:[w.jsx(yn,{index:!0,element:w.jsx(rC,{})}),w.jsx(yn,{path:"calendar",element:w.jsxs(Ll,{children:[" ",w.jsx(rC,{})," "]})}),w.jsx(yn,{path:"my-foods",element:w.jsxs(Ll,{children:[" ",w.jsx(u6,{})," "]})}),w.jsx(yn,{path:"my-activites",element:w.jsxs(Ll,{children:[" ",w.jsx(s6,{})," "]})}),w.jsx(yn,{path:"statistics",element:w.jsxs(Ll,{children:[" ",w.jsx(I$,{})," "]})})]})]})]})}DO.createRoot(document.getElementById("root")).render(w.jsx($2,{children:w.jsx(N$,{})}));
