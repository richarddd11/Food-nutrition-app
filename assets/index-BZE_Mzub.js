var UM=Object.defineProperty;var zM=(n,e,t)=>e in n?UM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Le=(n,e,t)=>zM(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function BM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hy={exports:{}},Eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TA;function HM(){if(TA)return Eu;TA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var l=null;if(a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),"key"in r){a={};for(var u in r)u!=="key"&&(a[u]=r[u])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:a}}return Eu.Fragment=e,Eu.jsx=t,Eu.jsxs=t,Eu}var xA;function FM(){return xA||(xA=1,Hy.exports=HM()),Hy.exports}var w=FM(),Fy={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA;function qM(){if(RA)return Oe;RA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function _(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function T(U,ae,ge){this.props=U,this.context=ae,this.refs=R,this.updater=ge||b}T.prototype.isReactComponent={},T.prototype.setState=function(U,ae){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ae,"setState")},T.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function C(){}C.prototype=T.prototype;function P(U,ae,ge){this.props=U,this.context=ae,this.refs=R,this.updater=ge||b}var B=P.prototype=new C;B.constructor=P,S(B,T.prototype),B.isPureReactComponent=!0;var G=Array.isArray,X={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function O(U,ae,ge,he,ue,xe){return ge=xe.ref,{$$typeof:n,type:U,key:ae,ref:ge!==void 0?ge:null,props:xe}}function I(U,ae){return O(U.type,ae,void 0,void 0,void 0,U.props)}function k(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function M(U){var ae={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ge){return ae[ge]})}var V=/\/+/g;function H(U,ae){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):ae.toString(36)}function j(){}function ke(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(j,j):(U.status="pending",U.then(function(ae){U.status==="pending"&&(U.status="fulfilled",U.value=ae)},function(ae){U.status==="pending"&&(U.status="rejected",U.reason=ae)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Ee(U,ae,ge,he,ue){var xe=typeof U;(xe==="undefined"||xe==="boolean")&&(U=null);var we=!1;if(U===null)we=!0;else switch(xe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(U.$$typeof){case n:case e:we=!0;break;case p:return we=U._init,Ee(we(U._payload),ae,ge,he,ue)}}if(we)return ue=ue(U),we=he===""?"."+H(U,0):he,G(ue)?(ge="",we!=null&&(ge=we.replace(V,"$&/")+"/"),Ee(ue,ae,ge,"",function(dt){return dt})):ue!=null&&(k(ue)&&(ue=I(ue,ge+(ue.key==null||U&&U.key===ue.key?"":(""+ue.key).replace(V,"$&/")+"/")+we)),ae.push(ue)),1;we=0;var Ye=he===""?".":he+":";if(G(U))for(var Fe=0;Fe<U.length;Fe++)he=U[Fe],xe=Ye+H(he,Fe),we+=Ee(he,ae,ge,xe,ue);else if(Fe=_(U),typeof Fe=="function")for(U=Fe.call(U),Fe=0;!(he=U.next()).done;)he=he.value,xe=Ye+H(he,Fe++),we+=Ee(he,ae,ge,xe,ue);else if(xe==="object"){if(typeof U.then=="function")return Ee(ke(U),ae,ge,he,ue);throw ae=String(U),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return we}function le(U,ae,ge){if(U==null)return U;var he=[],ue=0;return Ee(U,he,"","",function(xe){return ae.call(ge,xe,ue++)}),he}function de(U){if(U._status===-1){var ae=U._result;ae=ae(),ae.then(function(ge){(U._status===0||U._status===-1)&&(U._status=1,U._result=ge)},function(ge){(U._status===0||U._status===-1)&&(U._status=2,U._result=ge)}),U._status===-1&&(U._status=0,U._result=ae)}if(U._status===1)return U._result.default;throw U._result}var fe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Se(){}return Oe.Children={map:le,forEach:function(U,ae,ge){le(U,function(){ae.apply(this,arguments)},ge)},count:function(U){var ae=0;return le(U,function(){ae++}),ae},toArray:function(U){return le(U,function(ae){return ae})||[]},only:function(U){if(!k(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Oe.Component=T,Oe.Fragment=t,Oe.Profiler=r,Oe.PureComponent=P,Oe.StrictMode=i,Oe.Suspense=h,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Oe.cache=function(U){return function(){return U.apply(null,arguments)}},Oe.cloneElement=function(U,ae,ge){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var he=S({},U.props),ue=U.key,xe=void 0;if(ae!=null)for(we in ae.ref!==void 0&&(xe=void 0),ae.key!==void 0&&(ue=""+ae.key),ae)!ne.call(ae,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ae.ref===void 0||(he[we]=ae[we]);var we=arguments.length-2;if(we===1)he.children=ge;else if(1<we){for(var Ye=Array(we),Fe=0;Fe<we;Fe++)Ye[Fe]=arguments[Fe+2];he.children=Ye}return O(U.type,ue,void 0,void 0,xe,he)},Oe.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},Oe.createElement=function(U,ae,ge){var he,ue={},xe=null;if(ae!=null)for(he in ae.key!==void 0&&(xe=""+ae.key),ae)ne.call(ae,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ue[he]=ae[he]);var we=arguments.length-2;if(we===1)ue.children=ge;else if(1<we){for(var Ye=Array(we),Fe=0;Fe<we;Fe++)Ye[Fe]=arguments[Fe+2];ue.children=Ye}if(U&&U.defaultProps)for(he in we=U.defaultProps,we)ue[he]===void 0&&(ue[he]=we[he]);return O(U,xe,void 0,void 0,null,ue)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(U){return{$$typeof:u,render:U}},Oe.isValidElement=k,Oe.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:de}},Oe.memo=function(U,ae){return{$$typeof:f,type:U,compare:ae===void 0?null:ae}},Oe.startTransition=function(U){var ae=X.T,ge={};X.T=ge;try{var he=U(),ue=X.S;ue!==null&&ue(ge,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Se,fe)}catch(xe){fe(xe)}finally{X.T=ae}},Oe.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Oe.use=function(U){return X.H.use(U)},Oe.useActionState=function(U,ae,ge){return X.H.useActionState(U,ae,ge)},Oe.useCallback=function(U,ae){return X.H.useCallback(U,ae)},Oe.useContext=function(U){return X.H.useContext(U)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(U,ae){return X.H.useDeferredValue(U,ae)},Oe.useEffect=function(U,ae){return X.H.useEffect(U,ae)},Oe.useId=function(){return X.H.useId()},Oe.useImperativeHandle=function(U,ae,ge){return X.H.useImperativeHandle(U,ae,ge)},Oe.useInsertionEffect=function(U,ae){return X.H.useInsertionEffect(U,ae)},Oe.useLayoutEffect=function(U,ae){return X.H.useLayoutEffect(U,ae)},Oe.useMemo=function(U,ae){return X.H.useMemo(U,ae)},Oe.useOptimistic=function(U,ae){return X.H.useOptimistic(U,ae)},Oe.useReducer=function(U,ae,ge){return X.H.useReducer(U,ae,ge)},Oe.useRef=function(U){return X.H.useRef(U)},Oe.useState=function(U){return X.H.useState(U)},Oe.useSyncExternalStore=function(U,ae,ge){return X.H.useSyncExternalStore(U,ae,ge)},Oe.useTransition=function(){return X.H.useTransition()},Oe.version="19.0.0",Oe}var CA;function N_(){return CA||(CA=1,Fy.exports=qM()),Fy.exports}var z=N_();const Ai=BM(z);var qy={exports:{}},wu={},Wy={exports:{}},Gy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA;function WM(){return DA||(DA=1,function(n){function e(le,de){var fe=le.length;le.push(de);e:for(;0<fe;){var Se=fe-1>>>1,U=le[Se];if(0<r(U,de))le[Se]=de,le[fe]=U,fe=Se;else break e}}function t(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var de=le[0],fe=le.pop();if(fe!==de){le[0]=fe;e:for(var Se=0,U=le.length,ae=U>>>1;Se<ae;){var ge=2*(Se+1)-1,he=le[ge],ue=ge+1,xe=le[ue];if(0>r(he,fe))ue<U&&0>r(xe,he)?(le[Se]=xe,le[ue]=fe,Se=ue):(le[Se]=he,le[ge]=fe,Se=ge);else if(ue<U&&0>r(xe,fe))le[Se]=xe,le[ue]=fe,Se=ue;else break e}}return de}function r(le,de){var fe=le.sortIndex-de.sortIndex;return fe!==0?fe:le.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,v=null,_=3,b=!1,S=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function B(le){for(var de=t(f);de!==null;){if(de.callback===null)i(f);else if(de.startTime<=le)i(f),de.sortIndex=de.expirationTime,e(h,de);else break;de=t(f)}}function G(le){if(R=!1,B(le),!S)if(t(h)!==null)S=!0,ke();else{var de=t(f);de!==null&&Ee(G,de.startTime-le)}}var X=!1,ne=-1,O=5,I=-1;function k(){return!(n.unstable_now()-I<O)}function M(){if(X){var le=n.unstable_now();I=le;var de=!0;try{e:{S=!1,R&&(R=!1,C(ne),ne=-1),b=!0;var fe=_;try{t:{for(B(le),v=t(h);v!==null&&!(v.expirationTime>le&&k());){var Se=v.callback;if(typeof Se=="function"){v.callback=null,_=v.priorityLevel;var U=Se(v.expirationTime<=le);if(le=n.unstable_now(),typeof U=="function"){v.callback=U,B(le),de=!0;break t}v===t(h)&&i(h),B(le)}else i(h);v=t(h)}if(v!==null)de=!0;else{var ae=t(f);ae!==null&&Ee(G,ae.startTime-le),de=!1}}break e}finally{v=null,_=fe,b=!1}de=void 0}}finally{de?V():X=!1}}}var V;if(typeof P=="function")V=function(){P(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,j=H.port2;H.port1.onmessage=M,V=function(){j.postMessage(null)}}else V=function(){T(M,0)};function ke(){X||(X=!0,V())}function Ee(le,de){ne=T(function(){le(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){S||b||(S=!0,ke())},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(le){switch(_){case 1:case 2:case 3:var de=3;break;default:de=_}var fe=_;_=de;try{return le()}finally{_=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,de){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var fe=_;_=le;try{return de()}finally{_=fe}},n.unstable_scheduleCallback=function(le,de,fe){var Se=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Se+fe:Se):fe=Se,le){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=fe+U,le={id:p++,callback:de,priorityLevel:le,startTime:fe,expirationTime:U,sortIndex:-1},fe>Se?(le.sortIndex=fe,e(f,le),t(h)===null&&le===t(f)&&(R?(C(ne),ne=-1):R=!0,Ee(G,fe-Se))):(le.sortIndex=U,e(h,le),S||b||(S=!0,ke())),le},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(le){var de=_;return function(){var fe=_;_=de;try{return le.apply(this,arguments)}finally{_=fe}}}}(Gy)),Gy}var IA;function GM(){return IA||(IA=1,Wy.exports=WM()),Wy.exports}var $y={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA;function $M(){if(kA)return bn;kA=1;var n=N_();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:h,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,bn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(h,f,null,p)},bn.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},bn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},bn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},bn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:b}):p==="script"&&i.d.X(h,{crossOrigin:v,integrity:_,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},bn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},bn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},bn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},bn.requestFormReset=function(h){i.d.r(h)},bn.unstable_batchedUpdates=function(h,f){return h(f)},bn.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},bn.useFormStatus=function(){return l.H.useHostTransitionStatus()},bn.version="19.0.0",bn}var NA;function PR(){if(NA)return $y.exports;NA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$y.exports=$M(),$y.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA;function YM(){if(MA)return wu;MA=1;var n=GM(),e=N_(),t=PR();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var a=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),b=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),G=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function ne(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function I(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case h:return"Fragment";case u:return"Portal";case p:return"Profiler";case f:return"StrictMode";case R:return"Suspense";case T:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case b:return(s.displayName||"Context")+".Provider";case _:return(s._context.displayName||"Context")+".Consumer";case S:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return o=s.displayName||null,o!==null?o:I(s.type)||"Memo";case P:o=s._payload,s=s._init;try{return I(s(o))}catch{}}return null}var k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign,V,H;function j(s){if(V===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||"",H=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+s+H}var ke=!1;function Ee(s,o){if(!s||ke)return"";ke=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var Q=ee}Reflect.construct(s,[],oe)}else{try{oe.call()}catch(ee){Q=ee}s.call(oe.prototype)}}else{try{throw Error()}catch(ee){Q=ee}(oe=s())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&Q&&typeof ee.stack=="string")return[ee.stack,Q.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),x=y[0],D=y[1];if(x&&D){var L=x.split(`
`),q=D.split(`
`);for(m=d=0;d<L.length&&!L[d].includes("DetermineComponentFrameRoot");)d++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(d===L.length||m===q.length)for(d=L.length-1,m=q.length-1;1<=d&&0<=m&&L[d]!==q[m];)m--;for(;1<=d&&0<=m;d--,m--)if(L[d]!==q[m]){if(d!==1||m!==1)do if(d--,m--,0>m||L[d]!==q[m]){var te=`
`+L[d].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=d&&0<=m);break}}}finally{ke=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?j(c):""}function le(s){switch(s.tag){case 26:case 27:case 5:return j(s.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 15:return s=Ee(s.type,!1),s;case 11:return s=Ee(s.type.render,!1),s;case 1:return s=Ee(s.type,!0),s;default:return""}}function de(s){try{var o="";do o+=le(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function fe(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Se(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function U(s){if(fe(s)!==s)throw Error(i(188))}function ae(s){var o=s.alternate;if(!o){if(o=fe(s),o===null)throw Error(i(188));return o!==s?null:s}for(var c=s,d=o;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){c=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return U(m),s;if(y===d)return U(m),o;y=y.sibling}throw Error(i(188))}if(c.return!==d.return)c=m,d=y;else{for(var x=!1,D=m.child;D;){if(D===c){x=!0,c=m,d=y;break}if(D===d){x=!0,d=m,c=y;break}D=D.sibling}if(!x){for(D=y.child;D;){if(D===c){x=!0,c=y,d=m;break}if(D===d){x=!0,d=y,c=m;break}D=D.sibling}if(!x)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:o}function ge(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=ge(s),o!==null)return o;s=s.sibling}return null}var he=Array.isArray,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},we=[],Ye=-1;function Fe(s){return{current:s}}function dt(s){0>Ye||(s.current=we[Ye],we[Ye]=null,Ye--)}function Je(s,o){Ye++,we[Ye]=s.current,s.current=o}var on=Fe(null),Ci=Fe(null),Te=Fe(null),yn=Fe(null);function ct(s,o){switch(Je(Te,o),Je(Ci,s),Je(on,null),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?eA(o):0;break;default:if(s=s===8?o.parentNode:o,o=s.tagName,s=s.namespaceURI)s=eA(s),o=tA(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}dt(on),Je(on,o)}function ft(){dt(on),dt(Ci),dt(Te)}function ln(s){s.memoizedState!==null&&Je(yn,s);var o=on.current,c=tA(o,s.type);o!==c&&(Je(Ci,s),Je(on,c))}function Wi(s){Ci.current===s&&(dt(on),dt(Ci)),yn.current===s&&(dt(yn),mu._currentValue=xe)}var Gi=Object.prototype.hasOwnProperty,wr=n.unstable_scheduleCallback,Fo=n.unstable_cancelCallback,qp=n.unstable_shouldYield,yc=n.unstable_requestPaint,jn=n.unstable_now,Fh=n.unstable_getCurrentPriorityLevel,Bt=n.unstable_ImmediatePriority,Kt=n.unstable_UserBlockingPriority,Ar=n.unstable_NormalPriority,qh=n.unstable_LowPriority,vc=n.unstable_IdlePriority,Wp=n.log,Ra=n.unstable_setDisableYieldValue,fs=null,vn=null;function _c(s){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(fs,s,void 0,(s.current.flags&128)===128)}catch{}}function $i(s){if(typeof Wp=="function"&&Ra(s),vn&&typeof vn.setStrictMode=="function")try{vn.setStrictMode(fs,s)}catch{}}var In=Math.clz32?Math.clz32:Gh,bc=Math.log,Wh=Math.LN2;function Gh(s){return s>>>=0,s===0?32:31-(bc(s)/Wh|0)|0}var Yi=128,gs=4194304;function Di(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ri(s,o){var c=s.pendingLanes;if(c===0)return 0;var d=0,m=s.suspendedLanes,y=s.pingedLanes,x=s.warmLanes;s=s.finishedLanes!==0;var D=c&134217727;return D!==0?(c=D&~m,c!==0?d=Di(c):(y&=D,y!==0?d=Di(y):s||(x=D&~x,x!==0&&(d=Di(x))))):(D=c&~m,D!==0?d=Di(D):y!==0?d=Di(y):s||(x=c&~x,x!==0&&(d=Di(x)))),d===0?0:o!==0&&o!==d&&!(o&m)&&(m=d&-d,x=o&-o,m>=x||m===32&&(x&4194176)!==0)?o:d}function ps(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function qo(s,o){switch(s){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ec(){var s=Yi;return Yi<<=1,!(Yi&4194176)&&(Yi=128),s}function ms(){var s=gs;return gs<<=1,!(gs&62914560)&&(gs=4194304),s}function Wo(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function It(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function $h(s,o,c,d,m,y){var x=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var D=s.entanglements,L=s.expirationTimes,q=s.hiddenUpdates;for(c=x&~c;0<c;){var te=31-In(c),oe=1<<te;D[te]=0,L[te]=-1;var Q=q[te];if(Q!==null)for(q[te]=null,te=0;te<Q.length;te++){var ee=Q[te];ee!==null&&(ee.lane&=-536870913)}c&=~oe}d!==0&&ys(s,d,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(x&~o))}function ys(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-In(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|c&4194218}function vs(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var d=31-In(c),m=1<<d;m&o|s[d]&o&&(s[d]|=o),c&=~m}}function Yh(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function Qh(){var s=ue.p;return s!==0?s:(s=window.event,s===void 0?32:_A(s.type))}function _s(s,o){var c=ue.p;try{return ue.p=s,o()}finally{ue.p=c}}var Qi=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Qi,Ht="__reactProps$"+Qi,Sr="__reactContainer$"+Qi,Ca="__reactEvents$"+Qi,Go="__reactListeners$"+Qi,Ki="__reactHandles$"+Qi,wc="__reactResources$"+Qi,bs="__reactMarker$"+Qi;function Da(s){delete s[Xt],delete s[Ht],delete s[Ca],delete s[Go],delete s[Ki]}function Ii(s){var o=s[Xt];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Sr]||c[Xt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=rA(s);s!==null;){if(c=s[Xt])return c;s=rA(s)}return o}s=c,c=s.parentNode}return null}function Tr(s){if(s=s[Xt]||s[Sr]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Es(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function ws(s){var o=s[wc];return o||(o=s[wc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function bt(s){s[bs]=!0}var Ac=new Set,$o={};function $n(s,o){Ln(s,o),Ln(s+"Capture",o)}function Ln(s,o){for($o[s]=o,s=0;s<o.length;s++)Ac.add(o[s])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sc={},Tc={};function Kh(s){return Gi.call(Tc,s)?!0:Gi.call(Sc,s)?!1:Gp.test(s)?Tc[s]=!0:(Sc[s]=!0,!1)}function As(s,o,c){if(Kh(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function Ss(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function si(s,o,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+d)}}function kn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xh(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function $p(s){var o=Xh(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(x){d=""+x,y.call(this,x)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ia(s){s._valueTracker||(s._valueTracker=$p(s))}function xc(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return s&&(d=Xh(s)?s.checked?"true":"false":s.value),s=d,s!==c?(o.setValue(s),!0):!1}function Yo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var xr=/[\n"\\]/g;function xt(s){return s.replace(xr,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ts(s,o,c,d,m,y,x,D){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),o!=null?x==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+kn(o)):s.value!==""+kn(o)&&(s.value=""+kn(o)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),o!=null?Qo(s,x,kn(o)):c!=null?Qo(s,x,kn(c)):d!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+kn(D):s.removeAttribute("name")}function ka(s,o,c,d,m,y,x,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),o!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;c=c!=null?""+kn(c):"",o=o!=null?""+kn(o):c,D||o===s.value||(s.value=o),s.defaultValue=o}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=D?s.checked:!!d,s.defaultChecked=!!d,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x)}function Qo(s,o,c){o==="number"&&Yo(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Qe(s,o,c,d){if(s=s.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=o.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&d&&(s[c].defaultSelected=!0)}else{for(c=""+kn(c),o=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Na(s,o,c){if(o!=null&&(o=""+kn(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+kn(c):""}function xs(s,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(i(92));if(he(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=kn(o),s.defaultValue=c,d=s.textContent,d===c&&d!==""&&d!==null&&(s.value=d)}function ai(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Yp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rc(s,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,c):typeof c!="number"||c===0||Yp.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function Zh(s,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var m in o)d=o[m],o.hasOwnProperty(m)&&c[m]!==d&&Rc(s,m,d)}else for(var y in o)o.hasOwnProperty(y)&&Rc(s,y,o[y])}function Cc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(s){return Kp.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var oi=null;function Ko(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Rr=null,Cr=null;function Dr(s){var o=Tr(s);if(o&&(s=o.stateNode)){var c=s[Ht]||null;e:switch(s=o.stateNode,o.type){case"input":if(Ts(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+xt(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==s&&d.form===s.form){var m=d[Ht]||null;if(!m)throw Error(i(90));Ts(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===s.form&&xc(d)}break e;case"textarea":Na(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Qe(s,!!c.multiple,o,!1)}}}var Dc=!1;function Jh(s,o,c){if(Dc)return s(o,c);Dc=!0;try{var d=s(o);return d}finally{if(Dc=!1,(Rr!==null||Cr!==null)&&(qd(),Rr&&(o=Rr,s=Cr,Cr=Rr=null,Dr(o),s)))for(o=0;o<s.length;o++)Dr(s[o])}}function Ma(s,o){var c=s.stateNode;if(c===null)return null;var d=c[Ht]||null;if(d===null)return null;c=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var li=!1;if(Yn)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){li=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{li=!1}var Zi=null,Rs=null,Ir=null;function Ic(){if(Ir)return Ir;var s,o=Rs,c=o.length,d,m="value"in Zi?Zi.value:Zi.textContent,y=m.length;for(s=0;s<c&&o[s]===m[s];s++);var x=c-s;for(d=1;d<=x&&o[c-d]===m[y-d];d++);return Ir=m.slice(s,1<d?1-d:void 0)}function Ji(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function er(){return!0}function kc(){return!1}function Zt(s){function o(c,d,m,y,x){this._reactName=c,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(c=s[D],this[D]=c?c(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?er:kc,this.isPropagationStopped=kc,this}return M(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),o}var nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=Zt(nt),Pa=M({},nt,{view:0,detail:0}),ed=Zt(Pa),Zo,Jo,tr,ja=M({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==tr&&(tr&&s.type==="mousemove"?(Zo=s.screenX-tr.screenX,Jo=s.screenY-tr.screenY):Jo=Zo=0,tr=s),Zo)},movementY:function(s){return"movementY"in s?s.movementY:Jo}}),ci=Zt(ja),td=M({},ja,{dataTransfer:0}),Xp=Zt(td),La=M({},Pa,{relatedTarget:0}),el=Zt(La),Nc=M({},nt,{animationName:0,elapsedTime:0,pseudoElement:0}),tl=Zt(Nc),nd=M({},nt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),nl=Zt(nd),Zp=M({},nt,{data:0}),Mc=Zt(Zp),Va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},id={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=rd[s])?!!o[s]:!1}function Ua(){return Oc}var sd=M({},Pa,{key:function(s){if(s.key){var o=Va[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ji(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?id[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(s){return s.type==="keypress"?Ji(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ji(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),il=Zt(sd),ad=M({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pc=Zt(ad),kr=M({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),od=Zt(kr),ld=M({},nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),cd=Zt(ld),ud=M({},ja,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rl=Zt(ud),Nn=M({},nt,{newState:0,oldState:0}),hd=Zt(Nn),dd=[9,13,27,32],nr=Yn&&"CompositionEvent"in window,g=null;Yn&&"documentMode"in document&&(g=document.documentMode);var E=Yn&&"TextEvent"in window&&!g,A=Yn&&(!nr||g&&8<g&&11>=g),N=" ",$=!1;function Z(s,o){switch(s){case"keyup":return dd.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qe=!1;function Ft(s,o){switch(s){case"compositionend":return ce(o);case"keypress":return o.which!==32?null:($=!0,N);case"textInput":return s=o.data,s===N&&$?null:s;default:return null}}function We(s,o){if(qe)return s==="compositionend"||!nr&&Z(s,o)?(s=Ic(),Ir=Rs=Zi=null,qe=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return A&&o.locale!=="ko"?null:o.data;default:return null}}var Jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qt(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Jt[s.type]:o==="textarea"}function Nr(s,o,c,d){Rr?Cr?Cr.push(d):Cr=[d]:Rr=d,o=Qd(o,"onChange"),0<o.length&&(c=new Xo("onChange","change",null,c,d),s.push({event:c,listeners:o}))}var cn=null,ir=null;function jc(s){Qw(s,0)}function fd(s){var o=Es(s);if(xc(o))return s}function S0(s,o){if(s==="change")return o}var T0=!1;if(Yn){var Jp;if(Yn){var em="oninput"in document;if(!em){var x0=document.createElement("div");x0.setAttribute("oninput","return;"),em=typeof x0.oninput=="function"}Jp=em}else Jp=!1;T0=Jp&&(!document.documentMode||9<document.documentMode)}function R0(){cn&&(cn.detachEvent("onpropertychange",C0),ir=cn=null)}function C0(s){if(s.propertyName==="value"&&fd(ir)){var o=[];Nr(o,ir,s,Ko(s)),Jh(jc,o)}}function pN(s,o,c){s==="focusin"?(R0(),cn=o,ir=c,cn.attachEvent("onpropertychange",C0)):s==="focusout"&&R0()}function mN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return fd(ir)}function yN(s,o){if(s==="click")return fd(o)}function vN(s,o){if(s==="input"||s==="change")return fd(o)}function _N(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Qn=typeof Object.is=="function"?Object.is:_N;function Lc(s,o){if(Qn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var m=c[d];if(!Gi.call(o,m)||!Qn(s[m],o[m]))return!1}return!0}function D0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function I0(s,o){var c=D0(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=o&&d>=o)return{node:c,offset:o-s};s=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=D0(c)}}function k0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?k0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function N0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Yo(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Yo(s.document)}return o}function tm(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function bN(s,o){var c=N0(o);o=s.focusedElem;var d=s.selectionRange;if(c!==o&&o&&o.ownerDocument&&k0(o.ownerDocument.documentElement,o)){if(d!==null&&tm(o)){if(s=d.start,c=d.end,c===void 0&&(c=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(c,o.value.length);else if(c=(s=o.ownerDocument||document)&&s.defaultView||window,c.getSelection){c=c.getSelection();var m=o.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!c.extend&&y>d&&(m=d,d=y,y=m),m=I0(o,y);var x=I0(o,d);m&&x&&(c.rangeCount!==1||c.anchorNode!==m.node||c.anchorOffset!==m.offset||c.focusNode!==x.node||c.focusOffset!==x.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),c.removeAllRanges(),y>d?(c.addRange(s),c.extend(x.node,x.offset)):(s.setEnd(x.node,x.offset),c.addRange(s)))}}for(s=[],c=o;c=c.parentNode;)c.nodeType===1&&s.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)c=s[o],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var EN=Yn&&"documentMode"in document&&11>=document.documentMode,sl=null,nm=null,Vc=null,im=!1;function M0(s,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;im||sl==null||sl!==Yo(d)||(d=sl,"selectionStart"in d&&tm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Vc&&Lc(Vc,d)||(Vc=d,d=Qd(nm,"onSelect"),0<d.length&&(o=new Xo("onSelect","select",null,o,c),s.push({event:o,listeners:d}),o.target=sl)))}function za(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var al={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},rm={},O0={};Yn&&(O0=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Ba(s){if(rm[s])return rm[s];if(!al[s])return s;var o=al[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in O0)return rm[s]=o[c];return s}var P0=Ba("animationend"),j0=Ba("animationiteration"),L0=Ba("animationstart"),wN=Ba("transitionrun"),AN=Ba("transitionstart"),SN=Ba("transitioncancel"),V0=Ba("transitionend"),U0=new Map,z0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ki(s,o){U0.set(s,o),$n(o,[s])}var ui=[],ol=0,sm=0;function gd(){for(var s=ol,o=sm=ol=0;o<s;){var c=ui[o];ui[o++]=null;var d=ui[o];ui[o++]=null;var m=ui[o];ui[o++]=null;var y=ui[o];if(ui[o++]=null,d!==null&&m!==null){var x=d.pending;x===null?m.next=m:(m.next=x.next,x.next=m),d.pending=m}y!==0&&B0(c,m,y)}}function pd(s,o,c,d){ui[ol++]=s,ui[ol++]=o,ui[ol++]=c,ui[ol++]=d,sm|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function am(s,o,c,d){return pd(s,o,c,d),md(s)}function Cs(s,o){return pd(s,null,null,o),md(s)}function B0(s,o,c){s.lanes|=c;var d=s.alternate;d!==null&&(d.lanes|=c);for(var m=!1,y=s.return;y!==null;)y.childLanes|=c,d=y.alternate,d!==null&&(d.childLanes|=c),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;m&&o!==null&&s.tag===3&&(y=s.stateNode,m=31-In(c),y=y.hiddenUpdates,s=y[m],s===null?y[m]=[o]:s.push(o),o.lane=c|536870912)}function md(s){if(50<cu)throw cu=0,dy=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var ll={},H0=new WeakMap;function hi(s,o){if(typeof s=="object"&&s!==null){var c=H0.get(s);return c!==void 0?c:(o={value:s,source:o,stack:de(o)},H0.set(s,o),o)}return{value:s,source:o,stack:de(o)}}var cl=[],ul=0,yd=null,vd=0,di=[],fi=0,Ha=null,Mr=1,Or="";function Fa(s,o){cl[ul++]=vd,cl[ul++]=yd,yd=s,vd=o}function F0(s,o,c){di[fi++]=Mr,di[fi++]=Or,di[fi++]=Ha,Ha=s;var d=Mr;s=Or;var m=32-In(d)-1;d&=~(1<<m),c+=1;var y=32-In(o)+m;if(30<y){var x=m-m%5;y=(d&(1<<x)-1).toString(32),d>>=x,m-=x,Mr=1<<32-In(o)+m|c<<m|d,Or=y+s}else Mr=1<<y|c<<m|d,Or=s}function om(s){s.return!==null&&(Fa(s,1),F0(s,1,0))}function lm(s){for(;s===yd;)yd=cl[--ul],cl[ul]=null,vd=cl[--ul],cl[ul]=null;for(;s===Ha;)Ha=di[--fi],di[fi]=null,Or=di[--fi],di[fi]=null,Mr=di[--fi],di[fi]=null}var Mn=null,un=null,Ke=!1,Ni=null,rr=!1,cm=Error(i(519));function qa(s){var o=Error(i(418,""));throw Bc(hi(o,s)),cm}function q0(s){var o=s.stateNode,c=s.type,d=s.memoizedProps;switch(o[Xt]=s,o[Ht]=d,c){case"dialog":Be("cancel",o),Be("close",o);break;case"iframe":case"object":case"embed":Be("load",o);break;case"video":case"audio":for(c=0;c<hu.length;c++)Be(hu[c],o);break;case"source":Be("error",o);break;case"img":case"image":case"link":Be("error",o),Be("load",o);break;case"details":Be("toggle",o);break;case"input":Be("invalid",o),ka(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ia(o);break;case"select":Be("invalid",o);break;case"textarea":Be("invalid",o),xs(o,d.value,d.defaultValue,d.children),Ia(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||Jw(o.textContent,c)?(d.popover!=null&&(Be("beforetoggle",o),Be("toggle",o)),d.onScroll!=null&&Be("scroll",o),d.onScrollEnd!=null&&Be("scrollend",o),d.onClick!=null&&(o.onclick=Kd),o=!0):o=!1,o||qa(s)}function W0(s){for(Mn=s.return;Mn;)switch(Mn.tag){case 3:case 27:rr=!0;return;case 5:case 13:rr=!1;return;default:Mn=Mn.return}}function Uc(s){if(s!==Mn)return!1;if(!Ke)return W0(s),Ke=!0,!1;var o=!1,c;if((c=s.tag!==3&&s.tag!==27)&&((c=s.tag===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Dy(s.type,s.memoizedProps)),c=!c),c&&(o=!0),o&&un&&qa(s),W0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){un=Oi(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}un=null}}else un=Mn?Oi(s.stateNode.nextSibling):null;return!0}function zc(){un=Mn=null,Ke=!1}function Bc(s){Ni===null?Ni=[s]:Ni.push(s)}var Hc=Error(i(460)),G0=Error(i(474)),um={then:function(){}};function $0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function _d(){}function Y0(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(_d,_d),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,s===Hc?Error(i(483)):s;default:if(typeof o.status=="string")o.then(_d,_d);else{if(s=ut,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=d}},function(d){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,s===Hc?Error(i(483)):s}throw Fc=o,Hc}}var Fc=null;function Q0(){if(Fc===null)throw Error(i(459));var s=Fc;return Fc=null,s}var hl=null,qc=0;function bd(s){var o=qc;return qc+=1,hl===null&&(hl=[]),Y0(hl,s,o)}function Wc(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Ed(s,o){throw o.$$typeof===a?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function K0(s){var o=s._init;return o(s._payload)}function X0(s){function o(W,F){if(s){var Y=W.deletions;Y===null?(W.deletions=[F],W.flags|=16):Y.push(F)}}function c(W,F){if(!s)return null;for(;F!==null;)o(W,F),F=F.sibling;return null}function d(W){for(var F=new Map;W!==null;)W.key!==null?F.set(W.key,W):F.set(W.index,W),W=W.sibling;return F}function m(W,F){return W=zs(W,F),W.index=0,W.sibling=null,W}function y(W,F,Y){return W.index=Y,s?(Y=W.alternate,Y!==null?(Y=Y.index,Y<F?(W.flags|=33554434,F):Y):(W.flags|=33554434,F)):(W.flags|=1048576,F)}function x(W){return s&&W.alternate===null&&(W.flags|=33554434),W}function D(W,F,Y,ie){return F===null||F.tag!==6?(F=ry(Y,W.mode,ie),F.return=W,F):(F=m(F,Y),F.return=W,F)}function L(W,F,Y,ie){var ye=Y.type;return ye===h?te(W,F,Y.props.children,ie,Y.key):F!==null&&(F.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===P&&K0(ye)===F.type)?(F=m(F,Y.props),Wc(F,Y),F.return=W,F):(F=Ud(Y.type,Y.key,Y.props,null,W.mode,ie),Wc(F,Y),F.return=W,F)}function q(W,F,Y,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=sy(Y,W.mode,ie),F.return=W,F):(F=m(F,Y.children||[]),F.return=W,F)}function te(W,F,Y,ie,ye){return F===null||F.tag!==7?(F=eo(Y,W.mode,ie,ye),F.return=W,F):(F=m(F,Y),F.return=W,F)}function oe(W,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=ry(""+F,W.mode,Y),F.return=W,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case l:return Y=Ud(F.type,F.key,F.props,null,W.mode,Y),Wc(Y,F),Y.return=W,Y;case u:return F=sy(F,W.mode,Y),F.return=W,F;case P:var ie=F._init;return F=ie(F._payload),oe(W,F,Y)}if(he(F)||ne(F))return F=eo(F,W.mode,Y,null),F.return=W,F;if(typeof F.then=="function")return oe(W,bd(F),Y);if(F.$$typeof===b)return oe(W,jd(W,F),Y);Ed(W,F)}return null}function Q(W,F,Y,ie){var ye=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ye!==null?null:D(W,F,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:return Y.key===ye?L(W,F,Y,ie):null;case u:return Y.key===ye?q(W,F,Y,ie):null;case P:return ye=Y._init,Y=ye(Y._payload),Q(W,F,Y,ie)}if(he(Y)||ne(Y))return ye!==null?null:te(W,F,Y,ie,null);if(typeof Y.then=="function")return Q(W,F,bd(Y),ie);if(Y.$$typeof===b)return Q(W,F,jd(W,Y),ie);Ed(W,Y)}return null}function ee(W,F,Y,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return W=W.get(Y)||null,D(F,W,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case l:return W=W.get(ie.key===null?Y:ie.key)||null,L(F,W,ie,ye);case u:return W=W.get(ie.key===null?Y:ie.key)||null,q(F,W,ie,ye);case P:var je=ie._init;return ie=je(ie._payload),ee(W,F,Y,ie,ye)}if(he(ie)||ne(ie))return W=W.get(Y)||null,te(F,W,ie,ye,null);if(typeof ie.then=="function")return ee(W,F,Y,bd(ie),ye);if(ie.$$typeof===b)return ee(W,F,Y,jd(F,ie),ye);Ed(F,ie)}return null}function ve(W,F,Y,ie){for(var ye=null,je=null,_e=F,Re=F=0,nn=null;_e!==null&&Re<Y.length;Re++){_e.index>Re?(nn=_e,_e=null):nn=_e.sibling;var Xe=Q(W,_e,Y[Re],ie);if(Xe===null){_e===null&&(_e=nn);break}s&&_e&&Xe.alternate===null&&o(W,_e),F=y(Xe,F,Re),je===null?ye=Xe:je.sibling=Xe,je=Xe,_e=nn}if(Re===Y.length)return c(W,_e),Ke&&Fa(W,Re),ye;if(_e===null){for(;Re<Y.length;Re++)_e=oe(W,Y[Re],ie),_e!==null&&(F=y(_e,F,Re),je===null?ye=_e:je.sibling=_e,je=_e);return Ke&&Fa(W,Re),ye}for(_e=d(_e);Re<Y.length;Re++)nn=ee(_e,W,Re,Y[Re],ie),nn!==null&&(s&&nn.alternate!==null&&_e.delete(nn.key===null?Re:nn.key),F=y(nn,F,Re),je===null?ye=nn:je.sibling=nn,je=nn);return s&&_e.forEach(function($s){return o(W,$s)}),Ke&&Fa(W,Re),ye}function Ne(W,F,Y,ie){if(Y==null)throw Error(i(151));for(var ye=null,je=null,_e=F,Re=F=0,nn=null,Xe=Y.next();_e!==null&&!Xe.done;Re++,Xe=Y.next()){_e.index>Re?(nn=_e,_e=null):nn=_e.sibling;var $s=Q(W,_e,Xe.value,ie);if($s===null){_e===null&&(_e=nn);break}s&&_e&&$s.alternate===null&&o(W,_e),F=y($s,F,Re),je===null?ye=$s:je.sibling=$s,je=$s,_e=nn}if(Xe.done)return c(W,_e),Ke&&Fa(W,Re),ye;if(_e===null){for(;!Xe.done;Re++,Xe=Y.next())Xe=oe(W,Xe.value,ie),Xe!==null&&(F=y(Xe,F,Re),je===null?ye=Xe:je.sibling=Xe,je=Xe);return Ke&&Fa(W,Re),ye}for(_e=d(_e);!Xe.done;Re++,Xe=Y.next())Xe=ee(_e,W,Re,Xe.value,ie),Xe!==null&&(s&&Xe.alternate!==null&&_e.delete(Xe.key===null?Re:Xe.key),F=y(Xe,F,Re),je===null?ye=Xe:je.sibling=Xe,je=Xe);return s&&_e.forEach(function(VM){return o(W,VM)}),Ke&&Fa(W,Re),ye}function Dt(W,F,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===h&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:e:{for(var ye=Y.key;F!==null;){if(F.key===ye){if(ye=Y.type,ye===h){if(F.tag===7){c(W,F.sibling),ie=m(F,Y.props.children),ie.return=W,W=ie;break e}}else if(F.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===P&&K0(ye)===F.type){c(W,F.sibling),ie=m(F,Y.props),Wc(ie,Y),ie.return=W,W=ie;break e}c(W,F);break}else o(W,F);F=F.sibling}Y.type===h?(ie=eo(Y.props.children,W.mode,ie,Y.key),ie.return=W,W=ie):(ie=Ud(Y.type,Y.key,Y.props,null,W.mode,ie),Wc(ie,Y),ie.return=W,W=ie)}return x(W);case u:e:{for(ye=Y.key;F!==null;){if(F.key===ye)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){c(W,F.sibling),ie=m(F,Y.children||[]),ie.return=W,W=ie;break e}else{c(W,F);break}else o(W,F);F=F.sibling}ie=sy(Y,W.mode,ie),ie.return=W,W=ie}return x(W);case P:return ye=Y._init,Y=ye(Y._payload),Dt(W,F,Y,ie)}if(he(Y))return ve(W,F,Y,ie);if(ne(Y)){if(ye=ne(Y),typeof ye!="function")throw Error(i(150));return Y=ye.call(Y),Ne(W,F,Y,ie)}if(typeof Y.then=="function")return Dt(W,F,bd(Y),ie);if(Y.$$typeof===b)return Dt(W,F,jd(W,Y),ie);Ed(W,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(c(W,F.sibling),ie=m(F,Y),ie.return=W,W=ie):(c(W,F),ie=ry(Y,W.mode,ie),ie.return=W,W=ie),x(W)):c(W,F)}return function(W,F,Y,ie){try{qc=0;var ye=Dt(W,F,Y,ie);return hl=null,ye}catch(_e){if(_e===Hc)throw _e;var je=yi(29,_e,null,W.mode);return je.lanes=ie,je.return=W,je}finally{}}}var Wa=X0(!0),Z0=X0(!1),dl=Fe(null),wd=Fe(0);function J0(s,o){s=Wr,Je(wd,s),Je(dl,o),Wr=s|o.baseLanes}function hm(){Je(wd,Wr),Je(dl,dl.current)}function dm(){Wr=wd.current,dt(dl),dt(wd)}var gi=Fe(null),sr=null;function Ds(s){var o=s.alternate;Je(Wt,Wt.current&1),Je(gi,s),sr===null&&(o===null||dl.current!==null||o.memoizedState!==null)&&(sr=s)}function eE(s){if(s.tag===22){if(Je(Wt,Wt.current),Je(gi,s),sr===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(sr=s)}}else Is()}function Is(){Je(Wt,Wt.current),Je(gi,gi.current)}function Pr(s){dt(gi),sr===s&&(sr=null),dt(Wt)}var Wt=Fe(0);function Ad(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var TN=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},xN=n.unstable_scheduleCallback,RN=n.unstable_NormalPriority,Gt={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fm(){return{controller:new TN,data:new Map,refCount:0}}function Gc(s){s.refCount--,s.refCount===0&&xN(RN,function(){s.controller.abort()})}var $c=null,gm=0,fl=0,gl=null;function CN(s,o){if($c===null){var c=$c=[];gm=0,fl=by(),gl={status:"pending",value:void 0,then:function(d){c.push(d)}}}return gm++,o.then(tE,tE),o}function tE(){if(--gm===0&&$c!==null){gl!==null&&(gl.status="fulfilled");var s=$c;$c=null,fl=0,gl=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function DN(s,o){var c=[],d={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var m=0;m<c.length;m++)(0,c[m])(o)},function(m){for(d.status="rejected",d.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),d}var nE=k.S;k.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&CN(s,o),nE!==null&&nE(s,o)};var Ga=Fe(null);function pm(){var s=Ga.current;return s!==null?s:ut.pooledCache}function Sd(s,o){o===null?Je(Ga,Ga.current):Je(Ga,o.pool)}function iE(){var s=pm();return s===null?null:{parent:Gt._currentValue,pool:s}}var ks=0,Pe=null,at=null,Pt=null,Td=!1,pl=!1,$a=!1,xd=0,Yc=0,ml=null,IN=0;function kt(){throw Error(i(321))}function mm(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Qn(s[c],o[c]))return!1;return!0}function ym(s,o,c,d,m,y){return ks=y,Pe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,k.H=s===null||s.memoizedState===null?Ya:Ns,$a=!1,y=c(d,m),$a=!1,pl&&(y=sE(o,c,d,m)),rE(s),y}function rE(s){k.H=ar;var o=at!==null&&at.next!==null;if(ks=0,Pt=at=Pe=null,Td=!1,Yc=0,ml=null,o)throw Error(i(300));s===null||en||(s=s.dependencies,s!==null&&Pd(s)&&(en=!0))}function sE(s,o,c,d){Pe=s;var m=0;do{if(pl&&(ml=null),Yc=0,pl=!1,25<=m)throw Error(i(301));if(m+=1,Pt=at=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}k.H=Qa,y=o(c,d)}while(pl);return y}function kN(){var s=k.H,o=s.useState()[0];return o=typeof o.then=="function"?Qc(o):o,s=s.useState()[0],(at!==null?at.memoizedState:null)!==s&&(Pe.flags|=1024),o}function vm(){var s=xd!==0;return xd=0,s}function _m(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function bm(s){if(Td){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Td=!1}ks=0,Pt=at=Pe=null,pl=!1,Yc=xd=0,ml=null}function Vn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Pe.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function jt(){if(at===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=at.next;var o=Pt===null?Pe.memoizedState:Pt.next;if(o!==null)Pt=o,at=s;else{if(s===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));at=s,s={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Pt===null?Pe.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}var Rd;Rd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Qc(s){var o=Yc;return Yc+=1,ml===null&&(ml=[]),s=Y0(ml,s,o),o=Pe,(Pt===null?o.memoizedState:Pt.next)===null&&(o=o.alternate,k.H=o===null||o.memoizedState===null?Ya:Ns),s}function Cd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Qc(s);if(s.$$typeof===b)return _n(s)}throw Error(i(438,String(s)))}function Em(s){var o=null,c=Pe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=Pe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Rd(),Pe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),d=0;d<s;d++)c[d]=G;return o.index++,c}function jr(s,o){return typeof o=="function"?o(s):o}function Dd(s){var o=jt();return wm(o,at,s)}function wm(s,o,c){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var m=s.baseQueue,y=d.pending;if(y!==null){if(m!==null){var x=m.next;m.next=y.next,y.next=x}o.baseQueue=m=y,d.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{o=m.next;var D=x=null,L=null,q=o,te=!1;do{var oe=q.lane&-536870913;if(oe!==q.lane?(Ge&oe)===oe:(ks&oe)===oe){var Q=q.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),oe===fl&&(te=!0);else if((ks&Q)===Q){q=q.next,Q===fl&&(te=!0);continue}else oe={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(D=L=oe,x=y):L=L.next=oe,Pe.lanes|=Q,Bs|=Q;oe=q.action,$a&&c(y,oe),y=q.hasEagerState?q.eagerState:c(y,oe)}else Q={lane:oe,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(D=L=Q,x=y):L=L.next=Q,Pe.lanes|=oe,Bs|=oe;q=q.next}while(q!==null&&q!==o);if(L===null?x=y:L.next=D,!Qn(y,s.memoizedState)&&(en=!0,te&&(c=gl,c!==null)))throw c;s.memoizedState=y,s.baseState=x,s.baseQueue=L,d.lastRenderedState=y}return m===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Am(s){var o=jt(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var d=c.dispatch,m=c.pending,y=o.memoizedState;if(m!==null){c.pending=null;var x=m=m.next;do y=s(y,x.action),x=x.next;while(x!==m);Qn(y,o.memoizedState)||(en=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),c.lastRenderedState=y}return[y,d]}function aE(s,o,c){var d=Pe,m=jt(),y=Ke;if(y){if(c===void 0)throw Error(i(407));c=c()}else c=o();var x=!Qn((at||m).memoizedState,c);if(x&&(m.memoizedState=c,en=!0),m=m.queue,xm(cE.bind(null,d,m,s),[s]),m.getSnapshot!==o||x||Pt!==null&&Pt.memoizedState.tag&1){if(d.flags|=2048,yl(9,lE.bind(null,d,m,c,o),{destroy:void 0},null),ut===null)throw Error(i(349));y||ks&60||oE(d,o,c)}return c}function oE(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Pe.updateQueue,o===null?(o=Rd(),Pe.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function lE(s,o,c,d){o.value=c,o.getSnapshot=d,uE(o)&&hE(s)}function cE(s,o,c){return c(function(){uE(o)&&hE(s)})}function uE(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Qn(s,c)}catch{return!0}}function hE(s){var o=Cs(s,2);o!==null&&On(o,s,2)}function Sm(s){var o=Vn();if(typeof s=="function"){var c=s;if(s=c(),$a){$i(!0);try{c()}finally{$i(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:s},o}function dE(s,o,c,d){return s.baseState=c,wm(s,at,typeof d=="function"?d:jr)}function NN(s,o,c,d,m){if(Nd(s))throw Error(i(485));if(s=o.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};k.T!==null?c(!0):y.isTransition=!1,d(y),c=o.pending,c===null?(y.next=o.pending=y,fE(o,y)):(y.next=c.next,o.pending=c.next=y)}}function fE(s,o){var c=o.action,d=o.payload,m=s.state;if(o.isTransition){var y=k.T,x={};k.T=x;try{var D=c(m,d),L=k.S;L!==null&&L(x,D),gE(s,o,D)}catch(q){Tm(s,o,q)}finally{k.T=y}}else try{y=c(m,d),gE(s,o,y)}catch(q){Tm(s,o,q)}}function gE(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){pE(s,o,d)},function(d){return Tm(s,o,d)}):pE(s,o,c)}function pE(s,o,c){o.status="fulfilled",o.value=c,mE(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,fE(s,c)))}function Tm(s,o,c){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,mE(o),o=o.next;while(o!==d)}s.action=null}function mE(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function yE(s,o){return o}function vE(s,o){if(Ke){var c=ut.formState;if(c!==null){e:{var d=Pe;if(Ke){if(un){t:{for(var m=un,y=rr;m.nodeType!==8;){if(!y){m=null;break t}if(m=Oi(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){un=Oi(m.nextSibling),d=m.data==="F!";break e}}qa(d)}d=!1}d&&(o=c[0])}}return c=Vn(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yE,lastRenderedState:o},c.queue=d,c=jE.bind(null,Pe,d),d.dispatch=c,d=Sm(!1),y=km.bind(null,Pe,!1,d.queue),d=Vn(),m={state:o,dispatch:null,action:s,pending:null},d.queue=m,c=NN.bind(null,Pe,m,y,c),m.dispatch=c,d.memoizedState=s,[o,c,!1]}function _E(s){var o=jt();return bE(o,at,s)}function bE(s,o,c){o=wm(s,o,yE)[0],s=Dd(jr)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?Qc(o):o;var d=jt(),m=d.queue,y=m.dispatch;return c!==d.memoizedState&&(Pe.flags|=2048,yl(9,MN.bind(null,m,c),{destroy:void 0},null)),[o,y,s]}function MN(s,o){s.action=o}function EE(s){var o=jt(),c=at;if(c!==null)return bE(o,c,s);jt(),o=o.memoizedState,c=jt();var d=c.queue.dispatch;return c.memoizedState=s,[o,d,!1]}function yl(s,o,c,d){return s={tag:s,create:o,inst:c,deps:d,next:null},o=Pe.updateQueue,o===null&&(o=Rd(),Pe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,o.lastEffect=s),s}function wE(){return jt().memoizedState}function Id(s,o,c,d){var m=Vn();Pe.flags|=s,m.memoizedState=yl(1|o,c,{destroy:void 0},d===void 0?null:d)}function kd(s,o,c,d){var m=jt();d=d===void 0?null:d;var y=m.memoizedState.inst;at!==null&&d!==null&&mm(d,at.memoizedState.deps)?m.memoizedState=yl(o,c,y,d):(Pe.flags|=s,m.memoizedState=yl(1|o,c,y,d))}function AE(s,o){Id(8390656,8,s,o)}function xm(s,o){kd(2048,8,s,o)}function SE(s,o){return kd(4,2,s,o)}function TE(s,o){return kd(4,4,s,o)}function xE(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function RE(s,o,c){c=c!=null?c.concat([s]):null,kd(4,4,xE.bind(null,o,s),c)}function Rm(){}function CE(s,o){var c=jt();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&mm(o,d[1])?d[0]:(c.memoizedState=[s,o],s)}function DE(s,o){var c=jt();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&mm(o,d[1]))return d[0];if(d=s(),$a){$i(!0);try{s()}finally{$i(!1)}}return c.memoizedState=[d,o],d}function Cm(s,o,c){return c===void 0||ks&1073741824?s.memoizedState=o:(s.memoizedState=c,s=kw(),Pe.lanes|=s,Bs|=s,c)}function IE(s,o,c,d){return Qn(c,o)?c:dl.current!==null?(s=Cm(s,c,d),Qn(s,o)||(en=!0),s):ks&42?(s=kw(),Pe.lanes|=s,Bs|=s,o):(en=!0,s.memoizedState=c)}function kE(s,o,c,d,m){var y=ue.p;ue.p=y!==0&&8>y?y:8;var x=k.T,D={};k.T=D,km(s,!1,o,c);try{var L=m(),q=k.S;if(q!==null&&q(D,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var te=DN(L,d);Kc(s,o,te,Jn(s))}else Kc(s,o,d,Jn(s))}catch(oe){Kc(s,o,{then:function(){},status:"rejected",reason:oe},Jn())}finally{ue.p=y,k.T=x}}function ON(){}function Dm(s,o,c,d){if(s.tag!==5)throw Error(i(476));var m=NE(s).queue;kE(s,m,o,xe,c===null?ON:function(){return ME(s),c(d)})}function NE(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:xe},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function ME(s){var o=NE(s).next.queue;Kc(s,o,{},Jn())}function Im(){return _n(mu)}function OE(){return jt().memoizedState}function PE(){return jt().memoizedState}function PN(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=Jn();s=Ps(c);var d=js(o,s,c);d!==null&&(On(d,o,c),Jc(d,o,c)),o={cache:fm()},s.payload=o;return}o=o.return}}function jN(s,o,c){var d=Jn();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Nd(s)?LE(o,c):(c=am(s,o,c,d),c!==null&&(On(c,s,d),VE(c,o,d)))}function jE(s,o,c){var d=Jn();Kc(s,o,c,d)}function Kc(s,o,c,d){var m={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Nd(s))LE(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var x=o.lastRenderedState,D=y(x,c);if(m.hasEagerState=!0,m.eagerState=D,Qn(D,x))return pd(s,o,m,0),ut===null&&gd(),!1}catch{}finally{}if(c=am(s,o,m,d),c!==null)return On(c,s,d),VE(c,o,d),!0}return!1}function km(s,o,c,d){if(d={lane:2,revertLane:by(),action:d,hasEagerState:!1,eagerState:null,next:null},Nd(s)){if(o)throw Error(i(479))}else o=am(s,c,d,2),o!==null&&On(o,s,2)}function Nd(s){var o=s.alternate;return s===Pe||o!==null&&o===Pe}function LE(s,o){pl=Td=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function VE(s,o,c){if(c&4194176){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,vs(s,c)}}var ar={readContext:_n,use:Cd,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt};ar.useCacheRefresh=kt,ar.useMemoCache=kt,ar.useHostTransitionStatus=kt,ar.useFormState=kt,ar.useActionState=kt,ar.useOptimistic=kt;var Ya={readContext:_n,use:Cd,useCallback:function(s,o){return Vn().memoizedState=[s,o===void 0?null:o],s},useContext:_n,useEffect:AE,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,Id(4194308,4,xE.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Id(4194308,4,s,o)},useInsertionEffect:function(s,o){Id(4,2,s,o)},useMemo:function(s,o){var c=Vn();o=o===void 0?null:o;var d=s();if($a){$i(!0);try{s()}finally{$i(!1)}}return c.memoizedState=[d,o],d},useReducer:function(s,o,c){var d=Vn();if(c!==void 0){var m=c(o);if($a){$i(!0);try{c(o)}finally{$i(!1)}}}else m=o;return d.memoizedState=d.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},d.queue=s,s=s.dispatch=jN.bind(null,Pe,s),[d.memoizedState,s]},useRef:function(s){var o=Vn();return s={current:s},o.memoizedState=s},useState:function(s){s=Sm(s);var o=s.queue,c=jE.bind(null,Pe,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:Rm,useDeferredValue:function(s,o){var c=Vn();return Cm(c,s,o)},useTransition:function(){var s=Sm(!1);return s=kE.bind(null,Pe,s.queue,!0,!1),Vn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var d=Pe,m=Vn();if(Ke){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),ut===null)throw Error(i(349));Ge&60||oE(d,o,c)}m.memoizedState=c;var y={value:c,getSnapshot:o};return m.queue=y,AE(cE.bind(null,d,y,s),[s]),d.flags|=2048,yl(9,lE.bind(null,d,y,c,o),{destroy:void 0},null),c},useId:function(){var s=Vn(),o=ut.identifierPrefix;if(Ke){var c=Or,d=Mr;c=(d&~(1<<32-In(d)-1)).toString(32)+c,o=":"+o+"R"+c,c=xd++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=IN++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},useCacheRefresh:function(){return Vn().memoizedState=PN.bind(null,Pe)}};Ya.useMemoCache=Em,Ya.useHostTransitionStatus=Im,Ya.useFormState=vE,Ya.useActionState=vE,Ya.useOptimistic=function(s){var o=Vn();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=km.bind(null,Pe,!0,c),c.dispatch=o,[s,o]};var Ns={readContext:_n,use:Cd,useCallback:CE,useContext:_n,useEffect:xm,useImperativeHandle:RE,useInsertionEffect:SE,useLayoutEffect:TE,useMemo:DE,useReducer:Dd,useRef:wE,useState:function(){return Dd(jr)},useDebugValue:Rm,useDeferredValue:function(s,o){var c=jt();return IE(c,at.memoizedState,s,o)},useTransition:function(){var s=Dd(jr)[0],o=jt().memoizedState;return[typeof s=="boolean"?s:Qc(s),o]},useSyncExternalStore:aE,useId:OE};Ns.useCacheRefresh=PE,Ns.useMemoCache=Em,Ns.useHostTransitionStatus=Im,Ns.useFormState=_E,Ns.useActionState=_E,Ns.useOptimistic=function(s,o){var c=jt();return dE(c,at,s,o)};var Qa={readContext:_n,use:Cd,useCallback:CE,useContext:_n,useEffect:xm,useImperativeHandle:RE,useInsertionEffect:SE,useLayoutEffect:TE,useMemo:DE,useReducer:Am,useRef:wE,useState:function(){return Am(jr)},useDebugValue:Rm,useDeferredValue:function(s,o){var c=jt();return at===null?Cm(c,s,o):IE(c,at.memoizedState,s,o)},useTransition:function(){var s=Am(jr)[0],o=jt().memoizedState;return[typeof s=="boolean"?s:Qc(s),o]},useSyncExternalStore:aE,useId:OE};Qa.useCacheRefresh=PE,Qa.useMemoCache=Em,Qa.useHostTransitionStatus=Im,Qa.useFormState=EE,Qa.useActionState=EE,Qa.useOptimistic=function(s,o){var c=jt();return at!==null?dE(c,at,s,o):(c.baseState=s,[s,c.queue.dispatch])};function Nm(s,o,c,d){o=s.memoizedState,c=c(d,o),c=c==null?o:M({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Mm={isMounted:function(s){return(s=s._reactInternals)?fe(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var d=Jn(),m=Ps(d);m.payload=o,c!=null&&(m.callback=c),o=js(s,m,d),o!==null&&(On(o,s,d),Jc(o,s,d))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var d=Jn(),m=Ps(d);m.tag=1,m.payload=o,c!=null&&(m.callback=c),o=js(s,m,d),o!==null&&(On(o,s,d),Jc(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Jn(),d=Ps(c);d.tag=2,o!=null&&(d.callback=o),o=js(s,d,c),o!==null&&(On(o,s,c),Jc(o,s,c))}};function UE(s,o,c,d,m,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,x):o.prototype&&o.prototype.isPureReactComponent?!Lc(c,d)||!Lc(m,y):!0}function zE(s,o,c,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==s&&Mm.enqueueReplaceState(o,o.state,null)}function Ka(s,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(s=s.defaultProps){c===o&&(c=M({},c));for(var m in s)c[m]===void 0&&(c[m]=s[m])}return c}var Md=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function BE(s){Md(s)}function HE(s){console.error(s)}function FE(s){Md(s)}function Od(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function qE(s,o,c){try{var d=s.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Om(s,o,c){return c=Ps(c),c.tag=3,c.payload={element:null},c.callback=function(){Od(s,o)},c}function WE(s){return s=Ps(s),s.tag=3,s}function GE(s,o,c,d){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var y=d.value;s.payload=function(){return m(y)},s.callback=function(){qE(o,c,d)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){qE(o,c,d),typeof m!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var D=d.stack;this.componentDidCatch(d.value,{componentStack:D!==null?D:""})})}function LN(s,o,c,d,m){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&Zc(o,c,m,!0),c=gi.current,c!==null){switch(c.tag){case 13:return sr===null?py():c.alternate===null&&Ct===0&&(Ct=3),c.flags&=-257,c.flags|=65536,c.lanes=m,d===um?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),yy(s,d,m)),!1;case 22:return c.flags|=65536,d===um?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),yy(s,d,m)),!1}throw Error(i(435,c.tag))}return yy(s,d,m),py(),!1}if(Ke)return o=gi.current,o!==null?(!(o.flags&65536)&&(o.flags|=256),o.flags|=65536,o.lanes=m,d!==cm&&(s=Error(i(422),{cause:d}),Bc(hi(s,c)))):(d!==cm&&(o=Error(i(423),{cause:d}),Bc(hi(o,c))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,d=hi(d,c),m=Om(s.stateNode,d,m),Qm(s,m),Ct!==4&&(Ct=2)),!1;var y=Error(i(520),{cause:d});if(y=hi(y,c),ou===null?ou=[y]:ou.push(y),Ct!==4&&(Ct=2),o===null)return!0;d=hi(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=m&-m,c.lanes|=s,s=Om(c.stateNode,d,s),Qm(c,s),!1;case 1:if(o=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hs===null||!Hs.has(y))))return c.flags|=65536,m&=-m,c.lanes|=m,m=WE(m),GE(m,s,c,d),Qm(c,m),!1}c=c.return}while(c!==null);return!1}var $E=Error(i(461)),en=!1;function hn(s,o,c,d){o.child=s===null?Z0(o,null,c,d):Wa(o,s.child,c,d)}function YE(s,o,c,d,m){c=c.render;var y=o.ref;if("ref"in d){var x={};for(var D in d)D!=="ref"&&(x[D]=d[D])}else x=d;return Za(o),d=ym(s,o,c,x,y,m),D=vm(),s!==null&&!en?(_m(s,o,m),Lr(s,o,m)):(Ke&&D&&om(o),o.flags|=1,hn(s,o,d,m),o.child)}function QE(s,o,c,d,m){if(s===null){var y=c.type;return typeof y=="function"&&!iy(y)&&y.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=y,KE(s,o,y,d,m)):(s=Ud(c.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,!Fm(s,m)){var x=y.memoizedProps;if(c=c.compare,c=c!==null?c:Lc,c(x,d)&&s.ref===o.ref)return Lr(s,o,m)}return o.flags|=1,s=zs(y,d),s.ref=o.ref,s.return=o,o.child=s}function KE(s,o,c,d,m){if(s!==null){var y=s.memoizedProps;if(Lc(y,d)&&s.ref===o.ref)if(en=!1,o.pendingProps=d=y,Fm(s,m))s.flags&131072&&(en=!0);else return o.lanes=s.lanes,Lr(s,o,m)}return Pm(s,o,c,d,m)}function XE(s,o,c){var d=o.pendingProps,m=d.children,y=(o.stateNode._pendingVisibility&2)!==0,x=s!==null?s.memoizedState:null;if(Xc(s,o),d.mode==="hidden"||y){if(o.flags&128){if(d=x!==null?x.baseLanes|c:c,s!==null){for(m=o.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;o.childLanes=y&~d}else o.childLanes=0,o.child=null;return ZE(s,o,d,c)}if(c&536870912)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Sd(o,x!==null?x.cachePool:null),x!==null?J0(o,x):hm(),eE(o);else return o.lanes=o.childLanes=536870912,ZE(s,o,x!==null?x.baseLanes|c:c,c)}else x!==null?(Sd(o,x.cachePool),J0(o,x),Is(),o.memoizedState=null):(s!==null&&Sd(o,null),hm(),Is());return hn(s,o,m,c),o.child}function ZE(s,o,c,d){var m=pm();return m=m===null?null:{parent:Gt._currentValue,pool:m},o.memoizedState={baseLanes:c,cachePool:m},s!==null&&Sd(o,null),hm(),eE(o),s!==null&&Zc(s,o,d,!0),null}function Xc(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(o.flags|=2097664)}}function Pm(s,o,c,d,m){return Za(o),c=ym(s,o,c,d,void 0,m),d=vm(),s!==null&&!en?(_m(s,o,m),Lr(s,o,m)):(Ke&&d&&om(o),o.flags|=1,hn(s,o,c,m),o.child)}function JE(s,o,c,d,m,y){return Za(o),o.updateQueue=null,c=sE(o,d,c,m),rE(s),d=vm(),s!==null&&!en?(_m(s,o,y),Lr(s,o,y)):(Ke&&d&&om(o),o.flags|=1,hn(s,o,c,y),o.child)}function ew(s,o,c,d,m){if(Za(o),o.stateNode===null){var y=ll,x=c.contextType;typeof x=="object"&&x!==null&&(y=_n(x)),y=new c(d,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Mm,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=d,y.state=o.memoizedState,y.refs={},$m(o),x=c.contextType,y.context=typeof x=="object"&&x!==null?_n(x):ll,y.state=o.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(Nm(o,c,x,d),y.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&Mm.enqueueReplaceState(y,y.state,null),tu(o,d,y,m),eu(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){y=o.stateNode;var D=o.memoizedProps,L=Ka(c,D);y.props=L;var q=y.context,te=c.contextType;x=ll,typeof te=="object"&&te!==null&&(x=_n(te));var oe=c.getDerivedStateFromProps;te=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||q!==x)&&zE(o,y,d,x),Os=!1;var Q=o.memoizedState;y.state=Q,tu(o,d,y,m),eu(),q=o.memoizedState,D||Q!==q||Os?(typeof oe=="function"&&(Nm(o,c,oe,d),q=o.memoizedState),(L=Os||UE(o,c,L,d,Q,q,x))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=q),y.props=d,y.state=q,y.context=x,d=L):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{y=o.stateNode,Ym(s,o),x=o.memoizedProps,te=Ka(c,x),y.props=te,oe=o.pendingProps,Q=y.context,q=c.contextType,L=ll,typeof q=="object"&&q!==null&&(L=_n(q)),D=c.getDerivedStateFromProps,(q=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==oe||Q!==L)&&zE(o,y,d,L),Os=!1,Q=o.memoizedState,y.state=Q,tu(o,d,y,m),eu();var ee=o.memoizedState;x!==oe||Q!==ee||Os||s!==null&&s.dependencies!==null&&Pd(s.dependencies)?(typeof D=="function"&&(Nm(o,c,D,d),ee=o.memoizedState),(te=Os||UE(o,c,te,d,Q,ee,L)||s!==null&&s.dependencies!==null&&Pd(s.dependencies))?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,ee,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,ee,L)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ee),y.props=d,y.state=ee,y.context=L,d=te):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(o.flags|=1024),d=!1)}return y=d,Xc(s,o),d=(o.flags&128)!==0,y||d?(y=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,s!==null&&d?(o.child=Wa(o,s.child,null,m),o.child=Wa(o,null,c,m)):hn(s,o,c,m),o.memoizedState=y.state,s=o.child):s=Lr(s,o,m),s}function tw(s,o,c,d){return zc(),o.flags|=256,hn(s,o,c,d),o.child}var jm={dehydrated:null,treeContext:null,retryLane:0};function Lm(s){return{baseLanes:s,cachePool:iE()}}function Vm(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=vi),s}function nw(s,o,c){var d=o.pendingProps,m=!1,y=(o.flags&128)!==0,x;if((x=y)||(x=s!==null&&s.memoizedState===null?!1:(Wt.current&2)!==0),x&&(m=!0,o.flags&=-129),x=(o.flags&32)!==0,o.flags&=-33,s===null){if(Ke){if(m?Ds(o):Is(),Ke){var D=un,L;if(L=D){e:{for(L=D,D=rr;L.nodeType!==8;){if(!D){D=null;break e}if(L=Oi(L.nextSibling),L===null){D=null;break e}}D=L}D!==null?(o.memoizedState={dehydrated:D,treeContext:Ha!==null?{id:Mr,overflow:Or}:null,retryLane:536870912},L=yi(18,null,null,0),L.stateNode=D,L.return=o,o.child=L,Mn=o,un=null,L=!0):L=!1}L||qa(o)}if(D=o.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return D.data==="$!"?o.lanes=16:o.lanes=536870912,null;Pr(o)}return D=d.children,d=d.fallback,m?(Is(),m=o.mode,D=zm({mode:"hidden",children:D},m),d=eo(d,m,c,null),D.return=o,d.return=o,D.sibling=d,o.child=D,m=o.child,m.memoizedState=Lm(c),m.childLanes=Vm(s,x,c),o.memoizedState=jm,d):(Ds(o),Um(o,D))}if(L=s.memoizedState,L!==null&&(D=L.dehydrated,D!==null)){if(y)o.flags&256?(Ds(o),o.flags&=-257,o=Bm(s,o,c)):o.memoizedState!==null?(Is(),o.child=s.child,o.flags|=128,o=null):(Is(),m=d.fallback,D=o.mode,d=zm({mode:"visible",children:d.children},D),m=eo(m,D,c,null),m.flags|=2,d.return=o,m.return=o,d.sibling=m,o.child=d,Wa(o,s.child,null,c),d=o.child,d.memoizedState=Lm(c),d.childLanes=Vm(s,x,c),o.memoizedState=jm,o=m);else if(Ds(o),D.data==="$!"){if(x=D.nextSibling&&D.nextSibling.dataset,x)var q=x.dgst;x=q,d=Error(i(419)),d.stack="",d.digest=x,Bc({value:d,source:null,stack:null}),o=Bm(s,o,c)}else if(en||Zc(s,o,c,!1),x=(c&s.childLanes)!==0,en||x){if(x=ut,x!==null){if(d=c&-c,d&42)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=d&(x.suspendedLanes|c)?0:d,d!==0&&d!==L.retryLane)throw L.retryLane=d,Cs(s,d),On(x,s,d),$E}D.data==="$?"||py(),o=Bm(s,o,c)}else D.data==="$?"?(o.flags|=128,o.child=s.child,o=ZN.bind(null,s),D._reactRetry=o,o=null):(s=L.treeContext,un=Oi(D.nextSibling),Mn=o,Ke=!0,Ni=null,rr=!1,s!==null&&(di[fi++]=Mr,di[fi++]=Or,di[fi++]=Ha,Mr=s.id,Or=s.overflow,Ha=o),o=Um(o,d.children),o.flags|=4096);return o}return m?(Is(),m=d.fallback,D=o.mode,L=s.child,q=L.sibling,d=zs(L,{mode:"hidden",children:d.children}),d.subtreeFlags=L.subtreeFlags&31457280,q!==null?m=zs(q,m):(m=eo(m,D,c,null),m.flags|=2),m.return=o,d.return=o,d.sibling=m,o.child=d,d=m,m=o.child,D=s.child.memoizedState,D===null?D=Lm(c):(L=D.cachePool,L!==null?(q=Gt._currentValue,L=L.parent!==q?{parent:q,pool:q}:L):L=iE(),D={baseLanes:D.baseLanes|c,cachePool:L}),m.memoizedState=D,m.childLanes=Vm(s,x,c),o.memoizedState=jm,d):(Ds(o),c=s.child,s=c.sibling,c=zs(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,s!==null&&(x=o.deletions,x===null?(o.deletions=[s],o.flags|=16):x.push(s)),o.child=c,o.memoizedState=null,c)}function Um(s,o){return o=zm({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function zm(s,o){return Cw(s,o,0,null)}function Bm(s,o,c){return Wa(o,s.child,null,c),s=Um(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function iw(s,o,c){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Wm(s.return,o,c)}function Hm(s,o,c,d,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=c,y.tailMode=m)}function rw(s,o,c){var d=o.pendingProps,m=d.revealOrder,y=d.tail;if(hn(s,o,d.children,c),d=Wt.current,d&2)d=d&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&iw(s,c,o);else if(s.tag===19)iw(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(Je(Wt,d),m){case"forwards":for(c=o.child,m=null;c!==null;)s=c.alternate,s!==null&&Ad(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),Hm(o,!1,m,c,y);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Ad(s)===null){o.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}Hm(o,!0,c,null,y);break;case"together":Hm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Lr(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Bs|=o.lanes,!(c&o.childLanes))if(s!==null){if(Zc(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,c=zs(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=zs(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function Fm(s,o){return s.lanes&o?!0:(s=s.dependencies,!!(s!==null&&Pd(s)))}function VN(s,o,c){switch(o.tag){case 3:ct(o,o.stateNode.containerInfo),Ms(o,Gt,s.memoizedState.cache),zc();break;case 27:case 5:ln(o);break;case 4:ct(o,o.stateNode.containerInfo);break;case 10:Ms(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Ds(o),o.flags|=128,null):c&o.child.childLanes?nw(s,o,c):(Ds(o),s=Lr(s,o,c),s!==null?s.sibling:null);Ds(o);break;case 19:var m=(s.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(Zc(s,o,c,!1),d=(c&o.childLanes)!==0),m){if(d)return rw(s,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Je(Wt,Wt.current),d)break;return null;case 22:case 23:return o.lanes=0,XE(s,o,c);case 24:Ms(o,Gt,s.memoizedState.cache)}return Lr(s,o,c)}function sw(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)en=!0;else{if(!Fm(s,c)&&!(o.flags&128))return en=!1,VN(s,o,c);en=!!(s.flags&131072)}else en=!1,Ke&&o.flags&1048576&&F0(o,vd,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var d=o.elementType,m=d._init;if(d=m(d._payload),o.type=d,typeof d=="function")iy(d)?(s=Ka(d,s),o.tag=1,o=ew(null,o,d,s,c)):(o.tag=0,o=Pm(null,o,d,s,c));else{if(d!=null){if(m=d.$$typeof,m===S){o.tag=11,o=YE(null,o,d,s,c);break e}else if(m===C){o.tag=14,o=QE(null,o,d,s,c);break e}}throw o=I(d)||d,Error(i(306,o,""))}}return o;case 0:return Pm(s,o,o.type,o.pendingProps,c);case 1:return d=o.type,m=Ka(d,o.pendingProps),ew(s,o,d,m,c);case 3:e:{if(ct(o,o.stateNode.containerInfo),s===null)throw Error(i(387));var y=o.pendingProps;m=o.memoizedState,d=m.element,Ym(s,o),tu(o,y,null,c);var x=o.memoizedState;if(y=x.cache,Ms(o,Gt,y),y!==m.cache&&Gm(o,[Gt],c,!0),eu(),y=x.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:x.cache},o.updateQueue.baseState=m,o.memoizedState=m,o.flags&256){o=tw(s,o,y,c);break e}else if(y!==d){d=hi(Error(i(424)),o),Bc(d),o=tw(s,o,y,c);break e}else for(un=Oi(o.stateNode.containerInfo.firstChild),Mn=o,Ke=!0,Ni=null,rr=!0,c=Z0(o,null,y,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(zc(),y===d){o=Lr(s,o,c);break e}hn(s,o,y,c)}o=o.child}return o;case 26:return Xc(s,o),s===null?(c=lA(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ke||(c=o.type,s=o.pendingProps,d=Xd(Te.current).createElement(c),d[Xt]=o,d[Ht]=s,dn(d,c,s),bt(d),o.stateNode=d):o.memoizedState=lA(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return ln(o),s===null&&Ke&&(d=o.stateNode=sA(o.type,o.pendingProps,Te.current),Mn=o,rr=!0,un=Oi(d.firstChild)),d=o.pendingProps.children,s!==null||Ke?hn(s,o,d,c):o.child=Wa(o,null,d,c),Xc(s,o),o.child;case 5:return s===null&&Ke&&((m=d=un)&&(d=gM(d,o.type,o.pendingProps,rr),d!==null?(o.stateNode=d,Mn=o,un=Oi(d.firstChild),rr=!1,m=!0):m=!1),m||qa(o)),ln(o),m=o.type,y=o.pendingProps,x=s!==null?s.memoizedProps:null,d=y.children,Dy(m,y)?d=null:x!==null&&Dy(m,x)&&(o.flags|=32),o.memoizedState!==null&&(m=ym(s,o,kN,null,null,c),mu._currentValue=m),Xc(s,o),hn(s,o,d,c),o.child;case 6:return s===null&&Ke&&((s=c=un)&&(c=pM(c,o.pendingProps,rr),c!==null?(o.stateNode=c,Mn=o,un=null,s=!0):s=!1),s||qa(o)),null;case 13:return nw(s,o,c);case 4:return ct(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Wa(o,null,d,c):hn(s,o,d,c),o.child;case 11:return YE(s,o,o.type,o.pendingProps,c);case 7:return hn(s,o,o.pendingProps,c),o.child;case 8:return hn(s,o,o.pendingProps.children,c),o.child;case 12:return hn(s,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,Ms(o,o.type,d.value),hn(s,o,d.children,c),o.child;case 9:return m=o.type._context,d=o.pendingProps.children,Za(o),m=_n(m),d=d(m),o.flags|=1,hn(s,o,d,c),o.child;case 14:return QE(s,o,o.type,o.pendingProps,c);case 15:return KE(s,o,o.type,o.pendingProps,c);case 19:return rw(s,o,c);case 22:return XE(s,o,c);case 24:return Za(o),d=_n(Gt),s===null?(m=pm(),m===null&&(m=ut,y=fm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=c),m=y),o.memoizedState={parent:d,cache:m},$m(o),Ms(o,Gt,m)):(s.lanes&c&&(Ym(s,o),tu(o,null,null,c),eu()),m=s.memoizedState,y=o.memoizedState,m.parent!==d?(m={parent:d,cache:d},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Ms(o,Gt,d)):(d=y.cache,Ms(o,Gt,d),d!==m.cache&&Gm(o,[Gt],c,!0))),hn(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}var qm=Fe(null),Xa=null,Vr=null;function Ms(s,o,c){Je(qm,o._currentValue),o._currentValue=c}function Ur(s){s._currentValue=qm.current,dt(qm)}function Wm(s,o,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===c)break;s=s.return}}function Gm(s,o,c,d){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var x=m.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=m;for(var L=0;L<o.length;L++)if(D.context===o[L]){y.lanes|=c,D=y.alternate,D!==null&&(D.lanes|=c),Wm(y.return,c,s),d||(x=null);break e}y=D.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(i(341));x.lanes|=c,y=x.alternate,y!==null&&(y.lanes|=c),Wm(x,c,s),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===s){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function Zc(s,o,c,d){s=null;for(var m=o,y=!1;m!==null;){if(!y){if(m.flags&524288)y=!0;else if(m.flags&262144)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var D=m.type;Qn(m.pendingProps.value,x.value)||(s!==null?s.push(D):s=[D])}}else if(m===yn.current){if(x=m.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(mu):s=[mu])}m=m.return}s!==null&&Gm(o,s,c,d),o.flags|=262144}function Pd(s){for(s=s.firstContext;s!==null;){if(!Qn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Za(s){Xa=s,Vr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function _n(s){return aw(Xa,s)}function jd(s,o){return Xa===null&&Za(s),aw(s,o)}function aw(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Vr===null){if(s===null)throw Error(i(308));Vr=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Vr=Vr.next=o;return c}var Os=!1;function $m(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ym(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ps(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function js(s,o,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,wt&2){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,o=md(s),B0(s,null,c),o}return pd(s,d,o,c),md(s)}function Jc(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194176)!==0)){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,vs(s,c)}}function Qm(s,o){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?m=y=x:y=y.next=x,c=c.next}while(c!==null);y===null?m=y=o:y=y.next=o}else m=y=o;c={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var Km=!1;function eu(){if(Km){var s=gl;if(s!==null)throw s}}function tu(s,o,c,d){Km=!1;var m=s.updateQueue;Os=!1;var y=m.firstBaseUpdate,x=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var L=D,q=L.next;L.next=null,x===null?y=q:x.next=q,x=L;var te=s.alternate;te!==null&&(te=te.updateQueue,D=te.lastBaseUpdate,D!==x&&(D===null?te.firstBaseUpdate=q:D.next=q,te.lastBaseUpdate=L))}if(y!==null){var oe=m.baseState;x=0,te=q=L=null,D=y;do{var Q=D.lane&-536870913,ee=Q!==D.lane;if(ee?(Ge&Q)===Q:(d&Q)===Q){Q!==0&&Q===fl&&(Km=!0),te!==null&&(te=te.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ve=s,Ne=D;Q=o;var Dt=c;switch(Ne.tag){case 1:if(ve=Ne.payload,typeof ve=="function"){oe=ve.call(Dt,oe,Q);break e}oe=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ne.payload,Q=typeof ve=="function"?ve.call(Dt,oe,Q):ve,Q==null)break e;oe=M({},oe,Q);break e;case 2:Os=!0}}Q=D.callback,Q!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[Q]:ee.push(Q))}else ee={lane:Q,tag:D.tag,payload:D.payload,callback:D.callback,next:null},te===null?(q=te=ee,L=oe):te=te.next=ee,x|=Q;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;ee=D,D=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);te===null&&(L=oe),m.baseState=L,m.firstBaseUpdate=q,m.lastBaseUpdate=te,y===null&&(m.shared.lanes=0),Bs|=x,s.lanes=x,s.memoizedState=oe}}function ow(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function lw(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)ow(c[s],o)}function nu(s,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&s)===s){d=void 0;var y=c.create,x=c.inst;d=y(),x.destroy=d}c=c.next}while(c!==m)}}catch(D){lt(o,o.return,D)}}function Ls(s,o,c){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&s)===s){var x=d.inst,D=x.destroy;if(D!==void 0){x.destroy=void 0,m=o;var L=c;try{D()}catch(q){lt(m,L,q)}}}d=d.next}while(d!==y)}}catch(q){lt(o,o.return,q)}}function cw(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{lw(o,c)}catch(d){lt(s,s.return,d)}}}function uw(s,o,c){c.props=Ka(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(d){lt(s,o,d)}}function Ja(s,o){try{var c=s.ref;if(c!==null){var d=s.stateNode;switch(s.tag){case 26:case 27:case 5:var m=d;break;default:m=d}typeof c=="function"?s.refCleanup=c(m):c.current=m}}catch(y){lt(s,o,y)}}function Kn(s,o){var c=s.ref,d=s.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(m){lt(s,o,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){lt(s,o,m)}else c.current=null}function hw(s){var o=s.type,c=s.memoizedProps,d=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(m){lt(s,s.return,m)}}function dw(s,o,c){try{var d=s.stateNode;cM(d,s.type,c,o),d[Ht]=o}catch(m){lt(s,s.return,m)}}function fw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function Xm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||fw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Zm(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Kd));else if(d!==4&&d!==27&&(s=s.child,s!==null))for(Zm(s,o,c),s=s.sibling;s!==null;)Zm(s,o,c),s=s.sibling}function Ld(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(d!==4&&d!==27&&(s=s.child,s!==null))for(Ld(s,o,c),s=s.sibling;s!==null;)Ld(s,o,c),s=s.sibling}var zr=!1,Rt=!1,Jm=!1,gw=typeof WeakSet=="function"?WeakSet:Set,tn=null,pw=!1;function UN(s,o){if(s=s.containerInfo,Ry=rf,s=N0(s),tm(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var x=0,D=-1,L=-1,q=0,te=0,oe=s,Q=null;t:for(;;){for(var ee;oe!==c||m!==0&&oe.nodeType!==3||(D=x+m),oe!==y||d!==0&&oe.nodeType!==3||(L=x+d),oe.nodeType===3&&(x+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)Q=oe,oe=ee;for(;;){if(oe===s)break t;if(Q===c&&++q===m&&(D=x),Q===y&&++te===d&&(L=x),(ee=oe.nextSibling)!==null)break;oe=Q,Q=oe.parentNode}oe=ee}c=D===-1||L===-1?null:{start:D,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(Cy={focusedElem:s,selectionRange:c},rf=!1,tn=o;tn!==null;)if(o=tn,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,tn=s;else for(;tn!==null;){switch(o=tn,y=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&y!==null){s=void 0,c=o,m=y.memoizedProps,y=y.memoizedState,d=c.stateNode;try{var ve=Ka(c.type,m,c.elementType===c.type);s=d.getSnapshotBeforeUpdate(ve,y),d.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){lt(c,c.return,Ne)}}break;case 3:if(s&1024){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)Ny(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ny(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,tn=s;break}tn=o.return}return ve=pw,pw=!1,ve}function mw(s,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Hr(s,c),d&4&&nu(5,c);break;case 1:if(Hr(s,c),d&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(D){lt(c,c.return,D)}else{var m=Ka(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(m,o,s.__reactInternalSnapshotBeforeUpdate)}catch(D){lt(c,c.return,D)}}d&64&&cw(c),d&512&&Ja(c,c.return);break;case 3:if(Hr(s,c),d&64&&(d=c.updateQueue,d!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{lw(d,s)}catch(D){lt(c,c.return,D)}}break;case 26:Hr(s,c),d&512&&Ja(c,c.return);break;case 27:case 5:Hr(s,c),o===null&&d&4&&hw(c),d&512&&Ja(c,c.return);break;case 12:Hr(s,c);break;case 13:Hr(s,c),d&4&&_w(s,c);break;case 22:if(m=c.memoizedState!==null||zr,!m){o=o!==null&&o.memoizedState!==null||Rt;var y=zr,x=Rt;zr=m,(Rt=o)&&!x?Vs(s,c,(c.subtreeFlags&8772)!==0):Hr(s,c),zr=y,Rt=x}d&512&&(c.memoizedProps.mode==="manual"?Ja(c,c.return):Kn(c,c.return));break;default:Hr(s,c)}}function yw(s){var o=s.alternate;o!==null&&(s.alternate=null,yw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Da(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Lt=null,Xn=!1;function Br(s,o,c){for(c=c.child;c!==null;)vw(s,o,c),c=c.sibling}function vw(s,o,c){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(fs,c)}catch{}switch(c.tag){case 26:Rt||Kn(c,o),Br(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Rt||Kn(c,o);var d=Lt,m=Xn;for(Lt=c.stateNode,Br(s,o,c),c=c.stateNode,o=c.attributes;o.length;)c.removeAttributeNode(o[0]);Da(c),Lt=d,Xn=m;break;case 5:Rt||Kn(c,o);case 6:m=Lt;var y=Xn;if(Lt=null,Br(s,o,c),Lt=m,Xn=y,Lt!==null)if(Xn)try{s=Lt,d=c.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)}catch(x){lt(c,o,x)}else try{Lt.removeChild(c.stateNode)}catch(x){lt(c,o,x)}break;case 18:Lt!==null&&(Xn?(o=Lt,c=c.stateNode,o.nodeType===8?ky(o.parentNode,c):o.nodeType===1&&ky(o,c),bu(o)):ky(Lt,c.stateNode));break;case 4:d=Lt,m=Xn,Lt=c.stateNode.containerInfo,Xn=!0,Br(s,o,c),Lt=d,Xn=m;break;case 0:case 11:case 14:case 15:Rt||Ls(2,c,o),Rt||Ls(4,c,o),Br(s,o,c);break;case 1:Rt||(Kn(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&uw(c,o,d)),Br(s,o,c);break;case 21:Br(s,o,c);break;case 22:Rt||Kn(c,o),Rt=(d=Rt)||c.memoizedState!==null,Br(s,o,c),Rt=d;break;default:Br(s,o,c)}}function _w(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{bu(s)}catch(c){lt(o,o.return,c)}}function zN(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new gw),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new gw),o;default:throw Error(i(435,s.tag))}}function ey(s,o){var c=zN(s);o.forEach(function(d){var m=JN.bind(null,s,d);c.has(d)||(c.add(d),d.then(m,m))})}function pi(s,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var m=c[d],y=s,x=o,D=x;e:for(;D!==null;){switch(D.tag){case 27:case 5:Lt=D.stateNode,Xn=!1;break e;case 3:Lt=D.stateNode.containerInfo,Xn=!0;break e;case 4:Lt=D.stateNode.containerInfo,Xn=!0;break e}D=D.return}if(Lt===null)throw Error(i(160));vw(y,x,m),Lt=null,Xn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)bw(o,s),o=o.sibling}var Mi=null;function bw(s,o){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:pi(o,s),mi(s),d&4&&(Ls(3,s,s.return),nu(3,s),Ls(5,s,s.return));break;case 1:pi(o,s),mi(s),d&512&&(Rt||c===null||Kn(c,c.return)),d&64&&zr&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var m=Mi;if(pi(o,s),mi(s),d&512&&(Rt||c===null||Kn(c,c.return)),d&4){var y=c!==null?c.memoizedState:null;if(d=s.memoizedState,c===null)if(d===null)if(s.stateNode===null){e:{d=s.type,c=s.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":y=m.getElementsByTagName("title")[0],(!y||y[bs]||y[Xt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(d),m.head.insertBefore(y,m.querySelector("head > title"))),dn(y,d,c),y[Xt]=s,bt(y),d=y;break e;case"link":var x=hA("link","href",m).get(d+(c.href||""));if(x){for(var D=0;D<x.length;D++)if(y=x[D],y.getAttribute("href")===(c.href==null?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(D,1);break t}}y=m.createElement(d),dn(y,d,c),m.head.appendChild(y);break;case"meta":if(x=hA("meta","content",m).get(d+(c.content||""))){for(D=0;D<x.length;D++)if(y=x[D],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(D,1);break t}}y=m.createElement(d),dn(y,d,c),m.head.appendChild(y);break;default:throw Error(i(468,d))}y[Xt]=s,bt(y),d=y}s.stateNode=d}else dA(m,s.type,s.stateNode);else s.stateNode=uA(m,d,s.memoizedProps);else y!==d?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,d===null?dA(m,s.type,s.stateNode):uA(m,d,s.memoizedProps)):d===null&&s.stateNode!==null&&dw(s,s.memoizedProps,c.memoizedProps)}break;case 27:if(d&4&&s.alternate===null){m=s.stateNode,y=s.memoizedProps;try{for(var L=m.firstChild;L;){var q=L.nextSibling,te=L.nodeName;L[bs]||te==="HEAD"||te==="BODY"||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&L.rel.toLowerCase()==="stylesheet"||m.removeChild(L),L=q}for(var oe=s.type,Q=m.attributes;Q.length;)m.removeAttributeNode(Q[0]);dn(m,oe,y),m[Xt]=s,m[Ht]=y}catch(ve){lt(s,s.return,ve)}}case 5:if(pi(o,s),mi(s),d&512&&(Rt||c===null||Kn(c,c.return)),s.flags&32){m=s.stateNode;try{ai(m,"")}catch(ve){lt(s,s.return,ve)}}d&4&&s.stateNode!=null&&(m=s.memoizedProps,dw(s,m,c!==null?c.memoizedProps:m)),d&1024&&(Jm=!0);break;case 6:if(pi(o,s),mi(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,c=s.stateNode;try{c.nodeValue=d}catch(ve){lt(s,s.return,ve)}}break;case 3:if(ef=null,m=Mi,Mi=Zd(o.containerInfo),pi(o,s),Mi=m,mi(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{bu(o.containerInfo)}catch(ve){lt(s,s.return,ve)}Jm&&(Jm=!1,Ew(s));break;case 4:d=Mi,Mi=Zd(s.stateNode.containerInfo),pi(o,s),mi(s),Mi=d;break;case 12:pi(o,s),mi(s);break;case 13:pi(o,s),mi(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(cy=jn()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,ey(s,d)));break;case 22:if(d&512&&(Rt||c===null||Kn(c,c.return)),L=s.memoizedState!==null,q=c!==null&&c.memoizedState!==null,te=zr,oe=Rt,zr=te||L,Rt=oe||q,pi(o,s),Rt=oe,zr=te,mi(s),o=s.stateNode,o._current=s,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,d&8192&&(o._visibility=L?o._visibility&-2:o._visibility|1,L&&(o=zr||Rt,c===null||q||o||vl(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(c=null,o=s;;){if(o.tag===5||o.tag===26||o.tag===27){if(c===null){q=c=o;try{if(m=q.stateNode,L)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{x=q.stateNode,D=q.memoizedProps.style;var ee=D!=null&&D.hasOwnProperty("display")?D.display:null;x.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ve){lt(q,q.return,ve)}}}else if(o.tag===6){if(c===null){q=o;try{q.stateNode.nodeValue=L?"":q.memoizedProps}catch(ve){lt(q,q.return,ve)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,ey(s,c))));break;case 19:pi(o,s),mi(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,ey(s,d)));break;case 21:break;default:pi(o,s),mi(s)}}function mi(s){var o=s.flags;if(o&2){try{if(s.tag!==27){e:{for(var c=s.return;c!==null;){if(fw(c)){var d=c;break e}c=c.return}throw Error(i(160))}switch(d.tag){case 27:var m=d.stateNode,y=Xm(s);Ld(s,y,m);break;case 5:var x=d.stateNode;d.flags&32&&(ai(x,""),d.flags&=-33);var D=Xm(s);Ld(s,D,x);break;case 3:case 4:var L=d.stateNode.containerInfo,q=Xm(s);Zm(s,q,L);break;default:throw Error(i(161))}}}catch(te){lt(s,s.return,te)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Ew(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Ew(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Hr(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)mw(s,o.alternate,o),o=o.sibling}function vl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ls(4,o,o.return),vl(o);break;case 1:Kn(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&uw(o,o.return,c),vl(o);break;case 26:case 27:case 5:Kn(o,o.return),vl(o);break;case 22:Kn(o,o.return),o.memoizedState===null&&vl(o);break;default:vl(o)}s=s.sibling}}function Vs(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,m=s,y=o,x=y.flags;switch(y.tag){case 0:case 11:case 15:Vs(m,y,c),nu(4,y);break;case 1:if(Vs(m,y,c),d=y,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){lt(d,d.return,q)}if(d=y,m=d.updateQueue,m!==null){var D=d.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)ow(L[m],D)}catch(q){lt(d,d.return,q)}}c&&x&64&&cw(y),Ja(y,y.return);break;case 26:case 27:case 5:Vs(m,y,c),c&&d===null&&x&4&&hw(y),Ja(y,y.return);break;case 12:Vs(m,y,c);break;case 13:Vs(m,y,c),c&&x&4&&_w(m,y);break;case 22:y.memoizedState===null&&Vs(m,y,c),Ja(y,y.return);break;default:Vs(m,y,c)}o=o.sibling}}function ty(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Gc(c))}function ny(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Gc(s))}function Us(s,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ww(s,o,c,d),o=o.sibling}function ww(s,o,c,d){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Us(s,o,c,d),m&2048&&nu(9,o);break;case 3:Us(s,o,c,d),m&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Gc(s)));break;case 12:if(m&2048){Us(s,o,c,d),s=o.stateNode;try{var y=o.memoizedProps,x=y.id,D=y.onPostCommit;typeof D=="function"&&D(x,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){lt(o,o.return,L)}}else Us(s,o,c,d);break;case 23:break;case 22:y=o.stateNode,o.memoizedState!==null?y._visibility&4?Us(s,o,c,d):iu(s,o):y._visibility&4?Us(s,o,c,d):(y._visibility|=4,_l(s,o,c,d,(o.subtreeFlags&10256)!==0)),m&2048&&ty(o.alternate,o);break;case 24:Us(s,o,c,d),m&2048&&ny(o.alternate,o);break;default:Us(s,o,c,d)}}function _l(s,o,c,d,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=s,x=o,D=c,L=d,q=x.flags;switch(x.tag){case 0:case 11:case 15:_l(y,x,D,L,m),nu(8,x);break;case 23:break;case 22:var te=x.stateNode;x.memoizedState!==null?te._visibility&4?_l(y,x,D,L,m):iu(y,x):(te._visibility|=4,_l(y,x,D,L,m)),m&&q&2048&&ty(x.alternate,x);break;case 24:_l(y,x,D,L,m),m&&q&2048&&ny(x.alternate,x);break;default:_l(y,x,D,L,m)}o=o.sibling}}function iu(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,d=o,m=d.flags;switch(d.tag){case 22:iu(c,d),m&2048&&ty(d.alternate,d);break;case 24:iu(c,d),m&2048&&ny(d.alternate,d);break;default:iu(c,d)}o=o.sibling}}var ru=8192;function bl(s){if(s.subtreeFlags&ru)for(s=s.child;s!==null;)Aw(s),s=s.sibling}function Aw(s){switch(s.tag){case 26:bl(s),s.flags&ru&&s.memoizedState!==null&&CM(Mi,s.memoizedState,s.memoizedProps);break;case 5:bl(s);break;case 3:case 4:var o=Mi;Mi=Zd(s.stateNode.containerInfo),bl(s),Mi=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=ru,ru=16777216,bl(s),ru=o):bl(s));break;default:bl(s)}}function Sw(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function su(s){var o=s.deletions;if(s.flags&16){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];tn=d,xw(d,s)}Sw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Tw(s),s=s.sibling}function Tw(s){switch(s.tag){case 0:case 11:case 15:su(s),s.flags&2048&&Ls(9,s,s.return);break;case 3:su(s);break;case 12:su(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&4&&(s.return===null||s.return.tag!==13)?(o._visibility&=-5,Vd(s)):su(s);break;default:su(s)}}function Vd(s){var o=s.deletions;if(s.flags&16){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];tn=d,xw(d,s)}Sw(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ls(8,o,o.return),Vd(o);break;case 22:c=o.stateNode,c._visibility&4&&(c._visibility&=-5,Vd(o));break;default:Vd(o)}s=s.sibling}}function xw(s,o){for(;tn!==null;){var c=tn;switch(c.tag){case 0:case 11:case 15:Ls(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Gc(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,tn=d;else e:for(c=s;tn!==null;){d=tn;var m=d.sibling,y=d.return;if(yw(d),d===c){tn=null;break e}if(m!==null){m.return=y,tn=m;break e}tn=y}}}function BN(s,o,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yi(s,o,c,d){return new BN(s,o,c,d)}function iy(s){return s=s.prototype,!(!s||!s.isReactComponent)}function zs(s,o){var c=s.alternate;return c===null?(c=yi(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&31457280,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Rw(s,o){s.flags&=31457282;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Ud(s,o,c,d,m,y){var x=0;if(d=s,typeof s=="function")iy(s)&&(x=1);else if(typeof s=="string")x=xM(s,c,on.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case h:return eo(c.children,m,y,o);case f:x=8,m|=24;break;case p:return s=yi(12,c,o,m|2),s.elementType=p,s.lanes=y,s;case R:return s=yi(13,c,o,m),s.elementType=R,s.lanes=y,s;case T:return s=yi(19,c,o,m),s.elementType=T,s.lanes=y,s;case B:return Cw(c,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case v:case b:x=10;break e;case _:x=9;break e;case S:x=11;break e;case C:x=14;break e;case P:x=16,d=null;break e}x=29,c=Error(i(130,s===null?"null":typeof s,"")),d=null}return o=yi(x,c,o,m),o.elementType=s,o.type=d,o.lanes=y,o}function eo(s,o,c,d){return s=yi(7,s,d,o),s.lanes=c,s}function Cw(s,o,c,d){s=yi(22,s,d,o),s.elementType=B,s.lanes=c;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(i(456));if(!(m._pendingVisibility&2)){var x=Cs(y,2);x!==null&&(m._pendingVisibility|=2,On(x,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(i(456));if(m._pendingVisibility&2){var x=Cs(y,2);x!==null&&(m._pendingVisibility&=-3,On(x,y,2))}}};return s.stateNode=m,s}function ry(s,o,c){return s=yi(6,s,null,o),s.lanes=c,s}function sy(s,o,c){return o=yi(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Fr(s){s.flags|=4}function Dw(s,o){if(o.type!=="stylesheet"||o.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!fA(o)){if(o=gi.current,o!==null&&((Ge&4194176)===Ge?sr!==null:(Ge&62914560)!==Ge&&!(Ge&536870912)||o!==sr))throw Fc=um,G0;s.flags|=8192}}function zd(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?ms():536870912,s.lanes|=o,wl|=o)}function au(s,o){if(!Ke)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Et(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(o)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags&31457280,d|=m.flags&31457280,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=c,o}function HN(s,o,c){var d=o.pendingProps;switch(lm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(o),null;case 1:return Et(o),null;case 3:return c=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ur(Gt),ft(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Uc(o)?Fr(o):s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Ni!==null&&(fy(Ni),Ni=null))),Et(o),null;case 26:return c=o.memoizedState,s===null?(Fr(o),c!==null?(Et(o),Dw(o,c)):(Et(o),o.flags&=-16777217)):c?c!==s.memoizedState?(Fr(o),Et(o),Dw(o,c)):(Et(o),o.flags&=-16777217):(s.memoizedProps!==d&&Fr(o),Et(o),o.flags&=-16777217),null;case 27:Wi(o),c=Te.current;var m=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Fr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Et(o),null}s=on.current,Uc(o)?q0(o):(s=sA(m,d,c),o.stateNode=s,Fr(o))}return Et(o),null;case 5:if(Wi(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Fr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Et(o),null}if(s=on.current,Uc(o))q0(o);else{switch(m=Xd(Te.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?m.createElement(c,{is:d.is}):m.createElement(c)}}s[Xt]=o,s[Ht]=d;e:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break e;for(;m.sibling===null;){if(m.return===null||m.return===o)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=s;e:switch(dn(s,c,d),c){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Fr(o)}}return Et(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&Fr(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(s=Te.current,Uc(o)){if(s=o.stateNode,c=o.memoizedProps,d=null,m=Mn,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}s[Xt]=o,s=!!(s.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||Jw(s.nodeValue,c)),s||qa(o)}else s=Xd(s).createTextNode(d),s[Xt]=o,o.stateNode=s}return Et(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Uc(o),d!==null&&d.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Xt]=o}else zc(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Et(o),m=!1}else Ni!==null&&(fy(Ni),Ni=null),m=!0;if(!m)return o.flags&256?(Pr(o),o):(Pr(o),null)}if(Pr(o),o.flags&128)return o.lanes=c,o;if(c=d!==null,s=s!==null&&s.memoizedState!==null,c){d=o.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),zd(o,o.updateQueue),Et(o),null;case 4:return ft(),s===null&&Sy(o.stateNode.containerInfo),Et(o),null;case 10:return Ur(o.type),Et(o),null;case 19:if(dt(Wt),m=o.memoizedState,m===null)return Et(o),null;if(d=(o.flags&128)!==0,y=m.rendering,y===null)if(d)au(m,!1);else{if(Ct!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(y=Ad(s),y!==null){for(o.flags|=128,au(m,!1),s=y.updateQueue,o.updateQueue=s,zd(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)Rw(c,s),c=c.sibling;return Je(Wt,Wt.current&1|2),o.child}s=s.sibling}m.tail!==null&&jn()>Bd&&(o.flags|=128,d=!0,au(m,!1),o.lanes=4194304)}else{if(!d)if(s=Ad(y),s!==null){if(o.flags|=128,d=!0,s=s.updateQueue,o.updateQueue=s,zd(o,s),au(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ke)return Et(o),null}else 2*jn()-m.renderingStartTime>Bd&&c!==536870912&&(o.flags|=128,d=!0,au(m,!1),o.lanes=4194304);m.isBackwards?(y.sibling=o.child,o.child=y):(s=m.last,s!==null?s.sibling=y:o.child=y,m.last=y)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=jn(),o.sibling=null,s=Wt.current,Je(Wt,d?s&1|2:s&1),o):(Et(o),null);case 22:case 23:return Pr(o),dm(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?c&536870912&&!(o.flags&128)&&(Et(o),o.subtreeFlags&6&&(o.flags|=8192)):Et(o),c=o.updateQueue,c!==null&&zd(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),s!==null&&dt(Ga),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ur(Gt),Et(o),null;case 25:return null}throw Error(i(156,o.tag))}function FN(s,o){switch(lm(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ur(Gt),ft(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Wi(o),null;case 13:if(Pr(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));zc()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return dt(Wt),null;case 4:return ft(),null;case 10:return Ur(o.type),null;case 22:case 23:return Pr(o),dm(),s!==null&&dt(Ga),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Ur(Gt),null;case 25:return null;default:return null}}function Iw(s,o){switch(lm(o),o.tag){case 3:Ur(Gt),ft();break;case 26:case 27:case 5:Wi(o);break;case 4:ft();break;case 13:Pr(o);break;case 19:dt(Wt);break;case 10:Ur(o.type);break;case 22:case 23:Pr(o),dm(),s!==null&&dt(Ga);break;case 24:Ur(Gt)}}var qN={getCacheForType:function(s){var o=_n(Gt),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},WN=typeof WeakMap=="function"?WeakMap:Map,wt=0,ut=null,Ve=null,Ge=0,ht=0,Zn=null,qr=!1,El=!1,ay=!1,Wr=0,Ct=0,Bs=0,to=0,oy=0,vi=0,wl=0,ou=null,or=null,ly=!1,cy=0,Bd=1/0,Hd=null,Hs=null,Fd=!1,no=null,lu=0,uy=0,hy=null,cu=0,dy=null;function Jn(){if(wt&2&&Ge!==0)return Ge&-Ge;if(k.T!==null){var s=fl;return s!==0?s:by()}return Qh()}function kw(){vi===0&&(vi=!(Ge&536870912)||Ke?Ec():536870912);var s=gi.current;return s!==null&&(s.flags|=32),vi}function On(s,o,c){(s===ut&&ht===2||s.cancelPendingCommit!==null)&&(Al(s,0),Gr(s,Ge,vi,!1)),It(s,c),(!(wt&2)||s!==ut)&&(s===ut&&(!(wt&2)&&(to|=c),Ct===4&&Gr(s,Ge,vi,!1)),lr(s))}function Nw(s,o,c){if(wt&6)throw Error(i(327));var d=!c&&(o&60)===0&&(o&s.expiredLanes)===0||ps(s,o),m=d?YN(s,o):my(s,o,!0),y=d;do{if(m===0){El&&!d&&Gr(s,o,0,!1);break}else if(m===6)Gr(s,o,0,!qr);else{if(c=s.current.alternate,y&&!GN(c)){m=my(s,o,!1),y=!1;continue}if(m===2){if(y=o,s.errorRecoveryDisabledLanes&y)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){o=x;e:{var D=s;m=ou;var L=D.current.memoizedState.isDehydrated;if(L&&(Al(D,x).flags|=256),x=my(D,x,!1),x!==2){if(ay&&!L){D.errorRecoveryDisabledLanes|=y,to|=y,m=4;break e}y=or,or=m,y!==null&&fy(y)}m=x}if(y=!1,m!==2)continue}}if(m===1){Al(s,0),Gr(s,o,0,!0);break}e:{switch(d=s,m){case 0:case 1:throw Error(i(345));case 4:if((o&4194176)===o){Gr(d,o,vi,!qr);break e}break;case 2:or=null;break;case 3:case 5:break;default:throw Error(i(329))}if(d.finishedWork=c,d.finishedLanes=o,(o&62914560)===o&&(y=cy+300-jn(),10<y)){if(Gr(d,o,vi,!qr),ri(d,0)!==0)break e;d.timeoutHandle=nA(Mw.bind(null,d,c,or,Hd,ly,o,vi,to,wl,qr,2,-0,0),y);break e}Mw(d,c,or,Hd,ly,o,vi,to,wl,qr,0,-0,0)}}break}while(!0);lr(s)}function fy(s){or===null?or=s:or.push.apply(or,s)}function Mw(s,o,c,d,m,y,x,D,L,q,te,oe,Q){var ee=o.subtreeFlags;if((ee&8192||(ee&16785408)===16785408)&&(pu={stylesheets:null,count:0,unsuspend:RM},Aw(o),o=DM(),o!==null)){s.cancelPendingCommit=o(zw.bind(null,s,c,d,m,x,D,L,1,oe,Q)),Gr(s,y,x,!q);return}zw(s,c,d,m,x,D,L,te,oe,Q)}function GN(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var m=c[d],y=m.getSnapshot;m=m.value;try{if(!Qn(y(),m))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Gr(s,o,c,d){o&=~oy,o&=~to,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var m=o;0<m;){var y=31-In(m),x=1<<y;d[y]=-1,m&=~x}c!==0&&ys(s,c,o)}function qd(){return wt&6?!0:(uu(0),!1)}function gy(){if(Ve!==null){if(ht===0)var s=Ve.return;else s=Ve,Vr=Xa=null,bm(s),hl=null,qc=0,s=Ve;for(;s!==null;)Iw(s.alternate,s),s=s.return;Ve=null}}function Al(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,hM(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),gy(),ut=s,Ve=c=zs(s.current,null),Ge=o,ht=0,Zn=null,qr=!1,El=ps(s,o),ay=!1,wl=vi=oy=to=Bs=Ct=0,or=ou=null,ly=!1,o&8&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var m=31-In(d),y=1<<m;o|=s[m],d&=~y}return Wr=o,gd(),c}function Ow(s,o){Pe=null,k.H=ar,o===Hc?(o=Q0(),ht=3):o===G0?(o=Q0(),ht=4):ht=o===$E?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Zn=o,Ve===null&&(Ct=1,Od(s,hi(o,s.current)))}function Pw(){var s=k.H;return k.H=ar,s===null?ar:s}function jw(){var s=k.A;return k.A=qN,s}function py(){Ct=4,qr||(Ge&4194176)!==Ge&&gi.current!==null||(El=!0),!(Bs&134217727)&&!(to&134217727)||ut===null||Gr(ut,Ge,vi,!1)}function my(s,o,c){var d=wt;wt|=2;var m=Pw(),y=jw();(ut!==s||Ge!==o)&&(Hd=null,Al(s,o)),o=!1;var x=Ct;e:do try{if(ht!==0&&Ve!==null){var D=Ve,L=Zn;switch(ht){case 8:gy(),x=6;break e;case 3:case 2:case 6:gi.current===null&&(o=!0);var q=ht;if(ht=0,Zn=null,Sl(s,D,L,q),c&&El){x=0;break e}break;default:q=ht,ht=0,Zn=null,Sl(s,D,L,q)}}$N(),x=Ct;break}catch(te){Ow(s,te)}while(!0);return o&&s.shellSuspendCounter++,Vr=Xa=null,wt=d,k.H=m,k.A=y,Ve===null&&(ut=null,Ge=0,gd()),x}function $N(){for(;Ve!==null;)Lw(Ve)}function YN(s,o){var c=wt;wt|=2;var d=Pw(),m=jw();ut!==s||Ge!==o?(Hd=null,Bd=jn()+500,Al(s,o)):El=ps(s,o);e:do try{if(ht!==0&&Ve!==null){o=Ve;var y=Zn;t:switch(ht){case 1:ht=0,Zn=null,Sl(s,o,y,1);break;case 2:if($0(y)){ht=0,Zn=null,Vw(o);break}o=function(){ht===2&&ut===s&&(ht=7),lr(s)},y.then(o,o);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:$0(y)?(ht=0,Zn=null,Vw(o)):(ht=0,Zn=null,Sl(s,o,y,7));break;case 5:var x=null;switch(Ve.tag){case 26:x=Ve.memoizedState;case 5:case 27:var D=Ve;if(!x||fA(x)){ht=0,Zn=null;var L=D.sibling;if(L!==null)Ve=L;else{var q=D.return;q!==null?(Ve=q,Wd(q)):Ve=null}break t}}ht=0,Zn=null,Sl(s,o,y,5);break;case 6:ht=0,Zn=null,Sl(s,o,y,6);break;case 8:gy(),Ct=6;break e;default:throw Error(i(462))}}QN();break}catch(te){Ow(s,te)}while(!0);return Vr=Xa=null,k.H=d,k.A=m,wt=c,Ve!==null?0:(ut=null,Ge=0,gd(),Ct)}function QN(){for(;Ve!==null&&!qp();)Lw(Ve)}function Lw(s){var o=sw(s.alternate,s,Wr);s.memoizedProps=s.pendingProps,o===null?Wd(s):Ve=o}function Vw(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=JE(c,o,o.pendingProps,o.type,void 0,Ge);break;case 11:o=JE(c,o,o.pendingProps,o.type.render,o.ref,Ge);break;case 5:bm(o);default:Iw(c,o),o=Ve=Rw(o,Wr),o=sw(c,o,Wr)}s.memoizedProps=s.pendingProps,o===null?Wd(s):Ve=o}function Sl(s,o,c,d){Vr=Xa=null,bm(o),hl=null,qc=0;var m=o.return;try{if(LN(s,m,o,c,Ge)){Ct=1,Od(s,hi(c,s.current)),Ve=null;return}}catch(y){if(m!==null)throw Ve=m,y;Ct=1,Od(s,hi(c,s.current)),Ve=null;return}o.flags&32768?(Ke||d===1?s=!0:El||Ge&536870912?s=!1:(qr=s=!0,(d===2||d===3||d===6)&&(d=gi.current,d!==null&&d.tag===13&&(d.flags|=16384))),Uw(o,s)):Wd(o)}function Wd(s){var o=s;do{if(o.flags&32768){Uw(o,qr);return}s=o.return;var c=HN(o.alternate,o,Wr);if(c!==null){Ve=c;return}if(o=o.sibling,o!==null){Ve=o;return}Ve=o=s}while(o!==null);Ct===0&&(Ct=5)}function Uw(s,o){do{var c=FN(s.alternate,s);if(c!==null){c.flags&=32767,Ve=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){Ve=s;return}Ve=s=c}while(s!==null);Ct=6,Ve=null}function zw(s,o,c,d,m,y,x,D,L,q){var te=k.T,oe=ue.p;try{ue.p=2,k.T=null,KN(s,o,c,d,oe,m,y,x,D,L,q)}finally{k.T=te,ue.p=oe}}function KN(s,o,c,d,m,y,x,D){do Tl();while(no!==null);if(wt&6)throw Error(i(327));var L=s.finishedWork;if(d=s.finishedLanes,L===null)return null;if(s.finishedWork=null,s.finishedLanes=0,L===s.current)throw Error(i(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var q=L.lanes|L.childLanes;if(q|=sm,$h(s,d,q,y,x,D),s===ut&&(Ve=ut=null,Ge=0),!(L.subtreeFlags&10256)&&!(L.flags&10256)||Fd||(Fd=!0,uy=q,hy=c,eM(Ar,function(){return Tl(),null})),c=(L.flags&15990)!==0,L.subtreeFlags&15990||c?(c=k.T,k.T=null,y=ue.p,ue.p=2,x=wt,wt|=4,UN(s,L),bw(L,s),bN(Cy,s.containerInfo),rf=!!Ry,Cy=Ry=null,s.current=L,mw(s,L.alternate,L),yc(),wt=x,ue.p=y,k.T=c):s.current=L,Fd?(Fd=!1,no=s,lu=d):Bw(s,q),q=s.pendingLanes,q===0&&(Hs=null),_c(L.stateNode),lr(s),o!==null)for(m=s.onRecoverableError,L=0;L<o.length;L++)q=o[L],m(q.value,{componentStack:q.stack});return lu&3&&Tl(),q=s.pendingLanes,d&4194218&&q&42?s===dy?cu++:(cu=0,dy=s):cu=0,uu(0),null}function Bw(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Gc(o)))}function Tl(){if(no!==null){var s=no,o=uy;uy=0;var c=Yh(lu),d=k.T,m=ue.p;try{if(ue.p=32>c?32:c,k.T=null,no===null)var y=!1;else{c=hy,hy=null;var x=no,D=lu;if(no=null,lu=0,wt&6)throw Error(i(331));var L=wt;if(wt|=4,Tw(x.current),ww(x,x.current,D,c),wt=L,uu(0,!1),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(fs,x)}catch{}y=!0}return y}finally{ue.p=m,k.T=d,Bw(s,o)}}return!1}function Hw(s,o,c){o=hi(c,o),o=Om(s.stateNode,o,2),s=js(s,o,2),s!==null&&(It(s,2),lr(s))}function lt(s,o,c){if(s.tag===3)Hw(s,s,c);else for(;o!==null;){if(o.tag===3){Hw(o,s,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Hs===null||!Hs.has(d))){s=hi(c,s),c=WE(2),d=js(o,c,2),d!==null&&(GE(c,d,o,s),It(d,2),lr(d));break}}o=o.return}}function yy(s,o,c){var d=s.pingCache;if(d===null){d=s.pingCache=new WN;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(c)||(ay=!0,m.add(c),s=XN.bind(null,s,o,c),o.then(s,s))}function XN(s,o,c){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,ut===s&&(Ge&c)===c&&(Ct===4||Ct===3&&(Ge&62914560)===Ge&&300>jn()-cy?!(wt&2)&&Al(s,0):oy|=c,wl===Ge&&(wl=0)),lr(s)}function Fw(s,o){o===0&&(o=ms()),s=Cs(s,o),s!==null&&(It(s,o),lr(s))}function ZN(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Fw(s,c)}function JN(s,o){var c=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),Fw(s,c)}function eM(s,o){return wr(s,o)}var Gd=null,xl=null,vy=!1,$d=!1,_y=!1,io=0;function lr(s){s!==xl&&s.next===null&&(xl===null?Gd=xl=s:xl=xl.next=s),$d=!0,vy||(vy=!0,nM(tM))}function uu(s,o){if(!_y&&$d){_y=!0;do for(var c=!1,d=Gd;d!==null;){if(s!==0){var m=d.pendingLanes;if(m===0)var y=0;else{var x=d.suspendedLanes,D=d.pingedLanes;y=(1<<31-In(42|s)+1)-1,y&=m&~(x&~D),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(c=!0,Gw(d,y))}else y=Ge,y=ri(d,d===ut?y:0),!(y&3)||ps(d,y)||(c=!0,Gw(d,y));d=d.next}while(c);_y=!1}}function tM(){$d=vy=!1;var s=0;io!==0&&(uM()&&(s=io),io=0);for(var o=jn(),c=null,d=Gd;d!==null;){var m=d.next,y=qw(d,o);y===0?(d.next=null,c===null?Gd=m:c.next=m,m===null&&(xl=c)):(c=d,(s!==0||y&3)&&($d=!0)),d=m}uu(s)}function qw(s,o){for(var c=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var x=31-In(y),D=1<<x,L=m[x];L===-1?(!(D&c)||D&d)&&(m[x]=qo(D,o)):L<=o&&(s.expiredLanes|=D),y&=~D}if(o=ut,c=Ge,c=ri(s,s===o?c:0),d=s.callbackNode,c===0||s===o&&ht===2||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Fo(d),s.callbackNode=null,s.callbackPriority=0;if(!(c&3)||ps(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(d!==null&&Fo(d),Yh(c)){case 2:case 8:c=Kt;break;case 32:c=Ar;break;case 268435456:c=vc;break;default:c=Ar}return d=Ww.bind(null,s),c=wr(c,d),s.callbackPriority=o,s.callbackNode=c,o}return d!==null&&d!==null&&Fo(d),s.callbackPriority=2,s.callbackNode=null,2}function Ww(s,o){var c=s.callbackNode;if(Tl()&&s.callbackNode!==c)return null;var d=Ge;return d=ri(s,s===ut?d:0),d===0?null:(Nw(s,d,o),qw(s,jn()),s.callbackNode!=null&&s.callbackNode===c?Ww.bind(null,s):null)}function Gw(s,o){if(Tl())return null;Nw(s,o,!0)}function nM(s){dM(function(){wt&6?wr(Bt,s):s()})}function by(){return io===0&&(io=Ec()),io}function $w(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xi(""+s)}function Yw(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function iM(s,o,c,d,m){if(o==="submit"&&c&&c.stateNode===m){var y=$w((m[Ht]||null).action),x=d.submitter;x&&(o=(o=x[Ht]||null)?$w(o.formAction):x.getAttribute("formAction"),o!==null&&(y=o,x=null));var D=new Xo("action","action",null,d,m);s.push({event:D,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(io!==0){var L=x?Yw(m,x):new FormData(m);Dm(c,{pending:!0,data:L,method:m.method,action:y},null,L)}}else typeof y=="function"&&(D.preventDefault(),L=x?Yw(m,x):new FormData(m),Dm(c,{pending:!0,data:L,method:m.method,action:y},y,L))},currentTarget:m}]})}}for(var Ey=0;Ey<z0.length;Ey++){var wy=z0[Ey],rM=wy.toLowerCase(),sM=wy[0].toUpperCase()+wy.slice(1);ki(rM,"on"+sM)}ki(P0,"onAnimationEnd"),ki(j0,"onAnimationIteration"),ki(L0,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(wN,"onTransitionRun"),ki(AN,"onTransitionStart"),ki(SN,"onTransitionCancel"),ki(V0,"onTransitionEnd"),Ln("onMouseEnter",["mouseout","mouseover"]),Ln("onMouseLeave",["mouseout","mouseover"]),Ln("onPointerEnter",["pointerout","pointerover"]),Ln("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hu));function Qw(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],m=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var x=d.length-1;0<=x;x--){var D=d[x],L=D.instance,q=D.currentTarget;if(D=D.listener,L!==y&&m.isPropagationStopped())break e;y=D,m.currentTarget=q;try{y(m)}catch(te){Md(te)}m.currentTarget=null,y=L}else for(x=0;x<d.length;x++){if(D=d[x],L=D.instance,q=D.currentTarget,D=D.listener,L!==y&&m.isPropagationStopped())break e;y=D,m.currentTarget=q;try{y(m)}catch(te){Md(te)}m.currentTarget=null,y=L}}}}function Be(s,o){var c=o[Ca];c===void 0&&(c=o[Ca]=new Set);var d=s+"__bubble";c.has(d)||(Kw(o,s,2,!1),c.add(d))}function Ay(s,o,c){var d=0;o&&(d|=4),Kw(c,s,d,o)}var Yd="_reactListening"+Math.random().toString(36).slice(2);function Sy(s){if(!s[Yd]){s[Yd]=!0,Ac.forEach(function(c){c!=="selectionchange"&&(aM.has(c)||Ay(c,!1,s),Ay(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Yd]||(o[Yd]=!0,Ay("selectionchange",!1,o))}}function Kw(s,o,c,d){switch(_A(o)){case 2:var m=NM;break;case 8:m=MM;break;default:m=Ly}c=m.bind(null,o,c,s),m=void 0,!li||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,c,{capture:!0,passive:m}):s.addEventListener(o,c,!0):m!==void 0?s.addEventListener(o,c,{passive:m}):s.addEventListener(o,c,!1)}function Ty(s,o,c,d,m){var y=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var D=d.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(x===4)for(x=d.return;x!==null;){var L=x.tag;if((L===3||L===4)&&(L=x.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;x=x.return}for(;D!==null;){if(x=Ii(D),x===null)return;if(L=x.tag,L===5||L===6||L===26||L===27){d=y=x;continue e}D=D.parentNode}}d=d.return}Jh(function(){var q=y,te=Ko(c),oe=[];e:{var Q=U0.get(s);if(Q!==void 0){var ee=Xo,ve=s;switch(s){case"keypress":if(Ji(c)===0)break e;case"keydown":case"keyup":ee=il;break;case"focusin":ve="focus",ee=el;break;case"focusout":ve="blur",ee=el;break;case"beforeblur":case"afterblur":ee=el;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ci;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=od;break;case P0:case j0:case L0:ee=tl;break;case V0:ee=cd;break;case"scroll":case"scrollend":ee=ed;break;case"wheel":ee=rl;break;case"copy":case"cut":case"paste":ee=nl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Pc;break;case"toggle":case"beforetoggle":ee=hd}var Ne=(o&4)!==0,Dt=!Ne&&(s==="scroll"||s==="scrollend"),W=Ne?Q!==null?Q+"Capture":null:Q;Ne=[];for(var F=q,Y;F!==null;){var ie=F;if(Y=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Y===null||W===null||(ie=Ma(F,W),ie!=null&&Ne.push(du(F,ie,Y))),Dt)break;F=F.return}0<Ne.length&&(Q=new ee(Q,ve,null,c,te),oe.push({event:Q,listeners:Ne}))}}if(!(o&7)){e:{if(Q=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",Q&&c!==oi&&(ve=c.relatedTarget||c.fromElement)&&(Ii(ve)||ve[Sr]))break e;if((ee||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,ee?(ve=c.relatedTarget||c.toElement,ee=q,ve=ve?Ii(ve):null,ve!==null&&(Dt=fe(ve),Ne=ve.tag,ve!==Dt||Ne!==5&&Ne!==27&&Ne!==6)&&(ve=null)):(ee=null,ve=q),ee!==ve)){if(Ne=ci,ie="onMouseLeave",W="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=Pc,ie="onPointerLeave",W="onPointerEnter",F="pointer"),Dt=ee==null?Q:Es(ee),Y=ve==null?Q:Es(ve),Q=new Ne(ie,F+"leave",ee,c,te),Q.target=Dt,Q.relatedTarget=Y,ie=null,Ii(te)===q&&(Ne=new Ne(W,F+"enter",ve,c,te),Ne.target=Y,Ne.relatedTarget=Dt,ie=Ne),Dt=ie,ee&&ve)t:{for(Ne=ee,W=ve,F=0,Y=Ne;Y;Y=Rl(Y))F++;for(Y=0,ie=W;ie;ie=Rl(ie))Y++;for(;0<F-Y;)Ne=Rl(Ne),F--;for(;0<Y-F;)W=Rl(W),Y--;for(;F--;){if(Ne===W||W!==null&&Ne===W.alternate)break t;Ne=Rl(Ne),W=Rl(W)}Ne=null}else Ne=null;ee!==null&&Xw(oe,Q,ee,Ne,!1),ve!==null&&Dt!==null&&Xw(oe,Dt,ve,Ne,!0)}}e:{if(Q=q?Es(q):window,ee=Q.nodeName&&Q.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Q.type==="file")var ye=S0;else if(qt(Q))if(T0)ye=vN;else{ye=mN;var je=pN}else ee=Q.nodeName,!ee||ee.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?q&&Cc(q.elementType)&&(ye=S0):ye=yN;if(ye&&(ye=ye(s,q))){Nr(oe,ye,c,te);break e}je&&je(s,Q,q),s==="focusout"&&q&&Q.type==="number"&&q.memoizedProps.value!=null&&Qo(Q,"number",Q.value)}switch(je=q?Es(q):window,s){case"focusin":(qt(je)||je.contentEditable==="true")&&(sl=je,nm=q,Vc=null);break;case"focusout":Vc=nm=sl=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,M0(oe,c,te);break;case"selectionchange":if(EN)break;case"keydown":case"keyup":M0(oe,c,te)}var _e;if(nr)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else qe?Z(s,c)&&(Re="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Re="onCompositionStart");Re&&(A&&c.locale!=="ko"&&(qe||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&qe&&(_e=Ic()):(Zi=te,Rs="value"in Zi?Zi.value:Zi.textContent,qe=!0)),je=Qd(q,Re),0<je.length&&(Re=new Mc(Re,s,null,c,te),oe.push({event:Re,listeners:je}),_e?Re.data=_e:(_e=ce(c),_e!==null&&(Re.data=_e)))),(_e=E?Ft(s,c):We(s,c))&&(Re=Qd(q,"onBeforeInput"),0<Re.length&&(je=new Mc("onBeforeInput","beforeinput",null,c,te),oe.push({event:je,listeners:Re}),je.data=_e)),iM(oe,s,q,c,te)}Qw(oe,o)})}function du(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Qd(s,o){for(var c=o+"Capture",d=[];s!==null;){var m=s,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Ma(s,c),m!=null&&d.unshift(du(s,m,y)),m=Ma(s,o),m!=null&&d.push(du(s,m,y))),s=s.return}return d}function Rl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Xw(s,o,c,d,m){for(var y=o._reactName,x=[];c!==null&&c!==d;){var D=c,L=D.alternate,q=D.stateNode;if(D=D.tag,L!==null&&L===d)break;D!==5&&D!==26&&D!==27||q===null||(L=q,m?(q=Ma(c,y),q!=null&&x.unshift(du(c,q,L))):m||(q=Ma(c,y),q!=null&&x.push(du(c,q,L)))),c=c.return}x.length!==0&&s.push({event:o,listeners:x})}var oM=/\r\n?/g,lM=/\u0000|\uFFFD/g;function Zw(s){return(typeof s=="string"?s:""+s).replace(oM,`
`).replace(lM,"")}function Jw(s,o){return o=Zw(o),Zw(s)===o}function Kd(){}function ot(s,o,c,d,m,y){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||ai(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&ai(s,""+d);break;case"className":Ss(s,"class",d);break;case"tabIndex":Ss(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ss(s,c,d);break;case"style":Zh(s,d,y);break;case"data":if(o!=="object"){Ss(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=Xi(""+d),s.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(o!=="input"&&ot(s,o,"name",m.name,m,null),ot(s,o,"formEncType",m.formEncType,m,null),ot(s,o,"formMethod",m.formMethod,m,null),ot(s,o,"formTarget",m.formTarget,m,null)):(ot(s,o,"encType",m.encType,m,null),ot(s,o,"method",m.method,m,null),ot(s,o,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=Xi(""+d),s.setAttribute(c,d);break;case"onClick":d!=null&&(s.onclick=Kd);break;case"onScroll":d!=null&&Be("scroll",s);break;case"onScrollEnd":d!=null&&Be("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}c=Xi(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""+d):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":d===!0?s.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,d):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(c,d):s.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(c):s.setAttribute(c,d);break;case"popover":Be("beforetoggle",s),Be("toggle",s),As(s,"popover",d);break;case"xlinkActuate":si(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":si(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":si(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":si(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":si(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":si(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":si(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":si(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":si(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":As(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Qp.get(c)||c,As(s,c,d))}}function xy(s,o,c,d,m,y){switch(c){case"style":Zh(s,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof d=="string"?ai(s,d):(typeof d=="number"||typeof d=="bigint")&&ai(s,""+d);break;case"onScroll":d!=null&&Be("scroll",s);break;case"onScrollEnd":d!=null&&Be("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Kd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),o=c.slice(2,m?c.length-7:void 0),y=s[Ht]||null,y=y!=null?y[c]:null,typeof y=="function"&&s.removeEventListener(o,y,m),typeof d=="function")){typeof y!="function"&&y!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,d,m);break e}c in s?s[c]=d:d===!0?s.setAttribute(c,""):As(s,c,d)}}}function dn(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",s),Be("load",s);var d=!1,m=!1,y;for(y in c)if(c.hasOwnProperty(y)){var x=c[y];if(x!=null)switch(y){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ot(s,o,y,x,c,null)}}m&&ot(s,o,"srcSet",c.srcSet,c,null),d&&ot(s,o,"src",c.src,c,null);return;case"input":Be("invalid",s);var D=y=x=m=null,L=null,q=null;for(d in c)if(c.hasOwnProperty(d)){var te=c[d];if(te!=null)switch(d){case"name":m=te;break;case"type":x=te;break;case"checked":L=te;break;case"defaultChecked":q=te;break;case"value":y=te;break;case"defaultValue":D=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,o));break;default:ot(s,o,d,te,c,null)}}ka(s,y,D,L,q,x,m,!1),Ia(s);return;case"select":Be("invalid",s),d=x=y=null;for(m in c)if(c.hasOwnProperty(m)&&(D=c[m],D!=null))switch(m){case"value":y=D;break;case"defaultValue":x=D;break;case"multiple":d=D;default:ot(s,o,m,D,c,null)}o=y,c=x,s.multiple=!!d,o!=null?Qe(s,!!d,o,!1):c!=null&&Qe(s,!!d,c,!0);return;case"textarea":Be("invalid",s),y=m=d=null;for(x in c)if(c.hasOwnProperty(x)&&(D=c[x],D!=null))switch(x){case"value":d=D;break;case"defaultValue":m=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:ot(s,o,x,D,c,null)}xs(s,d,m,y),Ia(s);return;case"option":for(L in c)if(c.hasOwnProperty(L)&&(d=c[L],d!=null))switch(L){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ot(s,o,L,d,c,null)}return;case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":Be("load",s);break;case"video":case"audio":for(d=0;d<hu.length;d++)Be(hu[d],s);break;case"image":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"embed":case"source":case"link":Be("error",s),Be("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in c)if(c.hasOwnProperty(q)&&(d=c[q],d!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ot(s,o,q,d,c,null)}return;default:if(Cc(o)){for(te in c)c.hasOwnProperty(te)&&(d=c[te],d!==void 0&&xy(s,o,te,d,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(d=c[D],d!=null&&ot(s,o,D,d,c,null))}function cM(s,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,x=null,D=null,L=null,q=null,te=null;for(ee in c){var oe=c[ee];if(c.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":L=oe;default:d.hasOwnProperty(ee)||ot(s,o,ee,null,d,oe)}}for(var Q in d){var ee=d[Q];if(oe=c[Q],d.hasOwnProperty(Q)&&(ee!=null||oe!=null))switch(Q){case"type":y=ee;break;case"name":m=ee;break;case"checked":q=ee;break;case"defaultChecked":te=ee;break;case"value":x=ee;break;case"defaultValue":D=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,o));break;default:ee!==oe&&ot(s,o,Q,ee,d,oe)}}Ts(s,x,D,L,q,te,y,m);return;case"select":ee=x=D=Q=null;for(y in c)if(L=c[y],c.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":ee=L;default:d.hasOwnProperty(y)||ot(s,o,y,null,d,L)}for(m in d)if(y=d[m],L=c[m],d.hasOwnProperty(m)&&(y!=null||L!=null))switch(m){case"value":Q=y;break;case"defaultValue":D=y;break;case"multiple":x=y;default:y!==L&&ot(s,o,m,y,d,L)}o=D,c=x,d=ee,Q!=null?Qe(s,!!c,Q,!1):!!d!=!!c&&(o!=null?Qe(s,!!c,o,!0):Qe(s,!!c,c?[]:"",!1));return;case"textarea":ee=Q=null;for(D in c)if(m=c[D],c.hasOwnProperty(D)&&m!=null&&!d.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:ot(s,o,D,null,d,m)}for(x in d)if(m=d[x],y=c[x],d.hasOwnProperty(x)&&(m!=null||y!=null))switch(x){case"value":Q=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&ot(s,o,x,m,d,y)}Na(s,Q,ee);return;case"option":for(var ve in c)if(Q=c[ve],c.hasOwnProperty(ve)&&Q!=null&&!d.hasOwnProperty(ve))switch(ve){case"selected":s.selected=!1;break;default:ot(s,o,ve,null,d,Q)}for(L in d)if(Q=d[L],ee=c[L],d.hasOwnProperty(L)&&Q!==ee&&(Q!=null||ee!=null))switch(L){case"selected":s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ot(s,o,L,Q,d,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in c)Q=c[Ne],c.hasOwnProperty(Ne)&&Q!=null&&!d.hasOwnProperty(Ne)&&ot(s,o,Ne,null,d,Q);for(q in d)if(Q=d[q],ee=c[q],d.hasOwnProperty(q)&&Q!==ee&&(Q!=null||ee!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,o));break;default:ot(s,o,q,Q,d,ee)}return;default:if(Cc(o)){for(var Dt in c)Q=c[Dt],c.hasOwnProperty(Dt)&&Q!==void 0&&!d.hasOwnProperty(Dt)&&xy(s,o,Dt,void 0,d,Q);for(te in d)Q=d[te],ee=c[te],!d.hasOwnProperty(te)||Q===ee||Q===void 0&&ee===void 0||xy(s,o,te,Q,d,ee);return}}for(var W in c)Q=c[W],c.hasOwnProperty(W)&&Q!=null&&!d.hasOwnProperty(W)&&ot(s,o,W,null,d,Q);for(oe in d)Q=d[oe],ee=c[oe],!d.hasOwnProperty(oe)||Q===ee||Q==null&&ee==null||ot(s,o,oe,Q,d,ee)}var Ry=null,Cy=null;function Xd(s){return s.nodeType===9?s:s.ownerDocument}function eA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tA(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Dy(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Iy=null;function uM(){var s=window.event;return s&&s.type==="popstate"?s===Iy?!1:(Iy=s,!0):(Iy=null,!1)}var nA=typeof setTimeout=="function"?setTimeout:void 0,hM=typeof clearTimeout=="function"?clearTimeout:void 0,iA=typeof Promise=="function"?Promise:void 0,dM=typeof queueMicrotask=="function"?queueMicrotask:typeof iA<"u"?function(s){return iA.resolve(null).then(s).catch(fM)}:nA;function fM(s){setTimeout(function(){throw s})}function ky(s,o){var c=o,d=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(d===0){s.removeChild(m),bu(o);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=m}while(c);bu(o)}function Ny(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Ny(c),Da(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function gM(s,o,c,d){for(;s.nodeType===1;){var m=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[bs])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Oi(s.nextSibling),s===null)break}return null}function pM(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Oi(s.nextSibling),s===null))return null;return s}function Oi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}function rA(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function sA(s,o,c){switch(o=Xd(c),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}var _i=new Map,aA=new Set;function Zd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var $r=ue.d;ue.d={f:mM,r:yM,D:vM,C:_M,L:bM,m:EM,X:AM,S:wM,M:SM};function mM(){var s=$r.f(),o=qd();return s||o}function yM(s){var o=Tr(s);o!==null&&o.tag===5&&o.type==="form"?ME(o):$r.r(s)}var Cl=typeof document>"u"?null:document;function oA(s,o,c){var d=Cl;if(d&&typeof o=="string"&&o){var m=xt(o);m='link[rel="'+s+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),aA.has(m)||(aA.add(m),s={rel:s,crossOrigin:c,href:o},d.querySelector(m)===null&&(o=d.createElement("link"),dn(o,"link",s),bt(o),d.head.appendChild(o)))}}function vM(s){$r.D(s),oA("dns-prefetch",s,null)}function _M(s,o){$r.C(s,o),oA("preconnect",s,o)}function bM(s,o,c){$r.L(s,o,c);var d=Cl;if(d&&s&&o){var m='link[rel="preload"][as="'+xt(o)+'"]';o==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+xt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+xt(c.imageSizes)+'"]')):m+='[href="'+xt(s)+'"]';var y=m;switch(o){case"style":y=Dl(s);break;case"script":y=Il(s)}_i.has(y)||(s=M({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),_i.set(y,s),d.querySelector(m)!==null||o==="style"&&d.querySelector(fu(y))||o==="script"&&d.querySelector(gu(y))||(o=d.createElement("link"),dn(o,"link",s),bt(o),d.head.appendChild(o)))}}function EM(s,o){$r.m(s,o);var c=Cl;if(c&&s){var d=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+xt(d)+'"][href="'+xt(s)+'"]',y=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Il(s)}if(!_i.has(y)&&(s=M({rel:"modulepreload",href:s},o),_i.set(y,s),c.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(gu(y)))return}d=c.createElement("link"),dn(d,"link",s),bt(d),c.head.appendChild(d)}}}function wM(s,o,c){$r.S(s,o,c);var d=Cl;if(d&&s){var m=ws(d).hoistableStyles,y=Dl(s);o=o||"default";var x=m.get(y);if(!x){var D={loading:0,preload:null};if(x=d.querySelector(fu(y)))D.loading=5;else{s=M({rel:"stylesheet",href:s,"data-precedence":o},c),(c=_i.get(y))&&My(s,c);var L=x=d.createElement("link");bt(L),dn(L,"link",s),L._p=new Promise(function(q,te){L.onload=q,L.onerror=te}),L.addEventListener("load",function(){D.loading|=1}),L.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Jd(x,o,d)}x={type:"stylesheet",instance:x,count:1,state:D},m.set(y,x)}}}function AM(s,o){$r.X(s,o);var c=Cl;if(c&&s){var d=ws(c).hoistableScripts,m=Il(s),y=d.get(m);y||(y=c.querySelector(gu(m)),y||(s=M({src:s,async:!0},o),(o=_i.get(m))&&Oy(s,o),y=c.createElement("script"),bt(y),dn(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function SM(s,o){$r.M(s,o);var c=Cl;if(c&&s){var d=ws(c).hoistableScripts,m=Il(s),y=d.get(m);y||(y=c.querySelector(gu(m)),y||(s=M({src:s,async:!0,type:"module"},o),(o=_i.get(m))&&Oy(s,o),y=c.createElement("script"),bt(y),dn(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function lA(s,o,c,d){var m=(m=Te.current)?Zd(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Dl(c.href),c=ws(m).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Dl(c.href);var y=ws(m).hoistableStyles,x=y.get(s);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,x),(y=m.querySelector(fu(s)))&&!y._p&&(x.instance=y,x.state.loading=5),_i.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},_i.set(s,c),y||TM(m,s,c,x.state))),o&&d===null)throw Error(i(528,""));return x}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Il(c),c=ws(m).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Dl(s){return'href="'+xt(s)+'"'}function fu(s){return'link[rel="stylesheet"]['+s+"]"}function cA(s){return M({},s,{"data-precedence":s.precedence,precedence:null})}function TM(s,o,c,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),dn(o,"link",c),bt(o),s.head.appendChild(o))}function Il(s){return'[src="'+xt(s)+'"]'}function gu(s){return"script[async]"+s}function uA(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+xt(c.href)+'"]');if(d)return o.instance=d,bt(d),d;var m=M({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),bt(d),dn(d,"style",m),Jd(d,c.precedence,s),o.instance=d;case"stylesheet":m=Dl(c.href);var y=s.querySelector(fu(m));if(y)return o.state.loading|=4,o.instance=y,bt(y),y;d=cA(c),(m=_i.get(m))&&My(d,m),y=(s.ownerDocument||s).createElement("link"),bt(y);var x=y;return x._p=new Promise(function(D,L){x.onload=D,x.onerror=L}),dn(y,"link",d),o.state.loading|=4,Jd(y,c.precedence,s),o.instance=y;case"script":return y=Il(c.src),(m=s.querySelector(gu(y)))?(o.instance=m,bt(m),m):(d=c,(m=_i.get(y))&&(d=M({},c),Oy(d,m)),s=s.ownerDocument||s,m=s.createElement("script"),bt(m),dn(m,"link",d),s.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&!(o.state.loading&4)&&(d=o.instance,o.state.loading|=4,Jd(d,c.precedence,s));return o.instance}function Jd(s,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,y=m,x=0;x<d.length;x++){var D=d[x];if(D.dataset.precedence===o)y=D;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function My(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Oy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var ef=null;function hA(s,o,c){if(ef===null){var d=new Map,m=ef=new Map;m.set(c,d)}else m=ef,d=m.get(c),d||(d=new Map,m.set(c,d));if(d.has(s))return d;for(d.set(s,null),c=c.getElementsByTagName(s),m=0;m<c.length;m++){var y=c[m];if(!(y[bs]||y[Xt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(o)||"";x=s+x;var D=d.get(x);D?D.push(y):d.set(x,[y])}}return d}function dA(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function xM(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function fA(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}var pu=null;function RM(){}function CM(s,o,c){if(pu===null)throw Error(i(475));var d=pu;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&!(o.state.loading&4)){if(o.instance===null){var m=Dl(c.href),y=s.querySelector(fu(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=tf.bind(d),s.then(d,d)),o.state.loading|=4,o.instance=y,bt(y);return}y=s.ownerDocument||s,c=cA(c),(m=_i.get(m))&&My(c,m),y=y.createElement("link"),bt(y);var x=y;x._p=new Promise(function(D,L){x.onload=D,x.onerror=L}),dn(y,"link",c),o.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,s),(s=o.state.preload)&&!(o.state.loading&3)&&(d.count++,o=tf.bind(d),s.addEventListener("load",o),s.addEventListener("error",o))}}function DM(){if(pu===null)throw Error(i(475));var s=pu;return s.stylesheets&&s.count===0&&Py(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&Py(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function tf(){if(this.count--,this.count===0){if(this.stylesheets)Py(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var nf=null;function Py(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,nf=new Map,o.forEach(IM,s),nf=null,tf.call(s))}function IM(s,o){if(!(o.state.loading&4)){var c=nf.get(s);if(c)var d=c.get(null);else{c=new Map,nf.set(s,c);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var x=m[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),d=x)}d&&c.set(null,d)}m=o.instance,x=m.getAttribute("data-precedence"),y=c.get(x)||d,y===d&&c.set(null,m),c.set(x,m),this.count++,d=tf.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),o.state.loading|=4}}var mu={$$typeof:b,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function kM(s,o,c,d,m,y,x,D){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wo(0),this.hiddenUpdates=Wo(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function gA(s,o,c,d,m,y,x,D,L,q,te,oe){return s=new kM(s,o,c,x,D,L,q,oe),o=1,y===!0&&(o|=24),y=yi(3,null,null,o),s.current=y,y.stateNode=s,o=fm(),o.refCount++,s.pooledCache=o,o.refCount++,y.memoizedState={element:d,isDehydrated:c,cache:o},$m(y),s}function pA(s){return s?(s=ll,s):ll}function mA(s,o,c,d,m,y){m=pA(m),d.context===null?d.context=m:d.pendingContext=m,d=Ps(o),d.payload={element:c},y=y===void 0?null:y,y!==null&&(d.callback=y),c=js(s,d,o),c!==null&&(On(c,s,o),Jc(c,s,o))}function yA(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function jy(s,o){yA(s,o),(s=s.alternate)&&yA(s,o)}function vA(s){if(s.tag===13){var o=Cs(s,67108864);o!==null&&On(o,s,67108864),jy(s,67108864)}}var rf=!0;function NM(s,o,c,d){var m=k.T;k.T=null;var y=ue.p;try{ue.p=2,Ly(s,o,c,d)}finally{ue.p=y,k.T=m}}function MM(s,o,c,d){var m=k.T;k.T=null;var y=ue.p;try{ue.p=8,Ly(s,o,c,d)}finally{ue.p=y,k.T=m}}function Ly(s,o,c,d){if(rf){var m=Vy(d);if(m===null)Ty(s,o,d,sf,c),bA(s,d);else if(PM(m,s,o,c,d))d.stopPropagation();else if(bA(s,d),o&4&&-1<OM.indexOf(s)){for(;m!==null;){var y=Tr(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=Di(y.pendingLanes);if(x!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;x;){var L=1<<31-In(x);D.entanglements[1]|=L,x&=~L}lr(y),!(wt&6)&&(Bd=jn()+500,uu(0))}}break;case 13:D=Cs(y,2),D!==null&&On(D,y,2),qd(),jy(y,2)}if(y=Vy(d),y===null&&Ty(s,o,d,sf,c),y===m)break;m=y}m!==null&&d.stopPropagation()}else Ty(s,o,d,null,c)}}function Vy(s){return s=Ko(s),Uy(s)}var sf=null;function Uy(s){if(sf=null,s=Ii(s),s!==null){var o=fe(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=Se(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return sf=s,null}function _A(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fh()){case Bt:return 2;case Kt:return 8;case Ar:case qh:return 32;case vc:return 268435456;default:return 32}default:return 32}}var zy=!1,Fs=null,qs=null,Ws=null,yu=new Map,vu=new Map,Gs=[],OM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bA(s,o){switch(s){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":yu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(o.pointerId)}}function _u(s,o,c,d,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Tr(o),o!==null&&vA(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function PM(s,o,c,d,m){switch(o){case"focusin":return Fs=_u(Fs,s,o,c,d,m),!0;case"dragenter":return qs=_u(qs,s,o,c,d,m),!0;case"mouseover":return Ws=_u(Ws,s,o,c,d,m),!0;case"pointerover":var y=m.pointerId;return yu.set(y,_u(yu.get(y)||null,s,o,c,d,m)),!0;case"gotpointercapture":return y=m.pointerId,vu.set(y,_u(vu.get(y)||null,s,o,c,d,m)),!0}return!1}function EA(s){var o=Ii(s.target);if(o!==null){var c=fe(o);if(c!==null){if(o=c.tag,o===13){if(o=Se(c),o!==null){s.blockedOn=o,_s(s.priority,function(){if(c.tag===13){var d=Jn(),m=Cs(c,d);m!==null&&On(m,c,d),jy(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function af(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Vy(s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);oi=d,c.target.dispatchEvent(d),oi=null}else return o=Tr(c),o!==null&&vA(o),s.blockedOn=c,!1;o.shift()}return!0}function wA(s,o,c){af(s)&&c.delete(o)}function jM(){zy=!1,Fs!==null&&af(Fs)&&(Fs=null),qs!==null&&af(qs)&&(qs=null),Ws!==null&&af(Ws)&&(Ws=null),yu.forEach(wA),vu.forEach(wA)}function of(s,o){s.blockedOn===o&&(s.blockedOn=null,zy||(zy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jM)))}var lf=null;function AA(s){lf!==s&&(lf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){lf===s&&(lf=null);for(var o=0;o<s.length;o+=3){var c=s[o],d=s[o+1],m=s[o+2];if(typeof d!="function"){if(Uy(d||c)===null)continue;break}var y=Tr(c);y!==null&&(s.splice(o,3),o-=3,Dm(y,{pending:!0,data:m,method:c.method,action:d},d,m))}}))}function bu(s){function o(L){return of(L,s)}Fs!==null&&of(Fs,s),qs!==null&&of(qs,s),Ws!==null&&of(Ws,s),yu.forEach(o),vu.forEach(o);for(var c=0;c<Gs.length;c++){var d=Gs[c];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Gs.length&&(c=Gs[0],c.blockedOn===null);)EA(c),c.blockedOn===null&&Gs.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var m=c[d],y=c[d+1],x=m[Ht]||null;if(typeof y=="function")x||AA(c);else if(x){var D=null;if(y&&y.hasAttribute("formAction")){if(m=y,x=y[Ht]||null)D=x.formAction;else if(Uy(m)!==null)continue}else D=x.action;typeof D=="function"?c[d+1]=D:(c.splice(d,3),d-=3),AA(c)}}}function By(s){this._internalRoot=s}cf.prototype.render=By.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,d=Jn();mA(c,d,s,o,null,null)},cf.prototype.unmount=By.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;s.tag===0&&Tl(),mA(s.current,2,null,s,null,null),qd(),o[Sr]=null}};function cf(s){this._internalRoot=s}cf.prototype.unstable_scheduleHydration=function(s){if(s){var o=Qh();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Gs.length&&o!==0&&o<Gs[c].priority;c++);Gs.splice(c,0,s),c===0&&EA(s)}};var SA=e.version;if(SA!=="19.0.0")throw Error(i(527,SA,"19.0.0"));ue.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=ae(o),s=s!==null?ge(s):null,s=s===null?null:s.stateNode,s};var LM={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:k,findFiberByHostInstance:Ii,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uf.isDisabled&&uf.supportsFiber)try{fs=uf.inject(LM),vn=uf}catch{}}return wu.createRoot=function(s,o){if(!r(s))throw Error(i(299));var c=!1,d="",m=BE,y=HE,x=FE,D=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks)),o=gA(s,1,!1,null,null,c,d,m,y,x,D,null),s[Sr]=o.current,Sy(s.nodeType===8?s.parentNode:s),new By(o)},wu.hydrateRoot=function(s,o,c){if(!r(s))throw Error(i(299));var d=!1,m="",y=BE,x=HE,D=FE,L=null,q=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(L=c.unstable_transitionCallbacks),c.formState!==void 0&&(q=c.formState)),o=gA(s,1,!0,o,c??null,d,m,y,x,D,L,q),o.context=pA(null),c=o.current,d=Jn(),m=Ps(d),m.callback=null,js(c,m,d),o.current.lanes=d,It(o,d),lr(o),s[Sr]=o.current,Sy(s),new cf(o)},wu.version="19.0.0",wu}var OA;function QM(){if(OA)return qy.exports;OA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qy.exports=YM(),qy.exports}var KM=QM(),Au={},PA;function XM(){if(PA)return Au;PA=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.parse=l,Au.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,a=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,b){const S=new a,R=_.length;if(R<2)return S;const T=(b==null?void 0:b.decode)||p;let C=0;do{const P=_.indexOf("=",C);if(P===-1)break;const B=_.indexOf(";",C),G=B===-1?R:B;if(P>G){C=_.lastIndexOf(";",P-1)+1;continue}const X=u(_,C,P),ne=h(_,P,X),O=_.slice(X,ne);if(S[O]===void 0){let I=u(_,P+1,G),k=h(_,G,I);const M=T(_.slice(I,k));S[O]=M}C=G+1}while(C<R);return S}function u(_,b,S){do{const R=_.charCodeAt(b);if(R!==32&&R!==9)return b}while(++b<S);return S}function h(_,b,S){for(;b>S;){const R=_.charCodeAt(--b);if(R!==32&&R!==9)return b+1}return S}function f(_,b,S){const R=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const T=R(b);if(!e.test(T))throw new TypeError(`argument val is invalid: ${b}`);let C=_+"="+T;if(!S)return C;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);C+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);C+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);C+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);C+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(C+="; HttpOnly"),S.secure&&(C+="; Secure"),S.partitioned&&(C+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return C}function p(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return r.call(_)==="[object Date]"}return Au}XM();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jA="popstate";function ZM(n={}){function e(r,a){let{pathname:l="/",search:u="",hash:h=""}=ko(r.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Pv("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){let l=r.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=r.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof a=="string"?a:oh(a))}function i(r,a){xi(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return eO(e,t,i,n)}function _t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JM(){return Math.random().toString(36).substring(2,10)}function LA(n,e){return{usr:n.state,key:n.key,idx:e}}function Pv(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ko(e):e,state:t,key:e&&e.key||i||JM()}}function oh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ko(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function eO(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,l=r.history,u="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function v(){u="POP";let T=p(),C=T==null?null:T-f;f=T,h&&h({action:u,location:R.location,delta:C})}function _(T,C){u="PUSH";let P=Pv(R.location,T,C);t&&t(P,T),f=p()+1;let B=LA(P,f),G=R.createHref(P);try{l.pushState(B,"",G)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;r.location.assign(G)}a&&h&&h({action:u,location:R.location,delta:1})}function b(T,C){u="REPLACE";let P=Pv(R.location,T,C);t&&t(P,T),f=p();let B=LA(P,f),G=R.createHref(P);l.replaceState(B,"",G),a&&h&&h({action:u,location:R.location,delta:0})}function S(T){let C=r.location.origin!=="null"?r.location.origin:r.location.href,P=typeof T=="string"?T:oh(T);return P=P.replace(/ $/,"%20"),_t(C,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,C)}let R={get action(){return u},get location(){return n(r,l)},listen(T){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(jA,v),h=T,()=>{r.removeEventListener(jA,v),h=null}},createHref(T){return e(r,T)},createURL:S,encodeLocation(T){let C=S(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:b,go(T){return l.go(T)}};return R}function jR(n,e,t="/"){return tO(n,e,t,!1)}function tO(n,e,t,i){let r=typeof e=="string"?ko(e):e,a=da(r.pathname||"/",t);if(a==null)return null;let l=LR(n);nO(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=fO(a);u=hO(l[h],f,i)}return u}function LR(n,e=[],t=[],i=""){let r=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(_t(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=ns([i,h.relativePath]),p=t.concat(h);a.children&&a.children.length>0&&(_t(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),LR(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:cO(f,a.index),routesMeta:p})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))r(a,l);else for(let h of VR(a.path))r(a,l,h)}),e}function VR(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let l=VR(i.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),r&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function nO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uO(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var iO=/^:[\w-]+$/,rO=3,sO=2,aO=1,oO=10,lO=-2,VA=n=>n==="*";function cO(n,e){let t=n.split("/"),i=t.length;return t.some(VA)&&(i+=lO),e&&(i+=sO),t.filter(r=>!VA(r)).reduce((r,a)=>r+(iO.test(a)?rO:a===""?aO:oO),i)}function uO(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function hO(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,p=a==="/"?e:e.slice(a.length)||"/",v=rg({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),_=h.route;if(!v&&f&&t&&!i[i.length-1].route.index&&(v=rg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(r,v.params),l.push({params:r,pathname:ns([a,v.pathname]),pathnameBase:yO(ns([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=ns([a,v.pathnameBase]))}return l}function rg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=dO(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:v},_)=>{if(p==="*"){let S=u[_]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const b=u[_];return v&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function dO(n,e=!1,t=!0){xi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function fO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function da(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function gO(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?ko(n):n;return{pathname:t?t.startsWith("/")?t:pO(t,e):e,search:vO(i),hash:_O(r)}}function pO(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Yy(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function M_(n){let e=mO(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function O_(n,e,t,i=!1){let r;typeof n=="string"?r=ko(n):(r={...n},_t(!r.pathname||!r.pathname.includes("?"),Yy("?","pathname","search",r)),_t(!r.pathname||!r.pathname.includes("#"),Yy("#","pathname","hash",r)),_t(!r.search||!r.search.includes("#"),Yy("#","search","hash",r)));let a=n===""||r.pathname==="",l=a?"/":r.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;r.pathname=_.join("/")}u=v>=0?e[v]:"/"}let h=gO(r,u),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var ns=n=>n.join("/").replace(/\/\/+/g,"/"),yO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,_O=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function bO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var UR=["POST","PUT","PATCH","DELETE"];new Set(UR);var EO=["GET",...UR];new Set(EO);var sc=z.createContext(null);sc.displayName="DataRouter";var ip=z.createContext(null);ip.displayName="DataRouterState";var zR=z.createContext({isTransitioning:!1});zR.displayName="ViewTransition";var wO=z.createContext(new Map);wO.displayName="Fetchers";var AO=z.createContext(null);AO.displayName="Await";var Bi=z.createContext(null);Bi.displayName="Navigation";var Th=z.createContext(null);Th.displayName="Location";var Ri=z.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var P_=z.createContext(null);P_.displayName="RouteError";function SO(n,{relative:e}={}){_t(ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=z.useContext(Bi),{hash:r,pathname:a,search:l}=xh(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:ns([t,a])),i.createHref({pathname:u,search:l,hash:r})}function ac(){return z.useContext(Th)!=null}function Hi(){return _t(ac(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Th).location}var BR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HR(n){z.useContext(Bi).static||z.useLayoutEffect(n)}function wa(){let{isDataRoute:n}=z.useContext(Ri);return n?UO():TO()}function TO(){_t(ac(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(sc),{basename:e,navigator:t}=z.useContext(Bi),{matches:i}=z.useContext(Ri),{pathname:r}=Hi(),a=JSON.stringify(M_(i)),l=z.useRef(!1);return HR(()=>{l.current=!0}),z.useCallback((h,f={})=>{if(xi(l.current,BR),!l.current)return;if(typeof h=="number"){t.go(h);return}let p=O_(h,JSON.parse(a),r,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ns([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,r,n])}var FR=z.createContext(null);function rp(){return z.useContext(FR)}function xO(n){let e=z.useContext(Ri).outlet;return e&&z.createElement(FR.Provider,{value:n},e)}function RO(){let{matches:n}=z.useContext(Ri),e=n[n.length-1];return e?e.params:{}}function xh(n,{relative:e}={}){let{matches:t}=z.useContext(Ri),{pathname:i}=Hi(),r=JSON.stringify(M_(t));return z.useMemo(()=>O_(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function CO(n,e){return qR(n,e)}function qR(n,e,t,i){var P;_t(ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:a}=z.useContext(Bi),{matches:l}=z.useContext(Ri),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let B=v&&v.path||"";WR(f,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let _=Hi(),b;if(e){let B=typeof e=="string"?ko(e):e;_t(p==="/"||((P=B.pathname)==null?void 0:P.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${B.pathname}" was given in the \`location\` prop.`),b=B}else b=_;let S=b.pathname||"/",R=S;if(p!=="/"){let B=p.replace(/^\//,"").split("/");R="/"+S.replace(/^\//,"").split("/").slice(B.length).join("/")}let T=!a&&t&&t.matches&&t.matches.length>0?t.matches:jR(n,{pathname:R});xi(v||T!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),xi(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=MO(T&&T.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:ns([p,r.encodeLocation?r.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?p:ns([p,r.encodeLocation?r.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,t,i);return e&&C?z.createElement(Th.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function DO(){let n=VO(),e=bO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:a},"ErrorBoundary")," or"," ",z.createElement("code",{style:a},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:r},t):null,l)}var IO=z.createElement(DO,null),kO=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?z.createElement(Ri.Provider,{value:this.props.routeContext},z.createElement(P_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NO({routeContext:n,match:e,children:t}){let i=z.useContext(sc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Ri.Provider,{value:n},t)}function MO(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,a=t==null?void 0:t.errors;if(a!=null){let h=r.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);_t(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<r.length;h++){let f=r[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:v}=t,_=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((h,f,p)=>{let v,_=!1,b=null,S=null;t&&(v=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||IO,l&&(u<0&&p===0?(WR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):u===p&&(_=!0,S=f.route.hydrateFallbackElement||null)));let R=e.concat(r.slice(0,p+1)),T=()=>{let C;return v?C=b:_?C=S:f.route.Component?C=z.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=h,z.createElement(NO,{match:f,routeContext:{outlet:h,matches:R,isDataRoute:t!=null},children:C})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?z.createElement(kO,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:T(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):T()},null)}function j_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OO(n){let e=z.useContext(sc);return _t(e,j_(n)),e}function PO(n){let e=z.useContext(ip);return _t(e,j_(n)),e}function jO(n){let e=z.useContext(Ri);return _t(e,j_(n)),e}function L_(n){let e=jO(n),t=e.matches[e.matches.length-1];return _t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function LO(){return L_("useRouteId")}function VO(){var i;let n=z.useContext(P_),e=PO("useRouteError"),t=L_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function UO(){let{router:n}=OO("useNavigate"),e=L_("useNavigate"),t=z.useRef(!1);return HR(()=>{t.current=!0}),z.useCallback(async(r,a={})=>{xi(t.current,BR),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var UA={};function WR(n,e,t){!e&&!UA[n]&&(UA[n]=!0,xi(!1,t))}z.memo(zO);function zO({routes:n,future:e,state:t}){return qR(n,void 0,t,e)}function BO({to:n,replace:e,state:t,relative:i}){_t(ac(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=z.useContext(Bi);xi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=z.useContext(Ri),{pathname:l}=Hi(),u=wa(),h=O_(n,M_(a),l,i==="path"),f=JSON.stringify(h);return z.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:i})},[u,f,i,e,t]),null}function HO(n){return xO(n.context)}function wn(n){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FO({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){_t(!ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=z.useMemo(()=>({basename:l,navigator:r,static:a,future:{}}),[l,r,a]);typeof t=="string"&&(t=ko(t));let{pathname:h="/",search:f="",hash:p="",state:v=null,key:_="default"}=t,b=z.useMemo(()=>{let S=da(h,l);return S==null?null:{location:{pathname:S,search:f,hash:p,state:v,key:_},navigationType:i}},[l,h,f,p,v,_,i]);return xi(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:z.createElement(Bi.Provider,{value:u},z.createElement(Th.Provider,{children:e,value:b}))}function qO({children:n,location:e}){return CO(jv(n),e)}function jv(n,e=[]){let t=[];return z.Children.forEach(n,(i,r)=>{if(!z.isValidElement(i))return;let a=[...e,r];if(i.type===z.Fragment){t.push.apply(t,jv(i.props.children,a));return}_t(i.type===wn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=jv(i.props.children,a)),t.push(l)}),t}var zf="get",Bf="application/x-www-form-urlencoded";function sp(n){return n!=null&&typeof n.tagName=="string"}function WO(n){return sp(n)&&n.tagName.toLowerCase()==="button"}function GO(n){return sp(n)&&n.tagName.toLowerCase()==="form"}function $O(n){return sp(n)&&n.tagName.toLowerCase()==="input"}function YO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function QO(n,e){return n.button===0&&(!e||e==="_self")&&!YO(n)}var hf=null;function KO(){if(hf===null)try{new FormData(document.createElement("form"),0),hf=!1}catch{hf=!0}return hf}var XO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qy(n){return n!=null&&!XO.has(n)?(xi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bf}"`),null):n}function ZO(n,e){let t,i,r,a,l;if(GO(n)){let u=n.getAttribute("action");i=u?da(u,e):null,t=n.getAttribute("method")||zf,r=Qy(n.getAttribute("enctype"))||Bf,a=new FormData(n)}else if(WO(n)||$O(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?da(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||zf,r=Qy(n.getAttribute("formenctype"))||Qy(u.getAttribute("enctype"))||Bf,a=new FormData(u,n),!KO()){let{name:f,type:p,value:v}=n;if(p==="image"){let _=f?`${f}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else f&&a.append(f,v)}}else{if(sp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zf,i=null,r=Bf,l=n}return a&&r==="text/plain"&&(l=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:l}}function V_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function JO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function e2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function t2(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let l=await JO(a,t);return l.links?l.links():[]}return[]}));return s2(i.flat(1).filter(e2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function zA(n,e,t,i,r,a){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,u=(h,f)=>{var p;return t[f].pathname!==h.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):a==="data"?e.filter((h,f)=>{var v;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function n2(n,e){return i2(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function i2(n){return[...new Set(n)]}function r2(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function s2(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(r2(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function a2(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function o2(){let n=z.useContext(sc);return V_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function l2(){let n=z.useContext(ip);return V_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var U_=z.createContext(void 0);U_.displayName="FrameworkContext";function GR(){let n=z.useContext(U_);return V_(n,"You must render this element inside a <HydratedRouter> element"),n}function c2(n,e){let t=z.useContext(U_),[i,r]=z.useState(!1),[a,l]=z.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,_=z.useRef(null);z.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=C=>{C.forEach(P=>{l(P.isIntersecting)})},T=new IntersectionObserver(R,{threshold:.5});return _.current&&T.observe(_.current),()=>{T.disconnect()}}},[n]),z.useEffect(()=>{if(i){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[i]);let b=()=>{r(!0)},S=()=>{r(!1),l(!1)};return t?n!=="intent"?[a,_,{}]:[a,_,{onFocus:Su(u,b),onBlur:Su(h,S),onMouseEnter:Su(f,b),onMouseLeave:Su(p,S),onTouchStart:Su(v,b)}]:[!1,_,{}]}function Su(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function u2({page:n,...e}){let{router:t}=o2(),i=z.useMemo(()=>jR(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?z.createElement(d2,{page:n,matches:i,...e}):null}function h2(n){let{manifest:e,routeModules:t}=GR(),[i,r]=z.useState([]);return z.useEffect(()=>{let a=!1;return t2(n,e,t).then(l=>{a||r(l)}),()=>{a=!0}},[n,e,t]),i}function d2({page:n,matches:e,...t}){let i=Hi(),{manifest:r,routeModules:a}=GR(),{loaderData:l,matches:u}=l2(),h=z.useMemo(()=>zA(n,e,u,r,i,"data"),[n,e,u,r,i]),f=z.useMemo(()=>zA(n,e,u,r,i,"assets"),[n,e,u,r,i]),p=z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,S=!1;if(e.forEach(T=>{var P;let C=r.routes[T.route.id];!C||!C.hasLoader||(!h.some(B=>B.route.id===T.route.id)&&T.route.id in l&&((P=a[T.route.id])!=null&&P.shouldRevalidate)||C.hasClientLoader?S=!0:b.add(T.route.id))}),b.size===0)return[];let R=a2(n);return S&&b.size>0&&R.searchParams.set("_routes",e.filter(T=>b.has(T.route.id)).map(T=>T.route.id).join(",")),[R.pathname+R.search]},[l,i,r,h,e,n,a]),v=z.useMemo(()=>n2(f,r),[f,r]),_=h2(f);return z.createElement(z.Fragment,null,p.map(b=>z.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>z.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),_.map(({key:b,link:S})=>z.createElement("link",{key:b,...S})))}function f2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var $R=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$R&&(window.__reactRouterVersion="7.1.5")}catch{}function g2({basename:n,children:e,window:t}){let i=z.useRef();i.current==null&&(i.current=ZM({window:t,v5Compat:!0}));let r=i.current,[a,l]=z.useState({action:r.action,location:r.location}),u=z.useCallback(h=>{z.startTransition(()=>l(h))},[l]);return z.useLayoutEffect(()=>r.listen(u),[r,u]),z.createElement(FO,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}var YR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=z.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:l,state:u,target:h,to:f,preventScrollReset:p,viewTransition:v,..._},b){let{basename:S}=z.useContext(Bi),R=typeof f=="string"&&YR.test(f),T,C=!1;if(typeof f=="string"&&R&&(T=f,$R))try{let k=new URL(window.location.href),M=f.startsWith("//")?new URL(k.protocol+f):new URL(f),V=da(M.pathname,S);M.origin===k.origin&&V!=null?f=V+M.search+M.hash:C=!0}catch{xi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=SO(f,{relative:r}),[B,G,X]=c2(i,_),ne=v2(f,{replace:l,state:u,target:h,preventScrollReset:p,relative:r,viewTransition:v});function O(k){e&&e(k),k.defaultPrevented||ne(k)}let I=z.createElement("a",{..._,...X,href:T||P,onClick:C||a?e:O,ref:f2(b,G),target:h,"data-discover":!R&&t==="render"?"true":void 0});return B&&!R?z.createElement(z.Fragment,null,I,z.createElement(u2,{page:P})):I});mt.displayName="Link";var p2=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:l,viewTransition:u,children:h,...f},p){let v=xh(l,{relative:f.relative}),_=Hi(),b=z.useContext(ip),{navigator:S,basename:R}=z.useContext(Bi),T=b!=null&&A2(v)&&u===!0,C=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,P=_.pathname,B=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(P=P.toLowerCase(),B=B?B.toLowerCase():null,C=C.toLowerCase()),B&&R&&(B=da(B,R)||B);const G=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let X=P===C||!r&&P.startsWith(C)&&P.charAt(G)==="/",ne=B!=null&&(B===C||!r&&B.startsWith(C)&&B.charAt(C.length)==="/"),O={isActive:X,isPending:ne,isTransitioning:T},I=X?e:void 0,k;typeof i=="function"?k=i(O):k=[i,X?"active":null,ne?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(O):a;return z.createElement(mt,{...f,"aria-current":I,className:k,ref:p,style:M,to:l,viewTransition:u},typeof h=="function"?h(O):h)});p2.displayName="NavLink";var m2=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:l=zf,action:u,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:v,..._},b)=>{let S=E2(),R=w2(u,{relative:f}),T=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&YR.test(u),P=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let G=B.nativeEvent.submitter,X=(G==null?void 0:G.getAttribute("formmethod"))||l;S(G||B.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:r,state:a,relative:f,preventScrollReset:p,viewTransition:v})};return z.createElement("form",{ref:b,method:T,action:R,onSubmit:i?h:P,..._,"data-discover":!C&&n==="render"?"true":void 0})});m2.displayName="Form";function y2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QR(n){let e=z.useContext(sc);return _t(e,y2(n)),e}function v2(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:l}={}){let u=wa(),h=Hi(),f=xh(n,{relative:a});return z.useCallback(p=>{if(QO(p,e)){p.preventDefault();let v=t!==void 0?t:oh(h)===oh(f);u(n,{replace:v,state:i,preventScrollReset:r,relative:a,viewTransition:l})}},[h,u,f,t,i,e,n,r,a,l])}var _2=0,b2=()=>`__${String(++_2)}__`;function E2(){let{router:n}=QR("useSubmit"),{basename:e}=z.useContext(Bi),t=LO();return z.useCallback(async(i,r={})=>{let{action:a,method:l,encType:u,formData:h,body:f}=ZO(i,e);if(r.navigate===!1){let p=r.fetcherKey||b2();await n.fetch(p,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function w2(n,{relative:e}={}){let{basename:t}=z.useContext(Bi),i=z.useContext(Ri);_t(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...xh(n||".",{relative:e})},l=Hi();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let p=u.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ns([t,a.pathname])),oh(a)}function A2(n,e={}){let t=z.useContext(zR);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=QR("useViewTransitionState"),r=xh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=da(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=da(t.nextLocation.pathname,i)||t.nextLocation.pathname;return rg(r.pathname,l)!=null||rg(r.pathname,a)!=null}new TextEncoder;var Lv=PR(),KR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},BA=Ai.createContext&&Ai.createContext(KR),S2=["attr","size","title"];function T2(n,e){if(n==null)return{};var t=x2(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function x2(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function sg(){return sg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sg.apply(this,arguments)}function HA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ag(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(t),!0).forEach(function(i){R2(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function R2(n,e,t){return e=C2(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function C2(n){var e=D2(n,"string");return typeof e=="symbol"?e:e+""}function D2(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function XR(n){return n&&n.map((e,t)=>Ai.createElement(e.tag,ag({key:t},e.attr),XR(e.child)))}function ZR(n){return e=>Ai.createElement(I2,sg({attr:ag({},n.attr)},e),XR(n.child))}function I2(n){var e=t=>{var{attr:i,size:r,title:a}=n,l=T2(n,S2),u=r||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Ai.createElement("svg",sg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:h,style:ag(ag({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&Ai.createElement("title",null,a),n.children)};return BA!==void 0?Ai.createElement(BA.Consumer,null,t=>e(t)):e(KR)}function k2(n){return ZR({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function N2(n){return ZR({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}var FA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},M2=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],l=n[t++],u=n[t++],h=((r&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return e.join("")},eC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],l=r+1<n.length,u=l?n[r+1]:0,h=r+2<n.length,f=h?n[r+2]:0,p=a>>2,v=(a&3)<<4|u>>4;let _=(u&15)<<2|f>>6,b=f&63;h||(b=64,l||(_=64)),i.push(t[p],t[v],t[_],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(JR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):M2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],u=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const v=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||u==null||f==null||v==null)throw new O2;const _=a<<2|u>>4;if(i.push(_),f!==64){const b=u<<4&240|f>>2;if(i.push(b),v!==64){const S=f<<6&192|v;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class O2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P2=function(n){const e=JR(n);return eC.encodeByteArray(e,!0)},og=function(n){return P2(n).replace(/\./g,"")},tC=function(n){try{return eC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=()=>j2().__FIREBASE_DEFAULTS__,V2=()=>{if(typeof process>"u"||typeof FA>"u")return;const n=FA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},U2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&tC(n[1]);return e&&JSON.parse(e)},ap=()=>{try{return L2()||V2()||U2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},nC=n=>{var e,t;return(t=(e=ap())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},z2=n=>{const e=nC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},iC=()=>{var n;return(n=ap())===null||n===void 0?void 0:n.config},rC=n=>{var e;return(e=ap())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[og(JSON.stringify(t)),og(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function q2(){var n;const e=(n=ap())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function G2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $2(){const n=Dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Y2(){return!q2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aC(){try{return typeof indexedDB=="object"}catch{return!1}}function oC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function Q2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="FirebaseError";class Fi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=K2,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,No.prototype.create)}}class No{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],l=a?X2(a,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new Fi(r,u,i)}}function X2(n,e){return n.replace(Z2,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Z2=/\{\$([^}]+)}/g;function J2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function lh(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],l=e[r];if(qA(a)&&qA(l)){if(!lh(a,l))return!1}else if(a!==l)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function qA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Mu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function Ou(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function eP(n,e){const t=new tP(n,e);return t.subscribe.bind(t)}class tP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");nP(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Ky),r.error===void 0&&(r.error=Ky),r.complete===void 0&&(r.complete=Ky);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ky(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=1e3,rP=2,sP=4*60*60*1e3,aP=.5;function WA(n,e=iP,t=rP){const i=e*Math.pow(t,n),r=Math.round(aP*i*(Math.random()-.5)*2);return Math.min(sP,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n){return n&&n._delegate?n._delegate:n}class ji{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new B2;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cP(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lo){return this.instances.has(e)}getOptions(e=lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:lP(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=lo){return this.component?this.component.multipleInstances?e:lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lP(n){return n===lo?void 0:n}function cP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const hP={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},dP=Ue.INFO,fP={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},gP=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=fP[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class op{constructor(e){this.name=e,this._logLevel=dP,this._logHandler=gP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const pP=(n,e)=>e.some(t=>n instanceof t);let GA,$A;function mP(){return GA||(GA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yP(){return $A||($A=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lC=new WeakMap,Vv=new WeakMap,cC=new WeakMap,Xy=new WeakMap,z_=new WeakMap;function vP(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(aa(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&lC.set(t,n)}).catch(()=>{}),z_.set(e,n),e}function _P(n){if(Vv.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Vv.set(n,e)}let Uv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Vv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return aa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bP(n){Uv=n(Uv)}function EP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Zy(this),e,...t);return cC.set(i,e.sort?e.sort():[e]),aa(i)}:yP().includes(n)?function(...e){return n.apply(Zy(this),e),aa(lC.get(this))}:function(...e){return aa(n.apply(Zy(this),e))}}function wP(n){return typeof n=="function"?EP(n):(n instanceof IDBTransaction&&_P(n),pP(n,mP())?new Proxy(n,Uv):n)}function aa(n){if(n instanceof IDBRequest)return vP(n);if(Xy.has(n))return Xy.get(n);const e=wP(n);return e!==n&&(Xy.set(n,e),z_.set(e,n)),e}const Zy=n=>z_.get(n);function uC(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const l=indexedDB.open(n,e),u=aa(l);return i&&l.addEventListener("upgradeneeded",h=>{i(aa(l.result),h.oldVersion,h.newVersion,aa(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const AP=["get","getKey","getAll","getAllKeys","count"],SP=["put","add","delete","clear"],Jy=new Map;function YA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jy.get(e))return Jy.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=SP.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||AP.includes(t)))return;const a=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),r&&h.done]))[0]};return Jy.set(e,a),a}bP(n=>({...n,get:(e,t,i)=>YA(e,t)||n.get(e,t,i),has:(e,t)=>!!YA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(xP(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function xP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zv="@firebase/app",QA="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new op("@firebase/app"),RP="@firebase/app-compat",CP="@firebase/analytics-compat",DP="@firebase/analytics",IP="@firebase/app-check-compat",kP="@firebase/app-check",NP="@firebase/auth",MP="@firebase/auth-compat",OP="@firebase/database",PP="@firebase/data-connect",jP="@firebase/database-compat",LP="@firebase/functions",VP="@firebase/functions-compat",UP="@firebase/installations",zP="@firebase/installations-compat",BP="@firebase/messaging",HP="@firebase/messaging-compat",FP="@firebase/performance",qP="@firebase/performance-compat",WP="@firebase/remote-config",GP="@firebase/remote-config-compat",$P="@firebase/storage",YP="@firebase/storage-compat",QP="@firebase/firestore",KP="@firebase/vertexai",XP="@firebase/firestore-compat",ZP="firebase",JP="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="[DEFAULT]",ej={[zv]:"fire-core",[RP]:"fire-core-compat",[DP]:"fire-analytics",[CP]:"fire-analytics-compat",[kP]:"fire-app-check",[IP]:"fire-app-check-compat",[NP]:"fire-auth",[MP]:"fire-auth-compat",[OP]:"fire-rtdb",[PP]:"fire-data-connect",[jP]:"fire-rtdb-compat",[LP]:"fire-fn",[VP]:"fire-fn-compat",[UP]:"fire-iid",[zP]:"fire-iid-compat",[BP]:"fire-fcm",[HP]:"fire-fcm-compat",[FP]:"fire-perf",[qP]:"fire-perf-compat",[WP]:"fire-rc",[GP]:"fire-rc-compat",[$P]:"fire-gcs",[YP]:"fire-gcs-compat",[QP]:"fire-fst",[XP]:"fire-fst-compat",[KP]:"fire-vertex","fire-js":"fire-js",[ZP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=new Map,tj=new Map,Hv=new Map;function KA(n,e){try{n.container.addComponent(e)}catch(t){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function vr(n){const e=n.name;if(Hv.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;Hv.set(e,n);for(const t of lg.values())KA(t,n);for(const t of tj.values())KA(t,n);return!0}function Mo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ei(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oa=new No("app","Firebase",nj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=JP;function hC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Bv,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw oa.create("bad-app-name",{appName:String(r)});if(t||(t=iC()),!t)throw oa.create("no-options");const a=lg.get(r);if(a){if(lh(t,a.options)&&lh(i,a.config))return a;throw oa.create("duplicate-app",{appName:r})}const l=new uP(r);for(const h of Hv.values())l.addComponent(h);const u=new ij(t,i,l);return lg.set(r,u),u}function B_(n=Bv){const e=lg.get(n);if(!e&&n===Bv&&iC())return hC();if(!e)throw oa.create("no-app",{appName:n});return e}function Si(n,e,t){var i;let r=(i=ej[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(u.join(" "));return}vr(new ji(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="firebase-heartbeat-database",sj=1,ch="firebase-heartbeat-store";let ev=null;function dC(){return ev||(ev=uC(rj,sj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ch)}catch(t){console.warn(t)}}}}).catch(n=>{throw oa.create("idb-open",{originalErrorMessage:n.message})})),ev}async function aj(n){try{const t=(await dC()).transaction(ch),i=await t.objectStore(ch).get(fC(n));return await t.done,i}catch(e){if(e instanceof Fi)ss.warn(e.message);else{const t=oa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ss.warn(t.message)}}}async function XA(n,e){try{const i=(await dC()).transaction(ch,"readwrite");await i.objectStore(ch).put(e,fC(n)),await i.done}catch(t){if(t instanceof Fi)ss.warn(t.message);else{const i=oa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ss.warn(i.message)}}}function fC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=1024,lj=30;class cj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new hj(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ZA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>lj){const l=dj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ss.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ZA(),{heartbeatsToSend:i,unsentEntries:r}=uj(this._heartbeatsCache.heartbeats),a=og(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ss.warn(t),""}}}function ZA(){return new Date().toISOString().substring(0,10)}function uj(n,e=oj){const t=[];let i=n.slice();for(const r of n){const a=t.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),JA(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),JA(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class hj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aC()?oC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aj(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return XA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return XA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function JA(n){return og(JSON.stringify({version:2,heartbeats:n})).length}function dj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(n){vr(new ji("platform-logger",e=>new TP(e),"PRIVATE")),vr(new ji("heartbeat",e=>new cj(e),"PRIVATE")),Si(zv,QA,n),Si(zv,QA,"esm2017"),Si("fire-js","")}fj("");function H_(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function gC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gj=gC,pC=new No("auth","Firebase",gC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=new op("@firebase/auth");function pj(n,...e){cg.logLevel<=Ue.WARN&&cg.warn(`Auth (${oc}): ${n}`,...e)}function Hf(n,...e){cg.logLevel<=Ue.ERROR&&cg.error(`Auth (${oc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(n,...e){throw F_(n,...e)}function gr(n,...e){return F_(n,...e)}function mC(n,e,t){const i=Object.assign(Object.assign({},gj()),{[e]:t});return new No("auth","Firebase",i).create(e,{appName:n.name})}function is(n){return mC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function F_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return pC.create(n,...e)}function Ce(n,e,...t){if(!n)throw F_(e,...t)}function Jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hf(e),new Error(e)}function as(n,e){n||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function yC(){return eS()==="http:"||eS()==="https:"}function eS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yC()||sC()||"connection"in navigator)?navigator.onLine:!0}function yj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t){this.shortDelay=e,this.longDelay=t,as(t>e,"Short delay should be less than long delay!"),this.isMobile=F2()||G2()}get(){return mj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(n,e){as(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new Ch(3e4,6e4);function Er(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function qi(n,e,t,i,r={}){return _C(n,r,async()=>{let a={},l={};i&&(e==="GET"?l=i:a={body:JSON.stringify(i)});const u=Rh(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},a);return W2()||(f.referrerPolicy="no-referrer"),vC.fetch()(bC(n,n.config.apiHost,t,u),f)})}async function _C(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},vj),e);try{const r=new Ej(n),a=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw df(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw df(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw df(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw df(n,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw mC(n,p,f);Li(n,p)}}catch(r){if(r instanceof Fi)throw r;Li(n,"network-request-failed",{message:String(r)})}}async function Dh(n,e,t,i,r={}){const a=await qi(n,e,t,i,r);return"mfaPendingCredential"in a&&Li(n,"multi-factor-auth-required",{_serverResponse:a}),a}function bC(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?q_(n.config,r):`${n.config.apiScheme}://${r}`}function bj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ej{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(gr(this.auth,"network-request-failed")),_j.get())})}}function df(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=gr(n,e,i);return r.customData._tokenResponse=t,r}function tS(n){return n!==void 0&&n.enterprise!==void 0}class wj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return bj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Aj(n,e){return qi(n,"GET","/v2/recaptchaConfig",Er(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sj(n,e){return qi(n,"POST","/v1/accounts:delete",e)}async function EC(n,e){return qi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tj(n,e=!1){const t=At(n),i=await t.getIdToken(e),r=W_(i);Ce(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:Wu(tv(r.auth_time)),issuedAtTime:Wu(tv(r.iat)),expirationTime:Wu(tv(r.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function tv(n){return Number(n)*1e3}function W_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Hf("JWT malformed, contained fewer than 3 sections"),null;try{const r=tC(t);return r?JSON.parse(r):(Hf("Failed to decode base64 JWT payload"),null)}catch(r){return Hf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function nS(n){const e=W_(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Fi&&xj(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function xj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hg(n){var e;const t=n.auth,i=await n.getIdToken(),r=await $l(n,EC(t,{idToken:i}));Ce(r==null?void 0:r.users.length,t,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?wC(a.providerUserInfo):[],u=Dj(n.providerData,l),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),p=h?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Fv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function Cj(n){const e=At(n);await hg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Dj(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function wC(n){return n.map(e=>{var{providerId:t}=e,i=H_(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(n,e){const t=await _C(n,{},async()=>{const i=Rh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,l=bC(n,r,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",vC.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function kj(n,e){return qi(n,"POST","/v2/accounts:revokeToken",Er(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=nS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:a}=await Ij(e,t);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:a}=t,l=new zl;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),a&&(Ce(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class es{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,a=H_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Fv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await $l(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Tj(this,e)}reload(){return Cj(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new es(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await hg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await $l(this,Sj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,a,l,u,h,f,p;const v=(i=t.displayName)!==null&&i!==void 0?i:void 0,_=(r=t.email)!==null&&r!==void 0?r:void 0,b=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,S=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,T=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,C=(f=t.createdAt)!==null&&f!==void 0?f:void 0,P=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:B,emailVerified:G,isAnonymous:X,providerData:ne,stsTokenManager:O}=t;Ce(B&&O,e,"internal-error");const I=zl.fromJSON(this.name,O);Ce(typeof B=="string",e,"internal-error"),Ys(v,e.name),Ys(_,e.name),Ce(typeof G=="boolean",e,"internal-error"),Ce(typeof X=="boolean",e,"internal-error"),Ys(b,e.name),Ys(S,e.name),Ys(R,e.name),Ys(T,e.name),Ys(C,e.name),Ys(P,e.name);const k=new es({uid:B,auth:e,email:_,emailVerified:G,displayName:v,isAnonymous:X,photoURL:S,phoneNumber:b,tenantId:R,stsTokenManager:I,createdAt:C,lastLoginAt:P});return ne&&Array.isArray(ne)&&(k.providerData=ne.map(M=>Object.assign({},M))),T&&(k._redirectEventId=T),k}static async _fromIdTokenResponse(e,t,i=!1){const r=new zl;r.updateFromServerResponse(t);const a=new es({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await hg(a),a}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Ce(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?wC(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),u=new zl;u.updateFromIdToken(i);const h=new es({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Fv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Map;function ts(n){as(n instanceof Function,"Expected a class definition");let e=iS.get(n);return e?(as(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,iS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}AC.type="NONE";const rS=AC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(n,e,t){return`firebase:${n}:${e}:${t}`}class Bl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Ff(this.userKey,r.apiKey,a),this.fullPersistenceKey=Ff("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?es._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Bl(ts(rS),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=r[0]||ts(rS);const l=Ff(i,e.config.apiKey,e.name);let u=null;for(const f of t)try{const p=await f._get(l);if(p){const v=es._fromJSON(e,p);f!==a&&(u=v),a=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Bl(a,e,i):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Bl(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DC(e))return"Blackberry";if(IC(e))return"Webos";if(TC(e))return"Safari";if((e.includes("chrome/")||xC(e))&&!e.includes("edge/"))return"Chrome";if(CC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function SC(n=Dn()){return/firefox\//i.test(n)}function TC(n=Dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xC(n=Dn()){return/crios\//i.test(n)}function RC(n=Dn()){return/iemobile/i.test(n)}function CC(n=Dn()){return/android/i.test(n)}function DC(n=Dn()){return/blackberry/i.test(n)}function IC(n=Dn()){return/webos/i.test(n)}function G_(n=Dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Nj(n=Dn()){var e;return G_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Mj(){return $2()&&document.documentMode===10}function kC(n=Dn()){return G_(n)||CC(n)||IC(n)||DC(n)||/windows phone/i.test(n)||RC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(n,e=[]){let t;switch(n){case"Browser":t=sS(Dn());break;case"Worker":t=`${sS(Dn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${oc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(n,e={}){return qi(n,"GET","/v2/passwordPolicy",Er(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=6;class Lj{constructor(e){var t,i,r,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:jj,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,a,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aS(this),this.idTokenSubscription=new aS(this),this.beforeStateQueue=new Oj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ts(t)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Bl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await EC(this,{idToken:e}),i=await es._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ei(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ei(this.app))return Promise.reject(is(this));const t=e?At(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ei(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pj(this),t=new Lj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new No("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await kj(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ts(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Bl.create(this,[ts(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&pj(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Oo(n){return At(n)}class aS{constructor(e){this.auth=e,this.observer=null,this.addObserver=eP(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Uj(n){lp=n}function MC(n){return lp.loadJS(n)}function zj(){return lp.recaptchaEnterpriseScript}function Bj(){return lp.gapiScript}function Hj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Fj{constructor(){this.enterprise=new qj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class qj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Wj="recaptcha-enterprise",OC="NO_RECAPTCHA";class Gj{constructor(e){this.type=Wj,this.auth=Oo(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{Aj(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new wj(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function r(a,l,u){const h=window.grecaptcha;tS(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(OC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Fj().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(u=>{if(!t&&tS(window.grecaptcha))r(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=zj();h.length!==0&&(h+=u),MC(h).then(()=>{r(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function oS(n,e,t,i=!1,r=!1){const a=new Gj(n);let l;if(r)l=OC;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function qv(n,e,t,i,r){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await oS(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await oS(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(n,e){const t=Mo(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),a=t.getOptions();if(lh(a,e??{}))return r;Li(r,"already-initialized")}return t.initialize({options:e})}function Yj(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ts);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Qj(n,e,t){const i=Oo(n);Ce(i._canInitEmulator,i,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=PC(e),{host:l,port:u}=Kj(e),h=u===null?"":`:${u}`;i.config.emulator={url:`${a}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})}),Xj()}function PC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Kj(n){const e=PC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:lS(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:lS(l)}}}function lS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Xj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}async function Zj(n,e){return qi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(n,e){return Dh(n,"POST","/v1/accounts:signInWithPassword",Er(n,e))}async function eL(n,e){return qi(n,"POST","/v1/accounts:sendOobCode",Er(n,e))}async function tL(n,e){return eL(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(n,e){return Dh(n,"POST","/v1/accounts:signInWithEmailLink",Er(n,e))}async function iL(n,e){return Dh(n,"POST","/v1/accounts:signInWithEmailLink",Er(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends $_{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new uh(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new uh(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qv(e,t,"signInWithPassword",Jj);case"emailLink":return nL(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qv(e,i,"signUpPassword",Zj);case"emailLink":return iL(e,{idToken:t,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(n,e){return Dh(n,"POST","/v1/accounts:signInWithIdp",Er(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="http://localhost";class Eo extends $_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,a=H_(t,["providerId","signInMethod"]);if(!i||!r)return null;const l=new Eo(i,r);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Hl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Hl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Hl(e,t)}buildRequest(){const e={requestUri:rL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aL(n){const e=Mu(Ou(n)).link,t=e?Mu(Ou(e)).deep_link_id:null,i=Mu(Ou(n)).deep_link_id;return(i?Mu(Ou(i)).link:null)||i||t||e||n}class Y_{constructor(e){var t,i,r,a,l,u;const h=Mu(Ou(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,p=(i=h.oobCode)!==null&&i!==void 0?i:null,v=sL((r=h.mode)!==null&&r!==void 0?r:null);Ce(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=aL(e);try{return new Y_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.providerId=lc.PROVIDER_ID}static credential(e,t){return uh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Y_.parseLink(t);return Ce(i,"argument-error"),uh._fromEmailAndCode(e,i.code,i.tenantId)}}lc.PROVIDER_ID="password";lc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends jC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Ih{constructor(){super("facebook.com")}static credential(e){return Eo._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Ih{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Eo._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Zr.credential(t,i)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Ih{constructor(){super("github.com")}static credential(e){return Eo._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Ih{constructor(){super("twitter.com")}static credential(e,t){return Eo._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Zs.credential(t,i)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(n,e){return Dh(n,"POST","/v1/accounts:signUp",Er(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const a=await es._fromIdTokenResponse(e,i,r),l=cS(i);return new wo({user:a,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=cS(i);return new wo({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function cS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends Fi{constructor(e,t,i,r){var a;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,dg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new dg(e,t,i,r)}}function LC(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?dg._fromErrorAndOperation(n,a,e,i):a})}async function lL(n,e,t=!1){const i=await $l(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return wo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(n,e,t=!1){const{auth:i}=n;if(Ei(i.app))return Promise.reject(is(i));const r="reauthenticate";try{const a=await $l(n,LC(i,r,e,n),t);Ce(a.idToken,i,"internal-error");const l=W_(a.idToken);Ce(l,i,"internal-error");const{sub:u}=l;return Ce(n.uid===u,i,"user-mismatch"),wo._forOperation(n,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Li(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(n,e,t=!1){if(Ei(n.app))return Promise.reject(is(n));const i="signIn",r=await LC(n,i,e),a=await wo._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(a.user),a}async function uL(n,e){return VC(Oo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(n){const e=Oo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hL(n,e,t){if(Ei(n.app))return Promise.reject(is(n));const i=Oo(n),l=await qv(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oL).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&UC(n),h}),u=await wo._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function dL(n,e,t){return Ei(n.app)?Promise.reject(is(n)):uL(At(n),lc.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&UC(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(n,e){return qi(n,"POST","/v1/accounts:createAuthUri",Er(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(n,e){const t=yC()?ug():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:r}=await fL(At(n),i);return r||[]}async function pL(n,e){const t=At(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await tL(t.auth,r);a!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(n,e){return qi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=At(n),a={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await $l(i,mL(i.auth,a));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const u=i.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function vL(n,e,t,i){return At(n).onIdTokenChanged(e,t,i)}function _L(n,e,t){return At(n).beforeAuthStateChanged(e,t)}function zC(n,e,t,i){return At(n).onAuthStateChanged(e,t,i)}function bL(n){return At(n).signOut()}const fg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fg,"1"),this.storage.removeItem(fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=1e3,wL=10;class HC extends BC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);Mj()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,wL):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},EL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}HC.type="LOCAL";const AL=HC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC extends BC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}FC.type="SESSION";const qC=FC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new cp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:a}=t.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(t.origin,a)),h=await SL(u);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const f=Q_("",20);r.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(_.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function xL(n){pr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function RL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CL(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function DL(){return WC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="firebaseLocalStorageDb",IL=1,gg="firebaseLocalStorage",$C="fbase_key";class kh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function up(n,e){return n.transaction([gg],e?"readwrite":"readonly").objectStore(gg)}function kL(){const n=indexedDB.deleteDatabase(GC);return new kh(n).toPromise()}function Wv(){const n=indexedDB.open(GC,IL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(gg,{keyPath:$C})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(gg)?e(i):(i.close(),await kL(),e(await Wv()))})})}async function uS(n,e,t){const i=up(n,!0).put({[$C]:e,value:t});return new kh(i).toPromise()}async function NL(n,e){const t=up(n,!1).get(e),i=await new kh(t).toPromise();return i===void 0?null:i.value}function hS(n,e){const t=up(n,!0).delete(e);return new kh(t).toPromise()}const ML=800,OL=3;class YC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>OL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cp._getInstance(DL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await RL(),!this.activeServiceWorker)return;this.sender=new TL(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wv();return await uS(e,fg,"1"),await hS(e,fg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>uS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>NL(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=up(r,!1).getAll();return new kh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ML)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YC.type="LOCAL";const PL=YC;new Ch(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(n,e){return e?ts(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_ extends $_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Hl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LL(n){return VC(n.auth,new K_(n),n.bypassAuthState)}function VL(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),cL(t,new K_(n),n.bypassAuthState)}async function UL(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),lL(t,new K_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LL;case"linkViaPopup":case"linkViaRedirect":return UL;case"reauthViaPopup":case"reauthViaRedirect":return VL;default:Li(this.auth,"internal-error")}}resolve(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=new Ch(2e3,1e4);class Vl extends QC{constructor(e,t,i,r,a){super(e,t,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Vl.currentPopupAction&&Vl.currentPopupAction.cancel(),Vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const e=Q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zL.get())};e()}}Vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="pendingRedirect",qf=new Map;class HL extends QC{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=qf.get(this.auth._key());if(!e){try{const i=await FL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}qf.set(this.auth._key(),e)}return this.bypassAuthState||qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FL(n,e){const t=GL(e),i=WL(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function qL(n,e){qf.set(n._key(),e)}function WL(n){return ts(n._redirectPersistence)}function GL(n){return Ff(BL,n.config.apiKey,n.name)}async function $L(n,e,t=!1){if(Ei(n.app))return Promise.reject(is(n));const i=Oo(n),r=jL(i,e),l=await new HL(i,r,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=10*60*1e3;class QL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!KC(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(gr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YL&&this.cachedEventUids.clear(),this.cachedEventUids.has(dS(e))}saveEventToCache(e){this.cachedEventUids.add(dS(e)),this.lastProcessedEventTime=Date.now()}}function dS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function KC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(n,e={}){return qi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JL=/^https?/;async function eV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await XL(n);for(const t of e)try{if(tV(t))return}catch{}Li(n,"unauthorized-domain")}function tV(n){const e=ug(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!JL.test(t))return!1;if(ZL.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=new Ch(3e4,6e4);function fS(){const n=pr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iV(n){return new Promise((e,t)=>{var i,r,a;function l(){fS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fS(),t(gr(n,"network-request-failed"))},timeout:nV.get()})}if(!((r=(i=pr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((a=pr().gapi)===null||a===void 0)&&a.load)l();else{const u=Hj("iframefcb");return pr()[u]=()=>{gapi.load?l():t(gr(n,"network-request-failed"))},MC(`${Bj()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw Wf=null,e})}let Wf=null;function rV(n){return Wf=Wf||iV(n),Wf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new Ch(5e3,15e3),aV="__/auth/iframe",oV="emulator/auth/iframe",lV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uV(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?q_(e,oV):`https://${n.config.authDomain}/${aV}`,i={apiKey:e.apiKey,appName:n.name,v:oc},r=cV.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Rh(i).slice(1)}`}async function hV(n){const e=await rV(n),t=pr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:uV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lV,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const l=gr(n,"network-request-failed"),u=pr().setTimeout(()=>{a(l)},sV.get());function h(){pr().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fV=500,gV=600,pV="_blank",mV="http://localhost";class gS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yV(n,e,t,i=fV,r=gV){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},dV),{width:i.toString(),height:r.toString(),top:a,left:l}),f=Dn().toLowerCase();t&&(u=xC(f)?pV:t),SC(f)&&(e=e||mV,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[b,S])=>`${_}${b}=${S},`,"");if(Nj(f)&&u!=="_self")return vV(e||"",u),new gS(null);const v=window.open(e||"",u,p);Ce(v,n,"popup-blocked");try{v.focus()}catch{}return new gS(v)}function vV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="__/auth/handler",bV="emulator/auth/handler",EV=encodeURIComponent("fac");async function pS(n,e,t,i,r,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:oc,eventId:r};if(e instanceof jC){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",J2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))l[p]=v}if(e instanceof Ih){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const h=await n._getAppCheckToken(),f=h?`#${EV}=${encodeURIComponent(h)}`:"";return`${wV(n)}?${Rh(u).slice(1)}${f}`}function wV({config:n}){return n.emulator?q_(n,bV):`https://${n.authDomain}/${_V}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="webStorageSupport";class AV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qC,this._completeRedirectFn=$L,this._overrideRedirectResult=qL}async _openPopup(e,t,i,r){var a;as((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await pS(e,t,i,ug(),r);return yV(e,l,Q_())}async _openRedirect(e,t,i,r){await this._originValidation(e);const a=await pS(e,t,i,ug(),r);return xL(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:a}=this.eventManagers[t];return r?Promise.resolve(r):(as(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await hV(e),i=new QL(e);return t.register("authEvent",r=>(Ce(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nv,{type:nv},r=>{var a;const l=(a=r==null?void 0:r[0])===null||a===void 0?void 0:a[nv];l!==void 0&&t(!!l),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=eV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kC()||TC()||G_()}}const SV=AV;var mS="@firebase/auth",yS="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RV(n){vr(new ji("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NC(n)},f=new Vj(i,r,a,h);return Yj(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),vr(new ji("auth-internal",e=>{const t=Oo(e.getProvider("auth").getImmediate());return(i=>new TV(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(mS,yS,xV(n)),Si(mS,yS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=5*60,DV=rC("authIdTokenMaxAge")||CV;let vS=null;const IV=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>DV)return;const r=t==null?void 0:t.token;vS!==r&&(vS=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function kV(n=B_()){const e=Mo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=$j(n,{popupRedirectResolver:SV,persistence:[PL,AL,qC]}),i=rC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=IV(a.toString());_L(t,l,()=>l(t.currentUser)),vL(t,u=>l(u))}}const r=nC("auth");return r&&Qj(t,`http://${r}`),t}function NV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Uj({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const a=gr("internal-error");a.customData=r,t(a)},i.type="text/javascript",i.charset="UTF-8",NV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RV("Browser");var MV="firebase",OV="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(MV,OV,"app");const XC="@firebase/installations",X_="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=1e4,JC=`w:${X_}`,eD="FIS_v2",PV="https://firebaseinstallations.googleapis.com/v1",jV=60*60*1e3,LV="installations",VV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ao=new No(LV,VV,UV);function tD(n){return n instanceof Fi&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD({projectId:n}){return`${PV}/projects/${n}/installations`}function iD(n){return{token:n.token,requestStatus:2,expiresIn:BV(n.expiresIn),creationTime:Date.now()}}async function rD(n,e){const i=(await e.json()).error;return Ao.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function sD({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function zV(n,{refreshToken:e}){const t=sD(n);return t.append("Authorization",HV(e)),t}async function aD(n){const e=await n();return e.status>=500&&e.status<600?n():e}function BV(n){return Number(n.replace("s","000"))}function HV(n){return`${eD} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=nD(n),r=sD(n),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={fid:t,authVersion:eD,appId:n.appId,sdkVersion:JC},u={method:"POST",headers:r,body:JSON.stringify(l)},h=await aD(()=>fetch(i,u));if(h.ok){const f=await h.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:iD(f.authToken)}}else throw await rD("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=/^[cdef][\w-]{21}$/,Gv="";function GV(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=$V(n);return WV.test(t)?t:Gv}catch{return Gv}}function $V(n){return qV(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new Map;function cD(n,e){const t=hp(n);uD(t,e),YV(t,e)}function uD(n,e){const t=lD.get(n);if(t)for(const i of t)i(e)}function YV(n,e){const t=QV();t&&t.postMessage({key:n,fid:e}),KV()}let go=null;function QV(){return!go&&"BroadcastChannel"in self&&(go=new BroadcastChannel("[Firebase] FID Change"),go.onmessage=n=>{uD(n.data.key,n.data.fid)}),go}function KV(){lD.size===0&&go&&(go.close(),go=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="firebase-installations-database",ZV=1,So="firebase-installations-store";let iv=null;function Z_(){return iv||(iv=uC(XV,ZV,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(So)}}})),iv}async function pg(n,e){const t=hp(n),r=(await Z_()).transaction(So,"readwrite"),a=r.objectStore(So),l=await a.get(t);return await a.put(e,t),await r.done,(!l||l.fid!==e.fid)&&cD(n,e.fid),e}async function hD(n){const e=hp(n),i=(await Z_()).transaction(So,"readwrite");await i.objectStore(So).delete(e),await i.done}async function dp(n,e){const t=hp(n),r=(await Z_()).transaction(So,"readwrite"),a=r.objectStore(So),l=await a.get(t),u=e(l);return u===void 0?await a.delete(t):await a.put(u,t),await r.done,u&&(!l||l.fid!==u.fid)&&cD(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J_(n){let e;const t=await dp(n.appConfig,i=>{const r=JV(i),a=eU(n,r);return e=a.registrationPromise,a.installationEntry});return t.fid===Gv?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function JV(n){const e=n||{fid:GV(),registrationStatus:0};return dD(e)}function eU(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Ao.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=tU(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nU(n)}:{installationEntry:e}}async function tU(n,e){try{const t=await FV(n,e);return pg(n.appConfig,t)}catch(t){throw tD(t)&&t.customData.serverCode===409?await hD(n.appConfig):await pg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function nU(n){let e=await _S(n.appConfig);for(;e.registrationStatus===1;)await oD(100),e=await _S(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await J_(n);return i||t}return e}function _S(n){return dp(n,e=>{if(!e)throw Ao.create("installation-not-found");return dD(e)})}function dD(n){return iU(n)?{fid:n.fid,registrationStatus:0}:n}function iU(n){return n.registrationStatus===1&&n.registrationTime+ZC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rU({appConfig:n,heartbeatServiceProvider:e},t){const i=sU(n,t),r=zV(n,t),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={installation:{sdkVersion:JC,appId:n.appId}},u={method:"POST",headers:r,body:JSON.stringify(l)},h=await aD(()=>fetch(i,u));if(h.ok){const f=await h.json();return iD(f)}else throw await rD("Generate Auth Token",h)}function sU(n,{fid:e}){return`${nD(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb(n,e=!1){let t;const i=await dp(n.appConfig,a=>{if(!fD(a))throw Ao.create("not-registered");const l=a.authToken;if(!e&&lU(l))return a;if(l.requestStatus===1)return t=aU(n,e),a;{if(!navigator.onLine)throw Ao.create("app-offline");const u=uU(a);return t=oU(n,u),u}});return t?await t:i.authToken}async function aU(n,e){let t=await bS(n.appConfig);for(;t.authToken.requestStatus===1;)await oD(100),t=await bS(n.appConfig);const i=t.authToken;return i.requestStatus===0?eb(n,e):i}function bS(n){return dp(n,e=>{if(!fD(e))throw Ao.create("not-registered");const t=e.authToken;return hU(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function oU(n,e){try{const t=await rU(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await pg(n.appConfig,i),t}catch(t){if(tD(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await hD(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await pg(n.appConfig,i)}throw t}}function fD(n){return n!==void 0&&n.registrationStatus===2}function lU(n){return n.requestStatus===2&&!cU(n)}function cU(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+jV}function uU(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function hU(n){return n.requestStatus===1&&n.requestTime+ZC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dU(n){const e=n,{installationEntry:t,registrationPromise:i}=await J_(e);return i?i.catch(console.error):eb(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(n,e=!1){const t=n;return await gU(t),(await eb(t,e)).token}async function gU(n){const{registrationPromise:e}=await J_(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(n){if(!n||!n.options)throw rv("App Configuration");if(!n.name)throw rv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw rv(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function rv(n){return Ao.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="installations",mU="installations-internal",yU=n=>{const e=n.getProvider("app").getImmediate(),t=pU(e),i=Mo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},vU=n=>{const e=n.getProvider("app").getImmediate(),t=Mo(e,gD).getImmediate();return{getId:()=>dU(t),getToken:r=>fU(t,r)}};function _U(){vr(new ji(gD,yU,"PUBLIC")),vr(new ji(mU,vU,"PRIVATE"))}_U();Si(XC,X_);Si(XC,X_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="analytics",bU="firebase_id",EU="origin",wU=60*1e3,AU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new op("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ni=new No("analytics","Analytics",SU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(n){if(!n.startsWith(tb)){const e=ni.create("invalid-gtag-resource",{gtagURL:n});return Gn.warn(e.message),""}return n}function pD(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function xU(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function RU(n,e){const t=xU("firebase-js-sdk-policy",{createScriptURL:TU}),i=document.createElement("script"),r=`${tb}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function CU(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function DU(n,e,t,i,r,a){const l=i[r];try{if(l)await e[l];else{const h=(await pD(t)).find(f=>f.measurementId===r);h&&await e[h.appId]}}catch(u){Gn.error(u)}n("config",r,a)}async function IU(n,e,t,i,r){try{let a=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const u=await pD(t);for(const h of l){const f=u.find(v=>v.measurementId===h),p=f&&e[f.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,r||{})}catch(a){Gn.error(a)}}function kU(n,e,t,i){async function r(a,...l){try{if(a==="event"){const[u,h]=l;await IU(n,e,t,u,h)}else if(a==="config"){const[u,h]=l;await DU(n,e,t,i,u,h)}else if(a==="consent"){const[u,h]=l;n("consent",u,h)}else if(a==="get"){const[u,h,f]=l;n("get",u,h,f)}else if(a==="set"){const[u]=l;n("set",u)}else n(a,...l)}catch(u){Gn.error(u)}}return r}function NU(n,e,t,i,r){let a=function(...l){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(a=window[r]),window[r]=kU(a,n,e,t),{gtagCore:a,wrappedGtag:window[r]}}function MU(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(tb)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=30,PU=1e3;class jU{constructor(e={},t=PU){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const mD=new jU;function LU(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function VU(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:LU(i)},a=AU.replace("{app-id}",t),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(u=h.error.message)}catch{}throw ni.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function UU(n,e=mD,t){const{appId:i,apiKey:r,measurementId:a}=n.options;if(!i)throw ni.create("no-app-id");if(!r){if(a)return{measurementId:a,appId:i};throw ni.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new HU;return setTimeout(async()=>{u.abort()},wU),yD({appId:i,apiKey:r,measurementId:a},l,u,e)}async function yD(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=mD){var a;const{appId:l,measurementId:u}=n;try{await zU(i,e)}catch(h){if(u)return Gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:u};throw h}try{const h=await VU(n);return r.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!BU(f)){if(r.deleteThrottleMetadata(l),u)return Gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:u};throw h}const p=Number((a=f==null?void 0:f.customData)===null||a===void 0?void 0:a.httpStatus)===503?WA(t,r.intervalMillis,OU):WA(t,r.intervalMillis),v={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return r.setThrottleMetadata(l,v),Gn.debug(`Calling attemptFetch again in ${p} millis`),yD(n,v,i,r)}}function zU(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),a=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(a),i(ni.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function BU(n){if(!(n instanceof Fi)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class HU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function FU(n,e,t,i,r){if(r&&r.global){n("event",t,i);return}else{const a=await e,l=Object.assign(Object.assign({},i),{send_to:a});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qU(){if(aC())try{await oC()}catch(n){return Gn.warn(ni.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Gn.warn(ni.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function WU(n,e,t,i,r,a,l){var u;const h=UU(n);h.then(b=>{t[b.measurementId]=b.appId,n.options.measurementId&&b.measurementId!==n.options.measurementId&&Gn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Gn.error(b)),e.push(h);const f=qU().then(b=>{if(b)return i.getId()}),[p,v]=await Promise.all([h,f]);MU(a)||RU(a,p.measurementId),r("js",new Date);const _=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return _[EU]="firebase",_.update=!0,v!=null&&(_[bU]=v),r("config",p.measurementId,_),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.app=e}_delete(){return delete Gu[this.app.options.appId],Promise.resolve()}}let Gu={},ES=[];const wS={};let sv="dataLayer",$U="gtag",AS,vD,SS=!1;function YU(){const n=[];if(sC()&&n.push("This is a browser extension environment."),Q2()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=ni.create("invalid-analytics-context",{errorInfo:e});Gn.warn(t.message)}}function QU(n,e,t){YU();const i=n.options.appId;if(!i)throw ni.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ni.create("no-api-key");if(Gu[i]!=null)throw ni.create("already-exists",{id:i});if(!SS){CU(sv);const{wrappedGtag:a,gtagCore:l}=NU(Gu,ES,wS,sv,$U);vD=a,AS=l,SS=!0}return Gu[i]=WU(n,ES,wS,e,AS,sv,t),new GU(n)}function KU(n=B_()){n=At(n);const e=Mo(n,mg);return e.isInitialized()?e.getImmediate():XU(n)}function XU(n,e={}){const t=Mo(n,mg);if(t.isInitialized()){const r=t.getImmediate();if(lh(e,t.getOptions()))return r;throw ni.create("already-initialized")}return t.initialize({options:e})}function ZU(n,e,t,i){n=At(n),FU(vD,Gu[n.app.options.appId],e,t,i).catch(r=>Gn.error(r))}const TS="@firebase/analytics",xS="0.10.11";function JU(){vr(new ji(mg,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return QU(i,r,t)},"PUBLIC")),vr(new ji("analytics-internal",n,"PRIVATE")),Si(TS,xS),Si(TS,xS,"esm2017");function n(e){try{const t=e.getProvider(mg).getImmediate();return{logEvent:(i,r,a)=>ZU(t,i,r,a)}}catch(t){throw ni.create("interop-component-reg-failed",{reason:t})}}}JU();var RS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var la,_D;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function k(){}k.prototype=I.prototype,O.D=I.prototype,O.prototype=new k,O.prototype.constructor=O,O.C=function(M,V,H){for(var j=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)j[ke-2]=arguments[ke];return I.prototype[V].apply(M,j)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,I,k){k||(k=0);var M=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)M[V]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(V=0;16>V;++V)M[V]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=O.g[0],k=O.g[1],V=O.g[2];var H=O.g[3],j=I+(H^k&(V^H))+M[0]+3614090360&4294967295;I=k+(j<<7&4294967295|j>>>25),j=H+(V^I&(k^V))+M[1]+3905402710&4294967295,H=I+(j<<12&4294967295|j>>>20),j=V+(k^H&(I^k))+M[2]+606105819&4294967295,V=H+(j<<17&4294967295|j>>>15),j=k+(I^V&(H^I))+M[3]+3250441966&4294967295,k=V+(j<<22&4294967295|j>>>10),j=I+(H^k&(V^H))+M[4]+4118548399&4294967295,I=k+(j<<7&4294967295|j>>>25),j=H+(V^I&(k^V))+M[5]+1200080426&4294967295,H=I+(j<<12&4294967295|j>>>20),j=V+(k^H&(I^k))+M[6]+2821735955&4294967295,V=H+(j<<17&4294967295|j>>>15),j=k+(I^V&(H^I))+M[7]+4249261313&4294967295,k=V+(j<<22&4294967295|j>>>10),j=I+(H^k&(V^H))+M[8]+1770035416&4294967295,I=k+(j<<7&4294967295|j>>>25),j=H+(V^I&(k^V))+M[9]+2336552879&4294967295,H=I+(j<<12&4294967295|j>>>20),j=V+(k^H&(I^k))+M[10]+4294925233&4294967295,V=H+(j<<17&4294967295|j>>>15),j=k+(I^V&(H^I))+M[11]+2304563134&4294967295,k=V+(j<<22&4294967295|j>>>10),j=I+(H^k&(V^H))+M[12]+1804603682&4294967295,I=k+(j<<7&4294967295|j>>>25),j=H+(V^I&(k^V))+M[13]+4254626195&4294967295,H=I+(j<<12&4294967295|j>>>20),j=V+(k^H&(I^k))+M[14]+2792965006&4294967295,V=H+(j<<17&4294967295|j>>>15),j=k+(I^V&(H^I))+M[15]+1236535329&4294967295,k=V+(j<<22&4294967295|j>>>10),j=I+(V^H&(k^V))+M[1]+4129170786&4294967295,I=k+(j<<5&4294967295|j>>>27),j=H+(k^V&(I^k))+M[6]+3225465664&4294967295,H=I+(j<<9&4294967295|j>>>23),j=V+(I^k&(H^I))+M[11]+643717713&4294967295,V=H+(j<<14&4294967295|j>>>18),j=k+(H^I&(V^H))+M[0]+3921069994&4294967295,k=V+(j<<20&4294967295|j>>>12),j=I+(V^H&(k^V))+M[5]+3593408605&4294967295,I=k+(j<<5&4294967295|j>>>27),j=H+(k^V&(I^k))+M[10]+38016083&4294967295,H=I+(j<<9&4294967295|j>>>23),j=V+(I^k&(H^I))+M[15]+3634488961&4294967295,V=H+(j<<14&4294967295|j>>>18),j=k+(H^I&(V^H))+M[4]+3889429448&4294967295,k=V+(j<<20&4294967295|j>>>12),j=I+(V^H&(k^V))+M[9]+568446438&4294967295,I=k+(j<<5&4294967295|j>>>27),j=H+(k^V&(I^k))+M[14]+3275163606&4294967295,H=I+(j<<9&4294967295|j>>>23),j=V+(I^k&(H^I))+M[3]+4107603335&4294967295,V=H+(j<<14&4294967295|j>>>18),j=k+(H^I&(V^H))+M[8]+1163531501&4294967295,k=V+(j<<20&4294967295|j>>>12),j=I+(V^H&(k^V))+M[13]+2850285829&4294967295,I=k+(j<<5&4294967295|j>>>27),j=H+(k^V&(I^k))+M[2]+4243563512&4294967295,H=I+(j<<9&4294967295|j>>>23),j=V+(I^k&(H^I))+M[7]+1735328473&4294967295,V=H+(j<<14&4294967295|j>>>18),j=k+(H^I&(V^H))+M[12]+2368359562&4294967295,k=V+(j<<20&4294967295|j>>>12),j=I+(k^V^H)+M[5]+4294588738&4294967295,I=k+(j<<4&4294967295|j>>>28),j=H+(I^k^V)+M[8]+2272392833&4294967295,H=I+(j<<11&4294967295|j>>>21),j=V+(H^I^k)+M[11]+1839030562&4294967295,V=H+(j<<16&4294967295|j>>>16),j=k+(V^H^I)+M[14]+4259657740&4294967295,k=V+(j<<23&4294967295|j>>>9),j=I+(k^V^H)+M[1]+2763975236&4294967295,I=k+(j<<4&4294967295|j>>>28),j=H+(I^k^V)+M[4]+1272893353&4294967295,H=I+(j<<11&4294967295|j>>>21),j=V+(H^I^k)+M[7]+4139469664&4294967295,V=H+(j<<16&4294967295|j>>>16),j=k+(V^H^I)+M[10]+3200236656&4294967295,k=V+(j<<23&4294967295|j>>>9),j=I+(k^V^H)+M[13]+681279174&4294967295,I=k+(j<<4&4294967295|j>>>28),j=H+(I^k^V)+M[0]+3936430074&4294967295,H=I+(j<<11&4294967295|j>>>21),j=V+(H^I^k)+M[3]+3572445317&4294967295,V=H+(j<<16&4294967295|j>>>16),j=k+(V^H^I)+M[6]+76029189&4294967295,k=V+(j<<23&4294967295|j>>>9),j=I+(k^V^H)+M[9]+3654602809&4294967295,I=k+(j<<4&4294967295|j>>>28),j=H+(I^k^V)+M[12]+3873151461&4294967295,H=I+(j<<11&4294967295|j>>>21),j=V+(H^I^k)+M[15]+530742520&4294967295,V=H+(j<<16&4294967295|j>>>16),j=k+(V^H^I)+M[2]+3299628645&4294967295,k=V+(j<<23&4294967295|j>>>9),j=I+(V^(k|~H))+M[0]+4096336452&4294967295,I=k+(j<<6&4294967295|j>>>26),j=H+(k^(I|~V))+M[7]+1126891415&4294967295,H=I+(j<<10&4294967295|j>>>22),j=V+(I^(H|~k))+M[14]+2878612391&4294967295,V=H+(j<<15&4294967295|j>>>17),j=k+(H^(V|~I))+M[5]+4237533241&4294967295,k=V+(j<<21&4294967295|j>>>11),j=I+(V^(k|~H))+M[12]+1700485571&4294967295,I=k+(j<<6&4294967295|j>>>26),j=H+(k^(I|~V))+M[3]+2399980690&4294967295,H=I+(j<<10&4294967295|j>>>22),j=V+(I^(H|~k))+M[10]+4293915773&4294967295,V=H+(j<<15&4294967295|j>>>17),j=k+(H^(V|~I))+M[1]+2240044497&4294967295,k=V+(j<<21&4294967295|j>>>11),j=I+(V^(k|~H))+M[8]+1873313359&4294967295,I=k+(j<<6&4294967295|j>>>26),j=H+(k^(I|~V))+M[15]+4264355552&4294967295,H=I+(j<<10&4294967295|j>>>22),j=V+(I^(H|~k))+M[6]+2734768916&4294967295,V=H+(j<<15&4294967295|j>>>17),j=k+(H^(V|~I))+M[13]+1309151649&4294967295,k=V+(j<<21&4294967295|j>>>11),j=I+(V^(k|~H))+M[4]+4149444226&4294967295,I=k+(j<<6&4294967295|j>>>26),j=H+(k^(I|~V))+M[11]+3174756917&4294967295,H=I+(j<<10&4294967295|j>>>22),j=V+(I^(H|~k))+M[2]+718787259&4294967295,V=H+(j<<15&4294967295|j>>>17),j=k+(H^(V|~I))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(V+(j<<21&4294967295|j>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+H&4294967295}i.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var k=I-this.blockSize,M=this.B,V=this.h,H=0;H<I;){if(V==0)for(;H<=k;)r(this,O,H),H+=this.blockSize;if(typeof O=="string"){for(;H<I;)if(M[V++]=O.charCodeAt(H++),V==this.blockSize){r(this,M),V=0;break}}else for(;H<I;)if(M[V++]=O[H++],V==this.blockSize){r(this,M),V=0;break}}this.h=V,this.o+=I},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var k=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=k&255,k/=256;for(this.u(O),O=Array(16),I=k=0;4>I;++I)for(var M=0;32>M;M+=8)O[k++]=this.g[I]>>>M&255;return O};function a(O,I){var k=u;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=I(O)}function l(O,I){this.h=I;for(var k=[],M=!0,V=O.length-1;0<=V;V--){var H=O[V]|0;M&&H==I||(k[V]=H,M=!1)}this.g=k}var u={};function h(O){return-128<=O&&128>O?a(O,function(I){return new l([I|0],0>I?-1:0)}):new l([O|0],0>O?-1:0)}function f(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return T(f(-O));for(var I=[],k=1,M=0;O>=k;M++)I[M]=O/k|0,k*=4294967296;return new l(I,0)}function p(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return T(p(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(I,8)),M=v,V=0;V<O.length;V+=8){var H=Math.min(8,O.length-V),j=parseInt(O.substring(V,V+H),I);8>H?(H=f(Math.pow(I,H)),M=M.j(H).add(f(j))):(M=M.j(k),M=M.add(f(j)))}return M}var v=h(0),_=h(1),b=h(16777216);n=l.prototype,n.m=function(){if(R(this))return-T(this).m();for(var O=0,I=1,k=0;k<this.g.length;k++){var M=this.i(k);O+=(0<=M?M:4294967296+M)*I,I*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(S(this))return"0";if(R(this))return"-"+T(this).toString(O);for(var I=f(Math.pow(O,6)),k=this,M="";;){var V=G(k,I).g;k=C(k,V.j(I));var H=((0<k.g.length?k.g[0]:k.h)>>>0).toString(O);if(k=V,S(k))return H+M;for(;6>H.length;)H="0"+H;M=H+M}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function S(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function R(O){return O.h==-1}n.l=function(O){return O=C(this,O),R(O)?-1:S(O)?0:1};function T(O){for(var I=O.g.length,k=[],M=0;M<I;M++)k[M]=~O.g[M];return new l(k,~O.h).add(_)}n.abs=function(){return R(this)?T(this):this},n.add=function(O){for(var I=Math.max(this.g.length,O.g.length),k=[],M=0,V=0;V<=I;V++){var H=M+(this.i(V)&65535)+(O.i(V)&65535),j=(H>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);M=j>>>16,H&=65535,j&=65535,k[V]=j<<16|H}return new l(k,k[k.length-1]&-2147483648?-1:0)};function C(O,I){return O.add(T(I))}n.j=function(O){if(S(this)||S(O))return v;if(R(this))return R(O)?T(this).j(T(O)):T(T(this).j(O));if(R(O))return T(this.j(T(O)));if(0>this.l(b)&&0>O.l(b))return f(this.m()*O.m());for(var I=this.g.length+O.g.length,k=[],M=0;M<2*I;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<O.g.length;V++){var H=this.i(M)>>>16,j=this.i(M)&65535,ke=O.i(V)>>>16,Ee=O.i(V)&65535;k[2*M+2*V]+=j*Ee,P(k,2*M+2*V),k[2*M+2*V+1]+=H*Ee,P(k,2*M+2*V+1),k[2*M+2*V+1]+=j*ke,P(k,2*M+2*V+1),k[2*M+2*V+2]+=H*ke,P(k,2*M+2*V+2)}for(M=0;M<I;M++)k[M]=k[2*M+1]<<16|k[2*M];for(M=I;M<2*I;M++)k[M]=0;return new l(k,0)};function P(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function B(O,I){this.g=O,this.h=I}function G(O,I){if(S(I))throw Error("division by zero");if(S(O))return new B(v,v);if(R(O))return I=G(T(O),I),new B(T(I.g),T(I.h));if(R(I))return I=G(O,T(I)),new B(T(I.g),I.h);if(30<O.g.length){if(R(O)||R(I))throw Error("slowDivide_ only works with positive integers.");for(var k=_,M=I;0>=M.l(O);)k=X(k),M=X(M);var V=ne(k,1),H=ne(M,1);for(M=ne(M,2),k=ne(k,2);!S(M);){var j=H.add(M);0>=j.l(O)&&(V=V.add(k),H=j),M=ne(M,1),k=ne(k,1)}return I=C(O,V.j(I)),new B(V,I)}for(V=v;0<=O.l(I);){for(k=Math.max(1,Math.floor(O.m()/I.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),H=f(k),j=H.j(I);R(j)||0<j.l(O);)k-=M,H=f(k),j=H.j(I);S(H)&&(H=_),V=V.add(H),O=C(O,j)}return new B(V,O)}n.A=function(O){return G(this,O).h},n.and=function(O){for(var I=Math.max(this.g.length,O.g.length),k=[],M=0;M<I;M++)k[M]=this.i(M)&O.i(M);return new l(k,this.h&O.h)},n.or=function(O){for(var I=Math.max(this.g.length,O.g.length),k=[],M=0;M<I;M++)k[M]=this.i(M)|O.i(M);return new l(k,this.h|O.h)},n.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),k=[],M=0;M<I;M++)k[M]=this.i(M)^O.i(M);return new l(k,this.h^O.h)};function X(O){for(var I=O.g.length+1,k=[],M=0;M<I;M++)k[M]=O.i(M)<<1|O.i(M-1)>>>31;return new l(k,O.h)}function ne(O,I){var k=I>>5;I%=32;for(var M=O.g.length-k,V=[],H=0;H<M;H++)V[H]=0<I?O.i(H+k)>>>I|O.i(H+k+1)<<32-I:O.i(H+k);return new l(V,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,_D=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,la=l}).apply(typeof RS<"u"?RS:typeof self<"u"?self:typeof window<"u"?window:{});var ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bD,Pu,ED,Gf,$v,wD,AD,SD;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,E,A){return g==Array.prototype||g==Object.prototype||(g[E]=A.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof ff=="object"&&ff];for(var E=0;E<g.length;++E){var A=g[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var i=t(this);function r(g,E){if(E)e:{var A=i;g=g.split(".");for(var N=0;N<g.length-1;N++){var $=g[N];if(!($ in A))break e;A=A[$]}g=g[g.length-1],N=A[g],E=E(N),E!=N&&E!=null&&e(A,g,{configurable:!0,writable:!0,value:E})}}function a(g,E){g instanceof String&&(g+="");var A=0,N=!1,$={next:function(){if(!N&&A<g.length){var Z=A++;return{value:E(Z,g[Z]),done:!1}}return N=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}r("Array.prototype.values",function(g){return g||function(){return a(this,function(E,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(g){var E=typeof g;return E=E!="object"?E:g?Array.isArray(g)?"array":E:"null",E=="array"||E=="object"&&typeof g.length=="number"}function f(g){var E=typeof g;return E=="object"&&g!=null||E=="function"}function p(g,E,A){return g.call.apply(g.bind,arguments)}function v(g,E,A){if(!g)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,N),g.apply(E,$)}}return function(){return g.apply(E,arguments)}}function _(g,E,A){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,_.apply(null,arguments)}function b(g,E){var A=Array.prototype.slice.call(arguments,1);return function(){var N=A.slice();return N.push.apply(N,arguments),g.apply(this,N)}}function S(g,E){function A(){}A.prototype=E.prototype,g.aa=E.prototype,g.prototype=new A,g.prototype.constructor=g,g.Qb=function(N,$,Z){for(var ce=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ce[qe-2]=arguments[qe];return E.prototype[$].apply(N,ce)}}function R(g){const E=g.length;if(0<E){const A=Array(E);for(let N=0;N<E;N++)A[N]=g[N];return A}return[]}function T(g,E){for(let A=1;A<arguments.length;A++){const N=arguments[A];if(h(N)){const $=g.length||0,Z=N.length||0;g.length=$+Z;for(let ce=0;ce<Z;ce++)g[$+ce]=N[ce]}else g.push(N)}}class C{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function P(g){return/^[\s\xa0]*$/.test(g)}function B(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function G(g){return G[" "](g),g}G[" "]=function(){};var X=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ne(g,E,A){for(const N in g)E.call(A,g[N],N,g)}function O(g,E){for(const A in g)E.call(void 0,g[A],A,g)}function I(g){const E={};for(const A in g)E[A]=g[A];return E}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(g,E){let A,N;for(let $=1;$<arguments.length;$++){N=arguments[$];for(A in N)g[A]=N[A];for(let Z=0;Z<k.length;Z++)A=k[Z],Object.prototype.hasOwnProperty.call(N,A)&&(g[A]=N[A])}}function V(g){var E=1;g=g.split(":");const A=[];for(;0<E&&g.length;)A.push(g.shift()),E--;return g.length&&A.push(g.join(":")),A}function H(g){u.setTimeout(()=>{throw g},0)}function j(){var g=Se;let E=null;return g.g&&(E=g.g,g.g=g.g.next,g.g||(g.h=null),E.next=null),E}class ke{constructor(){this.h=this.g=null}add(E,A){const N=Ee.get();N.set(E,A),this.h?this.h.next=N:this.g=N,this.h=N}}var Ee=new C(()=>new le,g=>g.reset());class le{constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let de,fe=!1,Se=new ke,U=()=>{const g=u.Promise.resolve(void 0);de=()=>{g.then(ae)}};var ae=()=>{for(var g;g=j();){try{g.h.call(g.g)}catch(A){H(A)}var E=Ee;E.j(g),100>E.h&&(E.h++,g.next=E.g,E.g=g)}fe=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(g,E){this.type=g,this.g=this.target=E,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,E=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const A=()=>{};u.addEventListener("test",A,E),u.removeEventListener("test",A,E)}catch{}return g}();function xe(g,E){if(he.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var A=this.type=g.type,N=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=E,E=g.relatedTarget){if(X){e:{try{G(E.nodeName);var $=!0;break e}catch{}$=!1}$||(E=null)}}else A=="mouseover"?E=g.fromElement:A=="mouseout"&&(E=g.toElement);this.relatedTarget=E,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:we[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&xe.aa.h.call(this)}}S(xe,he);var we={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function dt(g,E,A,N,$){this.listener=g,this.proxy=null,this.src=E,this.type=A,this.capture=!!N,this.ha=$,this.key=++Fe,this.da=this.fa=!1}function Je(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function on(g){this.src=g,this.g={},this.h=0}on.prototype.add=function(g,E,A,N,$){var Z=g.toString();g=this.g[Z],g||(g=this.g[Z]=[],this.h++);var ce=Te(g,E,N,$);return-1<ce?(E=g[ce],A||(E.fa=!1)):(E=new dt(E,this.src,Z,!!N,$),E.fa=A,g.push(E)),E};function Ci(g,E){var A=E.type;if(A in g.g){var N=g.g[A],$=Array.prototype.indexOf.call(N,E,void 0),Z;(Z=0<=$)&&Array.prototype.splice.call(N,$,1),Z&&(Je(E),g.g[A].length==0&&(delete g.g[A],g.h--))}}function Te(g,E,A,N){for(var $=0;$<g.length;++$){var Z=g[$];if(!Z.da&&Z.listener==E&&Z.capture==!!A&&Z.ha==N)return $}return-1}var yn="closure_lm_"+(1e6*Math.random()|0),ct={};function ft(g,E,A,N,$){if(Array.isArray(E)){for(var Z=0;Z<E.length;Z++)ft(g,E[Z],A,N,$);return null}return A=Fh(A),g&&g[Ye]?g.K(E,A,f(N)?!!N.capture:!1,$):ln(g,E,A,!1,N,$)}function ln(g,E,A,N,$,Z){if(!E)throw Error("Invalid event type");var ce=f($)?!!$.capture:!!$,qe=yc(g);if(qe||(g[yn]=qe=new on(g)),A=qe.add(E,A,N,ce,Z),A.proxy)return A;if(N=Wi(),A.proxy=N,N.src=g,N.listener=A,g.addEventListener)ue||($=ce),$===void 0&&($=!1),g.addEventListener(E.toString(),N,$);else if(g.attachEvent)g.attachEvent(Fo(E.toString()),N);else if(g.addListener&&g.removeListener)g.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Wi(){function g(A){return E.call(g.src,g.listener,A)}const E=qp;return g}function Gi(g,E,A,N,$){if(Array.isArray(E))for(var Z=0;Z<E.length;Z++)Gi(g,E[Z],A,N,$);else N=f(N)?!!N.capture:!!N,A=Fh(A),g&&g[Ye]?(g=g.i,E=String(E).toString(),E in g.g&&(Z=g.g[E],A=Te(Z,A,N,$),-1<A&&(Je(Z[A]),Array.prototype.splice.call(Z,A,1),Z.length==0&&(delete g.g[E],g.h--)))):g&&(g=yc(g))&&(E=g.g[E.toString()],g=-1,E&&(g=Te(E,A,N,$)),(A=-1<g?E[g]:null)&&wr(A))}function wr(g){if(typeof g!="number"&&g&&!g.da){var E=g.src;if(E&&E[Ye])Ci(E.i,g);else{var A=g.type,N=g.proxy;E.removeEventListener?E.removeEventListener(A,N,g.capture):E.detachEvent?E.detachEvent(Fo(A),N):E.addListener&&E.removeListener&&E.removeListener(N),(A=yc(E))?(Ci(A,g),A.h==0&&(A.src=null,E[yn]=null)):Je(g)}}}function Fo(g){return g in ct?ct[g]:ct[g]="on"+g}function qp(g,E){if(g.da)g=!0;else{E=new xe(E,this);var A=g.listener,N=g.ha||g.src;g.fa&&wr(g),g=A.call(N,E)}return g}function yc(g){return g=g[yn],g instanceof on?g:null}var jn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fh(g){return typeof g=="function"?g:(g[jn]||(g[jn]=function(E){return g.handleEvent(E)}),g[jn])}function Bt(){ge.call(this),this.i=new on(this),this.M=this,this.F=null}S(Bt,ge),Bt.prototype[Ye]=!0,Bt.prototype.removeEventListener=function(g,E,A,N){Gi(this,g,E,A,N)};function Kt(g,E){var A,N=g.F;if(N)for(A=[];N;N=N.F)A.push(N);if(g=g.M,N=E.type||E,typeof E=="string")E=new he(E,g);else if(E instanceof he)E.target=E.target||g;else{var $=E;E=new he(N,g),M(E,$)}if($=!0,A)for(var Z=A.length-1;0<=Z;Z--){var ce=E.g=A[Z];$=Ar(ce,N,!0,E)&&$}if(ce=E.g=g,$=Ar(ce,N,!0,E)&&$,$=Ar(ce,N,!1,E)&&$,A)for(Z=0;Z<A.length;Z++)ce=E.g=A[Z],$=Ar(ce,N,!1,E)&&$}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var g=this.i,E;for(E in g.g){for(var A=g.g[E],N=0;N<A.length;N++)Je(A[N]);delete g.g[E],g.h--}}this.F=null},Bt.prototype.K=function(g,E,A,N){return this.i.add(String(g),E,!1,A,N)},Bt.prototype.L=function(g,E,A,N){return this.i.add(String(g),E,!0,A,N)};function Ar(g,E,A,N){if(E=g.i.g[String(E)],!E)return!0;E=E.concat();for(var $=!0,Z=0;Z<E.length;++Z){var ce=E[Z];if(ce&&!ce.da&&ce.capture==A){var qe=ce.listener,Ft=ce.ha||ce.src;ce.fa&&Ci(g.i,ce),$=qe.call(Ft,N)!==!1&&$}}return $&&!N.defaultPrevented}function qh(g,E,A){if(typeof g=="function")A&&(g=_(g,A));else if(g&&typeof g.handleEvent=="function")g=_(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(g,E||0)}function vc(g){g.g=qh(()=>{g.g=null,g.i&&(g.i=!1,vc(g))},g.l);const E=g.h;g.h=null,g.m.apply(null,E)}class Wp extends ge{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:vc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(g){ge.call(this),this.h=g,this.g={}}S(Ra,ge);var fs=[];function vn(g){ne(g.g,function(E,A){this.g.hasOwnProperty(A)&&wr(E)},g),g.g={}}Ra.prototype.N=function(){Ra.aa.N.call(this),vn(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _c=u.JSON.stringify,$i=u.JSON.parse,In=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function bc(){}bc.prototype.h=null;function Wh(g){return g.h||(g.h=g.i())}function Gh(){}var Yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gs(){he.call(this,"d")}S(gs,he);function Di(){he.call(this,"c")}S(Di,he);var ri={},ps=null;function qo(){return ps=ps||new Bt}ri.La="serverreachability";function Ec(g){he.call(this,ri.La,g)}S(Ec,he);function ms(g){const E=qo();Kt(E,new Ec(E))}ri.STAT_EVENT="statevent";function Wo(g,E){he.call(this,ri.STAT_EVENT,g),this.stat=E}S(Wo,he);function It(g){const E=qo();Kt(E,new Wo(E,g))}ri.Ma="timingevent";function $h(g,E){he.call(this,ri.Ma,g),this.size=E}S($h,he);function ys(g,E){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},E)}function vs(){this.g=!0}vs.prototype.xa=function(){this.g=!1};function Yh(g,E,A,N,$,Z){g.info(function(){if(g.g)if(Z)for(var ce="",qe=Z.split("&"),Ft=0;Ft<qe.length;Ft++){var We=qe[Ft].split("=");if(1<We.length){var Jt=We[0];We=We[1];var qt=Jt.split("_");ce=2<=qt.length&&qt[1]=="type"?ce+(Jt+"="+We+"&"):ce+(Jt+"=redacted&")}}else ce=null;else ce=Z;return"XMLHTTP REQ ("+N+") [attempt "+$+"]: "+E+`
`+A+`
`+ce})}function Qh(g,E,A,N,$,Z,ce){g.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+$+"]: "+E+`
`+A+`
`+Z+" "+ce})}function _s(g,E,A,N){g.info(function(){return"XMLHTTP TEXT ("+E+"): "+Xt(g,A)+(N?" "+N:"")})}function Qi(g,E){g.info(function(){return"TIMEOUT: "+E})}vs.prototype.info=function(){};function Xt(g,E){if(!g.g)return E;if(!E)return null;try{var A=JSON.parse(E);if(A){for(g=0;g<A.length;g++)if(Array.isArray(A[g])){var N=A[g];if(!(2>N.length)){var $=N[1];if(Array.isArray($)&&!(1>$.length)){var Z=$[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ce=1;ce<$.length;ce++)$[ce]=""}}}}return _c(A)}catch{return E}}var Ht={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ca;function Go(){}S(Go,bc),Go.prototype.g=function(){return new XMLHttpRequest},Go.prototype.i=function(){return{}},Ca=new Go;function Ki(g,E,A,N){this.j=g,this.i=E,this.l=A,this.R=N||1,this.U=new Ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wc}function wc(){this.i=null,this.g="",this.h=!1}var bs={},Da={};function Ii(g,E,A){g.L=1,g.v=Na(xt(E)),g.m=A,g.P=!0,Tr(g,null)}function Tr(g,E){g.F=Date.now(),bt(g),g.A=xt(g.v);var A=g.A,N=g.R;Array.isArray(N)||(N=[String(N)]),Cr(A.i,"t",N),g.C=0,A=g.j.J,g.h=new wc,g.g=cd(g.j,A?E:null,!g.m),0<g.O&&(g.M=new Wp(_(g.Y,g,g.g),g.O)),E=g.U,A=g.g,N=g.ca;var $="readystatechange";Array.isArray($)||($&&(fs[0]=$.toString()),$=fs);for(var Z=0;Z<$.length;Z++){var ce=ft(A,$[Z],N||E.handleEvent,!1,E.h||E);if(!ce)break;E.g[ce.key]=ce}E=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,E)):(g.u="GET",g.g.ea(g.A,g.u,null,E)),ms(),Yh(g.i,g.u,g.A,g.l,g.R,g.m)}Ki.prototype.ca=function(g){g=g.target;const E=this.M;E&&ci(g)==3?E.j():this.Y(g)},Ki.prototype.Y=function(g){try{if(g==this.g)e:{const qt=ci(this.g);var E=this.g.Ba();const Nr=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||td(this.g)))){this.J||qt!=4||E==7||(E==8||0>=Nr?ms(3):ms(2)),$o(this);var A=this.g.Z();this.X=A;t:if(Es(this)){var N=td(this.g);g="";var $=N.length,Z=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ln(this),$n(this);var ce="";break t}this.h.i=new u.TextDecoder}for(E=0;E<$;E++)this.h.h=!0,g+=this.h.i.decode(N[E],{stream:!(Z&&E==$-1)});N.length=0,this.h.g+=g,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=A==200,Qh(this.i,this.u,this.A,this.l,this.R,qt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Ft=this.g;if((qe=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(qe)){var We=qe;break t}}We=null}if(A=We)_s(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yn(this,A);else{this.o=!1,this.s=3,It(12),Ln(this),$n(this);break e}}if(this.P){A=!0;let cn;for(;!this.J&&this.C<ce.length;)if(cn=ws(this,ce),cn==Da){qt==4&&(this.s=4,It(14),A=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==bs){this.s=4,It(15),_s(this.i,this.l,ce,"[Invalid Chunk]"),A=!1;break}else _s(this.i,this.l,cn,null),Yn(this,cn);if(Es(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||ce.length!=0||this.h.h||(this.s=1,It(16),A=!1),this.o=this.o&&A,!A)_s(this.i,this.l,ce,"[Invalid Chunked Response]"),Ln(this),$n(this);else if(0<ce.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ua(Jt),Jt.M=!0,It(11))}}else _s(this.i,this.l,ce,null),Yn(this,ce);qt==4&&Ln(this),this.o&&!this.J&&(qt==4?ad(this.j,this):(this.o=!1,bt(this)))}else Xp(this.g),A==400&&0<ce.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Ln(this),$n(this)}}}catch{}finally{}};function Es(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function ws(g,E){var A=g.C,N=E.indexOf(`
`,A);return N==-1?Da:(A=Number(E.substring(A,N)),isNaN(A)?bs:(N+=1,N+A>E.length?Da:(E=E.slice(N,N+A),g.C=N+A,E)))}Ki.prototype.cancel=function(){this.J=!0,Ln(this)};function bt(g){g.S=Date.now()+g.I,Ac(g,g.I)}function Ac(g,E){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ys(_(g.ba,g),E)}function $o(g){g.B&&(u.clearTimeout(g.B),g.B=null)}Ki.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Qi(this.i,this.A),this.L!=2&&(ms(),It(17)),Ln(this),this.s=2,$n(this)):Ac(this,this.S-g)};function $n(g){g.j.G==0||g.J||ad(g.j,g)}function Ln(g){$o(g);var E=g.M;E&&typeof E.ma=="function"&&E.ma(),g.M=null,vn(g.U),g.g&&(E=g.g,g.g=null,E.abort(),E.ma())}function Yn(g,E){try{var A=g.j;if(A.G!=0&&(A.g==g||As(A.h,g))){if(!g.K&&As(A.h,g)&&A.G==3){try{var N=A.Da.g.parse(E)}catch{N=null}if(Array.isArray(N)&&N.length==3){var $=N;if($[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<g.F)il(A),tl(A);else break e;Oc(A),It(18)}}else A.za=$[1],0<A.za-A.T&&37500>$[2]&&A.F&&A.v==0&&!A.C&&(A.C=ys(_(A.Za,A),6e3));if(1>=Kh(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else kr(A,11)}else if((g.K||A.g==g)&&il(A),!P(E))for($=A.Da.g.parse(E),E=0;E<$.length;E++){let We=$[E];if(A.T=We[0],We=We[1],A.G==2)if(We[0]=="c"){A.K=We[1],A.ia=We[2];const Jt=We[3];Jt!=null&&(A.la=Jt,A.j.info("VER="+A.la));const qt=We[4];qt!=null&&(A.Aa=qt,A.j.info("SVER="+A.Aa));const Nr=We[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(N=1.5*Nr,A.L=N,A.j.info("backChannelRequestTimeoutMs_="+N)),N=A;const cn=g.g;if(cn){const ir=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ir){var Z=N.h;Z.g||ir.indexOf("spdy")==-1&&ir.indexOf("quic")==-1&&ir.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Ss(Z,Z.h),Z.h=null))}if(N.D){const jc=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;jc&&(N.ya=jc,Qe(N.I,N.D,jc))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-g.F,A.j.info("Handshake RTT: "+A.R+"ms")),N=A;var ce=g;if(N.qa=ld(N,N.J?N.ia:null,N.W),ce.K){si(N.h,ce);var qe=ce,Ft=N.L;Ft&&(qe.I=Ft),qe.B&&($o(qe),bt(qe)),N.g=ce}else rd(N);0<A.i.length&&nl(A)}else We[0]!="stop"&&We[0]!="close"||kr(A,7);else A.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?kr(A,7):Nc(A):We[0]!="noop"&&A.l&&A.l.ta(We),A.v=0)}}ms(4)}catch{}}var Gp=class{constructor(g,E){this.g=g,this.map=E}};function Sc(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tc(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Kh(g){return g.h?1:g.g?g.g.size:0}function As(g,E){return g.h?g.h==E:g.g?g.g.has(E):!1}function Ss(g,E){g.g?g.g.add(E):g.h=E}function si(g,E){g.h&&g.h==E?g.h=null:g.g&&g.g.has(E)&&g.g.delete(E)}Sc.prototype.cancel=function(){if(this.i=kn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function kn(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let E=g.i;for(const A of g.g.values())E=E.concat(A.D);return E}return R(g.i)}function Xh(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var E=[],A=g.length,N=0;N<A;N++)E.push(g[N]);return E}E=[],A=0;for(N in g)E[A++]=g[N];return E}function $p(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var E=[];g=g.length;for(var A=0;A<g;A++)E.push(A);return E}E=[],A=0;for(const N in g)E[A++]=N;return E}}}function Ia(g,E){if(g.forEach&&typeof g.forEach=="function")g.forEach(E,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,E,void 0);else for(var A=$p(g),N=Xh(g),$=N.length,Z=0;Z<$;Z++)E.call(void 0,N[Z],A&&A[Z],g)}var xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yo(g,E){if(g){g=g.split("&");for(var A=0;A<g.length;A++){var N=g[A].indexOf("="),$=null;if(0<=N){var Z=g[A].substring(0,N);$=g[A].substring(N+1)}else Z=g[A];E(Z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function xr(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof xr){this.h=g.h,Ts(this,g.j),this.o=g.o,this.g=g.g,ka(this,g.s),this.l=g.l;var E=g.i,A=new Xi;A.i=E.i,E.g&&(A.g=new Map(E.g),A.h=E.h),Qo(this,A),this.m=g.m}else g&&(E=String(g).match(xc))?(this.h=!1,Ts(this,E[1]||"",!0),this.o=xs(E[2]||""),this.g=xs(E[3]||"",!0),ka(this,E[4]),this.l=xs(E[5]||"",!0),Qo(this,E[6]||"",!0),this.m=xs(E[7]||"")):(this.h=!1,this.i=new Xi(null,this.h))}xr.prototype.toString=function(){var g=[],E=this.j;E&&g.push(ai(E,Rc,!0),":");var A=this.g;return(A||E=="file")&&(g.push("//"),(E=this.o)&&g.push(ai(E,Rc,!0),"@"),g.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&g.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&g.push("/"),g.push(ai(A,A.charAt(0)=="/"?Cc:Zh,!0))),(A=this.i.toString())&&g.push("?",A),(A=this.m)&&g.push("#",ai(A,Kp)),g.join("")};function xt(g){return new xr(g)}function Ts(g,E,A){g.j=A?xs(E,!0):E,g.j&&(g.j=g.j.replace(/:$/,""))}function ka(g,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);g.s=E}else g.s=null}function Qo(g,E,A){E instanceof Xi?(g.i=E,Dc(g.i,g.h)):(A||(E=ai(E,Qp)),g.i=new Xi(E,g.h))}function Qe(g,E,A){g.i.set(E,A)}function Na(g){return Qe(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function xs(g,E){return g?E?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ai(g,E,A){return typeof g=="string"?(g=encodeURI(g).replace(E,Yp),A&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Yp(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Rc=/[#\/\?@]/g,Zh=/[#\?:]/g,Cc=/[#\?]/g,Qp=/[#\?@]/g,Kp=/#/g;function Xi(g,E){this.h=this.g=null,this.i=g||null,this.j=!!E}function oi(g){g.g||(g.g=new Map,g.h=0,g.i&&Yo(g.i,function(E,A){g.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}n=Xi.prototype,n.add=function(g,E){oi(this),this.i=null,g=Dr(this,g);var A=this.g.get(g);return A||this.g.set(g,A=[]),A.push(E),this.h+=1,this};function Ko(g,E){oi(g),E=Dr(g,E),g.g.has(E)&&(g.i=null,g.h-=g.g.get(E).length,g.g.delete(E))}function Rr(g,E){return oi(g),E=Dr(g,E),g.g.has(E)}n.forEach=function(g,E){oi(this),this.g.forEach(function(A,N){A.forEach(function($){g.call(E,$,N,this)},this)},this)},n.na=function(){oi(this);const g=Array.from(this.g.values()),E=Array.from(this.g.keys()),A=[];for(let N=0;N<E.length;N++){const $=g[N];for(let Z=0;Z<$.length;Z++)A.push(E[N])}return A},n.V=function(g){oi(this);let E=[];if(typeof g=="string")Rr(this,g)&&(E=E.concat(this.g.get(Dr(this,g))));else{g=Array.from(this.g.values());for(let A=0;A<g.length;A++)E=E.concat(g[A])}return E},n.set=function(g,E){return oi(this),this.i=null,g=Dr(this,g),Rr(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[E]),this.h+=1,this},n.get=function(g,E){return g?(g=this.V(g),0<g.length?String(g[0]):E):E};function Cr(g,E,A){Ko(g,E),0<A.length&&(g.i=null,g.g.set(Dr(g,E),R(A)),g.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],E=Array.from(this.g.keys());for(var A=0;A<E.length;A++){var N=E[A];const Z=encodeURIComponent(String(N)),ce=this.V(N);for(N=0;N<ce.length;N++){var $=Z;ce[N]!==""&&($+="="+encodeURIComponent(String(ce[N]))),g.push($)}}return this.i=g.join("&")};function Dr(g,E){return E=String(E),g.j&&(E=E.toLowerCase()),E}function Dc(g,E){E&&!g.j&&(oi(g),g.i=null,g.g.forEach(function(A,N){var $=N.toLowerCase();N!=$&&(Ko(this,N),Cr(this,$,A))},g)),g.j=E}function Jh(g,E){const A=new vs;if(u.Image){const N=new Image;N.onload=b(li,A,"TestLoadImage: loaded",!0,E,N),N.onerror=b(li,A,"TestLoadImage: error",!1,E,N),N.onabort=b(li,A,"TestLoadImage: abort",!1,E,N),N.ontimeout=b(li,A,"TestLoadImage: timeout",!1,E,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=g}else E(!1)}function Ma(g,E){const A=new vs,N=new AbortController,$=setTimeout(()=>{N.abort(),li(A,"TestPingServer: timeout",!1,E)},1e4);fetch(g,{signal:N.signal}).then(Z=>{clearTimeout($),Z.ok?li(A,"TestPingServer: ok",!0,E):li(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout($),li(A,"TestPingServer: error",!1,E)})}function li(g,E,A,N,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),N(A)}catch{}}function Oa(){this.g=new In}function Zi(g,E,A){const N=A||"";try{Ia(g,function($,Z){let ce=$;f($)&&(ce=_c($)),E.push(N+Z+"="+encodeURIComponent(ce))})}catch($){throw E.push(N+"type="+encodeURIComponent("_badmap")),$}}function Rs(g){this.l=g.Ub||null,this.j=g.eb||!1}S(Rs,bc),Rs.prototype.g=function(){return new Ir(this.l,this.j)},Rs.prototype.i=function(g){return function(){return g}}({});function Ir(g,E){Bt.call(this),this.D=g,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ir,Bt),n=Ir.prototype,n.open=function(g,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=E,this.readyState=1,er(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(E.body=g),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ic(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ic(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var E=g.value?g.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!g.done}))&&(this.response=this.responseText+=E)}g.done?Ji(this):er(this),this.readyState==3&&Ic(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Ji(this))},n.Qa=function(g){this.g&&(this.response=g,Ji(this))},n.ga=function(){this.g&&Ji(this)};function Ji(g){g.readyState=4,g.l=null,g.j=null,g.v=null,er(g)}n.setRequestHeader=function(g,E){this.u.append(g,E)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,g.push(A[0]+": "+A[1]),A=E.next();return g.join(`\r
`)};function er(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function kc(g){let E="";return ne(g,function(A,N){E+=N,E+=":",E+=A,E+=`\r
`}),E}function Zt(g,E,A){e:{for(N in A){var N=!1;break e}N=!0}N||(A=kc(A),typeof g=="string"?A!=null&&encodeURIComponent(String(A)):Qe(g,E,A))}function nt(g){Bt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(nt,Bt);var Xo=/^https?$/i,Pa=["POST","PUT"];n=nt.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,E,A,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);E=E?E.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ca.g(),this.v=this.o?Wh(this.o):Wh(Ca),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(E,String(g),!0),this.B=!1}catch(Z){ed(this,Z);return}if(g=A||"",A=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var $ in N)A.set($,N[$]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Z of N.keys())A.set(Z,N.get(Z));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(A.keys()).find(Z=>Z.toLowerCase()=="content-type"),$=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Pa,E,void 0))||N||$||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ce]of A)this.g.setRequestHeader(Z,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ja(this),this.u=!0,this.g.send(g),this.u=!1}catch(Z){ed(this,Z)}};function ed(g,E){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=E,g.m=5,Zo(g),tr(g)}function Zo(g){g.A||(g.A=!0,Kt(g,"complete"),Kt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Kt(this,"complete"),Kt(this,"abort"),tr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tr(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Jo(this):this.bb())},n.bb=function(){Jo(this)};function Jo(g){if(g.h&&typeof l<"u"&&(!g.v[1]||ci(g)!=4||g.Z()!=2)){if(g.u&&ci(g)==4)qh(g.Ea,0,g);else if(Kt(g,"readystatechange"),ci(g)==4){g.h=!1;try{const ce=g.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var A;if(!(A=E)){var N;if(N=ce===0){var $=String(g.D).match(xc)[1]||null;!$&&u.self&&u.self.location&&($=u.self.location.protocol.slice(0,-1)),N=!Xo.test($?$.toLowerCase():"")}A=N}if(A)Kt(g,"complete"),Kt(g,"success");else{g.m=6;try{var Z=2<ci(g)?g.g.statusText:""}catch{Z=""}g.l=Z+" ["+g.Z()+"]",Zo(g)}}finally{tr(g)}}}}function tr(g,E){if(g.g){ja(g);const A=g.g,N=g.v[0]?()=>{}:null;g.g=null,g.v=null,E||Kt(g,"ready");try{A.onreadystatechange=N}catch{}}}function ja(g){g.I&&(u.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function ci(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var E=this.g.responseText;return g&&E.indexOf(g)==0&&(E=E.substring(g.length)),$i(E)}};function td(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Xp(g){const E={};g=(g.g&&2<=ci(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<g.length;N++){if(P(g[N]))continue;var A=V(g[N]);const $=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const Z=E[$]||[];E[$]=Z,Z.push(A)}O(E,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function La(g,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[g]||E}function el(g){this.Aa=0,this.i=[],this.j=new vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=La("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=La("baseRetryDelayMs",5e3,g),this.cb=La("retryDelaySeedMs",1e4,g),this.Wa=La("forwardChannelMaxRetries",2,g),this.wa=La("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Sc(g&&g.concurrentRequestLimit),this.Da=new Oa,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=el.prototype,n.la=8,n.G=1,n.connect=function(g,E,A,N){It(0),this.W=g,this.H=E||{},A&&N!==void 0&&(this.H.OSID=A,this.H.OAID=N),this.F=this.X,this.I=ld(this,null,this.W),nl(this)};function Nc(g){if(nd(g),g.G==3){var E=g.U++,A=xt(g.I);if(Qe(A,"SID",g.K),Qe(A,"RID",E),Qe(A,"TYPE","terminate"),Va(g,A),E=new Ki(g,g.j,E),E.L=2,E.v=Na(xt(A)),A=!1,u.navigator&&u.navigator.sendBeacon)try{A=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!A&&u.Image&&(new Image().src=E.v,A=!0),A||(E.g=cd(E.j,null),E.g.ea(E.v)),E.F=Date.now(),bt(E)}od(g)}function tl(g){g.g&&(Ua(g),g.g.cancel(),g.g=null)}function nd(g){tl(g),g.u&&(u.clearTimeout(g.u),g.u=null),il(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function nl(g){if(!Tc(g.h)&&!g.s){g.s=!0;var E=g.Ga;de||U(),fe||(de(),fe=!0),Se.add(E,g),g.B=0}}function Zp(g,E){return Kh(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=E.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ys(_(g.Ga,g,E),Pc(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const $=new Ki(this,this.j,g);let Z=this.o;if(this.S&&(Z?(Z=I(Z),M(Z,this.S)):Z=this.S),this.m!==null||this.O||($.H=Z,Z=null),this.P)e:{for(var E=0,A=0;A<this.i.length;A++){t:{var N=this.i[A];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(E+=N,4096<E){E=A;break e}if(E===4096||A===this.i.length-1){E=A+1;break e}}E=1e3}else E=1e3;E=id(this,$,E),A=xt(this.I),Qe(A,"RID",g),Qe(A,"CVER",22),this.D&&Qe(A,"X-HTTP-Session-Id",this.D),Va(this,A),Z&&(this.O?E="headers="+encodeURIComponent(String(kc(Z)))+"&"+E:this.m&&Zt(A,this.m,Z)),Ss(this.h,$),this.Ua&&Qe(A,"TYPE","init"),this.P?(Qe(A,"$req",E),Qe(A,"SID","null"),$.T=!0,Ii($,A,null)):Ii($,A,E),this.G=2}}else this.G==3&&(g?Mc(this,g):this.i.length==0||Tc(this.h)||Mc(this))};function Mc(g,E){var A;E?A=E.l:A=g.U++;const N=xt(g.I);Qe(N,"SID",g.K),Qe(N,"RID",A),Qe(N,"AID",g.T),Va(g,N),g.m&&g.o&&Zt(N,g.m,g.o),A=new Ki(g,g.j,A,g.B+1),g.m===null&&(A.H=g.o),E&&(g.i=E.D.concat(g.i)),E=id(g,A,1e3),A.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Ss(g.h,A),Ii(A,N,E)}function Va(g,E){g.H&&ne(g.H,function(A,N){Qe(E,N,A)}),g.l&&Ia({},function(A,N){Qe(E,N,A)})}function id(g,E,A){A=Math.min(g.i.length,A);var N=g.l?_(g.l.Na,g.l,g):null;e:{var $=g.i;let Z=-1;for(;;){const ce=["count="+A];Z==-1?0<A?(Z=$[0].g,ce.push("ofs="+Z)):Z=0:ce.push("ofs="+Z);let qe=!0;for(let Ft=0;Ft<A;Ft++){let We=$[Ft].g;const Jt=$[Ft].map;if(We-=Z,0>We)Z=Math.max(0,$[Ft].g-100),qe=!1;else try{Zi(Jt,ce,"req"+We+"_")}catch{N&&N(Jt)}}if(qe){N=ce.join("&");break e}}}return g=g.i.splice(0,A),E.D=g,N}function rd(g){if(!g.g&&!g.u){g.Y=1;var E=g.Fa;de||U(),fe||(de(),fe=!0),Se.add(E,g),g.v=0}}function Oc(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ys(_(g.Fa,g),Pc(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,sd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ys(_(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),tl(this),sd(this))};function Ua(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function sd(g){g.g=new Ki(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var E=xt(g.qa);Qe(E,"RID","rpc"),Qe(E,"SID",g.K),Qe(E,"AID",g.T),Qe(E,"CI",g.F?"0":"1"),!g.F&&g.ja&&Qe(E,"TO",g.ja),Qe(E,"TYPE","xmlhttp"),Va(g,E),g.m&&g.o&&Zt(E,g.m,g.o),g.L&&(g.g.I=g.L);var A=g.g;g=g.ia,A.L=1,A.v=Na(xt(E)),A.m=null,A.P=!0,Tr(A,g)}n.Za=function(){this.C!=null&&(this.C=null,tl(this),Oc(this),It(19))};function il(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function ad(g,E){var A=null;if(g.g==E){il(g),Ua(g),g.g=null;var N=2}else if(As(g.h,E))A=E.D,si(g.h,E),N=1;else return;if(g.G!=0){if(E.o)if(N==1){A=E.m?E.m.length:0,E=Date.now()-E.F;var $=g.B;N=qo(),Kt(N,new $h(N,A)),nl(g)}else rd(g);else if($=E.s,$==3||$==0&&0<E.X||!(N==1&&Zp(g,E)||N==2&&Oc(g)))switch(A&&0<A.length&&(E=g.h,E.i=E.i.concat(A)),$){case 1:kr(g,5);break;case 4:kr(g,10);break;case 3:kr(g,6);break;default:kr(g,2)}}}function Pc(g,E){let A=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(A*=2),A*E}function kr(g,E){if(g.j.info("Error code "+E),E==2){var A=_(g.fb,g),N=g.Xa;const $=!N;N=new xr(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ts(N,"https"),Na(N),$?Jh(N.toString(),A):Ma(N.toString(),A)}else It(2);g.G=0,g.l&&g.l.sa(E),od(g),nd(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function od(g){if(g.G=0,g.ka=[],g.l){const E=kn(g.h);(E.length!=0||g.i.length!=0)&&(T(g.ka,E),T(g.ka,g.i),g.h.i.length=0,R(g.i),g.i.length=0),g.l.ra()}}function ld(g,E,A){var N=A instanceof xr?xt(A):new xr(A);if(N.g!="")E&&(N.g=E+"."+N.g),ka(N,N.s);else{var $=u.location;N=$.protocol,E=E?E+"."+$.hostname:$.hostname,$=+$.port;var Z=new xr(null);N&&Ts(Z,N),E&&(Z.g=E),$&&ka(Z,$),A&&(Z.l=A),N=Z}return A=g.D,E=g.ya,A&&E&&Qe(N,A,E),Qe(N,"VER",g.la),Va(g,N),N}function cd(g,E,A){if(E&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=g.Ca&&!g.pa?new nt(new Rs({eb:A})):new nt(g.pa),E.Ha(g.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ud(){}n=ud.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function rl(){}rl.prototype.g=function(g,E){return new Nn(g,E)};function Nn(g,E){Bt.call(this),this.g=new el(E),this.l=g,this.h=E&&E.messageUrlParams||null,g=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(g?g["X-WebChannel-Content-Type"]=E.messageContentType:g={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(g?g["X-WebChannel-Client-Profile"]=E.va:g={"X-WebChannel-Client-Profile":E.va}),this.g.S=g,(g=E&&E.Sb)&&!P(g)&&(this.g.m=g),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!P(E)&&(this.g.D=E,g=this.h,g!==null&&E in g&&(g=this.h,E in g&&delete g[E])),this.j=new nr(this)}S(Nn,Bt),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){Nc(this.g)},Nn.prototype.o=function(g){var E=this.g;if(typeof g=="string"){var A={};A.__data__=g,g=A}else this.u&&(A={},A.__data__=_c(g),g=A);E.i.push(new Gp(E.Ya++,g)),E.G==3&&nl(E)},Nn.prototype.N=function(){this.g.l=null,delete this.j,Nc(this.g),delete this.g,Nn.aa.N.call(this)};function hd(g){gs.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var E=g.__sm__;if(E){e:{for(const A in E){g=A;break e}g=void 0}(this.i=g)&&(g=this.i,E=E!==null&&g in E?E[g]:void 0),this.data=E}else this.data=g}S(hd,gs);function dd(){Di.call(this),this.status=1}S(dd,Di);function nr(g){this.g=g}S(nr,ud),nr.prototype.ua=function(){Kt(this.g,"a")},nr.prototype.ta=function(g){Kt(this.g,new hd(g))},nr.prototype.sa=function(g){Kt(this.g,new dd)},nr.prototype.ra=function(){Kt(this.g,"b")},rl.prototype.createWebChannel=rl.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,SD=function(){return new rl},AD=function(){return qo()},wD=ri,$v={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ht.NO_ERROR=0,Ht.TIMEOUT=8,Ht.HTTP_ERROR=6,Gf=Ht,Sr.COMPLETE="complete",ED=Sr,Gh.EventType=Yi,Yi.OPEN="a",Yi.CLOSE="b",Yi.ERROR="c",Yi.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,Pu=Gh,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,bD=nt}).apply(typeof ff<"u"?ff:typeof self<"u"?self:typeof window<"u"?window:{});const CS="@firebase/firestore",DS="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new op("@firebase/firestore");function Ml(){return To.logLevel}function pe(n,...e){if(To.logLevel<=Ue.DEBUG){const t=e.map(nb);To.debug(`Firestore (${cc}): ${n}`,...t)}}function os(n,...e){if(To.logLevel<=Ue.ERROR){const t=e.map(nb);To.error(`Firestore (${cc}): ${n}`,...t)}}function Yl(n,...e){if(To.logLevel<=Ue.WARN){const t=e.map(nb);To.warn(`Firestore (${cc}): ${n}`,...t)}}function nb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n="Unexpected state"){const e=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: `+n;throw os(e),new Error(e)}function it(n,e){n||De()}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class t4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class n4{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0);let i=this.i;const r=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let a=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new rs,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},u=h=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rs)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string"),new TD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new An(e)}}class i4{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=An.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class r4{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new i4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s4{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ei(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){it(this.o===void 0);const i=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?r(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new IS(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it(typeof t.token=="string"),this.R=t.token,new IS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=a4(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function He(n,e){return n<e?-1:n>e?1:0}function Ql(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=-62135596800,NS=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*NS);return new Yt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<kS)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NS}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-kS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Yt(0,0))}static max(){return new Ie(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="__name__";class dr{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(),i===void 0?i=e.length-t:i>e.length-t&&De(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return dr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=dr.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=dr.isNumericId(e),r=dr.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?dr.extractNumericId(e).compare(dr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return la.fromString(e.substring(4,e.length-2))}}class pt extends dr{construct(e,t,i){return new pt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new pt(t)}static emptyPath(){return new pt([])}}const o4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends dr{construct(e,t,i){return new gn(e,t,i)}static isValidIdentifier(e){return o4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===MS}static keyField(){return new gn([MS])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new me(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(a(),r++)}if(a(),l)throw new me(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(t)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(pt.fromString(e))}static fromName(e){return new be(pt.fromString(e).popFirst(5))}static empty(){return new be(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=-1;function l4(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ie.fromTimestamp(i===1e9?new Yt(t+1,0):new Yt(t,i));return new fa(r,be.empty(),e)}function c4(n){return new fa(n.readTime,n.key,hh)}class fa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new fa(Ie.min(),be.empty(),hh)}static max(){return new fa(Ie.max(),be.empty(),hh)}}function u4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:He(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==h4)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,i)=>{t(e)})}static reject(e){return new re((t,i)=>{i(e)})}static waitFor(e){return new re((t,i)=>{let r=0,a=0,l=!1;e.forEach(u=>{++r,u.next(()=>{++a,l&&a===r&&t()},h=>i(h))}),l=!0,a===r&&t()})}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next(r=>r?re.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new re((i,r)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const f=h;t(e[f]).next(p=>{l[f]=p,++u,u===a&&i(l)},p=>r(p))}})}static doWhile(e,t){return new re((i,r)=>{const a=()=>{e()===!0?t().next(()=>{a()},r):i()};a()})}}function f4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}fp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=-1;function gp(n){return n==null}function yg(n){return n===0&&1/n==-1/0}function g4(n){return typeof n=="number"&&Number.isInteger(n)&&!yg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="";function p4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=OS(e)),e=m4(n.get(t),e);return OS(e)}function m4(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case RD:t+="";break;default:t+=a}}return t}function OS(n){return n+RD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Aa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gf(this.root,e,this.comparator,!0)}}class gf{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??fn.RED,this.left=r??fn.EMPTY,this.right=a??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new fn(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return fn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,t,i,r,a){return this}insert(e,t,i){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jS(this.data.getIterator())}getIteratorFrom(e){return new jS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class jS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new ti([])}unionWith(e){let t=new Qt(gn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ti(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ql(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new DD("Invalid base64 string: "+a):a}}(e);return new mn(t)}static fromUint8Array(e){const t=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(e);return new mn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const y4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(n){if(it(!!n),typeof n=="string"){let e=0;const t=y4.exec(n);if(it(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function pa(n){return typeof n=="string"?mn.fromBase64String(n):mn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="server_timestamp",kD="__type__",ND="__previous_value__",MD="__local_write_time__";function rb(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[kD])===null||t===void 0?void 0:t.stringValue)===ID}function pp(n){const e=n.mapValue.fields[ND];return rb(e)?pp(e):e}function dh(n){const e=ga(n.mapValue.fields[MD].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,t,i,r,a,l,u,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f}}const vg="(default)";class fh{constructor(e,t){this.projectId=e,this.database=t||vg}static empty(){return new fh("","")}get isDefaultDatabase(){return this.database===vg}isEqual(e){return e instanceof fh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="__type__",_4="__max__",pf={mapValue:{}},PD="__vector__",_g="value";function ma(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rb(n)?4:E4(n)?9007199254740991:b4(n)?10:11:De()}function _r(n,e){if(n===e)return!0;const t=ma(n);if(t!==ma(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dh(n).isEqual(dh(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=ga(r.timestampValue),u=ga(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,a){return pa(r.bytesValue).isEqual(pa(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return Nt(r.geoPointValue.latitude)===Nt(a.geoPointValue.latitude)&&Nt(r.geoPointValue.longitude)===Nt(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Nt(r.integerValue)===Nt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=Nt(r.doubleValue),u=Nt(a.doubleValue);return l===u?yg(l)===yg(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Ql(n.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(r,a){const l=r.mapValue.fields||{},u=a.mapValue.fields||{};if(PS(l)!==PS(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!_r(l[h],u[h])))return!1;return!0}(n,e);default:return De()}}function gh(n,e){return(n.values||[]).find(t=>_r(t,e))!==void 0}function Kl(n,e){if(n===e)return 0;const t=ma(n),i=ma(e);if(t!==i)return He(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=Nt(a.integerValue||a.doubleValue),h=Nt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return LS(n.timestampValue,e.timestampValue);case 4:return LS(dh(n),dh(e));case 5:return He(n.stringValue,e.stringValue);case 6:return function(a,l){const u=pa(a),h=pa(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const p=He(u[f],h[f]);if(p!==0)return p}return He(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=He(Nt(a.latitude),Nt(l.latitude));return u!==0?u:He(Nt(a.longitude),Nt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return VS(n.arrayValue,e.arrayValue);case 10:return function(a,l){var u,h,f,p;const v=a.fields||{},_=l.fields||{},b=(u=v[_g])===null||u===void 0?void 0:u.arrayValue,S=(h=_[_g])===null||h===void 0?void 0:h.arrayValue,R=He(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return R!==0?R:VS(b,S)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===pf.mapValue&&l===pf.mapValue)return 0;if(a===pf.mapValue)return 1;if(l===pf.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const _=He(h[v],p[v]);if(_!==0)return _;const b=Kl(u[h[v]],f[p[v]]);if(b!==0)return b}return He(h.length,p.length)}(n.mapValue,e.mapValue);default:throw De()}}function LS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return He(n,e);const t=ga(n),i=ga(e),r=He(t.seconds,i.seconds);return r!==0?r:He(t.nanos,i.nanos)}function VS(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=Kl(t[r],i[r]);if(a)return a}return He(t.length,i.length)}function Xl(n){return Yv(n)}function Yv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ga(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return pa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=Yv(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const l of i)a?a=!1:r+=",",r+=`${l}:${Yv(t.fields[l])}`;return r+"}"}(n.mapValue):De()}function $f(n){switch(ma(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pp(n);return e?16+$f(e):16;case 5:return 2*n.stringValue.length;case 6:return pa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,a)=>r+$f(a),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Aa(i.fields,(a,l)=>{r+=a.length+$f(l)}),r}(n.mapValue);default:throw De()}}function US(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Qv(n){return!!n&&"integerValue"in n}function sb(n){return!!n&&"arrayValue"in n}function zS(n){return!!n&&"nullValue"in n}function BS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yf(n){return!!n&&"mapValue"in n}function b4(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[OD])===null||t===void 0?void 0:t.stringValue)===PD}function $u(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Aa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=$u(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$u(n.arrayValue.values[t]);return e}return Object.assign({},n)}function E4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===_4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Yf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(t)}setAll(e){let t=gn.emptyPath(),i={},r=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,i,r),i={},r=[],t=u.popLast()}l?i[u.lastSegment()]=$u(l):r.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Yf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Yf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Aa(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Hn($u(this.value))}}function jD(n){const e=[];return Aa(n.fields,(t,i)=>{const r=new gn([t]);if(Yf(i)){const a=jD(i.mapValue).fields;if(a.length===0)e.push(r);else for(const l of a)e.push(r.child(l))}else e.push(r)}),new ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,t,i,r,a,l,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Sn(e,0,Ie.min(),Ie.min(),Ie.min(),Hn.empty(),0)}static newFoundDocument(e,t,i,r){return new Sn(e,1,t,Ie.min(),i,r,0)}static newNoDocument(e,t){return new Sn(e,2,t,Ie.min(),Ie.min(),Hn.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,Ie.min(),Ie.min(),Hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t){this.position=e,this.inclusive=t}}function HS(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],l=n.position[r];if(a.field.isKeyField()?i=be.comparator(be.fromName(l.referenceValue),t.key):i=Kl(l,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function FS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_r(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t="asc"){this.field=e,this.dir=t}}function w4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{}class Ut extends LD{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new S4(e,t,i):t==="array-contains"?new R4(e,i):t==="in"?new C4(e,i):t==="not-in"?new D4(e,i):t==="array-contains-any"?new I4(e,i):new Ut(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new T4(e,i):new x4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Kl(t,this.value)):t!==null&&ma(this.value)===ma(t)&&this.matchesComparison(Kl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends LD{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Vi(e,t)}matches(e){return VD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function VD(n){return n.op==="and"}function UD(n){return A4(n)&&VD(n)}function A4(n){for(const e of n.filters)if(e instanceof Vi)return!1;return!0}function Kv(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+Xl(n.value);if(UD(n))return n.filters.map(e=>Kv(e)).join(",");{const e=n.filters.map(t=>Kv(t)).join(",");return`${n.op}(${e})`}}function zD(n,e){return n instanceof Ut?function(i,r){return r instanceof Ut&&i.op===r.op&&i.field.isEqual(r.field)&&_r(i.value,r.value)}(n,e):n instanceof Vi?function(i,r){return r instanceof Vi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((a,l,u)=>a&&zD(l,r.filters[u]),!0):!1}(n,e):void De()}function BD(n){return n instanceof Ut?function(t){return`${t.field.canonicalString()} ${t.op} ${Xl(t.value)}`}(n):n instanceof Vi?function(t){return t.op.toString()+" {"+t.getFilters().map(BD).join(" ,")+"}"}(n):"Filter"}class S4 extends Ut{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class T4 extends Ut{constructor(e,t){super(e,"in",t),this.keys=HD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class x4 extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=HD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HD(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>be.fromName(i.referenceValue))}class R4 extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sb(t)&&gh(t.arrayValue,this.value)}}class C4 extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gh(this.value.arrayValue,t)}}class D4 extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!gh(this.value.arrayValue,t)}}class I4 extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>gh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,t=null,i=[],r=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=l,this.endAt=u,this.le=null}}function qS(n,e=null,t=[],i=[],r=null,a=null,l=null){return new k4(n,e,t,i,r,a,l)}function ab(n){const e=Me(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Kv(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),gp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Xl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Xl(i)).join(",")),e.le=t}return e.le}function ob(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!w4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!FS(n.startAt,e.startAt)&&FS(n.endAt,e.endAt)}function Xv(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t=null,i=[],r=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function N4(n,e,t,i,r,a,l,u){return new Nh(n,e,t,i,r,a,l,u)}function lb(n){return new Nh(n)}function WS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function FD(n){return n.collectionGroup!==null}function Yu(n){const e=Me(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Qt(gn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Eg(a,i))}),t.has(gn.keyField().canonicalString())||e.he.push(new Eg(gn.keyField(),i))}return e.he}function mr(n){const e=Me(n);return e.Pe||(e.Pe=M4(e,Yu(n))),e.Pe}function M4(n,e){if(n.limitType==="F")return qS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new Eg(r.field,a)});const t=n.endAt?new bg(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new bg(n.startAt.position,n.startAt.inclusive):null;return qS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Zv(n,e){const t=n.filters.concat([e]);return new Nh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Jv(n,e,t){return new Nh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mp(n,e){return ob(mr(n),mr(e))&&n.limitType===e.limitType}function qD(n){return`${ab(mr(n))}|lt:${n.limitType}`}function Ol(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>BD(r)).join(", ")}]`),gp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Xl(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Xl(r)).join(",")),`Target(${i})`}(mr(n))}; limitType=${n.limitType})`}function yp(n,e){return e.isFoundDocument()&&function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):be.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,r){for(const a of Yu(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(l,u,h){const f=HS(l,u,h);return l.inclusive?f<=0:f<0}(i.startAt,Yu(i),r)||i.endAt&&!function(l,u,h){const f=HS(l,u,h);return l.inclusive?f>=0:f>0}(i.endAt,Yu(i),r))}(n,e)}function O4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WD(n){return(e,t)=>{let i=!1;for(const r of Yu(n)){const a=P4(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function P4(n,e,t){const i=n.field.isKeyField()?be.comparator(e.key,t.key):function(a,l,u){const h=l.data.field(a),f=u.data.field(a);return h!==null&&f!==null?Kl(h,f):De()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return CD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=new St(be.comparator);function ls(){return j4}const GD=new St(be.comparator);function ju(...n){let e=GD;for(const t of n)e=e.insert(t.key,t);return e}function $D(n){let e=GD;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function po(){return Qu()}function YD(){return Qu()}function Qu(){return new Po(n=>n.toString(),(n,e)=>n.isEqual(e))}const L4=new St(be.comparator),V4=new Qt(be.comparator);function ze(...n){let e=V4;for(const t of n)e=e.add(t);return e}const U4=new Qt(He);function z4(){return U4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yg(e)?"-0":e}}function QD(n){return{integerValue:""+n}}function B4(n,e){return g4(e)?QD(e):cb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this._=void 0}}function H4(n,e,t){return n instanceof wg?function(r,a){const l={fields:{[kD]:{stringValue:ID},[MD]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&rb(a)&&(a=pp(a)),a&&(l.fields[ND]=a),{mapValue:l}}(t,e):n instanceof ph?XD(n,e):n instanceof mh?ZD(n,e):function(r,a){const l=KD(r,a),u=GS(l)+GS(r.Ie);return Qv(l)&&Qv(r.Ie)?QD(u):cb(r.serializer,u)}(n,e)}function F4(n,e,t){return n instanceof ph?XD(n,e):n instanceof mh?ZD(n,e):t}function KD(n,e){return n instanceof Ag?function(i){return Qv(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class wg extends vp{}class ph extends vp{constructor(e){super(),this.elements=e}}function XD(n,e){const t=JD(e);for(const i of n.elements)t.some(r=>_r(r,i))||t.push(i);return{arrayValue:{values:t}}}class mh extends vp{constructor(e){super(),this.elements=e}}function ZD(n,e){let t=JD(e);for(const i of n.elements)t=t.filter(r=>!_r(r,i));return{arrayValue:{values:t}}}class Ag extends vp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function GS(n){return Nt(n.integerValue||n.doubleValue)}function JD(n){return sb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function q4(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof ph&&r instanceof ph||i instanceof mh&&r instanceof mh?Ql(i.elements,r.elements,_r):i instanceof Ag&&r instanceof Ag?_r(i.Ie,r.Ie):i instanceof wg&&r instanceof wg}(n.transform,e.transform)}class W4{constructor(e,t){this.version=e,this.transformResults=t}}class Ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class _p{}function eI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ub(n.key,Ti.none()):new Mh(n.key,n.data,Ti.none());{const t=n.data,i=Hn.empty();let r=new Qt(gn.comparator);for(let a of e.fields)if(!r.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?i.delete(a):i.set(a,l),r=r.add(a)}return new Sa(n.key,i,new ti(r.toArray()),Ti.none())}}function G4(n,e,t){n instanceof Mh?function(r,a,l){const u=r.value.clone(),h=YS(r.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Sa?function(r,a,l){if(!Qf(r.precondition,a))return void a.convertToUnknownDocument(l.version);const u=YS(r.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(tI(r)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(r,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Ku(n,e,t,i){return n instanceof Mh?function(a,l,u,h){if(!Qf(a.precondition,l))return u;const f=a.value.clone(),p=QS(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof Sa?function(a,l,u,h){if(!Qf(a.precondition,l))return u;const f=QS(a.fieldTransforms,h,l),p=l.data;return p.setAll(tI(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(a,l,u){return Qf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function $4(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=KD(i.transform,r||null);a!=null&&(t===null&&(t=Hn.empty()),t.set(i.field,a))}return t||null}function $S(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ql(i,r,(a,l)=>q4(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Mh extends _p{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Sa extends _p{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function tI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function YS(n,e,t){const i=new Map;it(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],l=a.transform,u=e.data.field(a.field);i.set(a.field,F4(l,u,t[r]))}return i}function QS(n,e,t){const i=new Map;for(const r of n){const a=r.transform,l=t.data.field(r.field);i.set(r.field,H4(a,l,e))}return i}class ub extends _p{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y4 extends _p{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&G4(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ku(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ku(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=YD();return this.mutations.forEach(r=>{const a=e.get(r.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(r.key)?null:u;const h=eI(l,u);h!==null&&i.set(r.key,h),l.isValidDocument()||l.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,(t,i)=>$S(t,i))&&Ql(this.baseMutations,e.baseMutations,(t,i)=>$S(t,i))}}class hb{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){it(e.mutations.length===i.length);let r=function(){return L4}();const a=e.mutations;for(let l=0;l<a.length;l++)r=r.insert(a[l].key,i[l].version);return new hb(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,$e;function Z4(n){switch(n){case se.OK:return De();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return De()}}function nI(n){if(n===void 0)return os("GRPC error has no .code"),se.UNKNOWN;switch(n){case Vt.OK:return se.OK;case Vt.CANCELLED:return se.CANCELLED;case Vt.UNKNOWN:return se.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return se.INTERNAL;case Vt.UNAVAILABLE:return se.UNAVAILABLE;case Vt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Vt.NOT_FOUND:return se.NOT_FOUND;case Vt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Vt.ABORTED:return se.ABORTED;case Vt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Vt.DATA_LOSS:return se.DATA_LOSS;default:return De()}}($e=Vt||(Vt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=new la([4294967295,4294967295],0);function KS(n){const e=J4().encode(n),t=new _D;return t.update(e),new Uint8Array(t.digest())}function XS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new la([t,i],0),new la([r,a],0)]}class db{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Lu(`Invalid padding: ${t}`);if(i<0)throw new Lu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Lu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Lu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=la.fromNumber(this.Ee)}Ae(e,t,i){let r=e.add(t.multiply(la.fromNumber(i)));return r.compare(ez)===1&&(r=new la([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=KS(e),[i,r]=XS(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,r,a);if(!this.Re(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new db(a,r,t);return i.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=KS(e),[i,r]=XS(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(i,r,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new bp(Ie.min(),r,new St(He),ls(),ze())}}class Oh{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Oh(i,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t,i,r){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=r}}class iI{constructor(e,t){this.targetId=e,this.ge=t}}class rI{constructor(e,t,i=mn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class ZS{constructor(){this.pe=0,this.ye=JS(),this.we=mn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ze(),t=ze(),i=ze();return this.ye.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:De()}}),new Oh(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=JS()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,it(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class tz{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ls(),this.$e=mf(),this.Ke=mf(),this.Ue=new St(He)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:De()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,r)=>{this.Je(r)&&t(r)})}Ze(e){const t=e.targetId,i=e.ge.count,r=this.Xe(t);if(r){const a=r.target;if(Xv(a))if(i===0){const l=new be(a.path);this.ze(t,l,Sn.newNoDocument(l,Ie.min()))}else it(i===1);else{const l=this.et(t);if(l!==i){const u=this.tt(e),h=u?this.nt(u,e,l):1;if(h!==0){this.Ye(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let l,u;try{l=pa(i).toUint8Array()}catch(h){if(h instanceof DD)return Yl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new db(l,r,a)}catch(h){return Yl(h instanceof Lu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Ee===0?null:u}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let r=0;return i.forEach(a=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,a,null),r++)}),r}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const u=this.Xe(l);if(u){if(a.current&&Xv(u.target)){const h=new be(u.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,Sn.newNoDocument(h,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let i=ze();this.Ke.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.Xe(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const r=new bp(e,t,this.Ue,this.Qe,i);return this.Qe=ls(),this.$e=mf(),this.Ke=mf(),this.Ue=new St(He),r}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new ZS,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Qt(He),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Qt(He),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new ZS),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function mf(){return new St(be.comparator)}function JS(){return new St(be.comparator)}const nz={asc:"ASCENDING",desc:"DESCENDING"},iz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rz={and:"AND",or:"OR"};class sz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function e_(n,e){return n.useProto3Json||gp(e)?e:{value:e}}function Sg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function az(n,e){return Sg(n,e.toTimestamp())}function yr(n){return it(!!n),Ie.fromTimestamp(function(t){const i=ga(t);return new Yt(i.seconds,i.nanos)}(n))}function fb(n,e){return t_(n,e).canonicalString()}function t_(n,e){const t=function(r){return new pt(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function aI(n){const e=pt.fromString(n);return it(hI(e)),e}function n_(n,e){return fb(n.databaseId,e.path)}function av(n,e){const t=aI(e);if(t.get(1)!==n.databaseId.projectId)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(lI(t))}function oI(n,e){return fb(n.databaseId,e)}function oz(n){const e=aI(n);return e.length===4?pt.emptyPath():lI(e)}function i_(n){return new pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lI(n){return it(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function eT(n,e,t){return{name:n_(n,e),fields:t.value.mapValue.fields}}function lz(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(it(p===void 0||typeof p=="string"),mn.fromBase64String(p||"")):(it(p===void 0||p instanceof Buffer||p instanceof Uint8Array),mn.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const p=f.code===void 0?se.UNKNOWN:nI(f.code);return new me(p,f.message||"")}(l);t=new rI(i,r,a,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=av(n,i.document.name),a=yr(i.document.updateTime),l=i.document.createTime?yr(i.document.createTime):Ie.min(),u=new Hn({mapValue:{fields:i.document.fields}}),h=Sn.newFoundDocument(r,a,l,u),f=i.targetIds||[],p=i.removedTargetIds||[];t=new Kf(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=av(n,i.document),a=i.readTime?yr(i.readTime):Ie.min(),l=Sn.newNoDocument(r,a),u=i.removedTargetIds||[];t=new Kf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=av(n,i.document),a=i.removedTargetIds||[];t=new Kf([],a,r,null)}else{if(!("filter"in e))return De();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,l=new X4(r,a),u=i.targetId;t=new iI(u,l)}}return t}function cz(n,e){let t;if(e instanceof Mh)t={update:eT(n,e.key,e.value)};else if(e instanceof ub)t={delete:n_(n,e.key)};else if(e instanceof Sa)t={update:eT(n,e.key,e.data),updateMask:vz(e.fieldMask)};else{if(!(e instanceof Y4))return De();t={verify:n_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,l){const u=l.transform;if(u instanceof wg)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ph)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof mh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ag)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw De()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:az(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:De()}(n,e.precondition)),t}function uz(n,e){return n&&n.length>0?(it(e!==void 0),n.map(t=>function(r,a){let l=r.updateTime?yr(r.updateTime):yr(a);return l.isEqual(Ie.min())&&(l=yr(a)),new W4(l,r.transformResults||[])}(t,e))):[]}function hz(n,e){return{documents:[oI(n,e.path)]}}function dz(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=oI(n,r);const a=function(f){if(f.length!==0)return uI(Vi.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(p=>function(_){return{field:Pl(_.field),direction:pz(_.dir)}}(p))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=e_(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:r}}function fz(n){let e=oz(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){it(i===1);const p=t.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=function(v){const _=cI(v);return _ instanceof Vi&&UD(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(_=>function(S){return new Eg(jl(S.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(v){let _;return _=typeof v=="object"?v.value:v,gp(_)?null:_}(t.limit));let h=null;t.startAt&&(h=function(v){const _=!!v.before,b=v.values||[];return new bg(b,_)}(t.startAt));let f=null;return t.endAt&&(f=function(v){const _=!v.before,b=v.values||[];return new bg(b,_)}(t.endAt)),N4(e,r,l,a,u,"F",h,f)}function gz(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=jl(t.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=jl(t.unaryFilter.field);return Ut.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=jl(t.unaryFilter.field);return Ut.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=jl(t.unaryFilter.field);return Ut.create(l,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(n):n.fieldFilter!==void 0?function(t){return Ut.create(jl(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Vi.create(t.compositeFilter.filters.map(i=>cI(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return De()}}(t.compositeFilter.op))}(n):De()}function pz(n){return nz[n]}function mz(n){return iz[n]}function yz(n){return rz[n]}function Pl(n){return{fieldPath:n.canonicalString()}}function jl(n){return gn.fromServerFormat(n.fieldPath)}function uI(n){return n instanceof Ut?function(t){if(t.op==="=="){if(BS(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NAN"}};if(zS(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(BS(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NOT_NAN"}};if(zS(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pl(t.field),op:mz(t.op),value:t.value}}}(n):n instanceof Vi?function(t){const i=t.getFilters().map(r=>uI(r));return i.length===1?i[0]:{compositeFilter:{op:yz(t.op),filters:i}}}(n):De()}function vz(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,t,i,r,a=Ie.min(),l=Ie.min(),u=mn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.Tt=e}}function bz(n){const e=fz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Jv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(){this.Tn=new wz}addToCollectionParentIndex(e,t){return this.Tn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(fa.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class wz{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Qt(pt.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Qt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dI=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(dI,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Zl(0)}static Un(){return new Zl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="LruGarbageCollector",Az=1048576;function iT([n,e],[t,i]){const r=He(n,t);return r===0?He(e,i):r}class Sz{constructor(e){this.Hn=e,this.buffer=new Qt(iT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();iT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Tz{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(nT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){hc(t)?pe(nT,"Ignoring IndexedDB error during garbage collection: ",t):await uc(t)}await this.er(3e5)})}}class xz{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return re.resolve(fp.ae);const i=new Sz(t);return this.tr.forEachTarget(e,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(e,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(tT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,r,a,l,u,h,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,l=Date.now(),this.nthSequenceNumber(e,r))).next(v=>(i=v,u=Date.now(),this.removeTargets(e,i,t))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(f=Date.now(),Ml()<=Ue.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:v})))}}function Rz(n,e){return new xz(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(){this.changes=new Po(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Ku(i.mutation,r,ti.empty(),Yt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ze()){const r=po();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let l=ju();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=po();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ze()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,i,r){let a=ls();const l=Qu(),u=function(){return Qu()}();return t.forEach((h,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof Sa)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Ku(p.mutation,f,p.mutation.getFieldMask(),Yt.now())):l.set(f.key,ti.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((f,p)=>l.set(f,p)),t.forEach((f,p)=>{var v;return u.set(f,new Dz(p,(v=l.get(f))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){const i=Qu();let r=new St((l,u)=>l-u),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let p=i.get(h)||ti.empty();p=u.applyToLocalView(f,p),i.set(h,p);const v=(r.get(u.batchId)||ze()).add(h);r=r.insert(u.batchId,v)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,p=h.value,v=YD();p.forEach(_=>{if(!a.has(_)){const b=eI(t.get(_),i.get(_));b!==null&&v.set(_,b),a=a.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return re.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(l){return be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):FD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const l=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):re.resolve(po());let u=hh,h=a;return l.next(f=>re.forEach(f,(p,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(p)?re.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,h,f,ze())).next(p=>({batchId:u,changes:$D(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(i=>{let r=ju();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let l=ju();return this.indexManager.getCollectionParents(e,a).next(u=>re.forEach(u,h=>{const f=function(v,_){return new Nh(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(p=>{p.forEach((v,_)=>{l=l.insert(v,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r))).next(l=>{a.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Sn.newInvalidDocument(p)))});let u=ju();return l.forEach((h,f)=>{const p=a.get(h);p!==void 0&&Ku(p.mutation,f,ti.empty(),Yt.now()),yp(t,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return re.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:yr(r.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(r){return{name:r.name,query:bz(r.bundledQuery),readTime:yr(r.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(){this.overlays=new St(be.comparator),this.Rr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=po();return re.forEach(t,r=>this.getOverlay(e,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.Et(e,t,a)}),re.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const r=po(),a=t.length+1,l=new be(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&r.set(h.getKey(),h)}return re.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new St((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let p=a.get(f.largestBatchId);p===null&&(p=po(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=po(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=r)););return re.resolve(u)}Et(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new K4(t,i));let a=this.Rr.get(t);a===void 0&&(a=ze(),this.Rr.set(t,a)),this.Rr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.Vr=new Qt(rn.mr),this.gr=new Qt(rn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new rn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new rn(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new be(new pt([])),i=new rn(t,e),r=new rn(t,e+1),a=[];return this.gr.forEachInRange([i,r],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new be(new pt([])),i=new rn(t,e),r=new rn(t,e+1);let a=ze();return this.gr.forEachInRange([i,r],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new rn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class rn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return be.comparator(e.key,t.key)||He(e.Cr,t.Cr)}static pr(e,t){return He(e.Cr,t.Cr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Qt(rn.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Q4(a,t,i,r);this.mutationQueue.push(l);for(const u of r)this.Mr=this.Mr.add(new rn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,t){return re.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Nr(i),a=r<0?0:r;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?ib:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new rn(t,0),r=new rn(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,r],l=>{const u=this.Or(l.Cr);a.push(u)}),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qt(He);return t.forEach(r=>{const a=new rn(r,0),l=new rn(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],u=>{i=i.add(u.Cr)})}),re.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;be.isDocumentKey(a)||(a=a.child(""));const l=new rn(new be(a),0);let u=new Qt(He);return this.Mr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(h.Cr)),!0)},l),re.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(i=>{const r=this.Or(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){it(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return re.forEach(t.mutations,r=>{const a=new rn(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new rn(t,0),r=this.Mr.firstAfterOrEqual(i);return re.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e){this.kr=e,this.docs=function(){return new St(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,l=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let i=ls();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Sn.newInvalidDocument(r))}),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=ls();const l=t.path,u=new be(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||u4(c4(p),i)<=0||(r.has(p.key)||yp(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,i,r){De()}qr(e,t){return re.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new jz(this)}getSize(e){return re.resolve(this.size)}}class jz extends Cz{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(i)}),re.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e){this.persistence=e,this.Qr=new Po(t=>ab(t),ob),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Kr=new gb,this.targetCount=0,this.Ur=Zl.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,r)=>t(r)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),re.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Zl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.zn(t),re.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&i.get(u.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),re.waitFor(a).next(()=>r)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(l=>{a.push(r.markPotentiallyOrphaned(e,l))}),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new fp(0),this.zr=!1,this.zr=!0,this.jr=new Mz,this.referenceDelegate=e(this),this.Hr=new Lz(this),this.indexManager=new Ez,this.remoteDocumentCache=function(r){return new Pz(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new _z(t),this.Yr=new kz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Nz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new Oz(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const r=new Vz(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(a=>this.referenceDelegate.Xr(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}ei(e,t){return re.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class Vz extends d4{constructor(e){super(),this.currentSequenceNumber=e}}class pb{constructor(e){this.persistence=e,this.ti=new gb,this.ni=null}static ri(e){return new pb(e)}get ii(){if(this.ni)return this.ni;throw De()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),re.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,i=>{const r=be.fromPath(i);return this.si(e,r).next(a=>{a||t.removeEntry(r,Ie.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return re.or([()=>re.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Tg{constructor(e,t){this.persistence=e,this.oi=new Po(i=>p4(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=Rz(this,t)}static ri(e,t){return new Tg(e,t)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return re.forEach(this.oi,(i,r)=>this.ar(e,i,r).next(a=>a?re.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.qr(e,l=>this.ar(e,l,t).next(u=>{u||(i++,a.removeEntry(l,Ie.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$f(e.data.value)),t}ar(e,t,i){return re.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.oi.get(t);return re.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=r}static Yi(e,t){let i=ze(),r=ze();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new mb(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Y2()?8:f4(Dn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,r,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new Uz;return this._s(e,t,l).next(u=>{if(a.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>a.result)}us(e,t,i,r){return i.documentReadCount<this.es?(Ml()<=Ue.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ol(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(Ml()<=Ue.DEBUG&&pe("QueryEngine","Query:",Ol(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?(Ml()<=Ue.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ol(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(t))):re.resolve())}rs(e,t){if(WS(t))return re.resolve(null);let i=mr(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Jv(t,null,"F"),i=mr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const l=ze(...a);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.cs(t,u);return this.ls(t,f,l,h.readTime)?this.rs(e,Jv(t,null,"F")):this.hs(e,f,t,h)}))})))}ss(e,t,i,r){return WS(t)||r.isEqual(Ie.min())?re.resolve(null):this.ns.getDocuments(e,i).next(a=>{const l=this.cs(t,a);return this.ls(t,l,i,r)?re.resolve(null):(Ml()<=Ue.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ol(t)),this.hs(e,l,t,l4(r,hh)).next(u=>u))})}cs(e,t){let i=new Qt(WD(e));return t.forEach((r,a)=>{yp(e,a)&&(i=i.add(a))}),i}ls(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}_s(e,t,i){return Ml()<=Ue.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ol(t)),this.ns.getDocumentsMatchingQuery(e,t,fa.min(),i)}hs(e,t,i,r){return this.ns.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="LocalStore",Bz=3e8;class Hz{constructor(e,t,i,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new St(He),this.Is=new Po(a=>ab(a),ob),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Iz(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Fz(n,e,t,i){return new Hz(n,e,t,i)}async function gI(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],u=[];let h=ze();for(const f of r){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){u.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return t.localDocuments.getDocuments(i,h).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:u}))})})}function qz(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,h,f,p){const v=f.batch,_=v.keys();let b=re.resolve();return _.forEach(S=>{b=b.next(()=>p.getEntry(h,S)).next(R=>{const T=f.docVersions.get(S);it(T!==null),R.version.compareTo(T)<0&&(v.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),p.addEntry(R)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(h,v))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=ze();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function pI(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Wz(n,e){const t=Me(n),i=e.snapshotVersion;let r=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});r=t.Ts;const u=[];e.targetChanges.forEach((p,v)=>{const _=r.get(v);if(!_)return;u.push(t.Hr.removeMatchingKeys(a,p.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(a,p.addedDocuments,v)));let b=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(mn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,i)),r=r.insert(v,b),function(R,T,C){return R.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Bz?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(_,b,p)&&u.push(t.Hr.updateTargetData(a,b))});let h=ls(),f=ze();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(Gz(a,l,e.documentUpdates).next(p=>{h=p.Vs,f=p.fs})),!i.isEqual(Ie.min())){const p=t.Hr.getLastRemoteSnapshotVersion(a).next(v=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));u.push(p)}return re.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(t.Ts=r,a))}function Gz(n,e,t){let i=ze(),r=ze();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let l=ls();return t.forEach((u,h)=>{const f=a.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(Ie.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):pe(yb,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Vs:l,fs:r}})}function $z(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=ib),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Yz(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Hr.getTargetData(i,e).next(a=>a?(r=a,re.resolve(r)):t.Hr.allocateTargetId(i).next(l=>(r=new ea(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function r_(n,e,t){const i=Me(n),r=i.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!hc(l))throw l;pe(yb,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ts=i.Ts.remove(e),i.Is.delete(r.target)}function rT(n,e,t){const i=Me(n);let r=Ie.min(),a=ze();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const v=Me(h),_=v.Is.get(p);return _!==void 0?re.resolve(v.Ts.get(_)):v.Hr.getTargetData(f,p)}(i,l,mr(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(l,e,t?r:Ie.min(),t?a:ze())).next(u=>(Qz(i,O4(e),u),{documents:u,gs:a})))}function Qz(n,e,t){let i=n.Es.get(e)||Ie.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Es.set(e,i)}class sT{constructor(){this.activeTargetIds=z4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kz{constructor(){this.ho=new sT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new sT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="ConnectivityMonitor";class oT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(aT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(aT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf=null;function s_(){return yf===null?yf=function(){return 268435456+Math.round(2147483648*Math.random())}():yf++,"0x"+yf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="RestConnection",Zz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jz{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===vg?`project_id=${i}`:`project_id=${i}&database_id=${r}`}So(e,t,i,r,a){const l=s_(),u=this.bo(e,t.toUriEncodedString());pe(ov,`Sending RPC '${e}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,r,a),this.vo(e,u,h,i).then(f=>(pe(ov,`Received RPC '${e}' ${l}: `,f),f),f=>{throw Yl(ov,`RPC '${e}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Co(e,t,i,r,a,l){return this.So(e,t,i,r,a)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}bo(e,t){const i=Zz[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class tB extends Jz{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,r){const a=s_();return new Promise((l,u)=>{const h=new bD;h.setWithCredentials(!0),h.listenOnce(ED.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Gf.NO_ERROR:const p=h.getResponseJson();pe(En,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Gf.TIMEOUT:pe(En,`RPC '${e}' ${a} timed out`),u(new me(se.DEADLINE_EXCEEDED,"Request time out"));break;case Gf.HTTP_ERROR:const v=h.getStatus();if(pe(En,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const b=_==null?void 0:_.error;if(b&&b.status&&b.message){const S=function(T){const C=T.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(C)>=0?C:se.UNKNOWN}(b.status);u(new me(S,b.message))}else u(new me(se.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new me(se.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{pe(En,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);pe(En,`RPC '${e}' ${a} sending request:`,r),h.send(t,"POST",f,i,15)})}Wo(e,t,i){const r=s_(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=SD(),u=AD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const p=a.join("");pe(En,`Creating RPC '${e}' stream ${r}: ${p}`,h);const v=l.createWebChannel(p,h);let _=!1,b=!1;const S=new eB({Fo:T=>{b?pe(En,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(_||(pe(En,`Opening RPC '${e}' stream ${r} transport.`),v.open(),_=!0),pe(En,`RPC '${e}' stream ${r} sending:`,T),v.send(T))},Mo:()=>v.close()}),R=(T,C,P)=>{T.listen(C,B=>{try{P(B)}catch(G){setTimeout(()=>{throw G},0)}})};return R(v,Pu.EventType.OPEN,()=>{b||(pe(En,`RPC '${e}' stream ${r} transport opened.`),S.Qo())}),R(v,Pu.EventType.CLOSE,()=>{b||(b=!0,pe(En,`RPC '${e}' stream ${r} transport closed`),S.Ko())}),R(v,Pu.EventType.ERROR,T=>{b||(b=!0,Yl(En,`RPC '${e}' stream ${r} transport errored:`,T),S.Ko(new me(se.UNAVAILABLE,"The operation could not be completed")))}),R(v,Pu.EventType.MESSAGE,T=>{var C;if(!b){const P=T.data[0];it(!!P);const B=P,G=(B==null?void 0:B.error)||((C=B[0])===null||C===void 0?void 0:C.error);if(G){pe(En,`RPC '${e}' stream ${r} received error:`,G);const X=G.status;let ne=function(k){const M=Vt[k];if(M!==void 0)return nI(M)}(X),O=G.message;ne===void 0&&(ne=se.INTERNAL,O="Unknown error status: "+X+" with message "+G.message),b=!0,S.Ko(new me(ne,O)),v.close()}else pe(En,`RPC '${e}' stream ${r} received:`,P),S.Uo(P)}}),R(u,wD.STAT_EVENT,T=>{T.stat===$v.PROXY?pe(En,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===$v.NOPROXY&&pe(En,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}}function lv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(n){return new sz(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=r,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-i);r>0&&pe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="PersistentStream";class yI{constructor(e,t,i,r,a,l,u,h){this.Ti=e,this.n_=i,this.r_=r,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new mI(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(os(t.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===t&&this.V_(i,r)},i=>{e(()=>{const r=new me(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(lT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(lT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nB extends yI{constructor(e,t,i,r,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=lz(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ie.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ie.min():l.readTime?yr(l.readTime):Ie.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=i_(this.serializer),t.addTarget=function(a,l){let u;const h=l.target;if(u=Xv(h)?{documents:hz(a,h)}:{query:dz(a,h).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=sI(a,l.resumeToken);const f=e_(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ie.min())>0){u.readTime=Sg(a,l.snapshotVersion.toTimestamp());const f=e_(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const i=gz(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=i_(this.serializer),t.removeTarget=e,this.I_(t)}}class iB extends yI{constructor(e,t,i,r,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return it(!!e.streamToken),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=uz(e.writeResults,e.commitTime),i=yr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=i_(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>cz(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{}class sB extends rB{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,t_(t,i),r,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(se.UNKNOWN,a.toString())})}Co(e,t,i,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,t_(t,i),r,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(se.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class aB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(os(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="RemoteStore";class oB{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{i.enqueueAndForget(async()=>{jo(this)&&(pe(xo,"Restarting streams for network reachability change."),await async function(h){const f=Me(h);f.W_.add(4),await Ph(f),f.j_.set("Unknown"),f.W_.delete(4),await wp(f)}(this))})}),this.j_=new aB(i,r)}}async function wp(n){if(jo(n))for(const e of n.G_)await e(!0)}async function Ph(n){for(const e of n.G_)await e(!1)}function vI(n,e){const t=Me(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Eb(t)?bb(t):dc(t).c_()&&_b(t,e))}function vb(n,e){const t=Me(n),i=dc(t);t.U_.delete(e),i.c_()&&_I(t,e),t.U_.size===0&&(i.c_()?i.P_():jo(t)&&t.j_.set("Unknown"))}function _b(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dc(n).y_(e)}function _I(n,e){n.H_.Ne(e),dc(n).w_(e)}function bb(n){n.H_=new tz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),dc(n).start(),n.j_.B_()}function Eb(n){return jo(n)&&!dc(n).u_()&&n.U_.size>0}function jo(n){return Me(n).W_.size===0}function bI(n){n.H_=void 0}async function lB(n){n.j_.set("Online")}async function cB(n){n.U_.forEach((e,t)=>{_b(n,e)})}async function uB(n,e){bI(n),Eb(n)?(n.j_.q_(e),bb(n)):n.j_.set("Unknown")}async function hB(n,e,t){if(n.j_.set("Online"),e instanceof rI&&e.state===2&&e.cause)try{await async function(r,a){const l=a.cause;for(const u of a.targetIds)r.U_.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.U_.delete(u),r.H_.removeTarget(u))}(n,e)}catch(i){pe(xo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await xg(n,i)}else if(e instanceof Kf?n.H_.We(e):e instanceof iI?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ie.min()))try{const i=await pI(n.localStore);t.compareTo(i)>=0&&await function(a,l){const u=a.H_.ot(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.U_.get(f);p&&a.U_.set(f,p.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const p=a.U_.get(h);if(!p)return;a.U_.set(h,p.withResumeToken(mn.EMPTY_BYTE_STRING,p.snapshotVersion)),_I(a,h);const v=new ea(p.target,h,f,p.sequenceNumber);_b(a,v)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(i){pe(xo,"Failed to raise snapshot:",i),await xg(n,i)}}async function xg(n,e,t){if(!hc(e))throw e;n.W_.add(1),await Ph(n),n.j_.set("Offline"),t||(t=()=>pI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(xo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await wp(n)})}function EI(n,e){return e().catch(t=>xg(n,t,e))}async function Ap(n){const e=Me(n),t=ya(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:ib;for(;dB(e);)try{const r=await $z(e.localStore,i);if(r===null){e.K_.length===0&&t.P_();break}i=r.batchId,fB(e,r)}catch(r){await xg(e,r)}wI(e)&&AI(e)}function dB(n){return jo(n)&&n.K_.length<10}function fB(n,e){n.K_.push(e);const t=ya(n);t.c_()&&t.S_&&t.b_(e.mutations)}function wI(n){return jo(n)&&!ya(n).u_()&&n.K_.length>0}function AI(n){ya(n).start()}async function gB(n){ya(n).C_()}async function pB(n){const e=ya(n);for(const t of n.K_)e.b_(t.mutations)}async function mB(n,e,t){const i=n.K_.shift(),r=hb.from(i,e,t);await EI(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Ap(n)}async function yB(n,e){e&&ya(n).S_&&await async function(i,r){if(function(l){return Z4(l)&&l!==se.ABORTED}(r.code)){const a=i.K_.shift();ya(i).h_(),await EI(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),await Ap(i)}}(n,e),wI(n)&&AI(n)}async function cT(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),pe(xo,"RemoteStore received new credentials");const i=jo(t);t.W_.add(3),await Ph(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await wp(t)}async function vB(n,e){const t=Me(n);e?(t.W_.delete(2),await wp(t)):e||(t.W_.add(2),await Ph(t),t.j_.set("Unknown"))}function dc(n){return n.J_||(n.J_=function(t,i,r){const a=Me(t);return a.M_(),new nB(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{xo:lB.bind(null,n),No:cB.bind(null,n),Lo:uB.bind(null,n),p_:hB.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Eb(n)?bb(n):n.j_.set("Unknown")):(await n.J_.stop(),bI(n))})),n.J_}function ya(n){return n.Y_||(n.Y_=function(t,i,r){const a=Me(t);return a.M_(),new iB(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:gB.bind(null,n),Lo:yB.bind(null,n),D_:pB.bind(null,n),v_:mB.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Ap(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(xo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const l=Date.now()+i,u=new wb(e,t,l,r,a);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ab(n,e){if(os("AsyncQueue",`${e}: ${n}`),hc(n))return new me(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{static emptySet(e){return new Fl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=ju(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Fl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.Z_=new St(be.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):De():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Jl{constructor(e,t,i,r,a,l,u,h,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,r,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Jl(e,t,Fl.emptySet(t),l,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class bB{constructor(){this.queries=hT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const r=Me(t),a=r.queries;r.queries=hT(),a.forEach((l,u)=>{for(const h of u.ta)h.onError(i)})})(this,new me(se.ABORTED,"Firestore shutting down"))}}function hT(){return new Po(n=>qD(n),mp)}async function SI(n,e){const t=Me(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.na()&&e.ra()&&(i=2):(a=new _B,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await t.onListen(r,!0);break;case 1:a.ea=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(l){const u=Ab(l,`Initialization of query '${Ol(e.query)}' failed`);return void e.onError(u)}t.queries.set(r,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Sb(t)}async function TI(n,e){const t=Me(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?r=e.ra()?0:1:!a.na()&&e.ra()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function EB(n,e){const t=Me(n);let i=!1;for(const r of e){const a=r.query,l=t.queries.get(a);if(l){for(const u of l.ta)u.oa(r)&&(i=!0);l.ea=r}}i&&Sb(t)}function wB(n,e,t){const i=Me(n),r=i.queries.get(e);if(r)for(const a of r.ta)a.onError(t);i.queries.delete(e)}function Sb(n){n.ia.forEach(e=>{e.next()})}var a_,dT;(dT=a_||(a_={}))._a="default",dT.Cache="cache";class xI{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Jl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==a_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.key=e}}class CI{constructor(e){this.key=e}}class AB{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ze(),this.mutatedKeys=ze(),this.ya=WD(e),this.wa=new Fl(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new uT,r=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=r,u=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((p,v)=>{const _=r.get(p),b=yp(this.query,v)?v:null,S=!!_&&this.mutatedKeys.has(_.key),R=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let T=!1;_&&b?_.data.isEqual(b.data)?S!==R&&(i.track({type:3,doc:b}),T=!0):this.va(_,b)||(i.track({type:2,doc:b}),T=!0,(h&&this.ya(b,h)>0||f&&this.ya(b,f)<0)&&(u=!0)):!_&&b?(i.track({type:0,doc:b}),T=!0):_&&!b&&(i.track({type:1,doc:_}),T=!0,(h||f)&&(u=!0)),T&&(b?(l=l.add(b),a=R?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{wa:l,Da:i,ls:u,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((p,v)=>function(b,S){const R=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return R(b)-R(S)}(p.type,v.type)||this.ya(p.doc,v.doc)),this.Ca(i),r=r!=null&&r;const u=t&&!r?this.Fa():[],h=this.pa.size===0&&this.current&&!r?1:0,f=h!==this.ga;return this.ga=h,l.length!==0||f?{snapshot:new Jl(this.query,e.wa,a,l,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new uT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ze(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new CI(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new RI(i))}),t}Oa(e){this.fa=e.gs,this.pa=ze();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Jl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Tb="SyncEngine";class SB{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class TB{constructor(e){this.key=e,this.Ba=!1}}class xB{constructor(e,t,i,r,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Po(u=>qD(u),mp),this.qa=new Map,this.Qa=new Set,this.$a=new St(be.comparator),this.Ka=new Map,this.Ua=new gb,this.Wa={},this.Ga=new Map,this.za=Zl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function RB(n,e,t=!0){const i=OI(n);let r;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.Na()):r=await DI(i,e,t,!0),r}async function CB(n,e){const t=OI(n);await DI(t,e,!0,!1)}async function DI(n,e,t,i){const r=await Yz(n.localStore,mr(e)),a=r.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return i&&(u=await DB(n,e,a,l==="current",r.resumeToken)),n.isPrimaryClient&&t&&vI(n.remoteStore,r),u}async function DB(n,e,t,i,r){n.Ha=(v,_,b)=>async function(R,T,C,P){let B=T.view.ba(C);B.ls&&(B=await rT(R.localStore,T.query,!1).then(({documents:O})=>T.view.ba(O,B)));const G=P&&P.targetChanges.get(T.targetId),X=P&&P.targetMismatches.get(T.targetId)!=null,ne=T.view.applyChanges(B,R.isPrimaryClient,G,X);return gT(R,T.targetId,ne.Ma),ne.snapshot}(n,v,_,b);const a=await rT(n.localStore,e,!0),l=new AB(e,a.gs),u=l.ba(a.documents),h=Oh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),f=l.applyChanges(u,n.isPrimaryClient,h);gT(n,t,f.Ma);const p=new SB(e,t,l);return n.ka.set(e,p),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function IB(n,e,t){const i=Me(n),r=i.ka.get(e),a=i.qa.get(r.targetId);if(a.length>1)return i.qa.set(r.targetId,a.filter(l=>!mp(l,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await r_(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&vb(i.remoteStore,r.targetId),o_(i,r.targetId)}).catch(uc)):(o_(i,r.targetId),await r_(i.localStore,r.targetId,!0))}async function kB(n,e){const t=Me(n),i=t.ka.get(e),r=t.qa.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),vb(t.remoteStore,i.targetId))}async function NB(n,e,t){const i=UB(n);try{const r=await function(l,u){const h=Me(l),f=Yt.now(),p=u.reduce((b,S)=>b.add(S.key),ze());let v,_;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let S=ls(),R=ze();return h.ds.getEntries(b,p).next(T=>{S=T,S.forEach((C,P)=>{P.isValidDocument()||(R=R.add(C))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,S)).next(T=>{v=T;const C=[];for(const P of u){const B=$4(P,v.get(P.key).overlayedDocument);B!=null&&C.push(new Sa(P.key,B,jD(B.value.mapValue),Ti.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,C,u)}).next(T=>{_=T;const C=T.applyToLocalDocumentSet(v,R);return h.documentOverlayCache.saveOverlays(b,T.batchId,C)})}).then(()=>({batchId:_.batchId,changes:$D(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,u,h){let f=l.Wa[l.currentUser.toKey()];f||(f=new St(He)),f=f.insert(u,h),l.Wa[l.currentUser.toKey()]=f}(i,r.batchId,t),await jh(i,r.changes),await Ap(i.remoteStore)}catch(r){const a=Ab(r,"Failed to persist write");t.reject(a)}}async function II(n,e){const t=Me(n);try{const i=await Wz(t.localStore,e);e.targetChanges.forEach((r,a)=>{const l=t.Ka.get(a);l&&(it(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.Ba=!0:r.modifiedDocuments.size>0?it(l.Ba):r.removedDocuments.size>0&&(it(l.Ba),l.Ba=!1))}),await jh(t,i,e)}catch(i){await uc(i)}}function fT(n,e,t){const i=Me(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.ka.forEach((a,l)=>{const u=l.view.sa(e);u.snapshot&&r.push(u.snapshot)}),function(l,u){const h=Me(l);h.onlineState=u;let f=!1;h.queries.forEach((p,v)=>{for(const _ of v.ta)_.sa(u)&&(f=!0)}),f&&Sb(h)}(i.eventManager,e),r.length&&i.La.p_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function MB(n,e,t){const i=Me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Ka.get(e),a=r&&r.key;if(a){let l=new St(be.comparator);l=l.insert(a,Sn.newNoDocument(a,Ie.min()));const u=ze().add(a),h=new bp(Ie.min(),new Map,new St(He),l,u);await II(i,h),i.$a=i.$a.remove(a),i.Ka.delete(e),xb(i)}else await r_(i.localStore,e,!1).then(()=>o_(i,e,t)).catch(uc)}async function OB(n,e){const t=Me(n),i=e.batch.batchId;try{const r=await qz(t.localStore,e);NI(t,i,null),kI(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await jh(t,r)}catch(r){await uc(r)}}async function PB(n,e,t){const i=Me(n);try{const r=await function(l,u){const h=Me(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,u).next(v=>(it(v!==null),p=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,e);NI(i,e,t),kI(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await jh(i,r)}catch(r){await uc(r)}}function kI(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function NI(n,e,t){const i=Me(n);let r=i.Wa[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Wa[i.currentUser.toKey()]=r}}function o_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||MI(n,i)})}function MI(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(vb(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),xb(n))}function gT(n,e,t){for(const i of t)i instanceof RI?(n.Ua.addReference(i.key,e),jB(n,i)):i instanceof CI?(pe(Tb,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||MI(n,i.key)):De()}function jB(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(pe(Tb,"New document in limbo: "+t),n.Qa.add(i),xb(n))}function xb(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new be(pt.fromString(e)),i=n.za.next();n.Ka.set(i,new TB(t)),n.$a=n.$a.insert(t,i),vI(n.remoteStore,new ea(mr(lb(t.path)),i,"TargetPurposeLimboResolution",fp.ae))}}async function jh(n,e,t){const i=Me(n),r=[],a=[],l=[];i.ka.isEmpty()||(i.ka.forEach((u,h)=>{l.push(i.Ha(h,e,t).then(f=>{var p;if((f||t)&&i.isPrimaryClient){const v=f?!f.fromCache:(p=t==null?void 0:t.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(f){r.push(f);const v=mb.Yi(h.targetId,f);a.push(v)}}))}),await Promise.all(l),i.La.p_(r),await async function(h,f){const p=Me(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>re.forEach(f,_=>re.forEach(_.Hi,b=>p.persistence.referenceDelegate.addReference(v,_.targetId,b)).next(()=>re.forEach(_.Ji,b=>p.persistence.referenceDelegate.removeReference(v,_.targetId,b)))))}catch(v){if(!hc(v))throw v;pe(yb,"Failed to update sequence numbers: "+v)}for(const v of f){const _=v.targetId;if(!v.fromCache){const b=p.Ts.get(_),S=b.snapshotVersion,R=b.withLastLimboFreeSnapshotVersion(S);p.Ts=p.Ts.insert(_,R)}}}(i.localStore,a))}async function LB(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){pe(Tb,"User change. New user:",e.toKey());const i=await gI(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(u=>{u.forEach(h=>{h.reject(new me(se.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await jh(t,i.Rs)}}function VB(n,e){const t=Me(n),i=t.Ka.get(e);if(i&&i.Ba)return ze().add(i.key);{let r=ze();const a=t.qa.get(e);if(!a)return r;for(const l of a){const u=t.ka.get(l);r=r.unionWith(u.view.Sa)}return r}}function OI(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=II.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MB.bind(null,e),e.La.p_=EB.bind(null,e.eventManager),e.La.Ja=wB.bind(null,e.eventManager),e}function UB(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PB.bind(null,e),e}class Rg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ep(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Fz(this.persistence,new zz,e.initialUser,this.serializer)}Xa(e){return new fI(pb.ri,this.serializer)}Za(e){return new Kz}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rg.provider={build:()=>new Rg};class zB extends Rg{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){it(this.persistence.referenceDelegate instanceof Tg);const i=this.persistence.referenceDelegate.garbageCollector;return new Tz(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new fI(i=>Tg.ri(i,t),this.serializer)}}class l_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=LB.bind(null,this.syncEngine),await vB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bB}()}createDatastore(e){const t=Ep(e.databaseInfo.databaseId),i=function(a){return new tB(a)}(e.databaseInfo);return function(a,l,u,h){return new sB(a,l,u,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,a,l,u){return new oB(i,r,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>fT(this.syncEngine,t,0),function(){return oT.D()?new oT:new Xz}())}createSyncEngine(e,t){return function(r,a,l,u,h,f,p){const v=new xB(r,a,l,u,h,f);return p&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const a=Me(r);pe(xo,"RemoteStore shutting down."),a.W_.add(5),await Ph(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}l_.provider={build:()=>new l_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="FirestoreClient";class BB{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=An.UNAUTHENTICATED,this.clientId=xD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{pe(va,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(pe(va,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Ab(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function cv(n,e){n.asyncQueue.verifyOperationInProgress(),pe(va,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await gI(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function pT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await HB(n);pe(va,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>cT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>cT(e.remoteStore,r)),n._onlineComponents=e}async function HB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(va,"Using user provided OfflineComponentProvider");try{await cv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===se.FAILED_PRECONDITION||r.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Yl("Error using user provided cache. Falling back to memory cache: "+t),await cv(n,new Rg)}}else pe(va,"Using default OfflineComponentProvider"),await cv(n,new zB(void 0));return n._offlineComponents}async function jI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(va,"Using user provided OnlineComponentProvider"),await pT(n,n._uninitializedComponentsProvider._online)):(pe(va,"Using default OnlineComponentProvider"),await pT(n,new l_))),n._onlineComponents}function FB(n){return jI(n).then(e=>e.syncEngine)}async function LI(n){const e=await jI(n),t=e.eventManager;return t.onListen=RB.bind(null,e.syncEngine),t.onUnlisten=IB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kB.bind(null,e.syncEngine),t}function qB(n,e,t={}){const i=new rs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,f){const p=new PI({next:_=>{p.su(),l.enqueueAndForget(()=>TI(a,v));const b=_.docs.has(u);!b&&_.fromCache?f.reject(new me(se.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&h&&h.source==="server"?f.reject(new me(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new xI(lb(u.path),p,{includeMetadataChanges:!0,Ta:!0});return SI(a,v)}(await LI(n),n.asyncQueue,e,t,i)),i.promise}function WB(n,e,t={}){const i=new rs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,f){const p=new PI({next:_=>{p.su(),l.enqueueAndForget(()=>TI(a,v)),_.fromCache&&h.source==="server"?f.reject(new me(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new xI(u,p,{includeMetadataChanges:!0,Ta:!0});return SI(a,v)}(await LI(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(n,e,t){if(!t)throw new me(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function GB(n,e,t,i){if(e===!0&&i===!0)throw new me(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yT(n){if(!be.isDocumentKey(n))throw new me(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vT(n){if(be.isDocumentKey(n))throw new me(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Sp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De()}function Ui(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sp(n);throw new me(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="firestore.googleapis.com",_T=!0;class bT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new me(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zI,this.ssl=_T}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:_T;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Az)throw new me(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tp{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new e4;switch(i.type){case"firstParty":return new r4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=mT.get(t);i&&(pe("ComponentProvider","Removing Datastore"),mT.delete(t),i.terminate())}(this),Promise.resolve()}}function $B(n,e,t,i={}){var r;const a=(n=Ui(n,Tp))._getSettings(),l=`${e}:${t}`;if(a.host!==zI&&a.host!==l&&Yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),i.mockUserToken){let u,h;if(typeof i.mockUserToken=="string")u=i.mockUserToken,h=An.MOCK_USER;else{u=H2(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new me(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new An(f)}n._authCredentials=new t4(new TD(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new fc(this.firestore,e,this._query)}}class Pn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class ca extends fc{constructor(e,t,i){super(e,t,lb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new be(e))}withConverter(e){return new ca(this.firestore,e,this._path)}}function mo(n,e,...t){if(n=At(n),UI("collection","path",e),n instanceof Tp){const i=pt.fromString(e,...t);return vT(i),new ca(n,null,i)}{if(!(n instanceof Pn||n instanceof ca))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(e,...t));return vT(i),new ca(n.firestore,null,i)}}function Js(n,e,...t){if(n=At(n),arguments.length===1&&(e=xD.newId()),UI("doc","path",e),n instanceof Tp){const i=pt.fromString(e,...t);return yT(i),new Pn(n,null,new be(i))}{if(!(n instanceof Pn||n instanceof ca))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(e,...t));return yT(i),new Pn(n.firestore,n instanceof ca?n.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="AsyncQueue";class wT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new mI(this,"async_queue_retry"),this.Su=()=>{const i=lv();i&&pe(ET,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=lv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=lv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new rs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!hc(e))throw e;pe(ET,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const r=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(i);throw os("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=wb.createAndSchedule(this,e,t,i,a=>this.Fu(a));return this.fu.push(r),r}Du(){this.gu&&De()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Lo extends Tp{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new wT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wT(e),this._firestoreClient=void 0,await e}}}function YB(n,e){const t=typeof n=="object"?n:B_(),i=typeof n=="string"?n:vg,r=Mo(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=z2("firestore");a&&$B(r,...a)}return r}function Rb(n){if(n._terminated)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QB(n),n._firestoreClient}function QB(n){var e,t,i;const r=n._freezeSettings(),a=function(u,h,f,p){return new v4(u,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,VI(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new BB(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ec(mn.fromBase64String(e))}catch(t){throw new me(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ec(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=/^__.*__$/;class XB{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Sa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mh(e,this.data,t,this.fieldTransforms)}}class BI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Sa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function HI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class kb{constructor(e,t,i,r,a,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new kb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ku({path:i,Qu:!1});return r.$u(e),r}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ku({path:i,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Cg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(HI(this.Lu)&&KB.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class ZB{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ep(e)}ju(e,t,i,r=!1){return new kb({Lu:e,methodName:t,zu:i,path:gn.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rp(n){const e=n._freezeSettings(),t=Ep(n._databaseId);return new ZB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FI(n,e,t,i,r,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,r);Nb("Data must be an object, but it was:",l,i);const u=qI(i,l);let h,f;if(a.merge)h=new ti(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const v of a.mergeFields){const _=c_(e,v,t);if(!l.contains(_))throw new me(se.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);GI(p,_)||p.push(_)}h=new ti(p),f=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=l.fieldTransforms;return new XB(new Hn(u),h,f)}class Cp extends Cb{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cp}}function JB(n,e,t,i){const r=n.ju(1,e,t);Nb("Data must be an object, but it was:",r,i);const a=[],l=Hn.empty();Aa(i,(h,f)=>{const p=Mb(e,h,t);f=At(f);const v=r.Ku(p);if(f instanceof Cp)a.push(p);else{const _=Lh(f,v);_!=null&&(a.push(p),l.set(p,_))}});const u=new ti(a);return new BI(l,u,r.fieldTransforms)}function eH(n,e,t,i,r,a){const l=n.ju(1,e,t),u=[c_(e,i,t)],h=[r];if(a.length%2!=0)throw new me(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)u.push(c_(e,a[_])),h.push(a[_+1]);const f=[],p=Hn.empty();for(let _=u.length-1;_>=0;--_)if(!GI(f,u[_])){const b=u[_];let S=h[_];S=At(S);const R=l.Ku(b);if(S instanceof Cp)f.push(b);else{const T=Lh(S,R);T!=null&&(f.push(b),p.set(b,T))}}const v=new ti(f);return new BI(p,v,l.fieldTransforms)}function tH(n,e,t,i=!1){return Lh(t,n.ju(i?4:3,e))}function Lh(n,e){if(WI(n=At(n)))return Nb("Unsupported field value:",e,n),qI(n,e);if(n instanceof Cb)return function(i,r){if(!HI(r.Lu))throw r.Wu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,r){const a=[];let l=0;for(const u of i){let h=Lh(u,r.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,e)}return function(i,r){if((i=At(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return B4(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Yt.fromDate(i);return{timestampValue:Sg(r.serializer,a)}}if(i instanceof Yt){const a=new Yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sg(r.serializer,a)}}if(i instanceof Db)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ec)return{bytesValue:sI(r.serializer,i._byteString)};if(i instanceof Pn){const a=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw r.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:fb(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Ib)return function(l,u){return{mapValue:{fields:{[OD]:{stringValue:PD},[_g]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Wu("VectorValues must only contain numeric values.");return cb(u.serializer,f)})}}}}}}(i,r);throw r.Wu(`Unsupported field value: ${Sp(i)}`)}(n,e)}function qI(n,e){const t={};return CD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(n,(i,r)=>{const a=Lh(r,e.qu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function WI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Yt||n instanceof Db||n instanceof ec||n instanceof Pn||n instanceof Cb||n instanceof Ib)}function Nb(n,e,t){if(!WI(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=Sp(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function c_(n,e,t){if((e=At(e))instanceof xp)return e._internalPath;if(typeof e=="string")return Mb(n,e);throw Cg("Field path arguments must be of type string or ",n,!1,void 0,t)}const nH=new RegExp("[~\\*/\\[\\]]");function Mb(n,e,t){if(e.search(nH)>=0)throw Cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xp(...e.split("."))._internalPath}catch{throw Cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Cg(n,e,t,i,r){const a=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${r}`),h+=")"),new me(se.INVALID_ARGUMENT,u+n+h)}function GI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ob("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iH extends $I{data(){return super.data()}}function Ob(n,e){return typeof e=="string"?Mb(n,e):e instanceof xp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pb{}class sH extends Pb{}function Dg(n,e,...t){let i=[];e instanceof Pb&&i.push(e),i=i.concat(t),function(a){const l=a.filter(h=>h instanceof jb).length,u=a.filter(h=>h instanceof Dp).length;if(l>1||l>0&&u>0)throw new me(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Dp extends sH{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Dp(e,t,i)}_apply(e){const t=this._parse(e);return YI(e._query,t),new fc(e.firestore,e.converter,Zv(e._query,t))}_parse(e){const t=Rp(e.firestore);return function(a,l,u,h,f,p,v){let _;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new me(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){ST(v,p);const S=[];for(const R of v)S.push(AT(h,a,R));_={arrayValue:{values:S}}}else _=AT(h,a,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||ST(v,p),_=tH(u,l,v,p==="in"||p==="not-in");return Ut.create(f,p,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ig(n,e,t){const i=e,r=Ob("where",n);return Dp._create(r,i,t)}class jb extends Pb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jb(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Vi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,a){let l=r;const u=a.getFlattenedFilters();for(const h of u)YI(l,h),l=Zv(l,h)}(e._query,t),new fc(e.firestore,e.converter,Zv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function AT(n,e,t){if(typeof(t=At(t))=="string"){if(t==="")throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FD(e)&&t.indexOf("/")!==-1)throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(pt.fromString(t));if(!be.isDocumentKey(i))throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return US(n,new be(i))}if(t instanceof Pn)return US(n,t._key);throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sp(t)}.`)}function ST(n,e){if(!Array.isArray(n)||n.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YI(n,e){const t=function(r,a){for(const l of r)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class aH{convertValue(e,t="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Aa(e,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,r;const a=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[_g].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(l=>Nt(l.doubleValue));return new Ib(a)}convertGeoPoint(e){return new Db(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=pp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(dh(e));default:return null}}convertTimestamp(e){const t=ga(e);return new Yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=pt.fromString(e);it(hI(i));const r=new fh(i.get(1),i.get(3)),a=new be(i.popFirst(5));return r.isEqual(t)||os(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KI extends $I{constructor(e,t,i,r,a,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ob("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Xf extends KI{data(e={}){return super.data(e)}}class oH{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Vu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Xf(this._firestore,this._userDataWriter,i.key,i,new Vu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>{const h=new Xf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Vu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new Xf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Vu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:lH(u.type),doc:h,oldIndex:f,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cH(n){n=Ui(n,Pn);const e=Ui(n.firestore,Lo);return qB(Rb(e),n._key).then(t=>hH(e,n,t))}class XI extends aH{constructor(e){super(),this.firestore=e}convertBytes(e){return new ec(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}function kg(n){n=Ui(n,fc);const e=Ui(n.firestore,Lo),t=Rb(e),i=new XI(e);return rH(n._query),WB(t,n._query).then(r=>new oH(e,i,n,r))}function uH(n,e,t){n=Ui(n,Pn);const i=Ui(n.firestore,Lo),r=QI(n.converter,e);return Ip(i,[FI(Rp(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,Ti.none())])}function TT(n,e,t,...i){n=Ui(n,Pn);const r=Ui(n.firestore,Lo),a=Rp(r);let l;return l=typeof(e=At(e))=="string"||e instanceof xp?eH(a,"updateDoc",n._key,e,t,i):JB(a,"updateDoc",n._key,e),Ip(r,[l.toMutation(n._key,Ti.exists(!0))])}function u_(n){return Ip(Ui(n.firestore,Lo),[new ub(n._key,Ti.none())])}function h_(n,e){const t=Ui(n.firestore,Lo),i=Js(n),r=QI(n.converter,e);return Ip(t,[FI(Rp(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ti.exists(!1))]).then(()=>i)}function Ip(n,e){return function(i,r){const a=new rs;return i.asyncQueue.enqueueAndForget(async()=>NB(await FB(i),r,a)),a.promise}(Rb(n),e)}function hH(n,e,t){const i=t.docs.get(e._key),r=new XI(n);return new KI(n,r,e._key,i,new Vu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){cc=r})(oc),vr(new ji("firestore",(i,{instanceIdentifier:r,options:a})=>{const l=i.getProvider("app").getImmediate(),u=new Lo(new n4(i.getProvider("auth-internal")),new s4(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new me(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fh(f.options.projectId,p)}(l,r),l);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Si(CS,DS,e),Si(CS,DS,"esm2017")})();const dH={apiKey:"AIzaSyDPgMa2cQIJJHAD5loZZrQOrn8oGyCtuXQ",authDomain:"getfit-79396.firebaseapp.com",projectId:"getfit-79396",storageBucket:"getfit-79396.appspot.com",messagingSenderId:"241827461493",appId:"1:241827461493:web:704bb4a0c2d368043ebb3c",measurementId:"G-J44KNXJ2BP"},Lb=hC(dH);KU(Lb);const Tn=kV(Lb),zn=YB(Lb);new Zr;const fH=()=>{wa();const[n,e]=z.useState(!1),[t,i]=z.useState(null),r=()=>e(!n);z.useEffect(()=>zC(Tn,h=>{i(h)}),[]);const a=()=>{e(!1)},l=u=>t?t.emailVerified?w.jsxs(w.Fragment,{children:[w.jsx(mt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Domov"}),w.jsx(mt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Vyhľadávanie"}),w.jsx(mt,{to:"/profil",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Profil"}),w.jsx(mt,{to:"/dashboard",className:"pr-7 text-[#616161] cursor-pointer hover:underline",onClick:u,children:"Dashboard"}),w.jsx(mt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Odhlásiť sa"})]}):w.jsxs(w.Fragment,{children:[w.jsx(mt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Domov"}),w.jsx(mt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Vyhľadávanie"}),w.jsx(mt,{to:"/verify-email",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Over si email"}),w.jsx(mt,{to:"/logout",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Odhlásiť sa"})]}):w.jsxs(w.Fragment,{children:[w.jsx(mt,{to:"/",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Domov"}),w.jsx(mt,{to:"/results",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Vyhľadávanie"}),w.jsx(mt,{to:"/login",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Prihlásiť sa"}),w.jsx(mt,{to:"/register",className:"pr-7 text-[#616161] hover:underline",onClick:u,children:"Registrácia"})]});return w.jsxs("nav",{className:"bg-white shadow-md fixed top-0 left-0 w-full py-4 px-10 flex justify-between items-center z-50",children:[w.jsx("span",{className:"text-2xl font-bold text-green-700",children:"GetFit"}),w.jsx("div",{className:"hidden md:flex space-x-6 text-gray-700 font-bold",children:l()}),w.jsx("div",{className:"md:hidden",children:w.jsx("button",{onClick:r,children:n?w.jsx(N2,{size:24}):w.jsx(k2,{size:24})})}),w.jsx("div",{className:`
          absolute top-full left-0 w-full bg-white shadow-md flex flex-col items-center py-4 space-y-4 
          md:hidden transition-all duration-300 overflow-hidden
          ${n?"max-h-96 opacity-100":"max-h-0 opacity-0"}
        `,children:l(a)})]})},gH=()=>w.jsxs("header",{className:"w-full text-center py-20 bg-gradient-to-r from-green-300 to-green-500 text-white",children:[w.jsx("h1",{className:"text-5xl font-bold",children:"Zdravý život je jednoduchý"}),w.jsx("p",{className:"text-lg mt-4",children:"Nájdite tie najlepšie jedlá, ktoré zodpovedajú vášmu životnému štýlu"}),w.jsx("button",{className:"mt-6 px-6 py-3 bg-white text-green-600 rounded-lg shadow-lg hover:shadow-xl transition",children:"Sign Up"})]}),pH=({query:n,setQuery:e,handleSearch:t,disabled:i})=>w.jsxs("section",{className:"max-w-5xl mx-auto py-16 px-6",children:[w.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"Prečo si vybrať našu platformu?"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[w.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Sledujte svoju výživu"}),w.jsx("p",{className:"text-gray-700 mt-3",children:"Ľahko zaznamenávajte svoje jedlá a sledujte makrá bez problémov."})]}),w.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[w.jsx("h3",{className:"text-2xl font-bold text-green-600",children:"Personalizované stravovacie plány"}),w.jsx("p",{className:"text-gray-700 mt-3",children:"Upravte svoj jedálniček na základe vašich fitness cieľov."})]})]}),w.jsxs("div",{className:"mt-12 text-center",children:[w.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Vyhľadajte informácie o výžive"}),w.jsxs("div",{className:"flex justify-center gap-4",children:[w.jsx("input",{type:"text",placeholder:"Zadajte názov jedla...",value:n,onChange:r=>e(r.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500"}),w.jsx("button",{onClick:t,disabled:i,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition disabled:bg-green-950",children:"Hľadať"})]})]})]}),ZI=()=>w.jsxs("div",{role:"status",children:[w.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-indigo-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),w.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),w.jsx("span",{className:"sr-only",children:"Loading..."})]}),mH=({results:n=[],query:e,setQuery:t,handleSearch:i,searchTerm:r,error:a,isLoading:l})=>l?w.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:w.jsx(ZI,{})}):w.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12",children:w.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[a&&w.jsxs("p",{className:"text-red-600 text-center mb-4",children:["Chyba pri načítaní dát: ",a.message]}),w.jsxs("h2",{className:"text-3xl font-semibold text-green-700 text-center mb-6 mt-6",children:["Výsledky pre: ",w.jsx("em",{className:"font-normal text-green-600",children:r})]}),w.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[w.jsx("input",{type:"text",placeholder:"Zadaj iné jedlo...",value:e,onChange:u=>t(u.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 text-gray-700 focus:ring-2 focus:ring-green-500"}),w.jsx("button",{onClick:i,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition",children:"Hľadať"})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map((u,h)=>{var T;const{food_name:f,nutrition:p}=u,v=((T=p==null?void 0:p.photo)==null?void 0:T.thumb)||"https://via.placeholder.com/300x150",_=(p==null?void 0:p.nf_calories)??0,b=(p==null?void 0:p.nf_total_fat)??0,S=(p==null?void 0:p.nf_protein)??0,R=(p==null?void 0:p.nf_total_carbohydrate)??0;return w.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition p-5",children:[w.jsx("img",{src:v,alt:f,className:"w-full h-40 object-cover rounded-md"}),w.jsx("h3",{className:"text-xl font-bold text-gray-800 mt-3",children:f}),(p==null?void 0:p.servingSize)&&w.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Nutričné hodnoty pre: ",w.jsx("strong",{children:p.servingSize})]}),w.jsxs("div",{className:"text-gray-600 text-sm leading-relaxed mt-2",children:[w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Kalórie:"})," ",_," kcal"]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Tuky:"})," ",b," g"]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Bielkoviny:"})," ",S," g"]}),w.jsxs("p",{children:[w.jsx("strong",{className:"text-green-600",children:"Sacharidy:"})," ",R," g"]})]})]},h)}):w.jsx("p",{className:"col-span-full text-center text-gray-600",children:"Žiadne výsledky na zobrazenie."})})]})}),yH=[{id:1,title:"Top 5 zdravých potravín na spaľovanie tukov",excerpt:"Tieto potraviny ti pomôžu zrýchliť metabolizmus a efektívne spaľovať tuk.",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:"Celý článok o zdravých potravinách..."},{id:2,title:"Ako správne kombinovať sacharidy, tuky a bielkoviny?",excerpt:"Vyvážená strava je kľúčom k zdraviu. Pozri si, ako kombinovať makroživiny.",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:"Celý článok o kombinovaní makroživín..."},{id:3,title:"Prečo je hydratácia kľúčová pri chudnutí?",excerpt:"Pitný režim hrá obrovskú úlohu pri tvojom metabolizme a spaľovaní tukov.",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:"Celý článok o hydratácii a jej výhodách..."}],vH=()=>{const n=Hi();return z.useEffect(()=>{if(n.state&&n.state.scrollTo){const e=document.getElementById(`blog-${n.state.scrollTo}`);e&&e.scrollIntoView({behavior:"smooth"})}},[n]),w.jsx("div",{children:w.jsxs("section",{className:"max-w-6xl mx-auto pb-16 px-6",children:[w.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-10",children:"Najnovšie tipy a rady"}),w.jsx("div",{className:"grid gird-cols-1 md:grid-cols-3 gap-8",children:yH.map(e=>w.jsxs("div",{id:`blog-${e.id}`,className:"bg-white shadow-lg rounded-lg overflow-hidden hover:shadow-xl transition",children:[w.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),w.jsxs("div",{className:"p-6",children:[w.jsx("h3",{className:"text-2xl font-bold text-green-600",children:e.title}),w.jsx("p",{className:"text-gray-700 mt-3",children:e.excerpt}),w.jsx(mt,{to:`/blog/${e.id}`,className:"inline-block mt-4 text-green-700 font-semibold hover:underline",children:"Čítať viac →"})]})]},e.id))})]})})},_H=[{id:1,title:"Top 5 zdravých potravín na spaľovanie tukov",image:"/Food-nutrition-app/images/blogPhoto2.jpeg",content:w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Spaľovanie tukov nie je len o cvičení, ale aj o správnej výžive. Medzi najlepšie potraviny, ktoré ti pomôžu spaľovať tuky patria:"}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Avokádo"})," – obsahuje zdravé tuky, ktoré podporujú metabolizmus."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Losos"})," – bohatý na omega-3 mastné kyseliny, ktoré pomáhajú regulovať hladinu cukru v krvi."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Zelený čaj"})," – zrýchľuje spaľovanie kalórií a podporuje trávenie."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Chilli papričky"})," – obsahujú kapsaicín, ktorý podporuje spaľovanie tukov."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Orechy"})," – skvelý zdroj bielkovín a zdravých tukov."]})]}),w.jsxs("p",{className:"mt-6",children:[w.jsx("span",{className:"font-semibold text-green-600",children:"Záver:"})," Pravidelné konzumovanie týchto potravín v kombinácii s fyzickou aktivitou môže výrazne pomôcť pri spaľovaní tukov a udržiavaní zdravej hmotnosti."]})]})},{id:2,title:"Ako správne kombinovať sacharidy, tuky a bielkoviny?",image:"/Food-nutrition-app/images/blogPhoto3.jpeg",content:w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Vyvážená strava je základ zdravého životného štýlu. Dôležité je pochopiť, ako správne kombinovať makroživiny:"}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Sacharidy"})," – hlavný zdroj energie. Ideálne sú celozrnné potraviny, ovocie a zelenina."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Tuky"})," – esenciálne pre správne fungovanie organizmu. Uprednostni zdravé tuky ako olivový olej, orechy a avokádo."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Bielkoviny"})," – dôležité pre svalovú regeneráciu. Kvalitné zdroje sú kuracie mäso, ryby, tofu a strukoviny."]})]}),w.jsxs("p",{className:"mt-6",children:[w.jsx("span",{className:"font-semibold text-green-600",children:"Tip:"})," Správne jedlo by malo obsahovať vyvážený pomer všetkých troch makroživín. Napríklad:"]}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Raňajky:"})," Ovsená kaša s mandľami a banánom."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Obed:"})," Grilované kuracie mäso s quinoou a avokádovým šalátom."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Večera:"})," Pečený losos s dusenou zeleninou."]})]})]})},{id:3,title:"Prečo je hydratácia kľúčová pri chudnutí?",image:"/Food-nutrition-app/images/blogPhoto1.jpeg",content:w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"Voda hrá zásadnú úlohu pri metabolizme a chudnutí. Je dôležité dodržiavať správny pitný režim:"}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsx("li",{children:"Pomáha tráveniu a detoxikácii organizmu."}),w.jsx("li",{children:"Podporuje spaľovanie tukov."}),w.jsx("li",{children:"Znižuje pocit hladu – často si zamieňame smäd za hlad."})]}),w.jsx("p",{className:"mt-6",children:w.jsx("span",{className:"font-semibold text-green-600",children:"Koľko vody by si mal/a piť?"})}),w.jsxs("ul",{className:"list-disc list-inside mt-4",children:[w.jsxs("li",{children:["Minimálne ",w.jsx("strong",{children:"2-3 litre denne"}),"."]}),w.jsxs("li",{children:["Počas cvičenia doplň aspoň ",w.jsx("strong",{children:"0,5 L vody"})," na hodinu."]}),w.jsx("li",{children:"Ráno začni pohárom vody s citrónom pre lepší metabolizmus."})]})]})}],bH=()=>{const{id:n}=RO(),e=_H.find(t=>t.id===parseInt(n));return e?w.jsx("div",{children:w.jsxs("section",{className:"max-w-4xl mx-auto py-16 mt-8 px-6",children:[w.jsx("img",{src:e.image,alt:e.title,className:"w-full h-80 object-cover rounded-lg mb-6"}),w.jsx("h1",{className:"text-4xl font-bold text-green-700",children:e.title}),w.jsx("div",{className:"text-gray-700 mt-6 leading-fixed",children:e.content}),w.jsx(mt,{to:"/",state:{scrollTo:e.id},className:"inline-block mt-6 text-green-700 font-semibold hover:underline",children:" ← Späť na blog"})]})}):w.jsx("p",{className:"text-center text-red-600 text-xl mt-10",children:"Článok neexistuje!"})},EH=()=>{const[n,e]=z.useState(""),[t,i]=z.useState(""),[r,a]=z.useState(""),[l,u]=z.useState("male"),[h,f]=z.useState(1.2),[p,v]=z.useState("maintain"),[_,b]=z.useState(null),S=R=>{if(R.preventDefault(),!n||!t||!r){alert("Prosím, vyplň všetky polia.");return}let T;l==="male"?T=88.36+13.4*parseFloat(n)+4.8*parseFloat(t)-5.7*parseFloat(r):T=447.6+9.2*parseFloat(n)+3.1*parseFloat(t)-4.3*parseFloat(r);let C=T*parseFloat(h);p==="lose"?C-=500:p==="gain"&&(C+=500),b(Math.round(C))};return w.jsxs("section",{className:"max-w-4xl mx-auto py-16 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-4xl font-semibold text-green-700 text-center mb-6",children:"BMI kalkulačka"}),w.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 sm:grid-cols-2 gap-6 bg-gray-50 p-6 rounded-lg shadow-md",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Váha (kg)"}),w.jsx("input",{type:"number",value:n,onChange:R=>e(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte váhu"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Výška (cm)"}),w.jsx("input",{type:"number",value:t,onChange:R=>i(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte výšku"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Vek"}),w.jsx("input",{type:"number",value:r,onChange:R=>a(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",placeholder:"Zadajte vek"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Pohlavie"}),w.jsxs("select",{value:l,onChange:R=>u(R.target.value),className:" focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[w.jsx("option",{value:"male",children:"Muž"}),w.jsx("option",{value:"female",children:"Žena"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Úroveň aktivity"}),w.jsxs("select",{value:h,onChange:R=>f(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[w.jsx("option",{value:"1.2",children:"Sedavý životný štýl"}),w.jsx("option",{value:"1.375",children:"Ľahká aktivita (1-3x týždenne cvičenie)"}),w.jsx("option",{value:"1.55",children:"Stredná aktivita (3-5x týždenne cvičenie)"}),w.jsx("option",{value:"1.725",children:"Vysoká aktivita (6-7x týždenne cvičenie)"}),w.jsx("option",{value:"1.9",children:"Extrémna aktivita (ťažká fyzická práca + tréning)"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 font-semibold",children:"Cieľ"}),w.jsxs("select",{value:p,onChange:R=>v(R.target.value),className:"focus:outline-none border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-green-500 transition",children:[w.jsx("option",{value:"lose",children:"Schudnúť"}),w.jsx("option",{value:"maintain",children:"Udržať váhu"}),w.jsx("option",{value:"gain",children:"Nabrať svaly"})]})]}),w.jsx("div",{className:"col-span-1 sm:col-span-2 flex justify-center",children:w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition text-lg font-semibold shadow-md w-full sm:w-1/2",children:"Vypočítať kalórie"})})]}),_!==null&&w.jsxs("div",{className:"mt-8 p-6 bg-green-100 text-center rounded-lg shadow-md",children:[w.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Odporúčaný denný kalorický príjem:"}),w.jsxs("p",{className:"text-4xl font-bold text-green-700 mt-2",children:[_," kcal"]})]})]})},wH=()=>{const[n,e]=z.useState(1),[t,i]=z.useState(!1),[r,a]=z.useState(""),[l,u]=z.useState(""),[h,f]=z.useState(""),[p,v]=z.useState(""),[_,b]=z.useState(!1),[S,R]=z.useState(null),[T,C]=z.useState(""),[P,B]=z.useState(""),[G,X]=z.useState(""),[ne,O]=z.useState("male"),[I,k]=z.useState("1.2"),[M,V]=z.useState("maintain"),[H,j]=z.useState(null),[ke,Ee]=z.useState(!1),[le,de]=z.useState(!1),[fe,Se]=z.useState(null),[U,ae]=z.useState(null),[ge,he]=z.useState(null),[ue,xe]=z.useState(null),[we,Ye]=z.useState(null),Fe=wa();if(t)return w.jsx("section",{className:"min-h-screen bg-gray-100 text-gray-900 py-12 flex justify-center items-center",children:w.jsx(ZI,{})});const dt=()=>{const Te=Number(P),yn=Number(G),ct=Number(T);let ft;ne==="male"?ft=88.36+13.4*Te+4.8*yn-5.7*ct:ft=447.6+9.2*Te+3.1*yn-4.3*ct;let ln=ft*Number(I);M==="lose"?ln-=500:M==="gain"&&(ln+=500),ln=Math.round(ln),Se(ln);const Wi=Math.round(.3*ln/4),Gi=Math.round(.25*ln/9),wr=Math.round(.45*ln/4);ae(Wi),he(Gi),xe(wr),de(!0)},Je=async()=>{const Te=r.trim().toLowerCase();if(!Te||!Te.includes("@"))return Ye("Prosím, zadaj platný email."),!1;if(l.length<8)return Ye("Heslo musí mať aspoň 8 znakov."),!1;if(!/[A-Z]/.test(l))return Ye("Heslo musí obsahovať aspoň 1 veľké písmeno (A-Z)."),!1;if(!/\d/.test(l))return Ye("Heslo musí obsahovať aspoň 1 číslicu."),!1;if(l!==h)return Ye("Heslá sa nezhodujú."),!1;if(!_)return Ye("Musíš súhlasiť s podmienkami používania a ochranou osobných údajov."),!1;const yn=async ct=>{const ft=Dg(mo(zn,"users"),Ig("email","==",ct));return!(await kg(ft)).empty};try{if((await gL(Tn,Te)).length>0||await yn(Te))return Ye("Tento email už existuje."),!1}catch(ct){return console.error("Chyba pri overovaní emailu:",ct),Ye("Nastala chyba pri overovaní emailu."),!1}return Ye(null),!0},on=async()=>{await Je()&&e(2)},Ci=async Te=>{Te.preventDefault(),i(!0);const yn=r.trim().toLowerCase();if(dt(),!fe||!U||!ge||!ue){let ct;ne==="male"?ct=88.36+13.4*Number(P)+4.8*Number(G)-5.7*Number(T):ct=447.6+9.2*Number(P)+3.1*Number(G)-4.3*Number(T);let ft=ct*Number(I);M==="lose"?ft-=500:M==="gain"&&(ft+=500),ft=Math.round(ft);const ln=Math.round(.3*ft/4),Wi=Math.round(.25*ft/9),Gi=Math.round(.45*ft/4);Se(ft),ae(ln),he(Wi),xe(Gi),de(!0)}try{const ct=await hL(Tn,yn,l);await yL(ct.user,{displayName:p}),await pL(ct.user),await uH(Js(zn,"users",ct.user.uid),{name:p,email:yn,agreedToTerms:!0,age:Number(T),weight:Number(P),height:Number(G),gender:ne,activity:Number(I),goal:M,dailyCalories:fe,proteinGrams:U,fatGrams:ge,carbsGrams:ue}),i(!1),Fe("/verify-email")}catch(ct){Ye("Chyba pri registrácii: "+ct.message)}};return w.jsxs("section",{className:"max-w-md mt-30 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Registrácia"}),we&&w.jsx("p",{className:"text-red-600 text-center mt-2",children:we}),w.jsxs("form",{onSubmit:Ci,className:"mt-4",children:[n===1&&w.jsxs(w.Fragment,{children:[w.jsx("label",{className:"block mt-2",children:"Meno"}),w.jsx("input",{type:"text",placeholder:"Meno",value:p,onChange:Te=>v(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Email"}),w.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Te=>a(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Heslo"}),w.jsx("input",{type:"password",placeholder:"Heslo",value:l,onChange:Te=>u(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Potvrdiť heslo"}),w.jsx("input",{type:"password",placeholder:"Potvrdiť heslo",value:h,onChange:Te=>f(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsxs("div",{className:"mt-6 flex items-start",children:[w.jsx("input",{type:"checkbox",checked:_,onChange:()=>b(!_),className:"mr-2 ml-2 mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),w.jsxs("label",{className:"text-gray-600 mr-5",children:["Súhlasím s ",w.jsx(mt,{to:"/terms",className:"text-blue-600 underline",children:"podmienkami používania"})," a ",w.jsx(mt,{to:"/privacy",className:"text-blue-600 underline",children:"ochranou osobných údajov"}),"."]})]}),w.jsx("button",{type:"button",onClick:on,className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Ďalej"})]}),n===2&&w.jsxs(w.Fragment,{children:[w.jsx("label",{className:"block mt-2",children:"Vek"}),w.jsx("input",{type:"number",placeholder:"Vek",value:T,onChange:Te=>C(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Váha (kg)"}),w.jsx("input",{type:"number",placeholder:"Váha (kg)",value:P,onChange:Te=>B(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Výška (cm)"}),w.jsx("input",{type:"number",placeholder:"Výška (cm)",value:G,onChange:Te=>X(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Pohlavie"}),w.jsxs("select",{value:ne,onChange:Te=>O(Te.target.value),required:!0,className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[w.jsx("option",{value:"male",children:"Muž"}),w.jsx("option",{value:"female",children:"Žena"})]}),w.jsx("button",{type:"button",onClick:()=>e(3),className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Ďalej"})]}),n===3&&w.jsxs(w.Fragment,{children:[w.jsx("label",{className:"block mt-2",children:"Cieľ"}),w.jsxs("select",{value:M,onChange:Te=>V(Te.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[w.jsx("option",{value:"lose",children:"Schudnúť"}),w.jsx("option",{value:"maintain",children:"Udržať váhu"}),w.jsx("option",{value:"gain",children:"Nabrať svaly"})]}),w.jsx("label",{className:"block mt-2",children:"Úroveň aktivity"}),w.jsxs("select",{value:I,onChange:Te=>k(Te.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full",children:[w.jsx("option",{value:"1.2",children:"Sedavý životný štýl"}),w.jsx("option",{value:"1.375",children:"Ľahká aktivita (1-3x/týž)"}),w.jsx("option",{value:"1.55",children:"Stredná aktivita (3-5x/týž)"}),w.jsx("option",{value:"1.725",children:"Vysoká aktivita (6-7x/týž)"}),w.jsx("option",{value:"1.9",children:"Extrémna aktivita"})]}),w.jsx("label",{className:"block mt-2 font-semibold",children:"BMR / Kalórie"}),ke?w.jsx("input",{type:"number",value:fe||"",onChange:Te=>Se(Number(Te.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):w.jsxs("p",{className:"mt-2 font-semibold text-center",children:[fe," kcal"]}),w.jsx("label",{className:"block mt-2 font-semibold",children:"Proteíny (g)"}),ke?w.jsx("input",{type:"number",value:U||"",onChange:Te=>ae(Number(Te.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):w.jsxs("p",{className:"mt-2 font-semibold text-center",children:[U," g"]}),w.jsx("label",{className:"block mt-2 font-semibold",children:"Tuky (g)"}),ke?w.jsx("input",{type:"number",value:ge||"",onChange:Te=>he(Number(Te.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):w.jsxs("p",{className:"mt-2 font-semibold text-center",children:[ge," g"]}),w.jsx("label",{className:"block mt-2 font-semibold",children:"Sacharidy (g)"}),ke?w.jsx("input",{type:"number",value:ue||"",onChange:Te=>xe(Number(Te.target.value)),className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}):w.jsxs("p",{className:"mt-2 font-semibold text-center",children:[ue," g"]}),w.jsxs("div",{className:"flex justify-between mt-4",children:[w.jsx("button",{type:"button",onClick:dt,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Vypočítať BMR a makrá"}),le&&w.jsx("button",{type:"button",onClick:()=>Ee(!ke),className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600",children:ke?"Uložiť":"Upraviť"})]}),w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mt-4 w-full rounded-lg hover:bg-green-700",children:"Registrovať sa"})]})]})]})},AH=()=>{const n=wa(),e=async()=>{Tn.currentUser&&(await Tn.currentUser.reload(),Tn.currentUser.emailVerified?n("/dashboard"):alert("Email ešte nie je overený. Skontroluj schránku a skús znovu."))};return w.jsxs("section",{className:"pt-20 mt-30 max-w-md mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Overenie emailu"}),w.jsx("p",{className:"mt-4 text-center",children:"Na tvoj email bol odoslaný overovací odkaz. Prosím otvor si email, klikni na overovací link a potom sa vráť sem."}),w.jsx("button",{onClick:e,className:"bg-green-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-green-700",children:"Skontrolovať, či som email potvrdil"})]})},SH=()=>w.jsx("aside",{className:"w-full lg:w-1/5 bg-gray-100 p-4 rounded-lg shadow-md",children:w.jsxs("nav",{className:"flex flex-col space-y-4",children:[w.jsx(mt,{to:"/dashboard/calendar",className:"text-green-700 font-bold hover:underline",children:"Kalendár"}),w.jsx(mt,{to:"/dashboard/my-foods",className:"text-green-700 font-bold hover:underline",children:"Moje jedlá"}),w.jsx(mt,{to:"/dashboard/statistics",className:"text-green-700 font-bold hover:underline",children:"Štatistiky"}),w.jsx(mt,{to:"/dashboard/my-activites",className:"text-green-700 font-bold hover:underline",children:"Moje Aktivity"})]})}),TH=({onAddActivity:n})=>{const[e,t]=z.useState(""),[i,r]=z.useState(""),[a,l]=z.useState(""),[u,h]=z.useState(""),f=p=>{if(p.preventDefault(),!e.trim())return;const v={activityName:e,duration:Number(i),burnedCalories:Number(a),description:u,createdAt:new Date};n&&n(v),t(""),r(""),l(""),h("")};return w.jsxs("form",{onSubmit:f,className:"p-4 bg-white rounded-lg shadow-md mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-green-700 mb-4",children:"Pridať novú aktivitu"}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block text-gray-700",children:"Názov aktivity:"}),w.jsx("input",{type:"text",value:e,onChange:p=>t(p.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Zadaj názov aktivity (napr. beh, plávanie)"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Dĺžka (min):"}),w.jsx("input",{type:"number",value:i,onChange:p=>r(p.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"napr. 30"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Spálené kalórie:"}),w.jsx("input",{type:"number",value:a,onChange:p=>l(p.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"napr. 200"})]})]}),w.jsxs("div",{className:"mt-4",children:[w.jsx("label",{className:"block text-gray-700",children:"Popis (nepovinné):"}),w.jsx("textarea",{value:u,onChange:p=>h(p.target.value),className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Krátky opis, napr. intenzita behu, miesto atď."})]}),w.jsx("button",{type:"submit",className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať aktivitu"})]})},xH=()=>{const{handleEditActivity:n,handleAddActivity:e,savedActivities:t,handleDeleteActivity:i}=rp(),[r,a]=z.useState(null),[l,u]=z.useState({activityName:"",duration:"",burnedCalories:"",description:""}),h=v=>{a(v.id),u({activityName:v.activityName,duration:v.duration,burnedCalories:v.burnedCalories,description:v.description||""})},f=()=>{a(null),u({activityName:"",duration:"",burnedCalories:"",description:""})},p=()=>{if(!r)return;const v={...l,duration:Number(l.duration),burnedCalories:Number(l.burnedCalories)};n(r,v),f()};return w.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[w.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Moje aktivity"}),w.jsx(TH,{onAddActivity:e}),w.jsx("div",{className:"mt-6",children:t&&t.length>0?w.jsx("ul",{className:"space-y-4",children:t.map(v=>w.jsx("li",{className:"p-4 bg-white rounded-lg shadow border-l-4 border-green-500 flex justify-between items-start",children:r===v.id?w.jsxs("div",{className:"flex-1",children:[w.jsx("input",{type:"text",value:l.activityName,onChange:_=>u({...l,activityName:_.target.value}),className:"border border-gray-300 rounded px-3 py-2 w-full mb-2",placeholder:"Názov aktivity"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[w.jsx("input",{type:"number",value:l.duration,onChange:_=>u({...l,duration:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Dĺžka (min)"}),w.jsx("input",{type:"number",value:l.burnedCalories,onChange:_=>u({...l,burnedCalories:_.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Spálené kalórie"})]}),w.jsx("textarea",{value:l.description,onChange:_=>u({...l,description:_.target.value}),className:"border border-gray-300 rounded px-3 py-2 w-full",placeholder:"Popis"}),w.jsxs("div",{className:"mt-2 flex space-x-2",children:[w.jsx("button",{onClick:p,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Uložiť"}),w.jsx("button",{onClick:f,className:"bg-gray-500 text-white px-3 py-1 rounded hover:bg-gray-600",children:"Zrušiť"})]})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-800",children:v.activityName}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Dĺžka: ",v.duration," min"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Spálené kalórie: ",v.burnedCalories," kcal"]}),v.description&&w.jsxs("p",{className:"text-sm text-gray-700",children:["Popis: ",v.description]})]}),w.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[w.jsx("button",{onClick:()=>i(v.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Zmazať"}),w.jsx("button",{onClick:()=>h(v),className:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600",children:"Upraviť"})]})]})},v.id))}):w.jsx("p",{className:"text-gray-500 text-center",children:"Zatiaľ ste nepridali žiadne aktivity."})})]})},xT=()=>{const[n,e]=z.useState([]),[t,i]=z.useState(null);z.useEffect(()=>{(async()=>{const b=Tn.currentUser;if(b)try{const S=Js(zn,"users",b.uid),R=await cH(S);R.exists()&&i(R.data())}catch(S){console.error("Chyba pri načítaní nutričných údajov:",S)}})()},[]);const r=async _=>{try{const b=Js(zn,"foods",_);await u_(b),e(S=>S.filter(R=>R.id!==_))}catch(b){console.error("Chyba pri mazaní jedla z Firestore:",b)}},a=async(_,b)=>{try{const S=Js(zn,"foods",_);await TT(S,b),e(R=>R.map(T=>T.id===_?{...T,...b}:T))}catch(S){console.error("Chyba pri úprave jedla vo Firestore:",S)}},l=async _=>{try{const b=Tn.currentUser;if(!b){console.error("Používateľ nie je prihlásený");return}const S={..._,userId:b.uid,userName:b.displayName,createdAt:new Date},R=await h_(mo(zn,"foods"),S);console.log("Jedlo pridané s ID:",R.id),e(T=>[...T,{id:R.id,...S}])}catch(b){console.error("Chyba pri pridávaní jedla:",b)}};z.useEffect(()=>{(async()=>{try{const b=Tn.currentUser;if(!b)return;const S=Dg(mo(zn,"foods"),Ig("userId","==",b.uid)),T=(await kg(S)).docs.map(C=>({id:C.id,...C.data()}));e(T)}catch(b){console.error("Chyba pri načítaní jedál:",b)}})()},[]);const[u,h]=z.useState([]),f=async _=>{try{const b=Tn.currentUser;if(!b)return;const S={..._,userId:b.uid,userName:b.displayName},R=await h_(mo(zn,"activities"),S);h(T=>[...T,{id:R.id,..._}])}catch(b){console.error("Chyba pri načítaní aktivít:",b)}};z.useEffect(()=>{(async()=>{try{const b=Tn.currentUser;if(!b)return;const S=Dg(mo(zn,"activities"),Ig("userId","==",b.uid)),T=(await kg(S)).docs.map(C=>({id:C.id,...C.data()}));h(T)}catch{console.error("Vyskytla sa chyba")}})()},[]);const p=async _=>{try{const b=Js(zn,"activities",_);await u_(b),h(S=>S.filter(R=>R.id!==_))}catch{console.error("Vyskytla sa chyba")}},v=async(_,b)=>{try{const S=Js(zn,"activities",_);await TT(S,b),h(R=>R.map(T=>T.id===_?{...T,...b}:T))}catch{console.error("Vyskytla sa chyba")}};return w.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4 mt-20",children:[w.jsx(SH,{}),w.jsx("div",{className:"flex-1",children:w.jsx(HO,{context:{savedFoods:n,handleAddCustomFood:l,handleDeleteFood:r,handleEditFood:a,nutritionGoal:t,handleEditActivity:v,handleAddActivity:f,savedActivities:u,handleDeleteActivity:p}})})]})},Tu=({children:n})=>{const[e,t]=z.useState(void 0),[i,r]=z.useState(!0);return z.useEffect(()=>{const a=zC(Tn,l=>{t(l),r(!1)});return()=>a()},[]),i?w.jsx("p",{children:"Načítavam..."}):!e||!e.emailVerified?w.jsx(BO,{to:"/login"}):n},RH=()=>{const n=wa(),e=async()=>{try{await bL(Tn),n("/")}catch(t){console.error("Chyba pri odhlasovaní:",t)}};return w.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg text-center",children:[w.jsx("h2",{className:"text-3xl font-semibold text-green-700",children:"Odhlásenie"}),w.jsx("p",{className:"mt-4 text-gray-600",children:"Si si istý, že sa chceš odhlásiť?"}),w.jsx("button",{onClick:e,className:"bg-red-600 text-white px-6 py-2 mt-6 w-full rounded-lg hover:bg-red-700 transition",children:"Odhlásiť sa"})]})},CH=()=>{const[n,e]=z.useState(""),[t,i]=z.useState(""),[r,a]=z.useState(""),l=wa(),u=async h=>{h.preventDefault();try{await dL(Tn,n,t),l("/dashboard")}catch(f){a("Chyba pri prihlasovaní: "+f.message)}};return w.jsxs("section",{className:"max-w-md mx-auto py-10 px-6 mt-30 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Prihlásenie"}),r&&w.jsx("p",{className:"text-red-600 text-center mt-2",children:r}),w.jsxs("form",{onSubmit:u,className:"mt-4",children:[w.jsx("label",{className:"block mt-2",children:"Email"}),w.jsx("input",{value:n,onChange:h=>e(h.target.value),type:"email",placeholder:"Email",className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("label",{className:"block mt-2",children:"Heslo"}),w.jsx("input",{value:t,onChange:h=>i(h.target.value),type:"password",placeholder:"Heslo",className:"border border-gray-300 rounded-lg px-4 py-2 w-full"}),w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 mb-3 mt-4 w-full rounded-lg hover:bg-green-700",children:"Prihlásiť sa"}),w.jsx(mt,{to:"/register",className:"text-blue-600 underline",children:"Nemáš ešte účet ? Vytvor si ho"})]})]})},DH=()=>w.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky používania"}),w.jsx("p",{className:"mt-4 text-gray-600",children:"Posledná aktualizácia: 21. február 2025"}),w.jsxs("p",{className:"mt-4",children:["Vitajte v našej aplikácii ",w.jsx("strong",{children:"[Your App Name]"}),". Používaním tejto aplikácie súhlasíte s nasledujúcimi podmienkami."]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptácia podmienok"}),w.jsx("p",{className:"mt-2",children:"Používaním našich služieb vyjadrujete súhlas s týmito podmienkami. Ak s nimi nesúhlasíte, nesmiete aplikáciu používať."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie účtu"}),w.jsx("p",{className:"mt-2",children:"Pri registrácii musíte poskytnúť pravdivé a aktuálne informácie. Ste zodpovedný za bezpečnosť vášho účtu."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakázané aktivity"}),w.jsxs("p",{className:"mt-2",children:["Používateľ nesmie:",w.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[w.jsx("li",{children:"Porušovať platné zákony alebo práva tretích strán."}),w.jsx("li",{children:"Vytvárať falošné účty alebo sa vydávať za iných."}),w.jsx("li",{children:"Zasahovať do bezpečnosti aplikácie."})]})]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zrušenie účtu"}),w.jsx("p",{className:"mt-2",children:"Môžeme zablokovať alebo odstrániť váš účet v prípade porušenia podmienok alebo neaktivity."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednosť a obmedzenie"}),w.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednosť za akékoľvek priame alebo nepriame škody spôsobené používaním tejto aplikácie."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),w.jsx("p",{className:"mt-2",children:"Vyhradzujeme si právo kedykoľvek upraviť tieto podmienky. Pokračovanie v používaní aplikácie znamená súhlas so zmenami."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),w.jsxs("p",{className:"mt-2",children:["Ak máte otázky týkajúce sa týchto podmienok, kontaktujte nás na ",w.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),IH=()=>w.jsxs("section",{className:"max-w-2xl mt-20 mx-auto py-10 px-6 bg-white shadow-lg rounded-lg",children:[w.jsx("h2",{className:"text-3xl font-semibold text-center text-green-700",children:"Podmienky používania"}),w.jsx("p",{className:"mt-4 text-gray-600",children:"Posledná aktualizácia: 21. február 2025"}),w.jsxs("p",{className:"mt-4",children:["Vitajte v našej aplikácii ",w.jsx("strong",{children:"[Your App Name]"}),". Používaním tejto aplikácie súhlasíte s nasledujúcimi podmienkami."]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"1. Akceptácia podmienok"}),w.jsx("p",{className:"mt-2",children:"Používaním našich služieb vyjadrujete súhlas s týmito podmienkami. Ak s nimi nesúhlasíte, nesmiete aplikáciu používať."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"2. Vytvorenie účtu"}),w.jsx("p",{className:"mt-2",children:"Pri registrácii musíte poskytnúť pravdivé a aktuálne informácie. Ste zodpovedný za bezpečnosť vášho účtu."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"3. Zakázané aktivity"}),w.jsxs("p",{className:"mt-2",children:["Používateľ nesmie:",w.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[w.jsx("li",{children:"Porušovať platné zákony alebo práva tretích strán."}),w.jsx("li",{children:"Vytvárať falošné účty alebo sa vydávať za iných."}),w.jsx("li",{children:"Zasahovať do bezpečnosti aplikácie."})]})]}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"4. Zrušenie účtu"}),w.jsx("p",{className:"mt-2",children:"Môžeme zablokovať alebo odstrániť váš účet v prípade porušenia podmienok alebo neaktivity."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"5. Zodpovednosť a obmedzenie"}),w.jsx("p",{className:"mt-2",children:"Nenesieme zodpovednosť za akékoľvek priame alebo nepriame škody spôsobené používaním tejto aplikácie."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"6. Zmeny podmienok"}),w.jsx("p",{className:"mt-2",children:"Vyhradzujeme si právo kedykoľvek upraviť tieto podmienky. Pokračovanie v používaní aplikácie znamená súhlas so zmenami."}),w.jsx("h3",{className:"mt-6 text-xl font-semibold",children:"7. Kontakt"}),w.jsxs("p",{className:"mt-2",children:["Ak máte otázky týkajúce sa týchto podmienok, kontaktujte nás na ",w.jsx("a",{href:"mailto:support@yourapp.com",className:"text-blue-600 underline",children:"support@yourapp.com"}),"."]})]}),kH=({onAddCustomFood:n})=>{const[e,t]=z.useState(""),[i,r]=z.useState(""),[a,l]=z.useState(""),[u,h]=z.useState(""),[f,p]=z.useState(""),[v,_]=z.useState(""),[b,S]=z.useState(""),R=T=>{if(T.preventDefault(),!e.trim())return;const C={foodName:e,kcal:Number(i),protein:Number(a),fat:Number(u),carbs:Number(f),fiber:Number(v)};n(C),t(""),r(""),l(""),h(""),p(""),_("")};return w.jsxs("form",{onSubmit:R,className:"p-4 bg-white rounded-lg shadow-md mb-4",children:[w.jsx("h2",{className:"text-xl font-bold text-green-700 mb-4",children:"Pridať vlastné jedlo"}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block text-gray-700",children:"Názov jedla:"}),w.jsx("input",{type:"text",value:e,onChange:T=>t(T.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Názov jedla"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Kalórie:"}),w.jsx("input",{type:"number",value:i,onChange:T=>r(T.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"kcal"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Bielkoviny (g):"}),w.jsx("input",{type:"number",value:a,onChange:T=>l(T.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"bielkoviny"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Tuky (g):"}),w.jsx("input",{type:"number",value:u,onChange:T=>h(T.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"tuky"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700",children:"Sacharidy (g):"}),w.jsx("input",{type:"number",value:f,onChange:T=>p(T.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"sacharidy"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-700 mt-2",children:"Vláknina (g):"}),w.jsx("input",{type:"number",value:v,onChange:T=>_(T.target.value),required:!0,className:"w-1/2 mx-auto border border-gray-300 rounded px-3 py-2",placeholder:"vláknina"})]}),w.jsx("button",{type:"submit",className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať jedlo"})]})},NH=()=>{const{savedFoods:n,handleAddCustomFood:e,handleDeleteFood:t,handleEditFood:i}=rp(),[r,a]=z.useState(null),[l,u]=z.useState({foodName:"",kcal:"",protein:"",fat:"",carbs:"",fiber:""}),h=v=>{a(v.id),u({foodName:v.foodName,kcal:v.kcal,protein:v.protein,fat:v.fat,carbs:v.carbs,fiber:v.fiber})},f=()=>{a(null),u({foodName:"",kcal:"",protein:"",fat:"",carbs:"",fiber:""})},p=()=>{i(r,{foodName:l.foodName,kcal:Number(l.kcal),protein:Number(l.protein),fat:Number(l.fat),carbs:Number(l.carbs),fiber:Number(l.fiber)}),f()};return w.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[w.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Moje jedlá"}),w.jsx(kH,{onAddCustomFood:e}),w.jsx("div",{className:"mt-6",children:n.length>0?w.jsx("ul",{className:"space-y-4",children:n.map((v,_)=>w.jsx("li",{className:"p-4 bg-white rounded-lg shadow border-l-4 border-green-500 flex justify-between items-center",children:r===v.id?w.jsxs("div",{className:"flex-1",children:[w.jsx("input",{type:"text",value:l.foodName,onChange:b=>u({...l,foodName:b.target.value}),className:"border border-gray-300 rounded px-3 py-2 w-full mb-2",placeholder:"Názov jedla"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsx("input",{type:"number",value:l.kcal,onChange:b=>u({...l,kcal:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Kalórie"}),w.jsx("input",{type:"number",value:l.protein,onChange:b=>u({...l,protein:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Bielkoviny"}),w.jsx("input",{type:"number",value:l.fat,onChange:b=>u({...l,fat:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Tuky"}),w.jsx("input",{type:"number",value:l.carbs,onChange:b=>u({...l,carbs:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Sacharidy"}),w.jsx("input",{type:"number",value:l.fiber,onChange:b=>u({...l,fiber:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Vláknina"}),w.jsx("input",{type:"number",value:l.fluid,onChange:b=>u({...l,fluid:b.target.value}),className:"border border-gray-300 rounded px-3 py-2",placeholder:"Tekutiny"})]}),w.jsxs("div",{className:"mt-2 flex space-x-2",children:[w.jsx("button",{onClick:p,className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600",children:"Uložiť"}),w.jsx("button",{onClick:f,className:"bg-gray-500 text-white px-3 py-1 rounded hover:bg-gray-600",children:"Zrušiť"})]})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-800",children:v.foodName}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Kalórie: ",v.kcal," kcal"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Bielkoviny: ",v.protein," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Tuky: ",v.fat," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Sacharidy: ",v.carbs," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Vláknina: ",v.fiber," g"]}),w.jsxs("p",{className:"text-sm text-gray-700",children:["Tekutiny: ",v.fluid," l"]})]}),w.jsxs("div",{className:"flex flex-col space-y-2",children:[w.jsx("button",{onClick:()=>t(v.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Zmazať"}),w.jsx("button",{onClick:()=>h(v),className:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600",children:"Upraviť"})]})]})},_))}):w.jsx("p",{className:"text-gray-500 text-center",children:"Zatiaľ ste nepridali žiadne jedlá."})})]})};var kp,Ae,JI,e1,tc,fo,RT,t1,n1,Ng={},i1=[],MH=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ta(n,e){for(var t in e)n[t]=e[t];return n}function r1(n){var e=n.parentNode;e&&e.removeChild(n)}function J(n,e,t){var i,r,a,l={};for(a in e)a=="key"?i=e[a]:a=="ref"?r=e[a]:l[a]=e[a];if(arguments.length>2&&(l.children=arguments.length>3?kp.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(a in n.defaultProps)l[a]===void 0&&(l[a]=n.defaultProps[a]);return Zf(n,l,i,r,null)}function Zf(n,e,t,i,r){var a={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++JI};return r==null&&Ae.vnode!=null&&Ae.vnode(a),a}function cs(){return{current:null}}function Mt(n){return n.children}function OH(n,e,t,i,r){var a;for(a in t)a==="children"||a==="key"||a in e||Mg(n,a,null,t[a],i);for(a in e)r&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||t[a]===e[a]||Mg(n,a,e[a],t[a],i)}function CT(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||MH.test(e)?t:t+"px"}function Mg(n,e,t,i,r){var a;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||CT(n.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||CT(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+a]=t,t?i||n.addEventListener(e,a?IT:DT,a):n.removeEventListener(e,a?IT:DT,a);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function DT(n){tc=!0;try{return this.l[n.type+!1](Ae.event?Ae.event(n):n)}finally{tc=!1}}function IT(n){tc=!0;try{return this.l[n.type+!0](Ae.event?Ae.event(n):n)}finally{tc=!1}}function ii(n,e){this.props=n,this.context=e}function yh(n,e){if(e==null)return n.__?yh(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?yh(n):null}function s1(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return s1(n)}}function PH(n){tc?setTimeout(n):t1(n)}function d_(n){(!n.__d&&(n.__d=!0)&&fo.push(n)&&!Og.__r++||RT!==Ae.debounceRendering)&&((RT=Ae.debounceRendering)||PH)(Og)}function Og(){var n,e,t,i,r,a,l,u;for(fo.sort(function(h,f){return h.__v.__b-f.__v.__b});n=fo.shift();)n.__d&&(e=fo.length,i=void 0,r=void 0,l=(a=(t=n).__v).__e,(u=t.__P)&&(i=[],(r=ta({},a)).__v=a.__v+1,Vb(u,a,r,t.__n,u.ownerSVGElement!==void 0,a.__h!=null?[l]:null,i,l??yh(a),a.__h),u1(i,a),a.__e!=l&&s1(a)),fo.length>e&&fo.sort(function(h,f){return h.__v.__b-f.__v.__b}));Og.__r=0}function a1(n,e,t,i,r,a,l,u,h,f){var p,v,_,b,S,R,T,C=i&&i.__k||i1,P=C.length;for(t.__k=[],p=0;p<e.length;p++)if((b=t.__k[p]=(b=e[p])==null||typeof b=="boolean"?null:typeof b=="string"||typeof b=="number"||typeof b=="bigint"?Zf(null,b,null,null,b):Array.isArray(b)?Zf(Mt,{children:b},null,null,null):b.__b>0?Zf(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)!=null){if(b.__=t,b.__b=t.__b+1,(_=C[p])===null||_&&b.key==_.key&&b.type===_.type)C[p]=void 0;else for(v=0;v<P;v++){if((_=C[v])&&b.key==_.key&&b.type===_.type){C[v]=void 0;break}_=null}Vb(n,b,_=_||Ng,r,a,l,u,h,f),S=b.__e,(v=b.ref)&&_.ref!=v&&(T||(T=[]),_.ref&&T.push(_.ref,null,b),T.push(v,b.__c||S,b)),S!=null?(R==null&&(R=S),typeof b.type=="function"&&b.__k===_.__k?b.__d=h=o1(b,h,n):h=l1(n,b,_,C,S,h),typeof t.type=="function"&&(t.__d=h)):h&&_.__e==h&&h.parentNode!=n&&(h=yh(_))}for(t.__e=R,p=P;p--;)C[p]!=null&&(typeof t.type=="function"&&C[p].__e!=null&&C[p].__e==t.__d&&(t.__d=c1(i).nextSibling),d1(C[p],C[p]));if(T)for(p=0;p<T.length;p++)h1(T[p],T[++p],T[++p])}function o1(n,e,t){for(var i,r=n.__k,a=0;r&&a<r.length;a++)(i=r[a])&&(i.__=n,e=typeof i.type=="function"?o1(i,e,t):l1(t,i,i,r,i.__e,e));return e}function Pg(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){Pg(t,e)}):e.push(n)),e}function l1(n,e,t,i,r,a){var l,u,h;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(t==null||r!=a||r.parentNode==null)e:if(a==null||a.parentNode!==n)n.appendChild(r),l=null;else{for(u=a,h=0;(u=u.nextSibling)&&h<i.length;h+=1)if(u==r)break e;n.insertBefore(r,a),l=a}return l!==void 0?l:r.nextSibling}function c1(n){var e,t,i;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(i=c1(t)))return i}return null}function Vb(n,e,t,i,r,a,l,u,h){var f,p,v,_,b,S,R,T,C,P,B,G,X,ne,O,I=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(h=t.__h,u=e.__e=t.__e,e.__h=null,a=[u]),(f=Ae.__b)&&f(e);try{e:if(typeof I=="function"){if(T=e.props,C=(f=I.contextType)&&i[f.__c],P=f?C?C.props.value:f.__:i,t.__c?R=(p=e.__c=t.__c).__=p.__E:("prototype"in I&&I.prototype.render?e.__c=p=new I(T,P):(e.__c=p=new ii(T,P),p.constructor=I,p.render=LH),C&&C.sub(p),p.props=T,p.state||(p.state={}),p.context=P,p.__n=i,v=p.__d=!0,p.__h=[],p._sb=[]),p.__s==null&&(p.__s=p.state),I.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=ta({},p.__s)),ta(p.__s,I.getDerivedStateFromProps(T,p.__s))),_=p.props,b=p.state,p.__v=e,v)I.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(I.getDerivedStateFromProps==null&&T!==_&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(T,P),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(T,p.__s,P)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(p.props=T,p.state=p.__s,p.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(k){k&&(k.__=e)}),B=0;B<p._sb.length;B++)p.__h.push(p._sb[B]);p._sb=[],p.__h.length&&l.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(T,p.__s,P),p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(_,b,S)})}if(p.context=P,p.props=T,p.__P=n,G=Ae.__r,X=0,"prototype"in I&&I.prototype.render){for(p.state=p.__s,p.__d=!1,G&&G(e),f=p.render(p.props,p.state,p.context),ne=0;ne<p._sb.length;ne++)p.__h.push(p._sb[ne]);p._sb=[]}else do p.__d=!1,G&&G(e),f=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++X<25);p.state=p.__s,p.getChildContext!=null&&(i=ta(ta({},i),p.getChildContext())),v||p.getSnapshotBeforeUpdate==null||(S=p.getSnapshotBeforeUpdate(_,b)),O=f!=null&&f.type===Mt&&f.key==null?f.props.children:f,a1(n,Array.isArray(O)?O:[O],e,t,i,r,a,l,u,h),p.base=e.__e,e.__h=null,p.__h.length&&l.push(p),R&&(p.__E=p.__=null),p.__e=!1}else a==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=jH(t.__e,e,t,i,r,a,l,h);(f=Ae.diffed)&&f(e)}catch(k){e.__v=null,(h||a!=null)&&(e.__e=u,e.__h=!!h,a[a.indexOf(u)]=null),Ae.__e(k,e,t)}}function u1(n,e){Ae.__c&&Ae.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){Ae.__e(i,t.__v)}})}function jH(n,e,t,i,r,a,l,u){var h,f,p,v=t.props,_=e.props,b=e.type,S=0;if(b==="svg"&&(r=!0),a!=null){for(;S<a.length;S++)if((h=a[S])&&"setAttribute"in h==!!b&&(b?h.localName===b:h.nodeType===3)){n=h,a[S]=null;break}}if(n==null){if(b===null)return document.createTextNode(_);n=r?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,_.is&&_),a=null,u=!1}if(b===null)v===_||u&&n.data===_||(n.data=_);else{if(a=a&&kp.call(n.childNodes),f=(v=t.props||Ng).dangerouslySetInnerHTML,p=_.dangerouslySetInnerHTML,!u){if(a!=null)for(v={},S=0;S<n.attributes.length;S++)v[n.attributes[S].name]=n.attributes[S].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===n.innerHTML)||(n.innerHTML=p&&p.__html||""))}if(OH(n,_,v,r,u),p)e.__k=[];else if(S=e.props.children,a1(n,Array.isArray(S)?S:[S],e,t,i,r&&b!=="foreignObject",a,l,a?a[0]:t.__k&&yh(t,0),u),a!=null)for(S=a.length;S--;)a[S]!=null&&r1(a[S]);u||("value"in _&&(S=_.value)!==void 0&&(S!==n.value||b==="progress"&&!S||b==="option"&&S!==v.value)&&Mg(n,"value",S,v.value,!1),"checked"in _&&(S=_.checked)!==void 0&&S!==n.checked&&Mg(n,"checked",S,v.checked,!1))}return n}function h1(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(i){Ae.__e(i,t)}}function d1(n,e,t){var i,r;if(Ae.unmount&&Ae.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||h1(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){Ae.__e(a,e)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&d1(i[r],e,t||typeof n.type!="function");t||n.__e==null||r1(n.__e),n.__=n.__e=n.__d=void 0}function LH(n,e,t){return this.constructor(n,t)}function vh(n,e,t){var i,r,a;Ae.__&&Ae.__(n,e),r=(i=!1)?null:e.__k,a=[],Vb(e,n=e.__k=J(Mt,null,[n]),r||Ng,Ng,e.ownerSVGElement!==void 0,r?null:e.firstChild?kp.call(e.childNodes):null,a,r?r.__e:e.firstChild,i),u1(a,n)}function VH(n,e){var t={__c:e="__cC"+n1++,__:n,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,a;return this.getChildContext||(r=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&r.some(function(u){u.__e=!0,d_(u)})},this.sub=function(l){r.push(l);var u=l.componentWillUnmount;l.componentWillUnmount=function(){r.splice(r.indexOf(l),1),u&&u.call(l)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}kp=i1.slice,Ae={__e:function(n,e,t,i){for(var r,a,l;e=e.__;)if((r=e.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(n)),l=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(n,i||{}),l=r.__d),l)return r.__E=r}catch(u){n=u}throw n}},JI=0,e1=function(n){return n!=null&&n.constructor===void 0},tc=!1,ii.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ta({},this.state),typeof n=="function"&&(n=n(ta({},t),this.props)),n&&ta(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),d_(this))},ii.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),d_(this))},ii.prototype.render=Mt,fo=[],t1=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Og.__r=0,n1=0;var fr,uv,kT,f1=[],hv=[],NT=Ae.__b,MT=Ae.__r,OT=Ae.diffed,PT=Ae.__c,jT=Ae.unmount;function UH(){for(var n;n=f1.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(Jf),n.__H.__h.forEach(f_),n.__H.__h=[]}catch(e){n.__H.__h=[],Ae.__e(e,n.__v)}}Ae.__b=function(n){fr=null,NT&&NT(n)},Ae.__r=function(n){MT&&MT(n);var e=(fr=n.__c).__H;e&&(uv===fr?(e.__h=[],fr.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=hv,t.__N=t.i=void 0})):(e.__h.forEach(Jf),e.__h.forEach(f_),e.__h=[])),uv=fr},Ae.diffed=function(n){OT&&OT(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(f1.push(e)!==1&&kT===Ae.requestAnimationFrame||((kT=Ae.requestAnimationFrame)||zH)(UH)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==hv&&(t.__=t.__V),t.i=void 0,t.__V=hv})),uv=fr=null},Ae.__c=function(n,e){e.some(function(t){try{t.__h.forEach(Jf),t.__h=t.__h.filter(function(i){return!i.__||f_(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],Ae.__e(i,t.__v)}}),PT&&PT(n,e)},Ae.unmount=function(n){jT&&jT(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{Jf(i)}catch(r){e=r}}),t.__H=void 0,e&&Ae.__e(e,t.__v))};var LT=typeof requestAnimationFrame=="function";function zH(n){var e,t=function(){clearTimeout(i),LT&&cancelAnimationFrame(e),setTimeout(n)},i=setTimeout(t,100);LT&&(e=requestAnimationFrame(t))}function Jf(n){var e=fr,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),fr=e}function f_(n){var e=fr;n.__c=n.__(),fr=e}function BH(n,e){for(var t in e)n[t]=e[t];return n}function VT(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&n[i]!==e[i])return!0;return!1}function UT(n){this.props=n}(UT.prototype=new ii).isPureReactComponent=!0,UT.prototype.shouldComponentUpdate=function(n,e){return VT(this.props,n)||VT(this.state,e)};var zT=Ae.__b;Ae.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),zT&&zT(n)};var HH=Ae.__e;Ae.__e=function(n,e,t,i){if(n.then){for(var r,a=e;a=a.__;)if((r=a.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(n,e)}HH(n,e,t,i)};var BT=Ae.unmount;function g1(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=BH({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return g1(i,e,t)})),n}function p1(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return p1(i,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function dv(){this.__u=0,this.t=null,this.__b=null}function m1(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function vf(){this.u=null,this.o=null}Ae.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),BT&&BT(n)},(dv.prototype=new ii).__c=function(n,e){var t=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(t);var r=m1(i.__v),a=!1,l=function(){a||(a=!0,t.__R=null,r?r(u):u())};t.__R=l;var u=function(){if(!--i.__u){if(i.state.__a){var f=i.state.__a;i.__v.__k[0]=p1(f,f.__c.__P,f.__c.__O)}var p;for(i.setState({__a:i.__b=null});p=i.t.pop();)p.forceUpdate()}},h=e.__h===!0;i.__u++||h||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(l,l)},dv.prototype.componentWillUnmount=function(){this.t=[]},dv.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=g1(this.__b,t,i.__O=i.__P)}this.__b=null}var r=e.__a&&J(Mt,null,n.fallback);return r&&(r.__h=null),[J(Mt,null,e.__a?null:n.children),r]};var HT=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function FH(n){return this.getChildContext=function(){return n.context},n.children}function qH(n){var e=this,t=n.i;e.componentWillUnmount=function(){vh(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),vh(J(FH,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function WH(n,e){var t=J(qH,{__v:n,i:e});return t.containerInfo=e,t}(vf.prototype=new ii).__a=function(n){var e=this,t=m1(e.__v),i=e.o.get(n);return i[0]++,function(r){var a=function(){e.props.revealOrder?(i.push(r),HT(e,n,i)):r()};t?t(a):a()}},vf.prototype.render=function(n){this.u=null,this.o=new Map;var e=Pg(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},vf.prototype.componentDidUpdate=vf.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){HT(n,t,e)})};var GH=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,$H=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,YH=typeof document<"u",QH=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};ii.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(ii.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var FT=Ae.event;function KH(){}function XH(){return this.cancelBubble}function ZH(){return this.defaultPrevented}Ae.event=function(n){return FT&&(n=FT(n)),n.persist=KH,n.isPropagationStopped=XH,n.isDefaultPrevented=ZH,n.nativeEvent=n};var qT={configurable:!0,get:function(){return this.class}},WT=Ae.vnode;Ae.vnode=function(n){var e=n.type,t=n.props,i=t;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var a in i={},t){var l=t[a];YH&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in t&&l==null||(a==="defaultValue"&&"value"in t&&t.value==null?a="value":a==="download"&&l===!0?l="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!QH(t.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():r&&$H.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():l===null&&(l=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),i[a]&&(a="oninputCapture")),i[a]=l)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Pg(t.children).forEach(function(u){u.props.selected=i.value.indexOf(u.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=Pg(t.children).forEach(function(u){u.props.selected=i.multiple?i.defaultValue.indexOf(u.props.value)!=-1:i.defaultValue==u.props.value})),n.props=i,t.class!=t.className&&(qT.enumerable="className"in t,t.className!=null&&(i.class=t.className),Object.defineProperty(i,"className",qT))}n.$$typeof=GH,WT&&WT(n)};var GT=Ae.__r;Ae.__r=function(n){GT&&GT(n),n.__c};const y1=[],g_=new Map;function v1(n){y1.push(n),g_.forEach(e=>{b1(e,n)})}function JH(n){n.isConnected&&n.getRootNode&&_1(n.getRootNode())}function _1(n){let e=g_.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=t6();t&&(e.nonce=t);const i=n===document?document.head:n,r=n===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,r)}g_.set(n,e),e6(e)}}function e6(n){for(const e of y1)b1(n,e)}function b1(n,e){const{sheet:t}=n,i=t.cssRules.length;e.split("}").forEach((r,a)=>{r=r.trim(),r&&t.insertRule(r+"}",i+a)})}let fv;function t6(){return fv===void 0&&(fv=n6()),fv}function n6(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&_1(document);var i6=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';v1(i6);class Ub{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:i}=this;e in i&&(t?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function zb(n){n.parentNode&&n.parentNode.removeChild(n)}function xn(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(r6(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function r6(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function s6(n,e){let t=n instanceof HTMLElement?[n]:n,i=[];for(let r=0;r<t.length;r+=1){let a=t[r].querySelectorAll(e);for(let l=0;l<a.length;l+=1)i.push(a[l])}return i}const a6=/(top|left|right|bottom|width|height)$/i;function Xu(n,e){for(let t in e)E1(n,t,e[t])}function E1(n,e,t){t==null?n.style[e]="":typeof t=="number"&&a6.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function w1(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let $T=0;function Np(){return $T+=1,"fc-dom-"+$T}function Mp(n){n.preventDefault()}function o6(n,e){return t=>{let i=xn(t.target,n);i&&e.call(i,t,i)}}function A1(n,e,t,i){let r=o6(t,i);return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}function l6(n,e,t,i){let r;return A1(n,"mouseover",e,(a,l)=>{if(l!==r){r=l,t(a,l);let u=h=>{r=null,i(h,l),l.removeEventListener("mouseleave",u)};l.addEventListener("mouseleave",u)}})}const YT=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function c6(n,e){let t=i=>{e(i),YT.forEach(r=>{n.removeEventListener(r,t)})};YT.forEach(i=>{n.addEventListener(i,t)})}function S1(n){return Object.assign({onClick:n},T1(n))}function T1(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let QT=0;function Vo(){return QT+=1,String(QT)}function Bb(){document.body.classList.add("fc-not-allowed")}function Hb(){document.body.classList.remove("fc-not-allowed")}function u6(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",Mp)}function h6(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",Mp)}function d6(n){n.addEventListener("contextmenu",Mp)}function f6(n){n.removeEventListener("contextmenu",Mp)}function g6(n){let e=[],t=[],i,r;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)r=t[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function p6(n,e,t){let i,r;for(i=0;i<t.length;i+=1)if(r=m6(n,e,t[i]),r)return r;return 0}function m6(n,e,t){return t.func?t.func(n,e):y6(n[t.field],e[t.field])*(t.order||1)}function y6(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function gv(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function Zu(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((i,r,a)=>i.replace("$"+a,r||""),n):t}function v6(n,e){return n-e}function pv(n){return n%1===0}function _6(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const b6=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function et(n,e){return typeof n=="string"?E6(n):typeof n=="object"&&n?KT(n):typeof n=="number"?KT({[e||"milliseconds"]:n}):null}function E6(n){let e=b6.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function KT(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function w6(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function A6(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function S6(n){return ql(n)/365}function T6(n){return ql(n)/30}function ql(n){return _h(n)/864e5}function _h(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function p_(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function _a(n,e,t){if(n===e)return!0;let i=n.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(!(t?t(n[r],e[r]):n[r]===e[r]))return!1;return!0}const x6=["sun","mon","tue","wed","thu","fri","sat"];function XT(n,e){let t=na(n);return t[2]+=e*7,qn(t)}function Rn(n,e){let t=na(n);return t[2]+=e,qn(t)}function ba(n,e){let t=na(n);return t[6]+=e,qn(t)}function R6(n,e){return gc(n,e)/7}function gc(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function C6(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function D6(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function I6(n,e){return(e.valueOf()-n.valueOf())/1e3}function k6(n,e){let t=yt(n),i=yt(e);return{years:0,months:0,days:Math.round(gc(t,i)),milliseconds:e.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}function N6(n,e){let t=jg(n,e);return t!==null&&t%7===0?t/7:null}function jg(n,e){return ia(n)===ia(e)?Math.round(gc(n,e)):null}function yt(n){return qn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function M6(n){return qn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function O6(n){return qn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function P6(n){return qn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function j6(n,e,t){let i=n.getUTCFullYear(),r=mv(n,i,e,t);if(r<1)return mv(n,i-1,e,t);let a=mv(n,i+1,e,t);return a>=1?Math.min(r,a):r}function mv(n,e,t,i){let r=qn([e,0,1+L6(e,t,i)]),a=yt(n),l=Math.round(gc(r,a));return Math.floor(l/7)+1}function L6(n,e,t){let i=7+e-t;return-((7+qn([n,0,i]).getUTCDay()-e)%7)+i-1}function ZT(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function JT(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function na(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function qn(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function x1(n){return!isNaN(n.valueOf())}function ia(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function V6(n,e,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",qb(e,!0)))),i}function Fb(n){return n.toISOString().replace(/T.*$/,"")}function U6(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function qb(n,e=!1){let t=n<0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),a=Math.round(i%60);return e?`${t+gv(r,2)}:${gv(a,2)}`:`GMT${t}${r}${a?`:${gv(a,2)}`:""}`}function tt(n,e,t){let i,r;return function(...a){if(!i)r=n.apply(this,a);else if(!_a(i,a)){let l=n.apply(this,a);(!e||!e(l,r))&&(r=l)}return i=a,r}}function eg(n,e,t){let i,r;return a=>(i?br(i,a)||(r=n.call(this,a)):r=n.call(this,a),i=a,r)}const ex={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Lg={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},_f=/\s*([ap])\.?m\.?/i,z6=/,/g,B6=/\s+/g,H6=/\u200e/g,F6=/UTC|GMT/;class q6{constructor(e){let t={},i={},r=0;for(let a in e)a in ex?(i[a]=e[a],r=Math.max(ex[a],r)):(t[a]=e[a],a in Lg&&(r=Math.max(Lg[a],r)));this.standardDateProps=t,this.extendedSettings=i,this.severity=r,this.buildFormattingFunc=tt(tx)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,i,r){let{standardDateProps:a,extendedSettings:l}=this,u=K6(e.marker,t.marker,i.calendarSystem);if(!u)return this.format(e,i);let h=u;h>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(h=1);let f=this.format(e,i),p=this.format(t,i);if(f===p)return f;let v=X6(a,h),_=tx(v,l,i),b=_(e),S=_(t),R=Z6(f,b,p,S),T=l.separator||r||i.defaultSeparator||"";return R?R.before+b+T+S+R.after:f+T+p}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function tx(n,e,t){let i=Object.keys(n).length;return i===1&&n.timeZoneName==="short"?r=>qb(r.timeZoneOffset):i===0&&e.week?r=>Q6(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,e.week):W6(n,e,t)}function W6(n,e,t){n=Object.assign({},n),e=Object.assign({},e),G6(n,e),n.timeZone="UTC";let i=new Intl.DateTimeFormat(t.locale.codes,n),r;if(e.omitZeroMinute){let a=Object.assign({},n);delete a.minute,r=new Intl.DateTimeFormat(t.locale.codes,a)}return a=>{let{marker:l}=a,u;r&&!l.getUTCMinutes()?u=r:u=i;let h=u.format(l);return $6(h,a,n,e,t)}}function G6(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function $6(n,e,t,i,r){return n=n.replace(H6,""),t.timeZoneName==="short"&&(n=Y6(n,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":qb(e.timeZoneOffset))),i.omitCommas&&(n=n.replace(z6,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),i.meridiem===!1?n=n.replace(_f,"").trim():i.meridiem==="narrow"?n=n.replace(_f,(a,l)=>l.toLocaleLowerCase()):i.meridiem==="short"?n=n.replace(_f,(a,l)=>`${l.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(n=n.replace(_f,a=>a.toLocaleLowerCase())),n=n.replace(B6," "),n=n.trim(),n}function Y6(n,e){let t=!1;return n=n.replace(F6,()=>(t=!0,e)),t||(n+=` ${e}`),n}function Q6(n,e,t,i,r){let a=[];return r==="long"?a.push(t):(r==="short"||r==="narrow")&&a.push(e),(r==="long"||r==="short")&&a.push(" "),a.push(i.simpleNumberFormat.format(n)),i.options.direction==="rtl"&&a.reverse(),a.join("")}function K6(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:ia(n)!==ia(e)?1:0}function X6(n,e){let t={};for(let i in n)(!(i in Lg)||Lg[i]<=e)&&(t[i]=n[i]);return t}function Z6(n,e,t,i){let r=0;for(;r<n.length;){let a=n.indexOf(e,r);if(a===-1)break;let l=n.substr(0,a);r=a+e.length;let u=n.substr(r),h=0;for(;h<t.length;){let f=t.indexOf(i,h);if(f===-1)break;let p=t.substr(0,f);h=f+i.length;let v=t.substr(h);if(l===p&&u===v)return{before:l,after:u}}}return null}function nx(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Vg(n,e,t,i){let r=nx(n,t.calendarSystem),a=e?nx(e,t.calendarSystem):null;return{date:r,start:r,end:a,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}class J6{constructor(e){this.cmdStr=e}format(e,t,i){return t.cmdFormatter(this.cmdStr,Vg(e,null,t,i))}formatRange(e,t,i,r){return i.cmdFormatter(this.cmdStr,Vg(e,t,i,r))}}class e5{constructor(e){this.func=e}format(e,t,i){return this.func(Vg(e,null,t,i))}formatRange(e,t,i,r){return this.func(Vg(e,t,i,r))}}function sn(n){return typeof n=="object"&&n?new q6(n):typeof n=="string"?new J6(n):typeof n=="function"?new e5(n):null}const ix={navLinkDayClick:K,navLinkWeekClick:K,duration:et,bootstrapFontAwesome:K,buttonIcons:K,customButtons:K,defaultAllDayEventDuration:et,defaultTimedEventDuration:et,nextDayThreshold:et,scrollTime:et,scrollTimeReset:Boolean,slotMinTime:et,slotMaxTime:et,dayPopoverFormat:sn,slotDuration:et,snapDuration:et,headerToolbar:K,footerToolbar:K,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:sn,dayHeaderClassNames:K,dayHeaderContent:K,dayHeaderDidMount:K,dayHeaderWillUnmount:K,dayCellClassNames:K,dayCellContent:K,dayCellDidMount:K,dayCellWillUnmount:K,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:K,weekNumbers:Boolean,weekNumberClassNames:K,weekNumberContent:K,weekNumberDidMount:K,weekNumberWillUnmount:K,editable:Boolean,viewClassNames:K,viewDidMount:K,viewWillUnmount:K,nowIndicator:Boolean,nowIndicatorClassNames:K,nowIndicatorContent:K,nowIndicatorDidMount:K,nowIndicatorWillUnmount:K,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:K,locale:K,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:K,eventOrder:g6,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:K,contentHeight:K,direction:String,weekNumberFormat:sn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:K,initialDate:K,now:K,eventDataTransform:K,stickyHeaderDates:K,stickyFooterScrollbar:K,viewHeight:K,defaultAllDay:Boolean,eventSourceFailure:K,eventSourceSuccess:K,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:K,eventConstraint:K,eventAllow:K,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:K,eventContent:K,eventDidMount:K,eventWillUnmount:K,selectConstraint:K,selectOverlap:K,selectAllow:K,droppable:Boolean,unselectCancel:String,slotLabelFormat:K,slotLaneClassNames:K,slotLaneContent:K,slotLaneDidMount:K,slotLaneWillUnmount:K,slotLabelClassNames:K,slotLabelContent:K,slotLabelDidMount:K,slotLabelWillUnmount:K,dayMaxEvents:K,dayMaxEventRows:K,dayMinWidth:Number,slotLabelInterval:et,allDayText:String,allDayClassNames:K,allDayContent:K,allDayDidMount:K,allDayWillUnmount:K,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:sn,rerenderDelay:Number,moreLinkText:K,moreLinkHint:K,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:K,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:et,hiddenDays:K,fixedWeekCount:Boolean,validRange:K,visibleRange:K,titleFormat:K,eventInteractive:Boolean,noEventsText:String,viewHint:K,navLinkHint:K,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:K,moreLinkClassNames:K,moreLinkContent:K,moreLinkDidMount:K,moreLinkWillUnmount:K,monthStartFormat:sn,handleCustomRendering:K,customRenderingMetaMap:K,customRenderingReplaces:Boolean},Ju={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},rx={datesSet:K,eventsSet:K,eventAdd:K,eventChange:K,eventRemove:K,windowResize:K,eventClick:K,eventMouseEnter:K,eventMouseLeave:K,select:K,unselect:K,loading:K,_unmount:K,_beforeprint:K,_afterprint:K,_noEventDrop:K,_noEventResize:K,_resize:K,_scrollRequest:K},sx={buttonText:K,buttonHints:K,views:K,plugins:K,initialEvents:K,events:K,eventSources:K},co={headerToolbar:uo,footerToolbar:uo,buttonText:uo,buttonHints:uo,buttonIcons:uo,dateIncrement:uo,plugins:bf,events:bf,eventSources:bf,resources:bf};function uo(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?br(n,e):n===e}function bf(n,e){return Array.isArray(n)&&Array.isArray(e)?_a(n,e):n===e}const t5={type:String,component:K,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:K,usesMinMaxTime:Boolean,classNames:K,content:K,didMount:K,willUnmount:K};function yv(n){return Gb(n,co)}function Wb(n,e){let t={},i={};for(let r in e)r in n&&(t[r]=e[r](n[r]));for(let r in n)r in e||(i[r]=n[r]);return{refined:t,extra:i}}function K(n){return n}const{hasOwnProperty:Ug}=Object.prototype;function Gb(n,e){let t={};if(e){for(let i in e)if(e[i]===uo){let r=[];for(let a=n.length-1;a>=0;a-=1){let l=n[a][i];if(typeof l=="object"&&l)r.unshift(l);else if(l!==void 0){t[i]=l;break}}r.length&&(t[i]=Gb(r))}}for(let i=n.length-1;i>=0;i-=1){let r=n[i];for(let a in r)a in t||(t[a]=r[a])}return t}function Ro(n,e){let t={};for(let i in n)e(n[i],i)&&(t[i]=n[i]);return t}function Uo(n,e){let t={};for(let i in n)t[i]=e(n[i],i);return t}function R1(n){let e={};for(let t of n)e[t]=!0;return e}function $b(n){let e=[];for(let t in n)e.push(n[t]);return e}function br(n,e){if(n===e)return!0;for(let t in n)if(Ug.call(n,t)&&!(t in e))return!1;for(let t in e)if(Ug.call(e,t)&&n[t]!==e[t])return!1;return!0}const n5=/^on[A-Z]/;function i5(n,e){const t=m_(n,e);for(let i of t)if(!n5.test(i))return!1;return!0}function m_(n,e){let t=[];for(let i in n)Ug.call(n,i)&&(i in e||t.push(i));for(let i in e)Ug.call(e,i)&&n[i]!==e[i]&&t.push(i);return t}function vv(n,e,t={}){if(n===e)return!0;for(let i in e)if(!(i in n&&r5(n[i],e[i],t[i])))return!1;for(let i in n)if(!(i in e))return!1;return!0}function r5(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function s5(n,e=0,t,i=1){let r=[];t==null&&(t=Object.keys(n).length);for(let a=e;a<t;a+=i){let l=n[a];l!==void 0&&r.push(l)}return r}let C1={};function a5(n,e){C1[n]=e}function o5(n){return new C1[n]}class l5{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return qn(e)}markerToArray(e){return na(e)}}a5("gregory",l5);const c5=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function u5(n){let e=c5.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(x1(t)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}class h5{constructor(e){let t=this.timeZone=e.timeZone,i=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=o5(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):qn(ZT(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=qn(e)),t===null||!x1(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=u5(e);if(t===null)return null;let{marker:i}=t,r=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-t.timeZoneOffset*60*1e3):r=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(e,t){let i=this.calendarSystem.markerToArray(e);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,t){let{calendarSystem:i}=this;return ia(e)===ia(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)&&i.getMarkerMonth(e)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:i}=this;return ia(e)===ia(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(e)+(i.getMarkerYear(t)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let i=this.diffWholeYears(e,t);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,t),i!==null?{unit:"month",value:i}:(i=N6(e,t),i!==null?{unit:"week",value:i}:(i=jg(e,t),i!==null?{unit:"day",value:i}:(i=C6(e,t),pv(i)?{unit:"hour",value:i}:(i=D6(e,t),pv(i)?{unit:"minute",value:i}:(i=I6(e,t),pv(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,i){let r;return i.years&&(r=this.diffWholeYears(e,t),r!==null)?r/S6(i):i.months&&(r=this.diffWholeMonths(e,t),r!==null)?r/T6(i):i.days&&(r=jg(e,t),r!==null)?r/ql(i):(t.valueOf()-e.valueOf())/_h(i)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?yt(e):t==="hour"?M6(e):t==="minute"?O6(e):t==="second"?P6(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):j6(e,this.weekDow,this.weekDoy)}format(e,t,i={}){return t.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,i,r={}){return r.isEndExclusive&&(t=ba(t,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let i=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?i=t.forcedTzo:i=this.offsetForMarker(e)),V6(e,i,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?qn(ZT(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):qn(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-JT(na(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(na(e)):null}toDate(e,t){return this.timeZone==="local"?JT(na(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(na(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class Vh{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,i;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(i in e)t[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let i;return t&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}Vh.prototype.classes={};Vh.prototype.iconClasses={};Vh.prototype.baseIconClass="";Vh.prototype.iconOverridePrefix="";function zg(n){n();let e=Ae.debounceRendering,t=[];function i(r){t.push(r)}for(Ae.debounceRendering=i,vh(J(d5,{}),document.createElement("div"));t.length;)t.shift()();Ae.debounceRendering=e}class d5 extends ii{render(){return J("div",{})}componentDidMount(){this.setState({})}}function D1(n){let e=VH(n),t=e.Provider;return e.Provider=function(){let i=!this.getChildContext,r=t.apply(this,arguments);if(i){let a=[];this.shouldComponentUpdate=l=>{this.props.value!==l.value&&a.forEach(u=>{u.context=l.value,u.forceUpdate()})},this.sub=l=>{a.push(l);let u=l.componentWillUnmount;l.componentWillUnmount=()=>{a.splice(a.indexOf(l),1),u&&u.call(l)}}}return r},e}class f5{constructor(e,t,i,r){this.execFunc=e,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const zo=D1({});function g5(n,e,t,i,r,a,l,u,h,f,p,v,_){return{dateEnv:r,options:t,pluginHooks:l,emitter:f,dispatch:u,getCurrentData:h,calendarApi:p,viewSpec:n,viewApi:e,dateProfileGenerator:i,theme:a,isRtl:t.direction==="rtl",addResizeHandler(b){f.on("_resize",b)},removeResizeHandler(b){f.off("_resize",b)},createScrollResponder(b){return new f5(b,f,et(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:v,unregisterInteractiveComponent:_}}class Bo extends ii{shouldComponentUpdate(e,t){return this.debug&&console.log(m_(e,this.props),m_(t,this.state)),!vv(this.props,e,this.propEquality)||!vv(this.state,t,this.stateEquality)}safeSetState(e){vv(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Bo.addPropsEquality=p5;Bo.addStateEquality=m5;Bo.contextType=zo;Bo.prototype.propEquality={};Bo.prototype.stateEquality={};class Tt extends Bo{}Tt.contextType=zo;function p5(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function m5(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function us(n,e){typeof n=="function"?n(e):n&&(n.current=e)}class Yb extends Tt{constructor(){super(...arguments),this.id=Vo(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:i}=this.props;(!t.customRenderingReplaces||!y_(i,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&us(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:i}=t,{customGenerator:r,defaultGenerator:a,renderProps:l}=e,u=I1(e,[],this.handleEl);let h=!1,f,p=[],v;if(r!=null){const _=typeof r=="function"?r(l,J):r;if(_===!0)h=!0;else{const b=_&&typeof _=="object";b&&"html"in _?u.dangerouslySetInnerHTML={__html:_.html}:b&&"domNodes"in _?p=Array.prototype.slice.call(_.domNodes):(b?e1(_):typeof _!="function")?f=_:v=_}}else h=!y_(e.generatorName,i);return h&&a&&(f=a(l)),this.queuedDomNodes=p,this.currentGeneratorMeta=v,J(e.elTag,u,f)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:i,context:r}=this,{handleCustomRendering:a,customRenderingMetaMap:l}=r.options;if(a){const u=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:l==null?void 0:l[i.generatorName];u&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:u},i),{elClasses:(i.elClasses||[]).filter(y5)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,i=this.base;if(!_a(e,t)){t.forEach(zb);for(let r of e)i.appendChild(r);this.currentDomNodes=e}}}Yb.addPropsEquality({elClasses:_a,elStyle:br,elAttrs:i5,renderProps:br});function y_(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function I1(n,e,t){const i=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(i.className=(n.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),n.elStyle&&(i.style=n.elStyle),i}function y5(n){return!!n}const k1=D1(0);class ds extends ii{constructor(){super(...arguments),this.InnerContent=v5.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(us(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=_5(e.classNameGenerator,e.renderProps);if(e.children){const i=I1(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,i);return e.elTag?J(e.elTag,i,r):r}else return J(Yb,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}ds.contextType=k1;function v5(n,e){const t=n.props;return J(Yb,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function _5(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}class ax extends Tt{render(){let{props:e,context:t}=this,{options:i}=t,r={view:t.viewApi};return J(ds,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...N1(e.viewSpec),...e.elClasses||[]],renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>e.children)}}function N1(n){return[`fc-${n.type}-view`,"fc-view"]}function b5(n,e){let t=null,i=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(i=e.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}function ox(n,e){let t=[],{start:i}=e,r,a;for(n.sort(E5),r=0;r<n.length;r+=1)a=n[r],a.start>i&&t.push({start:i,end:a.start}),a.end>i&&(i=a.end);return i<e.end&&t.push({start:i,end:e.end}),t}function E5(n,e){return n.start.valueOf()-e.start.valueOf()}function nc(n,e){let{start:t,end:i}=n,r=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(t===null||i===null||t<i)&&(r={start:t,end:i}),r}function w5(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Qb(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function Op(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function ua(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function A5(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function M1(n){let e=Math.floor(gc(n.start,n.end))||1,t=yt(n.start),i=Rn(t,e);return{start:t,end:i}}function O1(n,e=et(0)){let t=null,i=null;if(n.end){i=yt(n.end);let r=n.end.valueOf()-i.valueOf();r&&r>=_h(e)&&(i=Rn(i,1))}return n.start&&(t=yt(n.start),i&&i<=t&&(i=Rn(t,1))),{start:t,end:i}}function Ul(n,e,t,i){return i==="year"?et(t.diffWholeYears(n,e),"year"):i==="month"?et(t.diffWholeMonths(n,e),"month"):k6(n,e)}function S5(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function T5(n,e){let t=n.initialDate;return t!=null?e.createMarker(t):Uh(n.now,e)}function Uh(n,e){return typeof n=="function"&&(n=n()),n==null?e.createNowMarker():e.createMarker(n)}class P1{constructor(e){this.props=e,this.nowDate=Uh(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,i){let{dateEnv:r}=this.props,a=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,i)}buildNext(e,t,i){let{dateEnv:r}=this.props,a=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,i)}build(e,t,i=!0){let{props:r}=this,a,l,u,h,f,p;return a=this.buildValidRange(),a=this.trimHiddenDays(a),i&&(e=A5(e,a)),l=this.buildCurrentRangeInfo(e,t),u=/^(year|month|week|day)$/.test(l.unit),h=this.buildRenderRange(this.trimHiddenDays(l.range),l.unit,u),h=this.trimHiddenDays(h),f=h,r.showNonCurrentDates||(f=nc(f,l.range)),f=this.adjustActiveRange(f),f=nc(f,a),p=Qb(l.range,a),ua(h,e)||(e=h.start),{currentDate:e,validRange:a,currentRange:l.range,currentRangeUnit:l.unit,isRangeAllDay:u,activeRange:f,renderRange:h,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:p,dateIncrement:this.buildDateIncrement(l.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:i}=this,r=null,a=null,l=null,u;return i.duration?(r=i.duration,a=i.durationUnit,l=this.buildRangeFromDuration(e,t,r,a)):(u=this.props.dayCount)?(a="day",l=this.buildRangeFromDayCount(e,t,u)):(l=this.buildCustomVisibleRange(e))?a=i.dateEnv.greatestWholeUnit(l.start,l.end).unit:(r=this.getFallbackDuration(),a=p_(r).unit,l=this.buildRangeFromDuration(e,t,r,a)),{duration:r,unit:a,range:l}}getFallbackDuration(){return et({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:a}=this.props,{start:l,end:u}=e;return i&&(ql(r)<0&&(l=yt(l),l=t.add(l,r)),ql(a)>1&&(u=yt(u),u=Rn(u,-1),u=t.add(u,a))),{start:l,end:u}}buildRangeFromDuration(e,t,i,r){let{dateEnv:a,dateAlignment:l}=this.props,u,h,f;if(!l){let{dateIncrement:v}=this.props;v&&_h(v)<_h(i)?l=p_(v).unit:l=r}ql(i)<=1&&this.isHiddenDay(u)&&(u=this.skipHiddenDays(u,t),u=yt(u));function p(){u=a.startOf(e,l),h=a.add(u,i),f={start:u,end:h}}return p(),this.trimHiddenDays(f)||(e=this.skipHiddenDays(e,t),p()),f}buildRangeFromDayCount(e,t,i){let{dateEnv:r,dateAlignment:a}=this.props,l=0,u=e,h;a&&(u=r.startOf(u,a)),u=yt(u),u=this.skipHiddenDays(u,t),h=u;do h=Rn(h,1),this.isHiddenDay(h)||(l+=1);while(l<i);return{start:u,end:h}}buildCustomVisibleRange(e){let{props:t}=this,i=t.visibleRangeInput,r=typeof i=="function"?i.call(t.calendarApi,t.dateEnv.toDate(e)):i,a=this.refineRange(r);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,t,i){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,i;return t||((i=this.props.dateAlignment)?et(1,i):e||et({days:1}))}refineRange(e){if(e){let t=b5(e,this.props.dateEnv);return t&&(t=O1(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(t[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:i}=e;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),t==null||i==null||t<i?{start:t,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?t:0)+7)%7];)e=Rn(e,t);return e}}function Kb(n,e,t,i){return{instanceId:Vo(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:i??null}}function x5(n,e,t,i){for(let r=0;r<i.length;r+=1){let a=i[r].parse(n,t);if(a){let{allDay:l}=n;return l==null&&(l=e,l==null&&(l=a.allDayGuess,l==null&&(l=!1))),{allDay:l,duration:a.duration,typeData:a.typeData,typeId:r}}}return null}function Co(n,e,t){let{dateEnv:i,pluginHooks:r,options:a}=t,{defs:l,instances:u}=n;u=Ro(u,h=>!l[h.defId].recurringDef);for(let h in l){let f=l[h];if(f.recurringDef){let{duration:p}=f.recurringDef;p||(p=f.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let v=R5(f,p,e,i,r.recurringTypes);for(let _ of v){let b=Kb(h,{start:_,end:i.add(_,p)});u[b.instanceId]=b}}}return{defs:l,instances:u}}function R5(n,e,t,i,r){let l=r[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,e),end:t.end},i);return n.allDay&&(l=l.map(yt)),l}const tg={id:String,groupId:String,title:String,url:String,interactive:Boolean},j1={start:K,end:K,date:K,allDay:Boolean},C5=Object.assign(Object.assign(Object.assign({},tg),j1),{extendedProps:K});function L1(n,e,t,i,r=Xb(t),a,l){let{refined:u,extra:h}=V1(n,t,r),f=I5(e,t),p=x5(u,f,t.dateEnv,t.pluginHooks.recurringTypes);if(p){let _=v_(u,h,e?e.sourceId:"",p.allDay,!!p.duration,t,a);return _.recurringDef={typeId:p.typeId,typeData:p.typeData,duration:p.duration},{def:_,instance:null}}let v=D5(u,f,t,i);if(v){let _=v_(u,h,e?e.sourceId:"",v.allDay,v.hasEnd,t,a),b=Kb(_.defId,v.range,v.forcedStartTzo,v.forcedEndTzo);return l&&_.publicId&&l[_.publicId]&&(b.instanceId=l[_.publicId]),{def:_,instance:b}}return null}function V1(n,e,t=Xb(e)){return Wb(n,t)}function Xb(n){return Object.assign(Object.assign(Object.assign({},Bg),C5),n.pluginHooks.eventRefiners)}function v_(n,e,t,i,r,a,l){let u={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(l&&n.id?l[n.id]:"")||Vo(),sourceId:t,allDay:i,hasEnd:r,interactive:n.interactive,ui:Hg(n,a),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let h of a.pluginHooks.eventDefMemberAdders)Object.assign(u,h(n));return Object.freeze(u.ui.classNames),Object.freeze(u.extendedProps),u}function D5(n,e,t,i){let{allDay:r}=n,a,l=null,u=!1,h,f=null,p=n.start!=null?n.start:n.date;if(a=t.dateEnv.createMarkerMeta(p),a)l=a.marker;else if(!i)return null;return n.end!=null&&(h=t.dateEnv.createMarkerMeta(n.end)),r==null&&(e!=null?r=e:r=(!a||a.isTimeUnspecified)&&(!h||h.isTimeUnspecified)),r&&l&&(l=yt(l)),h&&(f=h.marker,r&&(f=yt(f)),l&&f<=l&&(f=null)),f?u=!0:i||(u=t.options.forceEventDuration||!1,f=t.dateEnv.add(l,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:u,range:{start:l,end:f},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:h?h.forcedTzo:null}}function I5(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function bh(n,e,t,i,r,a){let l=Pi(),u=Xb(t);for(let h of n){let f=L1(h,e,t,i,u,r,a);f&&__(f,l)}return l}function __(n,e=Pi()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function Zb(n,e){let t=n.instances[e];if(t){let i=n.defs[t.defId],r=Pp(n,a=>k5(i,a));return r.defs[i.defId]=i,r.instances[t.instanceId]=t,r}return Pi()}function k5(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function Pi(){return{defs:{},instances:{}}}function Jb(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function Pp(n,e){let t=Ro(n.defs,e),i=Ro(n.instances,r=>t[r.defId]);return{defs:t,instances:i}}function N5(n,e){let{defs:t,instances:i}=n,r={},a={};for(let l in t)e.defs[l]||(r[l]=t[l]);for(let l in i)!e.instances[l]&&r[i[l].defId]&&(a[l]=i[l]);return{defs:r,instances:a}}function M5(n,e){return Array.isArray(n)?bh(n,null,e,!0):typeof n=="object"&&n?bh([n],null,e,!0):n!=null?String(n):null}function lx(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}const Bg={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:K,overlap:K,allow:K,className:lx,classNames:lx,color:String,backgroundColor:String,borderColor:String,textColor:String},O5={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Hg(n,e){let t=M5(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function P5(n){return n.reduce(j5,O5)}function j5(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const L5={id:String,defaultAllDay:Boolean,url:String,format:String,events:K,eventDataTransform:K,success:K,failure:K};function U1(n,e,t=z1(e)){let i;if(typeof n=="string"?i={url:n}:typeof n=="function"||Array.isArray(n)?i={events:n}:typeof n=="object"&&n&&(i=n),i){let{refined:r,extra:a}=Wb(i,t),l=V5(r,e);if(l)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:Vo(),sourceDefId:l.sourceDefId,meta:l.meta,ui:Hg(r,e),extendedProps:a}}return null}function z1(n){return Object.assign(Object.assign(Object.assign({},Bg),L5),n.pluginHooks.eventSourceRefiners)}function V5(n,e){let t=e.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let a=t[i].parseMeta(n);if(a)return{sourceDefId:i,meta:a}}return null}function U5(n,e,t,i,r){switch(e.type){case"RECEIVE_EVENTS":return z5(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return B5(n,t[e.sourceId],e.rawEvents,i.activeRange,r);case"ADD_EVENTS":return H5(n,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Jb(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?Co(n,i.activeRange,r):n;case"REMOVE_EVENTS":return N5(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return H1(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Pp(n,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return Pi();default:return n}}function z5(n,e,t,i,r,a){if(e&&t===e.latestFetchId){let l=bh(B1(r,e,a),e,a);return i&&(l=Co(l,i,a)),Jb(H1(n,e.sourceId),l)}return n}function B5(n,e,t,i,r){const{defIdMap:a,instanceIdMap:l}=q5(n);let u=bh(B1(t,e,r),e,r,!1,a,l);return Co(u,i,r)}function B1(n,e,t){let i=t.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(n=cx(n,r)),i&&(n=cx(n,i)),n}function cx(n,e){let t;if(!e)t=n;else{t=[];for(let i of n){let r=e(i);r?t.push(r):r==null&&t.push(i)}}return t}function H5(n,e,t,i){return t&&(e=Co(e,t,i)),Jb(n,e)}function ux(n,e,t){let{defs:i}=n,r=Uo(n.instances,a=>i[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:t.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:t.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:a.forcedEndTzo}));return{defs:i,instances:r}}function H1(n,e){return Pp(n,t=>t.sourceId!==e)}function F5(n,e){return{defs:n.defs,instances:Ro(n.instances,t=>!e[t.instanceId])}}function q5(n){const{defs:e,instances:t}=n,i={},r={};for(let a in e){const l=e[a],{publicId:u}=l;u&&(i[u]=a)}for(let a in t){const l=t[a],u=e[l.defId],{publicId:h}=u;h&&(r[h]=a)}return{defIdMap:i,instanceIdMap:r}}class jp{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){W5(this.handlers,e,t)}off(e,t){G5(this.handlers,e,t)}trigger(e,...t){let i=this.handlers[e]||[],r=this.options&&this.options[e],a=[].concat(r||[],i);for(let l of a)l.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function W5(n,e,t){(n[e]||(n[e]=[])).push(t)}function G5(n,e,t){t?n[e]&&(n[e]=n[e].filter(i=>i!==t)):delete n[e]}const $5={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Y5(n,e){return bh(Q5(n),null,e)}function Q5(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},$5),t)),e}function F1(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},e0(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function K5(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function e0(n,e){let t={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,e));return Object.assign(t,hF(n,e.dateEnv)),t}function hx(n,e,t){let{dateEnv:i,options:r}=t,a=e;return n?(a=yt(a),a=i.add(a,r.defaultAllDayEventDuration)):a=i.add(a,r.defaultTimedEventDuration),a}function t0(n,e,t,i){let r=Fg(n.defs,e),a=Pi();for(let l in n.defs){let u=n.defs[l];a.defs[l]=X5(u,r[l],t,i)}for(let l in n.instances){let u=n.instances[l],h=a.defs[u.defId];a.instances[l]=Z5(u,h,r[u.defId],t,i)}return a}function X5(n,e,t,i){let r=t.standardProps||{};r.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},n),r),{ui:Object.assign(Object.assign({},n.ui),r.ui)});t.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),t.extendedProps));for(let l of i.pluginHooks.eventDefMutationAppliers)l(a,t,i);return!a.hasEnd&&i.options.forceEventDuration&&(a.hasEnd=!0),a}function Z5(n,e,t,i,r){let{dateEnv:a}=r,l=i.standardProps&&i.standardProps.allDay===!0,u=i.standardProps&&i.standardProps.hasEnd===!1,h=Object.assign({},n);return l&&(h.range=M1(h.range)),i.datesDelta&&t.startEditable&&(h.range={start:a.add(h.range.start,i.datesDelta),end:a.add(h.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(h.range={start:a.add(h.range.start,i.startDelta),end:h.range.end}),i.endDelta&&t.durationEditable&&(h.range={start:h.range.start,end:a.add(h.range.end,i.endDelta)}),u&&(h.range={start:h.range.start,end:hx(e.allDay,h.range.start,r)}),e.allDay&&(h.range={start:yt(h.range.start),end:yt(h.range.end)}),h.range.end<h.range.start&&(h.range.end=hx(e.allDay,h.range.start,r)),h}class Ll{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class vt{constructor(e,t,i){this._context=e,this._def=t,this._instance=i||null}setProp(e,t){if(e in j1)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=tg[e](t),this.mutate({standardProps:{publicId:t}});else if(e in tg)t=tg[e](t),this.mutate({standardProps:{[e]:t}});else if(e in Bg){let i=Bg[e](t);e==="color"?i={backgroundColor:t,borderColor:t}:e==="editable"?i={startEditable:t,durationEditable:t}:i={[e]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:i}=this._context,r=i.createMarker(e);if(r&&this._instance){let a=this._instance.range,l=Ul(a.start,r,i,t.granularity);t.maintainDuration?this.mutate({datesDelta:l}):this.mutate({startDelta:l})}}setEnd(e,t={}){let{dateEnv:i}=this._context,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){let a=Ul(this._instance.range.end,r,i,t.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,i={}){let{dateEnv:r}=this._context,a={allDay:i.allDay},l=r.createMarker(e),u;if(l&&!(t!=null&&(u=r.createMarker(t),!u))&&this._instance){let h=this._instance.range;i.allDay===!0&&(h=M1(h));let f=Ul(h.start,l,r,i.granularity);if(u){let p=Ul(h.end,u,r,i.granularity);w6(f,p)?this.mutate({datesDelta:f,standardProps:a}):this.mutate({startDelta:f,endDelta:p,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:f,standardProps:a})}}moveStart(e){let t=et(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=et(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=et(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let i={allDay:e},{maintainDuration:r}=t;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:t}=this._context,i=this._instance,r=sn(e);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let i=this._def,r=this._context,{eventStore:a}=r.getCurrentData(),l=Zb(a,t.instanceId);l=t0(l,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let h=new vt(r,i,t);this._def=l.defs[i.defId],this._instance=l.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:l}),r.emitter.trigger("eventChange",{oldEvent:h,event:this,relatedEvents:_o(l,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,t=q1(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new Ll(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:i}=t,{startStr:r,endStr:a}=this,l={allDay:t.allDay};return t.title&&(l.title=t.title),r&&(l.start=r),a&&(l.end=a),t.publicId&&(l.id=t.publicId),t.groupId&&(l.groupId=t.groupId),t.url&&(l.url=t.url),i.display&&i.display!=="auto"&&(l.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?l.color=i.backgroundColor:(i.backgroundColor&&(l.backgroundColor=i.backgroundColor),i.borderColor&&(l.borderColor=i.borderColor)),i.textColor&&(l.textColor=i.textColor),i.classNames.length&&(l.classNames=i.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(l,t.extendedProps):l.extendedProps=t.extendedProps),l}toJSON(){return this.toPlainObject()}}function q1(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function _o(n,e,t){let{defs:i,instances:r}=n,a=[],l=t?t.instanceId:"";for(let u in r){let h=r[u],f=i[h.defId];h.instanceId!==l&&a.push(new vt(e,f,h))}return a}function dx(n,e,t,i){let r={},a={},l={},u=[],h=[],f=Fg(n.defs,e);for(let p in n.defs){let v=n.defs[p];f[v.defId].display==="inverse-background"&&(v.groupId?(r[v.groupId]=[],l[v.groupId]||(l[v.groupId]=v)):a[p]=[])}for(let p in n.instances){let v=n.instances[p],_=n.defs[v.defId],b=f[_.defId],S=v.range,R=!_.allDay&&i?O1(S,i):S,T=nc(R,t);T&&(b.display==="inverse-background"?_.groupId?r[_.groupId].push(T):a[v.defId].push(T):b.display!=="none"&&(b.display==="background"?u:h).push({def:_,ui:b,instance:v,range:T,isStart:R.start&&R.start.valueOf()===T.start.valueOf(),isEnd:R.end&&R.end.valueOf()===T.end.valueOf()}))}for(let p in r){let v=r[p],_=ox(v,t);for(let b of _){let S=l[p],R=f[S.defId];u.push({def:S,ui:R,instance:null,range:b,isStart:!1,isEnd:!1})}}for(let p in a){let v=a[p],_=ox(v,t);for(let b of _)u.push({def:n.defs[p],ui:f[p],instance:null,range:b,isStart:!1,isEnd:!1})}return{bg:u,fg:h}}function fx(n,e){n.fcSeg=e}function ic(n){return n.fcSeg||n.parentNode.fcSeg||null}function Fg(n,e){return Uo(n,t=>W1(t,e))}function W1(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),P5(t)}function J5(n,e){let t=n.map(eF);return t.sort((i,r)=>p6(i,r,e)),t.map(i=>i._seg)}function eF(n){let{eventRange:e}=n,t=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,a=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:a,duration:a-r,allDay:Number(t.allDay),_seg:n})}function tF(n,e){let{pluginHooks:t}=e,i=t.isDraggableTransformers,{def:r,ui:a}=n.eventRange,l=a.startEditable;for(let u of i)l=u(l,r,a,e);return l}function nF(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function iF(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function G1(n,e,t,i,r,a,l){let{dateEnv:u,options:h}=t,{displayEventTime:f,displayEventEnd:p}=h,v=n.eventRange.def,_=n.eventRange.instance;f==null&&(f=i!==!1),p==null&&(p=r!==!1);let b=_.range.start,S=_.range.end,R=n.start||n.eventRange.range.start,T=n.end||n.eventRange.range.end,C=yt(b).valueOf()===yt(R).valueOf(),P=yt(ba(S,-1)).valueOf()===yt(ba(T,-1)).valueOf();return f&&!v.allDay&&(C||P)?(R=C?b:R,T=P?S:T,p&&v.hasEnd?u.formatRange(R,T,e,{forcedStartTzo:_.forcedStartTzo,forcedEndTzo:_.forcedEndTzo}):u.format(R,e,{forcedTzo:_.forcedStartTzo})):""}function eh(n,e,t){let i=n.eventRange.range;return{isPast:i.end<=e.start,isFuture:i.start>=e.end,isToday:e&&ua(e,i.start)}}function rF(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function sF(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function $1(n,e){let{def:t,instance:i}=n.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:a,options:l}=e,{eventInteractive:u}=l;return u==null&&(u=t.interactive,u==null&&(u=!!a.hasHandlers("eventClick"))),u?T1(h=>{a.trigger("eventClick",{el:h.target,event:new vt(e,t,i),jsEvent:h,view:e.viewApi})}):{}}const aF={start:K,end:K,allDay:Boolean};function oF(n,e,t){let i=lF(n,e),{range:r}=i;if(!r.start)return null;if(!r.end){if(t==null)return null;r.end=e.add(r.start,t)}return i}function lF(n,e){let{refined:t,extra:i}=Wb(n,aF),r=t.start?e.createMarkerMeta(t.start):null,a=t.end?e.createMarkerMeta(t.end):null,{allDay:l}=t;return l==null&&(l=r&&r.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:a?a.marker:null},allDay:l},i)}function cF(n,e){return w5(n.range,e.range)&&n.allDay===e.allDay&&uF(n,e)}function uF(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function hF(n,e){return Object.assign(Object.assign({},Q1(n.range,e,n.allDay)),{allDay:n.allDay})}function Y1(n,e,t){return Object.assign(Object.assign({},Q1(n,e,t)),{timeZone:e.timeZone})}function Q1(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function dF(n,e,t){let i=V1({editable:!1},t),r=v_(i.refined,i.extra,"",n.allDay,!0,t);return{def:r,ui:W1(r,e),instance:Kb(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function fF(n,e,t){let i=!1,r=function(u){i||(i=!0,e(u))},a=function(u){i||(i=!0,t(u))},l=n(r,a);l&&typeof l.then=="function"&&l.then(r,a)}class gx extends Error{constructor(e,t){super(e),this.response=t}}function gF(n,e,t){n=n.toUpperCase();const i={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(r=>{if(r.ok)return r.json().then(a=>[a,r],()=>{throw new gx("Failure parsing JSON",r)});throw new gx("Request failed",r)})}let _v;function K1(){return _v==null&&(_v=pF()),_v}function pF(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}class mF extends Tt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{zg(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{zg(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:i}=this.state,r=i||t.height==="auto"||t.contentHeight==="auto",a=!r&&t.height!=null?t.height:"",l=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return K1()||l.push("fc-liquid-hack"),e.children(l,a,r,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let pc=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function yF(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function n0(n){return{[n.component.uid]:n}}const b_={};class vF{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let i=this.getCurrentData(),r;t=t||"day",r=i.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),a,l;for(let u in t)r.push(u);for(a=0;a<r.length;a+=1)if(l=t[r[a]],l&&l.singleUnit===e)return l;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Uh(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),i=et(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),sn(t))}formatRange(e,t,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),sn(i),i)}formatIso(e,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:t})}select(e,t){let i;t==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:t};let r=this.getCurrentData(),a=oF(i,r.dateEnv,et({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),F1(a,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),K5(e,t))}addEvent(e,t){if(e instanceof vt){let l=e._def,u=e._instance;return this.getCurrentData().eventStore.defs[l.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:__({def:l,instance:u})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),r;if(t instanceof Ll)r=t.internalEventSource;else if(typeof t=="boolean")t&&([r]=$b(i.eventSources));else if(t!=null){let l=this.getEventSourceById(t);if(!l)return console.warn(`Could not find an event source with ID "${t}"`),null;r=l.internalEventSource}let a=L1(e,r,i,!1);if(a){let l=new vt(i,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:__(a)}),this.triggerEventAdd(l),l}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:q1(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:i,instances:r}=t.eventStore;e=String(e);for(let a in i){let l=i[a];if(l.publicId===e){if(l.recurringDef)return new vt(t,l,null);for(let u in r){let h=r[u];if(h.defId===l.defId)return new vt(t,l,h)}}}return null}getEvents(){let e=this.getCurrentData();return _o(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,i=[];for(let r in t)i.push(new Ll(e,t[r]));return i}getEventSourceById(e){let t=this.getCurrentData(),i=t.eventSources;e=String(e);for(let r in i)if(i[r].publicId===e)return new Ll(t,i[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof Ll)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=U1(e,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new Ll(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=et(e);t&&this.trigger("_scrollRequest",{time:t})}}function _F(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function X1(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function bF(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function EF(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function wF(n,e){return{left:n.left-e.left,top:n.top-e.top}}function Z1(n,e,t,i){return{dow:n.getUTCDay(),isDisabled:!!(i&&!ua(i.activeRange,n)),isOther:!!(i&&!ua(i.currentRange,n)),isToday:!!(e&&ua(e,n)),isPast:!!(e&&n<e.start),isFuture:!!(e&&n>=e.end)}}function i0(n,e){let t=["fc-day",`fc-day-${x6[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const AF=sn({year:"numeric",month:"long",day:"numeric"}),SF=sn({week:"long"});function E_(n,e,t="day",i=!0){const{dateEnv:r,options:a,calendarApi:l}=n;let u=r.format(e,t==="week"?SF:AF);if(a.navLinks){let h=r.toDate(e);const f=p=>{let v=t==="day"?a.navLinkDayClick:t==="week"?a.navLinkWeekClick:null;typeof v=="function"?v.call(l,r.toDate(e),p):(typeof v=="string"&&(t=v),l.zoomTo(e,t))};return Object.assign({title:Zu(a.navLinkHint,[u,h],u),"data-navlink":""},i?S1(f):{onClick:f})}return{"aria-label":u}}let bv=null;function TF(){return bv===null&&(bv=xF()),bv}function xF(){let n=document.createElement("div");Xu(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return zb(n),t}let Ev;function RF(){return Ev||(Ev=CF()),Ev}function CF(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=J1(n);return document.body.removeChild(n),e}function J1(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function DF(n,e=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,a=parseInt(t.borderTopWidth,10)||0,l=parseInt(t.borderBottomWidth,10)||0,u=J1(n),h=u.y-i-r,f=u.x-a-l,p={borderLeft:i,borderRight:r,borderTop:a,borderBottom:l,scrollbarBottom:f,scrollbarLeft:0,scrollbarRight:0};return TF()&&t.direction==="rtl"?p.scrollbarLeft=h:p.scrollbarRight=h,e&&(p.paddingLeft=parseInt(t.paddingLeft,10)||0,p.paddingRight=parseInt(t.paddingRight,10)||0,p.paddingTop=parseInt(t.paddingTop,10)||0,p.paddingBottom=parseInt(t.paddingBottom,10)||0),p}function IF(n,e=!1,t){let i=r0(n),r=DF(n,e),a={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(a.left+=r.paddingLeft,a.right-=r.paddingRight,a.top+=r.paddingTop,a.bottom-=r.paddingBottom),a}function r0(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function kF(n){let e=ek(n),t=n.getBoundingClientRect();for(let i of e){let r=X1(t,i.getBoundingClientRect());if(r)t=r;else return null}return t}function ek(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}class qg{constructor(e,t,i,r){this.els=t;let a=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(a.left),r&&this.buildElVerticals(a.top)}buildElHorizontals(e){let t=[],i=[];for(let r of this.els){let a=r.getBoundingClientRect();t.push(a.left-e),i.push(a.right-e)}this.lefts=t,this.rights=i}buildElVerticals(e){let t=[],i=[];for(let r of this.els){let a=r.getBoundingClientRect();t.push(a.top-e),i.push(a.bottom-e)}this.tops=t,this.bottoms=i}leftToIndex(e){let{lefts:t,rights:i}=this,r=t.length,a;for(a=0;a<r;a+=1)if(e>=t[a]&&e<i[a])return a}topToIndex(e){let{tops:t,bottoms:i}=this,r=t.length,a;for(a=0;a<r;a+=1)if(e>=t[a]&&e<i[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Ef(this.tops||[],e.tops||[])&&Ef(this.bottoms||[],e.bottoms||[])&&Ef(this.lefts||[],e.lefts||[])&&Ef(this.rights||[],e.rights||[])}}function Ef(n,e){const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(e[i]))return!1;return!0}class s0{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class NF extends s0{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class MF extends s0{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Ho extends Tt{constructor(){super(...arguments),this.uid=Vo()}prepareHits(){}queryHit(e,t,i,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!xn(e,".fc-event-mirror")}isValidDateDownEl(e){return!xn(e,".fc-event:not(.fc-bg-event)")&&!xn(e,".fc-more-link")&&!xn(e,"a[data-navlink]")&&!xn(e,".fc-popover")}}class OF{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let i of e)this.insertEntry(i,t);return t}insertEntry(e,t){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,i){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},t),{span:tk(t.span,e.touchingEntry.span)});i.push(r),this.splitEntry(t,e.touchingEntry,i)}else i.push(t)}splitEntry(e,t,i){let r=e.span,a=t.span;r.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:a.start}},i),r.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:r.end}},i)}insertEntryAt(e,t){let{entriesByLevel:i,levelCoords:r}=this;t.lateral===-1?(wv(r,t.level,t.levelCoord),wv(i,t.level,[e])):wv(i[t.level],t.lateral,e),this.stackCnts[th(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:i,strictOrder:r,stackCnts:a}=this,l=t.length,u=0,h=-1,f=-1,p=null,v=0;for(let S=0;S<l;S+=1){const R=t[S];if(!r&&R>=u+this.getEntryThickness(e))break;let T=i[S],C,P=mx(T,e.span.start,px),B=P[0]+P[1];for(;(C=T[B])&&C.span.start<e.span.end;){let G=R+this.getEntryThickness(C);G>u&&(u=G,p=C,h=S,f=B),G===u&&(v=Math.max(v,a[th(C)]+1)),B+=1}}let _=0;if(p)for(_=h+1;_<l&&t[_]<u;)_+=1;let b=-1;return _<l&&t[_]===u&&(b=mx(i[_],e.span.end,px)[0]),{touchingLevel:h,touchingLateral:f,touchingEntry:p,stackCnt:v,levelCoord:u,level:_,lateral:b}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,i=e.length,r=[];for(let a=0;a<i;a+=1){let l=e[a],u=t[a];for(let h of l)r.push(Object.assign(Object.assign({},h),{thickness:this.getEntryThickness(h),levelCoord:u}))}return r}}function px(n){return n.span.end}function th(n){return n.index+":"+n.span.start}function tk(n,e){let t=Math.max(n.start,e.start),i=Math.min(n.end,e.end);return t<i?{start:t,end:i}:null}function wv(n,e,t){n.splice(e,0,t)}function mx(n,e,t){let i=0,r=n.length;if(!r||e<t(n[i]))return[0,0];if(e>t(n[r-1]))return[r,0];for(;i<r;){let a=Math.floor(i+(r-i)/2),l=t(n[a]);if(e<l)r=a;else if(e>l)i=a+1;else return[a,1]}return[i,0]}class PF{constructor(e,t){this.emitter=new jp}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const a0={};function jF(n,e){return!n||e>10?sn({weekday:"short"}):e>1?sn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):sn({weekday:"long"})}const nk="fc-col-header-cell";function ik(n){return n.text}class LF extends Tt{render(){let{dateEnv:e,options:t,theme:i,viewApi:r}=this.context,{props:a}=this,{date:l,dateProfile:u}=a,h=Z1(l,a.todayRange,null,u),f=[nk].concat(i0(h,i)),p=e.format(l,a.dayHeaderFormat),v=!h.isDisabled&&a.colCnt>1?E_(this.context,l):{},_=Object.assign(Object.assign(Object.assign({date:e.toDate(l),view:r},a.extraRenderProps),{text:p}),h);return J(ds,{elTag:"th",elClasses:f,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":h.isDisabled?void 0:Fb(l)},a.extraDataAttrs),renderProps:_,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:ik,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},b=>J("div",{className:"fc-scrollgrid-sync-inner"},!h.isDisabled&&J(b,{elTag:"a",elAttrs:v,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const VF=sn({weekday:"long"});class UF extends Tt{render(){let{props:e}=this,{dateEnv:t,theme:i,viewApi:r,options:a}=this.context,l=Rn(new Date(2592e5),e.dow),u={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},h=t.format(l,e.dayHeaderFormat),f=Object.assign(Object.assign(Object.assign(Object.assign({date:l},u),{view:r}),e.extraRenderProps),{text:h});return J(ds,{elTag:"th",elClasses:[nk,...i0(u,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:f,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:ik,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},p=>J("div",{className:"fc-scrollgrid-sync-inner"},J(p,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(l,VF)}})))}}class o0 extends ii{constructor(e,t){super(e,t),this.initialNowDate=Uh(t.options.now,t.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:t}=this,i=ba(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),r=t.dateEnv.startOf(i,e.unit),a=t.dateEnv.add(r,et(1,e.unit)),l=a.valueOf()-i.valueOf();return l=Math.min(1e3*60*60*24,l),{currentState:{nowDate:r,todayRange:yx(r)},nextState:{nowDate:a,todayRange:yx(a)},waitMs:l}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}o0.contextType=zo;function yx(n){let e=yt(n),t=Rn(e,1);return{start:e,end:t}}class zF extends Tt{constructor(){super(...arguments),this.createDayHeaderFormatter=tt(BF)}render(){let{context:e}=this,{dates:t,dateProfile:i,datesRepDistinctDays:r,renderIntro:a}=this.props,l=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return J(o0,{unit:"day"},(u,h)=>J("tr",{role:"row"},a&&a("day"),t.map(f=>r?J(LF,{key:f.toISOString(),date:f,dateProfile:i,todayRange:h,colCnt:t.length,dayHeaderFormat:l}):J(UF,{key:f.getUTCDay(),dow:f.getUTCDay(),dayHeaderFormat:l}))))}}function BF(n,e,t){return n||jF(e,t)}class HF{constructor(e,t){let i=e.start,{end:r}=e,a=[],l=[],u=-1;for(;i<r;)t.isHiddenDay(i)?a.push(u+.5):(u+=1,a.push(u),l.push(i)),i=Rn(i,1);this.dates=l,this.indices=a,this.cnt=l.length}sliceRange(e){let t=this.getDateDayIndex(e.start),i=this.getDateDayIndex(Rn(e.end,-1)),r=Math.max(0,t),a=Math.min(this.cnt-1,i);return r=Math.ceil(r),a=Math.floor(a),r<=a?{firstIndex:r,lastIndex:a,isStart:t===r,isEnd:i===a}:null}getDateDayIndex(e){let{indices:t}=this,i=Math.floor(gc(this.dates[0],e));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}}class FF{constructor(e,t){let{dates:i}=e,r,a,l;if(t){for(a=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==a;r+=1);l=Math.ceil(i.length/r)}else l=1,r=i.length;this.rowCnt=l,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(t,r));e.push(i)}return e}buildCell(e,t){let i=this.daySeries.dates[e*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,i=this.daySeries.sliceRange(e),r=[];if(i){let{firstIndex:a,lastIndex:l}=i,u=a;for(;u<=l;){let h=Math.floor(u/t),f=Math.min((h+1)*t,l+1);r.push({row:h,firstCol:u%t,lastCol:(f-1)%t,isStart:i.isStart&&u===a,isEnd:i.isEnd&&f-1===l}),u=f}}return r}}class qF{constructor(){this.sliceBusinessHours=tt(this._sliceBusinessHours),this.sliceDateSelection=tt(this._sliceDateSpan),this.sliceEventStore=tt(this._sliceEventStore),this.sliceEventDrag=tt(this._sliceInteraction),this.sliceEventResize=tt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,i,r,...a){let{eventUiBases:l}=e,u=this.sliceEventStore(e.eventStore,l,t,i,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,i,l,r,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,i,r,...a),fgEventSegs:u.fg,bgEventSegs:u.bg,eventDrag:this.sliceEventDrag(e.eventDrag,l,t,i,...a),eventResize:this.sliceEventResize(e.eventResize,l,t,i,...a),eventSelection:e.eventSelection}}sliceNowDate(e,t,i,r,...a){return this._sliceDateSpan({range:{start:e,end:ba(e,1)},allDay:!1},t,i,{},r,...a)}_sliceBusinessHours(e,t,i,r,...a){return e?this._sliceEventStore(Co(e,wf(t,!!i),r),{},t,i,...a).bg:[]}_sliceEventStore(e,t,i,r,...a){if(e){let l=dx(e,t,wf(i,!!r),r);return{bg:this.sliceEventRanges(l.bg,a),fg:this.sliceEventRanges(l.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,i,r,...a){if(!e)return null;let l=dx(e.mutatedEvents,t,wf(i,!!r),r);return{segs:this.sliceEventRanges(l.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,i,r,a,...l){if(!e)return[];let u=wf(t,!!i),h=nc(e.range,u);if(h){e=Object.assign(Object.assign({},e),{range:h});let f=dF(e,r,a),p=this.sliceRange(e.range,...l);for(let v of p)v.eventRange=f;return p}return[]}sliceEventRanges(e,t){let i=[];for(let r of e)i.push(...this.sliceEventRange(r,t));return i}sliceEventRange(e,t){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:Rn(i.start,1)});let r=this.sliceRange(i,...t);for(let a of r)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return r}}function wf(n,e){let t=n.activeRange;return e?t:{start:ba(t.start,n.slotMinTime.milliseconds),end:ba(t.end,n.slotMaxTime.milliseconds-864e5)}}function rk(n,e,t){let{instances:i}=n.mutatedEvents;for(let r in i)if(!Op(e.validRange,i[r].range))return!1;return sk({eventDrag:n},t)}function WF(n,e,t){return Op(e.validRange,n.range)?sk({dateSelection:n},t):!1}function sk(n,e){let t=e.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||GF)(i,e)}function GF(n,e,t={},i){return!(n.eventDrag&&!$F(n,e,t,i)||n.dateSelection&&!YF(n,e,t,i))}function $F(n,e,t,i){let r=e.getCurrentData(),a=n.eventDrag,l=a.mutatedEvents,u=l.defs,h=l.instances,f=Fg(u,a.isEvent?n.eventUiBases:{"":r.selectionConfig});i&&(f=Uo(f,i));let p=F5(n.eventStore,a.affectedEvents.instances),v=p.defs,_=p.instances,b=Fg(v,n.eventUiBases);for(let S in h){let R=h[S],T=R.range,C=f[R.defId],P=u[R.defId];if(!ak(C.constraints,T,p,n.businessHours,e))return!1;let{eventOverlap:B}=e.options,G=typeof B=="function"?B:null;for(let ne in _){let O=_[ne];if(Qb(T,O.range)&&(b[O.defId].overlap===!1&&a.isEvent||C.overlap===!1||G&&!G(new vt(e,v[O.defId],O),new vt(e,P,R))))return!1}let X=r.eventStore;for(let ne of C.allows){let O=Object.assign(Object.assign({},t),{range:R.range,allDay:P.allDay}),I=X.defs[P.defId],k=X.instances[S],M;if(I?M=new vt(e,I,k):M=new vt(e,P),!ne(e0(O,e),M))return!1}}return!0}function YF(n,e,t,i){let r=n.eventStore,a=r.defs,l=r.instances,u=n.dateSelection,h=u.range,{selectionConfig:f}=e.getCurrentData();if(i&&(f=i(f)),!ak(f.constraints,h,r,n.businessHours,e))return!1;let{selectOverlap:p}=e.options,v=typeof p=="function"?p:null;for(let _ in l){let b=l[_];if(Qb(h,b.range)&&(f.overlap===!1||v&&!v(new vt(e,a[b.defId],b),null)))return!1}for(let _ of f.allows){let b=Object.assign(Object.assign({},t),u);if(!_(e0(b,e),null))return!1}return!0}function ak(n,e,t,i,r){for(let a of n)if(!KF(QF(a,e,t,i,r),e))return!1;return!0}function QF(n,e,t,i,r){return n==="businessHours"?Av(Co(i,e,r)):typeof n=="string"?Av(Pp(t,a=>a.groupId===n)):typeof n=="object"&&n?Av(Co(n,e,r)):[]}function Av(n){let{instances:e}=n,t=[];for(let i in e)t.push(e[i].range);return t}function KF(n,e){for(let t of n)if(Op(t,e))return!0;return!1}const Af=/^(visible|hidden)$/;class XF extends Tt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,us(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:i}=e,r=t&&i,a=["fc-scroller"];return t&&(i?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),J("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Af.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Af.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Af.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Af.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class yo{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:r,currentMap:a}=this,l=!1,u=!1;t!==null?(l=i in a,a[i]=t,r[i]=(r[i]||0)+1,u=!0):(r[i]-=1,r[i]||(delete a[i],delete this.callbackMap[i],l=!0)),this.masterCallback&&(l&&this.masterCallback(null,String(i)),u&&this.masterCallback(t,String(i)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),t}collect(e,t,i){return s5(this.currentMap,e,t,i)}getAll(){return $b(this.currentMap)}}function ZF(n){let e=s6(n,".fc-scrollgrid-shrink"),t=0;for(let i of e)t=Math.max(t,_6(i));return Math.ceil(t)}function ok(n,e){return n.liquid&&e.liquid}function JF(n,e){return e.maxHeight!=null||ok(n,e)}function e3(n,e,t,i){let{expandRows:r}=t;return typeof e.content=="function"?e.content(t):J("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,J(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function t3(n,e){return _a(n,e,br)}function n3(n,e){let t=[];for(let i of n){let r=i.span||1;for(let a=0;a<r;a+=1)t.push(J("col",{style:{width:i.width==="shrink"?i3(e):i.width||"",minWidth:i.minWidth||""}}))}return J("colgroup",{},...t)}function i3(n){return n??4}function r3(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function s3(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function a3(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function o3(n){return J("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function vx(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function l3(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}class lk extends Tt{constructor(){super(...arguments),this.processCols=tt(e=>e,t3),this.renderMicroColGroup=tt(n3),this.scrollerRefs=new yo,this.scrollerElRefs=new yo(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:i}=this,r=e.sections||[],a=this.processCols(e.cols),l=this.renderMicroColGroup(a,t.shrinkWidth),u=s3(e.liquid,i);e.collapsibleWidth&&u.push("fc-scrollgrid-collapsible");let h=r.length,f=0,p,v=[],_=[],b=[];for(;f<h&&(p=r[f]).type==="header";)v.push(this.renderSection(p,l,!0)),f+=1;for(;f<h&&(p=r[f]).type==="body";)_.push(this.renderSection(p,l,!1)),f+=1;for(;f<h&&(p=r[f]).type==="footer";)b.push(this.renderSection(p,l,!0)),f+=1;let S=!K1();const R={role:"rowgroup"};return J("table",{role:"grid",className:u.join(" "),style:{height:e.height}},!!(!S&&v.length)&&J("thead",R,...v),!!(!S&&_.length)&&J("tbody",R,..._),!!(!S&&b.length)&&J("tfoot",R,...b),S&&J("tbody",R,...v,..._,...b))}renderSection(e,t,i){return"outerContent"in e?J(Mt,{key:e.key},e.outerContent):J("tr",{key:e.key,role:"presentation",className:a3(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,i))}renderChunkTd(e,t,i,r){if("outerContent"in i)return i.outerContent;let{props:a}=this,{forceYScrollbars:l,scrollerClientWidths:u,scrollerClientHeights:h}=this.state,f=JF(a,e),p=ok(a,e),v=a.liquid?l?"scroll":f?"auto":"hidden":"visible",_=e.key,b=e3(e,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&u[_]!==void 0?u[_]:null,clientHeight:h[_]!==void 0?h[_]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return J(r?"th":"td",{ref:i.elRef,role:"presentation"},J("div",{className:`fc-scroller-harness${p?" fc-scroller-harness-liquid":""}`},J(XF,{ref:this.scrollerRefs.createRef(_),elRef:this.scrollerElRefs.createRef(_),overflowY:v,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:p,liquidIsAbsolute:!0},b)))}_handleScrollerEl(e,t){let i=c3(this.props.sections,t);i&&us(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return r3(this.props.cols)?ZF(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=RF(),{scrollerRefs:t,scrollerElRefs:i}=this,r=!1,a={},l={};for(let u in t.currentMap){let h=t.currentMap[u];if(h&&h.needsYScrolling()){r=!0;break}}for(let u of this.props.sections){let h=u.key,f=i.currentMap[h];if(f){let p=f.parentNode;a[h]=Math.floor(p.getBoundingClientRect().width-(r?e.y:0)),l[h]=Math.floor(p.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:a,scrollerClientHeights:l}}}lk.addStateEquality({scrollerClientWidths:br,scrollerClientHeights:br});function c3(n,e){for(let t of n)if(t.key===e)return t;return null}class l0 extends Tt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&fx(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{eventRange:a}=r,{ui:l}=a,u={event:new vt(t,a.def,a.instance),view:t.viewApi,timeText:e.timeText,textColor:l.textColor,backgroundColor:l.backgroundColor,borderColor:l.borderColor,isDraggable:!e.disableDragging&&tF(r,t),isStartResizable:!e.disableResizing&&nF(r,t),isEndResizable:!e.disableResizing&&iF(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return J(ds,Object.assign({},e,{elRef:this.handleEl,elClasses:[...rF(u),...r.eventRange.ui.classNames,...e.elClasses||[]],renderProps:u,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&fx(this.el,this.props.seg)}}class u3 extends Tt{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{ui:a}=r.eventRange,l=i.eventTimeFormat||e.defaultTimeFormat,u=G1(r,l,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return J(l0,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:$1(r,t),defaultGenerator:h3,timeText:u}),(h,f)=>J(Mt,null,J(h,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:f.textColor}}),!!f.isStartResizable&&J("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!f.isEndResizable&&J("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function h3(n){return J("div",{className:"fc-event-main-frame"},n.timeText&&J("div",{className:"fc-event-time"},n.timeText),J("div",{className:"fc-event-title-container"},J("div",{className:"fc-event-title fc-sticky"},n.event.title||J(Mt,null," "))))}const d3=sn({day:"numeric"});class ck extends Tt{constructor(){super(...arguments),this.refineRenderProps=eg(f3)}render(){let{props:e,context:t}=this,{options:i}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return J(ds,Object.assign({},e,{elClasses:[...i0(r,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":Fb(e.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}}function uk(n){return!!(n.dayCellContent||y_("dayCellContent",n))}function f3(n){let{date:e,dateEnv:t,dateProfile:i,isMonthStart:r}=n,a=Z1(e,n.todayRange,null,i),l=n.showDayNumber?t.format(e,r?n.monthStartFormat:d3):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},a),{isMonthStart:r,dayNumberText:l}),n.extraRenderProps)}class g3 extends Tt{render(){let{props:e}=this,{seg:t}=e;return J(l0,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:p3,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function p3(n){let{title:e}=n.event;return e&&J("div",{className:"fc-event-title"},n.event.title)}function m3(n){return J("div",{className:`fc-${n}`})}const y3=n=>J(zo.Consumer,null,e=>{let{dateEnv:t,options:i}=e,{date:r}=n,a=i.weekNumberFormat||n.defaultFormat,l=t.computeWeekNumber(r),u=t.format(r,a);return J(ds,Object.assign({},n,{renderProps:{num:l,text:u,date:r},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:v3,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function v3(n){return n.text}const Sv=10;class _3 extends Tt{constructor(){super(...arguments),this.state={titleId:Np()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&us(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=w1(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:i,state:r}=this,a=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return WH(J("div",Object.assign({},i.extraAttrs,{id:i.id,className:a.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),J("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},J("span",{className:"fc-popover-title",id:r.titleId},i.title),J("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),J("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:r}=this,a=kF(t);if(a){let l=r.getBoundingClientRect(),u=i?xn(t,".fc-scrollgrid").getBoundingClientRect().top:a.top,h=e?a.right-l.width:a.left;u=Math.max(u,Sv),h=Math.min(h,document.documentElement.clientWidth-Sv-l.width),h=Math.max(h,Sv);let f=r.offsetParent.getBoundingClientRect();Xu(r,{top:u-f.top,left:h-f.left})}}}class b3 extends Ho{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:i}=this,{startDate:r,todayRange:a,dateProfile:l}=i,u=t.format(r,e.dayPopoverFormat);return J(ck,{elRef:this.handleRootEl,date:r,dateProfile:l,todayRange:a},(h,f,p)=>J(_3,{elRef:p.ref,id:i.id,title:u,extraClassNames:["fc-more-popover"].concat(p.className||[]),extraAttrs:p,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},uk(e)&&J(h,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,t,i,r){let{rootEl:a,props:l}=this;return e>=0&&e<i&&t>=0&&t<r?{dateProfile:l.dateProfile,dateSpan:Object.assign({allDay:!l.forceTimed,range:{start:l.startDate,end:l.endDate}},l.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}}class E3 extends Tt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Np()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&us(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:i}=this,{moreLinkClick:r}=i.options,a=_x(t).start;function l(u){let{def:h,instance:f,range:p}=u.eventRange;return{event:new vt(i,h,f),start:i.dateEnv.toDate(p.start),end:i.dateEnv.toDate(p.end),isStart:u.isStart,isEnd:u.isEnd}}typeof r=="function"&&(r=r({date:a,allDay:!!t.allDayDate,allSegs:t.allSegs.map(l),hiddenSegs:t.hiddenSegs.map(l),jsEvent:e,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(a,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return J(zo.Consumer,null,i=>{let{viewApi:r,options:a,calendarApi:l}=i,{moreLinkText:u}=a,{moreCnt:h}=e,f=_x(e),p=typeof u=="function"?u.call(l,h):`+${h} ${u}`,v=Zu(a.moreLinkHint,[h],p),_={num:h,shortText:`+${h}`,text:p,view:r};return J(Mt,null,!!e.moreCnt&&J(ds,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),S1(this.handleClick)),{title:v,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:_,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||w3,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),t.isPopoverOpen&&J(b3,{id:t.popoverId,startDate:f.start,endDate:f.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=xn(this.linkEl,".fc-view-harness"))}}function w3(n){return n.text}function _x(n){if(n.allDayDate)return{start:n.allDayDate,end:Rn(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:A3(e),end:T3(e)}}function A3(n){return n.reduce(S3).eventRange.range.start}function S3(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function T3(n){return n.reduce(x3).eventRange.range.end}function x3(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class R3{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class C3 extends R3{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let i=!1;e.isActive?(t.set(e.id,e),i=!0):t.has(e.id)&&(t.delete(e.id),i=!0),i&&this.set(t)}}const D3=[],hk={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},dk=Object.assign(Object.assign({},hk),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function I3(n){let e=n.length>0?n[0].code:"en",t=D3.concat(n),i={en:dk};for(let r of t)i[r.code]=r;return{map:i,defaultCode:e}}function fk(n,e){return typeof n=="object"&&!Array.isArray(n)?gk(n.code,[n.code],n):k3(n,e)}function k3(n,e){let t=[].concat(n||[]),i=N3(t,e)||dk;return gk(n,t,i)}function N3(n,e){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let a=i.slice(0,r).join("-");if(e[a])return e[a]}}return null}function gk(n,e,t){let i=Gb([hk,t],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:n,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function Ta(n){return{id:Vo(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function M3(n,e){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(a){for(let l of a){const u=l.name,h=t[u];h===void 0?(t[u]=l.id,r(l.deps),i=P3(i,l)):h!==l.id&&console.warn(`Duplicate plugin '${u}'`)}}return n&&r(n),r(e),i}function O3(){let n=[],e=[],t;return(i,r)=>((!t||!_a(i,n)||!_a(r,e))&&(t=M3(i,r)),n=i,e=r,t)}function P3(n,e){return{premiumReleaseDate:j3(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function j3(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class xa extends Vh{}xa.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};xa.prototype.baseIconClass="fc-icon";xa.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};xa.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};xa.prototype.iconOverrideOption="buttonIcons";xa.prototype.iconOverrideCustomButtonOption="icon";xa.prototype.iconOverridePrefix="fc-icon-";function L3(n,e){let t={},i;for(i in n)w_(i,t,n,e);for(i in e)w_(i,t,n,e);return t}function w_(n,e,t,i){if(e[n])return e[n];let r=V3(n,e,t,i);return r&&(e[n]=r),r}function V3(n,e,t,i){let r=t[n],a=i[n],l=p=>r&&r[p]!==null?r[p]:a&&a[p]!==null?a[p]:null,u=l("component"),h=l("superType"),f=null;if(h){if(h===n)throw new Error("Can't have a custom view type that references itself");f=w_(h,e,t,i)}return!u&&f&&(u=f.component),u?{type:n,component:u,defaults:Object.assign(Object.assign({},f?f.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},f?f.overrides:{}),a?a.rawOptions:{})}:null}function bx(n){return Uo(n,U3)}function U3(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=Ex(e):t&&!(t.prototype instanceof Tt)&&(t=Ex(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function Ex(n){return e=>J(zo.Consumer,null,t=>J(ds,{elTag:"div",elClasses:N1(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function z3(n,e,t,i){let r=bx(n),a=bx(e.views),l=L3(r,a);return Uo(l,u=>B3(u,a,e,t,i))}function B3(n,e,t,i,r){let a=n.overrides.duration||n.defaults.duration||i.duration||t.duration,l=null,u="",h="",f={};if(a&&(l=H3(a),l)){let _=p_(l);u=_.unit,_.value===1&&(h=u,f=e[u]?e[u].rawOptions:{})}let p=_=>{let b=_.buttonText||{},S=n.defaults.buttonTextKey;return S!=null&&b[S]!=null?b[S]:b[n.type]!=null?b[n.type]:b[h]!=null?b[h]:null},v=_=>{let b=_.buttonHints||{},S=n.defaults.buttonTextKey;return S!=null&&b[S]!=null?b[S]:b[n.type]!=null?b[n.type]:b[h]!=null?b[h]:null};return{type:n.type,component:n.component,duration:l,durationUnit:u,singleUnit:h,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},f),n.overrides),buttonTextOverride:p(i)||p(t)||n.overrides.buttonText,buttonTextDefault:p(r)||n.defaults.buttonText||p(Ju)||n.type,buttonTitleOverride:v(i)||v(t)||n.overrides.buttonHint,buttonTitleDefault:v(r)||n.defaults.buttonHint||v(Ju)}}let wx={};function H3(n){let e=JSON.stringify(n),t=wx[e];return t===void 0&&(t=et(n),wx[e]=t),t}function F3(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function q3(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function W3(n,e,t,i){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||t);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(n,t),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(n,t),r.isValid)return r;break}return n}function G3(n,e,t){let i=e?e.activeRange:null;return mk({},J3(n,t),i,t)}function $3(n,e,t,i){let r=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return mk(n,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return Q3(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?yk(n,r,i):n;case"FETCH_EVENT_SOURCES":return c0(n,e.sourceIds?R1(e.sourceIds):vk(n,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Z3(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function Y3(n,e,t){let i=e?e.activeRange:null;return c0(n,vk(n,t),i,!0,t)}function pk(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function mk(n,e,t,i){let r={};for(let a of e)r[a.sourceId]=a;return t&&(r=yk(r,t,i)),Object.assign(Object.assign({},n),r)}function Q3(n,e){return Ro(n,t=>t.sourceId!==e)}function yk(n,e,t){return c0(n,Ro(n,i=>K3(i,e,t)),e,!1,t)}function K3(n,e,t){return _k(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function c0(n,e,t,i,r){let a={};for(let l in n){let u=n[l];e[l]?a[l]=X3(u,t,i,r):a[l]=u}return a}function X3(n,e,t,i){let{options:r,calendarApi:a}=i,l=i.pluginHooks.eventSourceDefs[n.sourceDefId],u=Vo();return l.fetch({eventSource:n,range:e,isRefetch:t,context:i},h=>{let{rawEvents:f}=h;r.eventSourceSuccess&&(f=r.eventSourceSuccess.call(a,f,h.response)||f),n.success&&(f=n.success.call(a,f,h.response)||f),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:u,fetchRange:e,rawEvents:f})},h=>{let f=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(a,h),f=!0),n.failure&&(n.failure(h),f=!0),f||console.warn(h.message,h),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:u,fetchRange:e,error:h})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:u})}function Z3(n,e,t,i){let r=n[e];return r&&t===r.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):n}function vk(n,e){return Ro(n,t=>_k(t,e))}function J3(n,e){let t=z1(e),i=[].concat(n.eventSources||[]),r=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let a of i){let l=U1(a,e,t);l&&r.push(l)}return r}function _k(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function e9(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function t9(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function n9(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function i9(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function r9(n,e,t,i,r){let a=n.headerToolbar?Ax(n.headerToolbar,n,e,t,i,r):null,l=n.footerToolbar?Ax(n.footerToolbar,n,e,t,i,r):null;return{header:a,footer:l}}function Ax(n,e,t,i,r,a){let l={},u=[],h=!1;for(let f in n){let p=n[f],v=s9(p,e,t,i,r,a);l[f]=v.widgets,u.push(...v.viewsWithButtons),h=h||v.hasTitle}return{sectionWidgets:l,viewsWithButtons:u,hasTitle:h}}function s9(n,e,t,i,r,a){let l=e.direction==="rtl",u=e.customButtons||{},h=t.buttonText||{},f=e.buttonText||{},p=t.buttonHints||{},v=e.buttonHints||{},_=n?n.split(" "):[],b=[],S=!1;return{widgets:_.map(T=>T.split(",").map(C=>{if(C==="title")return S=!0,{buttonName:C};let P,B,G,X,ne,O;if(P=u[C])G=I=>{P.click&&P.click.call(I.target,I,I.target)},(X=i.getCustomButtonIconClass(P))||(X=i.getIconClass(C,l))||(ne=P.text),O=P.hint||P.text;else if(B=r[C]){b.push(C),G=()=>{a.changeView(C)},(ne=B.buttonTextOverride)||(X=i.getIconClass(C,l))||(ne=B.buttonTextDefault);let I=B.buttonTextOverride||B.buttonTextDefault;O=Zu(B.buttonTitleOverride||B.buttonTitleDefault||e.viewHint,[I,C],I)}else if(a[C])if(G=()=>{a[C]()},(ne=h[C])||(X=i.getIconClass(C,l))||(ne=f[C]),C==="prevYear"||C==="nextYear"){let I=C==="prevYear"?"prev":"next";O=Zu(p[I]||v[I],[f.year||"year","year"],f[C])}else O=I=>Zu(p[C]||v[C],[f[I]||I,I],f[C]);return{buttonName:C,buttonClick:G,buttonIcon:X,buttonText:ne,buttonHint:O}})),viewsWithButtons:b,hasTitle:S}}class a9{constructor(e,t,i){this.type=e,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let o9={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const l9=Ta({name:"array-event-source",eventSourceDefs:[o9]});let c9={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:i}=n.context,r=n.eventSource.meta;fF(r.bind(null,Y1(n.range,i)),a=>e({rawEvents:a}),t)}};const u9=Ta({name:"func-event-source",eventSourceDefs:[c9]}),h9={method:String,extraParams:K,startParam:String,endParam:String,timeZoneParam:String};let d9={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:i}=n.eventSource,r=g9(i,n.range,n.context);gF(i.method,i.url,r).then(([a,l])=>{e({rawEvents:a,response:l})},t)}};const f9=Ta({name:"json-event-source",eventSourceRefiners:h9,eventSourceDefs:[d9]});function g9(n,e,t){let{dateEnv:i,options:r}=t,a,l,u,h,f={};return a=n.startParam,a==null&&(a=r.startParam),l=n.endParam,l==null&&(l=r.endParam),u=n.timeZoneParam,u==null&&(u=r.timeZoneParam),typeof n.extraParams=="function"?h=n.extraParams():h=n.extraParams||{},Object.assign(f,h),f[a]=i.formatIso(e.start),f[l]=i.formatIso(e.end),i.timeZone!=="local"&&(f[u]=i.timeZone),f}const p9={daysOfWeek:K,startTime:et,endTime:et,duration:et,startRecur:K,endRecur:K};let m9={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null},i;return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=A6(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:i,typeData:t}}return null},expand(n,e,t){let i=nc(e,{start:n.startRecur,end:n.endRecur});return i?v9(n.daysOfWeek,n.startTime,i,t):[]}};const y9=Ta({name:"simple-recurring-event",recurringTypes:[m9],eventRefiners:p9});function v9(n,e,t,i){let r=n?R1(n):null,a=yt(t.start),l=t.end,u=[];for(;a<l;){let h;(!r||r[a.getUTCDay()])&&(e?h=i.add(a,e):h=a,u.push(h)),a=Rn(a,1)}return u}const _9=Ta({name:"change-handler",optionChangeHandlers:{events(n,e){Sx([n],e)},eventSources:Sx}});function Sx(n,e){let t=$b(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let i=[];for(let r of n){let a=!1;for(let l=0;l<t.length;l+=1)if(t[l]._raw===r){t.splice(l,1),a=!0;break}a||i.push(r)}for(let r of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)e.calendarApi.addEventSource(r)}function b9(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},Y1(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function E9(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",_o(n,e))}const w9=[l9,u9,f9,y9,_9,Ta({name:"misc",isLoadingFuncs:[n=>pk(n.eventSources)],propSetHandlers:{dateProfile:b9,eventStore:E9}})];class A9{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Ub(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],i;for(;i=e.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function S9(n,e,t){let i;return/^(year|month)$/.test(n.currentRangeUnit)?i=n.currentRange:i=n.activeRange,t.formatRange(i.start,i.end,sn(e.titleFormat||T9(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function T9(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=jg(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class x9{constructor(e){this.computeCurrentViewData=tt(this._computeCurrentViewData),this.organizeRawLocales=tt(I3),this.buildLocale=tt(fk),this.buildPluginHooks=O3(),this.buildDateEnv=tt(R9),this.buildTheme=tt(C9),this.parseToolbars=tt(r9),this.buildViewSpecs=tt(z3),this.buildDateProfileGenerator=eg(D9),this.buildViewApi=tt(I9),this.buildViewUiProps=eg(M9),this.buildEventUiBySource=tt(k9,br),this.buildEventUiBases=tt(N9),this.parseContextBusinessHours=eg(O9),this.buildTitle=tt(S9),this.emitter=new jp,this.actionRunner=new A9(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=_=>{this.actionRunner.request(_)},this.props=e,this.actionRunner.pause();let t={},i=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,a=this.computeCurrentViewData(r,i,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let l=T5(i.calendarOptions,i.dateEnv),u=a.dateProfileGenerator.build(l);ua(u.activeRange,l)||(l=u.currentRange.start);let h={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let _ of i.pluginHooks.contextInit)_(h);let f=G3(i.calendarOptions,u,h),p={dynamicOptionOverrides:t,currentViewType:r,currentDate:l,dateProfile:u,businessHours:this.parseContextBusinessHours(h),eventSources:f,eventUiBases:{},eventStore:Pi(),renderableEventStore:Pi(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(h).selectionConfig},v=Object.assign(Object.assign({},h),p);for(let _ of i.pluginHooks.reducers)Object.assign(p,_(null,null,v));Tv(p,h)&&this.emitter.trigger("loading",!0),this.state=p,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:i}=this;t===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:i,emitter:r}=this,a=q3(i.dynamicOptionOverrides,e),l=this.computeOptionsData(t.optionOverrides,a,t.calendarApi),u=F3(i.currentViewType,e),h=this.computeCurrentViewData(u,l,t.optionOverrides,a);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(h.options);let f={dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:p,dateProfile:v}=i;this.data&&this.data.dateProfileGenerator!==h.dateProfileGenerator&&(v=h.dateProfileGenerator.build(p)),p=S5(p,e),v=W3(v,e,p,h.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!ua(v.currentRange,p))&&(p=v.currentRange.start);let _=$3(i.eventSources,e,v,f),b=U5(i.eventStore,e,_,v,f),R=pk(_)&&!h.options.progressiveEventRendering&&i.renderableEventStore||b,{eventUiSingleBase:T,selectionConfig:C}=this.buildViewUiProps(f),P=this.buildEventUiBySource(_),B=this.buildEventUiBases(R.defs,T,P),G={dynamicOptionOverrides:a,currentViewType:u,currentDate:p,dateProfile:v,eventSources:_,eventStore:b,renderableEventStore:R,selectionConfig:C,eventUiBases:B,businessHours:this.parseContextBusinessHours(f),dateSelection:e9(i.dateSelection,e),eventSelection:t9(i.eventSelection,e),eventDrag:n9(i.eventDrag,e),eventResize:i9(i.eventResize,e)},X=Object.assign(Object.assign({},f),G);for(let I of l.pluginHooks.reducers)Object.assign(G,I(i,e,X));let ne=Tv(i,f),O=Tv(G,f);!ne&&O?r.trigger("loading",!0):ne&&!O&&r.trigger("loading",!1),this.state=G,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,i=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),l=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,a.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),a),t),u=r.pluginHooks.optionChangeHandlers,h=i&&i.calendarOptions,f=r.calendarOptions;if(h&&h!==f){h.timeZone!==f.timeZone&&(t.eventSources=l.eventSources=Y3(l.eventSources,t.dateProfile,l),t.eventStore=l.eventStore=ux(l.eventStore,i.dateEnv,l.dateEnv),t.renderableEventStore=l.renderableEventStore=ux(l.renderableEventStore,i.dateEnv,l.dateEnv));for(let p in u)(this.optionsForHandling.indexOf(p)!==-1||h[p]!==f[p])&&u[p](f[p],l)}this.optionsForHandling=[],e.onData&&e.onData(l)}computeOptionsData(e,t,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:a,localeDefaults:l,availableLocaleData:u,extra:h}=this.processRawCalendarOptions(e,t);Tx(h);let f=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,a,u,r.defaultRangeSeparator),p=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,l),v=this.buildTheme(r,a),_=this.parseToolbars(r,this.stableOptionOverrides,v,p,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:a,dateEnv:f,viewSpecs:p,theme:v,toolbarConfig:_,localeDefaults:l,availableRawLocales:u.map}}processRawCalendarOptions(e,t){let{locales:i,locale:r}=yv([Ju,e,t]),a=this.organizeRawLocales(i),l=a.map,u=this.buildLocale(r||a.defaultCode,l).options,h=this.buildPluginHooks(e.plugins||[],w9),f=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ix),rx),sx),h.listenerRefiners),h.optionRefiners),p={},v=yv([Ju,u,e,t]),_={},b=this.currentCalendarOptionsInput,S=this.currentCalendarOptionsRefined,R=!1;for(let T in v)this.optionsForRefining.indexOf(T)===-1&&(v[T]===b[T]||co[T]&&T in b&&co[T](b[T],v[T]))?_[T]=S[T]:f[T]?(_[T]=f[T](v[T]),R=!0):p[T]=b[T];return R&&(this.currentCalendarOptionsInput=v,this.currentCalendarOptionsRefined=_,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:h,availableLocaleData:a,localeDefaults:u,extra:p}}_computeCurrentViewData(e,t,i,r){let a=t.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:l,extra:u}=this.processRawViewOptions(a,t.pluginHooks,t.localeDefaults,i,r);Tx(u);let h=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,nowInput:l.now,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,fixedWeekCount:l.fixedWeekCount}),f=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:a,options:l,dateProfileGenerator:h,viewApi:f}}processRawViewOptions(e,t,i,r,a){let l=yv([Ju,e.optionDefaults,i,r,e.optionOverrides,a]),u=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ix),rx),sx),t5),t.listenerRefiners),t.optionRefiners),h={},f=this.currentViewOptionsInput,p=this.currentViewOptionsRefined,v=!1,_={};for(let b in l)l[b]===f[b]||co[b]&&co[b](l[b],f[b])?h[b]=p[b]:(l[b]===this.currentCalendarOptionsInput[b]||co[b]&&co[b](l[b],this.currentCalendarOptionsInput[b])?b in this.currentCalendarOptionsRefined&&(h[b]=this.currentCalendarOptionsRefined[b]):u[b]?h[b]=u[b](l[b]):_[b]=l[b],v=!0);return v&&(this.currentViewOptionsInput=l,this.currentViewOptionsRefined=h),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:_}}}function R9(n,e,t,i,r,a,l,u){let h=fk(e||l.defaultCode,l.map);return new h5({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:h,weekNumberCalculation:t,firstDay:i,weekText:r,cmdFormatter:a.cmdFormatter,defaultSeparator:u})}function C9(n,e){let t=e.themeClasses[n.themeSystem]||xa;return new t(n)}function D9(n){let e=n.dateProfileGeneratorClass||P1;return new e(n)}function I9(n,e,t){return new a9(n,e,t)}function k9(n){return Uo(n,e=>e.ui)}function N9(n,e,t){let i={"":e};for(let r in n){let a=n[r];a.sourceId&&t[a.sourceId]&&(i[r]=t[a.sourceId])}return i}function M9(n){let{options:e}=n;return{eventUiSingleBase:Hg({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:Hg({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function Tv(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function O9(n){return Y5(n.options.businessHours,n)}function Tx(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class P9 extends Tt{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return J("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:i}=this.context,r=[],a=!0;for(let l of e){let{buttonName:u,buttonClick:h,buttonText:f,buttonIcon:p,buttonHint:v}=l;if(u==="title")a=!1,r.push(J("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let _=u===t.activeButton,b=!t.isTodayEnabled&&u==="today"||!t.isPrevEnabled&&u==="prev"||!t.isNextEnabled&&u==="next",S=[`fc-${u}-button`,i.getClass("button")];_&&S.push(i.getClass("buttonActive")),r.push(J("button",{type:"button",title:typeof v=="function"?v(t.navUnit):v,disabled:b,"aria-pressed":_,className:S.join(" "),onClick:h},f||(p?J("span",{className:p,role:"img"}):"")))}}if(r.length>1){let l=a&&i.getClass("buttonGroup")||"";return J("div",{className:l},...r)}return r[0]}}class xx extends Tt{render(){let{model:e,extraClassName:t}=this.props,i=!1,r,a,l=e.sectionWidgets,u=l.center;return l.left?(i=!0,r=l.left):r=l.start,l.right?(i=!0,a=l.right):a=l.end,J("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",u||[]),this.renderSection("end",a||[]))}renderSection(e,t){let{props:i}=this;return J(P9,{key:e,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class j9 extends Tt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,us(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:i}=e,r=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",l="";return i?t.availableWidth!==null?a=t.availableWidth/i:l=`${1/i*100}%`:a=e.height||"",J("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:a,paddingBottom:l}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class L9 extends pc{constructor(e){super(e),this.handleSegClick=(t,i)=>{let{component:r}=this,{context:a}=r,l=ic(i);if(l&&r.isValidSegDownEl(t.target)){let u=xn(t.target,".fc-event-forced-url"),h=u?u.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:i,event:new vt(r.context,l.eventRange.def,l.eventRange.instance),jsEvent:t,view:a.viewApi}),h&&!t.defaultPrevented&&(window.location.href=h)}},this.destroy=A1(e.el,"click",".fc-event",this.handleSegClick)}}class V9 extends pc{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{ic(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=l6(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,i){let{component:r}=this,{context:a}=r,l=ic(i);(!t||r.isValidSegDownEl(t.target))&&a.emitter.trigger(e,{el:i,event:new vt(a,l.eventRange.def,l.eventRange.instance),jsEvent:t,view:a.viewApi})}}class U9 extends Bo{constructor(){super(...arguments),this.buildViewContext=tt(g5),this.buildViewPropTransformers=tt(B9),this.buildToolbarProps=tt(z9),this.headerRef=cs(),this.footerRef=cs(),this.interactionsStore={},this.state={viewLabelId:Np()},this.registerInteractiveComponent=(e,t)=>{let i=yF(e,t),l=[L9,V9].concat(this.props.pluginHooks.componentInteractions).map(u=>new u(i));this.interactionsStore[e.uid]=l,b_[e.uid]=i},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[e.uid]}delete b_[e.uid]},this.resizeRunner=new Ub(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:i}=e,r=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Uh(e.options.now,e.dateEnv),e.viewTitle),a=!1,l="",u;e.isHeightAuto||e.forPrint?l="":i.height!=null?a=!0:i.contentHeight!=null?l=i.contentHeight:u=Math.max(i.aspectRatio,.5);let h=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),f=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return J(zo.Provider,{value:h},t.header&&J(xx,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:f},r)),J(j9,{liquid:a,height:l,aspectRatio:u,labeledById:f},this.renderView(e),this.buildAppendContent()),t.footer&&J(xx,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},r)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let i in t)t[i](e[i],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let r in i)t[r]!==e[r]&&i[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(i=>i(e));return J(Mt,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:i}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(t.viewPropsTransformers);for(let u of a)Object.assign(r,u.transform(r,e));let l=i.component;return J(l,Object.assign({},r))}}function z9(n,e,t,i,r,a){let l=t.build(r,void 0,!1),u=t.buildPrev(e,i,!1),h=t.buildNext(e,i,!1);return{title:a,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:l.isValid&&!ua(e.currentRange,r),isPrevEnabled:u.isValid,isNextEnabled:h.isValid}}function B9(n){return n.map(e=>new e)}class H9 extends vF{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;zg(()=>{vh(J(mF,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,a,l,u)=>(this.setClassNames(r),this.setHeight(a),J(k1.Provider,{value:this.customContentRenderId},J(U9,Object.assign({isHeightAuto:l,forPrint:u},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,vh(null,this.el),this.setClassNames([]),this.setHeight(""))},JH(e),this.el=e,this.renderRunner=new Ub(this.handleRenderRequest),new x9({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){zg(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!_a(e,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of e)t.add(i);this.currentClassNames=e}}setHeight(e){E1(this.el,"height",e)}}const F9=parseInt(String(Ai.version).split(".")[0]),q9=F9<18;class bk extends z.Component{constructor(){super(...arguments),this.elRef=z.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(Ai.createElement(W9,{key:t.id,customRendering:t}));return Ai.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new C3;this.handleCustomRendering=e.handle.bind(e),this.calendar=new H9(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Lv.flushSync(()=>{})});let t;e.subscribe(i=>{const r=Date.now(),a=!t;(q9||a||this.isUpdating||this.isUnmounting||r-t<100?Ek:Lv.flushSync)(()=>{this.setState({customRenderingMap:i},()=>{t=r,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}bk.act=Ek;class W9 extends z.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,i=typeof t=="function"?t(e.renderProps):t;return Lv.createPortal(i,e.containerEl)}}function Ek(n){n()}class G9 extends Ho{constructor(){super(...arguments),this.headerElRef=cs()}renderSimpleLayout(e,t){let{props:i,context:r}=this,a=[],l=vx(r.options);return e&&a.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),J(ax,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},J(lk,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,t,i,r){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:l,context:u}=this,h=!l.forPrint&&vx(u.options),f=!l.forPrint&&l3(u.options),p=[];return e&&p.push({type:"header",key:"header",isSticky:h,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),p.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),f&&p.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:o3}]}),J(ax,{elClasses:["fc-daygrid"],viewSpec:u.viewSpec},J(a,{liquid:!l.isHeightAuto&&!l.forPrint,forPrint:l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:p}))}}function Sf(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function Tf(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function Rx(n,e){let t=[];if(n){for(let i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}const wk=sn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Ak(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class Sk extends Tt{render(){let{props:e}=this;return J(u3,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:wk,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class Tk extends Tt{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,a=i.eventTimeFormat||wk,l=G1(r,a,t,!0,e.defaultDisplayEventEnd);return J(l0,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:$1(e.seg,t),defaultGenerator:$9,timeText:l,isResizing:!1,isDateSelecting:!1}))}}function $9(n){return J(Mt,null,J("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&J("div",{className:"fc-event-time"},n.timeText),J("div",{className:"fc-event-title"},n.event.title||J(Mt,null," ")))}class Y9 extends Tt{constructor(){super(...arguments),this.compileSegs=tt(Q9)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return J(E3,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return J(Mt,null,t.map(a=>{let l=a.eventRange.instance.instanceId;return J("div",{className:"fc-daygrid-event-harness",key:l,style:{visibility:r[l]?"hidden":""}},Ak(a)?J(Tk,Object.assign({seg:a,isDragging:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},eh(a,e.todayRange))):J(Sk,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},eh(a,e.todayRange))))}))}})}}function Q9(n){let e=[],t=[];for(let i of n)e.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:e,invisibleSegs:t}}const K9=sn({week:"narrow"});class X9 extends Ho{constructor(){super(...arguments),this.rootElRef=cs(),this.state={dayNumberId:Np()},this.handleRootEl=e=>{us(this.rootElRef,e),us(this.props.elRef,e)}}render(){let{context:e,props:t,state:i,rootElRef:r}=this,{options:a,dateEnv:l}=e,{date:u,dateProfile:h}=t;const f=t.showDayNumber&&J9(u,h.currentRange,l);return J(ck,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Z9,date:u,dateProfile:h,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:f,extraRenderProps:t.extraRenderProps},(p,v)=>J("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&J(y3,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:E_(e,u,"week"),date:u,defaultFormat:K9}),!v.isDisabled&&(t.showDayNumber||uk(a)||t.forceDayTop)?J("div",{className:"fc-daygrid-day-top"},J(p,{elTag:"a",elClasses:["fc-daygrid-day-number",f&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},E_(e,u)),{id:i.dayNumberId})})):t.showDayNumber?J("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},J("a",{className:"fc-daygrid-day-number"}," ")):void 0,J("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,J("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},J(Y9,{allDayDate:u,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),J("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function Z9(n){return n.dayNumberText||J(Mt,null," ")}function J9(n,e,t){const{start:i,end:r}=e,a=ba(r,-1),l=t.getYear(i),u=t.getMonth(i),h=t.getYear(a),f=t.getMonth(a);return!(l===h&&u===f)&&(n.valueOf()===i.valueOf()||t.getDay(n)===1&&n.valueOf()<r.valueOf())}function xk(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function Rk(n){return xk(n)+":"+n.lastCol}function e7(n,e,t,i,r,a,l){let u=new i7(C=>{let P=n[C.index].eventRange.instance.instanceId+":"+C.span.start+":"+(C.span.end-1);return r[P]||1});u.allowReslicing=!0,u.strictOrder=i,e===!0||t===!0?(u.maxCoord=a,u.hiddenConsumes=!0):typeof e=="number"?u.maxStackCnt=e:typeof t=="number"&&(u.maxStackCnt=t,u.hiddenConsumes=!0);let h=[],f=[];for(let C=0;C<n.length;C+=1){let P=n[C],B=Rk(P);r[B]!=null?h.push({index:C,span:{start:P.firstCol,end:P.lastCol+1}}):f.push(P)}let p=u.addSegs(h),v=u.toRects(),{singleColPlacements:_,multiColPlacements:b,leftoverMargins:S}=t7(v,n,l),R=[],T=[];for(let C of f){b[C.firstCol].push({seg:C,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let P=C.firstCol;P<=C.lastCol;P+=1)_[P].push({seg:Wl(C,P,P+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let C=0;C<l.length;C+=1)R.push(0);for(let C of p){let P=n[C.index],B=C.span;b[B.start].push({seg:Wl(P,B.start,B.end,l),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let G=B.start;G<B.end;G+=1)R[G]+=1,_[G].push({seg:Wl(P,G,G+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let C=0;C<l.length;C+=1)T.push(S[C]);return{singleColPlacements:_,multiColPlacements:b,moreCnts:R,moreMarginTops:T}}function t7(n,e,t){let i=n7(n,t.length),r=[],a=[],l=[];for(let u=0;u<t.length;u+=1){let h=i[u],f=[],p=0,v=0;for(let b of h){let S=e[b.index];f.push({seg:Wl(S,u,u+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:b.levelCoord,marginTop:b.levelCoord-p}),p=b.levelCoord+b.thickness}let _=[];p=0,v=0;for(let b of h){let S=e[b.index],R=b.span.end-b.span.start>1,T=b.span.start===u;v+=b.levelCoord-p,p=b.levelCoord+b.thickness,R?(v+=b.thickness,T&&_.push({seg:Wl(S,b.span.start,b.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:b.levelCoord,marginTop:0})):T&&(_.push({seg:Wl(S,b.span.start,b.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:b.levelCoord,marginTop:v}),v=0)}r.push(f),a.push(_),l.push(v)}return{singleColPlacements:r,multiColPlacements:a,leftoverMargins:l}}function n7(n,e){let t=[];for(let i=0;i<e;i+=1)t.push([]);for(let i of n)for(let r=i.span.start;r<i.span.end;r+=1)t[r].push(i);return t}function Wl(n,e,t,i){if(n.firstCol===e&&n.lastCol===t-1)return n;let r=n.eventRange,a=r.range,l=nc(a,{start:i[e].date,end:Rn(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:l},isStart:n.isStart&&l.start.valueOf()===a.start.valueOf(),isEnd:n.isEnd&&l.end.valueOf()===a.end.valueOf()})}class i7 extends OF{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:i}=this,r=a=>!this.forceHidden[th(a)];for(let a=0;a<i.length;a+=1)i[a]=i[a].filter(r);return t}handleInvalidInsertion(e,t,i){const{entriesByLevel:r,forceHidden:a}=this,{touchingEntry:l,touchingLevel:u,touchingLateral:h}=e;if(this.hiddenConsumes&&l){const f=th(l);if(!a[f])if(this.allowReslicing){const p=Object.assign(Object.assign({},l),{span:tk(l.span,t.span)}),v=th(p);a[v]=!0,r[u][h]=p,i.push(p),this.splitEntry(l,t,i)}else a[f]=!0,i.push(l)}super.handleInvalidInsertion(e,t,i)}}class Ck extends Ho{constructor(){super(...arguments),this.cellElRefs=new yo,this.frameElRefs=new yo,this.fgElRefs=new yo,this.segHarnessRefs=new yo,this.rootElRef=cs(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:i}=this,{options:r}=i,a=e.cells.length,l=Tf(e.businessHourSegs,a),u=Tf(e.bgEventSegs,a),h=Tf(this.getHighlightSegs(),a),f=Tf(this.getMirrorSegs(),a),{singleColPlacements:p,multiColPlacements:v,moreCnts:_,moreMarginTops:b}=e7(J5(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),S=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return J("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((R,T)=>{let C=this.renderFgSegs(T,e.forPrint?p[T]:v[T],e.todayRange,S),P=this.renderFgSegs(T,r7(f[T],v),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return J(X9,{key:R.key,elRef:this.cellElRefs.createRef(R.key),innerElRef:this.frameElRefs.createRef(R.key),dateProfile:e.dateProfile,date:R.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&T===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:R.extraRenderProps,extraDataAttrs:R.extraDataAttrs,extraClassNames:R.extraClassNames,extraDateSpan:R.extraDateSpan,moreCnt:_[T],moreMarginTop:b[T],singlePlacements:p[T],fgContentElRef:this.fgElRefs.createRef(R.key),fgContent:J(Mt,null,J(Mt,null,C),J(Mt,null,P)),bgContent:J(Mt,null,this.renderFillSegs(h[T],"highlight"),this.renderFillSegs(l[T],"non-business"),this.renderFillSegs(u[T],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let i=this.props;this.updateSizing(!br(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,i,r,a,l,u){let{context:h}=this,{eventSelection:f}=this.props,{framePositions:p}=this.state,v=this.props.cells.length===1,_=a||l||u,b=[];if(p)for(let S of t){let{seg:R}=S,{instanceId:T}=R.eventRange.instance,C=S.isVisible&&!r[T],P=S.isAbsolute,B="",G="";P&&(h.isRtl?(G=0,B=p.lefts[R.lastCol]-p.lefts[R.firstCol]):(B=0,G=p.rights[R.firstCol]-p.rights[R.lastCol])),b.push(J("div",{className:"fc-daygrid-event-harness"+(P?" fc-daygrid-event-harness-abs":""),key:xk(R),ref:_?null:this.segHarnessRefs.createRef(Rk(R)),style:{visibility:C?"":"hidden",marginTop:P?"":S.marginTop,top:P?S.absoluteTop:"",left:B,right:G}},Ak(R)?J(Tk,Object.assign({seg:R,isDragging:a,isSelected:T===f,defaultDisplayEventEnd:v},eh(R,i))):J(Sk,Object.assign({seg:R,isDragging:a,isResizing:l,isDateSelecting:u,isSelected:T===f,defaultDisplayEventEnd:v},eh(R,i)))))}return b}renderFillSegs(e,t){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:a}=this.state,l=[];if(a)for(let u of e){let h=i?{right:0,left:a.lefts[u.lastCol]-a.lefts[u.firstCol]}:{left:0,right:a.rights[u.firstCol]-a.rights[u.lastCol]};l.push(J("div",{key:sF(u.eventRange),className:"fc-daygrid-bg-harness",style:h},t==="bg-event"?J(g3,Object.assign({seg:u},eh(u,r))):m3(t)))}return J(Mt,{},...l)}updateSizing(e){let{props:t,state:i,frameElRefs:r}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let h=t.cells.map(f=>r.currentMap[f.key]);if(h.length){let f=this.rootElRef.current,p=new qg(f,h,!0,!1);(!i.framePositions||!i.framePositions.similarTo(p))&&this.setState({framePositions:new qg(f,h,!0,!1)})}}const a=this.state.segHeights,l=this.querySegHeights(),u=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),l),maxContentHeight:u?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let i in e){let r=Math.round(e[i].getBoundingClientRect().height);t[i]=Math.max(t[i]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}Ck.addStateEquality({segHeights:br});function r7(n,e){if(!n.length)return[];let t=s7(e);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}function s7(n){let e={};for(let t of n)for(let i of t)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}class a7 extends Ho{constructor(){super(...arguments),this.splitBusinessHourSegs=tt(Sf),this.splitBgEventSegs=tt(Sf),this.splitFgEventSegs=tt(Sf),this.splitDateSelectionSegs=tt(Sf),this.splitEventDrag=tt(Rx),this.splitEventResize=tt(Rx),this.rowRefs=new yo}render(){let{props:e,context:t}=this,i=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,i),a=this.splitBgEventSegs(e.bgEventSegs,i),l=this.splitFgEventSegs(e.fgEventSegs,i),u=this.splitDateSelectionSegs(e.dateSelectionSegs,i),h=this.splitEventDrag(e.eventDrag,i),f=this.splitEventResize(e.eventResize,i),p=i>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return J(o0,{unit:"day"},(v,_)=>J(Mt,null,e.cells.map((b,S)=>J(Ck,{ref:this.rowRefs.createRef(S),key:b.length?b[0].date.toISOString():S,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:_,dateProfile:e.dateProfile,cells:b,renderIntro:e.renderRowIntro,businessHourSegs:r[S],eventSelection:e.eventSelection,bgEventSegs:a[S].filter(o7),fgEventSegs:l[S],dateSelectionSegs:u[S],eventDrag:h[S],eventResize:f[S],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:p,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new qg(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new qg(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:i,rowPositions:r}=this,a=i.leftToIndex(e),l=r.topToIndex(t);if(l!=null&&a!=null){let u=this.props.cells[l][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(l,a),allDay:!0},u.extraDateSpan),dayEl:this.getCellEl(l,a),rect:{left:i.lefts[a],right:i.rights[a],top:r.tops[l],bottom:r.bottoms[l]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let i=this.props.cells[e][t].date,r=Rn(i,1);return{start:i,end:r}}}function o7(n){return n.eventRange.def.allDay}class l7 extends Ho{constructor(){super(...arguments),this.elRef=cs(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:r}=e,a=i===!0||t===!0;a&&!r&&(a=!1,t=null,i=null);let l=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return J("div",{ref:this.elRef,className:l.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},J("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,J("tbody",{role:"presentation"},J(a7,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=c7(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}function c7(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${U6(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${Fb(e.currentDate)}"]`)),t}class u7 extends qF{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class h7 extends Ho{constructor(){super(...arguments),this.slicer=new u7,this.tableRef=cs()}render(){let{props:e,context:t}=this;return J(l7,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class d7 extends G9{constructor(){super(...arguments),this.buildDayTableModel=tt(f7),this.headerRef=cs(),this.tableRef=cs()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,t),a=e.dayHeaders&&J(zF,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),l=u=>J(h7,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:u.tableColGroupNode,tableMinWidth:u.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:u.clientWidth,clientHeight:u.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,l,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,l)}}function f7(n,e){let t=new HF(n.renderRange,e);return new FF(t,/year|month|week/.test(n.currentRangeUnit))}class g7 extends P1{buildRenderRange(e,t,i){let r=super.buildRenderRange(e,t,i),{props:a}=this;return p7({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function p7(n){let{dateEnv:e,currentRange:t}=n,{start:i,end:r}=t,a;if(n.snapToWeek&&(i=e.startOfWeek(i),a=e.startOfWeek(r),a.valueOf()!==r.valueOf()&&(r=XT(a,1))),n.fixedWeekCount){let l=e.startOfWeek(e.startOfMonth(Rn(t.end,-1))),u=Math.ceil(R6(l,r));r=XT(r,6-u)}return{start:i,end:r}}var m7=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';v1(m7);var y7=Ta({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:d7,dateProfileGeneratorClass:g7},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});a0.touchMouseIgnoreWait=500;let A_=0,Wg=0,S_=!1;class Dk{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&v7(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,_7()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new jp,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),b7()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),E7()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||xn(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){S_=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?xn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return A_||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(S_=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}}createEventFromTouch(e,t){let i=e.touches,r,a,l=0,u=0;return i&&i.length?(r=i[0].pageX,a=i[0].pageY):(r=e.pageX,a=e.pageY),t?(this.origPageX=r,this.origPageY=a):(l=r-this.origPageX,u=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:a,deltaX:l,deltaY:u}}}function v7(n){return n.button===0&&!n.ctrlKey}function _7(){A_+=1,setTimeout(()=>{A_-=1},a0.touchMouseIgnoreWait)}function b7(){Wg+=1,Wg===1&&window.addEventListener("touchmove",Ik,{passive:!1})}function E7(){Wg-=1,Wg||window.removeEventListener("touchmove",Ik,{passive:!1})}function Ik(n){S_&&n.preventDefault()}class w7{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",Xu(i,{left:r.left,top:r.top}),c6(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(zb(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Xu(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),Xu(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class kk extends s0{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Nk extends kk{constructor(e,t){super(new NF(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return IF(this.scrollController.el)}}class A7 extends kk{constructor(e){super(new MF,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Cx=typeof performance=="function"?performance.now:Date.now;class S7{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=Cx();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,r=t-window.scrollY,a=this.pointerScreenY===null?0:r-this.pointerScreenY,l=this.pointerScreenX===null?0:i-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),l<0?this.everMovedLeft=!0:l>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Cx()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:r}=this,a=r-e.distance,l=a*a/(r*r)*this.maxVelocity*t,u=1;switch(e.name){case"left":u=-1;case"right":i.setScrollLeft(i.getScrollLeft()+l*u);break;case"top":u=-1;case"bottom":i.setScrollTop(i.getScrollTop()+l*u);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,r=null,a=this.scrollCaches||[];for(let l of a){let u=l.clientRect,h=e-u.left,f=u.right-e,p=t-u.top,v=u.bottom-t;h>=0&&f>=0&&p>=0&&v>=0&&(p<=i&&this.everMovedUp&&l.canScrollUp()&&(!r||r.distance>p)&&(r={scrollCache:l,name:"top",distance:p}),v<=i&&this.everMovedDown&&l.canScrollDown()&&(!r||r.distance>v)&&(r={scrollCache:l,name:"bottom",distance:v}),h<=i&&this.everMovedLeft&&l.canScrollLeft()&&(!r||r.distance>h)&&(r={scrollCache:l,name:"left",distance:h}),f<=i&&this.everMovedRight&&l.canScrollRight()&&(!r||r.distance>f)&&(r={scrollCache:l,name:"right",distance:f}))}return r}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new A7(!1):new Nk(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}}class zh extends PF{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,u6(document.body),d6(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let a=this.minDistance,l,{deltaX:u,deltaY:h}=r;l=u*u+h*h,l>=a*a&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,h6(document.body),f6(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new Dk(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new w7,this.autoScroller=new S7}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class T7{constructor(e){this.el=e,this.origRect=r0(e),this.scrollCaches=ek(e).map(t=>new Nk(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let r of this.scrollCaches)if(!x7(r.getEventTarget())&&!_F(i,r.clientRect))return!1;return!0}}function x7(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class Lp{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new jp}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,r=e.subjectEl,a;r instanceof HTMLElement&&(a=r0(r),i=bF(i,a));let l=this.initialHit=this.queryHitForOffset(i.left,i.top);if(l){if(this.useSubjectCenter&&a){let u=X1(a,l.rect);u&&(i=EF(u))}this.coordAdjust=wF(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Vp(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=Uo(this.droppableStore,e=>(e.component.prepareHits(),new T7(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:r}=this,a=null;for(let l in i){let u=i[l].component,h=r[l];if(h&&h.isWithinClipping(e,t)){let f=h.computeLeft(),p=h.computeTop(),v=e-f,_=t-p,{origRect:b}=h,S=b.right-b.left,R=b.bottom-b.top;if(v>=0&&v<S&&_>=0&&_<R){let T=u.queryHit(v,_,S,R);T&&Op(T.dateProfile.activeRange,T.dateSpan.range)&&(this.disablePointCheck||h.el.contains(h.el.getRootNode().elementFromPoint(v+f-window.scrollX,_+p-window.scrollY)))&&(!a||T.layer>a.layer)&&(T.componentId=l,T.context=u.context,T.rect.left+=f,T.rect.right+=f,T.rect.top+=p,T.rect.bottom+=p,a=T)}}}return a}}function Vp(n,e){return!n&&!e?!0:!!n!=!!e?!1:cF(n.dateSpan,e.dateSpan)}function Mk(n,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(n,e));return Object.assign(t,R7(n,e.dateEnv)),t}function R7(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class C7 extends pc{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:r}=this,a=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:l,finalHit:u}=this.hitDragging;if(l&&u&&Vp(l,u)){let{context:h}=r,f=Object.assign(Object.assign({},Mk(l.dateSpan,h)),{dayEl:l.dayEl,jsEvent:i.origEvent,view:h.viewApi||h.calendarApi.view});h.emitter.trigger("dateClick",f)}}},this.dragging=new zh(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Lp(this.dragging,n0(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class D7 extends pc{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=l=>{let{component:u,dragging:h}=this,{options:f}=u.context,p=f.selectable&&u.isValidDateDownEl(l.origEvent.target);h.setIgnoreMove(!p),h.delay=l.isTouch?I7(u):null},this.handleDragStart=l=>{this.component.context.calendarApi.unselect(l)},this.handleHitUpdate=(l,u)=>{let{context:h}=this.component,f=null,p=!1;if(l){let v=this.hitDragging.initialHit;l.componentId===v.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(v,l)||(f=k7(v,l,h.pluginHooks.dateSelectionTransformers)),(!f||!WF(f,l.dateProfile,h))&&(p=!0,f=null)}f?h.dispatch({type:"SELECT_DATES",selection:f}):u||h.dispatch({type:"UNSELECT_DATES"}),p?Bb():Hb(),u||(this.dragSelection=f)},this.handlePointerUp=l=>{this.dragSelection&&(F1(this.dragSelection,l,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,r=this.dragging=new zh(e.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let a=this.hitDragging=new Lp(this.dragging,n0(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function I7(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function k7(n,e,t){let i=n.dateSpan,r=e.dateSpan,a=[i.range.start,i.range.end,r.range.start,r.range.end];a.sort(v6);let l={};for(let u of t){let h=u(n,e);if(h===!1)return null;h&&Object.assign(l,h)}return l.range={start:a[0],end:a[3]},l.allDay=i.allDay,l}class Bh extends pc{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let u=l.origEvent.target,{component:h,dragging:f}=this,{mirror:p}=f,{options:v}=h.context,_=h.context;this.subjectEl=l.subjectEl;let b=this.subjectSeg=ic(l.subjectEl),R=(this.eventRange=b.eventRange).instance.instanceId;this.relevantEvents=Zb(_.getCurrentData().eventStore,R),f.minDistance=l.isTouch?0:v.eventDragMinDistance,f.delay=l.isTouch&&R!==h.props.eventSelection?M7(h):null,v.fixedMirrorParent?p.parentNode=v.fixedMirrorParent:p.parentNode=xn(u,".fc"),p.revertDuration=v.dragRevertDuration;let T=h.isValidSegDownEl(u)&&!xn(u,".fc-event-resizer");f.setIgnoreMove(!T),this.isDragging=T&&l.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=l=>{let u=this.component.context,h=this.eventRange,f=h.instance.instanceId;l.isTouch?f!==this.component.props.eventSelection&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:f}):u.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(u.calendarApi.unselect(l),u.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new vt(u,h.def,h.instance),jsEvent:l.origEvent,view:u.viewApi}))},this.handleHitUpdate=(l,u)=>{if(!this.isDragging)return;let h=this.relevantEvents,f=this.hitDragging.initialHit,p=this.component.context,v=null,_=null,b=null,S=!1,R={affectedEvents:h,mutatedEvents:Pi(),isEvent:!0};if(l){v=l.context;let T=v.options;p===v||T.editable&&T.droppable?(_=N7(f,l,this.eventRange.instance.range.start,v.getCurrentData().pluginHooks.eventDragMutationMassagers),_&&(b=t0(h,v.getCurrentData().eventUiBases,_,v),R.mutatedEvents=b,rk(R,l.dateProfile,v)||(S=!0,_=null,b=null,R.mutatedEvents=Pi()))):v=null}this.displayDrag(v,R),S?Bb():Hb(),u||(p===v&&Vp(f,l)&&(_=null),this.dragging.setMirrorNeedsRevert(!_),this.dragging.setMirrorIsVisible(!l||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=v,this.validMutation=_,this.mutatedRelevantEvents=b)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=l=>{if(this.isDragging){let u=this.component.context,h=u.viewApi,{receivingContext:f,validMutation:p}=this,v=this.eventRange.def,_=this.eventRange.instance,b=new vt(u,v,_),S=this.relevantEvents,R=this.mutatedRelevantEvents,{finalHit:T}=this.hitDragging;if(this.clearDrag(),u.emitter.trigger("eventDragStop",{el:this.subjectEl,event:b,jsEvent:l.origEvent,view:h}),p){if(f===u){let C=new vt(u,R.defs[v.defId],_?R.instances[_.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:R});let P={oldEvent:b,event:C,relatedEvents:_o(R,u,_),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:S})}},B={};for(let G of u.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(B,G(p,u));u.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},P),B),{el:l.subjectEl,delta:p.datesDelta,jsEvent:l.origEvent,view:h})),u.emitter.trigger("eventChange",P)}else if(f){let C={event:b,relatedEvents:_o(S,u,_),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:S})}};u.emitter.trigger("eventLeave",Object.assign(Object.assign({},C),{draggedEl:l.subjectEl,view:h})),u.dispatch({type:"REMOVE_EVENTS",eventStore:S}),u.emitter.trigger("eventRemove",C);let P=R.defs[v.defId],B=R.instances[_.instanceId],G=new vt(f,P,B);f.dispatch({type:"MERGE_EVENTS",eventStore:R});let X={event:G,relatedEvents:_o(R,f,B),revert(){f.dispatch({type:"REMOVE_EVENTS",eventStore:R})}};f.emitter.trigger("eventAdd",X),l.isTouch&&f.dispatch({type:"SELECT_EVENT",eventInstanceId:_.instanceId}),f.emitter.trigger("drop",Object.assign(Object.assign({},Mk(T.dateSpan,f)),{draggedEl:l.subjectEl,jsEvent:l.origEvent,view:T.context.viewApi})),f.emitter.trigger("eventReceive",Object.assign(Object.assign({},X),{draggedEl:l.subjectEl,view:T.context.viewApi}))}}else u.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:i}=t.context,r=this.dragging=new zh(e.el);r.pointer.selector=Bh.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=i.dragScroll;let a=this.hitDragging=new Lp(this.dragging,b_);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let i=this.component.context,r=this.receivingContext;r&&r!==e&&(r===i?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Pi(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Bh.SELECTOR=".fc-event-draggable, .fc-event-resizable";function N7(n,e,t,i){let r=n.dateSpan,a=e.dateSpan,l=r.range.start,u=a.range.start,h={};r.allDay!==a.allDay&&(h.allDay=a.allDay,h.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?l=yt(t):l=t);let f=Ul(l,u,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);f.milliseconds&&(h.allDay=!1);let p={datesDelta:f,standardProps:h};for(let v of i)v(p,n,e);return p}function M7(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class O7 extends pc{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:l}=this,u=this.querySegEl(a),h=ic(u),f=this.eventRange=h.eventRange;this.dragging.minDistance=l.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==f.instance.instanceId)},this.handleDragStart=a=>{let{context:l}=this.component,u=this.eventRange;this.relevantEvents=Zb(l.getCurrentData().eventStore,this.eventRange.instance.instanceId);let h=this.querySegEl(a);this.draggingSegEl=h,this.draggingSeg=ic(h),l.calendarApi.unselect(),l.emitter.trigger("eventResizeStart",{el:h,event:new vt(l,u.def,u.instance),jsEvent:a.origEvent,view:l.viewApi})},this.handleHitUpdate=(a,l,u)=>{let{context:h}=this.component,f=this.relevantEvents,p=this.hitDragging.initialHit,v=this.eventRange.instance,_=null,b=null,S=!1,R={affectedEvents:f,mutatedEvents:Pi(),isEvent:!0};a&&(a.componentId===p.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(p,a)||(_=P7(p,a,u.subjectEl.classList.contains("fc-event-resizer-start"),v.range))),_&&(b=t0(f,h.getCurrentData().eventUiBases,_,h),R.mutatedEvents=b,rk(R,a.dateProfile,h)||(S=!0,_=null,b=null,R.mutatedEvents=null)),b?h.dispatch({type:"SET_EVENT_RESIZE",state:R}):h.dispatch({type:"UNSET_EVENT_RESIZE"}),S?Bb():Hb(),l||(_&&Vp(p,a)&&(_=null),this.validMutation=_,this.mutatedRelevantEvents=b)},this.handleDragEnd=a=>{let{context:l}=this.component,u=this.eventRange.def,h=this.eventRange.instance,f=new vt(l,u,h),p=this.relevantEvents,v=this.mutatedRelevantEvents;if(l.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:f,jsEvent:a.origEvent,view:l.viewApi}),this.validMutation){let _=new vt(l,v.defs[u.defId],h?v.instances[h.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:v});let b={oldEvent:f,event:_,relatedEvents:_o(v,l,h),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:p})}};l.emitter.trigger("eventResize",Object.assign(Object.assign({},b),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||et(0),endDelta:this.validMutation.endDelta||et(0),jsEvent:a.origEvent,view:l.viewApi})),l.emitter.trigger("eventChange",b)}else l.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new zh(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new Lp(this.dragging,n0(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return xn(e.subjectEl,".fc-event")}}function P7(n,e,t,i){let r=n.context.dateEnv,a=n.dateSpan.range.start,l=e.dateSpan.range.start,u=Ul(a,l,r,n.largeUnit);if(t){if(r.add(i.start,u)<i.end)return{startDelta:u}}else if(r.add(i.end,u)>i.start)return{endDelta:u};return null}class j7{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,a=w1(i.origEvent);this.matchesCancel=!!xn(a,r),this.matchesEvent=!!xn(a,Bh.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:a}=this,l=r.getCurrentData();if(!a.wasTouchScroll){if(l.dateSelection&&!this.isRecentPointerDateSelect){let u=r.options.unselectAuto;u&&(!u||!this.matchesCancel)&&r.calendarApi.unselect(i)}l.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new Dk(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const L7={fixedMirrorParent:K},V7={dateClick:K,eventDragStart:K,eventDragStop:K,eventDrop:K,eventResizeStart:K,eventResizeStop:K,eventResize:K,drop:K,eventReceive:K,eventLeave:K};a0.dataAttrPrefix="";var U7=Ta({name:"@fullcalendar/interaction",componentInteractions:[C7,D7,Bh,O7],calendarInteractions:[j7],elementDraggingImpl:zh,optionRefiners:L7,listenerRefiners:V7});const z7=({events:n,onDateClick:e})=>{const[t,i]=z.useState(window.innerWidth<768);z.useEffect(()=>{const a=()=>i(window.innerWidth<768);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const r=t?{left:"prev,next",center:"title",right:""}:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek"};return w.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-lg p-4",children:w.jsx(bk,{plugins:[y7,U7],initialView:"dayGridMonth",headerToolbar:r,events:n,dateClick:e,height:"auto"})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Hh(n){return n+.5|0}const ra=(n,e,t)=>Math.max(Math.min(n,t),e);function Uu(n){return ra(Hh(n*2.55),0,255)}function ha(n){return ra(Hh(n*255),0,255)}function Xr(n){return ra(Hh(n/2.55)/100,0,1)}function Dx(n){return ra(Hh(n*100),0,100)}const bi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},T_=[..."0123456789ABCDEF"],B7=n=>T_[n&15],H7=n=>T_[(n&240)>>4]+T_[n&15],xf=n=>(n&240)>>4===(n&15),F7=n=>xf(n.r)&&xf(n.g)&&xf(n.b)&&xf(n.a);function q7(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&bi[n[1]]*17,g:255&bi[n[2]]*17,b:255&bi[n[3]]*17,a:e===5?bi[n[4]]*17:255}:(e===7||e===9)&&(t={r:bi[n[1]]<<4|bi[n[2]],g:bi[n[3]]<<4|bi[n[4]],b:bi[n[5]]<<4|bi[n[6]],a:e===9?bi[n[7]]<<4|bi[n[8]]:255})),t}const W7=(n,e)=>n<255?e(n):"";function G7(n){var e=F7(n)?B7:H7;return n?"#"+e(n.r)+e(n.g)+e(n.b)+W7(n.a,e):void 0}const $7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ok(n,e,t){const i=e*Math.min(t,1-t),r=(a,l=(a+n/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function Y7(n,e,t){const i=(r,a=(r+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function Q7(n,e,t){const i=Ok(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function K7(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function u0(n){const t=n.r/255,i=n.g/255,r=n.b/255,a=Math.max(t,i,r),l=Math.min(t,i,r),u=(a+l)/2;let h,f,p;return a!==l&&(p=a-l,f=u>.5?p/(2-a-l):p/(a+l),h=K7(t,i,r,p,a),h=h*60+.5),[h|0,f||0,u]}function h0(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(ha)}function d0(n,e,t){return h0(Ok,n,e,t)}function X7(n,e,t){return h0(Q7,n,e,t)}function Z7(n,e,t){return h0(Y7,n,e,t)}function Pk(n){return(n%360+360)%360}function J7(n){const e=$7.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Uu(+e[5]):ha(+e[5]));const r=Pk(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=X7(r,a,l):e[1]==="hsv"?i=Z7(r,a,l):i=d0(r,a,l),{r:i[0],g:i[1],b:i[2],a:t}}function eq(n,e){var t=u0(n);t[0]=Pk(t[0]+e),t=d0(t),n.r=t[0],n.g=t[1],n.b=t[2]}function tq(n){if(!n)return;const e=u0(n),t=e[0],i=Dx(e[1]),r=Dx(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Xr(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const Ix={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},kx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function nq(){const n={},e=Object.keys(kx),t=Object.keys(Ix);let i,r,a,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],r=0;r<t.length;r++)a=t[r],u=u.replace(a,Ix[a]);a=parseInt(kx[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let Rf;function iq(n){Rf||(Rf=nq(),Rf.transparent=[0,0,0,0]);const e=Rf[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const rq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function sq(n){const e=rq.exec(n);let t=255,i,r,a;if(e){if(e[7]!==i){const l=+e[7];t=e[8]?Uu(l):ra(l*255,0,255)}return i=+e[1],r=+e[3],a=+e[5],i=255&(e[2]?Uu(i):ra(i,0,255)),r=255&(e[4]?Uu(r):ra(r,0,255)),a=255&(e[6]?Uu(a):ra(a,0,255)),{r:i,g:r,b:a,a:t}}}function aq(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Xr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const xv=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,kl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function oq(n,e,t){const i=kl(Xr(n.r)),r=kl(Xr(n.g)),a=kl(Xr(n.b));return{r:ha(xv(i+t*(kl(Xr(e.r))-i))),g:ha(xv(r+t*(kl(Xr(e.g))-r))),b:ha(xv(a+t*(kl(Xr(e.b))-a))),a:n.a+t*(e.a-n.a)}}function Cf(n,e,t){if(n){let i=u0(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=d0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function jk(n,e){return n&&Object.assign(e||{},n)}function Nx(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ha(n[3]))):(e=jk(n,{r:0,g:0,b:0,a:1}),e.a=ha(e.a)),e}function lq(n){return n.charAt(0)==="r"?sq(n):J7(n)}class Eh{constructor(e){if(e instanceof Eh)return e;const t=typeof e;let i;t==="object"?i=Nx(e):t==="string"&&(i=q7(e)||iq(e)||lq(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=jk(this._rgb);return e&&(e.a=Xr(e.a)),e}set rgb(e){this._rgb=Nx(e)}rgbString(){return this._valid?aq(this._rgb):void 0}hexString(){return this._valid?G7(this._rgb):void 0}hslString(){return this._valid?tq(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let a;const l=t===a?.5:t,u=2*l-1,h=i.a-r.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-f,i.r=255&f*i.r+a*r.r+.5,i.g=255&f*i.g+a*r.g+.5,i.b=255&f*i.b+a*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=oq(this._rgb,e._rgb,t)),this}clone(){return new Eh(this.rgb)}alpha(e){return this._rgb.a=ha(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Hh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Cf(this._rgb,2,e),this}darken(e){return Cf(this._rgb,2,-e),this}saturate(e){return Cf(this._rgb,1,e),this}desaturate(e){return Cf(this._rgb,1,-e),this}rotate(e){return eq(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Yr(){}const cq=(()=>{let n=0;return()=>n++})();function Cn(n){return n==null}function pn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ze(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function hs(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function cr(n,e){return hs(n)?n:e}function st(n,e){return typeof n>"u"?e:n}const uq=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Lk=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function gt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function rt(n,e,t,i){let r,a,l;if(pn(n))for(a=n.length,r=0;r<a;r++)e.call(t,n[r],r);else if(Ze(n))for(l=Object.keys(n),a=l.length,r=0;r<a;r++)e.call(t,n[l[r]],l[r])}function Gg(n,e){let t,i,r,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],a=e[t],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function $g(n){if(pn(n))return n.map($g);if(Ze(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=$g(n[t[r]]);return e}return n}function Vk(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function hq(n,e,t,i){if(!Vk(n))return;const r=e[n],a=t[n];Ze(r)&&Ze(a)?wh(r,a,i):e[n]=$g(a)}function wh(n,e,t){const i=pn(e)?e:[e],r=i.length;if(!Ze(n))return n;t=t||{};const a=t.merger||hq;let l;for(let u=0;u<r;++u){if(l=i[u],!Ze(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)a(h[f],n,l,t)}return n}function nh(n,e){return wh(n,e,{merger:dq})}function dq(n,e,t){if(!Vk(n))return;const i=e[n],r=t[n];Ze(i)&&Ze(r)?nh(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=$g(r))}const Mx={"":n=>n,x:n=>n.x,y:n=>n.y};function fq(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function gq(n){const e=fq(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Ah(n,e){return(Mx[e]||(Mx[e]=gq(e)))(n)}function f0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Yg=n=>typeof n<"u",Ea=n=>typeof n=="function",Ox=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function pq(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const an=Math.PI,zt=2*an,Qg=Number.POSITIVE_INFINITY,mq=an/180,$t=an/2,ro=an/4,Px=an*2/3,jx=Math.sign;function yq(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,a)=>r-a).pop(),e}function vq(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Kg(n){return!vq(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function vo(n){return n*(an/180)}function _q(n){return n*(180/an)}function Uk(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let a=Math.atan2(i,t);return a<-.5*an&&(a+=zt),{angle:a,distance:r}}function bq(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function so(n){return(n%zt+zt)%zt}function Xg(n,e,t,i){const r=so(n),a=so(e),l=so(t),u=so(a-r),h=so(l-r),f=so(r-a),p=so(r-l);return r===a||r===l||i&&a===l||u>h&&f<p}function wi(n,e,t){return Math.max(e,Math.min(t,n))}function Eq(n){return wi(n,-32768,32767)}function zu(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function g0(n,e,t){t=t||(l=>n[l]<e);let i=n.length-1,r=0,a;for(;i-r>1;)a=r+i>>1,t(a)?r=a:i=a;return{lo:r,hi:i}}const x_=(n,e,t,i)=>g0(n,t,i?r=>{const a=n[r][e];return a<t||a===t&&n[r+1][e]===t}:r=>n[r][e]<t),wq=(n,e,t)=>g0(n,t,i=>n[i][e]>=t);function Aq(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const zk=["push","pop","shift","splice","unshift"];function Sq(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),zk.forEach(t=>{const i="_onData"+f0(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=r.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function Lx(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(zk.forEach(a=>{delete n[a]}),delete n._chartjs)}function Tq(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Bk=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Hk(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,Bk.call(window,()=>{i=!1,n.apply(e,t)}))}}function xq(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const Fk=n=>n==="start"?"left":n==="end"?"right":"center",ei=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,Rq=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e,Df=n=>n===0||n===1,Vx=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*zt/t)),Ux=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*zt/t)+1,ih={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*$t)+1,easeOutSine:n=>Math.sin(n*$t),easeInOutSine:n=>-.5*(Math.cos(an*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Df(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Df(n)?n:Vx(n,.075,.3),easeOutElastic:n=>Df(n)?n:Ux(n,.075,.3),easeInOutElastic(n){return Df(n)?n:n<.5?.5*Vx(n*2,.1125,.45):.5+.5*Ux(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-ih.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ih.easeInBounce(n*2)*.5:ih.easeOutBounce(n*2-1)*.5+.5};function qk(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function zx(n){return qk(n)?n:new Eh(n)}function Rv(n){return qk(n)?n:new Eh(n).saturate(.5).darken(.1).hexString()}const Cq=["x","y","borderWidth","radius","tension"],Dq=["color","borderColor","backgroundColor"];function Iq(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Dq},numbers:{type:"number",properties:Cq}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function kq(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Bx=new Map;function Nq(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Bx.get(t);return i||(i=new Intl.NumberFormat(n,e),Bx.set(t,i)),i}function Mq(n,e,t){return Nq(e,t).format(n)}const Oq={values(n){return pn(n)?n:""+n}};var Pq={formatters:Oq};function jq(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Pq.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Do=Object.create(null),R_=Object.create(null);function rh(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const a=t[i];n=n[a]||(n[a]=Object.create(null))}return n}function Cv(n,e,t){return typeof e=="string"?wh(rh(n,e),t):wh(rh(n,""),e)}class Lq{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Rv(r.backgroundColor),this.hoverBorderColor=(i,r)=>Rv(r.borderColor),this.hoverColor=(i,r)=>Rv(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Cv(this,e,t)}get(e){return rh(this,e)}describe(e,t){return Cv(R_,e,t)}override(e,t){return Cv(Do,e,t)}route(e,t,i,r){const a=rh(this,e),l=rh(this,i),u="_"+t;Object.defineProperties(a,{[u]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],f=l[r];return Ze(h)?Object.assign({},f,h):st(h,f)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var Ot=new Lq({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Iq,kq,jq]);function Vq(n){return!n||Cn(n.size)||Cn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Hx(n,e,t,i,r){let a=e[r];return a||(a=e[r]=n.measureText(r).width,t.push(r)),a>i&&(i=a),i}function ao(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function Fx(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function qx(n,e,t,i){Wk(n,e,t,i,null)}function Wk(n,e,t,i,r){let a,l,u,h,f,p,v,_;const b=e.pointStyle,S=e.rotation,R=e.radius;let T=(S||0)*mq;if(b&&typeof b=="object"&&(a=b.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(T),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(R)||R<=0)){switch(n.beginPath(),b){default:r?n.ellipse(t,i,r/2,R,0,0,zt):n.arc(t,i,R,0,zt),n.closePath();break;case"triangle":p=r?r/2:R,n.moveTo(t+Math.sin(T)*p,i-Math.cos(T)*R),T+=Px,n.lineTo(t+Math.sin(T)*p,i-Math.cos(T)*R),T+=Px,n.lineTo(t+Math.sin(T)*p,i-Math.cos(T)*R),n.closePath();break;case"rectRounded":f=R*.516,h=R-f,l=Math.cos(T+ro)*h,v=Math.cos(T+ro)*(r?r/2-f:h),u=Math.sin(T+ro)*h,_=Math.sin(T+ro)*(r?r/2-f:h),n.arc(t-v,i-u,f,T-an,T-$t),n.arc(t+_,i-l,f,T-$t,T),n.arc(t+v,i+u,f,T,T+$t),n.arc(t-_,i+l,f,T+$t,T+an),n.closePath();break;case"rect":if(!S){h=Math.SQRT1_2*R,p=r?r/2:h,n.rect(t-p,i-h,2*p,2*h);break}T+=ro;case"rectRot":v=Math.cos(T)*(r?r/2:R),l=Math.cos(T)*R,u=Math.sin(T)*R,_=Math.sin(T)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+_,i-l),n.lineTo(t+v,i+u),n.lineTo(t-_,i+l),n.closePath();break;case"crossRot":T+=ro;case"cross":v=Math.cos(T)*(r?r/2:R),l=Math.cos(T)*R,u=Math.sin(T)*R,_=Math.sin(T)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+_,i-l),n.lineTo(t-_,i+l);break;case"star":v=Math.cos(T)*(r?r/2:R),l=Math.cos(T)*R,u=Math.sin(T)*R,_=Math.sin(T)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+_,i-l),n.lineTo(t-_,i+l),T+=ro,v=Math.cos(T)*(r?r/2:R),l=Math.cos(T)*R,u=Math.sin(T)*R,_=Math.sin(T)*(r?r/2:R),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+_,i-l),n.lineTo(t-_,i+l);break;case"line":l=r?r/2:Math.cos(T)*R,u=Math.sin(T)*R,n.moveTo(t-l,i-u),n.lineTo(t+l,i+u);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(T)*(r?r/2:R),i+Math.sin(T)*R);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Gk(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function p0(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function m0(n){n.restore()}function Uq(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Cn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function zq(n,e,t,i,r){if(r.strikethrough||r.underline){const a=n.measureText(i),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,h=t-a.actualBoundingBoxAscent,f=t+a.actualBoundingBoxDescent,p=r.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function Bq(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Zg(n,e,t,i,r,a={}){const l=pn(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(n.save(),n.font=r.string,Uq(n,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&Bq(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Cn(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,t,i,a.maxWidth)),n.fillText(f,t,i,a.maxWidth),zq(n,t,i,f,a),i+=Number(r.lineHeight);n.restore()}function C_(n,e){const{x:t,y:i,w:r,h:a,radius:l}=e;n.arc(t+l.topLeft,i+l.topLeft,l.topLeft,1.5*an,an,!0),n.lineTo(t,i+a-l.bottomLeft),n.arc(t+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,an,$t,!0),n.lineTo(t+r-l.bottomRight,i+a),n.arc(t+r-l.bottomRight,i+a-l.bottomRight,l.bottomRight,$t,0,!0),n.lineTo(t+r,i+l.topRight),n.arc(t+r-l.topRight,i+l.topRight,l.topRight,0,-$t,!0),n.lineTo(t+l.topLeft,i)}const Hq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Fq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function qq(n,e){const t=(""+n).match(Hq);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const Wq=n=>+n||0;function y0(n,e){const t={},i=Ze(e),r=i?Object.keys(e):e,a=Ze(n)?i?l=>st(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of r)t[l]=Wq(a(l));return t}function Gq(n){return y0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function sh(n){return y0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function zi(n){const e=Gq(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Wn(n,e){n=n||{},e=e||Ot.font;let t=st(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=st(n.style,e.style);i&&!(""+i).match(Fq)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:st(n.family,e.family),lineHeight:qq(st(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:st(n.weight,e.weight),string:""};return r.string=Vq(r),r}function If(n,e,t,i){let r,a,l;for(r=0,a=n.length;r<a;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function $q(n,e,t){const{min:i,max:r}=n,a=Lk(e,(r-i)/2),l=(u,h)=>t&&u===0?0:u+h;return{min:l(i,-Math.abs(a)),max:l(r,a)}}function mc(n,e){return Object.assign(Object.create(n),e)}function v0(n,e=[""],t,i,r=()=>n[0]){const a=t||n;typeof i>"u"&&(i=Kk("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:r,override:u=>v0([u,...n],e,a,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return Yk(u,h,()=>t8(h,e,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return Gx(u).includes(h)},ownKeys(u){return Gx(u)},set(u,h,f){const p=u._storage||(u._storage=r());return u[h]=p[h]=f,delete u._keys,!0}})}function rc(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:$k(n,i),setContext:a=>rc(n,a,t,i),override:a=>rc(n.override(a),e,t,i)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return Yk(a,l,()=>Qq(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function $k(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Ea(t)?t:()=>t,isIndexable:Ea(i)?i:()=>i}}const Yq=(n,e)=>n?n+f0(e):e,_0=(n,e)=>Ze(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Yk(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function Qq(n,e,t){const{_proxy:i,_context:r,_subProxy:a,_descriptors:l}=n;let u=i[e];return Ea(u)&&l.isScriptable(e)&&(u=Kq(e,u,n,t)),pn(u)&&u.length&&(u=Xq(e,u,n,l.isIndexable)),_0(e,u)&&(u=rc(u,r,a&&a[e],l)),u}function Kq(n,e,t,i){const{_proxy:r,_context:a,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=e(a,l||i);return u.delete(n),_0(n,h)&&(h=b0(r._scopes,r,n,h)),h}function Xq(n,e,t,i){const{_proxy:r,_context:a,_subProxy:l,_descriptors:u}=t;if(typeof a.index<"u"&&i(n))return e[a.index%e.length];if(Ze(e[0])){const h=e,f=r._scopes.filter(p=>p!==h);e=[];for(const p of h){const v=b0(f,r,n,p);e.push(rc(v,a,l&&l[n],u))}}return e}function Qk(n,e,t){return Ea(n)?n(e,t):n}const Zq=(n,e)=>n===!0?e:typeof n=="string"?Ah(e,n):void 0;function Jq(n,e,t,i,r){for(const a of e){const l=Zq(t,a);if(l){n.add(l);const u=Qk(l._fallback,t,r);if(typeof u<"u"&&u!==t&&u!==i)return u}else if(l===!1&&typeof i<"u"&&t!==i)return null}return!1}function b0(n,e,t,i){const r=e._rootScopes,a=Qk(e._fallback,t,i),l=[...n,...r],u=new Set;u.add(i);let h=Wx(u,l,t,a||t,i);return h===null||typeof a<"u"&&a!==t&&(h=Wx(u,l,a,h,i),h===null)?!1:v0(Array.from(u),[""],r,a,()=>e8(e,t,i))}function Wx(n,e,t,i,r){for(;t;)t=Jq(n,e,t,i,r);return t}function e8(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return pn(r)&&Ze(t)?t:r||{}}function t8(n,e,t,i){let r;for(const a of e)if(r=Kk(Yq(a,n),t),typeof r<"u")return _0(n,r)?b0(t,i,n,r):r}function Kk(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function Gx(n){let e=n._keys;return e||(e=n._keys=n8(n._scopes)),e}function n8(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function E0(){return typeof window<"u"&&typeof document<"u"}function w0(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Jg(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Up=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function i8(n,e){return Up(n).getPropertyValue(e)}const r8=["top","right","bottom","left"];function bo(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const a=r8[r];i[a]=parseFloat(n[e+"-"+a+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const s8=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function a8(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:a}=i;let l=!1,u,h;if(s8(r,a,n.target))u=r,h=a;else{const f=e.getBoundingClientRect();u=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function ho(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=Up(t),a=r.boxSizing==="border-box",l=bo(r,"padding"),u=bo(r,"border","width"),{x:h,y:f,box:p}=a8(n,t),v=l.left+(p&&u.left),_=l.top+(p&&u.top);let{width:b,height:S}=e;return a&&(b-=l.width+u.width,S-=l.height+u.height),{x:Math.round((h-v)/b*t.width/i),y:Math.round((f-_)/S*t.height/i)}}function o8(n,e,t){let i,r;if(e===void 0||t===void 0){const a=n&&w0(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),u=Up(a),h=bo(u,"border","width"),f=bo(u,"padding");e=l.width-f.width-h.width,t=l.height-f.height-h.height,i=Jg(u.maxWidth,a,"clientWidth"),r=Jg(u.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:i||Qg,maxHeight:r||Qg}}const kf=n=>Math.round(n*10)/10;function l8(n,e,t,i){const r=Up(n),a=bo(r,"margin"),l=Jg(r.maxWidth,n,"clientWidth")||Qg,u=Jg(r.maxHeight,n,"clientHeight")||Qg,h=o8(n,e,t);let{width:f,height:p}=h;if(r.boxSizing==="content-box"){const _=bo(r,"border","width"),b=bo(r,"padding");f-=b.width+_.width,p-=b.height+_.height}return f=Math.max(0,f-a.width),p=Math.max(0,i?f/i:p-a.height),f=kf(Math.min(f,l,h.maxWidth)),p=kf(Math.min(p,u,h.maxHeight)),f&&!p&&(p=kf(f/2)),(e!==void 0||t!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=kf(Math.floor(p*i))),{width:f,height:p}}function $x(n,e,t){const i=e||1,r=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==a?(n.currentDevicePixelRatio=i,l.height=r,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const c8=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};E0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Yx(n,e){const t=i8(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const u8=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},h8=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Gl(n,e,t){return n?u8(e,t):h8()}function Xk(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Zk(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class d8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const a=t.listeners[r],l=t.duration;a.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Bk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(r.draw(),this._notify(r,i,e,"progress")),a.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Qr=new d8;const Qx="transparent",f8={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=zx(n||Qx),r=i.valid&&zx(e||Qx);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class g8{constructor(e,t,i,r){const a=t[i];r=If([e.to,r,a,e.from]);const l=If([e.from,a,r]);this._active=!0,this._fn=e.fn||f8[e.type||typeof l],this._easing=ih[e.easing]||ih.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=If([e.to,t,r,e.from]),this._from=If([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||t<i),!this._active){this._target[r]=u,this._notify(!0);return}if(t<0){this._target[r]=a;return}h=t/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(a,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class Jk{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ze(e))return;const t=Object.keys(Ot.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const a=e[r];if(!Ze(a))return;const l={};for(const u of t)l[u]=a[u];(pn(a.properties)&&a.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,t){const i=t.options,r=m8(e,i);if(!r)return[];const a=this._createAnimations(r,i);return i.$shared&&p8(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,t){const i=this._properties,r=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,t));continue}const p=t[f];let v=a[f];const _=i.get(f);if(v)if(_&&v.active()){v.update(_,p,u);continue}else v.cancel();if(!_||!_.duration){e[f]=p;continue}a[f]=v=new g8(_,e,f,p),r.push(v)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Qr.add(this._chart,i),!0}}function p8(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const a=n[i[r]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function m8(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Kx(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:i?a:r,end:i?r:a}}function y8(n,e,t){if(t===!1)return!1;const i=Kx(n,t),r=Kx(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function v8(n){let e,t,i,r;return Ze(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function eN(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,a;for(r=0,a=i.length;r<a;++r)t.push(i[r].index);return t}function Xx(n,e,t,i={}){const r=n.keys,a=i.mode==="single";let l,u,h,f;if(e===null)return;let p=!1;for(l=0,u=r.length;l<u;++l){if(h=+r[l],h===t){if(p=!0,i.all)continue;break}f=n.values[h],hs(f)&&(a||e===0||jx(e)===jx(f))&&(e+=f)}return!p&&!i.all?0:e}function _8(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],u[h]={[r]:p,[a]:n[p]};return u}function Dv(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function b8(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function E8(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function w8(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Zx(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const a=n[r.index];if(t&&a>0||!t&&a<0)return r.index}return null}function Jx(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:u}=i,h=a.axis,f=l.axis,p=b8(a,l,i),v=e.length;let _;for(let b=0;b<v;++b){const S=e[b],{[h]:R,[f]:T}=S,C=S._stacks||(S._stacks={});_=C[f]=w8(r,p,R),_[u]=T,_._top=Zx(_,l,!0,i.type),_._bottom=Zx(_,l,!1,i.type);const P=_._visualValues||(_._visualValues={});P[u]=T}}function Iv(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function A8(n,e){return mc(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function S8(n,e,t){return mc(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function xu(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const a=r._stacks;if(!a||a[i]===void 0||a[i][t]===void 0)return;delete a[i][t],a[i]._visualValues!==void 0&&a[i]._visualValues[t]!==void 0&&delete a[i]._visualValues[t]}}}const kv=n=>n==="reset"||n==="none",eR=(n,e)=>e?n:Object.assign({},n),T8=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:eN(t,!0),values:null};class ah{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Dv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&xu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(v,_,b,S)=>v==="x"?_:v==="r"?S:b,a=t.xAxisID=st(i.xAxisID,Iv(e,"x")),l=t.yAxisID=st(i.yAxisID,Iv(e,"y")),u=t.rAxisID=st(i.rAxisID,Iv(e,"r")),h=t.indexAxis,f=t.iAxisID=r(h,a,l,u),p=t.vAxisID=r(h,l,a,u);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Lx(this._data,this),e._stacked&&xu(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Ze(t)){const r=this._cachedMeta;this._data=_8(t,r)}else if(i!==t){if(i){Lx(i,this);const r=this._cachedMeta;xu(r),r._parsed=[]}t&&Object.isExtensible(t)&&Sq(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const a=t._stacked;t._stacked=Dv(t.vScale,t),t.stack!==i.stack&&(r=!0,xu(t),t.stack=i.stack),this._resyncElements(e),(r||a!==t._stacked)&&(Jx(this,t._parsed),t._stacked=Dv(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:a,_stacked:l}=i,u=a.axis;let h=e===0&&t===r.length?!0:i._sorted,f=e>0&&i._parsed[e-1],p,v,_;if(this._parsing===!1)i._parsed=r,i._sorted=!0,_=r;else{pn(r[e])?_=this.parseArrayData(i,r,e,t):Ze(r[e])?_=this.parseObjectData(i,r,e,t):_=this.parsePrimitiveData(i,r,e,t);const b=()=>v[u]===null||f&&v[u]<f[u];for(p=0;p<t;++p)i._parsed[p+e]=v=_[p],h&&(b()&&(h=!1),f=v);i._sorted=h}l&&Jx(this,_)}parsePrimitiveData(e,t,i,r){const{iScale:a,vScale:l}=e,u=a.axis,h=l.axis,f=a.getLabels(),p=a===l,v=new Array(r);let _,b,S;for(_=0,b=r;_<b;++_)S=_+i,v[_]={[u]:p||a.parse(f[S],S),[h]:l.parse(t[S],S)};return v}parseArrayData(e,t,i,r){const{xScale:a,yScale:l}=e,u=new Array(r);let h,f,p,v;for(h=0,f=r;h<f;++h)p=h+i,v=t[p],u[h]={x:a.parse(v[0],p),y:l.parse(v[1],p)};return u}parseObjectData(e,t,i,r){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(r);let p,v,_,b;for(p=0,v=r;p<v;++p)_=p+i,b=t[_],f[p]={x:a.parse(Ah(b,u),_),y:l.parse(Ah(b,h),_)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,a=this._cachedMeta,l=t[e.axis],u={keys:eN(r,!0),values:t._stacks[e.axis]._visualValues};return Xx(u,l,a.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const a=i[t.axis];let l=a===null?NaN:a;const u=r&&i._stacks[t.axis];r&&u&&(r.values=u,l=Xx(r,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,a=i._sorted&&e===i.iScale,l=r.length,u=this._getOtherScale(e),h=T8(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:v}=E8(u);let _,b;function S(){b=r[_];const R=b[u.axis];return!hs(b[e.axis])||p>R||v<R}for(_=0;_<l&&!(!S()&&(this.updateRangeFromParsed(f,e,b,h),a));++_);if(a){for(_=l-1;_>=0;--_)if(!S()){this.updateRangeFromParsed(f,e,b,h);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,a,l;for(r=0,a=t.length;r<a;++r)l=t[r][e.axis],hs(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=v8(st(this.options.clip,y8(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],a=t.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,a,u,h),p=u;p<u+h;++p){const v=r[p];v.hidden||(v.active&&f?l.push(v):v.draw(e,a))}for(p=0;p<l.length;++p)l[p].draw(e,a)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=S8(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=r.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=A8(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",a=this._cachedDataOpts,l=e+"-"+t,u=a[l],h=this.enableOptionSharing&&Yg(i);if(u)return eR(u,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),v=r?[`${e}Hover`,"hover",e,""]:[e,""],_=f.getOptionScopes(this.getDataset(),p),b=Object.keys(Ot.elements[e]),S=()=>this.getContext(i,r,t),R=f.resolveNamedOptions(_,b,S,v);return R.$shared&&(R.$shared=h,a[l]=Object.freeze(eR(R,h))),R}_resolveAnimations(e,t,i){const r=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,u=a[l];if(u)return u;let h;if(r.options.animation!==!1){const p=this.chart.config,v=p.datasetAnimationScopeKeys(this._type,t),_=p.getOptionScopes(this.getDataset(),v);h=p.createResolver(_,this.getContext(e,i,t))}const f=new Jk(r,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||kv(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(t,a)||a!==r;return this.updateSharedOptions(a,t,i),{sharedOptions:a,includeOptions:l}}updateElement(e,t,i,r){kv(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!kv(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const a=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const r=i.length,a=t.length,l=Math.min(a,r);l&&this.parse(0,l),a>r?this._insertElements(r,a-r,e):a<r&&this._removeElements(a,r-a)}_insertElements(e,t,i=!0){const r=this._cachedMeta,a=r.data,l=e+t;let u;const h=f=>{for(f.length+=t,u=f.length-1;u>=l;u--)f[u]=f[u-t]};for(h(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(e,t),i&&this.updateElements(a,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&xu(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Le(ah,"defaults",{}),Le(ah,"datasetElementType",null),Le(ah,"dataElementType",null);function x8(n,e,t){let i=1,r=1,a=0,l=0;if(e<zt){const u=n,h=u+e,f=Math.cos(u),p=Math.sin(u),v=Math.cos(h),_=Math.sin(h),b=(B,G,X)=>Xg(B,u,h,!0)?1:Math.max(G,G*t,X,X*t),S=(B,G,X)=>Xg(B,u,h,!0)?-1:Math.min(G,G*t,X,X*t),R=b(0,f,v),T=b($t,p,_),C=S(an,f,v),P=S(an+$t,p,_);i=(R-C)/2,r=(T-P)/2,a=-(R+C)/2,l=-(T+P)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:l}}class Bu extends ah{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let a=h=>+i[h];if(Ze(i[e])){const{key:h="value"}=this._parsing;a=f=>+Ah(i[f],h)}let l,u;for(l=e,u=e+t;l<u;++l)r._parsed[l]=a(l)}}_getRotation(){return vo(this.options.rotation-90)}_getCircumference(){return vo(this.options.circumference)}_getRotationExtents(){let e=zt,t=-zt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,a=r._getRotation(),l=r._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,a=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(uq(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:p,rotation:v}=this._getRotationExtents(),{ratioX:_,ratioY:b,offsetX:S,offsetY:R}=x8(v,p,h),T=(i.width-l)/_,C=(i.height-l)/b,P=Math.max(Math.min(T,C)/2,0),B=Lk(this.options.radius,P),G=Math.max(B*h,0),X=(B-G)/this._getVisibleDatasetWeightTotal();this.offsetX=S*B,this.offsetY=R*B,r.total=this.calculateTotal(),this.outerRadius=B-X*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-X*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,a=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*a/zt)}updateElements(e,t,i,r){const a=r==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,p=(u.left+u.right)/2,v=(u.top+u.bottom)/2,_=a&&f.animateScale,b=_?0:this.innerRadius,S=_?0:this.outerRadius,{sharedOptions:R,includeOptions:T}=this._getSharedOptions(t,r);let C=this._getRotation(),P;for(P=0;P<t;++P)C+=this._circumference(P,a);for(P=t;P<t+i;++P){const B=this._circumference(P,a),G=e[P],X={x:p+this.offsetX,y:v+this.offsetY,startAngle:C,endAngle:C+B,circumference:B,outerRadius:S,innerRadius:b};T&&(X.options=R||this.resolveDataElementOptions(P,G.active?"active":r)),C+=B,this.updateElement(G,P,X,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const a=e._parsed[r];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?zt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],a=Mq(t._parsed[e],i.options.locale);return{label:r[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,a,l,u,h;if(!e){for(r=0,a=i.data.datasets.length;r<a;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),e=l.data,u=l.controller;break}}if(!e)return 0;for(r=0,a=e.length;r<a;++r)h=u.resolveDataElementOptions(r),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const a=this.resolveDataElementOptions(i);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(st(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Le(Bu,"id","doughnut"),Le(Bu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Le(Bu,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Le(Bu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((a,l)=>{const h=e.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});function oo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class A0{constructor(e){Le(this,"options");this.options=e||{}}static override(e){Object.assign(A0.prototype,e)}init(){}formats(){return oo()}parse(){return oo()}format(){return oo()}add(){return oo()}diff(){return oo()}startOf(){return oo()}endOf(){return oo()}}var R8={_date:A0};function C8(n,e,t,i){const{controller:r,data:a,_sorted:l}=n,u=r._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const f=u._reversePixels?wq:x_;if(i){if(r._sharedOptions){const p=a[0],v=typeof p.getRange=="function"&&p.getRange(e);if(v){const _=f(a,e,t-v),b=f(a,e,t+v);return{lo:_.lo,hi:b.hi}}}}else{const p=f(a,e,t);if(h){const{vScale:v}=r._cachedMeta,{_parsed:_}=n,b=_.slice(0,p.lo+1).reverse().findIndex(R=>!Cn(R[v.axis]));p.lo-=Math.max(0,b);const S=_.slice(p.hi).findIndex(R=>!Cn(R[v.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:a.length-1}}function zp(n,e,t,i,r){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,h=a.length;u<h;++u){const{index:f,data:p}=a[u],{lo:v,hi:_}=C8(a[u],e,l,r);for(let b=v;b<=_;++b){const S=p[b];S.skip||i(S,f,b)}}}function D8(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const a=e?Math.abs(i.x-r.x):0,l=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Nv(n,e,t,i,r){const a=[];return!r&&!n.isPointInArea(e)||zp(n,t,e,function(u,h,f){!r&&!Gk(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&a.push({element:u,datasetIndex:h,index:f})},!0),a}function I8(n,e,t,i){let r=[];function a(l,u,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:v}=Uk(l,{x:e.x,y:e.y});Xg(v,f,p)&&r.push({element:l,datasetIndex:u,index:h})}return zp(n,t,e,a),r}function k8(n,e,t,i,r,a){let l=[];const u=D8(t);let h=Number.POSITIVE_INFINITY;function f(p,v,_){const b=p.inRange(e.x,e.y,r);if(i&&!b)return;const S=p.getCenterPoint(r);if(!(!!a||n.isPointInArea(S))&&!b)return;const T=u(e,S);T<h?(l=[{element:p,datasetIndex:v,index:_}],h=T):T===h&&l.push({element:p,datasetIndex:v,index:_})}return zp(n,t,e,f),l}function Mv(n,e,t,i,r,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!i?I8(n,e,t,r):k8(n,e,t,i,r,a)}function tR(n,e,t,i,r){const a=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return zp(n,t,e,(h,f,p)=>{h[l]&&h[l](e[t],r)&&(a.push({element:h,datasetIndex:f,index:p}),u=u||h.inRange(e.x,e.y,r))}),i&&!u?[]:a}var N8={modes:{index(n,e,t,i){const r=ho(e,n),a=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?Nv(n,r,a,i,l):Mv(n,r,a,!1,i,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,v=f.data[p];v&&!v.skip&&h.push({element:v,datasetIndex:f.index,index:p})}),h):[]},dataset(n,e,t,i){const r=ho(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?Nv(n,r,a,i,l):Mv(n,r,a,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:h,index:p})}return u},point(n,e,t,i){const r=ho(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Nv(n,r,a,i,l)},nearest(n,e,t,i){const r=ho(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Mv(n,r,a,t.intersect,i,l)},x(n,e,t,i){const r=ho(e,n);return tR(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=ho(e,n);return tR(n,r,"y",t.intersect,i)}}};const tN=["left","top","right","bottom"];function Ru(n,e){return n.filter(t=>t.pos===e)}function nR(n,e){return n.filter(t=>tN.indexOf(t.pos)===-1&&t.box.axis===e)}function Cu(n,e){return n.sort((t,i)=>{const r=e?i:t,a=e?t:i;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function M8(n){const e=[];let t,i,r,a,l,u;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:a,options:{stack:l,stackWeight:u=1}}=r,e.push({index:t,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&a+l,stackWeight:u});return e}function O8(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:a}=t;if(!i||!tN.includes(r))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function P8(n,e){const t=O8(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:h}=u.box,f=t[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:h&&e.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:h&&e.availableHeight)}return t}function j8(n){const e=M8(n),t=Cu(e.filter(f=>f.box.fullSize),!0),i=Cu(Ru(e,"left"),!0),r=Cu(Ru(e,"right")),a=Cu(Ru(e,"top"),!0),l=Cu(Ru(e,"bottom")),u=nR(e,"x"),h=nR(e,"y");return{fullSize:t,leftAndTop:i.concat(a),rightAndBottom:r.concat(h).concat(l).concat(u),chartArea:Ru(e,"chartArea"),vertical:i.concat(r).concat(h),horizontal:a.concat(l).concat(u)}}function iR(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function nN(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function L8(n,e,t,i){const{pos:r,box:a}=t,l=n.maxPadding;if(!Ze(r)){t.size&&(n[r]-=t.size);const v=i[t.stack]||{size:0,count:1};v.size=Math.max(v.size,t.horizontal?a.height:a.width),t.size=v.size/v.count,n[r]+=t.size}a.getPadding&&nN(l,a.getPadding());const u=Math.max(0,e.outerWidth-iR(l,n,"left","right")),h=Math.max(0,e.outerHeight-iR(l,n,"top","bottom")),f=u!==n.w,p=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:f,other:p}:{same:p,other:f}}function V8(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function U8(n,e){const t=e.maxPadding;function i(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return i(n?["left","right"]:["top","bottom"])}function Hu(n,e,t,i){const r=[];let a,l,u,h,f,p;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],h=u.box,h.update(u.width||e.w,u.height||e.h,U8(u.horizontal,e));const{same:v,other:_}=L8(e,t,u,i);f|=v&&r.length,p=p||_,h.fullSize||r.push(u)}return f&&Hu(r,e,t,i)||p}function Nf(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function rR(n,e,t,i){const r=t.padding;let{x:a,y:l}=e;for(const u of n){const h=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const v=e.w*p,_=f.size||h.height;Yg(f.start)&&(l=f.start),h.fullSize?Nf(h,r.left,l,t.outerWidth-r.right-r.left,_):Nf(h,e.left+f.placed,l,v,_),f.start=l,f.placed+=v,l=h.bottom}else{const v=e.h*p,_=f.size||h.width;Yg(f.start)&&(a=f.start),h.fullSize?Nf(h,a,r.top,_,t.outerHeight-r.bottom-r.top):Nf(h,a,e.top+f.placed,_,v),f.start=a,f.placed+=v,a=h.right}}e.x=a,e.y=l}var sa={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=zi(n.options.layout.padding),a=Math.max(e-r.width,0),l=Math.max(t-r.height,0),u=j8(n.boxes),h=u.vertical,f=u.horizontal;rt(n.boxes,R=>{typeof R.beforeLayout=="function"&&R.beforeLayout()});const p=h.reduce((R,T)=>T.box.options&&T.box.options.display===!1?R:R+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},r);nN(_,zi(i));const b=Object.assign({maxPadding:_,w:a,h:l,x:r.left,y:r.top},r),S=P8(h.concat(f),v);Hu(u.fullSize,b,v,S),Hu(h,b,v,S),Hu(f,b,v,S)&&Hu(h,b,v,S),V8(b),rR(u.leftAndTop,b,v,S),b.x+=b.w,b.y+=b.h,rR(u.rightAndBottom,b,v,S),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},rt(u.chartArea,R=>{const T=R.box;Object.assign(T,n.chartArea),T.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class iN{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class z8 extends iN{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ng="$chartjs",B8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sR=n=>n===null||n==="";function H8(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[ng]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",sR(r)){const a=Yx(n,"width");a!==void 0&&(n.width=a)}if(sR(i))if(n.style.height==="")n.height=n.width/(e||2);else{const a=Yx(n,"height");a!==void 0&&(n.height=a)}return n}const rN=c8?{passive:!0}:!1;function F8(n,e,t){n&&n.addEventListener(e,t,rN)}function q8(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,rN)}function W8(n,e){const t=B8[n.type]||n.type,{x:i,y:r}=ho(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function ep(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function G8(n,e,t){const i=n.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||ep(u.addedNodes,i),l=l&&!ep(u.removedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function $8(n,e,t){const i=n.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||ep(u.removedNodes,i),l=l&&!ep(u.addedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Sh=new Map;let aR=0;function sN(){const n=window.devicePixelRatio;n!==aR&&(aR=n,Sh.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Y8(n,e){Sh.size||window.addEventListener("resize",sN),Sh.set(n,e)}function Q8(n){Sh.delete(n),Sh.size||window.removeEventListener("resize",sN)}function K8(n,e,t){const i=n.canvas,r=i&&w0(i);if(!r)return;const a=Hk((u,h)=>{const f=r.clientWidth;t(u,h),f<r.clientWidth&&t()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(r),Y8(n,a),l}function Ov(n,e,t){t&&t.disconnect(),e==="resize"&&Q8(n)}function X8(n,e,t){const i=n.canvas,r=Hk(a=>{n.ctx!==null&&t(W8(a,n))},n);return F8(i,e,r),r}class Z8 extends iN{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(H8(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[ng])return!1;const i=t[ng].initial;["height","width"].forEach(a=>{const l=i[a];Cn(l)?t.removeAttribute(a):t.setAttribute(a,l)});const r=i.style||{};return Object.keys(r).forEach(a=>{t.style[a]=r[a]}),t.width=t.width,delete t[ng],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),l={attach:G8,detach:$8,resize:K8}[t]||X8;r[t]=l(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Ov,detach:Ov,resize:Ov}[t]||q8)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return l8(e,t,i,r)}isAttached(e){const t=e&&w0(e);return!!(t&&t.isConnected)}}function J8(n){return!E0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?z8:Z8}class Io{constructor(){Le(this,"x");Le(this,"y");Le(this,"active",!1);Le(this,"options");Le(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Kg(this.x)&&Kg(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(a=>{r[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),r}}Le(Io,"defaults",{}),Le(Io,"defaultRoutes");function eW(n,e){const t=n.options.ticks,i=tW(n),r=Math.min(t.maxTicksLimit||i,i),a=t.major.enabled?iW(e):[],l=a.length,u=a[0],h=a[l-1],f=[];if(l>r)return rW(e,f,a,l/r),f;const p=nW(a,e,r);if(l>0){let v,_;const b=l>1?Math.round((h-u)/(l-1)):null;for(Mf(e,f,p,Cn(b)?0:u-b,u),v=0,_=l-1;v<_;v++)Mf(e,f,p,a[v],a[v+1]);return Mf(e,f,p,h,Cn(b)?e.length:h+b),f}return Mf(e,f,p),f}function tW(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function nW(n,e,t){const i=sW(n),r=e.length/t;if(!i)return Math.max(r,1);const a=yq(i);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>r)return h}return Math.max(r,1)}function iW(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function rW(n,e,t,i){let r=0,a=t[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(e.push(n[l]),r++,a=t[r*i])}function Mf(n,e,t,i,r){const a=st(i,0),l=Math.min(st(r,n.length),n.length);let u=0,h,f,p;for(t=Math.ceil(t),r&&(h=r-i,t=h/Math.floor(h/t)),p=a;p<0;)u++,p=Math.round(a+u*t);for(f=Math.max(a,0);f<l;f++)f===p&&(e.push(n[f]),u++,p=Math.round(a+u*t))}function sW(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const aW=n=>n==="left"?"right":n==="right"?"left":n,oR=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,lR=(n,e)=>Math.min(e||n,n);function cR(n,e){const t=[],i=n.length/e,r=n.length;let a=0;for(;a<r;a+=i)t.push(n[Math.floor(a)]);return t}function oW(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),a=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(r),f;if(!(t&&(i===1?f=Math.max(h-a,l-h):e===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(r-1))/2,h+=r<e?f:-f,h<a-u||h>l+u)))return h}function lW(n,e){rt(n,t=>{const i=t.gc,r=i.length/2;let a;if(r>e){for(a=0;a<r;++a)delete t.data[i[a]];i.splice(0,r)}})}function Du(n){return n.drawTicks?n.tickLength:0}function uR(n,e){if(!n.display)return 0;const t=Wn(n.font,e),i=zi(n.padding);return(pn(n.text)?n.text.length:1)*t.lineHeight+i.height}function cW(n,e){return mc(n,{scale:e,type:"scale"})}function uW(n,e,t){return mc(n,{tick:t,index:e,type:"tick"})}function hW(n,e,t){let i=Fk(n);return(t&&e!=="right"||!t&&e==="right")&&(i=aW(i)),i}function dW(n,e,t,i){const{top:r,left:a,bottom:l,right:u,chart:h}=n,{chartArea:f,scales:p}=h;let v=0,_,b,S;const R=l-r,T=u-a;if(n.isHorizontal()){if(b=ei(i,a,u),Ze(t)){const C=Object.keys(t)[0],P=t[C];S=p[C].getPixelForValue(P)+R-e}else t==="center"?S=(f.bottom+f.top)/2+R-e:S=oR(n,t,e);_=u-a}else{if(Ze(t)){const C=Object.keys(t)[0],P=t[C];b=p[C].getPixelForValue(P)-T+e}else t==="center"?b=(f.left+f.right)/2-T+e:b=oR(n,t,e);S=ei(i,l,r),v=t==="left"?-$t:$t}return{titleX:b,titleY:S,maxWidth:_,rotation:v}}class Bp extends Io{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=cr(e,Number.POSITIVE_INFINITY),t=cr(t,Number.NEGATIVE_INFINITY),i=cr(i,Number.POSITIVE_INFINITY),r=cr(r,Number.NEGATIVE_INFINITY),{min:cr(e,i),max:cr(t,r),minDefined:hs(e),maxDefined:hs(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:a}=this.getUserBounds(),l;if(r&&a)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,e),r||(t=Math.min(t,l.min)),a||(i=Math.max(i,l.max));return t=a&&t>i?i:t,i=r&&t>i?t:i,{min:cr(t,cr(i,t)),max:cr(i,cr(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){gt(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$q(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?cR(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=eW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){gt(this.options.afterUpdate,[this])}beforeSetDimensions(){gt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){gt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),gt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){gt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,a;for(i=0,r=e.length;i<r;i++)a=e[i],a.label=gt(t.callback,[a.value,i,e],this)}afterTickToLabelConversion(){gt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){gt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=lR(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,a=t.maxRotation;let l=r,u,h,f;if(!this._isVisible()||!t.display||r>=a||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),v=p.widest.width,_=p.highest.height,b=wi(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/i:b/(i-1),v+6>u&&(u=b/(i-(e.offset?.5:1)),h=this.maxHeight-Du(e.grid)-t.padding-uR(e.title,this.chart.options.font),f=Math.sqrt(v*v+_*_),l=_q(Math.min(Math.asin(wi((p.highest.height+6)/u,-1,1)),Math.asin(wi(h/f,-1,1))-Math.asin(wi(_/f,-1,1)))),l=Math.max(r,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){gt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){gt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=uR(r,t.options.font);if(u?(e.width=this.maxWidth,e.height=Du(a)+h):(e.height=this.maxHeight,e.width=Du(a)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:v,highest:_}=this._getLabelSizes(),b=i.padding*2,S=vo(this.labelRotation),R=Math.cos(S),T=Math.sin(S);if(u){const C=i.mirror?0:T*v.width+R*_.height;e.height=Math.min(this.maxHeight,e.height+C+b)}else{const C=i.mirror?0:R*v.width+T*_.height;e.width=Math.min(this.maxWidth,e.width+C+b)}this._calculatePadding(f,p,T,R)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,b=0;h?f?(_=r*e.width,b=i*t.height):(_=i*e.height,b=r*t.width):a==="start"?b=t.width:a==="end"?_=e.width:a!=="inner"&&(_=e.width/2,b=t.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-v+l)*this.width/(this.width-v),0)}else{let p=t.height/2,v=e.height/2;a==="start"?(p=0,v=e.height):a==="end"&&(p=t.height,v=0),this.paddingTop=p+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){gt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Cn(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=cR(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(t/lR(t,i));let f=0,p=0,v,_,b,S,R,T,C,P,B,G,X;for(v=0;v<t;v+=h){if(S=e[v].label,R=this._resolveTickFontOptions(v),r.font=T=R.string,C=a[T]=a[T]||{data:{},gc:[]},P=R.lineHeight,B=G=0,!Cn(S)&&!pn(S))B=Hx(r,C.data,C.gc,B,S),G=P;else if(pn(S))for(_=0,b=S.length;_<b;++_)X=S[_],!Cn(X)&&!pn(X)&&(B=Hx(r,C.data,C.gc,B,X),G+=P);l.push(B),u.push(G),f=Math.max(B,f),p=Math.max(G,p)}lW(a,t);const ne=l.indexOf(f),O=u.indexOf(p),I=k=>({width:l[k]||0,height:u[k]||0});return{first:I(0),last:I(t-1),widest:I(ne),highest:I(O),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Eq(this._alignToPixels?ao(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=uW(this.getContext(),e,i))}return this.$context||(this.$context=cW(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=vo(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>u*r?u/i:h/r:h*r<u*i?h/i:u/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:a,position:l,border:u}=r,h=a.offset,f=this.isHorizontal(),v=this.ticks.length+(h?1:0),_=Du(a),b=[],S=u.setContext(this.getContext()),R=S.display?S.width:0,T=R/2,C=function(le){return ao(i,le,R)};let P,B,G,X,ne,O,I,k,M,V,H,j;if(l==="top")P=C(this.bottom),O=this.bottom-_,k=P-T,V=C(e.top)+T,j=e.bottom;else if(l==="bottom")P=C(this.top),V=e.top,j=C(e.bottom)-T,O=P+T,k=this.top+_;else if(l==="left")P=C(this.right),ne=this.right-_,I=P-T,M=C(e.left)+T,H=e.right;else if(l==="right")P=C(this.left),M=e.left,H=C(e.right)-T,ne=P+T,I=this.left+_;else if(t==="x"){if(l==="center")P=C((e.top+e.bottom)/2+.5);else if(Ze(l)){const le=Object.keys(l)[0],de=l[le];P=C(this.chart.scales[le].getPixelForValue(de))}V=e.top,j=e.bottom,O=P+T,k=O+_}else if(t==="y"){if(l==="center")P=C((e.left+e.right)/2);else if(Ze(l)){const le=Object.keys(l)[0],de=l[le];P=C(this.chart.scales[le].getPixelForValue(de))}ne=P-T,I=ne-_,M=e.left,H=e.right}const ke=st(r.ticks.maxTicksLimit,v),Ee=Math.max(1,Math.ceil(v/ke));for(B=0;B<v;B+=Ee){const le=this.getContext(B),de=a.setContext(le),fe=u.setContext(le),Se=de.lineWidth,U=de.color,ae=fe.dash||[],ge=fe.dashOffset,he=de.tickWidth,ue=de.tickColor,xe=de.tickBorderDash||[],we=de.tickBorderDashOffset;G=oW(this,B,h),G!==void 0&&(X=ao(i,G,Se),f?ne=I=M=H=X:O=k=V=j=X,b.push({tx1:ne,ty1:O,tx2:I,ty2:k,x1:M,y1:V,x2:H,y2:j,width:Se,color:U,borderDash:ae,borderDashOffset:ge,tickWidth:he,tickColor:ue,tickBorderDash:xe,tickBorderDashOffset:we}))}return this._ticksLength=v,this._borderValue=P,b}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:p,mirror:v}=a,_=Du(i.grid),b=_+p,S=v?-p:b,R=-vo(this.labelRotation),T=[];let C,P,B,G,X,ne,O,I,k,M,V,H,j="middle";if(r==="top")ne=this.bottom-S,O=this._getXAxisLabelAlignment();else if(r==="bottom")ne=this.top+S,O=this._getXAxisLabelAlignment();else if(r==="left"){const Ee=this._getYAxisLabelAlignment(_);O=Ee.textAlign,X=Ee.x}else if(r==="right"){const Ee=this._getYAxisLabelAlignment(_);O=Ee.textAlign,X=Ee.x}else if(t==="x"){if(r==="center")ne=(e.top+e.bottom)/2+b;else if(Ze(r)){const Ee=Object.keys(r)[0],le=r[Ee];ne=this.chart.scales[Ee].getPixelForValue(le)+b}O=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")X=(e.left+e.right)/2-b;else if(Ze(r)){const Ee=Object.keys(r)[0],le=r[Ee];X=this.chart.scales[Ee].getPixelForValue(le)}O=this._getYAxisLabelAlignment(_).textAlign}t==="y"&&(h==="start"?j="top":h==="end"&&(j="bottom"));const ke=this._getLabelSizes();for(C=0,P=u.length;C<P;++C){B=u[C],G=B.label;const Ee=a.setContext(this.getContext(C));I=this.getPixelForTick(C)+a.labelOffset,k=this._resolveTickFontOptions(C),M=k.lineHeight,V=pn(G)?G.length:1;const le=V/2,de=Ee.color,fe=Ee.textStrokeColor,Se=Ee.textStrokeWidth;let U=O;l?(X=I,O==="inner"&&(C===P-1?U=this.options.reverse?"left":"right":C===0?U=this.options.reverse?"right":"left":U="center"),r==="top"?f==="near"||R!==0?H=-V*M+M/2:f==="center"?H=-ke.highest.height/2-le*M+M:H=-ke.highest.height+M/2:f==="near"||R!==0?H=M/2:f==="center"?H=ke.highest.height/2-le*M:H=ke.highest.height-V*M,v&&(H*=-1),R!==0&&!Ee.showLabelBackdrop&&(X+=M/2*Math.sin(R))):(ne=I,H=(1-V)*M/2);let ae;if(Ee.showLabelBackdrop){const ge=zi(Ee.backdropPadding),he=ke.heights[C],ue=ke.widths[C];let xe=H-ge.top,we=0-ge.left;switch(j){case"middle":xe-=he/2;break;case"bottom":xe-=he;break}switch(O){case"center":we-=ue/2;break;case"right":we-=ue;break;case"inner":C===P-1?we-=ue:C>0&&(we-=ue/2);break}ae={left:we,top:xe,width:ue+ge.width,height:he+ge.height,color:Ee.backdropColor}}T.push({label:G,font:k,textOffset:H,options:{rotation:R,color:de,strokeColor:fe,strokeWidth:Se,textAlign:U,textBaseline:j,translation:[X,ne],backdrop:ae}})}return T}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-vo(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,h=l.widest.width;let f,p;return t==="left"?r?(p=this.right+a,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):t==="right"?r?(p=this.left+a,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(a=>a.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(a=0,l=r.length;a<l;++a){const h=r[a];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,v,_;this.isHorizontal()?(f=ao(e,this.left,l)-l/2,p=ao(e,this.right,u)+u/2,v=_=h):(v=ao(e,this.top,l)-l/2,_=ao(e,this.bottom,u)+u/2,f=p=h),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(f,v),t.lineTo(p,_),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&p0(i,r);const a=this.getLabelItems(e);for(const l of a){const u=l.options,h=l.font,f=l.label,p=l.textOffset;Zg(i,f,0,p,h,u)}r&&m0(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const a=Wn(i.font),l=zi(i.padding),u=i.align;let h=a.lineHeight/2;t==="bottom"||t==="center"||Ze(t)?(h+=l.bottom,pn(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:v,rotation:_}=dW(this,h,t,u);Zg(e,i.text,0,0,a,{color:i.color,maxWidth:v,rotation:_,textAlign:hW(u,t,r),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=st(e.grid&&e.grid.z,-1),r=st(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Bp.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let a,l;for(a=0,l=t.length;a<l;++a){const u=t[a];u[i]===this.id&&(!e||u.type===e)&&r.push(u)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Wn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Of{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;pW(t)&&(i=this.register(t));const r=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in r||(r[a]=e,fW(e,l,i),this.override&&Ot.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Ot[r]&&(delete Ot[r][i],this.override&&delete Do[i])}}function fW(n,e,t){const i=wh(Object.create(null),[t?Ot.get(t):{},Ot.get(e),n.defaults]);Ot.set(e,i),n.defaultRoutes&&gW(e,n.defaultRoutes),n.descriptors&&Ot.describe(e,n.descriptors)}function gW(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),a=[n].concat(i).join("."),l=e[t].split("."),u=l.pop(),h=l.join(".");Ot.route(a,r,h,u)})}function pW(n){return"id"in n&&"defaults"in n}class mW{constructor(){this.controllers=new Of(ah,"datasets",!0),this.elements=new Of(Io,"elements"),this.plugins=new Of(Object,"plugins"),this.scales=new Of(Bp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const a=i||this._getRegistryForType(r);i||a.isForType(r)||a===this.plugins&&r.id?this._exec(e,a,r):rt(r,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,i){const r=f0(e);gt(i["before"+r],[],i),t[e](i),gt(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var hr=new mW;class yW{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=r?this._descriptors(e).filter(r):this._descriptors(e),l=this._notify(a,e,t,i);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,i,r){r=r||{};for(const a of e){const l=a.plugin,u=l[i],h=[t,r,a.options];if(gt(u,h,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Cn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=st(i.options&&i.options.plugins,{}),a=vW(i);return r===!1&&!t?[]:bW(e,a,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function vW(n){const e={},t=[],i=Object.keys(hr.plugins.items);for(let a=0;a<i.length;a++)t.push(hr.getPlugin(i[a]));const r=n.plugins||[];for(let a=0;a<r.length;a++){const l=r[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function _W(n,e){return!e&&n===!1?null:n===!0?{}:n}function bW(n,{plugins:e,localIds:t},i,r){const a=[],l=n.getContext();for(const u of e){const h=u.id,f=_W(i[h],r);f!==null&&a.push({plugin:u,options:EW(n.config,{plugin:u,local:t[h]},f,l)})}return a}function EW(n,{plugin:e,local:t},i,r){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(i,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function D_(n,e){const t=Ot.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function wW(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function AW(n,e){return n===e?"_index_":"_value_"}function hR(n){if(n==="x"||n==="y"||n==="r")return n}function SW(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function I_(n,...e){if(hR(n))return n;for(const t of e){const i=t.axis||SW(t.position)||n.length>1&&hR(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function dR(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function TW(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return dR(n,"x",t[0])||dR(n,"y",t[0])}return{}}function xW(n,e){const t=Do[n.type]||{scales:{}},i=e.scales||{},r=D_(n.type,e),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Ze(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=I_(l,u,TW(l,n),Ot.scales[u.type]),f=AW(h,r),p=t.scales||{};a[l]=nh(Object.create(null),[{axis:h},u,p[h],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||D_(u,e),p=(Do[u]||{}).scales||{};Object.keys(p).forEach(v=>{const _=wW(v,h),b=l[_+"AxisID"]||_;a[b]=a[b]||Object.create(null),nh(a[b],[{axis:_},i[b],p[v]])})}),Object.keys(a).forEach(l=>{const u=a[l];nh(u,[Ot.scales[u.type],Ot.scale])}),a}function aN(n){const e=n.options||(n.options={});e.plugins=st(e.plugins,{}),e.scales=xW(n,e)}function oN(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function RW(n){return n=n||{},n.data=oN(n.data),aN(n),n}const fR=new Map,lN=new Set;function Pf(n,e){let t=fR.get(n);return t||(t=e(),fR.set(n,t),lN.add(t)),t}const Iu=(n,e,t)=>{const i=Ah(e,t);i!==void 0&&n.add(i)};class CW{constructor(e){this._config=RW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=oN(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),aN(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Pf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Pf(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Pf(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return Pf(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:a}=this,l=this._cachedScopes(e,i),u=l.get(t);if(u)return u;const h=new Set;t.forEach(p=>{e&&(h.add(e),p.forEach(v=>Iu(h,e,v))),p.forEach(v=>Iu(h,r,v)),p.forEach(v=>Iu(h,Do[a]||{},v)),p.forEach(v=>Iu(h,Ot,v)),p.forEach(v=>Iu(h,R_,v))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),lN.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Do[t]||{},Ot.datasets[t]||{},{type:t},Ot,R_]}resolveNamedOptions(e,t,i,r=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=gR(this._resolverCache,e,r);let h=l;if(IW(l,t)){a.$shared=!1,i=Ea(i)?i():i;const f=this.createResolver(e,i,u);h=rc(l,i,f)}for(const f of t)a[f]=h[f];return a}createResolver(e,t,i=[""],r){const{resolver:a}=gR(this._resolverCache,e,i);return Ze(t)?rc(a,t,void 0,r):a}}function gR(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let a=i.get(r);return a||(a={resolver:v0(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,a)),a}const DW=n=>Ze(n)&&Object.getOwnPropertyNames(n).some(e=>Ea(n[e]));function IW(n,e){const{isScriptable:t,isIndexable:i}=$k(n);for(const r of e){const a=t(r),l=i(r),u=(l||a)&&n[r];if(a&&(Ea(u)||DW(u))||l&&pn(u))return!0}return!1}var kW="4.4.8";const NW=["top","bottom","left","right","chartArea"];function pR(n,e){return n==="top"||n==="bottom"||NW.indexOf(n)===-1&&e==="x"}function mR(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function yR(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),gt(t&&t.onComplete,[n],e)}function MW(n){const e=n.chart,t=e.options.animation;gt(t&&t.onProgress,[n],e)}function cN(n){return E0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ig={},vR=n=>{const e=cN(n);return Object.values(ig).filter(t=>t.canvas===e).pop()};function OW(n,e,t){const i=Object.keys(n);for(const r of i){const a=+r;if(a>=e){const l=n[r];delete n[r],(t>0||a>e)&&(n[a+t]=l)}}}function PW(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}function jf(n,e,t){return n.options.clip?n[t]:e[t]}function jW(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:jf(t,e,"left"),right:jf(t,e,"right"),top:jf(i,e,"top"),bottom:jf(i,e,"bottom")}:e}var Qs;let Hp=(Qs=class{static register(...e){hr.add(...e),_R()}static unregister(...e){hr.remove(...e),_R()}constructor(e,t){const i=this.config=new CW(t),r=cN(e),a=vR(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||J8(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,p=h&&h.width;if(this.id=cq(),this.ctx=u,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=xq(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],ig[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Qr.listen(this,"complete",yR),Qr.listen(this,"progress",MW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:a}=this;return Cn(e)?t&&a?a:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return hr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$x(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Fx(this.canvas,this.ctx),this}stop(){return Qr.stop(this),this}resize(e,t){Qr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,e,t,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,$x(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),gt(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};rt(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const u=t[l],h=I_(l,u),f=h==="r",p=h==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),rt(a,l=>{const u=l.options,h=u.id,f=I_(h,u),p=st(u.type,l.dtype);(u.position===void 0||pR(u.position,f)!==pR(l.dposition))&&(u.position=l.dposition),r[h]=!0;let v=null;if(h in i&&i[h].type===p)v=i[h];else{const _=hr.getScale(p);v=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,e)}),rt(r,(l,u)=>{l||delete i[u]}),rt(i,l=>{sa.configure(this,l,l.options),sa.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,a)=>r.index-a.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(mR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const a=t[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||D_(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=hr.getController(u),{datasetElementType:f,dataElementType:p}=Ot.datasets[u];Object.assign(h,{dataElementType:hr.getElement(p),datasetElementType:f&&hr.getElement(f)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){rt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:v}=this.getDatasetMeta(f),_=!r&&a.indexOf(v)===-1;v.buildOrUpdateElements(_),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||rt(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(mR("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){rt(this.scales,e=>{sa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Ox(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:a}of t){const l=i==="_removeElements"?-a:a;OW(e,r,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let a=1;a<t;a++)if(!Ox(r,i(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;sa.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],rt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Ea(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qr.has(this)?this.attached&&!Qr.running(this)&&Qr.start(this):(this.draw(),yR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,a;for(r=0,a=t.length;r<a;++r){const l=t[r];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,r=!i.disabled,a=jW(e,this.chartArea),l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(r&&p0(t,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?this.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?this.height:a.bottom+i.bottom}),e.controller.draw(),r&&m0(t),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return Gk(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const a=N8.modes[t];return typeof a=="function"?a(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(a=>a&&a._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=mc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,r);Yg(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Qr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Fx(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ig[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},r=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};rt(this.options.events,a=>i(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,f)=>{t.addEventListener(this,h,f),e[h]=f},r=(h,f)=>{e[h]&&(t.removeEventListener(this,h,f),delete e[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){rt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},rt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let a,l,u,h;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!Gg(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,a=(h,f)=>h.filter(p=>!f.some(v=>p.datasetIndex===v.datasetIndex&&p.index===v.index)),l=a(t,e),u=i?e:a(e,t);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const a=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(a||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:a}=this,l=t,u=this._getActiveElements(e,r,i,l),h=pq(e),f=PW(e,this._lastEvent,i,h);i&&(this._lastEvent=null,gt(a.onHover,[e,u,this],this),h&&gt(a.onClick,[e,u,this],this));const p=!Gg(u,r);return(p||t)&&(this._active=u,this._updateHoverStyles(u,r,t)),this._lastEvent=f,p}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,r)}},Le(Qs,"defaults",Ot),Le(Qs,"instances",ig),Le(Qs,"overrides",Do),Le(Qs,"registry",hr),Le(Qs,"version",kW),Le(Qs,"getChart",vR),Qs);function _R(){return rt(Hp.instances,n=>n._plugins.invalidate())}function LW(n,e,t){const{startAngle:i,pixelMargin:r,x:a,y:l,outerRadius:u,innerRadius:h}=e;let f=r/u;n.beginPath(),n.arc(a,l,u,i-f,t+f),h>r?(f=r/h,n.arc(a,l,h,t+f,i-f,!0)):n.arc(a,l,r,t+$t,i-$t),n.closePath(),n.clip()}function VW(n){return y0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function UW(n,e,t,i){const r=VW(n.options.borderRadius),a=(t-e)/2,l=Math.min(a,i*e/2),u=h=>{const f=(t-Math.min(a,h))*i/2;return wi(h,0,Math.min(a,f))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:wi(r.innerStart,0,l),innerEnd:wi(r.innerEnd,0,l)}}function Nl(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function tp(n,e,t,i,r,a){const{x:l,y:u,startAngle:h,pixelMargin:f,innerRadius:p}=e,v=Math.max(e.outerRadius+i+t-f,0),_=p>0?p+i+t+f:0;let b=0;const S=r-h;if(i){const Ee=p>0?p-i:0,le=v>0?v-i:0,de=(Ee+le)/2,fe=de!==0?S*de/(de+i):S;b=(S-fe)/2}const R=Math.max(.001,S*v-t/an)/v,T=(S-R)/2,C=h+T+b,P=r-T-b,{outerStart:B,outerEnd:G,innerStart:X,innerEnd:ne}=UW(e,_,v,P-C),O=v-B,I=v-G,k=C+B/O,M=P-G/I,V=_+X,H=_+ne,j=C+X/V,ke=P-ne/H;if(n.beginPath(),a){const Ee=(k+M)/2;if(n.arc(l,u,v,k,Ee),n.arc(l,u,v,Ee,M),G>0){const Se=Nl(I,M,l,u);n.arc(Se.x,Se.y,G,M,P+$t)}const le=Nl(H,P,l,u);if(n.lineTo(le.x,le.y),ne>0){const Se=Nl(H,ke,l,u);n.arc(Se.x,Se.y,ne,P+$t,ke+Math.PI)}const de=(P-ne/_+(C+X/_))/2;if(n.arc(l,u,_,P-ne/_,de,!0),n.arc(l,u,_,de,C+X/_,!0),X>0){const Se=Nl(V,j,l,u);n.arc(Se.x,Se.y,X,j+Math.PI,C-$t)}const fe=Nl(O,C,l,u);if(n.lineTo(fe.x,fe.y),B>0){const Se=Nl(O,k,l,u);n.arc(Se.x,Se.y,B,C-$t,k)}}else{n.moveTo(l,u);const Ee=Math.cos(k)*v+l,le=Math.sin(k)*v+u;n.lineTo(Ee,le);const de=Math.cos(M)*v+l,fe=Math.sin(M)*v+u;n.lineTo(de,fe)}n.closePath()}function zW(n,e,t,i,r){const{fullCircles:a,startAngle:l,circumference:u}=e;let h=e.endAngle;if(a){tp(n,e,t,i,h,r);for(let f=0;f<a;++f)n.fill();isNaN(u)||(h=l+(u%zt||zt))}return tp(n,e,t,i,h,r),n.fill(),h}function BW(n,e,t,i,r){const{fullCircles:a,startAngle:l,circumference:u,options:h}=e,{borderWidth:f,borderJoinStyle:p,borderDash:v,borderDashOffset:_}=h,b=h.borderAlign==="inner";if(!f)return;n.setLineDash(v||[]),n.lineDashOffset=_,b?(n.lineWidth=f*2,n.lineJoin=p||"round"):(n.lineWidth=f,n.lineJoin=p||"bevel");let S=e.endAngle;if(a){tp(n,e,t,i,S,r);for(let R=0;R<a;++R)n.stroke();isNaN(u)||(S=l+(u%zt||zt))}b&&LW(n,e,S),a||(tp(n,e,t,i,S,r),n.stroke())}class Fu extends Io{constructor(t){super();Le(this,"circumference");Le(this,"endAngle");Le(this,"fullCircles");Le(this,"innerRadius");Le(this,"outerRadius");Le(this,"pixelMargin");Le(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,r){const a=this.getProps(["x","y"],r),{angle:l,distance:u}=Uk(a,{x:t,y:i}),{startAngle:h,endAngle:f,innerRadius:p,outerRadius:v,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),b=(this.options.spacing+this.options.borderWidth)/2,S=st(_,f-h),R=Xg(l,h,f)&&h!==f,T=S>=zt||R,C=zu(u,p+b,v+b);return T&&C}getCenterPoint(t){const{x:i,y:r,startAngle:a,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:p}=this.options,v=(a+l)/2,_=(u+h+p+f)/2;return{x:i+Math.cos(v)*_,y:r+Math.sin(v)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:r}=this,a=(i.offset||0)/4,l=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>zt?Math.floor(r/zt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*a,Math.sin(h)*a);const f=1-Math.sin(Math.min(an,r||0)),p=a*f;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,zW(t,this,p,l,u),BW(t,this,p,l,u),t.restore()}}Le(Fu,"id","arc"),Le(Fu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Le(Fu,"defaultRoutes",{backgroundColor:"backgroundColor"}),Le(Fu,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});const bR=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},HW=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class ER extends Io{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=gt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Wn(i.font),a=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=bR(i,a);let f,p;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,u,h)+10):(p=this.maxHeight,f=this._fitCols(l,r,u,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+u;let v=e;a.textAlign="left",a.textBaseline="middle";let _=-1,b=-p;return this.legendItems.forEach((S,R)=>{const T=i+t/2+a.measureText(S.text).width;(R===0||f[f.length-1]+T+2*u>l)&&(v+=p,f[f.length-(R>0?0:1)]=0,b+=p,_++),h[R]={left:0,top:b,row:_,width:T,height:r},f[f.length-1]+=T+u}),v}_fitCols(e,t,i,r){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-e;let v=u,_=0,b=0,S=0,R=0;return this.legendItems.forEach((T,C)=>{const{itemWidth:P,itemHeight:B}=FW(i,t,a,T,r);C>0&&b+B+2*u>p&&(v+=_+u,f.push({width:_,height:b}),S+=_+u,R++,_=b=0),h[C]={left:S,top:b,col:R,width:P,height:B},_=Math.max(_,P),b+=B+u}),v+=_,f.push({width:_,height:b}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:a}}=this,l=Gl(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=ei(i,this.left+r,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,h=ei(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+e+r,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+r}else{let u=0,h=ei(i,this.top+e+r,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,h=ei(i,this.top+e+r,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+r,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;p0(e,this),this._draw(),m0(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:a,labels:l}=e,u=Ot.color,h=Gl(e.rtl,this.left,this.width),f=Wn(l.font),{padding:p}=l,v=f.size,_=v/2;let b;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:S,boxHeight:R,itemHeight:T}=bR(l,v),C=function(ne,O,I){if(isNaN(S)||S<=0||isNaN(R)||R<0)return;r.save();const k=st(I.lineWidth,1);if(r.fillStyle=st(I.fillStyle,u),r.lineCap=st(I.lineCap,"butt"),r.lineDashOffset=st(I.lineDashOffset,0),r.lineJoin=st(I.lineJoin,"miter"),r.lineWidth=k,r.strokeStyle=st(I.strokeStyle,u),r.setLineDash(st(I.lineDash,[])),l.usePointStyle){const M={radius:R*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:k},V=h.xPlus(ne,S/2),H=O+_;Wk(r,M,V,H,l.pointStyleWidth&&S)}else{const M=O+Math.max((v-R)/2,0),V=h.leftForLtr(ne,S),H=sh(I.borderRadius);r.beginPath(),Object.values(H).some(j=>j!==0)?C_(r,{x:V,y:M,w:S,h:R,radius:H}):r.rect(V,M,S,R),r.fill(),k!==0&&r.stroke()}r.restore()},P=function(ne,O,I){Zg(r,I.text,ne,O+T/2,f,{strikethrough:I.hidden,textAlign:h.textAlign(I.textAlign)})},B=this.isHorizontal(),G=this._computeTitleHeight();B?b={x:ei(a,this.left+p,this.right-i[0]),y:this.top+p+G,line:0}:b={x:this.left+p,y:ei(a,this.top+G+p,this.bottom-t[0].height),line:0},Xk(this.ctx,e.textDirection);const X=T+p;this.legendItems.forEach((ne,O)=>{r.strokeStyle=ne.fontColor,r.fillStyle=ne.fontColor;const I=r.measureText(ne.text).width,k=h.textAlign(ne.textAlign||(ne.textAlign=l.textAlign)),M=S+_+I;let V=b.x,H=b.y;h.setWidth(this.width),B?O>0&&V+M+p>this.right&&(H=b.y+=X,b.line++,V=b.x=ei(a,this.left+p,this.right-i[b.line])):O>0&&H+X>this.bottom&&(V=b.x=V+t[b.line].width+p,b.line++,H=b.y=ei(a,this.top+G+p,this.bottom-t[b.line].height));const j=h.x(V);if(C(j,H,ne),V=Rq(k,V+S+_,B?V+M:this.right,e.rtl),P(h.x(V),H,ne),B)b.x+=M+p;else if(typeof ne.text!="string"){const ke=f.lineHeight;b.y+=uN(ne,ke)+p}else b.y+=X}),Zk(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Wn(t.font),r=zi(t.padding);if(!t.display)return;const a=Gl(e.rtl,this.left,this.width),l=this.ctx,u=t.position,h=i.size/2,f=r.top+h;let p,v=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,v=ei(e.align,v,this.right-_);else{const S=this.columnSizes.reduce((R,T)=>Math.max(R,T.height),0);p=f+ei(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const b=ei(u,v,v+_);l.textAlign=a.textAlign(Fk(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=i.string,Zg(l,t.text,b,p,i)}_computeTitleHeight(){const e=this.options.title,t=Wn(e.font),i=zi(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,a;if(zu(e,this.left,this.right)&&zu(t,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(r=a[i],zu(e,r.left,r.left+r.width)&&zu(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!GW(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,a=HW(r,i);r&&!a&&gt(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!a&&gt(t.onHover,[e,i,this],this)}else i&&gt(t.onClick,[e,i,this],this)}}function FW(n,e,t,i,r){const a=qW(i,n,e,t),l=WW(r,i,e.lineHeight);return{itemWidth:a,itemHeight:l}}function qW(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+i.measureText(r).width}function WW(n,e,t){let i=n;return typeof e.text!="string"&&(i=uN(e,t)),i}function uN(n,e){const t=n.text?n.text.length:0;return e*t}function GW(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var $W={id:"legend",_element:ER,start(n,e,t){const i=n.legend=new ER({ctx:n.ctx,options:t,chart:n});sa.configure(n,i,t),sa.addBox(n,i)},stop(n){sa.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;sa.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(t?0:void 0),p=zi(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const qu={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,a=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),r+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:r/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=bq(e,f);p<r&&(r=p,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function ur(n,e){return e&&(pn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Kr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function YW(n,e){const{element:t,datasetIndex:i,index:r}=e,a=n.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(r);return{chart:n,label:l,parsed:a.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function wR(n,e){const t=n.chart.ctx,{body:i,footer:r,title:a}=n,{boxWidth:l,boxHeight:u}=e,h=Wn(e.bodyFont),f=Wn(e.titleFont),p=Wn(e.footerFont),v=a.length,_=r.length,b=i.length,S=zi(e.padding);let R=S.height,T=0,C=i.reduce((G,X)=>G+X.before.length+X.lines.length+X.after.length,0);if(C+=n.beforeBody.length+n.afterBody.length,v&&(R+=v*f.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),C){const G=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;R+=b*G+(C-b)*h.lineHeight+(C-1)*e.bodySpacing}_&&(R+=e.footerMarginTop+_*p.lineHeight+(_-1)*e.footerSpacing);let P=0;const B=function(G){T=Math.max(T,t.measureText(G).width+P)};return t.save(),t.font=f.string,rt(n.title,B),t.font=h.string,rt(n.beforeBody.concat(n.afterBody),B),P=e.displayColors?l+2+e.boxPadding:0,rt(i,G=>{rt(G.before,B),rt(G.lines,B),rt(G.after,B)}),P=0,t.font=p.string,rt(n.footer,B),t.restore(),T+=S.width,{width:T,height:R}}function QW(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function KW(n,e,t,i){const{x:r,width:a}=i,l=t.caretSize+t.caretPadding;if(n==="left"&&r+a+l>e.width||n==="right"&&r-a-l<0)return!0}function XW(n,e,t,i){const{x:r,width:a}=t,{width:l,chartArea:{left:u,right:h}}=n;let f="center";return i==="center"?f=r<=(u+h)/2?"left":"right":r<=a/2?f="left":r>=l-a/2&&(f="right"),KW(f,n,e,t)&&(f="center"),f}function AR(n,e,t){const i=t.yAlign||e.yAlign||QW(n,t);return{xAlign:t.xAlign||e.xAlign||XW(n,e,t,i),yAlign:i}}function ZW(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function JW(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function SR(n,e,t,i){const{caretSize:r,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:h}=t,f=r+a,{topLeft:p,topRight:v,bottomLeft:_,bottomRight:b}=sh(l);let S=ZW(e,u);const R=JW(e,h,f);return h==="center"?u==="left"?S+=f:u==="right"&&(S-=f):u==="left"?S-=Math.max(p,_)+r:u==="right"&&(S+=Math.max(v,b)+r),{x:wi(S,0,i.width-e.width),y:wi(R,0,i.height-e.height)}}function Lf(n,e,t){const i=zi(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function TR(n){return ur([],Kr(n))}function eG(n,e,t){return mc(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function xR(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const hN={beforeTitle:Yr,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Yr,beforeBody:Yr,beforeLabel:Yr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Cn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Yr,afterBody:Yr,beforeFooter:Yr,footer:Yr,afterFooter:Yr};function Un(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?hN[e].call(t,i):r}class k_ extends Io{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,a=new Jk(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=eG(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Un(i,"beforeTitle",this,e),a=Un(i,"title",this,e),l=Un(i,"afterTitle",this,e);let u=[];return u=ur(u,Kr(r)),u=ur(u,Kr(a)),u=ur(u,Kr(l)),u}getBeforeBody(e,t){return TR(Un(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return rt(e,a=>{const l={before:[],lines:[],after:[]},u=xR(i,a);ur(l.before,Kr(Un(u,"beforeLabel",this,a))),ur(l.lines,Un(u,"label",this,a)),ur(l.after,Kr(Un(u,"afterLabel",this,a))),r.push(l)}),r}getAfterBody(e,t){return TR(Un(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Un(i,"beforeFooter",this,e),a=Un(i,"footer",this,e),l=Un(i,"afterFooter",this,e);let u=[];return u=ur(u,Kr(r)),u=ur(u,Kr(a)),u=ur(u,Kr(l)),u}_createItems(e){const t=this._active,i=this.chart.data,r=[],a=[],l=[];let u=[],h,f;for(h=0,f=t.length;h<f;++h)u.push(YW(this.chart,t[h]));return e.filter&&(u=u.filter((p,v,_)=>e.filter(p,v,_,i))),e.itemSort&&(u=u.sort((p,v)=>e.itemSort(p,v,i))),rt(u,p=>{const v=xR(e.callbacks,p);r.push(Un(v,"labelColor",this,p)),a.push(Un(v,"labelPointStyle",this,p)),l.push(Un(v,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let a,l=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const u=qu[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=wR(this,i),f=Object.assign({},u,h),p=AR(this.chart,i,f),v=SR(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const a=this.getCaretPosition(e,i,r);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:v}=sh(u),{x:_,y:b}=e,{width:S,height:R}=t;let T,C,P,B,G,X;return a==="center"?(G=b+R/2,r==="left"?(T=_,C=T-l,B=G+l,X=G-l):(T=_+S,C=T+l,B=G-l,X=G+l),P=T):(r==="left"?C=_+Math.max(h,p)+l:r==="right"?C=_+S-Math.max(f,v)-l:C=this.caretX,a==="top"?(B=b,G=B-l,T=C-l,P=C+l):(B=b+R,G=B+l,T=C+l,P=C-l),X=B),{x1:T,x2:C,x3:P,y1:B,y2:G,y3:X}}drawTitle(e,t,i){const r=this.title,a=r.length;let l,u,h;if(a){const f=Gl(i.rtl,this.x,this.width);for(e.x=Lf(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",l=Wn(i.titleFont),u=i.titleSpacing,t.fillStyle=i.titleColor,t.font=l.string,h=0;h<a;++h)t.fillText(r[h],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===a&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,t,i,r,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,p=Wn(a.bodyFont),v=Lf(this,"left",a),_=r.x(v),b=h<p.lineHeight?(p.lineHeight-h)/2:0,S=t.y+b;if(a.usePointStyle){const R={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},T=r.leftForLtr(_,f)+f/2,C=S+h/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,qx(e,R,T,C),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,qx(e,R,T,C)}else{e.lineWidth=Ze(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const R=r.leftForLtr(_,f),T=r.leftForLtr(r.xPlus(_,1),f-2),C=sh(l.borderRadius);Object.values(C).some(P=>P!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,C_(e,{x:R,y:S,w:f,h,radius:C}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),C_(e,{x:T,y:S+1,w:f-2,h:h-2,radius:C}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(R,S,f,h),e.strokeRect(R,S,f,h),e.fillStyle=l.backgroundColor,e.fillRect(T,S+1,f-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:p}=i,v=Wn(i.bodyFont);let _=v.lineHeight,b=0;const S=Gl(i.rtl,this.x,this.width),R=function(I){t.fillText(I,S.x(e.x+b),e.y+_/2),e.y+=_+a},T=S.textAlign(l);let C,P,B,G,X,ne,O;for(t.textAlign=l,t.textBaseline="middle",t.font=v.string,e.x=Lf(this,T,i),t.fillStyle=i.bodyColor,rt(this.beforeBody,R),b=u&&T!=="right"?l==="center"?f/2+p:f+2+p:0,G=0,ne=r.length;G<ne;++G){for(C=r[G],P=this.labelTextColors[G],t.fillStyle=P,rt(C.before,R),B=C.lines,u&&B.length&&(this._drawColorBox(t,e,G,S,i),_=Math.max(v.lineHeight,h)),X=0,O=B.length;X<O;++X)R(B[X]),_=v.lineHeight;rt(C.after,R)}b=0,_=v.lineHeight,rt(this.afterBody,R),e.y-=a}drawFooter(e,t,i){const r=this.footer,a=r.length;let l,u;if(a){const h=Gl(i.rtl,this.x,this.width);for(e.x=Lf(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",l=Wn(i.footerFont),t.fillStyle=i.footerColor,t.font=l.string,u=0;u<a;++u)t.fillText(r[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=e,{width:f,height:p}=i,{topLeft:v,topRight:_,bottomLeft:b,bottomRight:S}=sh(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(u+v,h),l==="top"&&this.drawCaret(e,t,i,r),t.lineTo(u+f-_,h),t.quadraticCurveTo(u+f,h,u+f,h+_),l==="center"&&a==="right"&&this.drawCaret(e,t,i,r),t.lineTo(u+f,h+p-S),t.quadraticCurveTo(u+f,h+p,u+f-S,h+p),l==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(u+b,h+p),t.quadraticCurveTo(u,h+p,u,h+p-b),l==="center"&&a==="left"&&this.drawCaret(e,t,i,r),t.lineTo(u,h+v),t.quadraticCurveTo(u,h,u+v,h),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,a=i&&i.y;if(r||a){const l=qu[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=wR(this,e),h=Object.assign({},l,this._size),f=AR(t,e,h),p=SR(e,h,f,t);(r._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=zi(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,r,t),Xk(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Zk(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),a=!Gg(i,r),l=this._positionChanged(r,t);(a||l)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,i),u=this._positionChanged(l,e),h=t||!Gg(l,a)||u;return h&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,r){const a=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:i,caretY:r,options:a}=this,l=qu[a.position].call(this,e,t);return l!==!1&&(i!==l.x||r!==l.y)}}Le(k_,"positioners",qu);var tG={id:"tooltip",_element:k_,positioners:qu,afterInit(n,e,t){t&&(n.tooltip=new k_({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:hN},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Fp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fn=Object.keys(Fp);function RR(n,e){return n-e}function CR(n,e){if(Cn(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:a}=n._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),hs(l)||(l=typeof i=="string"?t.parse(l,i):t.parse(l)),l===null?null:(r&&(l=r==="week"&&(Kg(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,r)),+l)}function DR(n,e,t,i){const r=Fn.length;for(let a=Fn.indexOf(n);a<r-1;++a){const l=Fp[Fn[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=i)return Fn[a]}return Fn[r-1]}function nG(n,e,t,i,r){for(let a=Fn.length-1;a>=Fn.indexOf(t);a--){const l=Fn[a];if(Fp[l].common&&n._adapter.diff(r,i,l)>=e-1)return l}return Fn[t?Fn.indexOf(t):0]}function iG(n){for(let e=Fn.indexOf(n)+1,t=Fn.length;e<t;++e)if(Fp[Fn[e]].common)return Fn[e]}function IR(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=g0(t,e),a=t[i]>=e?t[i]:t[r];n[a]=!0}}function rG(n,e,t,i){const r=n._adapter,a=+r.startOf(e[0].value,i),l=e[e.length-1].value;let u,h;for(u=a;u<=l;u=+r.add(u,1,i))h=t[u],h>=0&&(e[h].major=!0);return e}function kR(n,e,t){const i=[],r={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],r[u]=l,i.push({value:u,major:!1});return a===0||!t?i:rG(n,i,r,t)}class np extends Bp{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new R8._date(e.adapters.date);r.init(t),nh(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:CR(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=hs(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),a=hs(a)&&!isNaN(a)?a:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,l=this.max,u=Aq(r,a,l);return this._unit=t.unit||(i.autoSkip?DR(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):nG(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:iG(this._unit),this.initOffsets(r),e.reverse&&u.reverse(),kR(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,a;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=wi(t,0,l),i=wi(i,0,l),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,a=r.time,l=a.unit||DR(a.minUnit,t,i,this._getLabelCapacity(t)),u=st(r.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=Kg(h)||h===!0,p={};let v=t,_,b;if(f&&(v=+e.startOf(v,"isoWeek",h)),v=+e.startOf(v,f?"day":l),e.diff(i,t,l)>1e5*u)throw new Error(t+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=r.ticks.source==="data"&&this.getDataTimestamps();for(_=v,b=0;_<i;_=+e.add(_,u,l),b++)IR(p,_,S);return(_===i||r.bounds==="ticks"||b===1)&&IR(p,_,S),Object.keys(p).sort(RR).map(R=>+R)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,a=this._unit,l=t||r[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,i,r){const a=this.options,l=a.ticks.callback;if(l)return gt(l,[e,t,i],this);const u=a.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&u[h],v=f&&u[f],_=i[t],b=f&&v&&_&&_.major;return this._adapter.format(e,r||(b?v:p))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=vo(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,a=this._tickFormatFunction(e,0,kR(this,[e],this._majorUnit),r),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(CR(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Tq(e.sort(RR))}}Le(np,"id","time"),Le(np,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Vf(n,e,t){let i=0,r=n.length-1,a,l,u,h;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=x_(n,"pos",e)),{pos:a,time:u}=n[i],{pos:l,time:h}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=x_(n,"time",e)),{time:a,pos:u}=n[i],{time:l,pos:h}=n[r]);const f=l-a;return f?u+(h-u)*(e-a)/f:u}class NR extends np{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Vf(t,this.min),this._tableRange=Vf(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],a=[];let l,u,h,f,p;for(l=0,u=e.length;l<u;++l)f=e[l],f>=t&&f<=i&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)p=r[l+1],h=r[l-1],f=r[l],Math.round((p+h)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,a)=>r-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Vf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Vf(this._table,i*this._tableRange+this._minPos,!0)}}Le(NR,"id","timeseries"),Le(NR,"defaults",np.defaults);const dN="label";function MR(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function sG(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function fN(n,e){n.labels=e}function gN(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dN;const i=[];n.datasets=e.map(r=>{const a=n.datasets.find(l=>l[t]===r[t]);return!a||!r.data||i.includes(a)?{...r}:(i.push(a),Object.assign(a,r),a)})}function aG(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dN;const t={labels:[],datasets:[]};return fN(t,n.labels),gN(t,n.datasets,e),t}function oG(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:f=[],fallbackContent:p,updateMode:v,..._}=n,b=z.useRef(null),S=z.useRef(null),R=()=>{b.current&&(S.current=new Hp(b.current,{type:l,data:aG(u,a),options:h&&{...h},plugins:f}),MR(e,S.current))},T=()=>{MR(e,null),S.current&&(S.current.destroy(),S.current=null)};return z.useEffect(()=>{!r&&S.current&&h&&sG(S.current,h)},[r,h]),z.useEffect(()=>{!r&&S.current&&fN(S.current.config.data,u.labels)},[r,u.labels]),z.useEffect(()=>{!r&&S.current&&u.datasets&&gN(S.current.config.data,u.datasets,a)},[r,u.datasets]),z.useEffect(()=>{S.current&&(r?(T(),setTimeout(R)):S.current.update(v))},[r,h,u.labels,u.datasets,v]),z.useEffect(()=>{S.current&&(T(),setTimeout(R))},[l]),z.useEffect(()=>(R(),()=>T()),[]),Ai.createElement("canvas",{ref:b,role:"img",height:t,width:i,..._},p)}const lG=z.forwardRef(oG);function cG(n,e){return Hp.register(e),z.forwardRef((t,i)=>Ai.createElement(lG,{...t,ref:i,type:n}))}const ku=cG("doughnut",Bu);Hp.register(Fu,tG,$W);const Nu={responzive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},Uf=(n,e,t)=>({datasets:[{data:[n,Math.max(e-n,0)],backgroundColor:[t,"#E5E5E5"],borderWidth:0,cutout:"80%"}]}),uG=({data:n})=>{const{currentKcal:e,goalKcal:t,protein:i,carbs:r,fat:a,fiber:l,fluid:u,burned:h}=n,f=(R,T)=>T>0?Math.min((R/T*100).toFixed(0),100):0,p=f(i.current,i.goal),v=f(r.current,r.goal),_=f(a.current,a.goal),b=f(l.current,l.goal),S={datasets:[{data:[e,Math.max(t-e,0)],backgroundColor:["#F7941D","#E5E5E5"],borderWidth:0,cutout:"80%"}]};return w.jsxs("div",{className:"p-4",children:[w.jsxs("div",{className:"relative w-40 h-40 mx-auto",children:[w.jsx(ku,{data:S,options:Nu}),w.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[w.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:[e," kcal"]}),w.jsxs("div",{className:"text-sm text-gray-500",children:["z ",t," kcal"]})]})]}),w.jsxs("div",{className:"flex justify-around mt-6",children:[w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(ku,{data:Uf(i.current,i.goal,"#69C267"),options:Nu}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[p,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Bielkoviny"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[i.current," g z ",i.goal," g"]})]}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(ku,{data:Uf(r.current,r.goal,"#F7941D"),options:Nu}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[v,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Sacharidy"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[r.current," g z ",r.goal," g"]})]}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(ku,{data:Uf(a.current,a.goal,"#F16664"),options:Nu}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[_,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Tuky"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[a.current," g z ",a.goal," g"]})]}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative w-12 h-12",children:[w.jsx(ku,{data:Uf(l.current,l.goal,"#8E8E93"),options:Nu}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[b,"%"]})})]}),w.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Vláknina"}),w.jsxs("div",{className:"text-xs text-gray-700",children:[l.current," g z ",l.goal," g"]})]})]}),w.jsxs("div",{className:"mt-4 text-center text-sm text-gray-700",children:[w.jsxs("p",{children:["Tekutiny: ",u.current," l z ",u.goal," l"]}),w.jsxs("p",{children:["Spálené: ",h," kcal"]})]})]})},hG=({selectedDate:n,overviewData:e,eventsForDay:t,onDeleteEvent:i})=>w.jsx("div",{className:"w-full lg:w-3/3 bg-white rounded-lg shadow p-4",children:n&&e?w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-bold text-green-700 mb-3",children:n}),w.jsx(uG,{data:e}),w.jsxs("div",{className:"mt-4",children:[w.jsx("h3",{className:"text-lg font-semibold text-green-600 mb-2",children:"Jedlá dňa"}),w.jsx("ul",{className:"space-y-2 text-sm",children:t.map((r,a)=>w.jsxs("li",{className:"p-2 bg-green-100 rounded shadow border-l-4 border-green-500",children:[r.title,w.jsx("button",{onClick:()=>i(r.id),className:"bg-red-500 text-white px-2 py-1 ml-5 rounded hover:bg-red-600",children:"Zmazať"})]},a))})]})]}):w.jsx("div",{className:"text-gray-500 text-center",children:"Kliknite na deň v kalendári pre zobrazenie detailov."})}),dG=({selectedDate:n,onAddFood:e})=>{const[t,i]=z.useState(""),{savedFoods:r}=rp(),[a,l]=z.useState([]),u=z.useRef(null);z.useEffect(()=>{const v=_=>{u.current&&!u.current.contains(_.target)&&l([])};return document.addEventListener("click",v,!0),()=>{document.removeEventListener("click",v,!0)}},[]);const h=v=>{const _=v.target.value;if(i(_),_.trim().length>0){const b=r.filter(S=>S.foodName.toLowerCase().includes(_.toLowerCase()));l(b)}else l([])},f=v=>{const _={title:v.foodName,start:n,extendedProps:{kcal:v.kcal,protein:v.protein,fat:v.fat,carbs:v.carbs,fiber:v.fiber}};e(_),i(""),l([])},p=v=>{if(v.preventDefault(),!t||!n)return;const _=r.find(S=>S.foodName.toLowerCase()===t.toLowerCase()),b=_?{title:_.foodName,start:n,extendedProps:{kcal:_.kcal,protein:_.protein,fat:_.fat,carbs:_.carbs,fiber:_.fiber,fluid:_.fluid,burned:0}}:{title:t,start:n,extendedProps:{kcal:0,protein:0,fat:0,carbs:0,fiber:0,fluid:0,burned:0}};e(b),i(""),l([])};return w.jsxs("form",{onSubmit:p,className:"p-4 bg-white rounded-lg shadow mb-4",children:[w.jsx("h3",{className:"text-lg font-bold text-green-700 mb-2",children:"Pridať jedlo"}),w.jsxs("div",{className:"mb-2 relative",ref:u,children:[w.jsx("label",{className:"block text-gray-700",children:"Názov jedla:"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"text",value:t,onChange:h,className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Zadaj názov jedla"}),a.length>0&&w.jsx("ul",{className:"absolute top-full left-0 z-10 w-full bg-white border border-gray-300 rounded-lg mt-1 max-h-40 overflow-y-auto shadow-lg",children:a.map(v=>w.jsx("li",{onClick:()=>f(v),className:"px-4 py-2 border-b border-gray-200 last:border-0 rounded hover:bg-green-200 hover:text-green-900 transition-colors duration-200 cursor-pointer",children:v.foodName},v.id))})]})]}),w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Pridať"})]})},fG=({selectedDate:n,onAddFluid:e})=>{const[t,i]=z.useState(""),r=a=>{a.preventDefault(),t&&(e(Number(t)),i(""))};return w.jsxs("form",{onSubmit:r,className:"p-4 bg-white rounded-lg shadow mb-4",children:[w.jsx("h3",{className:"text-lg font-bold text-blue-700 mb-2",children:"Pridať tekutiny"}),w.jsxs("div",{className:"mb-2",children:[w.jsx("label",{className:"block text-gray-700",children:"Množstvo (l):"}),w.jsx("input",{type:"number",value:t,onChange:a=>i(a.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Zadaj množstvo v litroch"})]}),w.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Pridať tekutiny"})]})},OR=()=>{const{nutritionGoal:n}=rp(),e=[{title:"Raňajky: Ovsená kaša",start:"2025-09-01",extendedProps:{kcal:350,protein:10,fat:5,carbs:60,fiber:5,fluid:.2,burned:0}},{title:"Obed: Grilované kuracie prsia",start:"2025-09-01",extendedProps:{kcal:500,protein:30,fat:15,carbs:40,fiber:2,fluid:.3,burned:0}},{title:"Večera: Zeleninový šalát",start:"2025-09-01",extendedProps:{kcal:400,protein:15,fat:10,carbs:50,fiber:4,fluid:.2,burned:0}},{title:"Beh 30 minút",start:"2025-09-01",extendedProps:{kcal:-100,protein:0,fat:0,carbs:0,fiber:0,fluid:0,burned:100}},{title:"Raňajky: Jogurt s ovocím",start:"2025-02-25",extendedProps:{kcal:300,protein:12,fat:8,carbs:45,fiber:3,fluid:.2,burned:0}}],[t,i]=z.useState(e),[r,a]=z.useState(null),[l,u]=z.useState(null),[h,f]=z.useState({});z.useEffect(()=>{(async()=>{const C=Tn.currentUser;if(C)try{const P=Dg(mo(zn,"calendarEvents"),Ig("userId","==",C.uid)),G=(await kg(P)).docs.map(X=>({id:X.id,...X.data()}));i(G)}catch(P){console.error("Chyba pri načítaní udalostí:",P)}})()},[]),z.useEffect(()=>{if(r){const T=t.filter(C=>C.start===r);p(T)}},[t,r,h]);const p=T=>{let C=0,P=0,B=0,G=0,X=0,ne=0;T.forEach(k=>{const{kcal:M,protein:V,fat:H,carbs:j,fiber:ke,burned:Ee}=k.extendedProps;C+=M,P+=V,B+=H,G+=j,X+=ke,ne+=Ee});const O=h[r]||0,I={currentKcal:Math.max(C,0),goalKcal:(n==null?void 0:n.dailyCalories)||1500,protein:{current:P,goal:(n==null?void 0:n.proteinGrams)||79},carbs:{current:G,goal:(n==null?void 0:n.carbsGrams)||192},fat:{current:B,goal:(n==null?void 0:n.fatGrams)||43},fiber:{current:X,goal:(n==null?void 0:n.fiber)||28},fluid:{current:O,goal:(n==null?void 0:n.fluid)||3},burned:ne};u(I)},v=T=>{a(T.dateStr)},_=async T=>{const C=Tn.currentUser;if(!C){console.error("Používateľ nie je prihlásený");return}try{const P=await h_(mo(zn,"calendarEvents"),{...T,userId:C.uid,createdAt:new Date,userName:C.displayName});T.id=P.id,i(B=>[...B,T])}catch(P){console.error("Chyba pri pridávaní udalosti:",P)}},b=async T=>{try{await u_(Js(zn,"calendarEvents",T)),i(C=>C.filter(P=>P.id!==T))}catch(C){console.error("Chyba pri mazaní udalosti:",C)}},S=(T,C)=>{f(P=>({...P,[T]:(P[T]||0)+C}))},R=r?t.filter(T=>T.start===r):[];return w.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4",children:[w.jsx(z7,{events:t,onDateClick:v}),w.jsxs("div",{className:"w-full lg:w-1/3",children:[r&&w.jsx(dG,{selectedDate:r,onAddFood:_}),r&&w.jsx(fG,{selectedDate:r,onAddFluid:T=>S(r,T)}),w.jsx(hG,{selectedDate:r,overviewData:l,eventsForDay:R,onDeleteEvent:b})]})]})},gG=()=>{const{pathname:n}=Hi();return z.useEffect(()=>{window.scrollTo(0,0)},[n]),null};function pG(){z.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")},[]);const[n,e]=z.useState(""),[t,i]=z.useState([]),[r,a]=z.useState(null),[l,u]=z.useState(!1),[h,f]=z.useState(!1),[p,v]=z.useState(""),_=wa(),b=Hi();z.useEffect(()=>{b.pathname==="/"&&f(!1)},[b.pathname]);const S=async()=>{_("/results"),e(""),u(!0),f(!0),v(n),setTimeout(async()=>{console.log(`Sending request to Nutritionix API: ${new Date().toISOString()}`);try{const R=`https://api.spoonacular.com/food/ingredients/search?query=${encodeURIComponent(n)}&number=10&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,T=await fetch(R);if(!T.ok)throw new Error(`Instant API HTTP error: ${T.status}`);const P=(await T.json()).results||[],B=await Promise.all(P.map(async G=>{var V;const X=`https://api.spoonacular.com/food/ingredients/${G.id}/information?amount=100&unit=grams&apiKey=754f9a46c0ad4352ae5c6f854535a2dc`,ne=await fetch(X);if(!ne.ok){const H=await ne.text();return console.error("Nutrients fetch error:",ne.status,H),{...G,nutrition:null}}const I=((V=(await ne.json()).nutrition)==null?void 0:V.nutrients)||[],k=H=>{const j=I.find(ke=>ke.name.toLowerCase()===H.toLowerCase());return j?j.amount:0},M={servingSize:"100g",photo:{thumb:`https://spoonacular.com/cdn/ingredients_500x500/${G.image}`},nf_calories:k("Calories"),nf_total_fat:k("Fat"),nf_protein:k("Protein"),nf_total_carbohydrate:k("Carbohydrates")};return{...G,food_name:G.name,nutrition:M}}));i(B),a(null)}catch(R){console.error("Fetch error:",R),a(R),i([])}finally{u(!1)}},500)};return w.jsxs("div",{children:[w.jsx(fH,{}),w.jsx(gG,{}),w.jsxs(qO,{children:[w.jsx(wn,{path:"/register",element:w.jsx(wH,{})}),w.jsx(wn,{path:"/terms",element:w.jsx(DH,{})}),w.jsx(wn,{path:"/privacy",element:w.jsx(IH,{})}),w.jsx(wn,{path:"/verify-email",element:w.jsx(AH,{})}),w.jsx(wn,{path:"/login",element:w.jsx(CH,{})}),w.jsx(wn,{path:"/logout",element:w.jsx(RH,{})}),w.jsx(wn,{path:"/dashboard",element:w.jsxs(Tu,{children:[" ",w.jsx(xT,{})," "]})}),w.jsx(wn,{path:"/",element:w.jsxs(w.Fragment,{children:[w.jsx(gH,{}),w.jsx(pH,{query:n,setQuery:e,handleSearch:S,disabled:h}),w.jsx(vH,{}),w.jsx(EH,{})]})}),w.jsx(wn,{path:"/results",element:w.jsx(mH,{results:t,searchTerm:p,error:r,query:n,setQuery:e,handleSearch:S,isLoading:l})}),w.jsx(wn,{path:"/blog/:id",element:w.jsx(bH,{})}),w.jsxs(wn,{path:"/dashboard",element:w.jsxs(Tu,{children:[" ",w.jsx(xT,{})," "]}),children:[w.jsx(wn,{index:!0,element:w.jsx(OR,{})}),w.jsx(wn,{path:"calendar",element:w.jsxs(Tu,{children:[" ",w.jsx(OR,{})," "]})}),w.jsx(wn,{path:"my-foods",element:w.jsxs(Tu,{children:[" ",w.jsx(NH,{})," "]})}),w.jsx(wn,{path:"my-activites",element:w.jsxs(Tu,{children:[" ",w.jsx(xH,{})," "]})})]})]})]})}KM.createRoot(document.getElementById("root")).render(w.jsx(g2,{children:w.jsx(pG,{})}));
